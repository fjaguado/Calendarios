if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"!==n&&!ot.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(vt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return Z.call(e,t)>-1!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(wt)||[],function(t,n){e[n]=!0}),e}function a(){K.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),ot.ready()}function s(){this.expando=ot.expando+s.uid++}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(At,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Tt.test(n)?ot.parseJSON(n):n)}catch(i){}kt.set(t,e,n)}else n=void 0;return n}function c(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return ot.css(t,e,"")},u=s(),c=n&&n[3]||(ot.cssNumber[e]?"":"px"),l=(ot.cssNumber[e]||"px"!==c&&+u)&&jt.exec(ot.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,ot.style(t,e,l+c);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function l(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function f(t,e){for(var n=0,r=t.length;n<r;n++)Et.set(t[n],"globalEval",!e||Et.get(e[n],"globalEval"))}function p(t,e,n,r,i){for(var o,a,s,u,c,p,h=e.createDocumentFragment(),d=[],v=0,g=t.length;v<g;v++)if(o=t[v],o||0===o)if("object"===ot.type(o))ot.merge(d,o.nodeType?[o]:o);else if(Vt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(It.exec(o)||["",""])[1].toLowerCase(),u=Pt[s]||Pt._default,a.innerHTML=u[1]+ot.htmlPrefilter(o)+u[2],p=u[0];p--;)a=a.lastChild;ot.merge(d,a.childNodes),a=h.firstChild,a.textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",v=0;o=d[v++];)if(r&&ot.inArray(o,r)>-1)i&&i.push(o);else if(c=ot.contains(o.ownerDocument,o),a=l(h.appendChild(o),"script"),c&&f(a),n)for(p=0;o=a[p++];)_t.test(o.type||"")&&n.push(o);return h}function h(){return!0}function d(){return!1}function v(){try{return K.activeElement}catch(t){}}function g(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)g(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=d;else if(!i)return t;return 1===o&&(a=i,i=function(t){return ot().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,i,r,n)})}function m(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function $(t){var e=Bt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){var n,r,i,o,a,s,u,c;if(1===e.nodeType){if(Et.hasData(t)&&(o=Et.access(t),a=Et.set(e,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)ot.event.add(e,i,c[i][n])}kt.hasData(t)&&(s=kt.access(t),u=ot.extend({},s),kt.set(e,u))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Dt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(t,e,n,r){e=Y.apply([],e);var i,o,a,s,u,c,f=0,h=t.length,d=h-1,v=e[0],g=ot.isFunction(v);if(g||h>1&&"string"==typeof v&&!rt.checkClone&&Ut.test(v))return t.each(function(i){var o=t.eq(i);g&&(e[0]=v.call(this,i,o.html())),x(o,e,n,r)});if(h&&(i=p(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=ot.map(l(i,"script"),y),s=a.length;f<h;f++)u=i,f!==d&&(u=ot.clone(u,!0,!0),s&&ot.merge(a,l(u,"script"))),n.call(t[f],u,f);if(s)for(c=a[a.length-1].ownerDocument,ot.map(a,$),f=0;f<s;f++)u=a[f],_t.test(u.type||"")&&!Et.access(u,"globalEval")&&ot.contains(c,u)&&(u.src?ot._evalUrl&&ot._evalUrl(u.src):ot.globalEval(u.textContent.replace(zt,"")))}return t}function S(t,e,n){for(var r,i=e?ot.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ot.cleanData(l(r)),r.parentNode&&(n&&ot.contains(r.ownerDocument,r)&&f(l(r,"script")),r.parentNode.removeChild(r));return t}function C(t,e){var n=ot(e.createElement(t)).appendTo(e.body),r=ot.css(n[0],"display");return n.detach(),r}function E(t){var e=K,n=Gt[t];return n||(n=C(t,e),"none"!==n&&n||(Wt=(Wt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Wt[0].contentDocument,e.write(),e.close(),n=C(t,e),Wt.detach()),Gt[t]=n),n}function k(t,e,n){var r,i,o,a,s=t.style;return n=n||Jt(t),a=n?n.getPropertyValue(e)||n[e]:void 0,""!==a&&void 0!==a||ot.contains(t.ownerDocument,t)||(a=ot.style(t,e)),n&&!rt.pixelMarginRight()&&Kt.test(a)&&Qt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in re)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in re)return t}function O(t,e,n){var r=jt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function j(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ot.css(t,n+Nt[o],!0,i)),r?("content"===n&&(a-=ot.css(t,"padding"+Nt[o],!0,i)),"margin"!==n&&(a-=ot.css(t,"border"+Nt[o]+"Width",!0,i))):(a+=ot.css(t,"padding"+Nt[o],!0,i),"padding"!==n&&(a+=ot.css(t,"border"+Nt[o]+"Width",!0,i)));return a}function N(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Jt(t),a="border-box"===ot.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(i=k(t,e,o),(i<0||null==i)&&(i=t.style[e]),Kt.test(i))return i;r=a&&(rt.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+j(t,e,n||(a?"border":"content"),r,o)+"px"}function R(t,e){for(var n,r,i,o=[],a=0,s=t.length;a<s;a++)r=t[a],r.style&&(o[a]=Et.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Rt(r)&&(o[a]=Et.access(r,"olddisplay",E(r.nodeName)))):(i=Rt(r),"none"===n&&i||Et.set(r,"olddisplay",i?n:ot.css(r,"display"))));for(a=0;a<s;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function D(t,e,n,r,i){return new D.prototype.init(t,e,n,r,i)}function I(){return t.setTimeout(function(){ie=void 0}),ie=ot.now()}function _(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Nt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function P(t,e,n){for(var r,i=(M.tweeners[e]||[]).concat(M.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function V(t,e,n){var r,i,o,a,s,u,c,l,f=this,p={},h=t.style,d=t.nodeType&&Rt(t),v=Et.get(t,"fxshow");n.queue||(s=ot._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ot.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=ot.css(t,"display"),l="none"===c?Et.get(t,"olddisplay")||E(t.nodeName):c,"inline"===l&&"none"===ot.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],ae.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;d=!0}p[r]=v&&v[r]||ot.style(t,r)}else c=void 0;if(ot.isEmptyObject(p))"inline"===("none"===c?E(t.nodeName):c)&&(h.display=c);else{v?"hidden"in v&&(d=v.hidden):v=Et.access(t,"fxshow",{}),o&&(v.hidden=!d),d?ot(t).show():f.done(function(){ot(t).hide()}),f.done(function(){var e;Et.remove(t,"fxshow");for(e in p)ot.style(t,e,p[e])});for(r in p)a=P(d?v[r]:0,r,f),r in v||(v[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function F(t,e){var n,r,i,o,a;for(n in t)if(r=ot.camelCase(n),i=e[r],o=t[n],ot.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=ot.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function M(t,e,n){var r,i,o=0,a=M.prefilters.length,s=ot.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ie||I(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),o<1&&u?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||I(),duration:n.duration,tweens:[],createTween:function(e,n){var r=ot.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(F(l,c.opts.specialEasing);o<a;o++)if(r=M.prefilters[o].call(c,t,l,c.opts))return ot.isFunction(r.stop)&&(ot._queueHooks(c.elem,c.opts.queue).stop=ot.proxy(r.stop,r)),r;return ot.map(l,P,c),ot.isFunction(c.opts.start)&&c.opts.start.call(t,c),ot.fx.timer(ot.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(t){return t.getAttribute&&t.getAttribute("class")||""}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function H(t,e,n,r){function i(s){var u;return o[s]=!0,ot.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=t===ke;return i(e.dataTypes[0])||!o["*"]&&i("*")}function U(t,e){var n,r,i=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&ot.extend(!0,t,r),t}function B(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function z(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function W(t,e,n,r){var i;if(ot.isArray(e))ot.each(e,function(e,i){n||je.test(t)?r(t,i):W(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==ot.type(e))r(t,e);else for(i in e)W(t+"["+i+"]",e[i],n,r)}function G(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Q=[],K=t.document,J=Q.slice,Y=Q.concat,X=Q.push,Z=Q.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,rt={},it="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,ut=/-([\da-z])/gi,ct=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:it,constructor:ot,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:X,sort:Q.sort,splice:Q.splice},ot.extend=ot.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ot.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(c&&r&&(ot.isPlainObject(r)||(i=ot.isArray(r)))?(i?(i=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},a[e]=ot.extend(c,o,r)):void 0!==r&&(a[e]=r));return a},ot.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=K.createElement("script"),e.text=t,K.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(st,"ms-").replace(ut,ct)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var r,i=0;if(n(t))for(r=t.length;i<r&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?ot.merge(r,"string"==typeof t?[t]:t):X.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:Z.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;o<a;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o,a=0,s=[];if(n(t))for(i=t.length;a<i;a++)o=e(t[a],a,r),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,r),null!=o&&s.push(o);return Y.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t))return r=J.call(arguments,2),i=function(){return t.apply(e||this,r.concat(J.call(arguments)))},i.guid=t.guid=t.guid||ot.guid++,i},now:Date.now,support:rt}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=Q[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var lt=function(t){function e(t,e,n,r){var i,o,a,s,u,c,f,h,d=e&&e.ownerDocument,v=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==v&&9!==v&&11!==v)return n;if(!r&&((e?e.ownerDocument||e:L)!==R&&N(e),e=e||R,I)){if(11!==v&&(c=mt.exec(t)))if(i=c[1]){if(9===v){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&F(e,a)&&a.id===i)return n.push(a),n}else{if(c[2])return X.apply(n,e.getElementsByTagName(t)),n;if((i=c[3])&&w.getElementsByClassName&&e.getElementsByClassName)return X.apply(n,e.getElementsByClassName(i)),n}if(w.qsa&&!z[t+" "]&&(!_||!_.test(t))){if(1!==v)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace($t,"\\$&"):e.setAttribute("id",s=M),f=E(t),o=f.length,u=pt.test(s)?"#"+s:"[id='"+s+"']";o--;)f[o]=u+" "+p(f[o]);h=f.join(","),d=yt.test(t)&&l(e.parentNode)||e}if(h)try{return X.apply(n,d.querySelectorAll(h)),n}catch(g){}finally{s===M&&e.removeAttribute("id")}}}return T(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[M]=!0,t}function i(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function p(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function h(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=H++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,c,l=[q,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(c=e[M]||(e[M]={}),u=c[e.uniqueID]||(c[e.uniqueID]={}),(s=u[r])&&s[0]===q&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function g(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function m(t,e,n,i,o,a){return i&&!i[M]&&(i=m(i)),o&&!o[M]&&(o=m(o,a)),r(function(r,a,s,u){var c,l,f,p=[],h=[],d=a.length,m=r||v(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?m:g(m,p,t,s,u),$=n?o||(r?t:d||i)?[]:a:y;if(n&&n(y,$,s,u),i)for(c=g($,h),i(c,[],s,u),l=c.length;l--;)(f=c[l])&&($[h[l]]=!(y[h[l]]=f));if(r){if(o||t){if(o){for(c=[],l=$.length;l--;)(f=$[l])&&c.push(y[l]=f);o(null,$=[],c,u)}for(l=$.length;l--;)(f=$[l])&&(c=o?tt(r,f):p[l])>-1&&(r[c]=!(a[c]=f))}}else $=g($===a?$.splice(d,$.length):$),o?o(null,a,$,u):X.apply(a,$)})}function y(t){for(var e,n,r,i=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,u=h(function(t){return t===e},a,!0),c=h(function(t){return tt(e,t)>-1},a,!0),l=[function(t,n,r){var i=!o&&(r||n!==A)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];s<i;s++)if(n=x.relative[t[s].type])l=[h(d(l),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[M]){for(r=++s;r<i&&!x.relative[t[r].type];r++);return m(s>1&&d(l),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<r&&y(t.slice(s,r)),r<i&&y(t=t.slice(r)),r<i&&p(t))}l.push(n)}return d(l)}function $(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,c){var l,f,p,h=0,d="0",v=r&&[],m=[],y=A,$=r||o&&x.find.TAG("*",c),b=q+=null==y?1:Math.random()||.1,w=$.length;for(c&&(A=a===R||a||c);d!==w&&null!=(l=$[d]);d++){if(o&&l){for(f=0,a||l.ownerDocument===R||(N(l),s=!I);p=t[f++];)if(p(l,a||R,s)){u.push(l);break}c&&(q=b)}i&&((l=!p&&l)&&h--,r&&v.push(l))}if(h+=d,i&&d!==h){for(f=0;p=n[f++];)p(v,m,a,s);if(r){if(h>0)for(;d--;)v[d]||m[d]||(m[d]=J.call(u));m=g(m)}X.apply(u,m),c&&!r&&m.length>0&&h+n.length>1&&e.uniqueSort(u)}return c&&(q=b,A=y),v};return i?r(a):a}var b,w,x,S,C,E,k,T,A,O,j,N,R,D,I,_,P,V,F,M="sizzle"+1*new Date,L=t.document,q=0,H=0,U=n(),B=n(),z=n(),W=function(t,e){return t===e&&(j=!0),0},G=1<<31,Q={}.hasOwnProperty,K=[],J=K.pop,Y=K.push,X=K.push,Z=K.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),pt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,$t=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=function(){N()};try{X.apply(K=Z.call(L.childNodes),L.childNodes),K[L.childNodes.length].nodeType}catch(St){X={apply:K.length?function(t,e){Y.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:L;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,D=R.documentElement,I=!C(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(R.getElementsByClassName),w.getById=i(function(t){return D.appendChild(t).id=M,!R.getElementsByName||!R.getElementsByName(M).length}),w.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},P=[],_=[],(w.qsa=gt.test(R.querySelectorAll))&&(i(function(t){D.appendChild(t).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+M+"-]").length||_.push("~="),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+M+"+*").length||_.push(".#.+[+~]")}),i(function(t){var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")})),(w.matchesSelector=gt.test(V=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(t){w.disconnectedMatch=V.call(t,"div"),V.call(t,"[s!='']:x"),P.push("!=",ot)}),_=_.length&&new RegExp(_.join("|")),P=P.length&&new RegExp(P.join("|")),e=gt.test(D.compareDocumentPosition),F=e||gt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return j=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===L&&F(L,t)?-1:e===R||e.ownerDocument===L&&F(L,e)?1:O?tt(O,t)-tt(O,e):0:4&n?-1:1)}:function(t,e){if(t===e)return j=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!i||!o)return t===R?-1:e===R?1:i?-1:o?1:O?tt(O,t)-tt(O,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===L?-1:u[r]===L?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&N(t),n=n.replace(lt,"='$1']"),w.matchesSelector&&I&&!z[n+" "]&&(!P||!P.test(n))&&(!_||!_.test(n)))try{var r=V.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&N(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&N(t);var n=x.attrHandle[e.toLowerCase()],r=n&&Q.call(x.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==r?r:w.attributes||!I?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(j=!w.detectDuplicates,O=!w.sortStable&&t.slice(0),t.sort(W),j){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return O=null,t},S=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=S(e);return n},x=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,p,h,d,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s,$=!1;if(g){if(o){for(;v;){for(p=e;p=p[v];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(p=g,f=p[M]||(p[M]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===q&&c[1],$=h&&c[2],p=h&&g.childNodes[h];p=++h&&p&&p[v]||($=h=0)||d.pop();)if(1===p.nodeType&&++$&&p===e){l[t]=[q,h,$];break}}else if(y&&(p=e,f=p[M]||(p[M]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===q&&c[1],$=h),$===!1)for(;(p=++h&&p&&p[v]||($=h=0)||d.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++$||(y&&(f=p[M]||(p[M]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[t]=[q,$]),p!==e)););return $-=i,$===r||$%r===0&&$/r>=0}}},PSEUDO:function(t,n){var i,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[M]?o(n):o.length>1?(i=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=tt(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=k(t.replace(st,"$1"));return i[M]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:r(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);
return t}),lt:c(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=u(b);return f.prototype=x.filters=x.pseudos,x.setFilters=new f,E=e.tokenize=function(t,n){var r,i,o,a,s,u,c,l=B[t+" "];if(l)return n?0:l.slice(0);for(s=t,u=[],c=x.preFilter;s;){r&&!(i=ut.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(st," ")}),s=s.slice(r.length));for(a in x.filter)!(i=ht[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):B(t,u).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=z[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=y(e[n]),o[M]?r.push(o):i.push(o);o=z(t,$(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,c="function"==typeof t&&t,f=!r&&E(t=c.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&I&&x.relative[o[1].type]){if(e=(x.find.ID(a.matches[0].replace(bt,wt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((u=x.find[s])&&(r=u(a.matches[0].replace(bt,wt),yt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&p(o),!t)return X.apply(n,r),n;break}}return(c||k(t,f))(r,e,!I,n,!e||yt.test(t)&&l(e.parentNode)||e),n},w.sortStable=M.split("").sort(W).join("")===M,w.detectDuplicates=!!j,N(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;if(!n)return t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);ot.find=lt,ot.expr=lt.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=lt.uniqueSort,ot.text=lt.getText,ot.isXMLDoc=lt.isXML,ot.contains=lt.contains;var ft=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&ot(t).is(n))break;r.push(t)}return r},pt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ht=ot.expr.match.needsContext,dt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,vt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ot.find.matchesSelector(r,t)?[r]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;e<n;e++)if(ot.contains(i[e],this))return!0}));for(e=0;e<n;e++)ot.find(t,i[e],r);return r=this.pushStack(n>1?ot.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ht.test(t)?ot(t):t||[],!1).length}});var gt,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||gt,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:mt.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),dt.test(r[1])&&ot.isPlainObject(e))for(r in e)ot.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=K.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,gt=ot(K);var $t=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ht.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Z.call(ot(t),this[0]):Z.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ft(t,"parentNode")},parentsUntil:function(t,e,n){return ft(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return ft(t,"nextSibling")},prevAll:function(t){return ft(t,"previousSibling")},nextUntil:function(t,e,n){return ft(t,"nextSibling",n)},prevUntil:function(t,e,n){return ft(t,"previousSibling",n)},siblings:function(t){return pt((t.parentNode||{}).firstChild,t)},children:function(t){return pt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,r){var i=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ot.filter(r,i)),this.length>1&&(bt[t]||ot.uniqueSort(i),$t.test(t)&&i.reverse()),this.pushStack(i)}});var wt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,r,i,a=[],s=[],u=-1,c=function(){for(i=t.once,r=e=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=a.length,n=!1);t.memory||(n=!1),e=!1,i&&(a=n?[]:"")},l={add:function(){return a&&(n&&!e&&(u=a.length-1,s.push(n)),function r(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&l.has(n)||a.push(n):n&&n.length&&"string"!==ot.type(n)&&r(n)})}(arguments),n&&!e&&c()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,a,n))>-1;)a.splice(n,1),n<=u&&u--}),this},has:function(t){return t?ot.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||(a=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var a=ot.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,r):r}},i={};return r.pipe=r.then,ot.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=J.call(arguments),a=o.length,s=1!==a||t&&ot.isFunction(t.promise)?a:0,u=1===s?t:ot.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?J.call(arguments):i,r===e?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&ot.isFunction(o[i].promise)?o[i].promise().progress(c(i,n,e)).done(c(i,r,o)).fail(u.reject):--s;return s||u.resolveWith(r,o),u.promise()}});var xt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(xt.resolveWith(K,[ot]),ot.fn.triggerHandler&&(ot(K).triggerHandler("ready"),ot(K).off("ready"))))}}),ot.ready.promise=function(e){return xt||(xt=ot.Deferred(),"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?t.setTimeout(ot.ready):(K.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),xt.promise(e)},ot.ready.promise();var St=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===ot.type(n)){i=!0;for(s in n)St(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ot.isFunction(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(ot(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o},Ct=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Ct(t))return{};var e=t[this.expando];return e||(e={},Ct(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[e]=n;else for(r in e)i[r]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?r=e.concat(e.map(ot.camelCase)):(i=ot.camelCase(e),e in o?r=[e,i]:(r=i,r=r in o?[r]:r.match(wt)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var Et=new s,kt=new s,Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,At=/[A-Z]/g;ot.extend({hasData:function(t){return kt.hasData(t)||Et.hasData(t)},data:function(t,e,n){return kt.access(t,e,n)},removeData:function(t,e){kt.remove(t,e)},_data:function(t,e,n){return Et.access(t,e,n)},_removeData:function(t,e){Et.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=kt.get(o),1===o.nodeType&&!Et.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ot.camelCase(r.slice(5)),u(o,r,i[r])));Et.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){kt.set(this,t)}):St(this,function(e){var n,r;if(o&&void 0===e){if(n=kt.get(o,t)||kt.get(o,t.replace(At,"-$&").toLowerCase()),void 0!==n)return n;if(r=ot.camelCase(t),n=kt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else r=ot.camelCase(t),this.each(function(){var n=kt.get(this,r);kt.set(this,r,e),t.indexOf("-")>-1&&void 0!==n&&kt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){kt.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Et.get(t,e),n&&(!r||ot.isArray(n)?r=Et.access(t,e,ot.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),r=n.length,i=n.shift(),o=ot._queueHooks(t,e),a=function(){ot.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Et.get(t,n)||Et.access(t,n,{empty:ot.Callbacks("once memory").add(function(){Et.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ot.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Et.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var Ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+Ot+")([a-z%]*)$","i"),Nt=["Top","Right","Bottom","Left"],Rt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Dt=/^(?:checkbox|radio)$/i,It=/<([\w:-]+)/,_t=/^$|\/(?:java|ecma)script/i,Pt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.optgroup=Pt.option,Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td;var Vt=/<|&#?\w+;/;!function(){var t=K.createDocumentFragment(),e=t.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),rt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ft=/^key/,Mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Lt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,p,h,d,v,g=Et.get(t);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=ot.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],c=e.length;c--;)s=Lt.exec(e[c])||[],h=v=s[1],d=(s[2]||"").split(".").sort(),h&&(f=ot.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=ot.event.special[h]||{},l=ot.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ot.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[h])||(p=u[h]=[],p.delegateCount=0,f.setup&&f.setup.call(t,r,d,a)!==!1||t.addEventListener&&t.addEventListener(h,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),ot.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,c,l,f,p,h,d,v,g=Et.hasData(t)&&Et.get(t);if(g&&(u=g.events)){for(e=(e||"").match(wt)||[""],c=e.length;c--;)if(s=Lt.exec(e[c])||[],h=v=s[1],d=(s[2]||"").split(".").sort(),h){for(f=ot.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,p=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(t,l));a&&!p.length&&(f.teardown&&f.teardown.call(t,d,g.handle)!==!1||ot.removeEvent(t,h,g.handle),delete u[h])}else for(h in u)ot.event.remove(t,h+e[c],n,r,!0);ot.isEmptyObject(u)&&Et.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,r,i,o,a=[],s=J.call(arguments),u=(Et.get(this,"events")||{})[t.type]||[],c=ot.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=ot.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,r=((ot.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(r=[],n=0;n<s;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ot(i,this).index(u)>-1:ot.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||K,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Mt.test(i)?this.mouseHooks:Ft.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new ot.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=K),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==v()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===v()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ot.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:d):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||ot.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,r){return g(this,t,e,n,r)},one:function(t,e,n,r){return g(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ot(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=d),this.each(function(){ot.event.remove(this,t,n,e)})}});var qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Bt=/^true\/(.*)/,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(qt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=ot.contains(t.ownerDocument,t);if(!(rt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(a=l(s),o=l(t),r=0,i=o.length;r<i;r++)w(o[r],a[r]);if(e)if(n)for(o=o||l(t),a=a||l(s),r=0,i=o.length;r<i;r++)b(o[r],a[r]);else b(t,s);return a=l(s,"script"),a.length>0&&f(a,!u&&l(t,"script")),s},cleanData:function(t){for(var e,n,r,i=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(Ct(n)){if(e=n[Et.expando]){if(e.events)for(r in e.events)i[r]?ot.event.remove(n,r):ot.removeEvent(n,r,e.handle);n[Et.expando]=void 0}n[kt.expando]&&(n[kt.expando]=void 0)}}}),ot.fn.extend({domManip:x,detach:function(t){return S(this,t,!0)},remove:function(t){return S(this,t)},text:function(t){return St(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(l(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return St(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!Pt[(It.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(l(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(l(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,r=[],i=ot(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ot(i[a])[e](n),X.apply(r,n.get());return this.pushStack(r)}});var Wt,Gt={HTML:"block",BODY:"block"},Qt=/^margin/,Kt=new RegExp("^("+Ot+")(?!px)[a-z%]+$","i"),Jt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Yt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Xt=K.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Xt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,Xt.removeChild(a)}var n,r,i,o,a=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ot.extend(rt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},pixelMarginRight:function(){return null==r&&e(),i},reliableMarginLeft:function(){return null==r&&e(),o},reliableMarginRight:function(){var e,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Xt.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),Xt.removeChild(a),s.removeChild(n),e}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],re=K.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=k(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=ot.camelCase(e),u=t.style;return e=ot.cssProps[s]||(ot.cssProps[s]=A(s)||s),a=ot.cssHooks[e]||ot.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=jt.exec(n))&&i[1]&&(n=c(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ot.cssNumber[s]?"":"px")),rt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=ot.camelCase(e);return e=ot.cssProps[s]||(ot.cssProps[s]=A(s)||s),a=ot.cssHooks[e]||ot.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=k(t,e,r)),"normal"===i&&e in ee&&(i=ee[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,r){if(n)return Zt.test(ot.css(t,"display"))&&0===t.offsetWidth?Yt(t,te,function(){return N(t,e,r)}):N(t,e,r)},set:function(t,n,r){var i,o=r&&Jt(t),a=r&&j(t,e,r,"border-box"===ot.css(t,"boxSizing",!1,o),o);return a&&(i=jt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),O(t,n,a)}}}),ot.cssHooks.marginLeft=T(rt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(k(t,"marginLeft"))||t.getBoundingClientRect().left-Yt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ot.cssHooks.marginRight=T(rt.reliableMarginRight,function(t,e){if(e)return Yt(t,{display:"inline-block"},k,[t,"marginRight"])}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Nt[r]+e]=o[r]||o[r-2]||o[0];return i}},Qt.test(t)||(ot.cssHooks[t+e].set=O)}),ot.fn.extend({css:function(t,e){return St(this,function(t,e,n){var r,i,o={},a=0;if(ot.isArray(e)){for(r=Jt(t),i=e.length;a<i;a++)o[e[a]]=ot.css(t,e[a],!1,r);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Rt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=D,D.prototype={constructor:D,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,n=D.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=D.prototype.init,ot.fx.step={};var ie,oe,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;ot.Animation=ot.extend(M,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return c(n.elem,t,jt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],M.tweeners[n]=M.tweeners[n]||[],M.tweeners[n].unshift(e)},prefilters:[V],prefilter:function(t,e){e?M.prefilters.unshift(t):M.prefilters.push(t)}}),ot.speed=function(t,e,n){var r=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return r.duration=ot.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ot.fx.speeds?ot.fx.speeds[r.duration]:ot.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ot.isFunction(r.old)&&r.old.call(this),r.queue&&ot.dequeue(this,r.queue)},r},ot.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Rt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=ot.isEmptyObject(t),o=ot.speed(e,n,r),a=function(){var e=M(this,ot.extend({},t),o);(i||Et.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=ot.timers,a=Et.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&se.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Et.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=ot.timers,a=r?r.length:0;for(n.finish=!0,ot.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(_(e,!0),t,r,i)}}),ot.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(ie=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),ie=void 0},ot.fx.timer=function(t){
ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=K.createElement("input"),e=K.createElement("select"),n=e.appendChild(K.createElement("option"));t.type="checkbox",rt.checkOn=""!==t.value,rt.optSelected=n.selected,e.disabled=!0,rt.optDisabled=!n.disabled,t=K.createElement("input"),t.value="t",t.type="radio",rt.radioValue="t"===t.value}();var ue,ce=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return St(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),i=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=ot.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!rt.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(wt);if(o&&1===t.nodeType)for(;n=o[i++];)r=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)}}),ue={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ce[e]||ot.find.attr;ce[e]=function(t,e,r){var i,o;return r||(o=ce[e],ce[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,ce[e]=o),i}});var le=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return St(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,i=ot.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),rt.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,L(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[u++];)if(i=L(n),r=1===n.nodeType&&(" "+i+" ").replace(pe," ")){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=ot.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,L(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[u++];)if(i=L(n),r=1===n.nodeType&&(" "+i+" ").replace(pe," ")){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=ot.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,L(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=ot(this),o=t.match(wt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=L(this),e&&Et.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Et.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+L(n)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var he=/\r/g,de=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=ot.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,ot(this).val()):t,null==i?i="":"number"==typeof i?i+="":ot.isArray(i)&&(i=ot.map(i,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=ot.valHooks[i.type]||ot.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(he,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(de," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&(rt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=ot.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=ot.inArray(ot.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){if(ot.isArray(e))return t.checked=ot.inArray(ot(t).val(),e)>-1}},rt.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,r,i){var o,a,s,u,c,l,f,p=[r||K],h=nt.call(e,"type")?e.type:e,d=nt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!ve.test(h+ot.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),c=h.indexOf(":")<0&&"on"+h,e=e[ot.expando]?e:new ot.Event(h,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ot.makeArray(n,[e]),f=ot.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!ot.isWindow(r)){for(u=f.delegateType||h,ve.test(u+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||K)&&p.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||h,l=(Et.get(a,"events")||{})[e.type]&&Et.get(a,"handle"),l&&l.apply(a,n),l=c&&a[c],l&&l.apply&&Ct(a)&&(e.result=l.apply(a,n),e.result===!1&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Ct(r)||c&&ot.isFunction(r[h])&&!ot.isWindow(r)&&(s=r[c],s&&(r[c]=null),ot.event.triggered=h,r[h](),ot.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(t,e,n){var r=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(r,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ot.event.trigger(t,e,n,!0)}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),rt.focusin="onfocusin"in t,rt.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Et.access(r,e);i||r.addEventListener(t,n,!0),Et.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Et.access(r,e)-1;i?Et.access(r,e,i):(r.removeEventListener(t,n,!0),Et.remove(r,e))}}});var ge=t.location,me=ot.now(),ye=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var $e=/#.*$/,be=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Se=/^(?:GET|HEAD)$/,Ce=/^\/\//,Ee={},ke={},Te="*/".concat("*"),Ae=K.createElement("a");Ae.href=ge.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:xe.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Te,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,ot.ajaxSettings),e):U(ot.ajaxSettings,t)},ajaxPrefilter:q(Ee),ajaxTransport:q(ke),ajax:function(e,n){function r(e,n,r,s){var c,f,y,$,w,S=n;2!==b&&(b=2,u&&t.clearTimeout(u),i=void 0,a=s||"",x.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&($=B(p,x,r)),$=z(p,$,x,c),c?(p.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=$.state,f=$.data,y=$.error,c=!y)):(y=S,!e&&S||(S="error",e<0&&(e=0))),x.status=e,x.statusText=(n||S)+"",c?v.resolveWith(h,[f,S,x]):v.rejectWith(h,[x,S,y]),x.statusCode(m),m=void 0,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[x,p,c?f:y]),g.fireWith(h,[x,S]),l&&(d.trigger("ajaxComplete",[x,p]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,a,s,u,c,l,f,p=ot.ajaxSetup({},n),h=p.context||p,d=p.context&&(h.nodeType||h.jquery)?ot(h):ot.event,v=ot.Deferred(),g=ot.Callbacks("once memory"),m=p.statusCode||{},y={},$={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=we.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=$[n]=$[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),r(0,e),this}};if(v.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||ge.href)+"").replace($e,"").replace(Ce,ge.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ot.trim(p.dataType||"*").toLowerCase().match(wt)||[""],null==p.crossDomain){c=K.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ae.protocol+"//"+Ae.host!=c.protocol+"//"+c.host}catch(S){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ot.param(p.data,p.traditional)),H(Ee,p,n,x),2===b)return x;l=ot.event&&p.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Se.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(ye.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=be.test(o)?o.replace(be,"$1_="+me++):o+(ye.test(o)?"&":"?")+"_="+me++)),p.ifModified&&(ot.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&x.setRequestHeader("If-None-Match",ot.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Te+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)x.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(h,x,p)===!1||2===b))return x.abort();w="abort";for(f in{success:1,error:1,complete:1})x[f](p[f]);if(i=H(ke,p,n,x)){if(x.readyState=1,l&&d.trigger("ajaxSend",[x,p]),2===b)return x;p.async&&p.timeout>0&&(u=t.setTimeout(function(){x.abort("timeout")},p.timeout));try{b=1,i.send(y,r)}catch(S){if(!(b<2))throw S;r(-1,S)}}else r(-1,"No Transport");return x},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,r,i){return ot.isFunction(n)&&(i=i||r,r=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:i,data:n,success:r},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Oe=/%20/g,je=/\[\]$/,Ne=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,r=[],i=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){i(this.name,this.value)});else for(n in t)W(n,t[n],e,i);return r.join("&").replace(Oe,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&De.test(this.nodeName)&&!Re.test(t)&&(this.checked||!Dt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:n.replace(Ne,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ie={0:200,1223:204},_e=ot.ajaxSettings.xhr();rt.cors=!!_e&&"withCredentials"in _e,rt.ajax=_e=!!_e,ot.ajaxTransport(function(e){var n,r;if(rt.cors||_e&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ie[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),K.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Pe=[],Ve=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||ot.expando+"_"+me++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Ve.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ve.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ve,"$1"+i):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ot.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){void 0===o?ot(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Pe.push(i)),a&&ot.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var r=dt.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=p([t],e,i),i&&i.length&&ot(i).remove(),ot.merge([],r.childNodes))};var Fe=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&Fe)return Fe.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=ot.trim(t.slice(s)),t=t.slice(0,s)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&ot.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?ot("<div>").append(ot.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c,l=ot.css(t,"position"),f=ot(t),p={};"static"===l&&(t.style.position="relative"),s=f.offset(),o=ot.css(t,"top"),u=ot.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},s))),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+i),"using"in e?e.using.call(t,p):f.css(p)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,ot.contains(e,r)?(i=r.getBoundingClientRect(),n=G(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(r=t.offset()),r.top+=ot.css(t[0],"borderTopWidth",!0),r.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-ot.css(n,"marginTop",!0),left:e.left-r.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Xt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(r){return St(this,function(t,r,i){var o=G(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=T(rt.pixelPosition,function(t,n){if(n)return n=k(t,e),Kt.test(n)?ot(t).position()[e]+"px":n})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){ot.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return St(this,function(e,n,r){var i;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?ot.css(e,n,a):ot.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Me=t.jQuery,Le=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Le),e&&t.jQuery===ot&&(t.jQuery=Me),ot},e||(t.jQuery=t.$=ot),ot}),function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?yt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.5.8/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(yt(o[r]));return new e(s)}}function n(t){if(null==t||k(t))return!1;if(Kr(t)||w(t)||Fr&&t instanceof Fr)return!0;var e="length"in Object(t)&&t.length;return x(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function r(t,e,i){var o,a;if(t)if(C(t))for(o in t)"prototype"==o||"length"==o||"name"==o||t.hasOwnProperty&&!t.hasOwnProperty(o)||e.call(i,t[o],o,t);else if(Kr(t)||n(t)){var s="object"!=typeof t;for(o=0,a=t.length;o<a;o++)(s||o in t)&&e.call(i,t[o],o,t)}else if(t.forEach&&t.forEach!==r)t.forEach(e,i,t);else if(b(t))for(o in t)e.call(i,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t);else for(o in t)Rr.call(t,o)&&e.call(i,t[o],o,t);return t}function i(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function o(t){return function(e,n){t(n,e)}}function a(){return++Qr}function s(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if($(a)||C(a))for(var c=Object.keys(a),l=0,f=c.length;l<f;l++){var p=c[l],h=a[p];n&&$(h)?S(h)?t[p]=new Date(h.valueOf()):E(h)?t[p]=new RegExp(h):h.nodeName?t[p]=h.cloneNode(!0):_(h)?t[p]=h.clone():($(t[p])||(t[p]=Kr(h)?[]:{}),u(t[p],[h],!0)):t[p]=h}}return s(t,r),t}function c(t){return u(t,qr.call(arguments,1),!1)}function l(t){return u(t,qr.call(arguments,1),!0)}function f(t){return parseInt(t,10)}function p(t,e){return c(Object.create(t),e)}function h(){}function d(t){return t}function v(t){return function(){return t}}function g(t){return C(t.toString)&&t.toString!==Br}function m(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function $(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!zr(t)}function w(t){return"string"==typeof t}function x(t){return"number"==typeof t}function S(t){return"[object Date]"===Br.call(t)}function C(t){return"function"==typeof t}function E(t){return"[object RegExp]"===Br.call(t)}function k(t){return t&&t.window===t}function T(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===Br.call(t)}function O(t){return"[object FormData]"===Br.call(t)}function j(t){return"[object Blob]"===Br.call(t)}function N(t){return"boolean"==typeof t}function R(t){return t&&C(t.then)}function D(t){return t&&x(t.length)&&Jr.test(Br.call(t))}function I(t){return"[object ArrayBuffer]"===Br.call(t)}function _(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function P(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function V(t){return Dr(t.nodeName||t[0]&&t[0].nodeName)}function F(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function M(t,e){function n(t,e){var n,r=e.$$hashKey;if(Kr(t))for(var o=0,a=t.length;o<a;o++)e.push(i(t[o]));else if(b(t))for(n in t)e[n]=i(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));else for(n in t)Rr.call(t,n)&&(e[n]=i(t[n]));return s(e,r),e}function i(t){if(!$(t))return t;var e=a.indexOf(t);if(e!==-1)return u[e];if(k(t)||T(t))throw Wr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(t);return void 0===i&&(i=Kr(t)?[]:Object.create(zr(t)),r=!0),a.push(t),u.push(i),r?n(t,i):i}function o(t){switch(Br.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(i(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(C(t.cloneNode))return t.cloneNode(!0)}var a=[],u=[];if(e){if(D(e)||I(e))throw Wr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Wr("cpi","Can't copy! Source and destination are identical.");return Kr(e)?e.length=0:r(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),u.push(e),n(t,e)}return i(t)}function L(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t,a=typeof e;if(o==a&&"object"==o){if(!Kr(t)){if(S(t))return!!S(e)&&L(t.getTime(),e.getTime());if(E(t))return!!E(e)&&t.toString()==e.toString();if(T(t)||T(e)||k(t)||k(e)||Kr(e)||S(e)||E(e))return!1;i=dt();for(r in t)if("$"!==r.charAt(0)&&!C(t[r])){if(!L(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&y(e[r])&&!C(e[r]))return!1;return!0}if(!Kr(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!L(t[r],e[r]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(qr.call(e,n))}function H(t,e){return qr.call(t,e||0)}function U(t,e){var n=arguments.length>2?H(arguments,2):[];return!C(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function B(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:k(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":T(n)&&(r="$SCOPE"),r}function z(t,e){if(!m(t))return x(e)||(e=e?2:null),JSON.stringify(t,B,e)}function W(t){return w(t)?JSON.parse(t):t}function G(t,e){t=t.replace(ei,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Q(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset(),i=G(e,r);return Q(t,n*(i-r))}function J(t){t=Fr(t).clone();try{t.empty()}catch(e){}var n=Fr("<div>").append(t).html();try{return t[0].nodeType===si?Dr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Dr(e)})}catch(e){return Dr(n)}}function Y(t){try{return decodeURIComponent(t)}catch(e){}}function X(t){var e={};return r((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),n!==-1&&(r=t.substring(0,n),i=t.substring(n+1)),r=Y(r),y(r)&&(i=!y(i)||Y(i),Rr.call(e,r)?Kr(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function Z(t){var e=[];return r(t,function(t,n){Kr(t)?r(t,function(t){e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}):e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}),e.length?e.join("&"):""}function tt(t){return et(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function nt(t,e){var n,r,i=ni.length;for(r=0;r<i;++r)if(n=ni[r]+e,w(n=t.getAttribute(n)))return n;return null}function rt(t,e){var n,i,o={};r(ni,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),r(ni,function(e){var r,o=e+"app";!n&&(r=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(o.strictDi=null!==nt(n,"strict-di"),e(n,i?[i]:[],o))}function it(e,n,i){$(i)||(i={});var o={strictDi:!1};i=c(o,i);var a=function(){if(e=Fr(e),e.injector()){var r=e[0]===t.document?"document":J(e);throw Wr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=re(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!u.test(t.name)?a():(t.name=t.name.replace(u,""),Gr.resumeBootstrap=function(t){return r(t,function(t){n.push(t)}),a()},void(C(Gr.resumeDeferredBootstrap)&&Gr.resumeDeferredBootstrap()))}function ot(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function at(t){var e=Gr.element(t).injector();if(!e)throw Wr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function st(t,e){return e=e||"_",t.replace(ri,function(t,n){return(n?e:"")+t.toLowerCase()})}function ut(){var e;if(!ii){var n=ti();Mr=m(n)?t.jQuery:n?t[n]:void 0,Mr&&Mr.fn.on?(Fr=Mr,c(Mr.fn,{scope:ki.scope,isolateScope:ki.isolateScope,controller:ki.controller,injector:ki.injector,inheritedData:ki.inheritedData}),e=Mr.cleanData,Mr.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)n=Mr._data(r,"events"),n&&n.$destroy&&Mr(r).triggerHandler("$destroy");e(t)}):Fr=Ot,Gr.element=Fr,ii=!0}}function ct(t,e,n){if(!t)throw Wr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function lt(t,e,n){return n&&Kr(t)&&(t=t[t.length-1]),ct(C(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ft(t,e){if("hasOwnProperty"===t)throw Wr("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&C(t)?U(o,t):t}function ht(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=Fr(qr.call(t,0,i))),e.push(n));return e||t}function dt(){return Object.create(null)}function vt(t){function n(t,e,n){return t[e]||(t[e]=n())}var r=e("$injector"),i=e("ng"),o=n(t,"angular",Object);
return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),l}}function n(t,n){return function(r,o){return o&&C(o)&&(o.$$moduleName=e),i.push([t,n,arguments]),l}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var i=[],s=[],u=[],c=t("$injector","invoke","push",s),l={_invokeQueue:i,_configBlocks:s,_runBlocks:u,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(t){return u.push(t),this}};return a&&c(a),l})}})}function gt(t,e){if(Kr(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if($(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function mt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=B(t,n),$(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):m(t)?"undefined":"string"!=typeof t?mt(t):t}function $t(n){c(n,{bootstrap:it,copy:M,extend:c,merge:l,equals:L,element:Fr,forEach:r,injector:re,noop:h,bind:U,toJson:z,fromJson:W,identity:d,isUndefined:m,isDefined:y,isString:w,isFunction:C,isObject:$,isNumber:x,isElement:_,isArray:Kr,version:fi,isDate:S,lowercase:Dr,uppercase:Ir,callbacks:{$$counter:0},getTestability:at,$$minErr:e,$$csp:Zr,reloadWithDebugInfo:ot}),(Lr=vt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:En}),t.provider("$compile",de).directive({a:_o,input:ta,textarea:ta,form:Lo,script:Ka,select:Xa,style:ts,option:Za,ngBind:ra,ngBindHtml:oa,ngBindTemplate:ia,ngClass:sa,ngClassEven:ca,ngClassOdd:ua,ngCloak:la,ngController:fa,ngForm:qo,ngHide:Ha,ngIf:da,ngInclude:va,ngInit:ma,ngNonBindable:Da,ngPluralize:Va,ngRepeat:Fa,ngShow:qa,ngStyle:Ua,ngSwitch:Ba,ngSwitchWhen:za,ngSwitchDefault:Wa,ngOptions:Pa,ngTransclude:Qa,ngModel:ja,ngList:ya,ngChange:aa,pattern:ns,ngPattern:ns,required:es,ngRequired:es,minlength:is,ngMinlength:is,maxlength:rs,ngMaxlength:rs,ngValue:na,ngModelOptions:Ra}).directive({ngInclude:ga}).directive(Po).directive(pa),t.provider({$anchorScroll:ie,$animate:Hi,$animateCss:zi,$$animateJs:Li,$$animateQueue:qi,$$AnimateRunner:Bi,$$animateAsyncRun:Ui,$browser:le,$cacheFactory:fe,$controller:be,$document:we,$exceptionHandler:xe,$filter:Mn,$$forceReflow:Yi,$interpolate:Pe,$interval:Ve,$http:Re,$httpParamSerializer:Ce,$httpParamSerializerJQLike:Ee,$httpBackend:Ie,$xhrFactory:De,$jsonpCallbacks:ao,$location:Xe,$log:Ze,$parse:$n,$rootScope:Cn,$q:bn,$$q:wn,$sce:On,$sceDelegate:An,$sniffer:jn,$templateCache:pe,$templateRequest:Nn,$$testability:Rn,$timeout:Dn,$window:Pn,$$rAF:Sn,$$jqLite:Jt,$$HashMap:ji,$$cookieReader:Fn})}])}function bt(){return++hi}function wt(t){return t.replace(gi,function(t,e,n,r){return r?n.toUpperCase():n}).replace(mi,"Moz$1")}function xt(t){return!wi.test(t)}function St(t){var e=t.nodeType;return e===oi||!e||e===ci}function Ct(t){for(var e in pi[t.ng339])return!0;return!1}function Et(t){for(var e=0,n=t.length;e<n;e++)Dt(t[e])}function kt(t,e){var n,i,o,a,s=e.createDocumentFragment(),u=[];if(xt(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),i=(xi.exec(t)||["",""])[1].toLowerCase(),o=Ci[i]||Ci._default,n.innerHTML=o[1]+t.replace(Si,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;u=q(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(u,function(t){s.appendChild(t)}),s}function Tt(e,n){n=n||t.document;var r;return(r=bi.exec(e))?[n.createElement(r[1])]:(r=kt(e,n))?r.childNodes:[]}function At(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Ot(t){if(t instanceof Ot)return t;var e;if(w(t)&&(t=Yr(t),e=!0),!(this instanceof Ot)){if(e&&"<"!=t.charAt(0))throw $i("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ot(t)}e?Mt(this,Tt(t)):Mt(this,t)}function jt(t){return t.cloneNode(!0)}function Nt(t,e){if(e||Dt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;r<i;r++)Dt(n[r])}function Rt(t,e,n,i){if(y(i))throw $i("offargs","jqLite#off() does not support the `selector` argument");var o=It(t),a=o&&o.events,s=o&&o.handle;if(s)if(e){var u=function(e){var r=a[e];y(n)&&F(r||[],n),y(n)&&r&&r.length>0||(vi(t,e,s),delete a[e])};r(e.split(" "),function(t){u(t),yi[t]&&u(yi[t])})}else for(e in a)"$destroy"!==e&&vi(t,e,s),delete a[e]}function Dt(t,e){var n=t.ng339,r=n&&pi[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Rt(t)),delete pi[n],t.ng339=void 0}}function It(t,e){var n=t.ng339,r=n&&pi[n];return e&&!r&&(t.ng339=n=bt(),r=pi[n]={events:{},data:{},handle:void 0}),r}function _t(t,e,n){if(St(t)){var r=y(n),i=!r&&e&&!$(e),o=!e,a=It(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];c(s,e)}}}function Pt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Vt(t,e){e&&t.setAttribute&&r(e.split(" "),function(e){t.setAttribute("class",Yr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Yr(e)+" "," ")))})}function Ft(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(e.split(" "),function(t){t=Yr(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",Yr(n))}}function Mt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Lt(t,e){return qt(t,"$"+(e||"ngController")+"Controller")}function qt(t,e,n){t.nodeType==ci&&(t=t.documentElement);for(var r=Kr(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(y(n=Fr.data(t,r[i])))return n;t=t.parentNode||t.nodeType===li&&t.host}}function Ht(t){for(Nt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ut(t,e){e||Nt(t);var n=t.parentNode;n&&n.removeChild(t)}function Bt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Fr(n).on("load",e)}function zt(t,e){var n=Ti[e.toLowerCase()];return n&&Ai[V(t)]&&n}function Wt(t){return Oi[t]}function Gt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Qt;o>1&&(i=gt(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function Qt(t,e,n){n.call(t,e)}function Kt(t,e,n){var r=e.relatedTarget;r&&(r===t||Ei.call(t,r))||n.call(t,e)}function Jt(){this.$get=function(){return c(Ot,{hasClass:function(t,e){return t.attr&&(t=t[0]),Pt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Vt(t,e)}})}}function Yt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||a)():r+":"+t}function Xt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}r(t,this.put,this)}function Zt(t){return Function.prototype.toString.call(t)+" "}function te(t){var e=Zt(t).replace(_i,""),n=e.match(Ni)||e.match(Ri);return n}function ee(t){var e=te(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ne(t,e,n){var i,o,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw w(n)&&n||(n=t.name||ee(t)),Pi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=te(t),r(o[1].split(Di),function(t){t.replace(Ii,function(t,e,n){i.push(n)})})}t.$inject=i}}else Kr(t)?(a=t.length-1,lt(t[a],"fn"),i=t.slice(0,a)):lt(t,"fn",!0);return i}function re(t,e){function n(t){return function(e,n){return $(e)?void r(e,o(t)):t(e,n)}}function i(t,e){if(ft(t,"service"),(C(e)||Kr(e))&&(e=S.instantiate(e)),!e.$get)throw Pi("pget","Provider '{0}' must define $get factory method.",t);return x[t+g]=e}function a(t,e){return function(){var n=T.invoke(e,this);if(m(n))throw Pi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return s(t,v(e),!1)}function l(t,e){ft(t,"constant"),x[t]=e,E[t]=e}function f(t,e){var n=S.get(t+g),r=n.$get;n.$get=function(){var t=T.invoke(r,n);return T.invoke(e,null,{$delegate:t})}}function p(t){ct(m(t)||Kr(t),"modulesToLoad","not an array");var e,n=[];return r(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=S.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(t)){b.put(t,!0);try{w(t)?(e=Lr(t),n=n.concat(p(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):C(t)?n.push(S.invoke(t)):Kr(t)?n.push(S.invoke(t)):lt(t,"module")}catch(i){throw Kr(t)&&(t=t[t.length-1]),i.message&&i.stack&&i.stack.indexOf(i.message)==-1&&(i=i.message+"\n"+i.stack),Pi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function h(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===d)throw Pi("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=d,t[e]=n(e,r)}catch(i){throw t[e]===d&&delete t[e],i}finally{y.shift()}}function i(t,n,i){for(var o=[],a=re.$$annotate(t,e,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw Pi("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(t){return!(Vr<=11)&&("function"==typeof t&&/^(?:class\b|constructor\()/.test(Zt(t)))}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return Kr(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=Kr(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:re.$$annotate,has:function(e){return x.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=e===!0;var d={},g="Provider",y=[],b=new Xt([],(!0)),x={$provide:{provider:n(i),factory:n(s),service:n(u),value:n(c),constant:n(l),decorator:f}},S=x.$injector=h(x,function(t,e){throw Gr.isString(e)&&y.push(e),Pi("unpr","Unknown provider: {0}",y.join(" <- "))}),E={},k=h(E,function(t,e){var n=S.get(t+g,e);return T.invoke(n.$get,n,void 0,t)}),T=k;x["$injector"+g]={$get:v(k)};var A=p(t);return T=k.get("$injector"),T.strictDi=e,r(A,function(t){t&&T.invoke(t)}),T}function ie(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===V(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(C(t))t=t();else if(_(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else x(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=w(t)?t:n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Bt(function(){r.$evalAsync(s)})}),s}]}function oe(t,e){return t||e?t?e?(Kr(t)&&(t=t.join(" ")),Kr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ae(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Fi)return n}}function se(t){w(t)&&(t=t.split(" "));var e=dt();return r(t,function(t){t.length&&(e[t]=!0)}),e}function ue(t){return $(t)?t:{}}function ce(t,e,n,i){function o(t){try{t.apply(null,H(arguments,1))}finally{if(y--,0===y)for(;$.length;)try{$.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function s(){C=null,u(),c()}function u(){b=E(),b=m(b)?null:b,L(b,A)&&(b=A),A=b}function c(){x===l.url()&&w===b||(x=l.url(),w=b,r(k,function(t){t(l.url(),b)}))}var l=this,f=t.location,p=t.history,d=t.setTimeout,v=t.clearTimeout,g={};l.isMock=!1;var y=0,$=[];l.$$completeOutstandingRequest=o,l.$$incOutstandingRequestCount=function(){y++},l.notifyWhenNoOutstandingRequests=function(t){0===y?t():$.push(t)};var b,w,x=f.href,S=e.find("base"),C=null,E=i.history?function(){try{return p.state}catch(t){}}:h;u(),w=b,l.url=function(e,n,r){if(m(r)&&(r=null),f!==t.location&&(f=t.location),p!==t.history&&(p=t.history),e){var o=w===r;if(x===e&&(!i.history||o))return l;var s=x&&Ue(x)===Ue(e);return x=e,w=r,!i.history||s&&o?(s||(C=e),n?f.replace(e):s?f.hash=a(e):f.href=e,f.href!==e&&(C=e)):(p[n?"replaceState":"pushState"](r,"",e),u(),w=b),C&&(C=e),l}return C||f.href.replace(/%27/g,"'")},l.state=function(){return b};var k=[],T=!1,A=null;l.onUrlChange=function(e){return T||(i.history&&Fr(t).on("popstate",s),Fr(t).on("hashchange",s),T=!0),k.push(e),e},l.$$applicationDestroyed=function(){Fr(t).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var t=S.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(t,e){var n;return y++,n=d(function(){delete g[n],o(t)},e||0),g[n]=!0,n},l.defer.cancel=function(t){return!!g[t]&&(delete g[t],v(t),o(h),!0)}}function le(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new ce(t,r,e,n)}]}function fe(){this.$get=function(){function t(t,r){function i(t){t!=p&&(h?h==t&&(h=t.n):h=t,o(t.n,t.p),o(t,p),p=t,p.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=c({},r,{id:t}),u=dt(),l=r&&r.capacity||Number.MAX_VALUE,f=dt(),p=null,h=null;return n[t]={put:function(t,e){if(!m(e)){if(l<Number.MAX_VALUE){var n=f[t]||(f[t]={key:t});i(n)}return t in u||a++,u[t]=e,a>l&&this.remove(h.key),e}},get:function(t){if(l<Number.MAX_VALUE){var e=f[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=f[t];if(!e)return;e==p&&(p=e.p),e==h&&(h=e.n),o(e.n,e.p),delete f[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=dt(),a=0,f=dt(),p=h=null},destroy:function(){u=null,s=null,f=null,delete n[t]},info:function(){return c({},s,{size:a})}}}var n={};return t.info=function(){var t={};return r(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function pe(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function he(){}function de(e,n){function i(t,e,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=dt();return r(t,function(t,r){if(t in k)return void(o[r]=k[t]);var a=t.match(i);if(!a)throw Wi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(k[t]=o[r])}),o}function a(t,e){var n={isolateScope:null,bindToController:null};if($(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),$(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),$(n.bindToController)){var r=t.controller,o=t.controllerAs;if(!r)throw Wi("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!$e(r,o))throw Wi("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function s(t){var e=t.charAt(0);if(!e||e!==Dr(e))throw Wi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Wi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!Kr(e)&&$(e)&&r(e,function(t,n){var r=t.match(S),i=t.substring(r[0].length);i||(e[n]=r[0]+n)}),e}var l={},f="Directive",g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,b=/(([\w\-]+)(?:\:([^;]+))?;?)/,x=P("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,k=dt();this.directive=function j(t,n){return ft(t,"directive"),w(t)?(s(t),ct(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+f,["$injector","$exceptionHandler",function(e,n){var i=[];return r(l[t],function(r,o){try{var a=e.invoke(r);C(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=u(a),a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),l[t].push(n)):r(t,o(j)),this},this.component=function(t,e){function n(t){function n(e){return C(e)||Kr(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var o=e.template||e.templateUrl?e.template:"",a={controller:i,controllerAs:$e(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return r(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var i=e.controller||function(){};return r(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,C(i)&&(i[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(t){return y(t)?(A=t,this):A};var O=10;this.onChangesTtl=function(t){return arguments.length?(O=t,this):O},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,i,o,s,u,v,k,j,R){function D(){try{if(!--St)throw $t=void 0,Wi("infchng","{0} $onChanges() iterations reached. Aborting!\n",O);v.$apply(function(){for(var t=[],e=0,n=$t.length;e<n;++e)try{$t[e]()}catch(r){t.push(r)}if($t=void 0,t.length)throw t})}finally{St++}}function I(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t}function _(t,e,n){wt.innerHTML="<span "+e+">";var r=wt.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function P(t,e){try{t.addClass(e)}catch(n){}}function M(e,n,r,i,o){e instanceof Fr||(e=Fr(e));for(var a=/\S+/,s=0,u=e.length;s<u;s++){var c=e[s];c.nodeType===si&&c.nodeValue.match(a)&&At(c,e[s]=t.document.createElement("span"))}var l=B(e,n,e,r,i,o);M.$$addScopeClass(e);var f=null;return function(t,n,r){ct(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),f||(f=q(s));var u;if(u="html"!==f?Fr(ft(f,Fr("<div>").append(e).html())):n?ki.clone.call(e):e,a)for(var c in a)u.data("$"+c+"Controller",a[c].instance);return M.$$addScopeInfo(u,t),n&&n(u,t),l&&l(t,u,u,i),u}}function q(t){var e=t&&t[0];return e&&"foreignobject"!==V(e)&&Br.call(e).match(/SVG/)?"svg":"html"}function B(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,f,p,v;if(h){var g=n.length;for(v=new Array(g),c=0;c<d.length;c+=3)f=d[c],v[f]=n[f]}else v=n;for(c=0,l=d.length;c<l;)s=v[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=t.$new(),M.$$addScopeInfo(Fr(s),u)):u=t,p=o.transcludeOnThisElement?z(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?z(t,e):null,o(a,u,s,r,p)):a&&a(t,s.childNodes,void 0,i)}for(var s,u,c,l,f,p,h,d=[],v=0;v<t.length;v++)s=new I,u=W(t[v],[],s,0===v?r:void 0,i),c=u.length?X(u,t[v],s,e,n,null,[],[],o):null,c&&c.scope&&M.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=t[v].childNodes)||!l.length?null:B(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(d.push(v,c,f),p=!0,h=h||c),o=null;return p?a:null}function z(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=dt();for(var o in e.$$slots)e.$$slots[o]?i[o]=z(t,e.$$slots[o],n):i[o]=null;return r}function W(t,e,n,r,i){var o,a,s=t.nodeType,u=n.$attr;switch(s){case oi:nt(e,ge(V(t)),"E",r,i);for(var c,l,f,p,h,d,v=t.attributes,g=0,m=v&&v.length;g<m;g++){var y=!1,x=!1;c=v[g],l=c.name,h=Yr(c.value),p=ge(l),(d=Tt.test(p))&&(l=l.replace(Qi,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var S=p.match(Ot);S&&rt(S[1])&&(y=l,x=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),f=ge(l.toLowerCase()),u[f]=l,!d&&n.hasOwnProperty(f)||(n[f]=h,zt(t,f)&&(n[f]=!0)),ht(t,e,h,f,d),nt(e,f,"A",r,i,y,x)}if(a=t.className,$(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=b.exec(a);)f=ge(o[2]),nt(e,f,"C",r,i)&&(n[f]=Yr(o[3])),a=a.substr(o.index+o[0].length);break;case si:if(11===Vr)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===si;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);lt(e,t.nodeValue);break;case ui:G(t,e,n,r,i)}return e.sort(at),e}function G(t,e,n,r,i){try{var o=g.exec(t.nodeValue);if(o){var a=ge(o[1]);nt(e,a,"M",r,i)&&(n[a]=Yr(o[2]))}}catch(s){}}function Q(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Wi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==oi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Fr(r)}function K(t,e,n){return function(r,i,o,a,s){return i=Q(i[0],e,n),t(r,i,o,a,s)}}function Y(t,e,n,r,i,o){var a;return t?M(e,n,r,i,o):function(){return a||(a=M(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function X(t,e,n,o,a,s,u,l,f){function p(t,e,n,r){t&&(n&&(t=K(t,n,r)),t.require=d.require,t.directiveName=v,(E===d||d.$$isolateScope)&&(t=gt(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=K(e,n,r)),e.require=d.require,e.directiveName=v,(E===d||d.$$isolateScope)&&(e=gt(e,{isolateScope:!0})),l.push(e))}function h(t,o,a,s,f){function p(t,e,n,r){var i;if(T(t)||(r=n,n=e,e=t,t=void 0),N&&(i=b),n||(n=N?A.parent():A),!r)return f(t,e,i,n,F);var o=f.$$slots[r];if(o)return o(t,e,i,n,F);if(m(o))throw Wi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,J(A))}var h,d,v,g,y,b,w,A,O,j;e===a?(O=n,A=n.$$element):(A=Fr(a),O=new I(A,n)),y=o,E?g=o.$new(!0):x&&(y=o.$parent),f&&(w=p,w.$$boundTransclude=f,w.isSlotFilled=function(t){return!!f.$$slots[t]}),S&&(b=tt(A,O,w,S,g,o,E)),E&&(M.$$addScopeInfo(A,g,!0,!(k&&(k===E||k===E.$$originalDirective))),M.$$addScopeClass(A,!0),g.$$isolateBindings=E.$$isolateBindings,j=yt(o,O,g,g.$$isolateBindings,E),j.removeWatches&&g.$on("$destroy",j.removeWatches));for(var R in b){var D=S[R],_=b[R],P=D.$$bindings.bindToController;_.identifier&&P?_.bindingInfo=yt(y,O,_.instance,P,D):_.bindingInfo={};var V=_();V!==_.instance&&(_.instance=V,A.data("$"+D.name+"Controller",V),_.bindingInfo.removeWatches&&_.bindingInfo.removeWatches(),_.bindingInfo=yt(y,O,_.instance,P,D))}for(r(S,function(t,e){var n=t.require;t.bindToController&&!Kr(n)&&$(n)&&c(b[e].instance,Z(e,n,A,b))}),r(b,function(t){var e=t.instance;if(C(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){i(n)}if(C(e.$onInit))try{e.$onInit()}catch(n){i(n)}C(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),C(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),h=0,d=u.length;h<d;h++)v=u[h],mt(v,v.isolateScope?g:o,A,O,v.require&&Z(v.directiveName,v.require,A,b),w);var F=o;for(E&&(E.template||null===E.templateUrl)&&(F=g),t&&t(F,a.childNodes,void 0,f),h=l.length-1;h>=0;h--)v=l[h],mt(v,v.isolateScope?g:o,A,O,v.require&&Z(v.directiveName,v.require,A,b),w);r(b,function(t){var e=t.instance;C(e.$postLink)&&e.$postLink()})}f=f||{};for(var d,v,g,y,b,w=-Number.MAX_VALUE,x=f.newScopeDirective,S=f.controllerDirectives,E=f.newIsolateScopeDirective,k=f.templateDirective,A=f.nonTlbTranscludeDirective,O=!1,j=!1,N=f.hasElementTranscludeDirective,R=n.$$element=Fr(e),D=s,_=o,P=!1,F=!1,L=0,q=t.length;L<q;L++){d=t[L];var B=d.$$start,z=d.$$end;if(B&&(R=Q(e,B,z)),g=void 0,w>d.priority)break;if((b=d.scope)&&(d.templateUrl||($(b)?(ut("new/isolated scope",E||x,d,R),E=d):ut("new/isolated scope",E,d,R)),x=x||d),v=d.name,!P&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var G,X=L+1;G=t[X++];)if(G.transclude&&!G.$$tlb||G.replace&&(G.templateUrl||G.template)){F=!0;break}P=!0}if(!d.templateUrl&&d.controller&&(b=d.controller,S=S||dt(),ut("'"+v+"' controller",S[v],d,R),S[v]=d),b=d.transclude)if(O=!0,d.$$tlb||(ut("transclusion",A,d,R),A=d),"element"==b)N=!0,w=d.priority,g=R,R=n.$$element=Fr(M.$$createComment(v,n[v])),e=R[0],vt(a,H(g),e),g[0].$$parentNode=g[0].parentNode,_=Y(F,g,o,w,D&&D.name,{nonTlbTranscludeDirective:A});else{var nt=dt();if(g=Fr(jt(e)).contents(),$(b)){g=[];var rt=dt(),at=dt();r(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,rt[t]=e,nt[e]=null,at[e]=n}),r(R.contents(),function(t){var e=rt[ge(V(t))];e?(at[e]=!0,nt[e]=nt[e]||[],nt[e].push(t)):g.push(t)}),r(at,function(t,e){if(!t)throw Wi("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var st in nt)nt[st]&&(nt[st]=Y(F,nt[st],o))}R.empty(),_=Y(F,g,o,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),_.$$slots=nt}if(d.template)if(j=!0,ut("template",k,d,R),k=d,b=C(d.template)?d.template(R,n):d.template,b=kt(b),d.replace){if(D=d,g=xt(b)?[]:ye(ft(d.templateNamespace,Yr(b))),e=g[0],1!=g.length||e.nodeType!==oi)throw Wi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v,"");vt(a,R,e);var ct={$attr:{}},lt=W(e,[],ct),pt=t.splice(L+1,t.length-(L+1));(E||x)&&et(lt,E,x),t=t.concat(lt).concat(pt),it(n,ct),q=t.length}else R.html(b);if(d.templateUrl)j=!0,ut("template",k,d,R),k=d,d.replace&&(D=d),h=ot(t.splice(L,t.length-L),R,n,a,O&&_,u,l,{controllerDirectives:S,newScopeDirective:x!==d&&x,newIsolateScopeDirective:E,templateDirective:k,nonTlbTranscludeDirective:A}),q=t.length;else if(d.compile)try{y=d.compile(R,n,_);var ht=d.$$originalDirective||d;C(y)?p(null,U(ht,y),B,z):y&&p(U(ht,y.pre),U(ht,y.post),B,z)}catch($t){i($t,J(R))}d.terminal&&(h.terminal=!0,w=Math.max(w,d.priority))}return h.scope=x&&x.scope===!0,h.transcludeOnThisElement=O,h.templateOnThisElement=j,h.transclude=_,f.hasElementTranscludeDirective=N,h}function Z(t,e,n,i){var o;if(w(e)){var a=e.match(S),s=e.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var l="$"+s+"Controller";o=u?n.inheritedData(l):n.data(l)}if(!o&&!c)throw Wi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(Kr(e)){o=[];for(var f=0,p=e.length;f<p;f++)o[f]=Z(t,e[f],n,i)}else $(e)&&(o={},r(e,function(e,r){o[r]=Z(t,e,n,i)}));return o||null}function tt(t,e,n,r,i,o,a){var s=dt();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},p=l.controller;"@"==p&&(p=e[l.name]);var h=u(p,f,!0,l.controllerAs);s[l.name]=h,t.data("$"+l.name+"Controller",h.instance)}return s}function et(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=p(t[r],{$$isolateScope:e,$$newScope:n})}function nt(t,n,r,o,s,u,c){if(n===s)return null;var h=null;if(l.hasOwnProperty(n))for(var d,v=e.get(n+f),g=0,y=v.length;g<y;g++)try{if(d=v[g],(m(o)||o>d.priority)&&d.restrict.indexOf(r)!=-1){if(u&&(d=p(d,{$$start:u,$$end:c})),!d.$$bindings){var b=d.$$bindings=a(d,d.name);$(b.isolateScope)&&(d.$$isolateBindings=b.isolateScope)}t.push(d),h=d}}catch(w){i(w)}return h}function rt(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+f),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function it(t,e){var n=e.$attr,i=t.$attr;t.$$element;r(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),r(e,function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ot(t,e,n,i,a,s,u,c){var l,f,h=[],d=e[0],v=t.shift(),g=p(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),m=C(v.templateUrl)?v.templateUrl(e,n):v.templateUrl,y=v.templateNamespace;return e.empty(),o(m).then(function(o){var p,b,w,x;if(o=kt(o),v.replace){if(w=xt(o)?[]:ye(ft(y,Yr(o))),p=w[0],1!=w.length||p.nodeType!==oi)throw Wi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,m);b={$attr:{}},vt(i,e,p);var S=W(p,[],b);$(v.scope)&&et(S,!0),t=S.concat(t),it(n,b)}else p=d,e.html(o);for(t.unshift(g),l=X(t,p,n,a,e,v,s,u,c),r(i,function(t,n){t==p&&(i[n]=e[0])}),f=B(e[0].childNodes,a);h.length;){var C=h.shift(),E=h.shift(),k=h.shift(),T=h.shift(),A=e[0];if(!C.$$destroyed){if(E!==d){var O=E.className;c.hasElementTranscludeDirective&&v.replace||(A=jt(p)),vt(k,Fr(E),A),P(Fr(A),O)}x=l.transcludeOnThisElement?z(C,l.transclude,T):T,l(f,C,A,i,x)}}h=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?h.push(e,n,r,o):(l.transcludeOnThisElement&&(o=z(e,l.transclude,i)),l(f,e,n,r,o)))}}function at(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function ut(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Wi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,J(r))}function lt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&M.$$addBindingClass(e),function(t,e){var i=e.parent();n||M.$$addBindingClass(i),M.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function ft(e,n){switch(e=Dr(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function pt(t,e){if("srcdoc"==e)return k.HTML;var n=V(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?k.RESOURCE_URL:void 0}function ht(t,e,r,i,o){var a=pt(t,i);o=x[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===V(t))throw Wi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var c=u.$$observers||(u.$$observers=dt());if(E.test(i))throw Wi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==r&&(s=l&&n(l,!0,a,o),r=l),s&&(u[i]=s(t),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function vt(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]==a){e[i++]=r;for(var c=i,l=c+s-1,f=e.length;c<f;c++,l++)l<f?e[c]=e[l]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var p=t.document.createDocumentFragment();for(i=0;i<s;i++)p.appendChild(n[i]);for(Fr.hasData(a)&&(Fr.data(r,Fr.data(a)),Fr(a).off("$destroy")),Fr.cleanData(p.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function gt(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function mt(t,e,n,r,o,a){try{t(e,n,r,o,a);
}catch(s){i(s,J(n))}}function yt(t,e,i,o,a){function u(e,n,r){C(i.$onChanges)&&n!==r&&($t||(t.$$postDigest(D),$t=[]),l||(l={},$t.push(c)),l[e]&&(r=l[e].previousValue),l[e]=new ve(r,n))}function c(){i.$onChanges(l),l=void 0}var l,f=[],p={};return r(o,function(r,o){var c,l,d,v,g,m=r.attrName,y=r.optional,$=r.mode;switch($){case"@":y||Rr.call(e,m)||(i[o]=e[m]=void 0),e.$observe(m,function(t){if(w(t)||N(t)){var e=i[o];u(o,t,e),i[o]=t}}),e.$$observers[m].$$scope=t,c=e[m],w(c)?i[o]=n(c)(t):N(c)&&(i[o]=c),p[o]=new ve(Gi,i[o]);break;case"=":if(!Rr.call(e,m)){if(y)break;e[m]=void 0}if(y&&!e[m])break;l=s(e[m]),v=l.literal?L:function(t,e){return t===e||t!==t&&e!==e},d=l.assign||function(){throw c=i[o]=l(t),Wi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[m],m,a.name)},c=i[o]=l(t);var b=function(e){return v(e,i[o])||(v(e,c)?d(t,e=i[o]):i[o]=e),c=e};b.$stateful=!0,g=r.collection?t.$watchCollection(e[m],b):t.$watch(s(e[m],b),null,l.literal),f.push(g);break;case"<":if(!Rr.call(e,m)){if(y)break;e[m]=void 0}if(y&&!e[m])break;l=s(e[m]);var x=i[o]=l(t);p[o]=new ve(Gi,i[o]),g=t.$watch(l,function(t,e){if(e===t){if(e===x)return;e=x}u(o,t,e),i[o]=t},l.literal),f.push(g);break;case"&":if(l=e.hasOwnProperty(m)?s(e[m]):h,l===h&&y)break;i[o]=function(e){return l(t,e)}}}),{initialChanges:p,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var $t,bt=/^\w/,wt=t.document.createElement("div"),St=O;I.prototype={$normalize:ge,$addClass:function(t){t&&t.length>0&&j.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&j.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=me(t,e);n&&n.length&&j.addClass(this.$$element,n);var r=me(e,t);r&&r.length&&j.removeClass(this.$$element,r)},$set:function(t,e,n,o){var a,s=this.$$element[0],u=zt(s,t),c=Wt(t),l=t;if(u?(this.$$element.prop(t,e),o=u):c&&(this[c]=e,l=c),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=st(t,"-"))),a=V(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=R(e,"src"===t);else if("img"===a&&"srcset"===t&&y(e)){for(var f="",p=Yr(e),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(p)?h:/(,)/,v=p.split(d),g=Math.floor(v.length/2),$=0;$<g;$++){var b=2*$;f+=R(Yr(v[b]),!0),f+=" "+Yr(v[b+1])}var w=Yr(v[2*$]).split(/\s/);f+=R(Yr(w[0]),!0),2===w.length&&(f+=" "+Yr(w[1])),this[t]=e=f}n!==!1&&(null===e||m(e)?this.$$element.removeAttr(o):bt.test(o)?this.$$element.attr(o,e):_(this.$$element[0],o,e));var x=this.$$observers;x&&r(x[l],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=dt()),i=r[t]||(r[t]=[]);return i.push(e),v.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||m(n[t])||e(n[t])}),function(){F(i,e)}}};var Ct=n.startSymbol(),Et=n.endSymbol(),kt="{{"==Ct&&"}}"==Et?d:function(t){return t.replace(/\{\{/g,Ct).replace(/}}/g,Et)},Tt=/^ngAttr[A-Z]/,Ot=/^(.+)Start$/;return M.$$addBindingInfo=A?function(t,e){var n=t.data("$binding")||[];Kr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:h,M.$$addBindingClass=A?function(t){P(t,"ng-binding")}:h,M.$$addScopeInfo=A?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:h,M.$$addScopeClass=A?function(t,e){P(t,e?"ng-isolate-scope":"ng-scope")}:h,M.$$createComment=function(e,n){var r="";return A&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},M}]}function ve(t,e){this.previousValue=t,this.currentValue=e}function ge(t){return wt(t.replace(Qi,""))}function me(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function ye(t){t=Fr(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];n.nodeType===ui&&Hr.call(t,e,1)}return t}function $e(t,e){if(e&&w(e))return e;if(w(t)){var n=Ji.exec(t);if(n)return n[3]}}function be(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){ft(e,"controller"),$(e)?c(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(t,n,r,i){if(!t||!$(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);t.$scope[n]=r}return function(e,a,s,u){var l,f,p,h;if(s=s===!0,u&&w(u)&&(h=u),w(e)){if(f=e.match(Ji),!f)throw Ki("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);p=f[1],h=h||f[3],e=t.hasOwnProperty(p)?t[p]:pt(a.$scope,p,!0)||(n?pt(i,p,!0):void 0),lt(e,p,!0)}if(s){var d=(Kr(e)?e[e.length-1]:e).prototype;l=Object.create(d||null),h&&o(a,h,l,p||e.name);var v;return v=c(function(){var t=r.invoke(e,l,a,p);return t!==l&&($(t)||C(t))&&(l=t,h&&o(a,h,l,p||e.name)),l},{instance:l,identifier:h})}return l=r.instantiate(e,a,p),h&&o(a,h,l,p||e.name),l}}]}function we(){this.$get=["$window",function(t){return Fr(t.document)}]}function xe(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Se(t){return $(t)?S(t)?t.toISOString():z(t):t}function Ce(){this.$get=function(){return function(t){if(!t)return"";var e=[];return i(t,function(t,n){null===t||m(t)||(Kr(t)?r(t,function(t){e.push(et(n)+"="+et(Se(t)))}):e.push(et(n)+"="+et(Se(t))))}),e.join("&")}}}function Ee(){this.$get=function(){return function(t){function e(t,o,a){null===t||m(t)||(Kr(t)?r(t,function(t,n){e(t,o+"["+($(t)?n:"")+"]")}):$(t)&&!S(t)?i(t,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):n.push(et(o)+"="+et(Se(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function ke(t,e){if(w(t)){var n=t.replace(no,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Xi)||Te(n))&&(t=W(n))}}return t}function Te(t){var e=t.match(to);return e&&eo[e[0]].test(t)}function Ae(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=dt();return w(t)?r(t.split("\n"),function(t){n=t.indexOf(":"),e(Dr(Yr(t.substr(0,n))),Yr(t.substr(n+1)))}):$(t)&&r(t,function(t,n){e(Dr(n),Yr(t))}),i}function Oe(t){var e;return function(n){if(e||(e=Ae(t)),n){var r=e[Dr(n)];return void 0===r&&(r=null),r}return e}}function je(t,e,n,i){return C(i)?i(t,e,n):(r(i,function(r){t=r(t,e,n)}),t)}function Ne(t){return 200<=t&&t<300}function Re(){var t=this.defaults={transformResponse:[ke],transformRequest:[function(t){return!$(t)||A(t)||j(t)||O(t)?t:z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:gt(Zi),put:gt(Zi),patch:gt(Zi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return y(t)?(n=!!t,this):n};var i=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(i=!!t,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,u,l,f,p){function h(n){function o(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function a(t,e){var n,i={};return r(t,function(t,r){C(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function s(e){var n,r,i,o=t.headers,s=c({},e.headers);o=c({},o.common,o[Dr(e.method)]);t:for(n in o){r=Dr(n);for(i in s)if(Dr(i)===r)continue t;s[n]=o[n]}return a(s,gt(e))}function u(e){var n=e.headers,i=je(e.data,Oe(n),void 0,e.transformRequest);return m(i)&&r(n,function(t,e){"content-type"===Dr(e)&&delete n[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),g(e,i).then(l,l)}function l(t){var e=c({},t);return e.data=je(t.data,t.headers,t.status,h.transformResponse),Ne(t.status)?e:f.reject(e)}if(!$(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(n.url))throw e("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var h=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);h.headers=s(n),h.method=Ir(h.method),h.paramSerializer=w(h.paramSerializer)?p.get(h.paramSerializer):h.paramSerializer;var d=[],v=[],y=f.when(h);return r(S,function(t){(t.request||t.requestError)&&d.unshift(t.request,t.requestError),(t.response||t.responseError)&&v.push(t.response,t.responseError)}),y=o(y,d),y=y.then(u),y=o(y,v),i?(y.success=function(t){return lt(t,"fn"),y.then(function(e){t(e.data,e.status,e.headers,h)}),y},y.error=function(t){return lt(t,"fn"),y.then(null,function(e){t(e.data,e.status,e.headers,h)}),y}):(y.success=io("success"),y.error=io("error")),y}function d(t){r(arguments,function(t){h[t]=function(e,n){return h(c({},n||{},{method:t,url:e}))}})}function v(t){r(arguments,function(t){h[t]=function(e,n,r){return h(c({},r||{},{method:t,url:e,data:n}))}})}function g(e,i){function o(t){if(t){var e={};return r(t,function(t,r){e[r]=function(e){function r(){t(e)}n?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}}),e}}function u(t,e,r,i){function o(){c(e,t,r,i)}v&&(Ne(t)?v.put(E,[t,e,Ae(r),i]):v.remove(E)),n?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function c(t,n,r,i){n=n>=-1?n:0,(Ne(n)?w.resolve:w.reject)({data:t,status:n,headers:Oe(r),config:e,statusText:i})}function p(t){c(t.data,t.status,gt(t.headers()),t.statusText)}function d(){var t=h.pendingRequests.indexOf(e);t!==-1&&h.pendingRequests.splice(t,1)}var v,g,w=f.defer(),S=w.promise,C=e.headers,E=b(e.url,e.paramSerializer(e.params));if(h.pendingRequests.push(e),S.then(d,d),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(v=$(e.cache)?e.cache:$(t.cache)?t.cache:x),v&&(g=v.get(E),y(g)?R(g)?g.then(p,p):Kr(g)?c(g[1],g[0],gt(g[2]),g[3]):c(g,200,{},"OK"):v.put(E,S)),m(g)){var k=_n(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;k&&(C[e.xsrfHeaderName||t.xsrfHeaderName]=k),a(e.method,E,i,u,C,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return S}function b(t,e){return e.length>0&&(t+=(t.indexOf("?")==-1?"?":"&")+e),t}var x=u("$http");t.paramSerializer=w(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var S=[];return r(o,function(t){S.unshift(w(t)?p.get(t):p.invoke(t))}),h.pendingRequests=[],d("get","delete","head","jsonp"),v("post","put","patch"),h.defaults=t,h}]}function De(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ie(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return _e(t,r,t.defer,e,n[0])}]}function _e(t,e,n,i,o){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=t,r.async=!0,a=function(t){vi(r,"load",a),vi(r,"error",a),o.body.removeChild(r),r=null;var s=-1,u="unknown";t&&("load"!==t.type||i.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},di(r,"load",a),di(r,"error",a),o.body.appendChild(r),a}return function(o,s,u,c,l,f,p,d,v,g){function $(){x&&x(),S&&S.abort()}function b(e,r,i,o,a){y(k)&&n.cancel(k),x=S=null,e(r,i,o,a),t.$$completeOutstandingRequest(h)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"===Dr(o))var w=i.createCallback(s),x=a(s,w,function(t,e){var n=200===t&&i.getResponse(w);b(c,t,n,"",e),i.removeCallback(w)});else{var S=e(o,s);S.open(o,s,!0),r(l,function(t,e){y(t)&&S.setRequestHeader(e,t)}),S.onload=function(){var t=S.statusText||"",e="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=e?200:"file"==In(s).protocol?404:0),b(c,n,e,S.getAllResponseHeaders(),t)};var C=function(){b(c,-1,null,null,"")};if(S.onerror=C,S.onabort=C,r(v,function(t,e){S.addEventListener(e,t)}),r(g,function(t,e){S.upload.addEventListener(e,t)}),p&&(S.withCredentials=!0),d)try{S.responseType=d}catch(E){if("json"!==d)throw E}S.send(m(u)?null:u)}if(f>0)var k=n($,f);else R(f)&&f.then($)}}function Pe(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(d,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=z(t)}return t}function u(t,e,n,r){var i;return i=t.$watch(function(t){return i(),r(t)},e,n)}function l(o,l,h,d){function g(t){try{return t=R(t),d&&!y(t)?t:s(t)}catch(e){r(oo.interr(o,e))}}if(!o.length||o.indexOf(t)===-1){var $;if(!l){var b=a(o);$=v(b),$.exp=o,$.expressions=[],$.$$watchDelegate=u}return $}d=!!d;for(var w,x,S,E=0,k=[],T=[],A=o.length,O=[],j=[];E<A;){if((w=o.indexOf(t,E))==-1||(x=o.indexOf(e,w+f))==-1){E!==A&&O.push(a(o.substring(E)));break}E!==w&&O.push(a(o.substring(E,w))),S=o.substring(w+f,x),k.push(S),T.push(n(S,g)),E=x+p,j.push(O.length),O.push("")}if(h&&O.length>1&&oo.throwNoconcat(o),!l||k.length){var N=function(t){for(var e=0,n=k.length;e<n;e++){if(d&&m(t[e]))return;O[j[e]]=t[e]}return O.join("")},R=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return c(function(t){var e=0,n=k.length,i=new Array(n);try{for(;e<n;e++)i[e]=T[e](t);return N(i)}catch(a){r(oo.interr(o,a))}},{exp:o,expressions:k,$$watchDelegate:function(t,e){var n;return t.$watchGroup(T,function(r,i){var o=N(r);C(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var f=t.length,p=e.length,h=new RegExp(t.replace(/./g,o),"g"),d=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function Ve(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,p):o(v)}var f=arguments.length>4,p=f?H(arguments,4):[],h=e.setInterval,d=e.clearInterval,v=0,g=y(c)&&!c,m=(g?r:n).defer(),$=m.promise;return u=y(u)?u:0,$.$$intervalId=h(function(){g?i.defer(l):t.$evalAsync(l),m.notify(v++),u>0&&v>=u&&(m.resolve(v),d($.$$intervalId),delete a[$.$$intervalId]),g||t.$apply()},s),a[$.$$intervalId]=m,$}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function Fe(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=tt(e[n]);return e.join("/")}function Me(t,e){var n=In(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||uo[n.protocol]||null}function Le(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=In(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=X(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function qe(t,e){return 0===t.lastIndexOf(e,0)}function He(t,e){if(qe(e,t))return e.substr(t.length)}function Ue(t){var e=t.indexOf("#");return e==-1?t:t.substr(0,e)}function Be(t){return t.replace(/(#.+)|#$/,"$1")}function ze(t){return t.substr(0,Ue(t).lastIndexOf("/")+1)}function We(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ge(t,e,n){this.$$html5=!0,n=n||"",Me(t,this),this.$$parse=function(t){var n=He(e,t);if(!w(n))throw co("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Le(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Z(this.$$search),n=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Fe(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return y(o=He(t,r))?(a=o,s=y(o=He(n,o))?e+(He("/",o)||o):t+a):y(o=He(e,r))?s=e+o:e==r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function Qe(t,e,n){Me(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return qe(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=He(t,r)||He(e,r);m(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",m(a)&&(t=r,this.replace())):(o=He(n,a),m(o)&&(o=a)),Le(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=Z(this.$$search),r=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Fe(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Ue(t)==Ue(e)&&(this.$$parse(e),!0)}}function Ke(t,e,n){this.$$html5=!0,Qe.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==Ue(r)?o=r:(a=He(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=Z(this.$$search),r=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Fe(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url}}function Je(t){return function(){return this[t]}}function Ye(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Xe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return N(t)?(e.enabled=t,this):$(t)?(N(t.enabled)&&(e.enabled=t.enabled),N(t.requireBase)&&(e.requireBase=t.requireBase),N(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(a){throw c.url(i),c.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,p=r.baseHref(),h=r.url();if(e.enabled){if(!p&&e.requireBase)throw co("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=We(h)+(p||"/"),l=i.history?Ge:Ke}else f=Ue(h),l=Qe;var d=ze(f);c=new l(f,d,"#"+t),c.$$parseLinkUrl(h,h),c.$$state=r.state();var v=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Fr(t.target);"a"!==V(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");$(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=In(s.animVal).href),v.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(s,u)&&(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Be(c.absUrl())!=Be(h)&&r.url(c.absUrl(),!0);var g=!0;return r.onUrlChange(function(t,e){return m(He(d,t))?void(a.location.href=t):(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=Be(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(g=!1,u(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=Be(r.url()),e=Be(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(g||l)&&(g=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Ze(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||h,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var t=[];return r(arguments,function(e){t.push(i(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function tn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw fo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function en(t){return t+""}function nn(t,e){if(t){if(t.constructor===t)throw fo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw fo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw fo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw fo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function rn(t,e){if(t){if(t.constructor===t)throw fo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===po||t===ho||t===vo)throw fo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function on(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw fo("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function an(t,e){return"undefined"!=typeof t?t:e}function sn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function un(t,e){var n=t(e);return!n.$stateful}function cn(t,e){var n,i;switch(t.type){case $o.Program:n=!0,r(t.body,function(t){cn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case $o.Literal:t.constant=!0,t.toWatch=[];break;case $o.UnaryExpression:cn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case $o.BinaryExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case $o.LogicalExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case $o.ConditionalExpression:cn(t.test,e),cn(t.alternate,e),cn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case $o.Identifier:t.constant=!1,t.toWatch=[t];break;case $o.MemberExpression:cn(t.object,e),t.computed&&cn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case $o.CallExpression:n=!!t.filter&&un(e,t.callee.name),i=[],r(t.arguments,function(t){cn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&un(e,t.callee.name)?i:[t];break;case $o.AssignmentExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case $o.ArrayExpression:n=!0,i=[],r(t.elements,function(t){cn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case $o.ObjectExpression:n=!0,i=[],r(t.properties,function(t){cn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case $o.ThisExpression:t.constant=!1,t.toWatch=[];break;case $o.LocalsExpression:t.constant=!1,t.toWatch=[]}}function ln(t){if(1==t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function fn(t){return t.type===$o.Identifier||t.type===$o.MemberExpression}function pn(t){if(1===t.body.length&&fn(t.body[0].expression))return{type:$o.AssignmentExpression,left:t.body[0].expression,right:{type:$o.NGValueParameter},operator:"="}}function hn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===$o.Literal||t.body[0].expression.type===$o.ArrayExpression||t.body[0].expression.type===$o.ObjectExpression)}function dn(t){return t.constant}function vn(t,e){this.astBuilder=t,this.$filter=e}function gn(t,e){this.astBuilder=t,this.$filter=e}function mn(t){return"constructor"==t}function yn(t){return C(t.valueOf)?t.valueOf():wo.call(t)}function $n(){var t,e,n=dt(),i=dt(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(a){function s(t,e,r){var o,s,c;switch(r=r||b,typeof t){case"string":t=t.trim(),c=t;var g=r?i:n;if(o=g[c],!o){":"===t.charAt(0)&&":"===t.charAt(1)&&(s=!0,t=t.substring(2));var y=r?$:m,w=new yo(y),x=new bo(w,a,y);o=x.parse(t),o.constant?o.$$watchDelegate=d:s?o.$$watchDelegate=o.literal?p:f:o.inputs&&(o.$$watchDelegate=l),r&&(o=u(o)),g[c]=o}return v(o,e);case"function":return v(t,e);default:return v(h,e)}}function u(t){function e(e,n,r,i){var o=b;b=!0;try{return t(e,n,r,i)}finally{b=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=u(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=u(t.inputs[n]);return e.inputs=t.inputs,e}function c(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=yn(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function l(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var s=c;return a=a[0],t.$watch(function(t){var e=a(t);return c(e,s)||(o=r(t,void 0,void 0,[e]),s=e&&yn(e)),o},e,n,i)}for(var u=[],l=[],f=0,p=a.length;f<p;f++)u[f]=c,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var s=a[n](t);(e||(e=!c(s,u[n])))&&(l[n]=s,u[n]=s&&yn(s))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function f(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,C(e)&&e.apply(this,arguments),y(t)&&r.$$postDigest(function(){y(o)&&i()})},n)}function p(t,e,n,i){function o(t){var e=!0;return r(t,function(t){y(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,r){s=t,C(e)&&e.call(this,t,n,r),o(t)&&r.$$postDigest(function(){o(s)&&a()})},n)}function d(t,e,n,r){var i;return i=t.$watch(function(t){return i(),r(t)},e,n)}function v(t,e){if(!e)return t;var n=t.$$watchDelegate,r=!1,i=n!==p&&n!==f,o=i?function(n,i,o,a){var s=r&&a?a[0]:t(n,i,o,a);return e(s,n,i)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return y(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==l?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=l,r=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}var g=Zr().noUnsafeEval,m={csp:g,expensiveChecks:!1,literals:M(o),isIdentifierStart:C(t)&&t,isIdentifierContinue:C(e)&&e},$={csp:g,expensiveChecks:!0,literals:M(o),isIdentifierStart:C(t)&&t,isIdentifierContinue:C(e)&&e},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function bn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return xn(function(e){t.$evalAsync(e)},e)}]}function wn(){this.$get=["$browser","$exceptionHandler",function(t,e){return xn(function(e){t.defer(e)},e)}]}function xn(t,n){function i(){this.$$state={status:0}}function o(t,e){return function(n){e.call(t,n)}}function a(t){var e,r,i;i=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,a=i.length;o<a;++o){r=i[o][0],e=i[o][t.status];try{C(e)?r.resolve(e(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(s){r.reject(s),n(s)}}}function s(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){a(e)}))}function u(){this.promise=new i}function l(t){var e=new u,n=0,i=Kr(t)?[]:{};return r(t,function(t,r){n++,y(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}function f(t){var e=h();return r(t,function(t){y(t).then(e.resolve,e.reject)}),e.promise}var p=e("$q",TypeError),h=function(){var t=new u;return t.resolve=o(t,t.resolve),t.reject=o(t,t.reject),t.notify=o(t,t.notify),t};c(i.prototype,{then:function(t,e,n){if(m(t)&&m(e)&&m(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&s(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return g(e,!0,t)},function(e){return g(e,!1,t)},e)}}),c(u.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){function e(t){u||(u=!0,a.$$resolve(t))}function r(t){u||(u=!0,a.$$reject(t))}var i,a=this,u=!1;try{($(t)||C(t))&&(i=t&&t.then),C(i)?(this.promise.$$state.status=-1,i.call(t,e,r,o(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,s(this.promise.$$state))}catch(c){r(c),n(c)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(e){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;o<a;o++){i=r[o][0],t=r[o][3];try{i.notify(C(t)?t(e):e)}catch(s){n(s)}}})}});var d=function(t){var e=new u;return e.reject(t),e.promise},v=function(t,e){var n=new u;return e?n.resolve(t):n.reject(t),n.promise},g=function(t,e,n){var r=null;try{C(n)&&(r=n())}catch(i){return v(i,!1)}return R(r)?r.then(function(){return v(t,e)},function(t){return v(t,!1)}):v(t,e)},y=function(t,e,n,r){var i=new u;return i.resolve(t),i.promise.then(e,n,r)},b=y,w=function(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!C(t))throw p("norslvr","Expected resolverFn, got '{0}'",t);var r=new u;return t(e,n),r.promise};return w.prototype=i.prototype,w.defer=h,w.reject=d,w.when=y,w.resolve=b,w.all=l,w.race=f,w}function Sn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Cn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return e.prototype=t,e}var i=10,o=e("$rootScope"),s=null,u=null;this.digestTtl=function(t){return arguments.length&&(i=t),i},this.$get=["$exceptionHandler","$parse","$browser",function(e,c,l){function f(t){t.currentScope.$$destroyed=!0}function p(t){9===Vr&&(t.$$childHead&&p(t.$$childHead),t.$$nextSibling&&p(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function d(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function v(t){if(E.$$phase)throw o("inprog","{0} already in progress",E.$$phase);E.$$phase=t}function g(){E.$$phase=null}function y(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function b(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function x(){for(;A.length;)try{A.shift()()}catch(t){e(t)}u=null}function S(){null===u&&(u=l.defer(function(){E.$apply(x)}))}d.prototype={constructor:d,$new:function(e,n){var r;return n=n||this,e?(r=new d,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,a=o.$$watchers,u={fn:e,last:w,get:i,exp:r||t,eq:!!n};return s=null,C(e)||(u.fn=h),a||(a=o.$$watchers=[]),a.unshift(u),y(this,1),function(){F(a,u)>=0&&y(o,-1),s=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(o,o,s)):e(o,i,s)}var i=new Array(t.length),o=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(o,o,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,r){o[0]=t,i[0]=n,e(o,t===n?o:i,r)}):(r(t,function(t,e){var r=s.$watch(t,function(t,r){o[e]=t,i[e]=r,u||(u=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function r(t){o=t;var e,r,i,s,u;if(!m(o)){if($(o))if(n(o)){a!==h&&(a=h,
g=a.length=0,f++),e=o.length,g!==e&&(f++,a.length=g=e);for(var c=0;c<e;c++)u=a[c],s=o[c],i=u!==u&&s!==s,i||u===s||(f++,a[c]=s)}else{a!==d&&(a=d={},g=0,f++),e=0;for(r in o)Rr.call(o,r)&&(e++,s=o[r],u=a[r],r in a?(i=u!==u&&s!==s,i||u===s||(f++,a[r]=s)):(g++,a[r]=s,f++));if(g>e){f++;for(r in a)Rr.call(o,r)||(g--,delete a[r])}}else a!==o&&(a=o,f++);return f}}function i(){if(v?(v=!1,e(o,o,u)):e(o,s,u),l)if($(o))if(n(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var r in o)Rr.call(o,r)&&(s[r]=o[r])}else s=o}r.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,p=c(t,r),h=[],d={},v=!0,g=0;return this.$watch(p,i)},$digest:function(){var t,n,r,a,c,f,p,h,d,m,y,$,b=i,S=this,A=[];v("$digest"),l.$$checkUrlChange(),this===E&&null!==u&&(l.defer.cancel(u),x()),s=null;do{h=!1,m=S;for(var j=0;j<k.length;j++){try{$=k[j],$.scope.$eval($.expression,$.locals)}catch(N){e(N)}s=null}k.length=0;t:do{if(f=m.$$watchers)for(p=f.length;p--;)try{if(t=f[p])if(c=t.get,(n=c(m))===(r=t.last)||(t.eq?L(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(t===s){h=!1;break t}}else h=!0,s=t,t.last=t.eq?M(n,null):n,a=t.fn,a(n,r===w?n:r,m),b<5&&(y=4-b,A[y]||(A[y]=[]),A[y].push({msg:C(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:r}))}catch(N){e(N)}if(!(d=m.$$watchersCount&&m.$$childHead||m!==S&&m.$$nextSibling))for(;m!==S&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((h||k.length)&&!b--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,A)}while(h||k.length);for(g();O<T.length;)try{T[O++]()}catch(N){e(N)}T.length=O=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&l.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){E.$$phase||k.length||l.defer(function(){k.length&&E.$digest()}),k.push({scope:this,expression:c(t),locals:e})},$$postDigest:function(t){T.push(t)},$apply:function(t){try{v("$apply");try{return this.$eval(t)}finally{g()}}catch(n){e(n)}finally{try{E.$digest()}catch(n){throw e(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=c(t),S()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);r!==-1&&(n[r]=null,b(i,1,t))}},$emit:function(t,n){var r,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=q([c],arguments,1);do{for(r=s.$$listeners[t]||a,c.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,l)}catch(f){e(f)}else r.splice(i,1),i--,o--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,n){var r=this,i=r,o=r,a={name:t,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[t])return a;for(var s,u,c,l=q([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[t]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(f){e(f)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var E=new d,k=E.$$asyncQueue=[],T=E.$$postDigestQueue=[],A=E.$$applyAsyncQueue=[],O=0;return E}]}function En(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=In(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function kn(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw xo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Xr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(E(t))return new RegExp("^"+t.source+"$");throw xo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Tn(t){var e=[];return y(t)&&r(t,function(t){e.push(kn(t))}),e}function An(){this.SCE_CONTEXTS=So;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Tn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Tn(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?_n(e):!!t.exec(e.href)}function i(n){var i,o,a=In(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw xo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||m(e)||""===e)return e;if("string"!=typeof e)throw xo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||m(e)||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===So.RESOURCE_URL){if(i(e))return e;throw xo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===So.HTML)return c(e);throw xo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw xo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),f={};return f[So.HTML]=o(l),f[So.CSS]=o(l),f[So.URL]=o(l),f[So.JS]=o(l),f[So.RESOURCE_URL]=o(f[So.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function On(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Vr<8)throw xo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=gt(So);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=d),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(So,function(t,e){var n=Dr(e);i[wt("parse_as_"+n)]=function(e){return o(t,e)},i[wt("get_trusted_"+n)]=function(e){return a(t,e)},i[wt("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function jn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=t.chrome&&t.chrome.app&&t.chrome.app.runtime,a=!o&&t.history&&t.history.pushState,s=f((/android (\d+)/.exec(Dr((t.navigator||{}).userAgent))||[])[1]),u=/Boxee/i.test((t.navigator||{}).userAgent),c=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,p=c.body&&c.body.style,h=!1,d=!1;if(p){for(var v in p)if(r=l.exec(v)){n=r[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),h=!!("transition"in p||n+"Transition"in p),d=!!("animation"in p||n+"Animation"in p),!s||h&&d||(h=w(p.webkitTransition),d=w(p.webkitAnimation))}return{history:!(!a||s<4||u),hasEvent:function(t){if("input"===t&&Vr<=11)return!1;if(m(i[t])){var e=c.createElement("div");i[t]="on"+t in e}return i[t]},csp:Zr(),vendorPrefix:n,transitions:h,animations:d,android:s}}]}function Nn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,r,i){function o(a,s){function u(t){if(!s)throw Co("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText);return r.reject(t)}o.totalPendingRequests++,w(a)&&!m(e.get(a))||(a=i.getTrustedResourceUrl(a));var l=n.defaults&&n.defaults.transformResponse;return Kr(l)?l=l.filter(function(t){return t!==ke}):l===ke&&(l=null),n.get(a,c({cache:e,transformResponse:l},t))["finally"](function(){o.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},u)}return o.totalPendingRequests=0,o}]}function Rn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),o=[];return r(i,function(t){var i=Gr.element(t).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+Xr(e)+"(\\s|\\||$)");i.test(r)&&o.push(t)}else r.indexOf(e)!=-1&&o.push(t)})}),o},i.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function Dn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){C(o)||(u=s,s=o,o=h);var c,l=H(arguments,3),f=y(u)&&!u,p=(f?r:n).defer(),d=p.promise;return c=e.defer(function(){try{p.resolve(o.apply(null,l))}catch(e){p.reject(e),i(e)}finally{delete a[d.$$timeoutId]}f||t.$apply()},s),d.$$timeoutId=c,a[c]=p,d}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function In(t){var e=t;return Vr&&(Eo.setAttribute("href",e),e=Eo.href),Eo.setAttribute("href",e),{href:Eo.href,protocol:Eo.protocol?Eo.protocol.replace(/:$/,""):"",host:Eo.host,search:Eo.search?Eo.search.replace(/^\?/,""):"",hash:Eo.hash?Eo.hash.replace(/^#/,""):"",hostname:Eo.hostname,port:Eo.port,pathname:"/"===Eo.pathname.charAt(0)?Eo.pathname:"/"+Eo.pathname}}function _n(t){var e=w(t)?In(t):t;return e.protocol===ko.protocol&&e.host===ko.host}function Pn(){this.$get=v(t)}function Vn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},r={},i="";return function(){var t,o,a,s,u,c=n.cookie||"";if(c!==i)for(i=c,t=i.split("; "),r={},a=0;a<t.length;a++)o=t[a],s=o.indexOf("="),s>0&&(u=e(o.substring(0,s)),m(r[u])&&(r[u]=e(o.substring(s+1))));return r}}function Fn(){this.$get=Vn}function Mn(t){function e(i,o){if($(i)){var a={};return r(i,function(t,n){a[n]=e(n,t)}),a}return t.factory(i+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Bn),e("date",or),e("filter",Ln),e("json",ar),e("limitTo",sr),e("lowercase",Do),e("number",zn),e("orderBy",cr),e("uppercase",Io)}function Ln(){return function(t,r,i,o){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=Un(r);switch(u){case"function":a=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=qn(r,i,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function qn(t,e,n,r){var i,o=$(t)&&n in t;return e===!0?e=L:C(e)||(e=function(t,e){return!m(t)&&(null===t||null===e?t===e:!($(e)||$(t)&&!g(t))&&(t=Dr(""+t),e=Dr(""+e),t.indexOf(e)!==-1))}),i=function(i){return o&&!$(i)?Hn(i,t[n],e,n,!1):Hn(i,t,e,n,r)}}function Hn(t,e,n,r,i,o){var a=Un(t),s=Un(e);if("string"===s&&"!"===e.charAt(0))return!Hn(t,e.substring(1),n,r,i);if(Kr(t))return t.some(function(t){return Hn(t,e,n,r,i)});switch(a){case"object":var u;if(i){for(u in t)if("$"!==u.charAt(0)&&Hn(t[u],e,n,r,!0))return!0;return!o&&Hn(t,e,n,r,!1)}if("object"===s){for(u in e){var c=e[u];if(!C(c)&&!m(c)){var l=u===r,f=l?t:t[u];if(!Hn(f,c,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Un(t){return null===t?"null":typeof t}function Bn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return m(n)&&(n=e.CURRENCY_SYM),m(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Qn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function zn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Qn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Wn(t){var e,n,r,i,o,a=0;for((n=t.indexOf(Ao))>-1&&(t=t.replace(Ao,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)==Oo;r++);if(r==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==Oo;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>To&&(e=e.splice(0,To-1),a=n-1,n=1),{d:e,e:a,i:n}}function Gn(t,e,n,r){var i=t.d,o=i.length-t.i;e=m(e)?Math.min(Math.max(n,o),r):+e;var a=e+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var f=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);f&&(i.unshift(f),t.i++)}function Qn(t,e,n,r,i){if(!w(t)&&!x(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",c="";if(a)c="";else{o=Wn(u),Gn(o,i,e.minFrac,e.maxFrac);var l=o.d,f=o.i,p=o.e,h=[];for(s=l.reduce(function(t,e){return t&&!e},!0);f<0;)l.unshift(0),f++;f>0?h=l.splice(f,l.length):(h=l,l=[0]);var d=[];for(l.length>=e.lgSize&&d.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)d.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),h.length&&(c+=r+h.join("")),p&&(c+="e+"+p)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Kn(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,i="-")),t=""+t;t.length<e;)t=Oo+t;return n&&(t=t.substr(t.length-e)),i+t}function Jn(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&n==-12&&(a=12),Kn(a,e,r,i)}}function Yn(t,e,n){return function(r,i){var o=r["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=Ir(a+t);return i[s][o]}}function Xn(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Kn(Math[r>0?"floor":"ceil"](r/60),2)+Kn(Math.abs(r%60),2)}function Zn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function tr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function er(t){return function(e){var n=Zn(e.getFullYear()),r=tr(e),i=+r-+n,o=1+Math.round(i/6048e5);return Kn(o,t)}}function nr(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function rr(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function ir(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function or(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=f(e[9]+e[10]),o=f(e[9]+e[11])),a.call(r,f(e[1]),f(e[2])-1,f(e[3]));var u=f(e[4]||0)-i,c=f(e[5]||0)-o,l=f(e[6]||0),p=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,p),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,u="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,w(n)&&(n=Ro.test(n)?f(n):e(n)),x(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;i;)s=No.exec(i),s?(c=q(c,s,1),i=c.pop()):(c.push(i),i=null);var l=n.getTimezoneOffset();return o&&(l=G(o,l),n=K(n,o,!0)),r(c,function(e){a=jo[e],u+=a?a(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function ar(){return function(t,e){return m(e)&&(e=2),z(t,e)}}function sr(){return function(t,e,r){return e=Math.abs(Number(e))===1/0?Number(e):f(e),isNaN(e)?t:(x(t)&&(t=t.toString()),n(t)?(r=!r||isNaN(r)?0:f(r),r=r<0?Math.max(0,t.length+r):r,e>=0?ur(t,r,r+e):0===r?ur(t,e,t.length):ur(t,Math.max(0,r+e),r)):t)}}function ur(t,e,n){return w(t)?t.slice(e,n):qr.call(t,e,n)}function cr(t){function r(e){return e.map(function(e){var n=1,r=d;if(C(e))r=e;else if(w(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function i(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return C(t.valueOf)&&(t=t.valueOf(),i(t))?t:g(t)&&(t=t.toString(),i(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&($(o)&&(o=t.index),$(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(t,i,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:f.map(function(n){return a(n.get(t),e)})}}function l(t,e){for(var n=0,r=f.length;n<r;n++){var i=h(t.predicateValues[n],e.predicateValues[n]);if(i)return i*f[n].descending*p}return h(t.tieBreaker,e.tieBreaker)*p}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);Kr(i)||(i=[i]),0===i.length&&(i=["+"]);var f=r(i),p=o?-1:1,h=C(u)?u:s,d=Array.prototype.map.call(t,c);return d.sort(l),t=d.map(function(t){return t.value})}}function lr(t){return C(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function fr(t,e){t.$name=e}function pr(t,e,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(e.name||e.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Vo,a.$rollbackViewValue=function(){r(s,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(t){t.$commitViewValue()})},a.$addControl=function(t){ft(t.$name,"input"),s.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],r(a.$pending,function(e,n){a.$setValidity(n,null,t)}),r(a.$error,function(e,n){a.$setValidity(n,null,t)}),r(a.$$success,function(e,n){a.$setValidity(n,null,t)}),F(s,t),t.$$parentForm=Vo},Tr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(F(r,n),0===r.length&&delete t[e])},$animate:i}),a.$setDirty=function(){i.removeClass(t,wa),i.addClass(t,xa),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(t,wa,xa+" "+Fo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(t){t.$setPristine()})},a.$setUntouched=function(){r(s,function(t){t.$setUntouched()})},a.$setSubmitted=function(){i.addClass(t,Fo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function hr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function dr(t,e,n,r,i,o){vr(t,e,n,r,i,o),hr(r)}function vr(t,e,n,r,i,o){var a=Dr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Yr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),Xo[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(Yo,function(t){if(!u){var e=this[Nr],n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function gr(t,e){if(S(t))return t;if(w(t)){Qo.lastIndex=0;var n=Qo.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=Zn(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function mr(t,e){return function(n,i){var o,a;if(S(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ho.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function yr(t,e,n,r){return function(i,o,a,s,u,c,l){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return y(t)&&!S(t)?n(t)||void 0:t}$r(i,o,a,s),vr(i,o,a,s,u,c);var h,d=s&&s.$options&&s.$options.timezone;if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var r=n(t,h);return d&&(r=K(r,d)),r}}),s.$formatters.push(function(t){if(t&&!S(t))throw Aa("datefmt","Expected `{0}` to be a date",t);return f(t)?(h=t,h&&d&&(h=K(h,d,!0)),l("date")(t,r,d)):(h=null,"")}),y(a.min)||a.ngMin){var v;s.$validators.min=function(t){return!f(t)||m(v)||n(t)>=v},a.$observe("min",function(t){v=p(t),s.$validate()})}if(y(a.max)||a.ngMax){var g;s.$validators.max=function(t){return!f(t)||m(g)||n(t)<=g},a.$observe("max",function(t){g=p(t),s.$validate()})}}}function $r(t,e,n,r){var i=e[0],o=r.$$hasNativeValidators=$(i.validity);o&&r.$parsers.push(function(t){var n=e.prop(Nr)||{};return n.badInput||n.typeMismatch?void 0:t})}function br(t,e,n,r,i,o){if($r(t,e,n,r),vr(t,e,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:zo.test(t)?parseFloat(t):void 0}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!x(t))throw Aa("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(n.min)||n.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||m(a)||t>=a},n.$observe("min",function(t){y(t)&&!x(t)&&(t=parseFloat(t)),a=x(t)&&!isNaN(t)?t:void 0,r.$validate()})}if(y(n.max)||n.ngMax){var s;r.$validators.max=function(t){return r.$isEmpty(t)||m(s)||t<=s},n.$observe("max",function(t){y(t)&&!x(t)&&(t=parseFloat(t)),s=x(t)&&!isNaN(t)?t:void 0,r.$validate()})}}function wr(t,e,n,r,i,o){vr(t,e,n,r,i,o),hr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||Uo.test(n)}}function xr(t,e,n,r,i,o){vr(t,e,n,r,i,o),hr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Bo.test(n)}}function Sr(t,e,n,r){m(n.name)&&e.attr("name",a());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function Cr(t,e,n,r,i){var o;if(y(r)){if(o=t(r),!o.constant)throw Aa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function Er(t,e,n,r,i,o,a,s){var u=Cr(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Cr(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return L(t,u)}),r.$parsers.push(function(t){return t?u:c})}function kr(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function o(t){var e=[];return Kr(t)?(r(t,function(t){e=e.concat(o(t))}),e):w(t)?t.split(" "):$(t)?(r(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,u){function c(t){var e=f(t,1);u.$addClass(e)}function l(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||dt(),i=[];return r(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),s.data("$classCounts",n),i.join(" ")}function p(t,e){var r=i(e,t),o=i(t,e);r=f(r,1),o=f(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function h(t){if(e===!0||(1&a.$index)===e){var n=o(t||[]);if(d){if(!L(t,d)){var r=o(d);p(r,n)}}else c(n)}d=Kr(t)?t.map(function(t){return gt(t)}):gt(t)}var d;a.$watch(u[t],h,!0),u.$observe("class",function(e){h(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(u[t]));i===e?c(s):l(s)}})}}}]}function Tr(t){function e(t,e,s){m(e)?n("$pending",t,s):r("$pending",t,s),N(e)?e?(l(a.$error,t,s),c(a.$$success,t,s)):(c(a.$error,t,s),l(a.$$success,t,s)):(l(a.$error,t,s),l(a.$$success,t,s)),a.$pending?(i(Ea,!0),a.$valid=a.$invalid=void 0,o("",null)):(i(Ea,!1),a.$valid=Ar(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var u;u=a.$pending&&a.$pending[t]?void 0:!a.$error[t]&&(!!a.$$success[t]||null),o(t,u),a.$$parentForm.$setValidity(t,u,a)}function n(t,e,n){a[t]||(a[t]={}),c(a[t],e,n)}function r(t,e,n){a[t]&&l(a[t],e,n),Ar(a[t])&&(a[t]=void 0)}function i(t,e){e&&!u[t]?(f.addClass(s,t),u[t]=!0):!e&&u[t]&&(f.removeClass(s,t),u[t]=!1)}function o(t,e){t=t?"-"+st(t,"-"):"",i($a+t,e===!0),i(ba+t,e===!1)}var a=t.ctrl,s=t.$element,u={},c=t.set,l=t.unset,f=t.$animate;u[ba]=!(u[$a]=s.hasClass($a)),a.$setValidity=e}function Ar(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Or(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var jr=/^\/(.+)\/([a-z]*)$/,Nr="validity",Rr=Object.prototype.hasOwnProperty,Dr=function(t){return w(t)?t.toLowerCase():t},Ir=function(t){return w(t)?t.toUpperCase():t},_r=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Pr=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(Dr=_r,Ir=Pr);var Vr,Fr,Mr,Lr,qr=[].slice,Hr=[].splice,Ur=[].push,Br=Object.prototype.toString,zr=Object.getPrototypeOf,Wr=e("ng"),Gr=t.angular||(t.angular={}),Qr=0;Vr=t.document.documentMode,h.$inject=[],d.$inject=[];var Kr=Array.isArray,Jr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Yr=function(t){return w(t)?t.trim():t},Xr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Zr=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!y(Zr.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Zr.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else Zr.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Zr.rules},ti=function(){if(y(ti.name_))return ti.name_;var e,n,r,i,o=ni.length;for(n=0;n<o;++n)if(r=ni[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return ti.name_=i},ei=/:/g,ni=["ng-","data-ng-","ng:","x-ng-"],ri=/[A-Z]/g,ii=!1,oi=1,ai=2,si=3,ui=8,ci=9,li=11,fi={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};Ot.expando="ng339";var pi=Ot.cache={},hi=1,di=function(t,e,n){t.addEventListener(e,n,!1)},vi=function(t,e,n){t.removeEventListener(e,n,!1)};Ot._data=function(t){return this.cache[t[this.expando]]||{}};var gi=/([\:\-\_]+(.))/g,mi=/^moz([A-Z])/,yi={mouseleave:"mouseout",mouseenter:"mouseover"},$i=e("jqLite"),bi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wi=/<|&#?\w+;/,xi=/<([\w:-]+)/,Si=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ci={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ci.optgroup=Ci.option,Ci.tbody=Ci.tfoot=Ci.colgroup=Ci.caption=Ci.thead,Ci.th=Ci.td;var Ei=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},ki=Ot.prototype={ready:function(e){function n(){r||(r=!0,e())}var r=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),Ot(t).on("load",n))},toString:function(){var t=[];return r(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Fr(t>=0?this[t]:this[this.length+t])},length:0,push:Ur,sort:[].sort,splice:[].splice},Ti={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Ti[Dr(t)]=t});var Ai={};r("input,select,option,textarea,button,form,details".split(","),function(t){Ai[t]=!0});var Oi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:_t,removeData:Dt,hasData:Ct,cleanData:Et},function(t,e){Ot[e]=t}),r({data:_t,inheritedData:qt,scope:function(t){return Fr.data(t,"$scope")||qt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Fr.data(t,"$isolateScope")||Fr.data(t,"$isolateScopeNoTemplate")},controller:Lt,injector:function(t){return qt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Pt,css:function(t,e,n){return e=wt(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var r=t.nodeType;if(r!==si&&r!==ai&&r!==ui){var i=Dr(e);if(Ti[i]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||h).specified?i:void 0;n?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?void 0:o}}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return n===oi||n===si?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===V(t)){var n=[];return r(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(Nt(t,!0),void(t.innerHTML=e))},empty:Ht},function(t,e){Ot.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==Ht&&m(2==t.length&&t!==Pt&&t!==Lt?e:n)){if($(e)){for(r=0;r<o;r++)if(t===_t)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=m(a)?Math.min(o,1):o,u=0;u<s;u++){var c=t(this[u],e,n);a=a?a+c:c}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),r({removeData:Dt,on:function(t,e,n,r){if(y(r))throw $i("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(St(t)){var i=It(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Gt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,c=function(e,r,i){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||i||di(t,e,a)),s.push(n)};u--;)e=s[u],yi[e]?(c(yi[e],Kt),c(e,void 0,!0)):c(e)}},off:Rt,one:function(t,e,n){t=Fr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Nt(t),r(new Ot(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return r(t.childNodes,function(t){t.nodeType===oi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===oi||n===li){e=new Ot(e);for(var r=0,i=e.length;r<i;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===oi){var n=t.firstChild;r(new Ot(e),function(e){
t.insertBefore(e,n)})}},wrap:function(t,e){At(t,Fr(e).eq(0).clone()[0])},remove:Ut,detach:function(t){Ut(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new Ot(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Ft,removeClass:Vt,toggleClass:function(t,e,n){e&&r(e.split(" "),function(e){var r=n;m(r)&&(r=!Pt(t,e)),(r?Ft:Vt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==li?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:jt,triggerHandler:function(t,e,n){var i,o,a,s=e.type||e,u=It(t),l=u&&u.events,f=l&&l[s];f&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:t},e.type&&(i=c(i,e)),o=gt(f),a=n?[i].concat(n):[i],r(o,function(e){i.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Ot.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)m(i)?(i=t(this[o],e,n,r),y(i)&&(i=Fr(i))):Mt(i,t(this[o],e,n,r));return y(i)?i:this},Ot.prototype.bind=Ot.prototype.on,Ot.prototype.unbind=Ot.prototype.off}),Xt.prototype={put:function(t,e){this[Yt(t,this.nextUid)]=e},get:function(t){return this[Yt(t,this.nextUid)]},remove:function(t){var e=this[t=Yt(t,this.nextUid)];return delete this[t],e}};var ji=[function(){this.$get=[function(){return Xt}]}],Ni=/^([^\(]+?)=>/,Ri=/^[^\(]*\(\s*([^\)]*)\)/m,Di=/,/,Ii=/^\s*(_?)(\S+?)\1\s*$/,_i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pi=e("$injector");re.$$annotate=ne;var Vi=e("$animate"),Fi=1,Mi="ng-animate",Li=function(){this.$get=h},qi=function(){var t=new Xt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(t,e,n){var i=!1;return e&&(e=w(e)?e.split(" "):Kr(e)?e:[],r(e,function(e){e&&(i=!0,t[e]=n)})),i}function a(){r(e,function(e){var n=t.get(e);if(n){var i=se(e.attr("class")),o="",a="";r(n,function(t,e){var n=!!i[e];t!==n&&(t?o+=(o.length?" ":"")+e:a+=(a.length?" ":"")+e)}),r(e,function(t){o&&Ft(t,o),a&&Vt(t,a)}),t.remove(e)}}),e.length=0}function s(n,r,s){var u=t.get(n)||{},c=o(u,r,!0),l=o(u,s,!1);(c||l)&&(t.put(n,u),e.push(n),1===e.length&&i.$$postDigest(a))}return{enabled:h,on:h,off:h,pin:h,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},Hi=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Vi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Mi+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Vi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Mi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=ae(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Fr(r),i=i&&Fr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",ue(o))},move:function(n,r,i,o){return r=r&&Fr(r),i=i&&Fr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",ue(o))},leave:function(e,n){return t.push(e,"leave",ue(n),function(){e.remove()})},addClass:function(e,n,r){return r=ue(r),r.addClass=oe(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=ue(r),r.removeClass=oe(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=ue(i),i.addClass=oe(i.addClass,n),i.removeClass=oe(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=ue(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=oe(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Ui=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Bi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,i,o){function a(t){this.setHost(t);var e=n(),r=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=i[0];n&&n.hidden?r(t):e(t)},this._state=0}var s=0,u=1,c=2;return a.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},a.all=function(t,e){function n(n){o=o&&n,++i===t.length&&e(o)}var i=0,o=!0;r(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===c?t():this._doneCallbacks.push(t)},progress:h,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==c&&(r(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=c)}},a}]},zi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=M(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},Wi=e("$compile"),Gi=new he;de.$inject=["$provide","$$sanitizeUriProvider"],ve.prototype.isFirstChange=function(){return this.previousValue===Gi};var Qi=/^((?:x|data)[\:\-_])/i,Ki=e("$controller"),Ji=/^(\S+)(\s+as\s+([\w$]+))?$/,Yi=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Fr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Xi="application/json",Zi={"Content-Type":Xi+";charset=utf-8"},to=/^\[|^\{(?!\{)/,eo={"[":/]$/,"{":/}$/},no=/^\)\]\}',?\n/,ro=e("$http"),io=function(t){return function(){throw ro("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},oo=Gr.$interpolateMinErr=e("$interpolate");oo.throwNoconcat=function(t){throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},oo.interr=function(t,e){return oo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var ao=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,r={};return{createCallback:function(t){var i="_"+(n.$$counter++).toString(36),o="angular.callbacks."+i,a=e(i);return r[o]=n[i]=a,o},wasCalled:function(t){return r[t].called},getResponse:function(t){return r[t].data},removeCallback:function(t){var e=r[t];delete n[e.id],delete r[t]}}}]},so=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,uo={http:80,https:443,ftp:21},co=e("$location"),lo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Je("$$absUrl"),url:function(t){if(m(t))return this.$$url;var e=so.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Je("$$protocol"),host:Je("$$host"),port:Je("$$port"),path:Ye("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||x(t))t=t.toString(),this.$$search=X(t);else{if(!$(t))throw co("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=M(t,{}),r(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ye("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Ke,Qe,Ge],function(t){t.prototype=Object.create(lo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ge||!this.$$html5)throw co("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(e)?null:e,this}});var fo=e("$parse"),po=Function.prototype.call,ho=Function.prototype.apply,vo=Function.prototype.bind,go=dt();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){go[t]=!0});var mo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},yo=function(t){this.options=t};yo.prototype={constructor:yo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=go[e],o=go[n],a=go[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw fo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Dr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=mo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var $o=function(t,e){this.lexer=t,this.options=e};$o.Program="Program",$o.ExpressionStatement="ExpressionStatement",$o.AssignmentExpression="AssignmentExpression",$o.ConditionalExpression="ConditionalExpression",$o.LogicalExpression="LogicalExpression",$o.BinaryExpression="BinaryExpression",$o.UnaryExpression="UnaryExpression",$o.CallExpression="CallExpression",$o.MemberExpression="MemberExpression",$o.Identifier="Identifier",$o.Literal="Literal",$o.ArrayExpression="ArrayExpression",$o.Property="Property",$o.ObjectExpression="ObjectExpression",$o.ThisExpression="ThisExpression",$o.LocalsExpression="LocalsExpression",$o.NGValueParameter="NGValueParameter",$o.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:$o.Program,body:t}},expressionStatement:function(){return{type:$o.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:$o.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:$o.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:$o.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:$o.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:$o.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=M(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:$o.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:$o.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:$o.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:$o.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:$o.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:$o.Identifier,name:t.text}},constant:function(){return{type:$o.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:$o.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:$o.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:$o.ObjectExpression,properties:e}},throwError:function(t,e){throw fo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw fo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw fo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{"this":{type:$o.ThisExpression},$locals:{type:$o.LocalsExpression}}},vn.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},cn(i,n.$filter);var o,a="";if(this.stage="assign",o=pn(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var u=ln(i.body);n.stage="inputs",r(u,function(t,e){var r="fn"+e;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(t,i),n.return_(i),n.state.inputs.push(r),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,tn,nn,rn,en,on,an,sn,t);return this.state=this.stage=void 0,l.literal=hn(i),l.constant=dn(i),l},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return r(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return r(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,o,a){var s,u,c,l,f,p=this;if(i=i||h,!a&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,o,!0));switch(t.type){case $o.Program:r(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?p.current().body.push(u,";"):p.return_(u)});break;case $o.Literal:l=this.escape(t.value),this.assign(e,l),i(l);break;case $o.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),i(l);break;case $o.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),i(l);break;case $o.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),i(e);break;case $o.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),i(e);break;case $o.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),tn(t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),(p.state.expensiveChecks||mn(t.name))&&p.addEnsureSafeObject(e),i(e);break;case $o.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,s,void 0,function(){p.if_(p.notNull(s),function(){o&&1!==o&&p.addEnsureSafeAssignContext(s),t.computed?(u=p.nextId(),p.recurse(t.property,u),p.getStringValue(u),p.addEnsureSafeMemberName(u),o&&1!==o&&p.if_(p.not(p.computedMember(s,u)),p.lazyAssign(p.computedMember(s,u),"{}")),l=p.ensureSafeObject(p.computedMember(s,u)),p.assign(e,l),n&&(n.computed=!0,n.name=u)):(tn(t.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(s,t.property.name)),p.lazyAssign(p.nonComputedMember(s,t.property.name),"{}")),l=p.nonComputedMember(s,t.property.name),(p.state.expensiveChecks||mn(t.property.name))&&(l=p.ensureSafeObject(l)),p.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),i(e)},!!o);break;case $o.CallExpression:e=e||this.nextId(),t.filter?(u=p.filter(t.callee.name),c=[],r(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",p.assign(e,l),i(e)):(u=p.nextId(),s={},c=[],p.recurse(t.callee,u,s,function(){p.if_(p.notNull(u),function(){p.addEnsureSafeFunction(u),r(t.arguments,function(t){p.recurse(t,p.nextId(),void 0,function(t){c.push(p.ensureSafeObject(t))})}),s.name?(p.state.expensiveChecks||p.addEnsureSafeObject(s.context),l=p.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):l=u+"("+c.join(",")+")",l=p.ensureSafeObject(l),p.assign(e,l)},function(){p.assign(e,"undefined")}),i(e)}));break;case $o.AssignmentExpression:if(u=this.nextId(),s={},!fn(t.left))throw fo("lval","Trying to assign a value to a non l-value");this.recurse(t.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(t.right,u),p.addEnsureSafeObject(p.member(s.context,s.name,s.computed)),p.addEnsureSafeAssignContext(s.context),l=p.member(s.context,s.name,s.computed)+t.operator+u,p.assign(e,l),i(e||l)})},1);break;case $o.ArrayExpression:c=[],r(t.elements,function(t){p.recurse(t,p.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),i(l);break;case $o.ObjectExpression:c=[],f=!1,r(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),r(t.properties,function(t){t.computed?(s=p.nextId(),p.recurse(t.key,s)):s=t.key.type===$o.Identifier?t.key.name:""+t.key.value,u=p.nextId(),p.recurse(t.value,u),p.assign(p.member(e,s,t.computed),u)})):(r(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){c.push(p.escape(e.key.type===$o.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),i(e||l);break;case $o.ThisExpression:this.assign(e,"s"),i("s");break;case $o.LocalsExpression:this.assign(e,"l"),i("l");break;case $o.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(w(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw fo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},gn.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,cn(i,n.$filter);var o,a;(o=pn(i))&&(a=this.recurse(o));var s,u=ln(i.body);u&&(s=[],r(u,function(t,e){var r=n.recurse(t);t.input=r,s.push(r),t.watchId=e}));var c=[];r(i.body,function(t){c.push(n.recurse(t.expression))});var l=0===i.body.length?h:1===i.body.length?c[0]:function(t,e){var n;return r(c,function(r){n=r(t,e)}),n};return a&&(l.assign=function(t,e,n){return a(t,n,e)}),s&&(l.inputs=s),l.literal=hn(i),l.constant=dn(i),l},recurse:function(t,e,n){var i,o,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case $o.Literal:return this.value(t.value,e);case $o.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case $o.BinaryExpression:return i=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](i,o,e);case $o.LogicalExpression:return i=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](i,o,e);case $o.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case $o.Identifier:return tn(t.name,s.expression),s.identifier(t.name,s.expensiveChecks||mn(t.name),e,n,s.expression);case $o.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(tn(t.property.name,s.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(i,o,e,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,e,n,s.expression);case $o.CallExpression:return a=[],r(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,r,i){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,i));var c=o.apply(void 0,s,i);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,i){var u,c=o(t,n,r,i);if(null!=c.value){nn(c.context,s.expression),rn(c.value,s.expression);for(var l=[],f=0;f<a.length;++f)l.push(nn(a[f](t,n,r,i),s.expression));u=nn(c.value.apply(c.context,l),s.expression)}return e?{value:u}:u};case $o.AssignmentExpression:return i=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,r,a){var u=i(t,n,r,a),c=o(t,n,r,a);return nn(u.value,s.expression),on(u.context),u.context[u.name]=c,e?{value:c}:c};case $o.ArrayExpression:return a=[],r(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case $o.ObjectExpression:return a=[],r(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===$o.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case $o.ThisExpression:return function(t){return e?{value:t}:t};case $o.LocalsExpression:return function(t,n){return e?{value:n}:n};case $o.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=y(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=y(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=sn(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=(y(s)?s:0)-(y(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){
var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,r,i){return function(o,a,s,u){var c=a&&t in a?a:o;r&&1!==r&&c&&!c[t]&&(c[t]={});var l=c?c[t]:void 0;return e&&nn(l,i),n?{context:c,name:t,value:l}:l}},computedMember:function(t,e,n,r,i){return function(o,a,s,u){var c,l,f=t(o,a,s,u);return null!=f&&(c=e(o,a,s,u),c=en(c),tn(c,i),r&&1!==r&&(on(f),f&&!f[c]&&(f[c]={})),l=f[c],nn(l,i)),n?{context:f,name:c,value:l}:l}},nonComputedMember:function(t,e,n,r,i,o){return function(a,s,u,c){var l=t(a,s,u,c);i&&1!==i&&(on(l),l&&!l[e]&&(l[e]={}));var f=null!=l?l[e]:void 0;return(n||mn(e))&&nn(f,o),r?{context:l,name:e,value:f}:f}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var bo=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new $o(t,n),this.astCompiler=n.csp?new gn(this.ast,e):new vn(this.ast,e)};bo.prototype={constructor:bo,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var wo=Object.prototype.valueOf,xo=e("$sce"),So={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Co=e("$compile"),Eo=t.document.createElement("a"),ko=In(t.location.href);Vn.$inject=["$document"],Mn.$inject=["$provide"];var To=22,Ao=".",Oo="0";Bn.$inject=["$locale"],zn.$inject=["$locale"];var jo={yyyy:Jn("FullYear",4,0,!1,!0),yy:Jn("FullYear",2,0,!0,!0),y:Jn("FullYear",1,0,!1,!0),MMMM:Yn("Month"),MMM:Yn("Month",!0),MM:Jn("Month",2,1),M:Jn("Month",1,1),LLLL:Yn("Month",!1,!0),dd:Jn("Date",2),d:Jn("Date",1),HH:Jn("Hours",2),H:Jn("Hours",1),hh:Jn("Hours",2,-12),h:Jn("Hours",1,-12),mm:Jn("Minutes",2),m:Jn("Minutes",1),ss:Jn("Seconds",2),s:Jn("Seconds",1),sss:Jn("Milliseconds",3),EEEE:Yn("Day"),EEE:Yn("Day",!0),a:nr,Z:Xn,ww:er(2),w:er(1),G:rr,GG:rr,GGG:rr,GGGG:ir},No=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ro=/^\-?\d+$/;or.$inject=["$locale"];var Do=v(Dr),Io=v(Ir);cr.$inject=["$parse"];var _o=v({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Br.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Po={};r(Ti,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=ge("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Po[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Oi,function(t,e){Po[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(jr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),r(["src","srcset","href"],function(t){var e=ge("ng-"+t);Po[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Br.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(Vr&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var Vo={$addControl:h,$$renameControl:fr,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},Fo="ng-submitted";pr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Mo=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||h}var i={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:pr,compile:function(n,i){n.addClass(wa).addClass($a);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};di(n[0],"submit",u),n.on("$destroy",function(){e(function(){vi(n[0],"submit",u)},0,!1)})}var l=a[1]||s.$$parentForm;l.$addControl(s);var f=o?r(s.$name):h;o&&(f(t,s),i.$observe(o,function(e){s.$name!==e&&(f(t,void 0),s.$$parentForm.$$renameControl(s,e),(f=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),f(t,void 0),c(s,Vo)})}}}};return i}]},Lo=Mo(),qo=Mo(!0),Ho=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Uo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Bo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,zo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Wo=/^(\d{4,})-(\d{2})-(\d{2})$/,Go=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Qo=/^(\d{4,})-W(\d\d)$/,Ko=/^(\d{4,})-(\d\d)$/,Jo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yo="keydown wheel mousedown",Xo=dt();r("date,datetime-local,month,time,week".split(","),function(t){Xo[t]=!0});var Zo={text:dr,date:yr("date",Wo,mr(Wo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yr("datetimelocal",Go,mr(Go,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yr("time",Jo,mr(Jo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yr("week",Qo,gr,"yyyy-Www"),month:yr("month",Ko,mr(Ko,["yyyy","MM"]),"yyyy-MM"),number:br,url:wr,email:xr,radio:Sr,checkbox:Er,hidden:h,button:h,submit:h,reset:h,file:h},ta=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Zo[Dr(a.type)]||Zo.text)(i,o,a,s[0],e,t,n,r)}}}}],ea=/^(true|false|\d+)$/,na=function(){return{restrict:"A",priority:100,compile:function(t,e){return ea.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},ra=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=m(t)?"":t})}}}}],ia=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=m(t)?"":t})}}}}],oa=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],aa=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),sa=kr("",!0),ua=kr("Odd",0),ca=kr("Even",1),la=lr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),fa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],pa={},ha={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ge("ng-"+t);pa[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};ha[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var da=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=ht(s.clone),t.leave(c).then(function(){c=null}),s=null))})}}}],va=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Gr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,p,h,d=0,v=function(){p&&(p.remove(),p=null),f&&(f.$destroy(),f=null),h&&(n.leave(h).then(function(){p=null}),p=h,h=null)};r.$watch(o,function(o){var u=function(){!y(s)||s&&!r.$eval(s)||e()},p=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&p===d){var e=r.$new();c.template=t;var s=l(e,function(t){v(),n.enter(t,null,i).then(u)});f=e,h=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p===d&&(v(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(v(),c.template=null)})}}}}],ga=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return Br.call(r[0]).match(/SVG/)?(r.empty(),void e(kt(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],ma=lr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ya=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var o=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Yr(o):o,u=function(t){if(!m(t)){var e=[];return t&&r(t.split(s),function(t){t&&e.push(a?Yr(t):t)}),e}};i.$parsers.push(u),i.$formatters.push(function(t){if(Kr(t))return t.join(o)}),i.$isEmpty=function(t){return!t||!t.length}}}},$a="ng-valid",ba="ng-invalid",wa="ng-pristine",xa="ng-dirty",Sa="ng-untouched",Ca="ng-touched",Ea="ng-pending",ka="ng-empty",Ta="ng-not-empty",Aa=e("ngModel"),Oa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,i,o,a,s,u,c,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=Vo;var f,p=o(n.ngModel),d=p.assign,v=p,g=d,$=null,b=this;this.$$setOptions=function(t){if(b.$options=t,t&&t.getterSetter){var e=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");v=function(t){var n=p(t);return C(n)&&(n=e(t)),n},g=function(t,e){C(p(t))?r(t,{$$$p:e}):d(t,e)}}else if(!p.assign)throw Aa("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,J(i))},this.$render=h,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){b.$isEmpty(t)?(a.removeClass(i,Ta),a.addClass(i,ka)):(a.removeClass(i,ka),a.addClass(i,Ta))};var w=0;Tr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(i,xa),a.addClass(i,wa)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(i,wa),a.addClass(i,xa),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(i,Sa,Ca)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(i,Ca,Sa)},this.$rollbackViewValue=function(){s.cancel($),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!x(b.$modelValue)||!isNaN(b.$modelValue)){var t=b.$$lastCommittedViewValue,e=b.$$rawModelValue,n=b.$valid,r=b.$modelValue,i=b.$options&&b.$options.allowInvalid;b.$$runValidators(e,t,function(t){i||n===t||(b.$modelValue=t?e:void 0,b.$modelValue!==r&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function i(){var t=b.$$parserName||"parse";return m(f)?(s(t,null),!0):(f||(r(b.$validators,function(t,e){s(e,null)}),r(b.$asyncValidators,function(t,e){s(e,null)})),s(t,f),f)}function o(){var n=!0;return r(b.$validators,function(r,i){var o=r(t,e);n=n&&o,s(i,o)}),!!n||(r(b.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],i=!0;r(b.$asyncValidators,function(r,o){var a=r(t,e);if(!R(a))throw Aa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?c.all(n).then(function(){u(i)},h):u(!0)}function s(t,e){l===w&&b.$setValidity(t,e)}function u(t){l===w&&n(t)}w++;var l=w;return i()&&o()?void a():void u(!1)},this.$commitViewValue=function(){var t=b.$viewValue;s.cancel($),(b.$$lastCommittedViewValue!==t||""===t&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(t),b.$$lastCommittedViewValue=t,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){b.$modelValue!==o&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,r=n;if(f=!m(r)||void 0)for(var i=0;i<b.$parsers.length;i++)if(r=b.$parsers[i](r),m(r)){f=!1;break}x(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=v(t));var o=b.$modelValue,a=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=r,a&&(b.$modelValue=r,e()),b.$$runValidators(r,b.$$lastCommittedViewValue,function(t){a||(b.$modelValue=t?r:void 0,e())})},this.$$writeModelToScope=function(){g(t,b.$modelValue),r(b.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){b.$viewValue=t,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=b.$options;i&&y(i.debounce)&&(n=i.debounce,x(n)?r=n:x(n[e])?r=n[e]:x(n["default"])&&(r=n["default"])),s.cancel($),r?$=s(function(){b.$commitViewValue()},r):u.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==b.$modelValue&&(b.$modelValue===b.$modelValue||e===e)){b.$modelValue=b.$$rawModelValue=e,f=void 0;for(var n=b.$formatters,r=n.length,i=e;r--;)i=n[r](i);b.$viewValue!==i&&(b.$$updateEmptyClasses(i),b.$viewValue=b.$$lastCommittedViewValue=i,b.$render(),b.$$runValidators(e,i,h))}return e})}],ja=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Oa,priority:1,compile:function(e){return e.addClass(wa).addClass(Sa).addClass($a),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Na=/(\s+|^)default(\s+|$)/,Ra=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=M(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Yr(this.$options.updateOn.replace(Na,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Da=lr({terminal:!0,priority:1e3}),Ia=e("ngOptions"),_a=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pa=["$compile","$document","$parse",function(e,i,o){function a(t,e,r){function i(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&n(t))e=t;else{e=[];for(var r in t)t.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e.push(r)}return e}var s=t.match(_a);if(!s)throw Ia("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,J(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],p=o(s[2]?s[1]:u),h=l&&o(l),d=h||p,v=f&&o(f),g=f?function(t,e){return v(r,e)}:function(t){return Yt(t)},m=function(t,e){return g(t,S(t,e))},y=o(s[2]||s[1]),$=o(s[3]||""),b=o(s[4]||""),w=o(s[8]),x={},S=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:f,getTrackByValue:m,getWatchables:o(w,function(t){var e=[];t=t||[];for(var n=a(t),i=n.length,o=0;o<i;o++){var u=t===n?o:n[o],c=t[u],l=S(c,u),f=g(c,l);if(e.push(f),s[2]||s[1]){var p=y(r,l);e.push(p)}if(s[4]){var h=b(r,l);e.push(h)}}return e}),getOptions:function(){for(var t=[],e={},n=w(r)||[],o=a(n),s=o.length,u=0;u<s;u++){var c=n===o?u:o[u],l=n[c],p=S(l,c),h=d(r,p),v=g(h,p),x=y(r,p),C=$(r,p),E=b(r,p),k=new i(v,h,x,C,E);t.push(k),e[v]=k}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return f?Gr.copy(t.viewValue):t.viewValue}}}}}function s(t,n,o,s){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),f(t,n)}function f(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function p(){var t=S&&d.readValue();if(S)for(var e=S.items.length-1;e>=0;e--){var r=S.items[e];Ut(y(r.group)?r.element.parentNode:r.element)}S=C.getOptions();var i={};if(w&&n.prepend(h),S.items.forEach(function(t){var e;y(t.group)?(e=i[t.group],e||(e=c.cloneNode(!1),E.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),l(t,e)):l(t,E)}),n[0].appendChild(E),v.$render(),!v.$isEmpty(t)){var o=d.readValue(),a=C.trackBy||g;(a?L(t,o):t===o)||(v.$setViewValue(o),v.$render())}}for(var h,d=s[0],v=s[1],g=o.multiple,m=0,$=n.children(),b=$.length;m<b;m++)if(""===$[m].value){h=$.eq(m);break}var w=!!h,x=Fr(u.cloneNode(!1));x.val("?");var S,C=a(o.ngOptions,n,t),E=i[0].createDocumentFragment(),k=function(){w||n.prepend(h),n.val(""),h.prop("selected",!0),h.attr("selected",!0)},T=function(){w||h.remove()},A=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},O=function(){x.remove()};g?(v.$isEmpty=function(t){return!t||0===t.length},d.writeValue=function(t){S.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=S.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},d.readValue=function(){var t=n.val()||[],e=[];return r(t,function(t){var n=S.selectValueMap[t];n&&!n.disabled&&e.push(S.getViewValueFromOption(n))}),e},C.trackBy&&t.$watchCollection(function(){if(Kr(v.$viewValue))return v.$viewValue.map(function(t){return C.getTrackByValue(t)})},function(){v.$render()})):(d.writeValue=function(t){var e=S.getOptionFromViewValue(t);e?(n[0].value!==e.selectValue&&(O(),T(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||w?(O(),k()):(T(),A())},d.readValue=function(){var t=S.selectValueMap[n.val()];return t&&!t.disabled?(T(),O(),S.getViewValueFromOption(t)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(v.$viewValue)},function(){v.$render()})),w?(h.remove(),e(h)(t),h.removeClass("ng-scope")):h=Fr(u.cloneNode(!1)),n.empty(),p(),t.$watchCollection(C.getWatchables,p)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=h},post:s}}}],Va=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,p=u.$attr.when&&s.attr(u.$attr.when),d=u.offset||0,v=a.$eval(p)||{},g={},y=e.startSymbol(),$=e.endSymbol(),b=y+f+"-"+d+$,w=Gr.noop;r(u,function(t,e){var n=o.exec(e);if(n){var r=(n[1]?"-":"")+Dr(n[2]);v[r]=s.attr(u.$attr[e])}}),r(v,function(t,n){g[n]=e(t.replace(i,b))}),a.$watch(f,function(e){var r=parseFloat(e),i=isNaN(r);if(i||r in v||(r=t.pluralCat(r-d)),r!==l&&!(i&&x(l)&&isNaN(l))){w();var o=g[r];m(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),w=h,c()):w=a.$watch(o,c),l=r}})}}}],Fa=["$parse","$animate","$compile",function(t,i,o){var a="$$NG_REMOVED",s=e("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,f){var p=f.ngRepeat,h=o.$$createComment("end ngRepeat",p),d=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var v=d[1],g=d[2],m=d[3],y=d[4];if(d=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var $=d[3]||d[1],b=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var w,x,S,C,E={$id:Yt};return y?w=t(y):(S=function(t,e){return Yt(e)},C=function(t){return t}),function(t,e,o,f,d){w&&(x=function(e,n,r){return b&&(E[b]=e),E[$]=n,E.$index=r,w(t,E)});var v=dt();t.$watchCollection(g,function(o){var f,g,y,w,E,k,T,A,O,j,N,R,D=e[0],I=dt();if(m&&(t[m]=o),n(o))O=o,A=x||S;else{A=x||C,O=[];for(var _ in o)Rr.call(o,_)&&"$"!==_.charAt(0)&&O.push(_)}for(w=O.length,N=new Array(w),f=0;f<w;f++)if(E=o===O?f:O[f],k=o[E],T=A(E,k,f),v[T])j=v[T],delete v[T],I[T]=j,N[f]=j;else{if(I[T])throw r(N,function(t){t&&t.scope&&(v[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,T,k);N[f]={id:T,scope:void 0,clone:void 0},I[T]=!0}for(var P in v){if(j=v[P],R=ht(j.clone),i.leave(R),R[0].parentNode)for(f=0,g=R.length;f<g;f++)R[f][a]=!0;j.scope.$destroy()}for(f=0;f<w;f++)if(E=o===O?f:O[f],k=o[E],j=N[f],j.scope){y=D;do y=y.nextSibling;while(y&&y[a]);c(j)!=y&&i.move(ht(j.clone),null,D),D=l(j),u(j.scope,f,$,k,b,E,w)}else d(function(t,e){j.scope=e;var n=h.cloneNode(!1);t[t.length++]=n,i.enter(t,null,D),D=n,j.clone=t,I[j.id]=j,u(j.scope,f,$,k,b,E,w)});v=I})}}}}],Ma="ng-hide",La="ng-hide-animate",qa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,Ma,{tempClasses:La})})}}}],Ha=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,Ma,{tempClasses:La})})}}}],Ua=lr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&r(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Ba=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,u=[],c=[],l=[],f=[],p=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var i,o;for(i=0,o=l.length;i<o;++i)t.cancel(l[i]);for(l.length=0,i=0,o=f.length;i<o;++i){var s=ht(c[i].clone);f[i].$destroy();var h=l[i]=t.leave(s);h.then(p(l,i))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&r(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],za=lr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Wa=lr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Ga=e("ngTransclude"),Qa=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}if(!o)throw Ga("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var u=r.ngTransclude||r.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],Ka=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Ja={$setViewValue:h,$render:h},Ya=["$element","$scope",function(e,n){var r=this,i=new Xt;r.ngModelCtrl=Ja,r.unknownOption=Fr(t.document.createElement("option")),r.renderUnknownOption=function(t){var n="? "+Yt(t)+" ?";r.unknownOption.val(n),e.prepend(r.unknownOption),e.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=h}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),e.val()},r.writeValue=function(t){r.hasOption(t)?(r.removeUnknownOption(),e.val(t),""===t&&r.emptyOption.prop("selected",!0)):null==t&&r.emptyOption?(r.removeUnknownOption(),e.val("")):r.renderUnknownOption(t)},r.addOption=function(t,e){if(e[0].nodeType!==ui){ft(t,'"option value"'),""===t&&(r.emptyOption=e);var n=i.get(t)||0;i.put(t,n+1),r.ngModelCtrl.$render(),Or(e)}},r.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.remove(t),""===t&&(r.emptyOption=void 0)):i.put(t,e-1))},r.hasOption=function(t){return!!i.get(t)},r.registerOption=function(t,e,n,i,o){if(i){var a;n.$observe("value",function(t){y(a)&&r.removeOption(a),a=t,r.addOption(t,e)})}else o?t.$watch(o,function(t,i){n.$set("value",t),i!==t&&r.removeOption(i),r.addOption(t,e)}):r.addOption(n.value,e);e.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Xa=function(){function t(t,e,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,e.on("change",function(){t.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return r(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Xt(t);r(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var s,u=NaN;t.$watch(function(){u!==o.$viewValue||L(s,o.$viewValue)||(s=gt(o.$viewValue),o.$render()),u=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ya,priority:1,link:{pre:t,post:e}}},Za=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(y(n.value))var r=t(n.value,!0);else{var i=t(e.text(),!0);i||n.$set("value",e.text())}return function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,r,i)}}}}],ts=v({restrict:"E",terminal:!1}),es=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,J(n));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||m(o)||o.test(e)}}}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=f(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=f(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(ut(),$t(Gr),Gr.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r),o=(t*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void Fr(t.document).ready(function(){rt(t.document,it)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e){"use strict";function n(t,n,r){function i(t,r,i){var a,s;i=i||{},s=i.expires,a=e.isDefined(i.path)?i.path:o,e.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),e.isString(s)&&(s=new Date(s));var u=encodeURIComponent(t)+"="+encodeURIComponent(r);u+=a?";path="+a:"",u+=i.domain?";domain="+i.domain:"",u+=s?";expires="+s.toUTCString():"",u+=i.secure?";secure":"";var c=u.length+1;return c>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),u}var o=r.baseHref(),a=t[0];return function(t,e,n){a.cookie=i(t,e,n)}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){function t(t){return t?e.extend({},n,t):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,r){return{get:function(t){return n()[t]},getObject:function(t){var n=this.get(t);return n?e.fromJson(n):n},getAll:function(){return n()},put:function(e,n,i){r(e,n,t(i))},putObject:function(t,n,r){this.put(t,e.toJson(n),r)},remove:function(e,n){r(e,void 0,t(n))}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),n.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return e(angular.extend({url:[r.prefix,n.key,r.suffix].join(""),method:"GET",params:""},n.$http)).then(function(t){return t.data},function(){return t.reject(n.key)})},i=[],o=n.files.length,a=0;a<o;a++)i.push(r({prefix:n.files[a].prefix,key:n.key,suffix:n.files[a].suffix}));return t.all(i).then(function(t){for(var e=t.length,n={},r=0;r<e;r++)for(var i in t[r])n[i]=t[r][i];return n})}}return t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e={get:function(e){return t.get(e)},set:function(e,n){t.put(e,n)},put:function(e,n){t.put(e,n)}};return e}return t.$inject=["$cookieStore"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.displayName="$translateCookieStorage","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";var n=function(){var e;return{get:function(n){return e||(e=t.localStorage.getItem(n)),e},set:function(n,r){e=r,t.localStorage.setItem(n,r)},put:function(n,r){e=r,t.localStorage.setItem(n,r)}}}(),r="localStorage"in t;if(r){var i="pascalprecht.translate.storageTest";try{null!==t.localStorage?(t.localStorage.setItem(i,"foo"),t.localStorage.removeItem(i),r=!0):r=!1}catch(o){r=!1}}var a=r?n:e;return a}return t.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",t),t.displayName="$translateLocalStorageFactory","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),r=function(){var r=t.preferredLanguage();angular.isString(r)?t.use(r):n.put(e,t.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](r):r():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n=null,r=!1,i=!1;e={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=o(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,o)),t}},e.escaped=e.escapeParameters,this.addStrategy=function(t,n){return e[t]=n,this},this.removeStrategy=function(t){return delete e[t],this},this.useStrategy=function(t){return r=!0,n=t,this},this.$get=["$injector","$log",function(o,a){var s={},u=function(t,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,n);else if(angular.isFunction(e[r]))t=e[r](t,n);else{if(!angular.isString(e[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!s[e[r]])try{s[e[r]]=o.get(e[r])}catch(i){throw s[e[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=s[e[r]](t,n)}}),t},c=function(){r||i||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return o.has("$sanitize")&&(t=o.get("$sanitize")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,r){if(n||c(),arguments.length<3&&(r=n),!r)return t;var i=angular.isArray(r)?r:[r];return u(t,e,i)}}}];var o=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},s=function(t,e,n){if(angular.isObject(t)){var r=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,i){angular.isFunction(t)||(r[i]=s(t,e,n))}),n.splice(-1,1),r}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,r){"use strict";var i,o,a,s,u,c,l,f,p,h,d,v,g,m,y,$,b={},w=[],x=t,S=[],C="translate-cloak",E=!1,k=!1,T=".",A=!1,O=!1,j=0,N=!0,R="default",D={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n[0].toLowerCase()}},I="2.11.1",_=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var t,n,i=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if(n=i.languages[t],n&&n.length)return n;for(t=0;t<o.length;t++)if(n=i[o[t]],n&&n.length)return n;return null};_.displayName="angular-translate/service: getFirstBrowserLanguage";var P=function(){var t=_()||"";return D[R]&&(t=D[R](t)),t};P.displayName="angular-translate/service: getLocale";var V=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},F=function(){return this.toString().replace(/^\s+|\s+$/g,"")},M=function(t){if(t){for(var e=[],n=angular.lowercase(t),r=0,i=w.length;r<i;r++)e.push(angular.lowercase(w[r]));if(V(e,n)>-1)return t;if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var u=!1,c=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(u=s.slice(0,-1)===t.slice(0,s.length-1)),(c||u)&&(a=o[s],V(e,angular.lowercase(a))>-1))return a}}var l=t.split("_");return l.length>1&&V(e,angular.lowercase(l[0]))>-1?l[0]:void 0}},L=function(t,e){if(!t&&!e)return b;if(t&&!e){if(angular.isString(t))return b[t]}else angular.isObject(b[t])||(b[t]={}),angular.extend(b[t],q(e));return this};this.translations=L,this.cloakClassName=function(t){return t?(C=t,this):C},this.nestedObjectDelimeter=function(t){return t?(T=t,this):T};var q=function(t,e,n,r){var i,o,a,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?q(s,e.concat(i),n,i):(o=e.length?""+e.join(T)+T+i:i,e.length&&i===r&&(a=""+e.join(T),n[a]="@:"+o),n[o]=s));return n};q.displayName="flatObject",this.addInterpolation=function(t){return S.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return h=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(H(t),this):i};var H=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(g=t,this):g},this.translationNotFoundIndicatorRight=function(t){return t?(m=t,this):m},this.fallbackLanguage=function(t){return U(t),this};var U=function(t){return t?(angular.isString(t)?(s=!0,a=[t]):angular.isArray(t)&&(s=!1,a=t),angular.isString(i)&&V(a,i)<0&&a.push(i),this):s?a[0]:a};this.use=function(t){if(t){if(!b[t]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return u=t,this}return u},this.resolveClientLocale=function(){return P()};var B=function(t){return t?(x=t,this):f?f+x:x};this.storageKey=B,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return d=t,v=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return l=t,this},this.storagePrefix=function(t){return t?(f=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return p=t,this},this.usePostCompiling=function(t){return E=!!t,this},this.forceAsyncReload=function(t){return k=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},R=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():P();return i=w.length?M(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(w=t,e&&(o=e),this):w},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?j:(j=t,this)},this.statefulFilter=function(t){return void 0===t?N:(N=t,this)},this.postProcess=function(t){return $=t?t:void 0,this},this.keepContent=function(t){return O=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,r){var o,f,R,D=e.get(h||"$translateDefaultInterpolation"),_=!1,z={},W={},G=function(t,e,n,s,c){!u&&i&&(u=i);var p=c&&c!==u?M(c)||c:u;if(c&&lt(c),angular.isArray(t)){var h=function(t){for(var i={},o=[],a=function(t){var o=r.defer(),a=function(e){i[t]=e,o.resolve([t,e])};return G(t,e,n,s,c).then(a,a),o.promise},u=0,l=t.length;u<l;u++)o.push(a(t[u]));return r.all(o).then(function(){return i})};return h(t)}var d=r.defer();t&&(t=F.apply(t));var v=function(){var t=i?W[i]:W[p];if(f=0,l&&!t){var e=o.get(x);if(t=W[e],a&&a.length){var n=V(a,e);f=0===n?1:0,V(a,i)<0&&a.push(i)}}return t}();if(v){var g=function(){c||(p=u),at(t,e,n,s,p).then(d.resolve,d.reject)};g.displayName="promiseResolved",v["finally"](g)}else at(t,e,n,s,p).then(d.resolve,d.reject);return d.promise},Q=function(t){return g&&(t=[g,t].join(" ")),m&&(t=[t,m].join(" ")),t},K=function(t){u=t,l&&o.put(G.storageKey(),u),n.$emit("$translateChangeSuccess",{language:t}),D.setLocale(u);var e=function(t,e){z[e].setLocale(u)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(z,e),n.$emit("$translateChangeEnd",{language:t})},J=function(t){if(!t)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:t}),_=!0;var o=y;"string"==typeof o&&(o=e.get(o));var a=angular.extend({},v,{key:t,$http:angular.extend({},{cache:o},v.$http)}),s=function(e){var r={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(r,q(t))}):angular.extend(r,q(e)),_=!1,i.resolve({key:t,table:r}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var u=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return u.displayName="onLoaderError",e.get(d)(a).then(s,u),i.promise};if(l&&(o=e.get(l),!o.get||!o.put))throw new Error("Couldn't use storage '"+l+"', missing get() or put() method!");if(S.length){var Y=function(t){var n=e.get(t);n.setLocale(i||u),z[n.getInterpolationIdentifier()]=n};Y.displayName="interpolationFactoryAdder",angular.forEach(S,Y)}var X=function(t){var e=r.defer();if(Object.prototype.hasOwnProperty.call(b,t))e.resolve(b[t]);else if(W[t]){var n=function(t){L(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",W[t].then(n,e.reject)}else e.reject();return e.promise},Z=function(t,e,n,i){var o=r.defer(),a=function(r){if(Object.prototype.hasOwnProperty.call(r,e)){i.setLocale(t);var a=r[e];if("@:"===a.substr(0,2))Z(t,a.substr(2),n,i).then(o.resolve,o.reject);else{var s=i.interpolate(r[e],n);s=ct(e,r[e],s,n,t),o.resolve(s)}i.setLocale(u)}else o.reject()};return a.displayName="fallbackTranslationResolver",X(t).then(a,o.reject),o.promise},tt=function(t,e,n,r){var i,o=b[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)){if(r.setLocale(t),i=r.interpolate(o[e],n),i=ct(e,o[e],i,n,t),"@:"===i.substr(0,2))return tt(t,i.substr(2),n,r);r.setLocale(u)}return i},et=function(t,n,r){if(p){var i=e.get(p)(t,u,n,r);return void 0!==i?i:t}return t},nt=function(t,e,n,i,o){var s=r.defer();if(t<a.length){var u=a[t];Z(u,e,n,i).then(function(t){s.resolve(t)},function(){return nt(t+1,e,n,i,o).then(s.resolve,s.reject)})}else o?s.resolve(o):p?s.resolve(et(e,n)):s.reject(et(e,n));return s.promise},rt=function(t,e,n,r){var i;if(t<a.length){var o=a[t];i=tt(o,e,n,r),i||(i=rt(t+1,e,n,r))}return i},it=function(t,e,n,r){return nt(R>0?R:f,t,e,n,r)},ot=function(t,e,n){return rt(R>0?R:f,t,e,n)},at=function(t,e,n,i,o){var s=r.defer(),u=o?b[o]:b,c=n?z[n]:D;if(u&&Object.prototype.hasOwnProperty.call(u,t)){var l=u[t];if("@:"===l.substr(0,2))G(l.substr(2),e,n,i,o).then(s.resolve,s.reject);else{var f=c.interpolate(l,e);f=ct(t,l,f,e,o),s.resolve(f)}}else{var h;p&&!_&&(h=et(t,e,i)),o&&a&&a.length?it(t,e,c,i).then(function(t){s.resolve(t)},function(t){s.reject(Q(t))}):p&&!_&&h?i?s.resolve(i):s.resolve(h):i?s.resolve(i):s.reject(Q(t))}return s.promise},st=function(t,e,n,r){var i,o=r?b[r]:b,s=D;if(z&&Object.prototype.hasOwnProperty.call(z,n)&&(s=z[n]),o&&Object.prototype.hasOwnProperty.call(o,t)){var u=o[t];"@:"===u.substr(0,2)?i=st(u.substr(2),e,n,r):(i=s.interpolate(u,e),i=ct(t,u,i,e,r))}else{var c;p&&!_&&(c=et(t,e)),r&&a&&a.length?(f=0,i=ot(t,e,s)):i=p&&!_&&c?c:Q(t)}return i},ut=function(t){c===t&&(c=void 0),W[t]=void 0},ct=function(t,n,r,i,o){var a=$;return a&&("string"==typeof a&&(a=e.get(a)),a)?a(t,n,r,i,o):r},lt=function(t){b[t]||!d||W[t]||(W[t]=J(t).then(function(t){return L(t.key,t.table),t}))};G.preferredLanguage=function(t){return t&&H(t),i},G.cloakClassName=function(){return C},G.nestedObjectDelimeter=function(){return T},G.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(U(t),d&&a&&a.length)for(var e=0,n=a.length;e<n;e++)W[a[e]]||(W[a[e]]=J(a[e]));G.use(G.use())}return s?a[0]:a},G.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=V(a,t);e>-1&&(R=e)}else R=0},G.proposedLanguage=function(){return c},G.storage=function(){return o},G.negotiateLocale=M,G.use=function(t){if(!t)return u;var e=r.defer();n.$emit("$translateChangeStart",{language:t});var i=M(t);return w.length>0&&!i?r.reject(t):(i&&(t=i),c=t,!k&&b[t]||!d||W[t]?W[t]?W[t].then(function(t){return c===t.key&&K(t.key),e.resolve(t.key),t},function(t){return!u&&a&&a.length>0?G.use(a[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),K(t)):(W[t]=J(t).then(function(n){return L(n.key,n.table),e.resolve(n.key),c===t&&K(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),r.reject(t)}),W[t]["finally"](function(){ut(t)})),e.promise)},G.resolveClientLocale=function(){return P()},G.storageKey=function(){return B()},G.isPostCompilingEnabled=function(){return E},G.isForceAsyncReloadEnabled=function(){return k},G.isKeepContent=function(){return O},G.refresh=function(t){function e(){o.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function i(){o.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");var o=r.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(b[t]){var s=function(n){return L(n.key,n.table),t===u&&K(u),e(),n};s.displayName="refreshPostProcessor",J(t).then(s,i)}else i();else{var c=[],l={};if(a&&a.length)for(var f=0,p=a.length;f<p;f++)c.push(J(a[f])),l[a[f]]=!0;u&&!l[u]&&c.push(J(u));var h=function(t){b={},angular.forEach(t,function(t){L(t.key,t.table)}),u&&K(u),e()};h.displayName="refreshPostProcessor",r.all(c).then(h,i)}return o.promise},G.instant=function(t,e,n,r){var o=r&&r!==u?M(r)||r:u;if(null===t||angular.isUndefined(t))return t;if(r&&lt(r),angular.isArray(t)){for(var s={},c=0,l=t.length;c<l;c++)s[t[c]]=G.instant(t[c],e,n,r);return s}if(angular.isString(t)&&t.length<1)return t;t&&(t=F.apply(t));var f,h=[];i&&h.push(i),o&&h.push(o),a&&a.length&&(h=h.concat(a));for(var d=0,v=h.length;d<v;d++){var y=h[d];if(b[y]&&"undefined"!=typeof b[y][t]&&(f=st(t,e,n,o)),"undefined"!=typeof f)break}return f||""===f||(g||m?f=Q(t):(f=D.interpolate(t,e),p&&!_&&(f=et(t,e)))),f},G.versionInfo=function(){return I},G.loaderCache=function(){return y},G.directivePriority=function(){return j},G.statefulFilter=function(){return N},G.isReady=function(){return A};var ft=r.defer();ft.promise.then(function(){A=!0}),G.onReady=function(t){var e=r.defer();return angular.isFunction(t)&&e.promise.then(t),A?e.resolve():ft.promise.then(e.resolve),e.promise},G.getAvailableLanguageKeys=function(){return w.length>0?w:null};var pt=n.$on("$translateReady",function(){ft.resolve(),pt(),pt=null}),ht=n.$on("$translateChangeEnd",function(){ft.resolve(),ht(),ht=null});if(d){if(angular.equals(b,{})&&G.use()&&G.use(G.use()),a&&a.length)for(var dt=function(t){return L(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},vt=0,gt=a.length;vt<gt;vt++){var mt=a[vt];!k&&b[mt]||(W[mt]=J(mt).then(dt))}}else n.$emit("$translateReady",{language:G.use()});return G}]}function r(t,e){"use strict";var n,r={},i="default";return r.setLocale=function(t){n=t},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},r.interpolate=function(n,r){r=r||{},r=e.sanitize(r,"params");var i;return angular.isNumber(n)?i=""+n:angular.isString(n)?(i=t(n)(r),i=e.sanitize(i,"text")):i="",i},r}function i(t,e,n,r,i,a){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(e,u){var c=u.translateValues?u.translateValues:void 0,l=u.translateInterpolation?u.translateInterpolation:void 0,f=e[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",h="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,d,v){e.interpolateParams={},e.preText="",e.postText="",e.translateNamespace=o(e);var g={},m=function(t,n,r){if(n.translateValues&&angular.extend(t,i(n.translateValues)(e.$parent)),f)for(var o in r)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var a=angular.lowercase(o.substr(14,1))+o.substr(15);t[a]=r[o]}},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var r=s.apply(d.text()),i=r.match(p);if(angular.isArray(i)){e.preText=i[1],e.postText=i[3],g.translate=n(i[2])(e.$parent);var o=r.match(h);angular.isArray(o)&&o[2]&&o[2].length&&(y._unwatchOld=e.$watch(o[2],function(t){g.translate=t,C()}))}else g.translate=r?r:void 0}else g.translate=t;C()},$=function(t){v.$observe(t,function(e){g[t]=e,C()})};m(e.interpolateParams,v,u);var b=!0;v.$observe("translate",function(t){"undefined"==typeof t?y(""):""===t&&b||(g.translate=t,C()),b=!1});for(var w in v)v.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&$(w);if(v.$observe("translateDefault",function(t){e.defaultText=t,C()}),c&&v.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,i(t)(e.$parent))})}),f){var x=function(t){v.$observe(t,function(n){var r=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[r]=n})};for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&"translateValue"===S.substr(0,14)&&"translateValues"!==S&&x(S)}var C=function(){for(var t in g)g.hasOwnProperty(t)&&void 0!==g[t]&&E(t,g[t],e,e.interpolateParams,e.defaultText,e.translateNamespace)},E=function(e,n,r,i,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),t(n,i,l,o,r.translateLanguage).then(function(t){k(t,r,!0,e)},function(t){k(t,r,!1,e)})):k(n,r,!1,e)},k=function(e,n,i,o){if(i||"undefined"!=typeof n.defaultText&&(e=n.defaultText),"translate"===o){(i||!i&&!t.isKeepContent()&&"undefined"==typeof v.translateKeepContent)&&d.empty().append(n.preText+e+n.postText);var a=t.isPostCompilingEnabled(),s="undefined"!=typeof u.translateCompile,c=s&&"false"!==u.translateCompile;(a&&!s||c)&&r(d.contents())(n)}else{var l=v.$attr[o];"data-"===l.substr(0,5)&&(l=l.substr(5)),l=l.substr(15),d.attr(l,e)}};(c||f||v.translateDefault)&&e.$watch("interpolateParams",C,!0);var T=e.$on("translateLanguageChanged",C),A=a.$on("$translateChangeSuccess",C);d.text().length?y(v.translate?v.translate:""):v.translate&&y(v.translate),C(),e.$on("$destroy",function(){T(),A()})}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function a(t,e){"use strict";return{compile:function(n){var r=function(){n.addClass(t.cloakClassName())},i=function(){n.removeClass(t.cloakClassName())};return t.onReady(function(){i()}),r(),function(n,o,a){a.translateCloak&&a.translateCloak.length&&(a.$observe("translateCloak",function(e){t(e).then(i,r)}),e.$on("$translateChangeSuccess",function(){t(a.translateCloak).then(i,r)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=o(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function c(t,e){"use strict";var n=function(n,r,i,o){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,i,o)};return e.statefulFilter()&&(n.$stateful=!0),n}function l(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],r.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],c.$inject=["$parse","$translate"],l.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",c),c.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",l),l.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("angular-ui-router",[],e):"object"==typeof exports?exports["angular-ui-router"]=e():t["angular-ui-router"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(1)),r(n(53)),r(n(54)),n(56),n(57),n(58),n(59),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]="ui.router"},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(2)),r(n(20)),r(n(44)),r(n(40)),r(n(17)),r(n(13)),r(n(45)),r(n(49)),r(n(51));var i=n(52);e.UIRouter=i.UIRouter},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(3)),r(n(6)),r(n(7)),r(n(5)),r(n(4)),r(n(8)),r(n(9)),r(n(12))},function(t,e,n){"use strict";function r(t,e,n,r){return void 0===r&&(r=Object.keys(t)),r.filter(function(e){return"function"==typeof t[e]}).forEach(function(r){return e[r]=t[r].bind(n)})}function i(t){void 0===t&&(t={});for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=o.apply(null,[{}].concat(n));return e.extend({},i,c(t||{},Object.keys(i)))}function o(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(n,function(n){e.forEach(n,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function a(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function s(t,e,n){void 0===n&&(n=Object.keys(t));for(var r=0;r<n.length;r++){var i=n[r];if(t[i]!=e[i])return!1}return!0}function u(t,e){var n={},r=O(arguments,2);for(var i in e)t(r,i)&&(n[i]=e[i]);return n}function c(t){return u.apply(null,[j].concat(O(arguments)))}function l(t){return u.apply(null,[T.not(j)].concat(O(arguments)))}function f(t,e){return d(t,T.prop(e))}function p(t,n){var r=k.isArray(t),i=r?[]:{},o=r?function(t){return i.push(t)}:function(t,e){return i[e]=t};return e.forEach(t,function(t,e){n(t,e)&&o(t,e)}),i}function h(t,n){var r;return e.forEach(t,function(t,e){r||n(t,e)&&(r=t)}),r}function d(t,n){var r=k.isArray(t)?[]:{};return e.forEach(t,function(t,e){return r[e]=n(t,e)}),r}function v(t,e){return t.push(e),t}function g(t,e){return void 0===e&&(e="assert failure"),function(n){if(!t(n))throw new Error(k.isFunction(e)?e(n):e);return!0}}function m(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(0===t.length)return[];var n=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991);return Array.apply(null,Array(n)).map(function(e,n){return t.map(function(t){return t[n]})})}function y(t,e){var n,r;if(k.isArray(e)&&(n=e[0],r=e[1]),!k.isString(n))throw new Error("invalid parameters to applyPairs");return t[n]=r,t}function $(t){return t.length&&t[t.length-1]||void 0}function b(t,n){return n&&Object.keys(n).forEach(function(t){return delete n[t]}),n||(n={}),e.extend(n,t)}function w(t,e,n){return k.isArray(t)?t.forEach(e,n):void Object.keys(t).forEach(function(n){return e(t[n],n)})}function x(t,e){return Object.keys(e).forEach(function(n){return t[n]=e[n]}),t}function S(t,n){return O(arguments,1).filter(e.identity).reduce(x,t)}function C(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n=typeof t,r=typeof e;if(n!==r||"object"!==n)return!1;var i=[t,e];if(T.all(k.isArray)(i))return E(t,e);if(T.all(k.isDate)(i))return t.getTime()===e.getTime();if(T.all(k.isRegExp)(i))return t.toString()===e.toString();if(T.all(k.isFunction)(i))return!0;var o=[k.isFunction,k.isArray,k.isDate,k.isRegExp];if(o.map(T.any).reduce(function(t,e){return t||!!e(i)},!1))return!1;var a,s={};for(a in t){if(!C(t[a],e[a]))return!1;s[a]=!0}for(a in e)if(!s[a])return!1;return!0}function E(t,e){return t.length===e.length&&m(t,e).reduce(function(t,e){return t&&C(e[0],e[1])},!0)}var k=n(4),T=n(5),A=window.angular||{};e.fromJson=A.fromJson||JSON.parse.bind(JSON),e.toJson=A.toJson||JSON.stringify.bind(JSON),e.copy=A.copy||b,e.forEach=A.forEach||w,e.extend=A.extend||S,e.equals=A.equals||C,e.identity=function(t){return t},e.noop=function(){},e.abstractKey="abstract",e.bindFunctions=r,e.inherit=function(t,n){return e.extend(new(e.extend(function(){},{prototype:t})),n)};var O=function(t,e){return void 0===e&&(e=0),Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(t,e))},j=function(t,e){return t.indexOf(e)!==-1};e.removeFrom=T.curry(function(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}),e.defaults=i,e.merge=o,e.mergeR=function(t,n){return e.extend(t,n)},e.ancestors=a,e.equalForKeys=s,e.pick=c,e.omit=l,e.pluck=f,e.filter=p,e.find=h,e.mapObj=d,e.map=d,e.values=function(t){return Object.keys(t).map(function(e){return t[e]})},e.allTrueR=function(t,e){return t&&e},e.anyTrueR=function(t,e){return t||e},e.unnestR=function(t,e){return t.concat(e)},e.flattenR=function(t,n){return k.isArray(n)?t.concat(n.reduce(e.flattenR,[])):v(t,n)},e.unnest=function(t){return t.reduce(e.unnestR,[])},e.flatten=function(t){return t.reduce(e.flattenR,[])},e.assertPredicate=g,e.pairs=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},e.arrayTuples=m,e.applyPairs=y,e.tail=$},function(t,e,n){"use strict";function r(t){if(e.isArray(t)&&t.length){var n=t.slice(0,-1),r=t.slice(-1);return!(n.filter(i.not(e.isString)).length||r.filter(i.not(e.isFunction)).length)}return e.isFunction(t)}var i=n(5),o=Object.prototype.toString,a=function(t){return function(e){return typeof e===t}};e.isUndefined=a("undefined"),e.isDefined=i.not(e.isUndefined),e.isNull=function(t){return null===t},e.isFunction=a("function"),e.isNumber=a("number"),e.isString=a("string"),e.isObject=function(t){return null!==t&&"object"==typeof t},e.isArray=Array.isArray,e.isDate=function(t){return"[object Date]"===o.call(t)},e.isRegExp=function(t){return"[object RegExp]"===o.call(t)},e.isInjectable=r,e.isPromise=i.and(e.isObject,i.pipe(i.prop("then"),e.isFunction))},function(t,e){"use strict";function n(t){function e(n){return n.length>=r?t.apply(null,n):function(){return e(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),r=t.length;return e(n)}function r(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return t.apply(null,n)&&e.apply(null,n)}}function a(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return t.apply(null,n)||e.apply(null,n)}}function s(t,e){return function(n){return n[t].apply(n,e)}}function u(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}e.curry=n,e.compose=r,e.pipe=i,e.prop=function(t){return function(e){return e&&e[t]}},e.propEq=n(function(t,e,n){return n&&n[t]===e}),e.parse=function(t){return i.apply(null,t.split(".").map(e.prop))},e.not=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return!t.apply(null,e)}},e.and=o,e.or=a,e.all=function(t){return function(e){return e.reduce(function(e,n){return e&&!!t(n)},!0)}},e.any=function(t){return function(e){return e.reduce(function(e,n){return e||!!t(n)},!1)}},e.none=e.not(e.any),e.is=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},e.eq=function(t){
return function(e){return t===e}},e.val=function(t){return function(){return t}},e.invoke=s,e.pattern=u},function(t,e){"use strict";var n=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']")}},r={$q:void 0,$injector:void 0,location:{},locationConfig:{},template:{}};e.services=r,["replace","url","path","search","hash","onChange"].forEach(function(t){return r.location[t]=n(t)}),["port","protocol","host","baseHref","html5Mode","hashPrefix"].forEach(function(t){return r.locationConfig[t]=n(t)})},function(t,e){"use strict";var n=function(){function t(t){this.text=t,this.glob=t.split(".")}return t.prototype.matches=function(t){for(var e=t.split("."),n=0,r=this.glob.length;n<r;n++)"*"===this.glob[n]&&(e[n]="*");return"**"===this.glob[0]&&(e=e.slice(e.indexOf(this.glob[1])),e.unshift("**")),"**"===this.glob[this.glob.length-1]&&(e.splice(e.indexOf(this.glob[this.glob.length-2])+1,Number.MAX_VALUE),e.push("**")),this.glob.length==e.length&&e.join("")===this.glob.join("")},t.is=function(t){return t.indexOf("*")>-1},t.fromString=function(e){return this.is(e)?new t(e):null},t}();e.Glob=n},function(t,e){"use strict";var n=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();e.Queue=n},function(t,e,n){"use strict";function r(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function i(t,e){for(;e.length<t;)e+=" ";return e}function o(t){return p.is(l.TransitionRejection)(t.reason)?t.reason.toString():"Promise("+JSON.stringify(t)+")"}function a(t){var e=s(t),n=e.match(/^(function [^ ]+\([^)]*\))/);return n?n[1]:e}function s(t){var e=c.isArray(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function u(t){function e(t){if(c.isObject(t)){if(n.indexOf(t)!==-1)return"[circular ref]";n.push(t)}return v(t)}var n=[];return JSON.stringify(t,function(t,n){return e(n)}).replace(/\\"/g,'"')}var c=n(4),l=n(10),f=n(3),p=n(5),h=n(11),d=n(32);e.maxLength=r,e.padString=i,e.kebobString=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},e.functionToString=a,e.fnToString=s;var v=p.pattern([[p.not(c.isDefined),p.val("undefined")],[c.isNull,p.val("null")],[c.isPromise,o],[p.is(h.Transition),p.invoke("toString")],[p.is(d.Resolvable),p.invoke("toString")],[c.isInjectable,a],[p.val(!0),f.identity]]);e.stringify=u},function(t,e,n){"use strict";var r=n(3),i=n(6),o=n(9);!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED"}(e.RejectType||(e.RejectType={}));var a=e.RejectType,s=function(){function t(t,e,n){r.extend(this,{type:t,message:e,detail:n})}return t.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():o.stringify(t)},e=this.type,n=this.message,r=t(this.detail);return"TransitionRejection(type: "+e+", message: "+n+", detail: "+r+")"},t}();e.TransitionRejection=s;var u=function(){function t(){}return t.prototype.superseded=function(t,e){var n="The transition has been superseded by a different transition (see detail).",o=new s(a.SUPERSEDED,n,t);return e&&e.redirected&&(o.redirected=!0),r.extend(i.services.$q.reject(o),{reason:o})},t.prototype.redirected=function(t){return this.superseded(t,{redirected:!0})},t.prototype.invalid=function(t){var e="This transition is invalid (see detail)",n=new s(a.INVALID,e,t);return r.extend(i.services.$q.reject(n),{reason:n})},t.prototype.ignored=function(t){var e="The transition was ignored.",n=new s(a.IGNORED,e,t);return r.extend(i.services.$q.reject(n),{reason:n})},t.prototype.aborted=function(t){var e="The transition has been aborted.",n=new s(a.ABORTED,e,t);return r.extend(i.services.$q.reject(n),{reason:n})},t}();e.RejectFactory=u},function(t,e,n){"use strict";var r=n(12),i=n(6),o=n(3),a=n(4),s=n(5),u=n(13),c=n(39),l=n(38),f=n(17),p=n(20),h=n(40),d=0,v=new u.RejectFactory,g=s.prop("self"),m=function(){function t(t,e,n){var r=this;if(this._transitionService=n,this._deferred=i.services.$q.defer(),this.promise=this._deferred.promise,this.treeChanges=function(){return r._treeChanges},this.isActive=function(){return r===r._options.current()},!e.valid())throw new Error(e.error());u.HookRegistry.mixin(new u.HookRegistry,this),this._options=o.extend({current:s.val(this)},e.options()),this.$id=d++;var a=l.PathFactory.buildToPath(t,e);a=l.PathFactory.applyViewConfigs(n.$view,a),this._treeChanges=l.PathFactory.treeChanges(t,a,this._options.reloadState),l.PathFactory.bindTransitionResolve(this._treeChanges,this)}return t.prototype.$from=function(){return o.tail(this._treeChanges.from).state},t.prototype.$to=function(){return o.tail(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!u.matchState(this.$to(),e.to)||e.from&&!u.matchState(this.$from(),e.from))},t.prototype.params=function(t){return void 0===t&&(t="to"),this._treeChanges[t].map(s.prop("paramValues")).reduce(o.mergeR,{})},t.prototype.resolves=function(){return o.map(o.tail(this._treeChanges.to).resolveContext.getResolvables(),function(t){return t.data})},t.prototype.addResolves=function(t,e){void 0===e&&(e="");var n="string"==typeof e?e:e.name,r=this._treeChanges.to,i=o.find(r,function(t){return t.state.name===n});o.tail(r).resolveContext.addResolvables(h.Resolvable.makeResolvables(t),i.state)},t.prototype.previous=function(){return this._options.previous||null},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return o.map(this._treeChanges.entering,s.prop("state")).map(g)},t.prototype.exiting=function(){return o.map(this._treeChanges.exiting,s.prop("state")).map(g).reverse()},t.prototype.retained=function(){return o.map(this._treeChanges.retained,s.prop("state")).map(g)},t.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return n=e?n.filter(s.propEq("state",e)):n,n.map(s.prop("views")).filter(o.identity).reduce(o.unnestR,[])},t.prototype.redirect=function(e){var n=o.extend({},this.options(),e.options(),{previous:this});e=new f.TargetState(e.identifier(),e.$state(),e.params(),n);var r=new t(this._treeChanges.from,e,this._transitionService),i=e.options().reloadState,a=this.treeChanges().to,s=c.Node.matching(r.treeChanges().to,a).filter(function(t){return!i||!i.includes[t.state.name]}),u=function(t,e){return["$stateParams","$transition$"].indexOf(e)===-1};return s.forEach(function(t,e){return o.extend(t.resolves,o.filter(a[e].resolves,u))}),r},t.prototype._changedParams=function(){var t=this._treeChanges,e=t.to,n=t.from;if(!this._options.reload&&o.tail(e).state===o.tail(n).state){var r=e.map(function(t){return t.paramSchema}),i=[e,n].map(function(t){return t.map(function(t){return t.paramValues})}),a=i[0],s=i[1],u=o.arrayTuples(r,a,s);return u.map(function(t){var e=t[0],n=t[1],r=t[2];return p.Param.changed(e,n,r)}).reduce(o.unnestR,[])}},t.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(o.anyTrueR,!1)},t.prototype.ignored=function(){var t=this._changedParams();return!!t&&0===t.length},t.prototype.hookBuilder=function(){return new u.HookBuilder(this._transitionService,this,{transition:this,current:this._options.current})},t.prototype.run=function(){var t=this,e=this.hookBuilder(),n=u.TransitionHook.runSynchronousHooks,o=function(){return n(e.getOnSuccessHooks(),{},!0)},a=function(t){return n(e.getOnErrorHooks(),{$error$:t},!0)};this.promise.then(o,a);var s=n(e.getOnBeforeHooks());if(u.TransitionHook.isRejection(s)){var c=s.reason;return this._deferred.reject(c),this.promise}if(!this.valid()){var l=new Error(this.error());return this._deferred.reject(l),this.promise}if(this.ignored()){r.trace.traceTransitionIgnored(this);var f=v.ignored();return this._deferred.reject(f.reason),this.promise}var p=function(){t.success=!0,t._deferred.resolve(t),r.trace.traceSuccess(t.$to(),t)},h=function(e){return t.success=!1,t._deferred.reject(e),r.trace.traceError(e,t),i.services.$q.reject(e)};r.trace.traceTransitionStart(this);var d=e.asyncHooks().reduce(function(t,e){return t.then(e.invokeStep)},s);return d.then(p,h),this.promise},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.$to();return t.self[o.abstractKey]?"Cannot transition to abstract state '"+t.name+"'":p.Param.validates(t.parameters(),this.params())?void 0:"Param values not valid for state '"+t.name+"'"},t.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:o.omit(t,"#")},r=this.$id,i=a.isObject(t)?t.name:t,u=o.toJson(n(this._treeChanges.from.map(s.prop("paramValues")).reduce(o.mergeR,{}))),c=this.valid()?"":"(X) ",l=a.isObject(e)?e.name:e,f=o.toJson(n(this.params()));return"Transition#"+r+"( '"+i+"'"+u+" -> "+c+"'"+l+"'"+f+" )"},t}();e.Transition=m},function(t,e,n){"use strict";function r(t){return t?"ui-view id#"+t.id+", contextual name '"+t.name+"@"+t.creationContext+"', fqn: '"+t.fqn+"'":"ui-view (defunct)"}function i(t){return a.isNumber(t)?c[t]:c[c[t]]}var o=n(5),a=n(4),s=n(9),u=function(t){return"ViewConfig targeting ui-view: '"+t.viewDecl.$uiViewName+"@"+t.viewDecl.$uiViewContextAnchor+"', context: '"+t.viewDecl.$context.name+"'"};!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.INVOKE=3]="INVOKE",t[t.UIVIEW=4]="UIVIEW",t[t.VIEWCONFIG=5]="VIEWCONFIG"}(e.Category||(e.Category={}));var c=e.Category,l=function(){function t(){this._enabled={},this.approximateDigests=0}return t.prototype._set=function(t,e){var n=this;e.length||(e=Object.keys(c).filter(function(t){return isNaN(parseInt(t,10))}).map(function(t){return c[t]})),e.map(i).forEach(function(e){return n._enabled[e]=t})},t.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._set(!0,t)},t.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._set(!1,t)},t.prototype.enabled=function(t){return!!this._enabled[i(t)]},t.prototype.traceTransitionStart=function(t){if(this.enabled(c.TRANSITION)){var e=t.$id,n=this.approximateDigests,r=s.stringify(t);console.log("Transition #"+e+" Digest #"+n+": Started  -> "+r)}},t.prototype.traceTransitionIgnored=function(t){if(this.enabled(c.TRANSITION)){var e=t.$id,n=this.approximateDigests,r=s.stringify(t);console.log("Transition #"+e+" Digest #"+n+": Ignored  <> "+r)}},t.prototype.traceHookInvocation=function(t,e){if(this.enabled(c.HOOK)){var n=o.parse("transition.$id")(e),r=this.approximateDigests,i=o.parse("traceData.hookType")(e)||"internal",a=o.parse("traceData.context.state.name")(e)||o.parse("traceData.context")(e)||"unknown",u=s.functionToString(t.fn);console.log("Transition #"+n+" Digest #"+r+":   Hook -> "+i+" context: "+a+", "+s.maxLength(200,u))}},t.prototype.traceHookResult=function(t,e,n){if(this.enabled(c.HOOK)){var r=o.parse("transition.$id")(n),i=this.approximateDigests,a=s.stringify(t),u=s.stringify(e);console.log("Transition #"+r+" Digest #"+i+":   <- Hook returned: "+s.maxLength(200,a)+", transition result: "+s.maxLength(200,u))}},t.prototype.traceResolvePath=function(t,e){if(this.enabled(c.RESOLVE)){var n=o.parse("transition.$id")(e),r=this.approximateDigests,i=t&&t.toString(),a=e&&e.resolvePolicy;console.log("Transition #"+n+" Digest #"+r+":         Resolving "+i+" ("+a+")")}},t.prototype.traceResolvePathElement=function(t,e,n){if(this.enabled(c.RESOLVE)&&e.length){var r=o.parse("transition.$id")(n),i=this.approximateDigests,a=Object.keys(e).join(", "),s=t&&t.toString(),u=n&&n.resolvePolicy;console.log("Transition #"+r+" Digest #"+i+":         Resolve "+s+" resolvables: ["+a+"] ("+u+")")}},t.prototype.traceResolveResolvable=function(t,e){if(this.enabled(c.RESOLVE)){var n=o.parse("transition.$id")(e),r=this.approximateDigests,i=t&&t.toString();console.log("Transition #"+n+" Digest #"+r+":               Resolving -> "+i)}},t.prototype.traceResolvableResolved=function(t,e){if(this.enabled(c.RESOLVE)){var n=o.parse("transition.$id")(e),r=this.approximateDigests,i=t&&t.toString(),a=s.stringify(t.data);console.log("Transition #"+n+" Digest #"+r+":               <- Resolved  "+i+" to: "+s.maxLength(200,a))}},t.prototype.tracePathElementInvoke=function(t,e,n,r){if(this.enabled(c.INVOKE)){var i=o.parse("transition.$id")(r),a=this.approximateDigests,u=t&&t.state&&t.state.toString(),l=s.functionToString(e);console.log("Transition #"+i+" Digest #"+a+":         Invoke "+r.when+": context: "+u+" "+s.maxLength(200,l))}},t.prototype.traceError=function(t,e){if(this.enabled(c.TRANSITION)){var n=e.$id,r=this.approximateDigests,i=s.stringify(e);console.log("Transition #"+n+" Digest #"+r+": <- Rejected "+i+", reason: "+t)}},t.prototype.traceSuccess=function(t,e){if(this.enabled(c.TRANSITION)){var n=e.$id,r=this.approximateDigests,i=t.name,o=s.stringify(e);console.log("Transition #"+n+" Digest #"+r+": <- Success  "+o+", final state: "+i)}},t.prototype.traceUiViewEvent=function(t,e,n){void 0===n&&(n=""),this.enabled(c.UIVIEW)&&console.log("ui-view: "+s.padString(30,t)+" "+r(e)+n)},t.prototype.traceUiViewConfigUpdated=function(t,e){this.enabled(c.UIVIEW)&&this.traceUiViewEvent("Updating",t," with ViewConfig from context='"+e+"'")},t.prototype.traceUiViewScopeCreated=function(t,e){this.enabled(c.UIVIEW)&&this.traceUiViewEvent("Created scope for",t,", scope #"+e.$id)},t.prototype.traceUiViewFill=function(t,e){this.enabled(c.UIVIEW)&&this.traceUiViewEvent("Fill",t," with: "+s.maxLength(200,e))},t.prototype.traceViewServiceEvent=function(t,e){this.enabled(c.VIEWCONFIG)&&console.log("$view.ViewConfig: "+t+" "+u(e))},t.prototype.traceViewServiceUiViewEvent=function(t,e){this.enabled(c.VIEWCONFIG)&&console.log("$view.ViewConfig: "+t+" "+r(e))},t}();e.Trace=l;var f=new l;e.trace=f},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(14)),r(n(15)),r(n(10)),r(n(11)),r(n(16)),r(n(43))},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=!1),function(e,n){var r=t?-1:1,i=(e.node.state.path.length-n.node.state.path.length)*r;return 0!==i?i:n.hook.priority-e.hook.priority}}var i=n(3),o=n(4),a=n(13),s=function(){function t(t,e,n){var o=this;this.$transitions=t,this.transition=e,this.baseHookOptions=n,this.getOnBeforeHooks=function(){return o._buildNodeHooks("onBefore","to",r(),void 0,{async:!1})},this.getOnStartHooks=function(){return o._buildNodeHooks("onStart","to",r())},this.getOnExitHooks=function(){return o._buildNodeHooks("onExit","exiting",r(!0),function(t){return{$state$:t.state}})},this.getOnRetainHooks=function(){return o._buildNodeHooks("onRetain","retained",r(),function(t){return{$state$:t.state}})},this.getOnEnterHooks=function(){return o._buildNodeHooks("onEnter","entering",r(),function(t){return{$state$:t.state}})},this.getOnFinishHooks=function(){return o._buildNodeHooks("onFinish","to",r(),function(t){return{$treeChanges$:o.treeChanges}})},this.getOnSuccessHooks=function(){return o._buildNodeHooks("onSuccess","to",r(),void 0,{async:!1,rejectIfSuperseded:!1})},this.getOnErrorHooks=function(){return o._buildNodeHooks("onError","to",r(),void 0,{async:!1,rejectIfSuperseded:!1})},this.treeChanges=e.treeChanges(),this.toState=i.tail(this.treeChanges.to).state,this.fromState=i.tail(this.treeChanges.from).state,this.transitionOptions=e.options()}return t.prototype.asyncHooks=function(){var t=this.getOnStartHooks(),e=this.getOnExitHooks(),n=this.getOnRetainHooks(),r=this.getOnEnterHooks(),o=this.getOnFinishHooks(),a=[t,e,n,r,o];return a.reduce(i.unnestR,[]).filter(i.identity)},t.prototype._buildNodeHooks=function(t,e,n,r,o){var s=this;void 0===r&&(r=function(t){return{}});var u=this._matchingHooks(t,this.treeChanges);if(!u)return[];var c=function(n){var u=n.matches(s.treeChanges),c=u[e];return c.map(function(e){var u=i.extend({bind:n.bind,traceData:{hookType:t,context:e}},s.baseHookOptions,o),c=new a.TransitionHook(n.callback,r(e),e.resolveContext,u);return{hook:n,node:e,transitionHook:c}})};return u.map(c).reduce(i.unnestR,[]).sort(n).map(function(t){return t.transitionHook})},t.prototype._matchingHooks=function(t,e){return[this.transition,this.$transitions].map(function(e){return e.getHooks(t)}).filter(i.assertPredicate(o.isArray,"broken event named: "+t)).reduce(i.unnestR,[]).filter(function(t){return t.matches(e)})},t}();e.HookBuilder=s},function(t,e,n){"use strict";function r(t,e){function n(t){for(var e=r,n=0;n<e.length;n++){var i=s.Glob.fromString(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name)return!0}return!1}var r=a.isString(e)?[e]:e,i=a.isFunction(r)?r:n;return!!i(t)}function i(t,e){return function(n,r,i){void 0===i&&(i={});var a=new u(n,r,i);return t[e].push(a),function(){o.removeFrom(t[e])(a)}}}var o=n(3),a=n(4),s=n(7);e.matchState=r;var u=function(){function t(t,e,n){void 0===n&&(n={}),this.callback=e,this.matchCriteria=o.extend({to:!0,from:!0,exiting:!0,retained:!0,entering:!0},t),this.priority=n.priority||0,this.bind=n.bind||null}return t._matchingNodes=function(t,e){if(e===!0)return t;var n=t.filter(function(t){return r(t.state,e)});return n.length?n:null},t.prototype.matches=function(e){var n=this.matchCriteria,r=t._matchingNodes,i={to:r([o.tail(e.to)],n.to),from:r([o.tail(e.from)],n.from),exiting:r(e.exiting,n.exiting),retained:r(e.retained,n.retained),entering:r(e.entering,n.entering)},a=["to","from","exiting","retained","entering"].map(function(t){return i[t]}).reduce(o.allTrueR,!0);return a?i:null},t}();e.EventHook=u;var c=function(){function t(){var t=this;this._transitionEvents={onBefore:[],onStart:[],onEnter:[],onRetain:[],onExit:[],onFinish:[],onSuccess:[],onError:[]},this.getHooks=function(e){return t._transitionEvents[e]},this.onBefore=i(this._transitionEvents,"onBefore"),this.onStart=i(this._transitionEvents,"onStart"),this.onEnter=i(this._transitionEvents,"onEnter"),this.onRetain=i(this._transitionEvents,"onRetain"),this.onExit=i(this._transitionEvents,"onExit"),this.onFinish=i(this._transitionEvents,"onFinish"),this.onSuccess=i(this._transitionEvents,"onSuccess"),this.onError=i(this._transitionEvents,"onError")}return t.mixin=function(t,e){Object.keys(t._transitionEvents).concat(["getHooks"]).forEach(function(n){return e[n]=t[n]})},t}();e.HookRegistry=c},function(t,e,n){"use strict";var r=n(3),i=n(9),o=n(4),a=n(5),s=n(12),u=n(6),c=n(10),l=n(17),f=new c.RejectFactory,p={async:!0,rejectIfSuperseded:!0,current:r.noop,transition:null,traceData:{},bind:null},h=function(){function t(t,e,n,i){var u=this;this.fn=t,this.locals=e,this.resolveContext=n,this.options=i,this.isSuperseded=function(){return u.options.current()!==u.options.transition},this.mapHookResult=a.pattern([[this.isSuperseded,function(){return f.superseded(u.options.current())}],[a.eq(!1),function(){return f.aborted("Hook aborted transition")}],[a.is(l.TargetState),function(t){return f.redirected(t)}],[o.isPromise,function(t){return t.then(u.handleHookResult.bind(u))}]]),this.invokeStep=function(t){var e=u,n=e.options,i=e.fn,o=e.resolveContext,a=r.extend({},u.locals,t);if(s.trace.traceHookInvocation(u,n),n.rejectIfSuperseded&&u.isSuperseded())return f.superseded(n.current());if(!n.async){var c=o.invokeNow(i,a,n);return u.handleHookResult(c)}return o.invokeLater(i,a,n).then(u.handleHookResult.bind(u))},this.options=r.defaults(i,p)}return t.prototype.handleHookResult=function(t){if(o.isDefined(t)){s.trace.traceHookResult(t,void 0,this.options);var e=this.mapHookResult(t);return e&&s.trace.traceHookResult(t,e,this.options),e}},t.prototype.toString=function(){var t=this,e=t.options,n=t.fn,r=a.parse("traceData.hookType")(e)||"internal",o=a.parse("traceData.context.state.name")(e)||a.parse("traceData.context")(e)||"unknown",s=i.fnToString(n);return r+" context: "+o+", "+i.maxLength(200,s)},t.runSynchronousHooks=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);for(var i=[],s=0;s<e.length;s++)try{i.push(e[s].invokeStep(n))}catch(c){if(!r)return f.aborted(c);console.log("Swallowed exception during synchronous hook handler: "+c)}var l=i.filter(t.isRejection);return l.length?l[0]:i.filter(a.not(t.isRejection)).filter(o.isPromise).reduce(function(t,e){return t.then(a.val(e))},u.services.$q.when())},t.isRejection=function(t){return t&&t.reason instanceof c.TransitionRejection&&t},t}();e.TransitionHook=h},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(18)),r(n(19)),r(n(26)),r(n(33)),r(n(34)),r(n(35)),r(n(36)),r(n(37)),r(n(27))},function(t,e,n){"use strict";var r=n(4),i=n(3),o=function(){function t(e){this.stateRegistry=e,this.invalidCallbacks=[],i.bindFunctions(t.prototype,this,this)}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return r.isObject(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){this.invalidCallbacks.push(t)},t}();e.StateProvider=o},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(5),a=n(20),s=function(t){if(!i.isString(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},u=function(){function t(t,e){this.matcher=t;var n=this,i=function(t){return""===t.name},u=function(){return t.find("")};this.builders={self:[function(t){return t.self.$$state=function(){return t},t.self}],parent:[function(e){return i(e)?null:t.find(n.parentName(e))||u()}],data:[function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=r.inherit(t.parent.data,t.data)),t.data}],url:[function(t){var n=t,i=s(n.url),o=t.parent,a=i?e.compile(i.val,{params:t.params||{},paramMap:function(t,e){return n.reloadOnSearch===!1&&e&&(t=r.extend(t||{},{dynamic:!0})),t}}):n.url;if(!a)return null;if(!e.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+t+"'");return i&&i.root?a:(o&&o.navigable||u()).url.append(a)}],navigable:[function(t){return!i(t)&&t.url?t:t.parent?t.parent.navigable:null}],params:[function(t){var e=function(t,e){return a.Param.fromConfig(e,null,t)},n=t.url&&t.url.parameters({inherit:!1})||[],i=r.values(r.map(r.omit(t.params||{},n.map(o.prop("id"))),e));return n.concat(i).map(function(t){return[t.id,t]}).reduce(r.applyPairs,{})}],views:[],path:[function(t){return t.parent?t.parent.path.concat(t):[t]}],includes:[function(t){var e=t.parent?r.extend({},t.parent.includes):{};return e[t.name]=!0,e}]}}return t.prototype.builder=function(t,e){var n=this.builders,r=n[t]||[];return i.isString(t)&&!i.isDefined(e)?r.length>1?r:r[0]:i.isString(t)&&i.isFunction(e)?(n[t]=r,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,n=e.matcher,i=e.builders,o=this.parentName(t);if(o&&!n.find(o))return null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a].reduce(function(t,e){return function(n){return e(n,t)}},r.noop);t[a]=s(t)}return t},t.prototype.parentName=function(t){var e=t.name||"";return e.indexOf(".")!==-1?e.substring(0,e.lastIndexOf(".")):t.parent?i.isString(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(e.indexOf(".")!==-1||!t.parent)return e;var n=i.isString(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}();e.StateBuilder=u},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(21)),r(n(24)),r(n(25)),r(n(23))},function(t,e,n){"use strict";function r(t){return t=v(t)&&{value:t}||t,s.extend(t,{$$fn:c.isInjectable(t.value)?t.value:function(){return t.value}})}function i(t,e,n,r){if(t.type&&e&&"string"!==e.name)throw new Error("Param '"+r+"' has two type configurations.");return t.type&&e&&"string"===e.name&&h.paramTypes.type(t.type)?h.paramTypes.type(t.type):e?e:t.type?t.type instanceof p.Type?t.type:h.paramTypes.type(t.type):n===g.CONFIG?h.paramTypes.type("any"):h.paramTypes.type("string")}function o(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!c.isDefined(n)||null==n)return f.matcherConfig.defaultSquashPolicy();if(n===!0||c.isString(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function a(t,e,n,r){var i,o,a=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}];return i=c.isArray(t.replace)?t.replace:[],c.isString(r)&&i.push({from:r,to:void 0}),o=s.map(i,u.prop("from")),s.filter(a,function(t){return o.indexOf(t.from)===-1}).concat(i)}var s=n(3),u=n(5),c=n(4),l=n(6),f=n(22),p=n(23),h=n(24),d=Object.prototype.hasOwnProperty,v=function(t){return 0===["value","type","squash","array","dynamic"].filter(d.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(e.DefType||(e.DefType={}));var g=e.DefType,m=function(){function t(t,e,n,u){function c(){var e={array:u===g.SEARCH&&"auto"},r=t.match(/\[\]$/)?{array:!0}:{};return s.extend(e,r,n).array}n=r(n),e=i(n,e,u,t);var l=c();e=l?e.$asArray(l,u===g.SEARCH):e;var f=void 0!==n.value,p=n.dynamic===!0,h=o(n,f),d=a(n,l,f,h);s.extend(this,{id:t,type:e,location:u,squash:h,replace:d,isOptional:f,dynamic:p,config:n,array:l})}return t.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},t.prototype.value=function(t){var e=this,n=function(){if(!l.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=l.services.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of Type ("+e.type.name+")");return t},r=function(t){var n=s.map(s.filter(e.replace,u.propEq("from",t)),u.prop("to"));return n.length?n[0]:t};return t=r(t),c.isDefined(t)?this.type.$normalize(t):n()},t.prototype.isSearch=function(){return this.location===g.SEARCH},t.prototype.validates=function(t){if((!c.isDefined(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(c.isString(n)&&!this.type.pattern.exec(n))},t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},t.fromConfig=function(e,n,r){return new t(e,n,r,g.CONFIG)},t.fromPath=function(e,n,r){return new t(e,n,r,g.PATH)},t.fromSearch=function(e,n,r){return new t(e,n,r,g.SEARCH)},t.values=function(t,e){return void 0===e&&(e={}),t.map(function(t){return[t.id,t.value(e[t.id])]}).reduce(s.applyPairs,{})},t.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter(function(t){return!t.type.equals(e[t.id],n[t.id])})},t.equals=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===t.changed(e,n,r).length},t.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(s.allTrueR,!0)},t}();e.Param=m},function(t,e,n){"use strict";var r=n(4),i=function(){function t(){this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=r.isDefined(t)?t:this._isCaseInsensitive},t.prototype.strictMode=function(t){return this._isStrictMode=r.isDefined(t)?t:this._isStrictMode},t.prototype.defaultSquashPolicy=function(t){if(r.isDefined(t)&&t!==!0&&t!==!1&&!r.isString(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=r.isDefined(t)?t:this._defaultSquashPolicy},t}();e.MatcherConfig=i,e.matcherConfig=new i},function(t,e,n){"use strict";function r(t,e){function n(t){return o.isArray(t)?t:o.isDefined(t)?[t]:[]}function r(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t,e){return function(a){if(o.isArray(a)&&0===a.length)return a;var s=n(a),u=i.map(s,t);return e===!0?0===i.filter(u,function(t){return!t}).length:r(u)}}function s(t){return function(e,r){var i=n(e),o=n(r);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var u=this;["encode","decode","equals","$normalize"].map(function(e){u[e]=("equals"===e?s:a)(t[e].bind(t))}),i.extend(this,{name:t.name,pattern:t.pattern,is:a(t.is.bind(t),!0),$arrayMode:e})}var i=n(3),o=n(4),a=function(){function t(t){this.pattern=/.*/,i.extend(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{Type:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},t}();e.Type=a},function(t,e,n){"use strict";function r(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function i(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t}var o=n(3),a=n(4),s=n(5),u=n(6),c=n(23),l=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes={hash:{encode:r,decode:i,is:s.is(String),pattern:/.*/,equals:s.val(!0)},string:{encode:r,decode:i,is:s.is(String),pattern:/[^\/]*/},"int":{encode:r,decode:function(t){return parseInt(t,10)},is:function(t){return a.isDefined(t)&&this.decode(t.toString())===t},pattern:/-?\d+/},bool:{encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:s.is(Boolean),pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(n,r){return n&&t[r]()===e[r]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:o.toJson,decode:o.fromJson,is:s.is(Object),equals:o.equals,pattern:/[^\/]*/},any:{encode:o.identity,decode:o.identity,equals:o.equals,pattern:/.*/}};var t=function(t,e){return new c.Type(o.extend({name:e},t))};this.types=o.inherit(o.map(this.defaultTypes,t),{})}return t.prototype.type=function(t,e,n){if(!a.isDefined(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new c.Type(o.extend({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");o.extend(this.types[t.name],u.services.$injector.invoke(t.def))}},t}();e.ParamTypes=l,e.paramTypes=new l},function(t,e,n){"use strict";var r=n(3),i=function(){function t(t){void 0===t&&(t={}),r.extend(this,t)}return t.prototype.$inherit=function(t,e,n){var i,o=r.ancestors(e,n),a={},s=[];for(var u in o)if(o[u]&&o[u].params&&(i=Object.keys(o[u].params),i.length))for(var c in i)s.indexOf(i[c])>=0||(s.push(i[c]),a[i[c]]=this[i[c]]);return r.extend({},a,t)},t}();e.StateParams=i},function(t,e,n){"use strict";
var r=n(5),i=n(21),o=n(10),a=n(27),s=n(28),u=n(29),c=n(30),l=n(6),f=function(){function t(t,e,n,r,i,o){this.transition=t,this.$transitions=e,this.$urlRouter=n,this.$view=r,this.$state=i,this.globals=o,this.$q=l.services.$q,this.viewHooks=new s.ViewHooks(t,r),this.enterExitHooks=new u.EnterExitHooks(t),this.resolveHooks=new c.ResolveHooks(t),this.treeChanges=t.treeChanges(),this.registerUpdateGlobalState(),this.viewHooks.registerHooks(),this.enterExitHooks.registerHooks(),this.resolveHooks.registerHooks()}return t.prototype.runTransition=function(){var t=this;return this.globals.transitionHistory.enqueue(this.transition),this.transition.run().then(function(t){return t.to()})["catch"](function(e){return t.transRejected(e)})},t.prototype.registerUpdateGlobalState=function(){this.transition.onSuccess({},this.updateUrl.bind(this),{priority:9999})},t.prototype.transRejected=function(t){var e=this,n=e.transition,s=e.$state,u=e.$q;if(t instanceof o.TransitionRejection){if(t.type===o.RejectType.IGNORED){var c=s.$current.parameters().filter(r.prop("dynamic"));return i.Param.equals(c,s.params,n.params())||this.updateUrl(),s.current}if(t.type===o.RejectType.SUPERSEDED&&t.redirected&&t.detail instanceof a.TargetState)return this._redirectMgr(n.redirect(t.detail)).runTransition();t.type===o.RejectType.ABORTED&&this.$urlRouter.update()}return this.$transitions.defaultErrorHandler()(t),u.reject(t)},t.prototype.updateUrl=function(){var t=this.transition,e=this,n=e.$urlRouter,r=e.$state,i=t.options();t.$to();i.location&&r.$current.navigable&&n.push(r.$current.navigable.url,r.params,{replace:"replace"===i.location}),n.update(!0)},t.prototype._redirectMgr=function(e){var n=this,r=n.$transitions,i=n.$urlRouter,o=n.$view,a=n.$state,s=n.globals;return new t(e,r,i,o,a,s)},t}();e.TransitionManager=f},function(t,e){"use strict";var n=function(){function t(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r={}),this._identifier=t,this._definition=e,this._options=r,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t}();e.TargetState=n},function(t,e,n){"use strict";var r=n(3),i=n(6),o=function(){function t(t,e){this.transition=t,this.$view=e,this.treeChanges=t.treeChanges(),this.enteringViews=t.views("entering"),this.exitingViews=t.views("exiting")}return t.prototype.loadAllEnteringViews=function(){return i.services.$q.all(this.enteringViews.map(function(t){return t.load()})).then(r.noop)},t.prototype.updateViews=function(){var t=this.$view;this.exitingViews.forEach(function(e){return t.deactivateViewConfig(e)}),this.enteringViews.forEach(function(e){return t.activateViewConfig(e)}),t.sync()},t.prototype.registerHooks=function(){this.enteringViews.length&&this.transition.onStart({},this.loadAllEnteringViews.bind(this)),(this.exitingViews.length||this.enteringViews.length)&&this.transition.onSuccess({},this.updateViews.bind(this))},t}();e.ViewHooks=o},function(t,e){"use strict";var n=function(){function t(t){this.transition=t}return t.prototype.registerHooks=function(){this.registerOnEnterHooks(),this.registerOnRetainHooks(),this.registerOnExitHooks()},t.prototype.registerOnEnterHooks=function(){var t=this;this.transition.entering().filter(function(t){return!!t.onEnter}).forEach(function(e){return t.transition.onEnter({entering:e.name},e.onEnter)})},t.prototype.registerOnRetainHooks=function(){var t=this;this.transition.retained().filter(function(t){return!!t.onRetain}).forEach(function(e){return t.transition.onRetain({retained:e.name},e.onRetain)})},t.prototype.registerOnExitHooks=function(){var t=this;this.transition.exiting().filter(function(t){return!!t.onExit}).forEach(function(e){return t.transition.onExit({exiting:e.name},e.onExit)})},t}();e.EnterExitHooks=n},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(31),a=n(5),s=n(32),u=o.ResolvePolicy[o.ResolvePolicy.LAZY],c=o.ResolvePolicy[o.ResolvePolicy.EAGER],l=function(){function t(t){this.transition=t}return t.prototype.registerHooks=function(){function t(t){return r.tail(n.to).resolveContext.resolvePath(r.extend({transition:t},{resolvePolicy:c}))}function e(t,e){var o=r.find(n.entering,i.propEq("state",t)),a=o.resolveContext,c=new s.Resolvable("$resolve$",function(){return r.map(a.getResolvables(),function(t){return t.data})}),l=r.extend({transition:e},{resolvePolicy:u});return a.resolvePathElement(o.state,l).then(function(){return c.resolveResolvable(a)}).then(function(){return a.addResolvables({$resolve$:c},o.state)})}var n=this.transition.treeChanges();t.$inject=["$transition$"],e.$inject=["$state$","$transition$"],this.transition.onStart({},t,{priority:1e3}),this.transition.onEnter({entering:a.val(!0)},e,{priority:1e3})},t}();e.ResolveHooks=l},function(t,e){"use strict";!function(t){t[t.JIT=0]="JIT",t[t.LAZY=1]="LAZY",t[t.EAGER=2]="EAGER"}(e.ResolvePolicy||(e.ResolvePolicy={}));e.ResolvePolicy},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(4),a=n(6),s=n(12),u=function(){function t(t,e,n){this.promise=void 0,r.extend(this,{name:t,resolveFn:e,deps:a.services.$injector.annotate(e,a.services.$injector.strictDi),data:n})}return t.prototype.resolveResolvable=function(t,e){var n=this;void 0===e&&(e={});var i=this,o=i.name,u=i.deps,c=i.resolveFn;s.trace.traceResolveResolvable(this,e);var l=a.services.$q.defer();this.promise=l.promise;var f=t.getResolvables(null,{omitOwnLocals:[o]}),p=r.pick(f,u),h=r.map(p,function(n){return n.get(t,e)});return a.services.$q.all(h).then(function(t){try{var e=a.services.$injector.invoke(c,null,t);l.resolve(e)}catch(r){l.reject(r)}return n.promise}).then(function(t){return n.data=t,s.trace.traceResolvableResolved(n,e),n.promise})},t.prototype.get=function(t,e){return this.promise||this.resolveResolvable(t,e)},t.prototype.toString=function(){return"Resolvable(name: "+this.name+", requires: ["+this.deps+"])"},t.makeResolvables=function(e){var n=r.filter(e,i.not(o.isInjectable)),a=Object.keys(n);if(a.length)throw new Error("Invalid resolve key/value: "+a[0]+"/"+n[a[0]]);return r.map(e,function(e,n){return new t(n,e)})},t}();e.Resolvable=u},function(t,e,n){"use strict";var r=n(3),i=n(5),o=function(){function t(t){r.extend(this,t)}return t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){t=r.defaults(t,{inherit:!0});var e=t.inherit&&this.parent&&this.parent.parameters()||[];return e.concat(r.values(this.params))},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||r.find(r.values(this.params),i.propEq("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();e.State=o},function(t,e,n){"use strict";var r=n(4),i=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return t=t||"",0===t.indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e){if(t||""===t){var n=r.isString(t),i=n?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];return!o||!n&&(n||o!==t&&o.self!==t)?void 0:o}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),r=t.split("."),i=0,o=r.length,a=n;i<o;i++)if(""!==r[i]||0!==i){if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},t}();e.StateMatcher=i},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(17),a=function(){function t(t,e,n){this.states=t,this.builder=e,this.$urlRouterProvider=n,this.queue=[]}return t.prototype.register=function(t){var e=this,n=e.states,a=e.queue,s=e.$state,u=r.inherit(new o.State,r.extend({},t,{self:t,resolve:t.resolve||{},toString:function(){return t.name}}));if(!i.isString(u.name))throw new Error("State must have a valid name");if(n.hasOwnProperty(u.name)||r.pluck(a,"name").indexOf(u.name)!==-1)throw new Error("State '"+u.name+"' is already defined");return a.push(u),this.$state&&this.flush(s),u},t.prototype.flush=function(t){for(var e,n,r,i=this,o=i.queue,a=i.states,s=i.builder,u=[],c={};o.length>0;)if(n=o.shift(),e=s.build(n),r=u.indexOf(n),e){if(a.hasOwnProperty(n.name))throw new Error("State '"+name+"' is already defined");a[n.name]=n,this.attachRoute(t,n),r>=0&&u.splice(r,1)}else{var l=c[n.name];if(c[n.name]=o.length,r>=0&&l===o.length)throw new Error("Cannot register orphaned state '"+n.name+"'");r<0&&u.push(n),o.push(n)}return a},t.prototype.autoFlush=function(t){this.$state=t,this.flush(t)},t.prototype.attachRoute=function(t,e){var n=this.$urlRouterProvider;!e[r.abstractKey]&&e.url&&n.when(e.url,["$match","$stateParams",function(n,i){t.$current.navigable===e&&r.equalForKeys(n,i)||t.transitionTo(e,n,{inherit:!0})}])},t}();e.StateQueueManager=a},function(t,e,n){"use strict";var r=n(34),i=n(19),o=n(35),a=function(){function t(t,e){this.states={},this.matcher=new r.StateMatcher(this.states),this.builder=new i.StateBuilder(this.matcher,t),this.stateQueue=new o.StateQueueManager(this.states,this.builder,e);var n={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash"}},"abstract":!0},a=this._root=this.stateQueue.register(n);a.navigable=null}return t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return n.states[t].self});var r=this.matcher.find(t,e);return r&&r.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}();e.StateRegistry=a},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(8),a=n(6),s=n(38),u=n(39),c=n(43),l=n(10),f=n(27),p=n(26),h=n(21),d=n(7),v=n(3),g=n(3),m=function(){function t(e,n,r,i,o,a){this.$view=e,this.$urlRouter=n,this.$transitions=r,this.stateRegistry=i,this.stateProvider=o,this.globals=a,this.rejectFactory=new l.RejectFactory;var s=["current","$current","params","transition"],u=Object.keys(t.prototype).filter(function(t){return s.indexOf(t)===-1});g.bindFunctions(t.prototype,this,this,u)}return Object.defineProperty(t.prototype,"transition",{get:function(){return this.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$current",{get:function(){return this.globals.$current},enumerable:!0,configurable:!0}),t.prototype._handleInvalidTargetState=function(t,e){function n(){var t=l.dequeue();return void 0===t?p.invalid(e.error()):v(t).then(g).then(function(t){return t||n()})}var r=this,i=function(){return r.globals.transitionHistory.peekTail()},u=i(),c=s.PathFactory.makeTargetState(t),l=new o.Queue([].concat(this.stateProvider.invalidCallbacks)),p=this.rejectFactory,h=a.services.$q,d=a.services.$injector,v=function(t){return h.when(d.invoke(t,null,{$to$:e,$from$:c}))},g=function(t){if(t instanceof f.TargetState){var e=t;return e=r.target(e.identifier(),e.params(),e.options()),e.valid()?i()!==u?p.superseded():r.transitionTo(e.identifier(),e.params(),e.options()):p.invalid(e.error())}};return n()},t.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!i.isDefined(t)||t,inherit:!1,notify:!1})},t.prototype.go=function(t,e,n){var i={relative:this.$current,inherit:!0},o=r.defaults(n,i,c.defaultTransOpts);return this.transitionTo(t,e,o)},t.prototype.target=function(t,e,n){if(void 0===n&&(n={}),i.isObject(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");if(n.reloadState=n.reload===!0?this.stateRegistry.root():this.stateRegistry.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(i.isString(n.reload)?n.reload:n.reload.name)+"'");var r=this.stateRegistry.matcher.find(t,n.relative);return new f.TargetState(t,r,e,n)},t.prototype.transitionTo=function(t,e,n){var i=this;void 0===e&&(e={}),void 0===n&&(n={});var o=this.globals.transitionHistory;n=r.defaults(n,c.defaultTransOpts),n=r.extend(n,{current:o.peekTail.bind(o)});var l=this.target(t,e,n),f=this.globals.successfulTransitions.peekTail(),h=function(){return s.PathFactory.bindTransNodesToPath([new u.Node(i.stateRegistry.root())])},d=f?f.treeChanges().to:h();if(!l.exists())return this._handleInvalidTargetState(d,l);if(!l.valid())return a.services.$q.reject(l.error());var v=this.$transitions.create(d,l),g=new p.TransitionManager(v,this.$transitions,this.$urlRouter,this.$view,this,this.globals),m=g.runTransition();return r.extend(m,{transition:v})},t.prototype.is=function(t,e,n){n=r.defaults(n,{relative:this.$current});var o=this.stateRegistry.matcher.find(t,n.relative);if(i.isDefined(o))return this.$current===o&&(!i.isDefined(e)||null===e||h.Param.equals(o.parameters(),this.params,e))},t.prototype.includes=function(t,e,n){n=r.defaults(n,{relative:this.$current});var o=i.isString(t)&&d.Glob.fromString(t);if(o){if(!o.matches(this.$current.name))return!1;t=this.$current.name}var a=this.stateRegistry.matcher.find(t,n.relative),s=this.$current.includes;if(i.isDefined(a))return!!i.isDefined(s[a.name])&&(!e||v.equalForKeys(h.Param.values(a.parameters(),e),this.params,Object.keys(e)))},t.prototype.href=function(t,e,n){var o={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=r.defaults(n,o);var a=this.stateRegistry.matcher.find(t,n.relative);if(!i.isDefined(a))return null;n.inherit&&(e=this.params.$inherit(e||{},this.$current,a));var s=a&&n.lossy?a.navigable:a;return s&&void 0!==s.url&&null!==s.url?this.$urlRouter.href(s.url,h.Param.values(a.parameters(),e),{absolute:n.absolute}):null},t.prototype.get=function(t,e){return 0===arguments.length?this.stateRegistry.get():this.stateRegistry.get(t,e||this.$current)},t}();e.StateService=m},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(17),a=n(39),s=n(40),u=function(){function t(){}return t.makeTargetState=function(t){var e=r.tail(t).state;return new o.TargetState(e,e,t.map(i.prop("paramValues")).reduce(r.mergeR,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new a.Node(t).applyRawParams(e)})},t.buildToPath=function(e,n){var r=t.buildPath(n);return n.options().inherit?t.inheritParams(e,r,Object.keys(n.params())):r},t.applyViewConfigs=function(t,e){return e.map(function(e){return r.extend(e,{views:r.values(e.state.views||{}).map(function(n){return t.createViewConfig(e,n)})})})},t.inheritParams=function(t,e,n){function o(t,e){var n=r.find(t,i.propEq("state",e));return r.extend({},n&&n.paramValues)}void 0===n&&(n=[]);var s=i.curry(function(t,e,n){var i=r.extend({},n&&n.paramValues),s=r.pick(i,e);i=r.omit(i,e);var u=o(t,n.state)||{},c=r.extend(i,u,s);return new a.Node(n.state).applyRawParams(c)});return e.map(s(t,n))},t.bindTransNodesToPath=function(t){var e=new s.ResolveContext(t);return t.forEach(function(t){t.resolveContext=e.isolateRootTo(t.state),t.resolveInjector=new s.ResolveInjector(t.resolveContext,t.state),t.resolves.$stateParams=new s.Resolvable("$stateParams",function(){return t.paramValues},t.paramValues)}),t},t.treeChanges=function(e,n,r){function o(t,e){var r=a.Node.clone(t);return r.paramValues=n[e].paramValues,r}for(var s=0,u=Math.min(e.length,n.length),c=function(t){return t.parameters({inherit:!1}).filter(i.not(i.prop("dynamic"))).map(i.prop("id"))},l=function(t,e){return t.equals(e,c(t.state))};s<u&&e[s].state!==r&&l(e[s],n[s]);)s++;var f,p,h,d,v,g,m,y;return f=e,p=f.slice(0,s),h=f.slice(s),g=p.map(o),m=n.slice(s),y=g.concat(m),v=t.bindTransNodesToPath(y),d=v.slice(s),{from:f,to:v,retained:p,exiting:h,entering:d}},t.bindTransitionResolve=function(t,e){var n=t.to[0];n.resolves.$transition$=new s.Resolvable("$transition$",function(){return e},e)},t.subPath=function(t,e){var n=r.find(t,function(t){return t.state===e}),i=t.indexOf(n);if(i===-1)throw new Error("The path does not contain the state: "+e);return t.slice(0,i+1)},t.paramValues=function(t){return t.reduce(function(t,e){return r.extend(t,e.paramValues)},{})},t}();e.PathFactory=u},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(40),a=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=r.extend({},n.paramValues),this.resolves=r.extend({},n.resolves),this.views=n.views&&n.views.slice(),this.resolveContext=n.resolveContext,this.resolveInjector=n.resolveInjector}else this.state=e,this.paramSchema=e.parameters({inherit:!1}),this.paramValues={},this.resolves=r.mapObj(e.resolve,function(t,e){return new o.Resolvable(e,t)})}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,n){return r.applyPairs(t,e(n))},{}),this},t.prototype.parameter=function(t){return r.find(this.paramSchema,i.propEq("id",t))},t.prototype.equals=function(t,e){var n=this;void 0===e&&(e=this.paramSchema.map(i.prop("id")));var o=function(e){return n.parameter(e).type.equals(n.paramValues[e],t.paramValues[e])};return this.state===t.state&&e.map(o).reduce(r.allTrueR,!0)},t.clone=function(e){return new t(e)},t.matching=function(t,e){var n=t.reduce(function(t,n,r){return t===r&&r<e.length&&n.state===e[r].state?r+1:t},0);return t.slice(0,n)},t}();e.Node=a},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(31)),r(n(32)),r(n(41)),r(n(42))},function(t,e,n){"use strict";function r(t,e){var n=a.isString(t)?t:null,r=a.isObject(t)?t:{},i=r[e.name]||n||p;return c.ResolvePolicy[i]}var i=n(3),o=n(5),a=n(4),s=n(12),u=n(6),c=n(31),l=n(3),f=n(38),p=c.ResolvePolicy[c.ResolvePolicy.LAZY],h=function(){function t(t){this._path=t,i.extend(this,{_nodeFor:function(t){return i.find(this._path,o.propEq("state",t))},_pathTo:function(t){return f.PathFactory.subPath(this._path,t)}})}return t.prototype.getResolvables=function(t,e){e=i.defaults(e,{omitOwnLocals:[]});var n=t?this._pathTo(t):this._path,r=i.tail(n);return n.reduce(function(t,n){var o=n===r?e.omitOwnLocals:[],a=i.omit(n.resolves,o);return i.extend(t,a)},{})},t.prototype.getResolvablesForFn=function(t){var e=u.services.$injector.annotate(t,u.services.$injector.strictDi);return i.pick(this.getResolvables(),e)},t.prototype.isolateRootTo=function(e){return new t(this._pathTo(e))},t.prototype.addResolvables=function(t,e){i.extend(this._nodeFor(e).resolves,t)},t.prototype.getOwnResolvables=function(t){return i.extend({},this._nodeFor(t).resolves)},t.prototype.resolvePath=function(t){var e=this;void 0===t&&(t={}),s.trace.traceResolvePath(this._path,t);var n=function(n){return e.resolvePathElement(n.state,t)};return u.services.$q.all(i.map(this._path,n)).then(function(t){return t.reduce(l.mergeR,{})})},t.prototype.resolvePathElement=function(t,e){var n=this;void 0===e&&(e={});var o=e&&e.resolvePolicy,a=c.ResolvePolicy[o||p],l=this.getOwnResolvables(t),f=function(e){return r(t.resolvePolicy,e)>=a},h=i.filter(l,f),d=function(r){return r.get(n.isolateRootTo(t),e)},v=i.map(h,d);return s.trace.traceResolvePathElement(this,h,e),u.services.$q.all(v)},t.prototype.invokeLater=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n={});var o=this.getResolvablesForFn(t);s.trace.tracePathElementInvoke(i.tail(this._path),t,Object.keys(o),i.extend({when:"Later"},n));var a=function(t){return t.get(r,n)},c=i.map(o,a);return u.services.$q.all(c).then(function(){try{return r.invokeNow(t,e,n)}catch(i){return u.services.$q.reject(i)}})},t.prototype.invokeNow=function(t,e,n){void 0===n&&(n={});var r=this.getResolvablesForFn(t);s.trace.tracePathElementInvoke(i.tail(this._path),t,Object.keys(r),i.extend({when:"Now  "},n));var a=i.map(r,o.prop("data"));return u.services.$injector.invoke(t,n.bind||null,i.extend({},e,a))},t}();e.ResolveContext=h},function(t,e,n){"use strict";var r=n(3),i=function(){function t(t,e){this._resolveContext=t,this._state=e}return t.prototype.invokeLater=function(t,e){return this._resolveContext.invokeLater(t,e)},t.prototype.invokeNow=function(t,e){return this._resolveContext.invokeNow(null,t,e)},t.prototype.getLocals=function(t){var e=this,n=function(t){return t.get(e._resolveContext)};return r.map(this._resolveContext.getResolvablesForFn(t),n)},t}();e.ResolveInjector=i},function(t,e,n){"use strict";var r=n(11),i=n(15);e.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null}};var o=function(){function t(t){this.$view=t,this._defaultErrorHandler=function(t){t instanceof Error&&console.error(t)},i.HookRegistry.mixin(new i.HookRegistry,this)}return t.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},t.prototype.create=function(t,e){return new r.Transition(t,e,this)},t}();e.TransitionService=o},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(39)),r(n(38))},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(46)),r(n(22)),r(n(47)),r(n(48))},function(t,e,n){"use strict";function r(t,e){var n=["",""],r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return r+n[0]+e.type.pattern.source+n[1]}var i=n(3),o=n(5),a=n(4),s=n(20),u=n(4),c=n(21),l=n(3),f=n(3),p=function(t,e,n){return t[e]=t[e]||n()},h=function(){function t(e,n){var a=this;this.pattern=e,this.config=n,this._cache={path:[],pattern:null},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=i.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:i.identity});for(var u,c,l,f=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=0,d=[],v=function(n){if(!t.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+e+"'");if(i.find(a._params,o.propEq("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+e+"'")},g=function(t,n){var r=t[2]||t[3],o=n?t[4]:t[4]||("*"===t[1]?".*":null);return{id:r,regexp:o,cfg:a.config.params[r],segment:e.substring(h,t.index),type:o?s.paramTypes.type(o||"string")||i.inherit(s.paramTypes.type("string"),{pattern:new RegExp(o,a.config.caseInsensitive?"i":void 0)}):null}};(u=f.exec(e))&&(c=g(u,!1),!(c.segment.indexOf("?")>=0));)v(c.id),this._params.push(s.Param.fromPath(c.id,c.type,this.config.paramMap(c.cfg,!1))),this._segments.push(c.segment),d.push([c.segment,i.tail(this._params)]),h=f.lastIndex;l=e.substring(h);var m=l.indexOf("?");if(m>=0){var y=l.substring(m);if(l=l.substring(0,m),y.length>0)for(h=0;u=p.exec(y);)c=g(u,!0),v(c.id),this._params.push(s.Param.fromSearch(c.id,c.type,this.config.paramMap(c.cfg,!0))),h=f.lastIndex}this._segments.push(l),i.extend(this,{_compiled:d.map(function(t){return r.apply(null,t)}).concat(r(l)),prefix:this._segments[0]}),Object.freeze(this)}return t.prototype.append=function(t){return this._children.push(t),i.forEach(t._cache,function(e,n){return t._cache[n]=a.isArray(e)?[]:null}),t._cache.path=this._cache.path.concat(this),t},t.prototype.isRoot=function(){return 0===this._cache.path.length},t.prototype.toString=function(){return this.pattern},t.prototype.exec=function(t,e,n,r){function a(t){var e=function(t){return t.split("").reverse().join("")},n=function(t){return t.replace(/\\-/g,"-")},r=e(t).split(/-(?!\\)/),o=i.map(r,e);return i.map(o,n).reverse()}var s=this;void 0===e&&(e={}),void 0===r&&(r={});var c=p(this._cache,"pattern",function(){return new RegExp(["^",i.unnest(s._cache.path.concat(s).map(o.prop("_compiled"))).join(""),s.config.strict===!1?"/?":"","$"].join(""),s.config.caseInsensitive?"i":void 0)}).exec(t);if(!c)return null;var l=this.parameters(),f=l.filter(function(t){return!t.isSearch()}),h=l.filter(function(t){return t.isSearch()}),d=this._cache.path.concat(this).map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),v={};if(d!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var g=0;g<d;g++){for(var m=f[g],y=c[g+1],$=0;$<m.replace.length;$++)m.replace[$].from===y&&(y=m.replace[$].to);y&&m.array===!0&&(y=a(y)),u.isDefined(y)&&(y=m.type.decode(y)),v[m.id]=m.value(y)}return i.forEach(h,function(t){for(var n=e[t.id],r=0;r<t.replace.length;r++)t.replace[r].from===n&&(n=t.replace[r].to);u.isDefined(n)&&(n=t.type.decode(n)),v[t.id]=t.value(n)}),n&&(v["#"]=n),v},t.prototype.parameters=function(t){return void 0===t&&(t={}),t.inherit===!1?this._params:i.unnest(this._cache.path.concat(this).map(o.prop("_params")))},t.prototype.parameter=function(t,e){void 0===e&&(e={});var n=i.tail(this._cache.path);return i.find(this._params,o.propEq("id",t))||e.inherit!==!1&&n&&n.parameter(t)||null},t.prototype.validates=function(t){var e=this,n=function(t,e){return!t||t.validates(e)};return i.pairs(t||{}).map(function(t){var r=t[0],i=t[1];return n(e.parameter(r),i)}).reduce(i.allTrueR,!0)},t.prototype.format=function(e){function n(t){var n=t.value(e[t.id]),r=t.isDefaultValue(n),i=!!r&&t.squash,o=t.type.encode(n);return{param:t,value:n,isDefaultValue:r,squash:i,encoded:o}}if(void 0===e&&(e={}),!this.validates(e))return null;var r=this._cache.path.slice().concat(this),o=r.map(t.pathSegmentsAndParams).reduce(l.unnestR,[]),s=r.map(t.queryParams).reduce(l.unnestR,[]),u=o.reduce(function(e,r){if(a.isString(r))return e+r;var o=n(r),s=o.squash,u=o.encoded,c=o.param;return s===!0?e.match(/\/$/)?e.slice(0,-1):e:a.isString(s)?e+s:s!==!1?e:null==u?e:a.isArray(u)?e+i.map(u,t.encodeDashes).join("-"):c.type.raw?e+u:e+encodeURIComponent(u)},""),c=s.map(function(t){var e=n(t),r=e.squash,o=e.encoded,s=e.isDefaultValue;if(!(null==o||s&&r!==!1)&&(a.isArray(o)||(o=[o]),0!==o.length))return t.type.raw||(o=i.map(o,encodeURIComponent)),o.map(function(e){return t.id+"="+e})}).filter(i.identity).reduce(l.unnestR,[]).join("&");return u+(c?"?"+c:"")+(e["#"]?"#"+e["#"]:"")},t.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},t.pathSegmentsAndParams=function(t){var e=t._segments,n=t._params.filter(function(t){return t.location===c.DefType.PATH});return f.arrayTuples(e,n.concat(void 0)).reduce(l.unnestR,[]).filter(function(t){return""!==t&&u.isDefined(t)})},t.queryParams=function(t){return t._params.filter(function(t){return t.location===c.DefType.SEARCH})},t.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t}();e.UrlMatcher=h},function(t,e,n){"use strict";function r(){return{strict:a.matcherConfig.strictMode(),caseInsensitive:a.matcherConfig.caseInsensitive()}}var i=n(3),o=n(4),a=n(45),s=n(20),u=function(){function t(){i.extend(this,{UrlMatcher:a.UrlMatcher,Param:s.Param})}return t.prototype.caseInsensitive=function(t){return a.matcherConfig.caseInsensitive(t)},t.prototype.strictMode=function(t){return a.matcherConfig.strictMode(t)},t.prototype.defaultSquashPolicy=function(t){return a.matcherConfig.defaultSquashPolicy(t)},t.prototype.compile=function(t,e){return new a.UrlMatcher(t,i.extend(r(),e))},t.prototype.isMatcher=function(t){if(!o.isObject(t))return!1;var e=!0;return i.forEach(a.UrlMatcher.prototype,function(n,r){o.isFunction(n)&&(e=e&&o.isDefined(t[r])&&o.isFunction(t[r]))}),e},t.prototype.type=function(t,e,n){var r=s.paramTypes.type(t,e,n);return o.isDefined(e)?this:r},t.prototype.$get=function(){return s.paramTypes.enqueue=!1,s.paramTypes._flushTypeQueue(),this},t}();e.UrlMatcherFactory=u},function(t,e,n){"use strict";function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function i(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function o(t,e,n,r){if(!r)return!1;var i=t.invoke(n,n,{$match:r,$stateParams:e});return!c.isDefined(i)||i}function a(t,e,n){var r=l.services.locationConfig.baseHref();return"/"===r?t:e?r.slice(0,-1)+t:n?r.slice(1)+t:t}function s(t,e,n){function r(t){var e=t(l.services.$injector,f);return!!e&&(c.isString(e)&&(f.replace(),f.url(e)),!0)}if(!n||!n.defaultPrevented){var i,o=t.length;for(i=0;i<o;i++)if(r(t[i]))return;e&&r(e)}}var u=n(3),c=n(4),l=n(6),f=l.services.location,p=function(){function t(t,e){this.$urlMatcherFactory=t,this.$stateParams=e,this.rules=[],this.otherwiseFn=null,this.interceptDeferred=!1}return t.prototype.rule=function(t){if(!c.isFunction(t))throw new Error("'rule' must be a function");return this.rules.push(t),this},t.prototype.otherwise=function(t){if(!c.isFunction(t)&&!c.isString(t))throw new Error("'rule' must be a string or function");return this.otherwiseFn=c.isString(t)?function(){return t}:t,this},t.prototype.when=function(t,e){var n,a=this,s=a.$urlMatcherFactory,p=a.$stateParams,h=c.isString(e);if(c.isString(t)&&(t=s.compile(t)),!h&&!c.isFunction(e)&&!c.isArray(e))throw new Error("invalid 'handler' in when()");var d={matcher:function(t,e){return h&&(n=s.compile(e),e=["$match",n.format.bind(n)]),u.extend(function(){return o(l.services.$injector,p,e,t.exec(f.path(),f.search(),f.hash()))},{prefix:c.isString(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(n=e,e=["$match",function(t){return i(n,t)}]),u.extend(function(){return o(l.services.$injector,p,e,t.exec(f.path()))},{prefix:r(t)})}},v={matcher:s.isMatcher(t),regex:t instanceof RegExp};for(var g in v)if(v[g])return this.rule(d[g](t,e));throw new Error("invalid 'what' in when()")},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}();e.UrlRouterProvider=p;var h=function(){function t(e){this.urlRouterProvider=e,u.bindFunctions(t.prototype,this,this)}return t.prototype.sync=function(){s(this.urlRouterProvider.rules,this.urlRouterProvider.otherwiseFn)},t.prototype.listen=function(){var t=this;return this.listener=this.listener||f.onChange(function(e){return s(t.urlRouterProvider.rules,t.urlRouterProvider.otherwiseFn,e)})},t.prototype.update=function(t){return t?void(this.location=f.url()):void(f.url()!==this.location&&(f.url(this.location),f.replace()))},t.prototype.push=function(t,e,n){f.url(t.format(e||{})),n&&n.replace&&f.replace()},t.prototype.href=function(t,e,n){if(!t.validates(e))return null;var r=t.format(e);n=n||{};var i=l.services.locationConfig,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=a(r,o,n.absolute),!n.absolute||!r)return r;var s=!o&&r?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,s,r].join("")},t}();e.UrlRouter=h},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(50))},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(4),a=n(2),s=function(){function t(){var t=this;this.uiViews=[],this.viewConfigs=[],
this._viewConfigFactories={},this.sync=function(){function e(t){return t.fqn.split(".").length}function n(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var o=t.uiViews.map(function(t){return[t.fqn,t]}).reduce(r.applyPairs,{}),a=function(t){return function(e){var n=e.viewDecl,i=n.$uiViewName.split("."),a=t.fqn.split(".");if(!r.equals(i,a.slice(0-i.length)))return!1;var s=1-i.length||void 0,u=a.slice(0,s).join("."),c=o[u].creationContext;return n.$uiViewContextAnchor===(c&&c.name)}},s=i.curry(function(t,e,n,r){return e*(t(n)-t(r))}),u=function(e){var r=t.viewConfigs.filter(a(e));return r.length>1&&r.sort(s(n,-1)),[e,r[0]]},c=function(e){var n=e[0],r=e[1];t.uiViews.indexOf(n)!==-1&&n.configUpdated(r)};t.uiViews.sort(s(e,1)).map(u).forEach(c)}}return t.prototype.rootContext=function(t){return this._rootContext=t||this._rootContext},t.prototype.viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);return n(t,e)},t.prototype.deactivateViewConfig=function(t){a.trace.traceViewServiceEvent("<- Removing",t),r.removeFrom(this.viewConfigs,t)},t.prototype.activateViewConfig=function(t){a.trace.traceViewServiceEvent("-> Registering",t),this.viewConfigs.push(t)},t.prototype.registerUiView=function(t){a.trace.traceViewServiceUiViewEvent("-> Registering",t);var e=this.uiViews,n=function(e){return e.fqn===t.fqn};return e.filter(n).length&&a.trace.traceViewServiceUiViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){var n=e.indexOf(t);return n<=0?void a.trace.traceViewServiceUiViewEvent("Tried removing non-registered uiView",t):(a.trace.traceViewServiceUiViewEvent("<- Deregistering",t),void r.removeFrom(e)(t))}},t.prototype.available=function(){return this.uiViews.map(i.prop("fqn"))},t.prototype.active=function(){return this.uiViews.filter(i.prop("$config")).map(i.prop("name"))},t.normalizeUiViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),r=n[0]||"$default",i=o.isString(n[1])?n[1]:"^",a=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);a&&(i=a[1],r=a[2]),"!"===r.charAt(0)&&(r=r.substr(1),i="");var s=/^(\^(?:\.\^)*)$/;if(s.exec(i)){var u=i.split(".").reduce(function(t,e){return t.parent},t);i=u.name}return{uiViewName:r,uiViewContextAnchor:i}},t}();e.ViewService=s},function(t,e,n){"use strict";var r=n(25),i=n(8),o=n(3),a=function(){function t(t){var e=this;this.params=new r.StateParams,this.transitionHistory=new i.Queue([],1),this.successfulTransitions=new i.Queue([],1);var n=function(t){e.transition=t,e.transitionHistory.enqueue(t);var n=function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,o.copy(t.params(),e.params)};t.onSuccess({},n,{priority:1e4});var r=function(){e.transition===t&&(e.transition=null)};t.promise.then(r,r)};t.onBefore({},["$transition$",n])}return t}();e.UIRouterGlobals=a},function(t,e,n){"use strict";var r=n(47),i=n(48),o=n(18),a=n(48),s=n(43),u=n(50),c=n(36),l=n(37),f=n(51),p=function(){function t(){this.viewService=new u.ViewService,this.transitionService=new s.TransitionService(this.viewService),this.globals=new f.UIRouterGlobals(this.transitionService),this.urlMatcherFactory=new r.UrlMatcherFactory,this.urlRouterProvider=new i.UrlRouterProvider(this.urlMatcherFactory,this.globals.params),this.urlRouter=new a.UrlRouter(this.urlRouterProvider),this.stateRegistry=new c.StateRegistry(this.urlMatcherFactory,this.urlRouterProvider),this.stateProvider=new o.StateProvider(this.stateRegistry),this.stateService=new l.StateService(this.viewService,this.urlRouter,this.transitionService,this.stateRegistry,this.stateProvider,this.globals),this.viewService.rootContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self}return t}();e.UIRouter=p},function(t,e,n){"use strict";function r(t){var e=f.services.$injector,n=e.get("$controller"),r=e.instantiate;try{var i;return e.instantiate=function(t){e.instantiate=r,i=e.annotate(t)},n(t,{$scope:{}}),i}finally{e.instantiate=r}}function i(t,e){f.services.$injector=t,f.services.$q=e}function o(t){function e(e,r,i,o,a,s){return o.$on("$locationChangeSuccess",function(t){return n.forEach(function(e){return e(t)})}),f.services.locationConfig.html5Mode=function(){var e=t.html5Mode();return e=d.isObject(e)?e.enabled:e,e&&i.history},f.services.template.get=function(t){return a.get(t,{cache:s,headers:{Accept:"text/html"}}).then(h.prop("data"))},p.bindFunctions(e,f.services.location,e,["replace","url","path","search","hash"]),p.bindFunctions(e,f.services.locationConfig,e,["port","protocol","host"]),p.bindFunctions(r,f.services.locationConfig,r,["baseHref"]),x}x=new l.UIRouter,x.stateRegistry.decorator("views",$.ng1ViewsBuilder),x.viewService.viewConfigFactory("ng1",$.ng1ViewConfigFactory),p.bindFunctions(t,f.services.locationConfig,t,["hashPrefix"]);var n=[];f.services.location.onChange=function(t){return n.push(t),function(){return p.removeFrom(n)(t)}},this.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"]}function a(){return x.urlRouterProvider.$get=function(){return x.urlRouter.update(!0),this.interceptDeferred||x.urlRouter.listen(),x.urlRouter},x.urlRouterProvider}function s(){return x.stateProvider.$get=function(){return x.stateRegistry.stateQueue.autoFlush(x.stateService),x.stateService},x.stateProvider}function u(){function t(t){var e=function(e){function n(){}var i=p.find(t.treeChanges().to,h.propEq("state",e.viewDecl.$context));if(!i)return f.services.$q.when();var o=i.resolveContext,a=r(e.controller),s=o.getResolvables();return n.$inject=a.filter(function(t){return s.hasOwnProperty(t)}),o.invokeLater(n).then(function(){return e.locals=p.map(s,function(t){return t.data})})},n=t.views("entering").filter(function(t){return!!t.controller}).map(e);return f.services.$q.all(n).then(p.noop)}return t.$inject=["$transition$"],x.transitionService.onFinish({},t),x.transitionService.$get=function(){return x.transitionService},x.transitionService}function c(t){t.$watch(function(){y.trace.approximateDigests++})}var l=n(52),f=n(6),p=n(3),h=n(5),d=n(4),v=n(44),g=n(40),m=n(17),y=n(12),$=n(54),b=n(55),w=angular.module("ui.router.angular1",[]);angular.module("ui.router.util",["ng","ui.router.init"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),angular.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),angular.module("ui.router.compat",["ui.router"]),e.annotateController=r,i.$inject=["$injector","$q"],w.run(i);var x=null;o.$inject=["$locationProvider"];var S=function(){return{resolve:function(t,e,n){void 0===e&&(e={});var r=new v.Node(new m.State({params:{}})),i=new v.Node(new m.State({params:{}})),o=new g.ResolveContext([r,i]);o.addResolvables(g.Resolvable.makeResolvables(t),i.state);var a=function(t){var n=function(t){return g.Resolvable.makeResolvables(p.map(t,function(t){return function(){return t}}))};return o.addResolvables(n(t),r.state),o.addResolvables(n(e),i.state),o.resolvePath()};return n?n.then(a):a({})}}};angular.module("ui.router.init",[]).provider("ng1UIRouter",o),angular.module("ui.router.init").run(["ng1UIRouter",function(t){}]),angular.module("ui.router.util").provider("$urlMatcherFactory",["ng1UIRouterProvider",function(){return x.urlMatcherFactory}]),angular.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),angular.module("ui.router.router").provider("$urlRouter",["ng1UIRouterProvider",a]),angular.module("ui.router.router").run(["$urlRouter",function(t){}]),angular.module("ui.router.state").provider("$state",["ng1UIRouterProvider",s]),angular.module("ui.router.state").run(["$state",function(t){}]),angular.module("ui.router.state").factory("$stateParams",["ng1UIRouter",function(t){return t.globals.params}]),angular.module("ui.router.state").provider("$transitions",["ng1UIRouterProvider",u]),angular.module("ui.router.util").factory("$templateFactory",["ng1UIRouter",function(){return new b.TemplateFactory}]),angular.module("ui.router").factory("$view",function(){return x.viewService}),angular.module("ui.router").factory("$resolve",S),angular.module("ui.router").service("$trace",function(){return y.trace}),c.$inject=["$rootScope"],e.watchDigests=c,angular.module("ui.router").run(c)},function(t,e,n){"use strict";function r(t){var e=["templateProvider","templateUrl","template","notify","async"],n=["controller","controllerProvider","controllerAs","resolveAs"],r=["component","bindings"],c=e.concat(n),l=r.concat(c),f={},p=t.views||{$default:o.pick(t,l)};return o.forEach(p,function(e,n){if(n=n||"$default",u.isString(e)&&(e={component:e}),Object.keys(e).length){if(e.component){if(c.map(function(t){return u.isDefined(e[t])}).reduce(o.anyTrueR,!1))throw new Error("Cannot combine: "+r.join("|")+" with: "+c.join("|")+" in stateview: 'name@"+t.name+"'");e.templateProvider=["$injector",function(t){var n=function(t){return e.bindings&&e.bindings[t]||t},r=angular.version.minor>=3?"::":"",o=i(t,e.component).map(function(t){return a.kebobString(t)+"='"+r+"$resolve."+n(t)+"'"}).join(" "),s=a.kebobString(e.component);return"<"+s+" "+o+"></"+s+">"}]}e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=n;var l=s.ViewService.normalizeUiViewTarget(e.$context,e.$name);e.$uiViewName=l.uiViewName,e.$uiViewContextAnchor=l.uiViewContextAnchor,f[n]=e}}),f}function i(t,e){var n=t.get(e+"Directive");if(!n||!n.length)throw new Error("Unable to find component named '"+e+"'");return n.map(d).reduce(o.unnestR,[])}var o=n(3),a=n(9),s=n(50),u=n(4),c=n(6),l=n(12),f=n(55);e.ng1ViewConfigFactory=function(t,e){return new v(t,e)},e.ng1ViewsBuilder=r;var p=function(t){return Object.keys(t||{}).map(function(e){return[e,/^[=<](.*)/.exec(t[e])]}).filter(function(t){return u.isDefined(t[1])}).map(function(t){return t[1][1]||t[0]})},h=function(t){return Object.keys(t||{}).filter(function(e){return!!/[=<]/.exec(t[e].mode)}).map(function(e){return t[e].attrName})},d=function(t){return u.isObject(t.bindToController)?p(t.bindToController):t.$$bindings&&t.$$bindings.bindToController?h(t.$$bindings.bindToController):t.$$isolateBindings?h(t.$$isolateBindings):p(t.scope)},v=function(){function t(t,e){this.node=t,this.viewDecl=e,this.loaded=!1}return t.prototype.load=function(){var t=this,e=c.services.$q;if(!this.hasTemplate())throw new Error("No template configuration specified for '"+this.viewDecl.$uiViewName+"@"+this.viewDecl.$uiViewContextAnchor+"'");var n=this.node.resolveContext,r=this.node.paramValues,i={template:e.when(this.getTemplate(r,new f.TemplateFactory,n)),controller:e.when(this.getController(n))};return e.all(i).then(function(e){l.trace.traceViewServiceEvent("Loaded",t),t.controller=e.controller,t.template=e.template})},t.prototype.hasTemplate=function(){return!!(this.viewDecl.template||this.viewDecl.templateUrl||this.viewDecl.templateProvider)},t.prototype.getTemplate=function(t,e,n){return e.fromConfig(this.viewDecl,t,n.invokeLater.bind(n))},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;return u.isInjectable(e)?t.invokeLater(e,{}):this.viewDecl.controller},t}();e.Ng1ViewConfig=v},function(t,e,n){"use strict";var r=n(4),i=n(6),o=function(){function t(){}return t.prototype.fromConfig=function(t,e,n){return r.isDefined(t.template)?this.fromString(t.template,e):r.isDefined(t.templateUrl)?this.fromUrl(t.templateUrl,e):r.isDefined(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},t.prototype.fromString=function(t,e){return r.isFunction(t)?t(e):t},t.prototype.fromUrl=function(t,e){return r.isFunction(t)&&(t=t(e)),null==t?null:i.services.template.get(t)},t.prototype.fromProvider=function(t,e,n){return n(t)},t}();e.TemplateFactory=o},function(t,e,n){"use strict";function r(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function i(t){var e=t.parent().inheritedData("$uiView"),n=l.parse("$cfg.node.state")(e);return n&&n.name?n:void 0}function o(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function a(t,e,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=n(function(){e.go(s.state,s.params,s.options)});o.preventDefault();var c=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(u)}}}}function s(t,e){return{relative:i(t)||e.$current,inherit:!0}}var u=n(3),c=n(4),l=n(5),f=["$state","$timeout",function(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,c,l){var f=r(c.uiSref,t.current.name),p={state:f.state,href:null,params:null,options:null},h=o(i),d=l[1]||l[0],v=null;p.options=u.extend(s(i,t),c.uiSrefOpts?n.$eval(c.uiSrefOpts):{});var g=function(e){e&&(p.params=angular.copy(e)),p.href=t.href(f.state,p.params,p.options),v&&v(),d&&(v=d.$$addStateInfo(f.state,p.params)),null!==p.href&&c.$set(h.attr,p.href)};f.paramExpr&&(n.$watch(f.paramExpr,function(t){t!==p.params&&g(t)},!0),p.params=angular.copy(n.$eval(f.paramExpr))),g(),h.clickable&&i.bind("click",a(i,t,e,h,function(){return p}))}}}],p=["$state","$timeout",function(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,s){function u(e){h.state=e[0],h.params=e[1],h.options=e[2],h.href=t.href(h.state,h.params,h.options),d&&d(),l&&(d=l.$$addStateInfo(h.state,h.params)),h.href&&i.$set(c.attr,h.href)}var c=o(r),l=s[1]||s[0],f=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],p="["+f.map(function(t){return t||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null},d=null;n.$watch(p,u,!0),u(n.$eval(p)),c.clickable&&r.bind("click",a(r,t,e,c,function(){return h}))}}}],h=["$state","$stateParams","$interpolate","$transitions",function(t,e,n,o){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,a,s,l){function f(e,n,r){var o=t.get(e,i(a)),s=p(e,n),u={state:o||{name:e},params:n,hash:s};return b.push(u),w[s]=r,function(){var t=b.indexOf(u);t!==-1&&b.splice(t,1)}}function p(t,n){if(!c.isString(t))throw new Error("state should be a string");return c.isObject(n)?t+u.toJson(n):(n=e.$eval(n),c.isObject(n)?t+u.toJson(n):t)}function h(){for(var t=0;t<b.length;t++)g(b[t].state,b[t].params)?d(a,w[b[t].hash]):v(a,w[b[t].hash]),m(b[t].state,b[t].params)?d(a,y):v(a,y)}function d(t,e){l(function(){t.addClass(e)})}function v(t,e){t.removeClass(e)}function g(e,n){return t.includes(e.name,n)}function m(e,n){return t.is(e.name,n)}var y,$,b=[],w={};y=n(s.uiSrefActiveEq||"",!1)(e);try{$=e.$eval(s.uiSrefActive)}catch(x){}$=$||n(s.uiSrefActive||"",!1)(e),c.isObject($)&&u.forEach($,function(n,i){if(c.isString(n)){var o=r(n,t.current.name);f(o.state,e.$eval(o.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(c.isObject($)&&b.length>0)){var n=f(t,e,$);return h(),n}},e.$on("$stateChangeSuccess",h);var S=["$transition$",function(t){t.promise.then(h)}],C=o.onStart({},S);e.$on("$destroy",C),h()}]}}];angular.module("ui.router.state").directive("uiSref",f).directive("uiSrefActive",h).directive("uiSrefActiveEq",h).directive("uiState",p)},function(t,e){"use strict";function n(t){var e=function(e,n,r){return t.is(e,n,r)};return e.$stateful=!0,e}function r(t){var e=function(e,n,r){return t.includes(e,n,r)};return e.$stateful=!0,e}n.$inject=["$state"],e.$IsStateFilter=n,r.$inject=["$state"],e.$IncludedByStateFilter=r,angular.module("ui.router.state").filter("isState",n).filter("includedByState",r)},function(t,e,n){"use strict";function r(t,e,n,r,u){var f=c.parse("viewDecl.controllerAs"),p=c.parse("viewDecl.resolveAs"),h=c.parse("node.resolveContext");return{restrict:"ECA",priority:-400,compile:function(r){var u=r.html();return function(r,c){var d=c.data("$uiView");if(d){var v=d.$cfg||{viewDecl:{}};c.html(v.template||u),s.trace.traceUiViewFill(d.$uiView,c.html());var g=t(c.contents()),m=v.controller,y=f(v),$=p(v),b=h(v),w=b&&o.map(b.getResolvables(),function(t){return t.data});if(r[$]=w,m){var x=e(m,o.extend({},w,{$scope:r,$element:c}));y&&(r[y]=x,r[y][$]=w),c.data("$ngControllerController",x),c.children().data("$ngControllerController",x),i(n,x,r,v)}if(a.isString(v.viewDecl.component))var S=v.viewDecl.component,C=l.kebobString(S),E=function(){var t=[].slice.call(c[0].children).filter(function(t){return t&&t.tagName&&t.tagName.toLowerCase()===C});return t&&angular.element(t).data("$"+S+"Controller")},k=r.$watch(E,function(t){t&&(i(n,t,r,v),k())});g(r)}}}}}function i(t,e,n,r){!a.isFunction(e.$onInit)||r.viewDecl.component&&p||e.$onInit();var i={bind:e};if(a.isFunction(e.uiOnParamsChanged)){var s=function(t){var n=r.node.resolveContext,i=n.getResolvables().$transition$.data;if(t!==i&&t.exiting().indexOf(r.node.state.self)===-1){var a=t.params("to"),s=t.params("from"),u=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(o.unnestR,[]),c=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(o.unnestR,[]),l=u.filter(function(t){var e=c.indexOf(t);return e===-1||!c[e].type.equals(a[t.id],s[t.id])});if(l.length){var f=l.map(function(t){return t.id});e.uiOnParamsChanged(o.filter(a,function(t,e){return f.indexOf(e)!==-1}),t)}}};n.$on("$destroy",t.onSuccess({},["$transition$",s]),i);var c=function(t,e){t.type===u.RejectType.IGNORED&&s(e)};n.$on("$destroy",t.onError({},["$error$","$transition$",c]),i)}if(a.isFunction(e.uiCanExit)){var l={exiting:r.node.state.name};n.$on("$destroy",t.onBefore(l,e.uiCanExit,i))}}var o=n(3),a=n(4),s=n(12),u=n(10),c=n(5),l=n(9),f=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,n,r,i){function o(t,n){return{enter:function(t,n,r){angular.version.minor>2?e.enter(t,null,n).then(r):e.enter(t,null,n,r)},leave:function(t,n){angular.version.minor>2?e.leave(t).then(n):e.leave(t,n)}}}function u(t,e){return t===e}var l={$cfg:{viewDecl:{$context:t.rootContext()}},$uiView:{}},f={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,p,h){return function(e,p,d){function v(t){u(E,t)||(s.trace.traceUiViewConfigUpdated(A,t&&t.viewDecl&&t.viewDecl.$context),E=t,m(t))}function g(){if(y&&(s.trace.traceUiViewEvent("Removing (previous) el",y.data("$uiView")),y.remove(),y=null),b&&(s.trace.traceUiViewEvent("Destroying scope",A),b.$destroy(),b=null),$){var t=$.data("$uiView");s.trace.traceUiViewEvent("Animate out",t),C.leave($,function(){t.$$animLeave.resolve(),y=null}),y=$,$=null}}function m(t){var r=e.$new();s.trace.traceUiViewScopeCreated(A,r);var o=i.defer(),u=i.defer(),c={$cfg:t,$uiView:A,$animEnter:o.promise,$animLeave:u.promise,$$animLeave:u},l=h(r,function(t){C.enter(t.data("$uiView",c),p,function(){o.resolve(),b&&b.$emit("$viewContentAnimationEnded"),(a.isDefined(S)&&!S||e.$eval(S))&&n(t)}),g()});$=l,b=r,b.$emit("$viewContentLoaded",t||E),b.$eval(x)}var y,$,b,w,x=d.onload||"",S=d.autoscroll,C=o(d,e),E=void 0,k=p.inheritedData("$uiView")||l,T=r(d.uiView||d.name||"")(e)||"$default",A={id:f.count++,name:T,fqn:k.$uiView.fqn?k.$uiView.fqn+"."+T:T,config:null,configUpdated:v,get creationContext(){return c.parse("$cfg.viewDecl.$context")(k)}};s.trace.traceUiViewEvent("Linking",A),p.data("$uiView",{$uiView:A}),m(),w=t.registerUiView(A),e.$on("$destroy",function(){s.trace.traceUiViewEvent("Destroying/Unregistering",A),w()})}}};return f}];r.$inject=["$compile","$controller","$transitions","$view","$timeout"];var p="function"==typeof angular.module("ui.router").component;angular.module("ui.router.state").directive("uiView",f),angular.module("ui.router.state").directive("uiView",r)},function(t,e){"use strict";function n(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}angular.module("ui.router.state").provider("$uiViewScroll",n)}])}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===o?[]:o);e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy(function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target).closest(".btn");e.call(r,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),r="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(r&&!this.options.wrap)return e;var i="prev"==t?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),a=this.interval,s="next"==e?"left":"right",u=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],l=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var i=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),o=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof e&&i[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var u=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][u])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),
n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=e(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",u=i.find(".dropdown-menu"+s);if(u.length){var c=u.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<u.length-1&&c++,~c||(c=0),u.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](r):a.show&&o.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(o,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",u="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,c=u.test(s);c&&(s=s.replace(u,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),f=o[0].offsetWidth,p=o[0].offsetHeight;if(c){var h=s,d=this.getPosition(this.$viewport);s="bottom"==s&&l.bottom+p>d.bottom?"top":"top"==s&&l.top-p<d.top?"bottom":"right"==s&&l.right+f>d.width?"left":"left"==s&&l.left-f<d.left?"right":s,o.removeClass(h).addClass(s)}var v=this.getCalculatedOffset(s,l,f,p);this.applyPlacement(v,s);var g=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var u=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var l=this.getViewportAdjustedDelta(n,e,u,c);l.left?e.left+=l.left:e.top+=l.top;var f=/top|bottom/.test(n),p=f?2*l.left-i+u:2*l.top-o+c,h=f?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(p,r[0][h],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:e.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},u=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,s,u,a)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:u>a.top+a.height&&(i.top=a.top+a.height-u)}else{var c=e.left-o,l=e.left+o+n;c<a.left?i.left=a.left-c:l>a.right&&(i.left=a.left+a.width-l)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery),+function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=t-r)&&"bottom";var s=null==this.affixed,u=s?i:o.top,c=s?a:e;return null!=n&&i<=n?"top":null!=r&&u+c>=t-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,e,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var u="affix"+(s?"-"+s:""),c=t.Event(u+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(u.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-o})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.localforage=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){d(function(){var r;try{r=e(n)}catch(i){return v.reject(t,i)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,v.reject(t,e))}function r(e){o||(o=!0,v.resolve(t,e))}function i(){e(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}function l(t){return t instanceof this?t:v.resolve(new this(r),t)}function f(t){var e=new this(r);return v.reject(e,t)}function p(t){function e(t,e){function r(t){a[e]=t,++s!==i||o||(o=!0,v.resolve(c,a))}n.resolve(t).then(r,function(t){o||(o=!0,v.reject(c,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,u=-1,c=new this(r);++u<i;)e(t[u],u);return c}function h(t){function e(t){n.resolve(t).then(function(t){o||(o=!0,v.resolve(s,t))},function(t){o||(o=!0,v.reject(s,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)e(t[a]);return s}var d=t(2),v={},g=["REJECTED"],m=["FULFILLED"],y=["PENDING"];e.exports=n=i,i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===m||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){var i=this.state===m?t:e;a(n,i,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){v.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},v.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return v.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=m,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},v.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},n.resolve=l,n.reject=f,n.all=p,n.race=h},{2:2}],2:[function(t,e,n){(function(t){"use strict";function n(){l=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}l=!1}function r(t){1!==f.push(t)||l||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=t.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}function o(){try{return!!ot&&(!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&(ot&&"function"==typeof ot.open&&"undefined"!=typeof IDBKeyRange))}catch(t){return!1}}function a(){return"function"==typeof openDatabase}function s(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(t){return!1}}function u(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(n){if("TypeError"!==n.name)throw n;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,i=new r,o=0;o<t.length;o+=1)i.append(t[o]);return i.getBlob(e.type)}}function c(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function l(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function f(t){return new ut(function(e){var n=u([""]);t.objectStore(ct).put(n,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})["catch"](function(){return!1})}function p(t){return"boolean"==typeof at?ut.resolve(at):f(t).then(function(t){return at=t})}function h(t){var e=st[t.name],n={};n.promise=new ut(function(t){n.resolve=t}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function d(t){var e=st[t.name],n=e.deferredOperations.pop();n&&n.resolve()}function v(t,e){return new ut(function(n,r){if(t.db){if(!e)return n(t.db);h(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var o=ot.open.apply(ot,i);
e&&(o.onupgradeneeded=function(e){var n=o.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(ct)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),o.onerror=function(){r(o.error)},o.onsuccess=function(){n(o.result),d(t)}})}function g(t){return v(t,!1)}function m(t){return v(t,!0)}function y(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function $(t){return new ut(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)})}function b(t){var e=l(atob(t.data));return u([e],{type:t.type})}function w(t){return t&&t.__local_forage_encoded_blob}function x(t){var e=this,n=e._initReady().then(function(){var t=st[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return n.then(t,t),n}function S(t){function e(){return ut.resolve()}var n=this,r={db:null};if(t)for(var i in t)r[i]=t[i];st||(st={});var o=st[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},st[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=x);for(var a=[],s=0;s<o.forages.length;s++){var u=o.forages[s];u!==n&&a.push(u._initReady()["catch"](e))}var c=o.forages.slice(0);return ut.all(a).then(function(){return r.db=o.db,g(r)}).then(function(t){return r.db=t,y(r,n._defaultConfig.version)?m(r):t}).then(function(t){r.db=o.db=t,n._dbInfo=r;for(var e=0;e<c.length;e++){var i=c[e];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})}function C(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ut(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=o.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),w(t)&&(t=b(t)),e(t)},a.onerror=function(){r(a.error)}})["catch"](r)});return c(r,e),r}function E(t,e){var n=this,r=new ut(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=o.openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;w(r)&&(r=b(r));var i=t(r,n.key,s++);void 0!==i?e(i):n["continue"]()}else e()},a.onerror=function(){r(a.error)}})["catch"](r)});return c(r,e),r}function k(t,e,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new ut(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,e instanceof Blob?p(o.db).then(function(t){return t?e:$(e)}):e}).then(function(e){var r=o.db.transaction(o.storeName,"readwrite"),a=r.objectStore(o.storeName);null===e&&(e=void 0),r.oncomplete=function(){void 0===e&&(e=null),n(e)},r.onabort=r.onerror=function(){var t=s.error?s.error:s.transaction.error;i(t)};var s=a.put(e,t)})["catch"](i)});return c(i,n),i}function T(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ut(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readwrite"),a=o.objectStore(i.storeName),s=a["delete"](t);o.oncomplete=function(){e()},o.onerror=function(){r(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;r(t)}})["catch"](r)});return c(r,e),r}function A(t){var e=this,n=new ut(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readwrite"),o=i.objectStore(r.storeName),a=o.clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=a.error?a.error:a.transaction.error;n(t)}})["catch"](n)});return c(n,t),n}function O(t){var e=this,n=new ut(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}})["catch"](n)});return c(n,t),n}function j(t,e){var n=this,r=new ut(function(e,r){return t<0?void e(null):void n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=!1,s=o.openCursor();s.onsuccess=function(){var n=s.result;return n?void(0===t?e(n.key):a?e(n.key):(a=!0,n.advance(t))):void e(null)},s.onerror=function(){r(s.error)}})["catch"](r)});return c(r,e),r}function N(t){var e=this,n=new ut(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.openCursor(),a=[];o.onsuccess=function(){var e=o.result;return e?(a.push(e.key),void e["continue"]()):void t(a)},o.onerror=function(){n(o.error)}})["catch"](n)});return c(n,t),n}function R(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(e=0;e<s;e+=4)n=ft.indexOf(t[e]),r=ft.indexOf(t[e+1]),i=ft.indexOf(t[e+2]),o=ft.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function D(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=ft[n[e]>>2],r+=ft[(3&n[e])<<4|n[e+1]>>4],r+=ft[(15&n[e+1])<<2|n[e+2]>>6],r+=ft[63&n[e+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function I(t,e){var n="";if(t&&(n=t.toString()),t&&("[object ArrayBuffer]"===t.toString()||t.buffer&&"[object ArrayBuffer]"===t.buffer.toString())){var r,i=dt;t instanceof ArrayBuffer?(r=t,i+=gt):(r=t.buffer,"[object Int8Array]"===n?i+=yt:"[object Uint8Array]"===n?i+=$t:"[object Uint8ClampedArray]"===n?i+=bt:"[object Int16Array]"===n?i+=wt:"[object Uint16Array]"===n?i+=St:"[object Int32Array]"===n?i+=xt:"[object Uint32Array]"===n?i+=Ct:"[object Float32Array]"===n?i+=Et:"[object Float64Array]"===n?i+=kt:e(new Error("Failed to get type for BinaryArray"))),e(i+D(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=pt+t.type+"~"+D(this.result);e(dt+mt+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}}function _(t){if(t.substring(0,vt)!==dt)return JSON.parse(t);var e,n=t.substring(Tt),r=t.substring(vt,Tt);if(r===mt&&ht.test(n)){var i=n.match(ht);e=i[1],n=n.substring(i[0].length)}var o=R(n);switch(r){case gt:return o;case mt:return u([o],{type:e});case yt:return new Int8Array(o);case $t:return new Uint8Array(o);case bt:return new Uint8ClampedArray(o);case wt:return new Int16Array(o);case St:return new Uint16Array(o);case xt:return new Int32Array(o);case Ct:return new Uint32Array(o);case Et:return new Float32Array(o);case kt:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}}function P(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new ut(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e._dbInfo=n,t()},function(t,e){r(e)})})});return n.serializer=At,i}function V(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ut(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})})["catch"](r)});return c(r,e),r}function F(t,e){var n=this,r=new ut(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),c=t(c,u.key,s+1),void 0!==c)return void e(c)}e()},function(t,e){r(e)})})})["catch"](r)});return c(r,e),r}function M(t,e,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new ut(function(n,i){r.ready().then(function(){void 0===e&&(e=null);var o=e,a=r._dbInfo;a.serializer.serialize(e,function(e,r){r?i(r):a.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){n(o)},function(t,e){i(e)})},function(t){t.code===t.QUOTA_ERR&&i(t)})})})["catch"](i)});return c(i,n),i}function L(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ut(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})})["catch"](r)});return c(r,e),r}function q(t){var e=this,n=new ut(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})})["catch"](n)});return c(n,t),n}function H(t){var e=this,n=new ut(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})})["catch"](n)});return c(n,t),n}function U(t,e){var n=this,r=new ut(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})})["catch"](r)});return c(r,e),r}function B(t){var e=this,n=new ut(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})})["catch"](n)});return c(n,t),n}function z(t){var e=this,n={};if(t)for(var r in t)n[r]=t[r];return n.keyPrefix=n.name+"/",n.storeName!==e._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),e._dbInfo=n,n.serializer=At,ut.resolve()}function W(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return c(n,t),n}function G(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return c(r,e),r}function Q(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),c=t(c,u.substring(i),a++),void 0!==c)return c}}});return c(r,e),r}function K(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return c(r,e),r}function J(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++)0===localStorage.key(i).indexOf(t.keyPrefix)&&r.push(localStorage.key(i).substring(t.keyPrefix.length));return r});return c(n,t),n}function Y(t){var e=this,n=e.keys().then(function(t){return t.length});return c(n,t),n}function X(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return c(r,e),r}function Z(t,e,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new ut(function(i,o){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}})})});return c(i,n),i}function tt(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t["catch"](n)}function et(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function nt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(Vt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}function rt(t){for(var e in Rt)if(Rt.hasOwnProperty(e)&&Rt[e]===t)return!0;return!1}var it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},ot=i();"undefined"==typeof Promise&&"undefined"!=typeof t&&t(3);var at,st,ut=Promise,ct="local-forage-detect-blob-support",lt={_driver:"asyncStorage",_initStorage:S,iterate:E,getItem:C,setItem:k,removeItem:T,clear:A,length:O,key:j,keys:N},ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",ht=/^~~local_forage_type~([^~]+)~/,dt="__lfsc__:",vt=dt.length,gt="arbf",mt="blob",yt="si08",$t="ui08",bt="uic8",wt="si16",xt="si32",St="ur16",Ct="ui32",Et="fl32",kt="fl64",Tt=vt+gt.length,At={serialize:I,deserialize:_,stringToBuffer:R,bufferToString:D},Ot={_driver:"webSQLStorage",_initStorage:P,iterate:F,getItem:V,setItem:M,removeItem:L,clear:q,length:H,key:U,keys:B},jt={_driver:"localStorageWrapper",_initStorage:z,iterate:Q,getItem:G,setItem:Z,removeItem:X,clear:W,length:Y,key:K,keys:J},Nt={},Rt={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Dt=[Rt.INDEXEDDB,Rt.WEBSQL,Rt.LOCALSTORAGE],It=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],_t={description:"",driver:Dt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Pt={};Pt[Rt.INDEXEDDB]=o(),Pt[Rt.WEBSQL]=a(),Pt[Rt.LOCALSTORAGE]=s();var Vt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Ft=function(){function t(e){r(this,t),this.INDEXEDDB=Rt.INDEXEDDB,this.LOCALSTORAGE=Rt.LOCALSTORAGE,this.WEBSQL=Rt.WEBSQL,this._defaultConfig=nt({},_t),this._config=nt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return t.prototype.config=function(t){if("object"===("undefined"==typeof t?"undefined":it(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t)"storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),this._config[e]=t[e];return"driver"in t&&t.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new ut(function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),o=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void n(i);if(rt(t._driver))return void n(o);for(var a=It.concat("_initStorage"),s=0;s<a.length;s++){var u=a[s];if(!u||!t[u]||"function"!=typeof t[u])return void n(i)}var c=ut.resolve(!0);"_support"in t&&(c=t._support&&"function"==typeof t._support?t._support():ut.resolve(!!t._support)),c.then(function(n){Pt[r]=n,Nt[r]=t,e()},n)}catch(l){n(l)}});return tt(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=this,i=ut.resolve().then(function(){if(!rt(t)){if(Nt[t])return Nt[t];throw new Error("Driver not found.")}switch(t){case r.INDEXEDDB:return lt;case r.LOCALSTORAGE:return jt;case r.WEBSQL:return Ot}});return tt(i,e,n),i},t.prototype.getSerializer=function(t){var e=ut.resolve(At);return tt(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return tt(n,t,t),n},t.prototype.setDriver=function(t,e,n){function r(){o._config.driver=o.driver()}function i(t){return function(){function e(){for(;n<t.length;){var i=t[n];return n++,o._dbInfo=null,o._ready=null,o.getDriver(i).then(function(t){return o._extend(t),r(),o._ready=o._initStorage(o._config),o._ready})["catch"](e)}r();var a=new Error("No available storage method found.");return o._driverSet=ut.reject(a),o._driverSet}var n=0;return e()}}var o=this;Vt(t)||(t=[t]);var a=this._getSupportedDrivers(t),s=null!==this._driverSet?this._driverSet["catch"](function(){return ut.resolve()}):ut.resolve();return this._driverSet=s.then(function(){var t=a[0];return o._dbInfo=null,o._ready=null,o.getDriver(t).then(function(t){o._driver=t._driver,r(),o._wrapLibraryMethodsWithReady(),o._initDriver=i(a)})})["catch"](function(){r();var t=new Error("No available storage method found.");return o._driverSet=ut.reject(t),o._driverSet}),tt(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!Pt[t]},t.prototype._extend=function(t){nt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0;t<It.length;t++)et(this,It[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),Mt=new Ft;e.exports=Mt},{3:3}]},{},[4])(4)}),function(){"use strict";angular.module("ng-file-model",[]).directive("ngFileModel",[function(){return{scope:{ngFileModel:"="},link:function(t,e,n){e.bind("change",function(e){var n=new FileReader;n.onload=function(n){t.$apply(function(){t.ngFileModel={lastModified:e.target.files[0].lastModified,lastModifiedDate:e.target.files[0].lastModifiedDate,name:e.target.files[0].name,size:e.target.files[0].size,type:e.target.files[0].type,data:n.target.result}})},n.readAsDataURL(e.target.files[0])})}}}]),"undefined"!=typeof exports&&(exports["default"]=angular.module("ng-file-model"),module.exports=exports["default"])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcC5qcyIsImpxdWVyeS5qcyIsImFuZ3VsYXIuanMiLCJhbmd1bGFyLWNvb2tpZXMuanMiLCJhbmd1bGFyLXRyYW5zbGF0ZS1sb2FkZXItc3RhdGljLWZpbGVzLmpzIiwiYW5ndWxhci10cmFuc2xhdGUtc3RvcmFnZS1jb29raWUuanMiLCJhbmd1bGFyLXRyYW5zbGF0ZS1zdG9yYWdlLWxvY2FsLmpzIiwiYW5ndWxhci10cmFuc2xhdGUuanMiLCJhbmd1bGFyLXVpLXJvdXRlci5qcyIsImxvY2FsZm9yYWdlLmpzIiwibmctZmlsZS1tb2RlbC5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRvY3VtZW50IiwidyIsIkVycm9yIiwid2luZG93IiwidGhpcyIsIm5vR2xvYmFsIiwiaXNBcnJheUxpa2UiLCJvYmoiLCJsZW5ndGgiLCJ0eXBlIiwialF1ZXJ5IiwiaXNXaW5kb3ciLCJ3aW5ub3ciLCJlbGVtZW50cyIsInF1YWxpZmllciIsIm5vdCIsImlzRnVuY3Rpb24iLCJncmVwIiwiZWxlbSIsImkiLCJjYWxsIiwibm9kZVR5cGUiLCJyaXNTaW1wbGUiLCJ0ZXN0IiwiZmlsdGVyIiwiaW5kZXhPZiIsInNpYmxpbmciLCJjdXIiLCJkaXIiLCJjcmVhdGVPcHRpb25zIiwib3B0aW9ucyIsIm9iamVjdCIsImVhY2giLCJtYXRjaCIsInJub3R3aGl0ZSIsIl8iLCJmbGFnIiwiY29tcGxldGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlYWR5IiwiRGF0YSIsImV4cGFuZG8iLCJ1aWQiLCJkYXRhQXR0ciIsImtleSIsImRhdGEiLCJuYW1lIiwidW5kZWZpbmVkIiwicmVwbGFjZSIsInJtdWx0aURhc2giLCJ0b0xvd2VyQ2FzZSIsImdldEF0dHJpYnV0ZSIsInJicmFjZSIsInBhcnNlSlNPTiIsImUiLCJkYXRhVXNlciIsInNldCIsImFkanVzdENTUyIsInByb3AiLCJ2YWx1ZVBhcnRzIiwidHdlZW4iLCJhZGp1c3RlZCIsInNjYWxlIiwibWF4SXRlcmF0aW9ucyIsImN1cnJlbnRWYWx1ZSIsImNzcyIsImluaXRpYWwiLCJ1bml0IiwiY3NzTnVtYmVyIiwiaW5pdGlhbEluVW5pdCIsInJjc3NOdW0iLCJleGVjIiwic3R5bGUiLCJzdGFydCIsImVuZCIsImdldEFsbCIsImNvbnRleHQiLCJ0YWciLCJyZXQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlTmFtZSIsIm1lcmdlIiwic2V0R2xvYmFsRXZhbCIsImVsZW1zIiwicmVmRWxlbWVudHMiLCJsIiwiZGF0YVByaXYiLCJnZXQiLCJidWlsZEZyYWdtZW50Iiwic2NyaXB0cyIsInNlbGVjdGlvbiIsImlnbm9yZWQiLCJ0bXAiLCJ3cmFwIiwiY29udGFpbnMiLCJqIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50Iiwibm9kZXMiLCJyaHRtbCIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsInJ0YWdOYW1lIiwid3JhcE1hcCIsIl9kZWZhdWx0IiwiaW5uZXJIVE1MIiwiaHRtbFByZWZpbHRlciIsImxhc3RDaGlsZCIsImNoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwidGV4dENvbnRlbnQiLCJwdXNoIiwiY3JlYXRlVGV4dE5vZGUiLCJpbkFycmF5Iiwib3duZXJEb2N1bWVudCIsInJzY3JpcHRUeXBlIiwicmV0dXJuVHJ1ZSIsInJldHVybkZhbHNlIiwic2FmZUFjdGl2ZUVsZW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiZXJyIiwib24iLCJ0eXBlcyIsInNlbGVjdG9yIiwiZm4iLCJvbmUiLCJvcmlnRm4iLCJldmVudCIsIm9mZiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ3VpZCIsImFkZCIsIm1hbmlwdWxhdGlvblRhcmdldCIsImNvbnRlbnQiLCJkaXNhYmxlU2NyaXB0IiwicmVzdG9yZVNjcmlwdCIsInJzY3JpcHRUeXBlTWFza2VkIiwicmVtb3ZlQXR0cmlidXRlIiwiY2xvbmVDb3B5RXZlbnQiLCJzcmMiLCJkZXN0IiwicGRhdGFPbGQiLCJwZGF0YUN1ciIsInVkYXRhT2xkIiwidWRhdGFDdXIiLCJldmVudHMiLCJoYXNEYXRhIiwiYWNjZXNzIiwiaGFuZGxlIiwiZXh0ZW5kIiwiZml4SW5wdXQiLCJyY2hlY2thYmxlVHlwZSIsImNoZWNrZWQiLCJkZWZhdWx0VmFsdWUiLCJkb21NYW5pcCIsImNvbGxlY3Rpb24iLCJhcmdzIiwiY2FsbGJhY2siLCJjb25jYXQiLCJmaXJzdCIsImhhc1NjcmlwdHMiLCJub2RlIiwiZG9jIiwiaU5vQ2xvbmUiLCJ2YWx1ZSIsInN1cHBvcnQiLCJjaGVja0Nsb25lIiwicmNoZWNrZWQiLCJpbmRleCIsInNlbGYiLCJlcSIsImh0bWwiLCJtYXAiLCJjbG9uZSIsIl9ldmFsVXJsIiwiZ2xvYmFsRXZhbCIsInJjbGVhblNjcmlwdCIsInJlbW92ZSIsImtlZXBEYXRhIiwiY2xlYW5EYXRhIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiYWN0dWFsRGlzcGxheSIsImFwcGVuZFRvIiwiYm9keSIsImRpc3BsYXkiLCJkZXRhY2giLCJkZWZhdWx0RGlzcGxheSIsImVsZW1kaXNwbGF5IiwiaWZyYW1lIiwiZG9jdW1lbnRFbGVtZW50IiwiY29udGVudERvY3VtZW50Iiwid3JpdGUiLCJjbG9zZSIsImN1ckNTUyIsImNvbXB1dGVkIiwid2lkdGgiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiZ2V0U3R5bGVzIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBpeGVsTWFyZ2luUmlnaHQiLCJybnVtbm9ucHgiLCJybWFyZ2luIiwiYWRkR2V0SG9va0lmIiwiY29uZGl0aW9uRm4iLCJob29rRm4iLCJ2ZW5kb3JQcm9wTmFtZSIsImVtcHR5U3R5bGUiLCJjYXBOYW1lIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImNzc1ByZWZpeGVzIiwic2V0UG9zaXRpdmVOdW1iZXIiLCJzdWJ0cmFjdCIsIm1hdGNoZXMiLCJNYXRoIiwibWF4IiwiYXVnbWVudFdpZHRoT3JIZWlnaHQiLCJleHRyYSIsImlzQm9yZGVyQm94Iiwic3R5bGVzIiwidmFsIiwiY3NzRXhwYW5kIiwiZ2V0V2lkdGhPckhlaWdodCIsInZhbHVlSXNCb3JkZXJCb3giLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImJveFNpemluZ1JlbGlhYmxlIiwicGFyc2VGbG9hdCIsInNob3dIaWRlIiwic2hvdyIsImhpZGRlbiIsInZhbHVlcyIsImlzSGlkZGVuIiwiVHdlZW4iLCJlYXNpbmciLCJwcm90b3R5cGUiLCJpbml0IiwiY3JlYXRlRnhOb3ciLCJzZXRUaW1lb3V0IiwiZnhOb3ciLCJub3ciLCJnZW5GeCIsImluY2x1ZGVXaWR0aCIsIndoaWNoIiwiYXR0cnMiLCJoZWlnaHQiLCJvcGFjaXR5IiwiY3JlYXRlVHdlZW4iLCJhbmltYXRpb24iLCJBbmltYXRpb24iLCJ0d2VlbmVycyIsImRlZmF1bHRQcmVmaWx0ZXIiLCJwcm9wcyIsIm9wdHMiLCJ0b2dnbGUiLCJob29rcyIsIm9sZGZpcmUiLCJjaGVja0Rpc3BsYXkiLCJhbmltIiwib3JpZyIsImRhdGFTaG93IiwicXVldWUiLCJfcXVldWVIb29rcyIsInVucXVldWVkIiwiZW1wdHkiLCJmaXJlIiwiYWx3YXlzIiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJyZnh0eXBlcyIsImlzRW1wdHlPYmplY3QiLCJkb25lIiwiaGlkZSIsInByb3BGaWx0ZXIiLCJzcGVjaWFsRWFzaW5nIiwiY2FtZWxDYXNlIiwiaXNBcnJheSIsImNzc0hvb2tzIiwiZXhwYW5kIiwicHJvcGVydGllcyIsInJlc3VsdCIsInN0b3BwZWQiLCJwcmVmaWx0ZXJzIiwiZGVmZXJyZWQiLCJEZWZlcnJlZCIsInRpY2siLCJjdXJyZW50VGltZSIsInJlbWFpbmluZyIsInN0YXJ0VGltZSIsImR1cmF0aW9uIiwidGVtcCIsInBlcmNlbnQiLCJ0d2VlbnMiLCJydW4iLCJub3RpZnlXaXRoIiwicmVzb2x2ZVdpdGgiLCJwcm9taXNlIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwib3JpZ2luYWxPcHRpb25zIiwic3RvcCIsImdvdG9FbmQiLCJyZWplY3RXaXRoIiwicHJveHkiLCJmeCIsInRpbWVyIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZSIsImZhaWwiLCJnZXRDbGFzcyIsImFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsInN0cnVjdHVyZSIsImRhdGFUeXBlRXhwcmVzc2lvbiIsImZ1bmMiLCJkYXRhVHlwZSIsImRhdGFUeXBlcyIsInVuc2hpZnQiLCJpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsImpxWEhSIiwiaW5zcGVjdCIsInNlbGVjdGVkIiwiaW5zcGVjdGVkIiwicHJlZmlsdGVyT3JGYWN0b3J5IiwiZGF0YVR5cGVPclRyYW5zcG9ydCIsInNlZWtpbmdUcmFuc3BvcnQiLCJ0cmFuc3BvcnRzIiwiYWpheEV4dGVuZCIsInRhcmdldCIsImRlZXAiLCJmbGF0T3B0aW9ucyIsImFqYXhTZXR0aW5ncyIsImFqYXhIYW5kbGVSZXNwb25zZXMiLCJzIiwicmVzcG9uc2VzIiwiY3QiLCJmaW5hbERhdGFUeXBlIiwiZmlyc3REYXRhVHlwZSIsImNvbnRlbnRzIiwic2hpZnQiLCJtaW1lVHlwZSIsImdldFJlc3BvbnNlSGVhZGVyIiwiY29udmVydGVycyIsImFqYXhDb252ZXJ0IiwicmVzcG9uc2UiLCJpc1N1Y2Nlc3MiLCJjb252MiIsImN1cnJlbnQiLCJjb252IiwicHJldiIsInJlc3BvbnNlRmllbGRzIiwiZGF0YUZpbHRlciIsInNwbGl0Iiwic3RhdGUiLCJlcnJvciIsImJ1aWxkUGFyYW1zIiwicHJlZml4IiwidHJhZGl0aW9uYWwiLCJ2IiwicmJyYWNrZXQiLCJnZXRXaW5kb3ciLCJkZWZhdWx0VmlldyIsImFyciIsImNsYXNzMnR5cGUiLCJ0b1N0cmluZyIsImhhc093biIsImhhc093blByb3BlcnR5IiwidmVyc2lvbiIsInJ0cmltIiwicm1zUHJlZml4IiwicmRhc2hBbHBoYSIsImZjYW1lbENhc2UiLCJhbGwiLCJsZXR0ZXIiLCJqcXVlcnkiLCJjb25zdHJ1Y3RvciIsInRvQXJyYXkiLCJudW0iLCJwdXNoU3RhY2siLCJwcmV2T2JqZWN0IiwibGFzdCIsImxlbiIsInNvcnQiLCJzcGxpY2UiLCJjb3B5IiwiY29weUlzQXJyYXkiLCJpc1BsYWluT2JqZWN0IiwicmFuZG9tIiwiaXNSZWFkeSIsIm1zZyIsIm5vb3AiLCJBcnJheSIsImlzTnVtZXJpYyIsInJlYWxTdHJpbmdPYmoiLCJjb2RlIiwic2NyaXB0IiwiaW5kaXJlY3QiLCJldmFsIiwidHJpbSIsInRleHQiLCJoZWFkIiwic3RyaW5nIiwibWFrZUFycmF5IiwicmVzdWx0cyIsIk9iamVjdCIsInNlY29uZCIsImludmVydCIsImNhbGxiYWNrSW52ZXJzZSIsImNhbGxiYWNrRXhwZWN0IiwiYXJnIiwiRGF0ZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiU2l6emxlIiwic2VlZCIsIm0iLCJuaWQiLCJuaWRzZWxlY3QiLCJncm91cHMiLCJuZXdTZWxlY3RvciIsIm5ld0NvbnRleHQiLCJwcmVmZXJyZWREb2MiLCJzZXREb2N1bWVudCIsImRvY3VtZW50SXNIVE1MIiwicnF1aWNrRXhwciIsImdldEVsZW1lbnRCeUlkIiwiaWQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicXNhIiwiY29tcGlsZXJDYWNoZSIsInJidWdneVFTQSIsInJlc2NhcGUiLCJzZXRBdHRyaWJ1dGUiLCJ0b2tlbml6ZSIsInJpZGVudGlmaWVyIiwidG9TZWxlY3RvciIsImpvaW4iLCJyc2libGluZyIsInRlc3RDb250ZXh0IiwicXNhRXJyb3IiLCJzZWxlY3QiLCJjcmVhdGVDYWNoZSIsImNhY2hlIiwia2V5cyIsIkV4cHIiLCJjYWNoZUxlbmd0aCIsIm1hcmtGdW5jdGlvbiIsImFzc2VydCIsImRpdiIsImFkZEhhbmRsZSIsImhhbmRsZXIiLCJhdHRySGFuZGxlIiwic2libGluZ0NoZWNrIiwiYSIsImIiLCJkaWZmIiwic291cmNlSW5kZXgiLCJNQVhfTkVHQVRJVkUiLCJuZXh0U2libGluZyIsImNyZWF0ZUlucHV0UHNldWRvIiwiY3JlYXRlQnV0dG9uUHNldWRvIiwiY3JlYXRlUG9zaXRpb25hbFBzZXVkbyIsImFyZ3VtZW50IiwibWF0Y2hJbmRleGVzIiwic2V0RmlsdGVycyIsInRva2VucyIsImFkZENvbWJpbmF0b3IiLCJtYXRjaGVyIiwiY29tYmluYXRvciIsImJhc2UiLCJjaGVja05vbkVsZW1lbnRzIiwiZG9uZU5hbWUiLCJ4bWwiLCJvbGRDYWNoZSIsInVuaXF1ZUNhY2hlIiwib3V0ZXJDYWNoZSIsIm5ld0NhY2hlIiwiZGlycnVucyIsInVuaXF1ZUlEIiwiZWxlbWVudE1hdGNoZXIiLCJtYXRjaGVycyIsIm11bHRpcGxlQ29udGV4dHMiLCJjb250ZXh0cyIsImNvbmRlbnNlIiwidW5tYXRjaGVkIiwibmV3VW5tYXRjaGVkIiwibWFwcGVkIiwic2V0TWF0Y2hlciIsInByZUZpbHRlciIsInBvc3RGaWx0ZXIiLCJwb3N0RmluZGVyIiwicG9zdFNlbGVjdG9yIiwicHJlTWFwIiwicG9zdE1hcCIsInByZWV4aXN0aW5nIiwibWF0Y2hlckluIiwibWF0Y2hlck91dCIsIm1hdGNoZXJGcm9tVG9rZW5zIiwiY2hlY2tDb250ZXh0IiwibGVhZGluZ1JlbGF0aXZlIiwicmVsYXRpdmUiLCJpbXBsaWNpdFJlbGF0aXZlIiwibWF0Y2hDb250ZXh0IiwibWF0Y2hBbnlDb250ZXh0Iiwib3V0ZXJtb3N0Q29udGV4dCIsIm1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyIsImVsZW1lbnRNYXRjaGVycyIsInNldE1hdGNoZXJzIiwiYnlTZXQiLCJieUVsZW1lbnQiLCJzdXBlck1hdGNoZXIiLCJvdXRlcm1vc3QiLCJtYXRjaGVkQ291bnQiLCJzZXRNYXRjaGVkIiwiY29udGV4dEJhY2t1cCIsImZpbmQiLCJkaXJydW5zVW5pcXVlIiwicG9wIiwidW5pcXVlU29ydCIsImdldFRleHQiLCJpc1hNTCIsImNvbXBpbGUiLCJzb3J0SW5wdXQiLCJoYXNEdXBsaWNhdGUiLCJkb2NFbGVtIiwicmJ1Z2d5TWF0Y2hlcyIsImNsYXNzQ2FjaGUiLCJ0b2tlbkNhY2hlIiwic29ydE9yZGVyIiwicHVzaF9uYXRpdmUiLCJsaXN0IiwiYm9vbGVhbnMiLCJ3aGl0ZXNwYWNlIiwiaWRlbnRpZmllciIsImF0dHJpYnV0ZXMiLCJwc2V1ZG9zIiwicndoaXRlc3BhY2UiLCJSZWdFeHAiLCJyY29tbWEiLCJyY29tYmluYXRvcnMiLCJyYXR0cmlidXRlUXVvdGVzIiwicnBzZXVkbyIsIm1hdGNoRXhwciIsIklEIiwiQ0xBU1MiLCJUQUciLCJBVFRSIiwiUFNFVURPIiwiQ0hJTEQiLCJib29sIiwibmVlZHNDb250ZXh0IiwicmlucHV0cyIsInJoZWFkZXIiLCJybmF0aXZlIiwicnVuZXNjYXBlIiwiZnVuZXNjYXBlIiwiZXNjYXBlZCIsImVzY2FwZWRXaGl0ZXNwYWNlIiwiaGlnaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVubG9hZEhhbmRsZXIiLCJlbHMiLCJoYXNDb21wYXJlIiwicGFyZW50IiwidG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiY2xhc3NOYW1lIiwiY3JlYXRlQ29tbWVudCIsImdldEJ5SWQiLCJnZXRFbGVtZW50c0J5TmFtZSIsImF0dHJJZCIsImdldEF0dHJpYnV0ZU5vZGUiLCJpbnB1dCIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsImRpc2Nvbm5lY3RlZE1hdGNoIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJhZG93biIsImJ1cCIsImNvbXBhcmUiLCJzb3J0RGV0YWNoZWQiLCJhdXAiLCJhcCIsImJwIiwiZXhwciIsImF0dHIiLCJzcGVjaWZpZWQiLCJkdXBsaWNhdGVzIiwiZGV0ZWN0RHVwbGljYXRlcyIsInNvcnRTdGFibGUiLCJub2RlVmFsdWUiLCJzZWxlY3RvcnMiLCJjcmVhdGVQc2V1ZG8iLCI+IiwiICIsIisiLCJ+IiwiZXhjZXNzIiwidW5xdW90ZWQiLCJub2RlTmFtZVNlbGVjdG9yIiwicGF0dGVybiIsIm9wZXJhdG9yIiwiY2hlY2siLCJ3aGF0Iiwic2ltcGxlIiwiZm9yd2FyZCIsIm9mVHlwZSIsIm5vZGVJbmRleCIsInVzZUNhY2hlIiwicHNldWRvIiwiaWR4IiwibWF0Y2hlZCIsImhhcyIsImlubmVyVGV4dCIsImxhbmciLCJlbGVtTGFuZyIsImhhc2giLCJsb2NhdGlvbiIsInJvb3QiLCJmb2N1cyIsImhhc0ZvY3VzIiwiaHJlZiIsInRhYkluZGV4IiwiZW5hYmxlZCIsImRpc2FibGVkIiwic2VsZWN0ZWRJbmRleCIsImhlYWRlciIsImJ1dHRvbiIsImV2ZW4iLCJvZGQiLCJsdCIsImd0IiwicmFkaW8iLCJjaGVja2JveCIsImZpbGUiLCJwYXNzd29yZCIsImltYWdlIiwic3VibWl0IiwicmVzZXQiLCJmaWx0ZXJzIiwicGFyc2VPbmx5Iiwic29GYXIiLCJwcmVGaWx0ZXJzIiwiY2FjaGVkIiwidG9rZW4iLCJjb21waWxlZCIsImRpdjEiLCJ1bmlxdWUiLCJpc1hNTERvYyIsInVudGlsIiwidHJ1bmNhdGUiLCJpcyIsInNpYmxpbmdzIiwibiIsInJuZWVkc0NvbnRleHQiLCJyc2luZ2xlVGFnIiwicm9vdGpRdWVyeSIsInBhcnNlSFRNTCIsInJwYXJlbnRzcHJldiIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsIm5leHQiLCJ0YXJnZXRzIiwiY2xvc2VzdCIsInBvcyIsInByZXZBbGwiLCJhZGRCYWNrIiwicGFyZW50cyIsInBhcmVudHNVbnRpbCIsIm5leHRBbGwiLCJuZXh0VW50aWwiLCJwcmV2VW50aWwiLCJyZXZlcnNlIiwiQ2FsbGJhY2tzIiwiZmlyaW5nIiwibWVtb3J5IiwiZmlyZWQiLCJsb2NrZWQiLCJmaXJpbmdJbmRleCIsIm9uY2UiLCJzdG9wT25GYWxzZSIsImRpc2FibGUiLCJsb2NrIiwiZmlyZVdpdGgiLCJ0dXBsZXMiLCJ0aGVuIiwiZm5zIiwibmV3RGVmZXIiLCJ0dXBsZSIsInJldHVybmVkIiwibm90aWZ5IiwicmVzb2x2ZSIsInJlamVjdCIsInBpcGUiLCJzdGF0ZVN0cmluZyIsIndoZW4iLCJzdWJvcmRpbmF0ZSIsInByb2dyZXNzVmFsdWVzIiwicHJvZ3Jlc3NDb250ZXh0cyIsInJlc29sdmVDb250ZXh0cyIsInJlc29sdmVWYWx1ZXMiLCJ1cGRhdGVGdW5jIiwicmVhZHlMaXN0IiwicmVhZHlXYWl0IiwiaG9sZFJlYWR5IiwiaG9sZCIsIndhaXQiLCJ0cmlnZ2VySGFuZGxlciIsInJlYWR5U3RhdGUiLCJkb1Njcm9sbCIsImNoYWluYWJsZSIsImVtcHR5R2V0IiwicmF3IiwiYnVsayIsImFjY2VwdERhdGEiLCJvd25lciIsInJlZ2lzdGVyIiwiZGVmaW5lUHJvcGVydHkiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInN0b3JlZCIsImNhbWVsIiwicmVtb3ZlRGF0YSIsIl9kYXRhIiwiX3JlbW92ZURhdGEiLCJjYW1lbEtleSIsImRlcXVldWUiLCJzdGFydExlbmd0aCIsInNldHRlciIsImNsZWFyUXVldWUiLCJjb3VudCIsImRlZmVyIiwicG51bSIsInNvdXJjZSIsImVsIiwib3B0aW9uIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwib3B0Z3JvdXAiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJjbG9uZU5vZGUiLCJub0Nsb25lQ2hlY2tlZCIsInJrZXlFdmVudCIsInJtb3VzZUV2ZW50IiwicnR5cGVuYW1lc3BhY2UiLCJoYW5kbGVPYmpJbiIsImV2ZW50SGFuZGxlIiwidCIsImhhbmRsZU9iaiIsInNwZWNpYWwiLCJoYW5kbGVycyIsIm5hbWVzcGFjZXMiLCJvcmlnVHlwZSIsImVsZW1EYXRhIiwidHJpZ2dlcmVkIiwiZGlzcGF0Y2giLCJkZWxlZ2F0ZVR5cGUiLCJiaW5kVHlwZSIsIm5hbWVzcGFjZSIsImRlbGVnYXRlQ291bnQiLCJzZXR1cCIsIm1hcHBlZFR5cGVzIiwib3JpZ0NvdW50IiwidGVhcmRvd24iLCJyZW1vdmVFdmVudCIsImZpeCIsImhhbmRsZXJRdWV1ZSIsImRlbGVnYXRlVGFyZ2V0IiwicHJlRGlzcGF0Y2giLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsInJuYW1lc3BhY2UiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInBvc3REaXNwYXRjaCIsInNlbCIsImlzTmFOIiwiZml4SG9va3MiLCJrZXlIb29rcyIsIm9yaWdpbmFsIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwibW91c2VIb29rcyIsImV2ZW50RG9jIiwicGFnZVgiLCJjbGllbnRYIiwic2Nyb2xsTGVmdCIsImNsaWVudExlZnQiLCJwYWdlWSIsImNsaWVudFkiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJvcmlnaW5hbEV2ZW50IiwiZml4SG9vayIsIkV2ZW50IiwibG9hZCIsIm5vQnViYmxlIiwidHJpZ2dlciIsImJsdXIiLCJjbGljayIsImJlZm9yZXVubG9hZCIsInJldHVyblZhbHVlIiwiaXNEZWZhdWx0UHJldmVudGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsInRpbWVTdGFtcCIsImlzU2ltdWxhdGVkIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJyZWxhdGVkIiwicmVsYXRlZFRhcmdldCIsInJ4aHRtbFRhZyIsInJub0lubmVyaHRtbCIsImRhdGFBbmRFdmVudHMiLCJkZWVwRGF0YUFuZEV2ZW50cyIsInNyY0VsZW1lbnRzIiwiZGVzdEVsZW1lbnRzIiwiaW5QYWdlIiwiYXBwZW5kIiwicHJlcGVuZCIsImluc2VydEJlZm9yZSIsImJlZm9yZSIsImFmdGVyIiwicmVwbGFjZVdpdGgiLCJyZXBsYWNlQ2hpbGQiLCJwcmVwZW5kVG8iLCJpbnNlcnRBZnRlciIsInJlcGxhY2VBbGwiLCJpbnNlcnQiLCJIVE1MIiwiQk9EWSIsInZpZXciLCJvcGVuZXIiLCJnZXRDb21wdXRlZFN0eWxlIiwic3dhcCIsIm9sZCIsImNvbXB1dGVTdHlsZVRlc3RzIiwiY3NzVGV4dCIsImNvbnRhaW5lciIsImRpdlN0eWxlIiwicGl4ZWxQb3NpdGlvblZhbCIsInJlbGlhYmxlTWFyZ2luTGVmdFZhbCIsIm1hcmdpbkxlZnQiLCJib3hTaXppbmdSZWxpYWJsZVZhbCIsIm1hcmdpblJpZ2h0IiwicGl4ZWxNYXJnaW5SaWdodFZhbCIsImJhY2tncm91bmRDbGlwIiwiY2xlYXJDbG9uZVN0eWxlIiwicGl4ZWxQb3NpdGlvbiIsInJlbGlhYmxlTWFyZ2luTGVmdCIsInJlbGlhYmxlTWFyZ2luUmlnaHQiLCJtYXJnaW5EaXYiLCJyZGlzcGxheXN3YXAiLCJjc3NTaG93IiwicG9zaXRpb24iLCJ2aXNpYmlsaXR5IiwiY3NzTm9ybWFsVHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsImZvbnRXZWlnaHQiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImNvbHVtbkNvdW50IiwiZmlsbE9wYWNpdHkiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJsaW5lSGVpZ2h0Iiwib3JkZXIiLCJvcnBoYW5zIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImNzc1Byb3BzIiwiZmxvYXQiLCJvcmlnTmFtZSIsImlzRmluaXRlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsIm1hcmdpbiIsInBhZGRpbmciLCJib3JkZXIiLCJzdWZmaXgiLCJleHBhbmRlZCIsInBhcnRzIiwicHJvcEhvb2tzIiwiZWFzZWQiLCJzdGVwIiwibGluZWFyIiwicCIsInN3aW5nIiwiY29zIiwiUEkiLCJ0aW1lcklkIiwicnJ1biIsIioiLCJ0d2VlbmVyIiwicHJlZmlsdGVyIiwic3BlZWQiLCJvcHQiLCJzcGVlZHMiLCJmYWRlVG8iLCJ0byIsImFuaW1hdGUiLCJvcHRhbGwiLCJkb0FuaW1hdGlvbiIsImZpbmlzaCIsInN0b3BRdWV1ZSIsInRpbWVycyIsImNzc0ZuIiwic2xpZGVEb3duIiwic2xpZGVVcCIsInNsaWRlVG9nZ2xlIiwiZmFkZUluIiwiZmFkZU91dCIsImZhZGVUb2dnbGUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNsb3ciLCJmYXN0IiwiZGVsYXkiLCJ0aW1lIiwidGltZW91dCIsImNsZWFyVGltZW91dCIsImNoZWNrT24iLCJvcHRTZWxlY3RlZCIsIm9wdERpc2FibGVkIiwicmFkaW9WYWx1ZSIsImJvb2xIb29rIiwicmVtb3ZlQXR0ciIsIm5UeXBlIiwiYXR0ckhvb2tzIiwicHJvcE5hbWUiLCJhdHRyTmFtZXMiLCJwcm9wRml4IiwiZ2V0dGVyIiwicmZvY3VzYWJsZSIsInJjbGlja2FibGUiLCJyZW1vdmVQcm9wIiwidGFiaW5kZXgiLCJwYXJzZUludCIsImZvciIsImNsYXNzIiwicmNsYXNzIiwiYWRkQ2xhc3MiLCJjbGFzc2VzIiwiY3VyVmFsdWUiLCJjbGF6eiIsImZpbmFsVmFsdWUiLCJyZW1vdmVDbGFzcyIsInRvZ2dsZUNsYXNzIiwic3RhdGVWYWwiLCJjbGFzc05hbWVzIiwiaGFzQ2xhc3MiLCJycmV0dXJuIiwicnNwYWNlcyIsInZhbEhvb2tzIiwib3B0aW9uU2V0IiwicmZvY3VzTW9ycGgiLCJvbmx5SGFuZGxlcnMiLCJidWJibGVUeXBlIiwib250eXBlIiwiZXZlbnRQYXRoIiwiaXNUcmlnZ2VyIiwicGFyZW50V2luZG93Iiwic2ltdWxhdGUiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0IiwiZm9jdXNpbiIsImF0dGFjaGVzIiwibm9uY2UiLCJycXVlcnkiLCJKU09OIiwicGFyc2UiLCJwYXJzZVhNTCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInJoYXNoIiwicnRzIiwicmhlYWRlcnMiLCJybG9jYWxQcm90b2NvbCIsInJub0NvbnRlbnQiLCJycHJvdG9jb2wiLCJhbGxUeXBlcyIsIm9yaWdpbkFuY2hvciIsImFjdGl2ZSIsImxhc3RNb2RpZmllZCIsImV0YWciLCJ1cmwiLCJpc0xvY2FsIiwicHJvdG9jb2wiLCJwcm9jZXNzRGF0YSIsImFzeW5jIiwiY29udGVudFR5cGUiLCJhY2NlcHRzIiwianNvbiIsIiogdGV4dCIsInRleHQgaHRtbCIsInRleHQganNvbiIsInRleHQgeG1sIiwiYWpheFNldHVwIiwic2V0dGluZ3MiLCJhamF4UHJlZmlsdGVyIiwiYWpheFRyYW5zcG9ydCIsImFqYXgiLCJzdGF0dXMiLCJuYXRpdmVTdGF0dXNUZXh0IiwiaGVhZGVycyIsInN1Y2Nlc3MiLCJtb2RpZmllZCIsInN0YXR1c1RleHQiLCJ0aW1lb3V0VGltZXIiLCJ0cmFuc3BvcnQiLCJyZXNwb25zZUhlYWRlcnNTdHJpbmciLCJpZk1vZGlmaWVkIiwiY2FjaGVVUkwiLCJjYWxsYmFja0NvbnRleHQiLCJzdGF0dXNDb2RlIiwiZmlyZUdsb2JhbHMiLCJnbG9iYWxFdmVudENvbnRleHQiLCJjb21wbGV0ZURlZmVycmVkIiwicmVzcG9uc2VIZWFkZXJzIiwidXJsQW5jaG9yIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwic3RyQWJvcnQiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwibG5hbWUiLCJvdmVycmlkZU1pbWVUeXBlIiwiYWJvcnQiLCJmaW5hbFRleHQiLCJtZXRob2QiLCJjcm9zc0RvbWFpbiIsImhvc3QiLCJwYXJhbSIsImhhc0NvbnRlbnQiLCJiZWZvcmVTZW5kIiwic2VuZCIsImdldEpTT04iLCJnZXRTY3JpcHQiLCJ0aHJvd3MiLCJ3cmFwQWxsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ3cmFwSW5uZXIiLCJ1bndyYXAiLCJ2aXNpYmxlIiwiZ2V0Q2xpZW50UmVjdHMiLCJyMjAiLCJyQ1JMRiIsInJzdWJtaXR0ZXJUeXBlcyIsInJzdWJtaXR0YWJsZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZSIsInNlcmlhbGl6ZUFycmF5IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJ4aHJTdWNjZXNzU3RhdHVzIiwiMCIsIjEyMjMiLCJ4aHJTdXBwb3J0ZWQiLCJjb3JzIiwiZXJyb3JDYWxsYmFjayIsIm9wZW4iLCJ1c2VybmFtZSIsInhockZpZWxkcyIsIm9ubG9hZCIsIm9uZXJyb3IiLCJvbmFib3J0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0IiwiYmluYXJ5IiwidGV4dCBzY3JpcHQiLCJjaGFyc2V0Iiwic2NyaXB0Q2hhcnNldCIsImV2dCIsIm9sZENhbGxiYWNrcyIsInJqc29ucCIsImpzb25wIiwianNvbnBDYWxsYmFjayIsIm9yaWdpbmFsU2V0dGluZ3MiLCJjYWxsYmFja05hbWUiLCJvdmVyd3JpdHRlbiIsInJlc3BvbnNlQ29udGFpbmVyIiwianNvblByb3AiLCJrZWVwU2NyaXB0cyIsInBhcnNlZCIsIl9sb2FkIiwicGFyYW1zIiwiYW5pbWF0ZWQiLCJvZmZzZXQiLCJzZXRPZmZzZXQiLCJjdXJQb3NpdGlvbiIsImN1ckxlZnQiLCJjdXJDU1NUb3AiLCJjdXJUb3AiLCJjdXJPZmZzZXQiLCJjdXJDU1NMZWZ0IiwiY2FsY3VsYXRlUG9zaXRpb24iLCJjdXJFbGVtIiwidXNpbmciLCJ3aW4iLCJib3giLCJwYWdlWU9mZnNldCIsInBhZ2VYT2Zmc2V0Iiwib2Zmc2V0UGFyZW50IiwicGFyZW50T2Zmc2V0Iiwic2Nyb2xsVG8iLCJIZWlnaHQiLCJXaWR0aCIsIiIsImRlZmF1bHRFeHRyYSIsImZ1bmNOYW1lIiwiYmluZCIsInVuYmluZCIsImRlbGVnYXRlIiwidW5kZWxlZ2F0ZSIsInNpemUiLCJhbmRTZWxmIiwiZGVmaW5lIiwiYW1kIiwiX2pRdWVyeSIsIl8kIiwiJCIsIm5vQ29uZmxpY3QiLCJtaW5FcnIiLCJFcnJvckNvbnN0cnVjdG9yIiwicGFyYW1QcmVmaXgiLCJTS0lQX0lOREVYRVMiLCJ0ZW1wbGF0ZUFyZ3MiLCJtZXNzYWdlIiwidGVtcGxhdGUiLCJzaGlmdGVkSW5kZXgiLCJ0b0RlYnVnU3RyaW5nIiwiaXNTdHJpbmciLCJqcUxpdGUiLCJpc051bWJlciIsIml0ZW0iLCJmb3JFYWNoIiwiaXNQcmltaXRpdmUiLCJpc0JsYW5rT2JqZWN0IiwiZm9yRWFjaFNvcnRlZCIsInJldmVyc2VQYXJhbXMiLCJpdGVyYXRvckZuIiwibmV4dFVpZCIsInNldEhhc2hLZXkiLCJoIiwiJCRoYXNoS2V5IiwiYmFzZUV4dGVuZCIsImRzdCIsIm9ianMiLCJpaSIsImlzT2JqZWN0IiwiamoiLCJpc0RhdGUiLCJ2YWx1ZU9mIiwiaXNSZWdFeHAiLCJpc0VsZW1lbnQiLCJ0b0ludCIsInN0ciIsImluaGVyaXQiLCJjcmVhdGUiLCJpZGVudGl0eSIsInZhbHVlRm4iLCJoYXNDdXN0b21Ub1N0cmluZyIsImlzVW5kZWZpbmVkIiwiaXNEZWZpbmVkIiwiZ2V0UHJvdG90eXBlT2YiLCJpc1Njb3BlIiwiJGV2YWxBc3luYyIsIiR3YXRjaCIsImlzRmlsZSIsImlzRm9ybURhdGEiLCJpc0Jsb2IiLCJpc0Jvb2xlYW4iLCJpc1Byb21pc2VMaWtlIiwiaXNUeXBlZEFycmF5IiwiVFlQRURfQVJSQVlfUkVHRVhQIiwiaXNBcnJheUJ1ZmZlciIsIm1ha2VNYXAiLCJpdGVtcyIsIm5vZGVOYW1lXyIsImVsZW1lbnQiLCJsb3dlcmNhc2UiLCJhcnJheVJlbW92ZSIsImFycmF5IiwiZGVzdGluYXRpb24iLCJjb3B5UmVjdXJzZSIsImNvcHlFbGVtZW50Iiwic3RhY2tTb3VyY2UiLCJzdGFja0Rlc3QiLCJuZ01pbkVyciIsIm5lZWRzUmVjdXJzZSIsImNvcHlUeXBlIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImNvcGllZCIsIkFycmF5QnVmZmVyIiwiYnl0ZUxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJyZSIsImxhc3RJbmRleCIsImVxdWFscyIsIm8xIiwibzIiLCJrZXlTZXQiLCJ0MSIsInQyIiwiZ2V0VGltZSIsImNyZWF0ZU1hcCIsImNoYXJBdCIsImFycmF5MSIsImFycmF5MiIsInNsaWNlQXJncyIsInN0YXJ0SW5kZXgiLCJjdXJyeUFyZ3MiLCJ0b0pzb25SZXBsYWNlciIsInRvSnNvbiIsInByZXR0eSIsInN0cmluZ2lmeSIsImZyb21Kc29uIiwidGltZXpvbmVUb09mZnNldCIsInRpbWV6b25lIiwiZmFsbGJhY2siLCJBTExfQ09MT05TIiwicmVxdWVzdGVkVGltZXpvbmVPZmZzZXQiLCJhZGREYXRlTWludXRlcyIsImRhdGUiLCJtaW51dGVzIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJjb252ZXJ0VGltZXpvbmVUb0xvY2FsIiwiZGF0ZVRpbWV6b25lT2Zmc2V0IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJ0aW1lem9uZU9mZnNldCIsInN0YXJ0aW5nVGFnIiwiZWxlbUh0bWwiLCJOT0RFX1RZUEVfVEVYVCIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlS2V5VmFsdWUiLCJrZXlWYWx1ZSIsInNwbGl0UG9pbnQiLCJzdWJzdHJpbmciLCJ0b0tleVZhbHVlIiwiYXJyYXlWYWx1ZSIsImVuY29kZVVyaVF1ZXJ5IiwiZW5jb2RlVXJpU2VnbWVudCIsInBjdEVuY29kZVNwYWNlcyIsImdldE5nQXR0cmlidXRlIiwibmdBdHRyIiwibmdBdHRyUHJlZml4ZXMiLCJhbmd1bGFySW5pdCIsImJvb3RzdHJhcCIsImFwcEVsZW1lbnQiLCJjb25maWciLCJoYXNBdHRyaWJ1dGUiLCJjYW5kaWRhdGUiLCJxdWVyeVNlbGVjdG9yIiwic3RyaWN0RGkiLCJtb2R1bGVzIiwiZGVmYXVsdENvbmZpZyIsImRvQm9vdHN0cmFwIiwiaW5qZWN0b3IiLCIkcHJvdmlkZSIsImRlYnVnSW5mb0VuYWJsZWQiLCIkY29tcGlsZVByb3ZpZGVyIiwiY3JlYXRlSW5qZWN0b3IiLCJpbnZva2UiLCJzY29wZSIsIiRhcHBseSIsIk5HX0VOQUJMRV9ERUJVR19JTkZPIiwiTkdfREVGRVJfQk9PVFNUUkFQIiwiYW5ndWxhciIsInJlc3VtZUJvb3RzdHJhcCIsImV4dHJhTW9kdWxlcyIsInJlc3VtZURlZmVycmVkQm9vdHN0cmFwIiwicmVsb2FkV2l0aERlYnVnSW5mbyIsInJlbG9hZCIsImdldFRlc3RhYmlsaXR5Iiwicm9vdEVsZW1lbnQiLCJzbmFrZV9jYXNlIiwic2VwYXJhdG9yIiwiU05BS0VfQ0FTRV9SRUdFWFAiLCJiaW5kSlF1ZXJ5Iiwib3JpZ2luYWxDbGVhbkRhdGEiLCJiaW5kSlF1ZXJ5RmlyZWQiLCJqcU5hbWUiLCJqcSIsIkpRTGl0ZVByb3RvdHlwZSIsImlzb2xhdGVTY29wZSIsImNvbnRyb2xsZXIiLCJpbmhlcml0ZWREYXRhIiwiJGRlc3Ryb3kiLCJKUUxpdGUiLCJhc3NlcnRBcmciLCJyZWFzb24iLCJhc3NlcnRBcmdGbiIsImFjY2VwdEFycmF5QW5ub3RhdGlvbiIsImFzc2VydE5vdEhhc093blByb3BlcnR5IiwicGF0aCIsImJpbmRGblRvU2NvcGUiLCJsYXN0SW5zdGFuY2UiLCJnZXRCbG9ja05vZGVzIiwiYmxvY2tOb2RlcyIsImVuZE5vZGUiLCJzZXR1cE1vZHVsZUxvYWRlciIsImVuc3VyZSIsIiRpbmplY3Rvck1pbkVyciIsIiQkbWluRXJyIiwicmVxdWlyZXMiLCJjb25maWdGbiIsImludm9rZUxhdGVyIiwicHJvdmlkZXIiLCJpbnNlcnRNZXRob2QiLCJpbnZva2VRdWV1ZSIsIm1vZHVsZUluc3RhbmNlIiwiaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lIiwicmVjaXBlTmFtZSIsImZhY3RvcnlGdW5jdGlvbiIsIiQkbW9kdWxlTmFtZSIsImNvbmZpZ0Jsb2NrcyIsInJ1bkJsb2NrcyIsIl9pbnZva2VRdWV1ZSIsIl9jb25maWdCbG9ja3MiLCJfcnVuQmxvY2tzIiwic2VydmljZSIsImNvbnN0YW50IiwiZGVjb3JhdG9yIiwiZGlyZWN0aXZlIiwiY29tcG9uZW50IiwiYmxvY2siLCJzaGFsbG93Q29weSIsInNlcmlhbGl6ZU9iamVjdCIsInNlZW4iLCJwdWJsaXNoRXh0ZXJuYWxBUEkiLCJ1cHBlcmNhc2UiLCJjYWxsYmFja3MiLCIkJGNvdW50ZXIiLCIkJGNzcCIsImNzcCIsImFuZ3VsYXJNb2R1bGUiLCIkJHNhbml0aXplVXJpIiwiJCRTYW5pdGl6ZVVyaVByb3ZpZGVyIiwiJENvbXBpbGVQcm92aWRlciIsImh0bWxBbmNob3JEaXJlY3RpdmUiLCJpbnB1dERpcmVjdGl2ZSIsInRleHRhcmVhIiwiZm9ybSIsImZvcm1EaXJlY3RpdmUiLCJzY3JpcHREaXJlY3RpdmUiLCJzZWxlY3REaXJlY3RpdmUiLCJzdHlsZURpcmVjdGl2ZSIsIm9wdGlvbkRpcmVjdGl2ZSIsIm5nQmluZCIsIm5nQmluZERpcmVjdGl2ZSIsIm5nQmluZEh0bWwiLCJuZ0JpbmRIdG1sRGlyZWN0aXZlIiwibmdCaW5kVGVtcGxhdGUiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQ2xhc3MiLCJuZ0NsYXNzRGlyZWN0aXZlIiwibmdDbGFzc0V2ZW4iLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xhc3NPZGQiLCJuZ0NsYXNzT2RkRGlyZWN0aXZlIiwibmdDbG9hayIsIm5nQ2xvYWtEaXJlY3RpdmUiLCJuZ0NvbnRyb2xsZXIiLCJuZ0NvbnRyb2xsZXJEaXJlY3RpdmUiLCJuZ0Zvcm0iLCJuZ0Zvcm1EaXJlY3RpdmUiLCJuZ0hpZGUiLCJuZ0hpZGVEaXJlY3RpdmUiLCJuZ0lmIiwibmdJZkRpcmVjdGl2ZSIsIm5nSW5jbHVkZSIsIm5nSW5jbHVkZURpcmVjdGl2ZSIsIm5nSW5pdCIsIm5nSW5pdERpcmVjdGl2ZSIsIm5nTm9uQmluZGFibGUiLCJuZ05vbkJpbmRhYmxlRGlyZWN0aXZlIiwibmdQbHVyYWxpemUiLCJuZ1BsdXJhbGl6ZURpcmVjdGl2ZSIsIm5nUmVwZWF0IiwibmdSZXBlYXREaXJlY3RpdmUiLCJuZ1Nob3ciLCJuZ1Nob3dEaXJlY3RpdmUiLCJuZ1N0eWxlIiwibmdTdHlsZURpcmVjdGl2ZSIsIm5nU3dpdGNoIiwibmdTd2l0Y2hEaXJlY3RpdmUiLCJuZ1N3aXRjaFdoZW4iLCJuZ1N3aXRjaFdoZW5EaXJlY3RpdmUiLCJuZ1N3aXRjaERlZmF1bHQiLCJuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUiLCJuZ09wdGlvbnMiLCJuZ09wdGlvbnNEaXJlY3RpdmUiLCJuZ1RyYW5zY2x1ZGUiLCJuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJuZ01vZGVsIiwibmdNb2RlbERpcmVjdGl2ZSIsIm5nTGlzdCIsIm5nTGlzdERpcmVjdGl2ZSIsIm5nQ2hhbmdlIiwibmdDaGFuZ2VEaXJlY3RpdmUiLCJwYXR0ZXJuRGlyZWN0aXZlIiwibmdQYXR0ZXJuIiwicmVxdWlyZWQiLCJyZXF1aXJlZERpcmVjdGl2ZSIsIm5nUmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtaW5sZW5ndGhEaXJlY3RpdmUiLCJuZ01pbmxlbmd0aCIsIm1heGxlbmd0aCIsIm1heGxlbmd0aERpcmVjdGl2ZSIsIm5nTWF4bGVuZ3RoIiwibmdWYWx1ZSIsIm5nVmFsdWVEaXJlY3RpdmUiLCJuZ01vZGVsT3B0aW9ucyIsIm5nTW9kZWxPcHRpb25zRGlyZWN0aXZlIiwibmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUiLCJuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyIsIm5nRXZlbnREaXJlY3RpdmVzIiwiJGFuY2hvclNjcm9sbCIsIiRBbmNob3JTY3JvbGxQcm92aWRlciIsIiRhbmltYXRlIiwiJEFuaW1hdGVQcm92aWRlciIsIiRhbmltYXRlQ3NzIiwiJENvcmVBbmltYXRlQ3NzUHJvdmlkZXIiLCIkJGFuaW1hdGVKcyIsIiQkQ29yZUFuaW1hdGVKc1Byb3ZpZGVyIiwiJCRhbmltYXRlUXVldWUiLCIkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciIsIiQkQW5pbWF0ZVJ1bm5lciIsIiQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlciIsIiQkYW5pbWF0ZUFzeW5jUnVuIiwiJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIiLCIkYnJvd3NlciIsIiRCcm93c2VyUHJvdmlkZXIiLCIkY2FjaGVGYWN0b3J5IiwiJENhY2hlRmFjdG9yeVByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCIkQ29udHJvbGxlclByb3ZpZGVyIiwiJGRvY3VtZW50IiwiJERvY3VtZW50UHJvdmlkZXIiLCIkZXhjZXB0aW9uSGFuZGxlciIsIiRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIiLCIkZmlsdGVyIiwiJEZpbHRlclByb3ZpZGVyIiwiJCRmb3JjZVJlZmxvdyIsIiQkRm9yY2VSZWZsb3dQcm92aWRlciIsIiRpbnRlcnBvbGF0ZSIsIiRJbnRlcnBvbGF0ZVByb3ZpZGVyIiwiJGludGVydmFsIiwiJEludGVydmFsUHJvdmlkZXIiLCIkaHR0cCIsIiRIdHRwUHJvdmlkZXIiLCIkaHR0cFBhcmFtU2VyaWFsaXplciIsIiRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIiLCIkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSIsIiRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIiLCIkaHR0cEJhY2tlbmQiLCIkSHR0cEJhY2tlbmRQcm92aWRlciIsIiR4aHJGYWN0b3J5IiwiJHhockZhY3RvcnlQcm92aWRlciIsIiRqc29ucENhbGxiYWNrcyIsIiRqc29ucENhbGxiYWNrc1Byb3ZpZGVyIiwiJGxvY2F0aW9uIiwiJExvY2F0aW9uUHJvdmlkZXIiLCIkbG9nIiwiJExvZ1Byb3ZpZGVyIiwiJHBhcnNlIiwiJFBhcnNlUHJvdmlkZXIiLCIkcm9vdFNjb3BlIiwiJFJvb3RTY29wZVByb3ZpZGVyIiwiJHEiLCIkUVByb3ZpZGVyIiwiJCRxIiwiJCRRUHJvdmlkZXIiLCIkc2NlIiwiJFNjZVByb3ZpZGVyIiwiJHNjZURlbGVnYXRlIiwiJFNjZURlbGVnYXRlUHJvdmlkZXIiLCIkc25pZmZlciIsIiRTbmlmZmVyUHJvdmlkZXIiLCIkdGVtcGxhdGVDYWNoZSIsIiRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyIiwiJCR0ZXN0YWJpbGl0eSIsIiQkVGVzdGFiaWxpdHlQcm92aWRlciIsIiR0aW1lb3V0IiwiJFRpbWVvdXRQcm92aWRlciIsIiR3aW5kb3ciLCIkV2luZG93UHJvdmlkZXIiLCIkJHJBRiIsIiQkUkFGUHJvdmlkZXIiLCIkJGpxTGl0ZSIsIiQkanFMaXRlUHJvdmlkZXIiLCIkJEhhc2hNYXAiLCIkJEhhc2hNYXBQcm92aWRlciIsIiQkY29va2llUmVhZGVyIiwiJCRDb29raWVSZWFkZXJQcm92aWRlciIsImpxTmV4dElkIiwianFJZCIsIlNQRUNJQUxfQ0hBUlNfUkVHRVhQIiwiTU9aX0hBQ0tfUkVHRVhQIiwianFMaXRlSXNUZXh0Tm9kZSIsIkhUTUxfUkVHRVhQIiwianFMaXRlQWNjZXB0c0RhdGEiLCJOT0RFX1RZUEVfRUxFTUVOVCIsIk5PREVfVFlQRV9ET0NVTUVOVCIsImpxTGl0ZUhhc0RhdGEiLCJqcUNhY2hlIiwibmczMzkiLCJqcUxpdGVDbGVhbkRhdGEiLCJqcUxpdGVSZW1vdmVEYXRhIiwianFMaXRlQnVpbGRGcmFnbWVudCIsIlRBR19OQU1FX1JFR0VYUCIsIlhIVE1MX1RBR19SRUdFWFAiLCJqcUxpdGVQYXJzZUhUTUwiLCJTSU5HTEVfVEFHX1JFR0VYUCIsImpxTGl0ZVdyYXBOb2RlIiwid3JhcHBlciIsImFyZ0lzU3RyaW5nIiwianFMaXRlTWluRXJyIiwianFMaXRlQWRkTm9kZXMiLCJqcUxpdGVDbG9uZSIsImpxTGl0ZURlYWxvYyIsIm9ubHlEZXNjZW5kYW50cyIsImRlc2NlbmRhbnRzIiwianFMaXRlT2ZmIiwidW5zdXBwb3J0ZWQiLCJleHBhbmRvU3RvcmUiLCJqcUxpdGVFeHBhbmRvU3RvcmUiLCJyZW1vdmVIYW5kbGVyIiwibGlzdGVuZXJGbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyRm4iLCJNT1VTRV9FVkVOVF9NQVAiLCJleHBhbmRvSWQiLCJjcmVhdGVJZk5lY2Vzc2FyeSIsImpxTGl0ZURhdGEiLCJpc1NpbXBsZVNldHRlciIsImlzU2ltcGxlR2V0dGVyIiwibWFzc0dldHRlciIsImpxTGl0ZUhhc0NsYXNzIiwianFMaXRlUmVtb3ZlQ2xhc3MiLCJjc3NDbGFzc2VzIiwiY3NzQ2xhc3MiLCJqcUxpdGVBZGRDbGFzcyIsImV4aXN0aW5nQ2xhc3NlcyIsImpxTGl0ZUNvbnRyb2xsZXIiLCJqcUxpdGVJbmhlcml0ZWREYXRhIiwibmFtZXMiLCJOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQiLCJqcUxpdGVFbXB0eSIsImpxTGl0ZVJlbW92ZSIsImpxTGl0ZURvY3VtZW50TG9hZGVkIiwiYWN0aW9uIiwiZ2V0Qm9vbGVhbkF0dHJOYW1lIiwiYm9vbGVhbkF0dHIiLCJCT09MRUFOX0FUVFIiLCJCT09MRUFOX0VMRU1FTlRTIiwiZ2V0QWxpYXNlZEF0dHJOYW1lIiwiQUxJQVNFRF9BVFRSIiwiY3JlYXRlRXZlbnRIYW5kbGVyIiwiZXZlbnRIYW5kbGVyIiwiZXZlbnRGbnMiLCJldmVudEZuc0xlbmd0aCIsImltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsIm9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiaGFuZGxlcldyYXBwZXIiLCJzcGVjaWFsSGFuZGxlcldyYXBwZXIiLCJkZWZhdWx0SGFuZGxlcldyYXBwZXIiLCJzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlciIsImpxTGl0ZUNvbnRhaW5zIiwiJGdldCIsImhhc2hLZXkiLCJuZXh0VWlkRm4iLCJvYmpUeXBlIiwiSGFzaE1hcCIsImlzb2xhdGVkVWlkIiwicHV0Iiwic3RyaW5naWZ5Rm4iLCJGdW5jdGlvbiIsImV4dHJhY3RBcmdzIiwiZm5UZXh0IiwiU1RSSVBfQ09NTUVOVFMiLCJBUlJPV19BUkciLCJGTl9BUkdTIiwiYW5vbkZuIiwiYW5ub3RhdGUiLCIkaW5qZWN0IiwiYXJnRGVjbCIsIkZOX0FSR19TUExJVCIsIkZOX0FSRyIsInVuZGVyc2NvcmUiLCJtb2R1bGVzVG9Mb2FkIiwic3VwcG9ydE9iamVjdCIsInByb3ZpZGVyXyIsInByb3ZpZGVySW5qZWN0b3IiLCJpbnN0YW50aWF0ZSIsInByb3ZpZGVyQ2FjaGUiLCJwcm92aWRlclN1ZmZpeCIsImVuZm9yY2VSZXR1cm5WYWx1ZSIsImluc3RhbmNlSW5qZWN0b3IiLCJmYWN0b3J5Rm4iLCJlbmZvcmNlIiwiJGluamVjdG9yIiwiaW5zdGFuY2VDYWNoZSIsInNlcnZpY2VOYW1lIiwiZGVjb3JGbiIsIm9yaWdQcm92aWRlciIsIm9yaWckZ2V0Iiwib3JpZ0luc3RhbmNlIiwiJGRlbGVnYXRlIiwibG9hZE1vZHVsZXMiLCJtb2R1bGVGbiIsInJ1bkludm9rZVF1ZXVlIiwiaW52b2tlQXJncyIsImxvYWRlZE1vZHVsZXMiLCJzdGFjayIsImNyZWF0ZUludGVybmFsSW5qZWN0b3IiLCJnZXRTZXJ2aWNlIiwiY2FsbGVyIiwiSU5TVEFOVElBVElORyIsImluamVjdGlvbkFyZ3MiLCJsb2NhbHMiLCIkJGFubm90YXRlIiwiaXNDbGFzcyIsIm1zaWUiLCJUeXBlIiwiY3RvciIsInByb3RvSW5zdGFuY2VJbmplY3RvciIsImF1dG9TY3JvbGxpbmdFbmFibGVkIiwiZGlzYWJsZUF1dG9TY3JvbGxpbmciLCJnZXRGaXJzdEFuY2hvciIsInNvbWUiLCJnZXRZT2Zmc2V0Iiwic2Nyb2xsIiwieU9mZnNldCIsImJvdHRvbSIsInNjcm9sbEludG9WaWV3IiwiZWxlbVRvcCIsInNjcm9sbEJ5IiwiZWxtIiwibmV3VmFsIiwib2xkVmFsIiwibWVyZ2VDbGFzc2VzIiwiZXh0cmFjdEVsZW1lbnROb2RlIiwiRUxFTUVOVF9OT0RFIiwic3BsaXRDbGFzc2VzIiwia2xhc3MiLCJwcmVwYXJlQW5pbWF0ZU9wdGlvbnMiLCJCcm93c2VyIiwiY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QiLCJvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyIsImdldEhhc2giLCJzdWJzdHIiLCJjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSIsInBlbmRpbmdMb2NhdGlvbiIsImNhY2hlU3RhdGUiLCJmaXJlVXJsQ2hhbmdlIiwiY2FjaGVkU3RhdGUiLCJnZXRDdXJyZW50U3RhdGUiLCJsYXN0Q2FjaGVkU3RhdGUiLCJsYXN0QnJvd3NlclVybCIsImxhc3RIaXN0b3J5U3RhdGUiLCJ1cmxDaGFuZ2VMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImhpc3RvcnkiLCJwZW5kaW5nRGVmZXJJZHMiLCJpc01vY2siLCIkJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0IiwiJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMiLCJiYXNlRWxlbWVudCIsInNhbWVTdGF0ZSIsInNhbWVCYXNlIiwic3RyaXBIYXNoIiwidXJsQ2hhbmdlSW5pdCIsIm9uVXJsQ2hhbmdlIiwiJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCIsIiQkY2hlY2tVcmxDaGFuZ2UiLCJiYXNlSHJlZiIsInRpbWVvdXRJZCIsImNhbmNlbCIsImRlZmVySWQiLCJjYWNoZUZhY3RvcnkiLCJjYWNoZUlkIiwicmVmcmVzaCIsImVudHJ5IiwiZnJlc2hFbmQiLCJzdGFsZUVuZCIsImxpbmsiLCJuZXh0RW50cnkiLCJwcmV2RW50cnkiLCJjYWNoZXMiLCJzdGF0cyIsImNhcGFjaXR5IiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwibHJ1SGFzaCIsImxydUVudHJ5IiwicmVtb3ZlQWxsIiwiZGVzdHJveSIsImluZm8iLCJVTklOSVRJQUxJWkVEX1ZBTFVFIiwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIiwicGFyc2VJc29sYXRlQmluZGluZ3MiLCJkaXJlY3RpdmVOYW1lIiwiaXNDb250cm9sbGVyIiwiTE9DQUxfUkVHRVhQIiwiYmluZGluZ3MiLCJkZWZpbml0aW9uIiwic2NvcGVOYW1lIiwiYmluZGluZ0NhY2hlIiwiJGNvbXBpbGVNaW5FcnIiLCJtb2RlIiwib3B0aW9uYWwiLCJhdHRyTmFtZSIsInBhcnNlRGlyZWN0aXZlQmluZGluZ3MiLCJiaW5kVG9Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiaWRlbnRpZmllckZvckNvbnRyb2xsZXIiLCJhc3NlcnRWYWxpZERpcmVjdGl2ZU5hbWUiLCJnZXREaXJlY3RpdmVSZXF1aXJlIiwicmVxdWlyZSIsIlJFUVVJUkVfUFJFRklYX1JFR0VYUCIsImhhc0RpcmVjdGl2ZXMiLCJTdWZmaXgiLCJDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAiLCJDTEFTU19ESVJFQ1RJVkVfUkVHRVhQIiwiQUxMX09SX05PVEhJTkdfQVRUUlMiLCJFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQIiwicmVnaXN0ZXJEaXJlY3RpdmUiLCJkaXJlY3RpdmVGYWN0b3J5IiwiZGlyZWN0aXZlcyIsInByaW9yaXR5IiwicmVzdHJpY3QiLCJtYWtlSW5qZWN0YWJsZSIsInRFbGVtZW50IiwidEF0dHJzIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCJ0ZW1wbGF0ZVVybCIsImRkbyIsInRyYW5zY2x1ZGUiLCJhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCIsInJlZ2V4cCIsImltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCIsIlRUTCIsIm9uQ2hhbmdlc1R0bCIsImZsdXNoT25DaGFuZ2VzUXVldWUiLCJvbkNoYW5nZXNRdWV1ZSIsImVycm9ycyIsIkF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzVG9Db3B5IiwiJGF0dHIiLCIkJGVsZW1lbnQiLCJzZXRTcGVjaWFsQXR0ciIsInNwZWNpYWxBdHRySG9sZGVyIiwiYXR0cmlidXRlIiwicmVtb3ZlTmFtZWRJdGVtIiwic2V0TmFtZWRJdGVtIiwic2FmZUFkZENsYXNzIiwiJGNvbXBpbGVOb2RlcyIsInRyYW5zY2x1ZGVGbiIsIm1heFByaW9yaXR5IiwiaWdub3JlRGlyZWN0aXZlIiwicHJldmlvdXNDb21waWxlQ29udGV4dCIsIk5PVF9FTVBUWSIsImRvbU5vZGUiLCJjb21wb3NpdGVMaW5rRm4iLCJjb21waWxlTm9kZXMiLCIkJGFkZFNjb3BlQ2xhc3MiLCJjbG9uZUNvbm5lY3RGbiIsIm5lZWRzTmV3U2NvcGUiLCIkcGFyZW50IiwiJG5ldyIsInBhcmVudEJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZUNvbnRyb2xsZXJzIiwiZnV0dXJlUGFyZW50RWxlbWVudCIsIiQkYm91bmRUcmFuc2NsdWRlIiwiZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyIsIiRsaW5rTm9kZSIsIndyYXBUZW1wbGF0ZSIsImNvbnRyb2xsZXJOYW1lIiwiaW5zdGFuY2UiLCIkJGFkZFNjb3BlSW5mbyIsInBhcmVudEVsZW1lbnQiLCJub2RlTGlzdCIsIiRyb290RWxlbWVudCIsIm5vZGVMaW5rRm4iLCJjaGlsZExpbmtGbiIsImNoaWxkU2NvcGUiLCJjaGlsZEJvdW5kVHJhbnNjbHVkZUZuIiwic3RhYmxlTm9kZUxpc3QiLCJub2RlTGlua0ZuRm91bmQiLCJub2RlTGlzdExlbmd0aCIsImxpbmtGbnMiLCJ0cmFuc2NsdWRlT25UaGlzRWxlbWVudCIsImNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuIiwidGVtcGxhdGVPblRoaXNFbGVtZW50IiwibGlua0ZuRm91bmQiLCJjb2xsZWN0RGlyZWN0aXZlcyIsImFwcGx5RGlyZWN0aXZlc1RvTm9kZSIsInRlcm1pbmFsIiwicHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbiIsImJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZWRTY29wZSIsImNsb25lRm4iLCJjb250cm9sbGVycyIsImNvbnRhaW5pbmdTY29wZSIsIiQkdHJhbnNjbHVkZWQiLCJib3VuZFNsb3RzIiwiJCRzbG90cyIsInNsb3ROYW1lIiwiYXR0cnNNYXAiLCJhZGREaXJlY3RpdmUiLCJkaXJlY3RpdmVOb3JtYWxpemUiLCJuTmFtZSIsIm5nQXR0ck5hbWUiLCJpc05nQXR0ciIsIm5BdHRycyIsImF0dHJTdGFydE5hbWUiLCJhdHRyRW5kTmFtZSIsIk5HX0FUVFJfQklORElORyIsIlBSRUZJWF9SRUdFWFAiLCJtdWx0aUVsZW1lbnRNYXRjaCIsIk1VTFRJX0VMRU1FTlRfRElSX1JFIiwiZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQiLCJhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUiLCJhbmltVmFsIiwiYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlIiwiTk9ERV9UWVBFX0NPTU1FTlQiLCJjb2xsZWN0Q29tbWVudERpcmVjdGl2ZXMiLCJieVByaW9yaXR5IiwiZ3JvdXBTY2FuIiwiYXR0clN0YXJ0IiwiYXR0ckVuZCIsImRlcHRoIiwiZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIiLCJsaW5rRm4iLCJjb21waWxhdGlvbkdlbmVyYXRvciIsImVhZ2VyIiwiY29tcGlsZU5vZGUiLCJ0ZW1wbGF0ZUF0dHJzIiwianFDb2xsZWN0aW9uIiwib3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIiwicHJlTGlua0ZucyIsInBvc3RMaW5rRm5zIiwiYWRkTGlua0ZucyIsInByZSIsInBvc3QiLCJuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUiLCIkJGlzb2xhdGVTY29wZSIsImNsb25lQW5kQW5ub3RhdGVGbiIsImxpbmtOb2RlIiwiY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUiLCJjbG9uZUF0dGFjaEZuIiwiaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUiLCJlbGVtZW50Q29udHJvbGxlcnMiLCJzY29wZVRvQ2hpbGQiLCJzbG90VHJhbnNjbHVkZUZuIiwiY29udHJvbGxlclNjb3BlIiwic2NvcGVCaW5kaW5nSW5mbyIsIm5ld1Njb3BlRGlyZWN0aXZlIiwiaXNTbG90RmlsbGVkIiwiY29udHJvbGxlckRpcmVjdGl2ZXMiLCJzZXR1cENvbnRyb2xsZXJzIiwidGVtcGxhdGVEaXJlY3RpdmUiLCIkJG9yaWdpbmFsRGlyZWN0aXZlIiwiJCRpc29sYXRlQmluZGluZ3MiLCJpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3MiLCJyZW1vdmVXYXRjaGVzIiwiJG9uIiwiY29udHJvbGxlckRpcmVjdGl2ZSIsIiQkYmluZGluZ3MiLCJiaW5kaW5nSW5mbyIsImNvbnRyb2xsZXJSZXN1bHQiLCJnZXRDb250cm9sbGVycyIsImNvbnRyb2xsZXJJbnN0YW5jZSIsIiRvbkNoYW5nZXMiLCJpbml0aWFsQ2hhbmdlcyIsIiRvbkluaXQiLCIkZG9DaGVjayIsIiRvbkRlc3Ryb3kiLCJpbnZva2VMaW5rRm4iLCIkcG9zdExpbmsiLCIkdGVtcGxhdGUiLCJkaXJlY3RpdmVWYWx1ZSIsInRlcm1pbmFsUHJpb3JpdHkiLCJub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RlbXBsYXRlIiwiJGNvbXBpbGVOb2RlIiwicmVwbGFjZURpcmVjdGl2ZSIsImNoaWxkVHJhbnNjbHVkZUZuIiwiZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uIiwibWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciIsIiQkc3RhcnQiLCIkJGVuZCIsImFzc2VydE5vRHVwbGljYXRlIiwiJCR0bGIiLCJjYW5kaWRhdGVEaXJlY3RpdmUiLCJzY2FubmluZ0luZGV4IiwiJCRjcmVhdGVDb21tZW50IiwiJCRwYXJlbnROb2RlIiwic2xvdHMiLCJzbG90TWFwIiwiZmlsbGVkU2xvdHMiLCJlbGVtZW50U2VsZWN0b3IiLCJmaWxsZWQiLCIkJG5ld1Njb3BlIiwiZGVub3JtYWxpemVUZW1wbGF0ZSIsInJlbW92ZUNvbW1lbnRzIiwidGVtcGxhdGVOYW1lc3BhY2UiLCJuZXdUZW1wbGF0ZUF0dHJzIiwidGVtcGxhdGVEaXJlY3RpdmVzIiwidW5wcm9jZXNzZWREaXJlY3RpdmVzIiwibWFya0RpcmVjdGl2ZVNjb3BlIiwibWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXMiLCJjb21waWxlVGVtcGxhdGVVcmwiLCJpbmhlcml0VHlwZSIsImRhdGFOYW1lIiwicHJvcGVydHkiLCJjb250cm9sbGVyS2V5IiwiJHNjb3BlIiwiJHRyYW5zY2x1ZGUiLCJuZXdTY29wZSIsInREaXJlY3RpdmVzIiwic3RhcnRBdHRyTmFtZSIsImVuZEF0dHJOYW1lIiwibXVsdGlFbGVtZW50Iiwic3JjQXR0ciIsImRzdEF0dHIiLCIkc2V0IiwiYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4iLCJhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4iLCJsaW5rUXVldWUiLCJiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlIiwib3JpZ0FzeW5jRGlyZWN0aXZlIiwiZGVyaXZlZFN5bmNEaXJlY3RpdmUiLCJ0ZW1wVGVtcGxhdGVBdHRycyIsImJlZm9yZVRlbXBsYXRlTGlua05vZGUiLCJsaW5rUm9vdEVsZW1lbnQiLCIkJGRlc3Ryb3llZCIsIm9sZENsYXNzZXMiLCJpZ25vcmVDaGlsZExpbmtGbiIsInByZXZpb3VzRGlyZWN0aXZlIiwid3JhcE1vZHVsZU5hbWVJZkRlZmluZWQiLCJtb2R1bGVOYW1lIiwiaW50ZXJwb2xhdGVGbiIsInRlbXBsYXRlTm9kZSIsInRlbXBsYXRlTm9kZVBhcmVudCIsImhhc0NvbXBpbGVQYXJlbnQiLCIkJGFkZEJpbmRpbmdDbGFzcyIsIiQkYWRkQmluZGluZ0luZm8iLCJleHByZXNzaW9ucyIsImdldFRydXN0ZWRDb250ZXh0IiwiYXR0ck5vcm1hbGl6ZWROYW1lIiwiUkVTT1VSQ0VfVVJMIiwiYWxsT3JOb3RoaW5nIiwidHJ1c3RlZENvbnRleHQiLCIkJG9ic2VydmVycyIsIm5ld1ZhbHVlIiwiJCRpbnRlciIsIiQkc2NvcGUiLCJvbGRWYWx1ZSIsIiR1cGRhdGVDbGFzcyIsImVsZW1lbnRzVG9SZW1vdmUiLCJuZXdOb2RlIiwiZmlyc3RFbGVtZW50VG9SZW1vdmUiLCJyZW1vdmVDb3VudCIsImoyIiwiYW5ub3RhdGlvbiIsInJlY29yZENoYW5nZXMiLCJwcmV2aW91c1ZhbHVlIiwiJCRwb3N0RGlnZXN0IiwiY2hhbmdlcyIsInRyaWdnZXJPbkNoYW5nZXNIb29rIiwiU2ltcGxlQ2hhbmdlIiwicmVtb3ZlV2F0Y2hDb2xsZWN0aW9uIiwibGFzdFZhbHVlIiwicGFyZW50R2V0IiwicGFyZW50U2V0IiwicmVtb3ZlV2F0Y2giLCIkb2JzZXJ2ZSIsIl9VTklOSVRJQUxJWkVEX1ZBTFVFIiwibGl0ZXJhbCIsImFzc2lnbiIsInBhcmVudFZhbHVlV2F0Y2giLCJwYXJlbnRWYWx1ZSIsIiRzdGF0ZWZ1bCIsIiR3YXRjaENvbGxlY3Rpb24iLCJpbml0aWFsVmFsdWUiLCJTSU1QTEVfQVRUUl9OQU1FIiwiJG5vcm1hbGl6ZSIsIiRhZGRDbGFzcyIsImNsYXNzVmFsIiwiJHJlbW92ZUNsYXNzIiwibmV3Q2xhc3NlcyIsInRvQWRkIiwidG9rZW5EaWZmZXJlbmNlIiwidG9SZW1vdmUiLCJ3cml0ZUF0dHIiLCJib29sZWFuS2V5IiwiYWxpYXNlZEtleSIsIm9ic2VydmVyIiwidHJpbW1lZFNyY3NldCIsInNyY1BhdHRlcm4iLCJyYXdVcmlzIiwibmJyVXJpc1dpdGgycGFydHMiLCJmbG9vciIsImlubmVySWR4IiwibGFzdFR1cGxlIiwibGlzdGVuZXJzIiwic3RhcnRTeW1ib2wiLCJlbmRTeW1ib2wiLCJiaW5kaW5nIiwiaXNvbGF0ZWQiLCJub1RlbXBsYXRlIiwiY29tbWVudCIsInByZXZpb3VzIiwic3RyMSIsInN0cjIiLCJ0b2tlbnMxIiwidG9rZW5zMiIsIm91dGVyIiwianFOb2RlcyIsImlkZW50IiwiQ05UUkxfUkVHIiwiZ2xvYmFscyIsImFsbG93R2xvYmFscyIsImFkZElkZW50aWZpZXIiLCJleHByZXNzaW9uIiwibGF0ZXIiLCIkY29udHJvbGxlck1pbkVyciIsImNvbnRyb2xsZXJQcm90b3R5cGUiLCJleGNlcHRpb24iLCJjYXVzZSIsInNlcmlhbGl6ZVZhbHVlIiwidG9JU09TdHJpbmciLCJ0b1NlcmlhbGl6ZSIsInRvcExldmVsIiwiZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSIsInRlbXBEYXRhIiwiSlNPTl9QUk9URUNUSU9OX1BSRUZJWCIsIkFQUExJQ0FUSU9OX0pTT04iLCJpc0pzb25MaWtlIiwianNvblN0YXJ0IiwiSlNPTl9TVEFSVCIsIkpTT05fRU5EUyIsInBhcnNlSGVhZGVycyIsImZpbGxJblBhcnNlZCIsImxpbmUiLCJoZWFkZXJWYWwiLCJoZWFkZXJLZXkiLCJoZWFkZXJzR2V0dGVyIiwiaGVhZGVyc09iaiIsInRyYW5zZm9ybURhdGEiLCJkZWZhdWx0cyIsInRyYW5zZm9ybVJlc3BvbnNlIiwidHJhbnNmb3JtUmVxdWVzdCIsImQiLCJjb21tb24iLCJBY2NlcHQiLCJDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiIsInBhdGNoIiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsInBhcmFtU2VyaWFsaXplciIsInVzZUFwcGx5QXN5bmMiLCJ1c2VMZWdhY3lQcm9taXNlIiwidXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMiLCJpbnRlcmNlcHRvckZhY3RvcmllcyIsImludGVyY2VwdG9ycyIsInJlcXVlc3RDb25maWciLCJjaGFpbkludGVyY2VwdG9ycyIsInRoZW5GbiIsInJlamVjdEZuIiwiZXhlY3V0ZUhlYWRlckZucyIsImhlYWRlckNvbnRlbnQiLCJwcm9jZXNzZWRIZWFkZXJzIiwiaGVhZGVyRm4iLCJtZXJnZUhlYWRlcnMiLCJkZWZIZWFkZXJOYW1lIiwibG93ZXJjYXNlRGVmSGVhZGVyTmFtZSIsInJlcUhlYWRlck5hbWUiLCJkZWZIZWFkZXJzIiwicmVxSGVhZGVycyIsImRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uIiwic2VydmVyUmVxdWVzdCIsInJlcURhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZW5kUmVxIiwicmVzcCIsInJlcXVlc3RJbnRlcmNlcHRvcnMiLCJyZXNwb25zZUludGVyY2VwdG9ycyIsInJldmVyc2VkSW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwicmVxdWVzdEVycm9yIiwicmVzcG9uc2VFcnJvciIsIiRodHRwTWluRXJyTGVnYWN5Rm4iLCJjcmVhdGVTaG9ydE1ldGhvZHMiLCJjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSIsImNyZWF0ZUFwcGx5SGFuZGxlcnMiLCJldmVudEhhbmRsZXJzIiwiYXBwbHlIYW5kbGVycyIsImNhbGxFdmVudEhhbmRsZXIiLCIkYXBwbHlBc3luYyIsIiQkcGhhc2UiLCJoZWFkZXJzU3RyaW5nIiwicmVzb2x2ZUh0dHBQcm9taXNlIiwicmVzb2x2ZVByb21pc2UiLCJyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQiLCJyZW1vdmVQZW5kaW5nUmVxIiwicGVuZGluZ1JlcXVlc3RzIiwiY2FjaGVkUmVzcCIsImJ1aWxkVXJsIiwiZGVmYXVsdENhY2hlIiwieHNyZlZhbHVlIiwidXJsSXNTYW1lT3JpZ2luIiwidXBsb2FkRXZlbnRIYW5kbGVycyIsInNlcmlhbGl6ZWRQYXJhbXMiLCJpbnRlcmNlcHRvckZhY3RvcnkiLCJjcmVhdGVIdHRwQmFja2VuZCIsImNyZWF0ZVhociIsIiRicm93c2VyRGVmZXIiLCJyYXdEb2N1bWVudCIsImpzb25wUmVxIiwiY2FsbGJhY2tQYXRoIiwid2FzQ2FsbGVkIiwiYWRkRXZlbnRMaXN0ZW5lckZuIiwidGltZW91dFJlcXVlc3QiLCJqc29ucERvbmUiLCJjb21wbGV0ZVJlcXVlc3QiLCJjcmVhdGVDYWxsYmFjayIsImdldFJlc3BvbnNlIiwicmVtb3ZlQ2FsbGJhY2siLCJ1cmxSZXNvbHZlIiwidXBsb2FkIiwiZXNjYXBlIiwiY2giLCJ1bmVzY2FwZVRleHQiLCJlc2NhcGVkU3RhcnRSZWdleHAiLCJlc2NhcGVkRW5kUmVnZXhwIiwiY29uc3RhbnRXYXRjaERlbGVnYXRlIiwib2JqZWN0RXF1YWxpdHkiLCJjb25zdGFudEludGVycCIsInVud2F0Y2giLCJtdXN0SGF2ZUV4cHJlc3Npb24iLCJwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yIiwiZ2V0VmFsdWUiLCIkaW50ZXJwb2xhdGVNaW5FcnIiLCJpbnRlcnIiLCJ1bmVzY2FwZWRUZXh0IiwiZXhwIiwiJCR3YXRjaERlbGVnYXRlIiwiZW5kSW5kZXgiLCJwYXJzZUZucyIsInRleHRMZW5ndGgiLCJleHByZXNzaW9uUG9zaXRpb25zIiwic3RhcnRTeW1ib2xMZW5ndGgiLCJlbmRTeW1ib2xMZW5ndGgiLCJ0aHJvd05vY29uY2F0IiwiY29tcHV0ZSIsImdldFRydXN0ZWQiLCIkd2F0Y2hHcm91cCIsIm9sZFZhbHVlcyIsImN1cnJWYWx1ZSIsImludm9rZUFwcGx5IiwiaGFzUGFyYW1zIiwiaXRlcmF0aW9uIiwic2tpcEFwcGx5IiwiJCRpbnRlcnZhbElkIiwiaW50ZXJ2YWxzIiwiZW5jb2RlUGF0aCIsInNlZ21lbnRzIiwicGFyc2VBYnNvbHV0ZVVybCIsImFic29sdXRlVXJsIiwibG9jYXRpb25PYmoiLCJwYXJzZWRVcmwiLCIkJHByb3RvY29sIiwiJCRob3N0IiwiaG9zdG5hbWUiLCIkJHBvcnQiLCJwb3J0IiwiREVGQVVMVF9QT1JUUyIsInBhcnNlQXBwVXJsIiwicmVsYXRpdmVVcmwiLCJwcmVmaXhlZCIsIiQkcGF0aCIsInBhdGhuYW1lIiwiJCRzZWFyY2giLCJzZWFyY2giLCIkJGhhc2giLCJzdGFydHNXaXRoIiwiaGF5c3RhY2siLCJuZWVkbGUiLCJsYXN0SW5kZXhPZiIsInN0cmlwQmFzZVVybCIsInRyaW1FbXB0eUhhc2giLCJzdHJpcEZpbGUiLCJzZXJ2ZXJCYXNlIiwiTG9jYXRpb25IdG1sNVVybCIsImFwcEJhc2UiLCJhcHBCYXNlTm9GaWxlIiwiYmFzZVByZWZpeCIsIiQkaHRtbDUiLCIkJHBhcnNlIiwicGF0aFVybCIsIiRsb2NhdGlvbk1pbkVyciIsIiQkY29tcG9zZSIsIiQkdXJsIiwiJCRhYnNVcmwiLCIkJHBhcnNlTGlua1VybCIsInJlbEhyZWYiLCJhcHBVcmwiLCJwcmV2QXBwVXJsIiwicmV3cml0dGVuVXJsIiwiTG9jYXRpb25IYXNoYmFuZ1VybCIsImhhc2hQcmVmaXgiLCJyZW1vdmVXaW5kb3dzRHJpdmVOYW1lIiwiZmlyc3RQYXRoU2VnbWVudE1hdGNoIiwid2luZG93c0ZpbGVQYXRoRXhwIiwid2l0aG91dEhhc2hVcmwiLCJ3aXRob3V0QmFzZVVybCIsIkxvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIiwibG9jYXRpb25HZXR0ZXIiLCJsb2NhdGlvbkdldHRlclNldHRlciIsInByZXByb2Nlc3MiLCJodG1sNU1vZGUiLCJyZXF1aXJlQmFzZSIsInJld3JpdGVMaW5rcyIsInNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2siLCJvbGRVcmwiLCJvbGRTdGF0ZSIsIiQkc3RhdGUiLCJhZnRlckxvY2F0aW9uQ2hhbmdlIiwiJGJyb2FkY2FzdCIsImFic1VybCIsIkxvY2F0aW9uTW9kZSIsImluaXRpYWxVcmwiLCJJR05PUkVfVVJJX1JFR0VYUCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJhYnNIcmVmIiwiaW5pdGlhbGl6aW5nIiwibmV3VXJsIiwibmV3U3RhdGUiLCIkZGlnZXN0IiwiY3VycmVudFJlcGxhY2UiLCIkJHJlcGxhY2UiLCJ1cmxPclN0YXRlQ2hhbmdlZCIsImRlYnVnIiwiZGVidWdFbmFibGVkIiwiZm9ybWF0RXJyb3IiLCJzb3VyY2VVUkwiLCJjb25zb2xlTG9nIiwiY29uc29sZSIsImxvZ0ZuIiwibG9nIiwiaGFzQXBwbHkiLCJhcmcxIiwiYXJnMiIsIndhcm4iLCJlbnN1cmVTYWZlTWVtYmVyTmFtZSIsImZ1bGxFeHByZXNzaW9uIiwiJHBhcnNlTWluRXJyIiwiZ2V0U3RyaW5nVmFsdWUiLCJlbnN1cmVTYWZlT2JqZWN0IiwiZW5zdXJlU2FmZUZ1bmN0aW9uIiwiQ0FMTCIsIkFQUExZIiwiQklORCIsImVuc3VyZVNhZmVBc3NpZ25Db250ZXh0IiwiaWZEZWZpbmVkIiwicGx1c0ZuIiwiciIsImlzU3RhdGVsZXNzIiwiZmlsdGVyTmFtZSIsImZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMiLCJhc3QiLCJhbGxDb25zdGFudHMiLCJhcmdzVG9XYXRjaCIsIkFTVCIsIlByb2dyYW0iLCJMaXRlcmFsIiwidG9XYXRjaCIsIlVuYXJ5RXhwcmVzc2lvbiIsIkJpbmFyeUV4cHJlc3Npb24iLCJyaWdodCIsIkxvZ2ljYWxFeHByZXNzaW9uIiwiQ29uZGl0aW9uYWxFeHByZXNzaW9uIiwiYWx0ZXJuYXRlIiwiY29uc2VxdWVudCIsIklkZW50aWZpZXIiLCJNZW1iZXJFeHByZXNzaW9uIiwiQ2FsbEV4cHJlc3Npb24iLCJjYWxsZWUiLCJBc3NpZ25tZW50RXhwcmVzc2lvbiIsIkFycmF5RXhwcmVzc2lvbiIsIk9iamVjdEV4cHJlc3Npb24iLCJUaGlzRXhwcmVzc2lvbiIsIkxvY2Fsc0V4cHJlc3Npb24iLCJnZXRJbnB1dHMiLCJsYXN0RXhwcmVzc2lvbiIsImlzQXNzaWduYWJsZSIsImFzc2lnbmFibGVBU1QiLCJOR1ZhbHVlUGFyYW1ldGVyIiwiaXNMaXRlcmFsIiwiaXNDb25zdGFudCIsIkFTVENvbXBpbGVyIiwiYXN0QnVpbGRlciIsIkFTVEludGVycHJldGVyIiwiaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUiLCJnZXRWYWx1ZU9mIiwib2JqZWN0VmFsdWVPZiIsImlkZW50U3RhcnQiLCJpZGVudENvbnRpbnVlIiwiY2FjaGVEZWZhdWx0IiwiY2FjaGVFeHBlbnNpdmUiLCJsaXRlcmFscyIsInRydWUiLCJmYWxzZSIsIm51bGwiLCJhZGRMaXRlcmFsIiwibGl0ZXJhbE5hbWUiLCJsaXRlcmFsVmFsdWUiLCJzZXRJZGVudGlmaWVyRm5zIiwiaWRlbnRpZmllclN0YXJ0IiwiaWRlbnRpZmllckNvbnRpbnVlIiwiaW50ZXJjZXB0b3JGbiIsImV4cGVuc2l2ZUNoZWNrcyIsInBhcnNlZEV4cHJlc3Npb24iLCJvbmVUaW1lIiwiY2FjaGVLZXkiLCJydW5uaW5nQ2hlY2tzRW5hYmxlZCIsInBhcnNlT3B0aW9ucyIsIiRwYXJzZU9wdGlvbnNFeHBlbnNpdmUiLCIkcGFyc2VPcHRpb25zIiwibGV4ZXIiLCJMZXhlciIsInBhcnNlciIsIlBhcnNlciIsIm9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSIsIm9uZVRpbWVXYXRjaERlbGVnYXRlIiwiaW5wdXRzIiwiaW5wdXRzV2F0Y2hEZWxlZ2F0ZSIsImV4cGVuc2l2ZUNoZWNrc0ludGVyY2VwdG9yIiwiYWRkSW50ZXJjZXB0b3IiLCJleHBlbnNpdmVDaGVja0ZuIiwiZXhwZW5zaXZlQ2hlY2tPbGRWYWx1ZSIsImV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2siLCJvbGRWYWx1ZU9mVmFsdWUiLCJwcmV0dHlQcmludEV4cHJlc3Npb24iLCJsYXN0UmVzdWx0IiwiaW5wdXRFeHByZXNzaW9ucyIsIm9sZElucHV0VmFsdWVPZiIsIm5ld0lucHV0VmFsdWUiLCJvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMiLCJvbGRJbnB1dFZhbHVlcyIsImNoYW5nZWQiLCJpc0FsbERlZmluZWQiLCJhbGxEZWZpbmVkIiwid2F0Y2hEZWxlZ2F0ZSIsInVzZUlucHV0cyIsInJlZ3VsYXJXYXRjaCIsIm5vVW5zYWZlRXZhbCIsImlzSWRlbnRpZmllclN0YXJ0IiwiaXNJZGVudGlmaWVyQ29udGludWUiLCIkJHJ1bm5pbmdFeHBlbnNpdmVDaGVja3MiLCJxRmFjdG9yeSIsIm5leHRUaWNrIiwiZXhjZXB0aW9uSGFuZGxlciIsIlByb21pc2UiLCJzaW1wbGVCaW5kIiwicHJvY2Vzc1F1ZXVlIiwicGVuZGluZyIsInByb2Nlc3NTY2hlZHVsZWQiLCJzY2hlZHVsZVByb2Nlc3NRdWV1ZSIsInByb21pc2VzIiwiY291bnRlciIsInJhY2UiLCIkcU1pbkVyciIsIlR5cGVFcnJvciIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsInByb2dyZXNzQmFjayIsImNhdGNoIiwiZmluYWxseSIsImhhbmRsZUNhbGxiYWNrIiwiJCRyZWplY3QiLCIkJHJlc29sdmUiLCJ0aGF0IiwicmVqZWN0UHJvbWlzZSIsIm1ha2VQcm9taXNlIiwicmVzb2x2ZWQiLCJpc1Jlc29sdmVkIiwiY2FsbGJhY2tPdXRwdXQiLCJlcnJiYWNrIiwiJFEiLCJyZXNvbHZlciIsInJlc29sdmVGbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWZTdXBwb3J0ZWQiLCJyYWYiLCJzdXBwb3J0ZWQiLCJjcmVhdGVDaGlsZFNjb3BlQ2xhc3MiLCJDaGlsZFNjb3BlIiwiJCR3YXRjaGVycyIsIiQkbmV4dFNpYmxpbmciLCIkJGNoaWxkSGVhZCIsIiQkY2hpbGRUYWlsIiwiJCRsaXN0ZW5lcnMiLCIkJGxpc3RlbmVyQ291bnQiLCIkJHdhdGNoZXJzQ291bnQiLCIkaWQiLCIkJENoaWxkU2NvcGUiLCIkcm9vdFNjb3BlTWluRXJyIiwibGFzdERpcnR5V2F0Y2giLCJhcHBseUFzeW5jSWQiLCJkaWdlc3RUdGwiLCJkZXN0cm95Q2hpbGRTY29wZSIsIiRldmVudCIsImN1cnJlbnRTY29wZSIsImNsZWFuVXBTY29wZSIsIiQkcHJldlNpYmxpbmciLCIkcm9vdCIsIlNjb3BlIiwiYmVnaW5QaGFzZSIsInBoYXNlIiwiY2xlYXJQaGFzZSIsImluY3JlbWVudFdhdGNoZXJzQ291bnQiLCJkZWNyZW1lbnRMaXN0ZW5lckNvdW50IiwiaW5pdFdhdGNoVmFsIiwiZmx1c2hBcHBseUFzeW5jIiwiYXBwbHlBc3luY1F1ZXVlIiwic2NoZWR1bGVBcHBseUFzeW5jIiwiaXNvbGF0ZSIsImNoaWxkIiwid2F0Y2hFeHAiLCJ3YXRjaGVyIiwid2F0Y2hFeHByZXNzaW9ucyIsIndhdGNoR3JvdXBBY3Rpb24iLCJjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCIsImZpcnN0UnVuIiwibmV3VmFsdWVzIiwiZGVyZWdpc3RlckZucyIsInNob3VsZENhbGwiLCJ1bndhdGNoRm4iLCIkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IiLCJfdmFsdWUiLCJuZXdMZW5ndGgiLCJib3RoTmFOIiwibmV3SXRlbSIsIm9sZEl0ZW0iLCJpbnRlcm5hbEFycmF5Iiwib2xkTGVuZ3RoIiwiY2hhbmdlRGV0ZWN0ZWQiLCJpbnRlcm5hbE9iamVjdCIsIiR3YXRjaENvbGxlY3Rpb25BY3Rpb24iLCJpbml0UnVuIiwidmVyeU9sZFZhbHVlIiwidHJhY2tWZXJ5T2xkVmFsdWUiLCJjaGFuZ2VEZXRlY3RvciIsIndhdGNoIiwid2F0Y2hlcnMiLCJkaXJ0eSIsImxvZ0lkeCIsImFzeW5jVGFzayIsInR0bCIsIndhdGNoTG9nIiwiYXN5bmNRdWV1ZVBvc2l0aW9uIiwiYXN5bmNRdWV1ZSIsIiRldmFsIiwidHJhdmVyc2VTY29wZXNMb29wIiwicG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24iLCJwb3N0RGlnZXN0UXVldWUiLCJldmVudE5hbWUiLCIkYXBwbHlBc3luY0V4cHJlc3Npb24iLCJuYW1lZExpc3RlbmVycyIsImluZGV4T2ZMaXN0ZW5lciIsIiRlbWl0IiwidGFyZ2V0U2NvcGUiLCJsaXN0ZW5lckFyZ3MiLCIkJGFzeW5jUXVldWUiLCIkJHBvc3REaWdlc3RRdWV1ZSIsIiQkYXBwbHlBc3luY1F1ZXVlIiwidXJpIiwiaXNJbWFnZSIsIm5vcm1hbGl6ZWRWYWwiLCJyZWdleCIsImFkanVzdE1hdGNoZXIiLCIkc2NlTWluRXJyIiwiZXNjYXBlRm9yUmVnZXhwIiwiYWRqdXN0TWF0Y2hlcnMiLCJhZGp1c3RlZE1hdGNoZXJzIiwiU0NFX0NPTlRFWFRTIiwicmVzb3VyY2VVcmxXaGl0ZWxpc3QiLCJyZXNvdXJjZVVybEJsYWNrbGlzdCIsIm1hdGNoVXJsIiwiaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSIsImFsbG93ZWQiLCJnZW5lcmF0ZUhvbGRlclR5cGUiLCJCYXNlIiwiaG9sZGVyVHlwZSIsInRydXN0ZWRWYWx1ZSIsIiQkdW53cmFwVHJ1c3RlZFZhbHVlIiwidHJ1c3RBcyIsIkNvbnN0cnVjdG9yIiwiYnlUeXBlIiwibWF5YmVUcnVzdGVkIiwidHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSIsImh0bWxTYW5pdGl6ZXIiLCJDU1MiLCJVUkwiLCJKUyIsInNjZSIsImlzRW5hYmxlZCIsInBhcnNlQXMiLCJlbnVtVmFsdWUiLCJsTmFtZSIsInZlbmRvclByZWZpeCIsImV2ZW50U3VwcG9ydCIsImlzQ2hyb21lUGFja2FnZWRBcHAiLCJjaHJvbWUiLCJhcHAiLCJydW50aW1lIiwiaGFzSGlzdG9yeVB1c2hTdGF0ZSIsInB1c2hTdGF0ZSIsImFuZHJvaWQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJib3hlZSIsInZlbmRvclJlZ2V4IiwiYm9keVN0eWxlIiwidHJhbnNpdGlvbnMiLCJhbmltYXRpb25zIiwid2Via2l0VHJhbnNpdGlvbiIsIndlYmtpdEFuaW1hdGlvbiIsImhhc0V2ZW50IiwiZGl2RWxtIiwiaHR0cE9wdGlvbnMiLCJoYW5kbGVSZXF1ZXN0Rm4iLCJ0cGwiLCJpZ25vcmVSZXF1ZXN0RXJyb3IiLCJoYW5kbGVFcnJvciIsIiR0ZW1wbGF0ZVJlcXVlc3RNaW5FcnIiLCJ0b3RhbFBlbmRpbmdSZXF1ZXN0cyIsImdldFRydXN0ZWRSZXNvdXJjZVVybCIsInRyYW5zZm9ybWVyIiwidGVzdGFiaWxpdHkiLCJmaW5kQmluZGluZ3MiLCJvcHRfZXhhY3RNYXRjaCIsImRhdGFCaW5kaW5nIiwiYmluZGluZ05hbWUiLCJmaW5kTW9kZWxzIiwicHJlZml4ZXMiLCJhdHRyaWJ1dGVFcXVhbHMiLCJnZXRMb2NhdGlvbiIsInNldExvY2F0aW9uIiwid2hlblN0YWJsZSIsImRlZmVycmVkcyIsIiQkdGltZW91dElkIiwidXJsUGFyc2luZ05vZGUiLCJyZXF1ZXN0VXJsIiwib3JpZ2luVXJsIiwiJCRDb29raWVSZWFkZXIiLCJzYWZlRGVjb2RlVVJJQ29tcG9uZW50IiwibGFzdENvb2tpZXMiLCJsYXN0Q29va2llU3RyaW5nIiwiY29va2llQXJyYXkiLCJjb29raWUiLCJjdXJyZW50Q29va2llU3RyaW5nIiwiY3VycmVuY3lGaWx0ZXIiLCJkYXRlRmlsdGVyIiwiZmlsdGVyRmlsdGVyIiwianNvbkZpbHRlciIsImxpbWl0VG9GaWx0ZXIiLCJsb3dlcmNhc2VGaWx0ZXIiLCJudW1iZXJGaWx0ZXIiLCJvcmRlckJ5RmlsdGVyIiwidXBwZXJjYXNlRmlsdGVyIiwiY29tcGFyYXRvciIsImFueVByb3BlcnR5S2V5IiwicHJlZGljYXRlRm4iLCJtYXRjaEFnYWluc3RBbnlQcm9wIiwiZXhwcmVzc2lvblR5cGUiLCJnZXRUeXBlRm9yRmlsdGVyIiwiY3JlYXRlUHJlZGljYXRlRm4iLCJzaG91bGRNYXRjaFByaW1pdGl2ZXMiLCJhY3R1YWwiLCJleHBlY3RlZCIsImRlZXBDb21wYXJlIiwiZG9udE1hdGNoV2hvbGVPYmplY3QiLCJhY3R1YWxUeXBlIiwiZXhwZWN0ZWRUeXBlIiwiZXhwZWN0ZWRWYWwiLCJtYXRjaEFueVByb3BlcnR5IiwiYWN0dWFsVmFsIiwiJGxvY2FsZSIsImZvcm1hdHMiLCJOVU1CRVJfRk9STUFUUyIsImFtb3VudCIsImN1cnJlbmN5U3ltYm9sIiwiZnJhY3Rpb25TaXplIiwiQ1VSUkVOQ1lfU1lNIiwiUEFUVEVSTlMiLCJtYXhGcmFjIiwiZm9ybWF0TnVtYmVyIiwiR1JPVVBfU0VQIiwiREVDSU1BTF9TRVAiLCJudW1iZXIiLCJudW1TdHIiLCJkaWdpdHMiLCJudW1iZXJPZkludGVnZXJEaWdpdHMiLCJ6ZXJvcyIsImV4cG9uZW50IiwiWkVST19DSEFSIiwiTUFYX0RJR0lUUyIsInJvdW5kTnVtYmVyIiwicGFyc2VkTnVtYmVyIiwibWluRnJhYyIsImZyYWN0aW9uTGVuIiwibWluIiwicm91bmRBdCIsImRpZ2l0IiwiayIsImNhcnJ5IiwicmVkdWNlUmlnaHQiLCJncm91cFNlcCIsImRlY2ltYWxTZXAiLCJpc0luZmluaXR5IiwiaXNaZXJvIiwiYWJzIiwiZm9ybWF0dGVkVGV4dCIsImludGVnZXJMZW4iLCJkZWNpbWFscyIsInJlZHVjZSIsImxnU2l6ZSIsImdTaXplIiwibmVnUHJlIiwibmVnU3VmIiwicG9zUHJlIiwicG9zU3VmIiwicGFkTnVtYmVyIiwibmVnV3JhcCIsIm5lZyIsImRhdGVHZXR0ZXIiLCJkYXRlU3RyR2V0dGVyIiwic2hvcnRGb3JtIiwic3RhbmRBbG9uZSIsInByb3BQcmVmaXgiLCJ0aW1lWm9uZUdldHRlciIsInpvbmUiLCJwYWRkZWRab25lIiwiZ2V0Rmlyc3RUaHVyc2RheU9mWWVhciIsInllYXIiLCJkYXlPZldlZWtPbkZpcnN0IiwiZ2V0RGF5IiwiZ2V0VGh1cnNkYXlUaGlzV2VlayIsImRhdGV0aW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJ3ZWVrR2V0dGVyIiwiZmlyc3RUaHVycyIsInRoaXNUaHVycyIsInJvdW5kIiwiYW1wbUdldHRlciIsImdldEhvdXJzIiwiQU1QTVMiLCJlcmFHZXR0ZXIiLCJFUkFTIiwibG9uZ0VyYUdldHRlciIsIkVSQU5BTUVTIiwianNvblN0cmluZ1RvRGF0ZSIsIlJfSVNPODYwMV9TVFIiLCJ0ekhvdXIiLCJ0ek1pbiIsImRhdGVTZXR0ZXIiLCJzZXRVVENGdWxsWWVhciIsInNldEZ1bGxZZWFyIiwidGltZVNldHRlciIsInNldFVUQ0hvdXJzIiwic2V0SG91cnMiLCJtcyIsImZvcm1hdCIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJOVU1CRVJfU1RSSU5HIiwiREFURV9GT1JNQVRTX1NQTElUIiwiREFURV9GT1JNQVRTIiwic3BhY2luZyIsImxpbWl0IiwiYmVnaW4iLCJJbmZpbml0eSIsInNsaWNlRm4iLCJwcm9jZXNzUHJlZGljYXRlcyIsInNvcnRQcmVkaWNhdGVzIiwicHJlZGljYXRlIiwiZGVzY2VuZGluZyIsIm9iamVjdFZhbHVlIiwiZ2V0UHJlZGljYXRlVmFsdWUiLCJkZWZhdWx0Q29tcGFyZSIsInYxIiwidjIiLCJ0eXBlMSIsInR5cGUyIiwidmFsdWUxIiwidmFsdWUyIiwic29ydFByZWRpY2F0ZSIsInJldmVyc2VPcmRlciIsImNvbXBhcmVGbiIsImdldENvbXBhcmlzb25PYmplY3QiLCJ0aWVCcmVha2VyIiwicHJlZGljYXRlVmFsdWVzIiwicHJlZGljYXRlcyIsImRvQ29tcGFyaXNvbiIsImNvbXBhcmVWYWx1ZXMiLCJuZ0RpcmVjdGl2ZSIsIm51bGxGb3JtUmVuYW1lQ29udHJvbCIsImNvbnRyb2wiLCIkbmFtZSIsIkZvcm1Db250cm9sbGVyIiwiY29udHJvbHMiLCIkZXJyb3IiLCIkJHN1Y2Nlc3MiLCIkcGVuZGluZyIsIiRkaXJ0eSIsIiRwcmlzdGluZSIsIiR2YWxpZCIsIiRpbnZhbGlkIiwiJHN1Ym1pdHRlZCIsIiQkcGFyZW50Rm9ybSIsIm51bGxGb3JtQ3RybCIsIiRyb2xsYmFja1ZpZXdWYWx1ZSIsIiRjb21taXRWaWV3VmFsdWUiLCIkYWRkQ29udHJvbCIsIiQkcmVuYW1lQ29udHJvbCIsIm5ld05hbWUiLCJvbGROYW1lIiwiJHJlbW92ZUNvbnRyb2wiLCIkc2V0VmFsaWRpdHkiLCJhZGRTZXRWYWxpZGl0eU1ldGhvZCIsImN0cmwiLCJ1bnNldCIsIiRzZXREaXJ0eSIsIlBSSVNUSU5FX0NMQVNTIiwiRElSVFlfQ0xBU1MiLCIkc2V0UHJpc3RpbmUiLCJzZXRDbGFzcyIsIlNVQk1JVFRFRF9DTEFTUyIsIiRzZXRVbnRvdWNoZWQiLCIkc2V0U3VibWl0dGVkIiwic3RyaW5nQmFzZWRJbnB1dFR5cGUiLCIkZm9ybWF0dGVycyIsIiRpc0VtcHR5IiwidGV4dElucHV0VHlwZSIsImJhc2VJbnB1dFR5cGUiLCJjb21wb3NpbmciLCJldiIsIm5nVHJpbSIsIiR2aWV3VmFsdWUiLCIkJGhhc05hdGl2ZVZhbGlkYXRvcnMiLCIkc2V0Vmlld1ZhbHVlIiwiZGVmZXJMaXN0ZW5lciIsIm9yaWdWYWx1ZSIsIlBBUlRJQUxfVkFMSURBVElPTl9UWVBFUyIsIlBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMiLCJ2YWxpZGl0eSIsIlZBTElESVRZX1NUQVRFX1BST1BFUlRZIiwib3JpZ0JhZElucHV0IiwiYmFkSW5wdXQiLCJvcmlnVHlwZU1pc21hdGNoIiwidHlwZU1pc21hdGNoIiwiJHJlbmRlciIsIndlZWtQYXJzZXIiLCJpc29XZWVrIiwiZXhpc3RpbmdEYXRlIiwiV0VFS19SRUdFWFAiLCJ3ZWVrIiwiaG91cnMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYWRkRGF5cyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJOYU4iLCJjcmVhdGVEYXRlUGFyc2VyIiwibWFwcGluZyIsImlzbyIsIklTT19EQVRFX1JFR0VYUCIsInl5eXkiLCJNTSIsImRkIiwiSEgiLCJtbSIsInNzIiwic3NzIiwicGFydCIsImNyZWF0ZURhdGVJbnB1dFR5cGUiLCJwYXJzZURhdGUiLCJpc1ZhbGlkRGF0ZSIsInBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUiLCJiYWRJbnB1dENoZWNrZXIiLCJwcmV2aW91c0RhdGUiLCIkb3B0aW9ucyIsIiQkcGFyc2VyTmFtZSIsIiRwYXJzZXJzIiwicGFyc2VkRGF0ZSIsIm5nTW9kZWxNaW5FcnIiLCJuZ01pbiIsIm1pblZhbCIsIiR2YWxpZGF0b3JzIiwiJHZhbGlkYXRlIiwibmdNYXgiLCJtYXhWYWwiLCJuYXRpdmVWYWxpZGF0aW9uIiwibnVtYmVySW5wdXRUeXBlIiwiTlVNQkVSX1JFR0VYUCIsInVybElucHV0VHlwZSIsIm1vZGVsVmFsdWUiLCJ2aWV3VmFsdWUiLCJVUkxfUkVHRVhQIiwiZW1haWxJbnB1dFR5cGUiLCJlbWFpbCIsIkVNQUlMX1JFR0VYUCIsInJhZGlvSW5wdXRUeXBlIiwicGFyc2VDb25zdGFudEV4cHIiLCJwYXJzZUZuIiwiY2hlY2tib3hJbnB1dFR5cGUiLCJ0cnVlVmFsdWUiLCJuZ1RydWVWYWx1ZSIsImZhbHNlVmFsdWUiLCJuZ0ZhbHNlVmFsdWUiLCJjbGFzc0RpcmVjdGl2ZSIsImFycmF5RGlmZmVyZW5jZSIsImFycmF5Q2xhc3NlcyIsImFkZENsYXNzZXMiLCJkaWdlc3RDbGFzc0NvdW50cyIsInJlbW92ZUNsYXNzZXMiLCJjbGFzc0NvdW50cyIsImNsYXNzZXNUb1VwZGF0ZSIsInVwZGF0ZUNsYXNzZXMiLCJuZ0NsYXNzV2F0Y2hBY3Rpb24iLCIkaW5kZXgiLCJvbGQkaW5kZXgiLCJtb2QiLCJzZXRWYWxpZGl0eSIsInZhbGlkYXRpb25FcnJvcktleSIsImNyZWF0ZUFuZFNldCIsInVuc2V0QW5kQ2xlYW51cCIsImNhY2hlZFRvZ2dsZUNsYXNzIiwiUEVORElOR19DTEFTUyIsInRvZ2dsZVZhbGlkYXRpb25Dc3MiLCJpc09iamVjdEVtcHR5IiwiY29tYmluZWRTdGF0ZSIsInN3aXRjaFZhbHVlIiwiaXNWYWxpZCIsIlZBTElEX0NMQVNTIiwiSU5WQUxJRF9DTEFTUyIsImNocm9tZUhhY2siLCJvcHRpb25FbGVtZW50IiwiUkVHRVhfU1RSSU5HX1JFR0VYUCIsIm1hbnVhbExvd2VyY2FzZSIsImNoYXJDb2RlQXQiLCJtYW51YWxVcHBlcmNhc2UiLCJkb2N1bWVudE1vZGUiLCJydWxlcyIsIm5nQ3NwRWxlbWVudCIsIm5nQ3NwQXR0cmlidXRlIiwibm9JbmxpbmVTdHlsZSIsIm5hbWVfIiwiTk9ERV9UWVBFX0FUVFJJQlVURSIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwiZG90IiwiY29kZU5hbWUiLCJOb2RlIiwibG93ZXJjYXNlZE5hbWUiLCJnZXROYW1lZEl0ZW0iLCIkZHYiLCJtdWx0aXBsZSIsIm5vZGVDb3VudCIsImFkZEhhbmRsZXIiLCJub0V2ZW50TGlzdGVuZXIiLCJvbkZuIiwicmVwbGFjZU5vZGUiLCJ3cmFwTm9kZSIsIm5ld0VsZW1lbnQiLCJjb25kaXRpb24iLCJjbGFzc0NvbmRpdGlvbiIsIm5leHRFbGVtZW50U2libGluZyIsImV4dHJhUGFyYW1ldGVycyIsImR1bW15RXZlbnQiLCJldmVudEZuc0NvcHkiLCJoYW5kbGVyQXJncyIsImFyZzMiLCIkYW5pbWF0ZU1pbkVyciIsIk5HX0FOSU1BVEVfQ0xBU1NOQU1FIiwicG9zdERpZ2VzdEVsZW1lbnRzIiwidXBkYXRlRGF0YSIsImhhbmRsZUNTU0NsYXNzQ2hhbmdlcyIsImV4aXN0aW5nIiwiYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QiLCJjbGFzc2VzQWRkZWQiLCJjbGFzc2VzUmVtb3ZlZCIsInBpbiIsImRvbU9wZXJhdGlvbiIsImZyb20iLCJydW5uZXIiLCIkJHJlZ2lzdGVyZWRBbmltYXRpb25zIiwiY2xhc3NOYW1lRmlsdGVyIiwiJCRjbGFzc05hbWVGaWx0ZXIiLCJyZXNlcnZlZFJlZ2V4IiwiZG9tSW5zZXJ0IiwiYWZ0ZXJFbGVtZW50IiwiYWZ0ZXJOb2RlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImVudGVyIiwibW92ZSIsImxlYXZlIiwiYWRkY2xhc3MiLCJ0ZW1wQ2xhc3NlcyIsIndhaXRGb3JUaWNrIiwid2FpdFF1ZXVlIiwicGFzc2VkIiwiQW5pbWF0ZVJ1bm5lciIsInNldEhvc3QiLCJyYWZUaWNrIiwidGltZW91dFRpY2siLCJfZG9uZUNhbGxiYWNrcyIsIl90aWNrIiwiX3N0YXRlIiwiSU5JVElBTF9TVEFURSIsIkRPTkVfUEVORElOR19TVEFURSIsIkRPTkVfQ09NUExFVEVfU1RBVEUiLCJjaGFpbiIsInJ1bm5lcnMiLCJvblByb2dyZXNzIiwiZ2V0UHJvbWlzZSIsInJlc29sdmVIYW5kbGVyIiwicmVqZWN0SGFuZGxlciIsInBhdXNlIiwicmVzdW1lIiwiX3Jlc29sdmUiLCJpbml0aWFsT3B0aW9ucyIsImFwcGx5QW5pbWF0aW9uQ29udGVudHMiLCJjbG9zZWQiLCIkJHByZXBhcmVkIiwiY2xlYW51cFN0eWxlcyIsImlzRmlyc3RDaGFuZ2UiLCJDb250ZW50LVR5cGUiLCJbIiwieyIsIiRodHRwTWluRXJyIiwiY2FsbGJhY2tJZCIsImNhbGxlZCIsImNhbGxiYWNrTWFwIiwiUEFUSF9NQVRDSCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImxvY2F0aW9uUHJvdG90eXBlIiwicGFyYW1WYWx1ZSIsIkxvY2F0aW9uIiwiT1BFUkFUT1JTIiwiRVNDQVBFIiwiZiIsIiciLCJcIiIsImxleCIsInJlYWRTdHJpbmciLCJwZWVrIiwicmVhZE51bWJlciIsInBlZWtNdWx0aWNoYXIiLCJyZWFkSWRlbnQiLCJpc1doaXRlc3BhY2UiLCJjaDIiLCJjaDMiLCJvcDEiLCJvcDIiLCJvcDMiLCJ0aHJvd0Vycm9yIiwiY2hhcnMiLCJjb2RlUG9pbnRBdCIsImlzVmFsaWRJZGVudGlmaWVyU3RhcnQiLCJpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlIiwiY3AiLCJjcDEiLCJjcDIiLCJpc0V4cE9wZXJhdG9yIiwiY29sU3RyIiwicGVla0NoIiwicXVvdGUiLCJyYXdTdHJpbmciLCJoZXgiLCJyZXAiLCJFeHByZXNzaW9uU3RhdGVtZW50IiwiUHJvcGVydHkiLCJwcm9ncmFtIiwiZXhwcmVzc2lvblN0YXRlbWVudCIsImV4cGVjdCIsImZpbHRlckNoYWluIiwiYXNzaWdubWVudCIsInRlcm5hcnkiLCJsb2dpY2FsT1IiLCJjb25zdW1lIiwibG9naWNhbEFORCIsImVxdWFsaXR5IiwicmVsYXRpb25hbCIsImFkZGl0aXZlIiwibXVsdGlwbGljYXRpdmUiLCJ1bmFyeSIsInByaW1hcnkiLCJhcnJheURlY2xhcmF0aW9uIiwic2VsZlJlZmVyZW50aWFsIiwicGFyc2VBcmd1bWVudHMiLCJiYXNlRXhwcmVzc2lvbiIsInBlZWtUb2tlbiIsImtpbmQiLCJlMSIsImUyIiwiZTMiLCJlNCIsInBlZWtBaGVhZCIsIiRsb2NhbHMiLCJuZXh0SWQiLCJ2YXJzIiwib3duIiwiYXNzaWduYWJsZSIsInN0YWdlIiwiY29tcHV0aW5nIiwicmVjdXJzZSIsInJldHVybl8iLCJnZW5lcmF0ZUZ1bmN0aW9uIiwiZm5LZXkiLCJpbnRvSWQiLCJ3YXRjaElkIiwiZm5TdHJpbmciLCJVU0UiLCJTVFJJQ1QiLCJmaWx0ZXJQcmVmaXgiLCJ3YXRjaEZucyIsInZhcnNQcmVmaXgiLCJzZWN0aW9uIiwibmFtZUlkIiwicmVjdXJzaW9uRm4iLCJza2lwV2F0Y2hJZENoZWNrIiwiaWZfIiwibGF6eUFzc2lnbiIsImNvbXB1dGVkTWVtYmVyIiwibGF6eVJlY3Vyc2UiLCJwbHVzIiwiZ2V0SGFzT3duUHJvcGVydHkiLCJub25Db21wdXRlZE1lbWJlciIsImFkZEVuc3VyZVNhZmVPYmplY3QiLCJub3ROdWxsIiwiYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQiLCJhZGRFbnN1cmVTYWZlTWVtYmVyTmFtZSIsImFkZEVuc3VyZVNhZmVGdW5jdGlvbiIsIm1lbWJlciIsIlNBRkVfSURFTlRJRklFUiIsIlVOU0FGRV9DSEFSQUNURVJTIiwic3RyaW5nRXNjYXBlRm4iLCJzdHJpbmdFc2NhcGVSZWdleCIsImMiLCJza2lwIiwicmhzIiwibGhzIiwidW5hcnkrIiwidW5hcnktIiwidW5hcnkhIiwiYmluYXJ5KyIsImJpbmFyeS0iLCJiaW5hcnkqIiwiYmluYXJ5LyIsImJpbmFyeSUiLCJiaW5hcnk9PT0iLCJiaW5hcnkhPT0iLCJiaW5hcnk9PSIsImJpbmFyeSE9IiwiYmluYXJ5PCIsImJpbmFyeT4iLCJiaW5hcnk8PSIsImJpbmFyeT49IiwiYmluYXJ5JiYiLCJiaW5hcnl8fCIsInRlcm5hcnk/OiIsImFzdENvbXBpbGVyIiwieXkiLCJ5IiwiTU1NTSIsIk1NTSIsIk0iLCJMTExMIiwiSCIsImhoIiwiRUVFRSIsIkVFRSIsIloiLCJ3dyIsIkciLCJHRyIsIkdHRyIsIkdHR0ciLCJ4bGlua0hyZWYiLCJkZWZhdWx0TGlua0ZuIiwibm9ybWFsaXplZCIsImh0bWxBdHRyIiwiZm9ybURpcmVjdGl2ZUZhY3RvcnkiLCJpc05nRm9ybSIsImdldFNldHRlciIsImZvcm1FbGVtZW50IiwibmFtZUF0dHIiLCJjdHJscyIsImhhbmRsZUZvcm1TdWJtaXNzaW9uIiwicGFyZW50Rm9ybUN0cmwiLCJEQVRFX1JFR0VYUCIsIkRBVEVUSU1FTE9DQUxfUkVHRVhQIiwiTU9OVEhfUkVHRVhQIiwiVElNRV9SRUdFWFAiLCJpbnB1dFR5cGUiLCJkYXRldGltZS1sb2NhbCIsIm1vbnRoIiwiQ09OU1RBTlRfVkFMVUVfUkVHRVhQIiwidHBsQXR0ciIsIiRjb21waWxlIiwidGVtcGxhdGVFbGVtZW50IiwibmdCaW5kSHRtbEdldHRlciIsIm5nQmluZEh0bWxXYXRjaCIsImdldFRydXN0ZWRIdG1sIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJmb3JjZUFzeW5jRXZlbnRzIiwicHJldmlvdXNFbGVtZW50cyIsInNyY0V4cCIsIm9ubG9hZEV4cCIsImF1dG9TY3JvbGxFeHAiLCJhdXRvc2Nyb2xsIiwicHJldmlvdXNFbGVtZW50IiwiY3VycmVudEVsZW1lbnQiLCJjaGFuZ2VDb3VudGVyIiwiY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCIsImFmdGVyQW5pbWF0aW9uIiwidGhpc0NoYW5nZUlkIiwidHJpbVZhbHVlcyIsIlVOVE9VQ0hFRF9DTEFTUyIsIlRPVUNIRURfQ0xBU1MiLCJFTVBUWV9DTEFTUyIsIk5PVF9FTVBUWV9DTEFTUyIsIk5nTW9kZWxDb250cm9sbGVyIiwiJG1vZGVsVmFsdWUiLCIkJHJhd01vZGVsVmFsdWUiLCIkYXN5bmNWYWxpZGF0b3JzIiwiJHVudG91Y2hlZCIsIiR0b3VjaGVkIiwicGFyc2VyVmFsaWQiLCJwYXJzZWROZ01vZGVsIiwicGFyc2VkTmdNb2RlbEFzc2lnbiIsIm5nTW9kZWxHZXQiLCJuZ01vZGVsU2V0IiwicGVuZGluZ0RlYm91bmNlIiwiJCRzZXRPcHRpb25zIiwiZ2V0dGVyU2V0dGVyIiwiaW52b2tlTW9kZWxHZXR0ZXIiLCJpbnZva2VNb2RlbFNldHRlciIsIiQkJHAiLCIkJHVwZGF0ZUVtcHR5Q2xhc3NlcyIsImN1cnJlbnRWYWxpZGF0aW9uUnVuSWQiLCIkc2V0VG91Y2hlZCIsIiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSIsInByZXZWYWxpZCIsInByZXZNb2RlbFZhbHVlIiwiYWxsb3dJbnZhbGlkIiwiJCRydW5WYWxpZGF0b3JzIiwiYWxsVmFsaWQiLCIkJHdyaXRlTW9kZWxUb1Njb3BlIiwiZG9uZUNhbGxiYWNrIiwicHJvY2Vzc1BhcnNlRXJyb3JzIiwiZXJyb3JLZXkiLCJwcm9jZXNzU3luY1ZhbGlkYXRvcnMiLCJzeW5jVmFsaWRhdG9yc1ZhbGlkIiwidmFsaWRhdG9yIiwicHJvY2Vzc0FzeW5jVmFsaWRhdG9ycyIsInZhbGlkYXRvclByb21pc2VzIiwidmFsaWRhdGlvbkRvbmUiLCJsb2NhbFZhbGlkYXRpb25SdW5JZCIsIiQkcGFyc2VBbmRWYWxpZGF0ZSIsIndyaXRlVG9Nb2RlbElmTmVlZGVkIiwidXBkYXRlT25EZWZhdWx0IiwiJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCIsImRlYm91bmNlIiwiZGVib3VuY2VEZWxheSIsImZvcm1hdHRlcnMiLCJtb2RlbEN0cmwiLCJmb3JtQ3RybCIsInVwZGF0ZU9uIiwiREVGQVVMVF9SRUdFWFAiLCJuZ09wdGlvbnNNaW5FcnIiLCJOR19PUFRJT05TX1JFR0VYUCIsInBhcnNlT3B0aW9uc0V4cHJlc3Npb24iLCJvcHRpb25zRXhwIiwic2VsZWN0RWxlbWVudCIsIk9wdGlvbiIsInNlbGVjdFZhbHVlIiwibGFiZWwiLCJncm91cCIsImdldE9wdGlvblZhbHVlc0tleXMiLCJvcHRpb25WYWx1ZXMiLCJvcHRpb25WYWx1ZXNLZXlzIiwia2V5TmFtZSIsIml0ZW1LZXkiLCJ2YWx1ZU5hbWUiLCJzZWxlY3RBcyIsInRyYWNrQnkiLCJzZWxlY3RBc0ZuIiwidmlld1ZhbHVlRm4iLCJ0cmFja0J5Rm4iLCJnZXRUcmFja0J5VmFsdWVGbiIsImdldFRyYWNrQnlWYWx1ZSIsImdldExvY2FscyIsImRpc3BsYXlGbiIsImdyb3VwQnlGbiIsImRpc2FibGVXaGVuRm4iLCJ2YWx1ZXNGbiIsImdldFdhdGNoYWJsZXMiLCJ3YXRjaGVkQXJyYXkiLCJvcHRpb25WYWx1ZXNMZW5ndGgiLCJkaXNhYmxlV2hlbiIsImdldE9wdGlvbnMiLCJvcHRpb25JdGVtcyIsInNlbGVjdFZhbHVlTWFwIiwib3B0aW9uSXRlbSIsImdldE9wdGlvbkZyb21WaWV3VmFsdWUiLCJnZXRWaWV3VmFsdWVGcm9tT3B0aW9uIiwibmdPcHRpb25zUG9zdExpbmsiLCJhZGRPcHRpb25FbGVtZW50Iiwib3B0aW9uVGVtcGxhdGUiLCJ1cGRhdGVPcHRpb25FbGVtZW50IiwidXBkYXRlT3B0aW9ucyIsInNlbGVjdEN0cmwiLCJyZWFkVmFsdWUiLCJncm91cEVsZW1lbnRNYXAiLCJwcm92aWRlZEVtcHR5T3B0aW9uIiwiZW1wdHlPcHRpb24iLCJncm91cEVsZW1lbnQiLCJvcHRHcm91cFRlbXBsYXRlIiwibGlzdEZyYWdtZW50IiwibmdNb2RlbEN0cmwiLCJuZXh0VmFsdWUiLCJpc05vdFByaW1pdGl2ZSIsInVua25vd25PcHRpb24iLCJyZW5kZXJFbXB0eU9wdGlvbiIsInJlbW92ZUVtcHR5T3B0aW9uIiwicmVuZGVyVW5rbm93bk9wdGlvbiIsInJlbW92ZVVua25vd25PcHRpb24iLCJ3cml0ZVZhbHVlIiwic2VsZWN0ZWRWYWx1ZXMiLCJzZWxlY3Rpb25zIiwic2VsZWN0ZWRPcHRpb24iLCJyZWdpc3Rlck9wdGlvbiIsIkJSQUNFIiwiSVNfV0hFTiIsInVwZGF0ZUVsZW1lbnRUZXh0IiwibmV3VGV4dCIsImxhc3RDb3VudCIsIm51bWJlckV4cCIsIndoZW5FeHAiLCJ3aGVucyIsIndoZW5zRXhwRm5zIiwiYnJhY2VSZXBsYWNlbWVudCIsIndhdGNoUmVtb3ZlciIsImF0dHJpYnV0ZU5hbWUiLCJ0bXBNYXRjaCIsIndoZW5LZXkiLCJjb3VudElzTmFOIiwicGx1cmFsQ2F0Iiwid2hlbkV4cEZuIiwiTkdfUkVNT1ZFRCIsIm5nUmVwZWF0TWluRXJyIiwidXBkYXRlU2NvcGUiLCJ2YWx1ZUlkZW50aWZpZXIiLCJrZXlJZGVudGlmaWVyIiwiYXJyYXlMZW5ndGgiLCIkZmlyc3QiLCIkbGFzdCIsIiRtaWRkbGUiLCIkb2RkIiwiJGV2ZW4iLCJnZXRCbG9ja1N0YXJ0IiwiZ2V0QmxvY2tFbmQiLCJuZ1JlcGVhdEVuZENvbW1lbnQiLCJhbGlhc0FzIiwidHJhY2tCeUV4cCIsInRyYWNrQnlFeHBHZXR0ZXIiLCJ0cmFja0J5SWRFeHBGbiIsInRyYWNrQnlJZEFycmF5Rm4iLCJ0cmFja0J5SWRPYmpGbiIsImhhc2hGbkxvY2FscyIsImxhc3RCbG9ja01hcCIsIm5leHROb2RlIiwiY29sbGVjdGlvbkxlbmd0aCIsInRyYWNrQnlJZCIsInRyYWNrQnlJZEZuIiwiY29sbGVjdGlvbktleXMiLCJuZXh0QmxvY2tPcmRlciIsInByZXZpb3VzTm9kZSIsIm5leHRCbG9ja01hcCIsImJsb2NrS2V5IiwiTkdfSElERV9DTEFTUyIsIk5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1MiLCJuZXdTdHlsZXMiLCJvbGRTdHlsZXMiLCJjYXNlcyIsIm5nU3dpdGNoQ29udHJvbGxlciIsIndhdGNoRXhwciIsInNlbGVjdGVkVHJhbnNjbHVkZXMiLCJzZWxlY3RlZEVsZW1lbnRzIiwicHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMiLCJzZWxlY3RlZFNjb3BlcyIsInNwbGljZUZhY3RvcnkiLCJzZWxlY3RlZFRyYW5zY2x1ZGUiLCJjYXNlRWxlbWVudCIsInNlbGVjdGVkU2NvcGUiLCJhbmNob3IiLCJuZ1RyYW5zY2x1ZGVNaW5FcnIiLCJmYWxsYmFja0xpbmtGbiIsIm5nVHJhbnNjbHVkZUNsb25lQXR0YWNoRm4iLCJ1c2VGYWxsYmFja0NvbnRlbnQiLCJuZ1RyYW5zY2x1ZGVTbG90Iiwibm9vcE5nTW9kZWxDb250cm9sbGVyIiwiU2VsZWN0Q29udHJvbGxlciIsIm9wdGlvbnNNYXAiLCJ1bmtub3duVmFsIiwiaGFzT3B0aW9uIiwiYWRkT3B0aW9uIiwicmVtb3ZlT3B0aW9uIiwib3B0aW9uU2NvcGUiLCJvcHRpb25BdHRycyIsImludGVycG9sYXRlVmFsdWVGbiIsImludGVycG9sYXRlVGV4dEZuIiwic2VsZWN0UHJlTGluayIsImxhc3RWaWV3IiwibGFzdFZpZXdSZWYiLCJzZWxlY3RQb3N0TGluayIsInNlbGVjdEN0cmxOYW1lIiwicGF0dGVybkV4cCIsImludFZhbCIsImdldERlY2ltYWxzIiwiZ2V0VkYiLCJvcHRfcHJlY2lzaW9uIiwicG93IiwiUExVUkFMX0NBVEVHT1JZIiwiWkVSTyIsIk9ORSIsIlRXTyIsIkZFVyIsIk1BTlkiLCJPVEhFUiIsIkRBWSIsIkZJUlNUREFZT0ZXRUVLIiwiTU9OVEgiLCJTSE9SVERBWSIsIlNIT1JUTU9OVEgiLCJTVEFOREFMT05FTU9OVEgiLCJXRUVLRU5EUkFOR0UiLCJmdWxsRGF0ZSIsImxvbmdEYXRlIiwibWVkaXVtIiwibWVkaXVtRGF0ZSIsIm1lZGl1bVRpbWUiLCJzaG9ydCIsInNob3J0RGF0ZSIsInNob3J0VGltZSIsIm1pbkludCIsImxvY2FsZUlEIiwidmYiLCIkJENvb2tpZVdyaXRlciIsImJ1aWxkQ29va2llU3RyaW5nIiwiZXhwaXJlcyIsImNvb2tpZVBhdGgiLCJkb21haW4iLCJ0b1VUQ1N0cmluZyIsInNlY3VyZSIsImNvb2tpZUxlbmd0aCIsImNhbGNPcHRpb25zIiwiJCRjb29raWVXcml0ZXIiLCJnZXRPYmplY3QiLCJwdXRPYmplY3QiLCIkY29va2llcyIsIiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlciIsImZpbGVzIiwibWVyZ2VkRGF0YSIsImRpc3BsYXlOYW1lIiwiJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5IiwiJGNvb2tpZVN0b3JlIiwiJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UiLCIkdHJhbnNsYXRlTG9jYWxTdG9yYWdlRmFjdG9yeSIsImxvY2FsU3RvcmFnZUFkYXB0ZXIiLCJsYW5nS2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0IiwidGVzdEtleSIsInJlbW92ZUl0ZW0iLCIkdHJhbnNsYXRlTG9jYWxTdG9yYWdlIiwicnVuVHJhbnNsYXRlIiwiJHRyYW5zbGF0ZSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2UiLCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIiLCIkc2FuaXRpemUiLCJzdHJhdGVnaWVzIiwiY3VycmVudFN0cmF0ZWd5IiwiaGFzQ29uZmlndXJlZFN0cmF0ZWd5IiwiaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmciLCJzYW5pdGl6ZSIsImh0bWxTYW5pdGl6ZVZhbHVlIiwiaHRtbEVzY2FwZVZhbHVlIiwic2FuaXRpemVQYXJhbWV0ZXJzIiwibWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnMiLCJlc2NhcGVQYXJhbWV0ZXJzIiwiYWRkU3RyYXRlZ3kiLCJzdHJhdGVneU5hbWUiLCJzdHJhdGVneUZ1bmN0aW9uIiwicmVtb3ZlU3RyYXRlZ3kiLCJ1c2VTdHJhdGVneSIsInN0cmF0ZWd5IiwiY2FjaGVkU3RyYXRlZ3lNYXAiLCJhcHBseVN0cmF0ZWdpZXMiLCJzZWxlY3RlZFN0cmF0ZWdpZXMiLCJzZWxlY3RlZFN0cmF0ZWd5Iiwic2hvd05vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyIsIml0ZXJhdGVlIiwicHJvcGVydHlWYWx1ZSIsInByb3BlcnR5S2V5IiwiJFNUT1JBR0VfS0VZIiwiJHdpbmRvd1Byb3ZpZGVyIiwicGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsInBvc3RQcm9jZXNzRm4iLCIkdHJhbnNsYXRpb25UYWJsZSIsIiRhdmFpbGFibGVMYW5ndWFnZUtleXMiLCIkc3RvcmFnZUtleSIsIiRpbnRlcnBvbGF0b3JGYWN0b3JpZXMiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCIkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQiLCIkbmVzdGVkT2JqZWN0RGVsaW1ldGVyIiwiJGlzUmVhZHkiLCIka2VlcENvbnRlbnQiLCJkaXJlY3RpdmVQcmlvcml0eSIsInN0YXRlZnVsRmlsdGVyIiwidW5pZm9ybUxhbmd1YWdlVGFnUmVzb2x2ZXIiLCJsYW5ndWFnZVRhZ1Jlc29sdmVyIiwiZGVmYXVsdCIsImphdmEiLCJiY3A0NyIsImlzbzYzOS0xIiwiZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UiLCJnZXRMb2NhbGUiLCJsYW5ndWFnZSIsIm5hdiIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImxhbmd1YWdlcyIsImxvY2FsZSIsInNlYXJjaEVsZW1lbnQiLCJuZWdvdGlhdGVMb2NhbGUiLCJhdmFpbCIsImFsaWFzIiwibGFuZ0tleUFsaWFzIiwiaGFzV2lsZGNhcmRLZXkiLCJoYXNFeGFjdEtleSIsInRyYW5zbGF0aW9ucyIsInRyYW5zbGF0aW9uVGFibGUiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuZXN0ZWRPYmplY3REZWxpbWV0ZXIiLCJkZWxpbWl0ZXIiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJrZXlXaXRoU2hvcnRQYXRoIiwiYWRkSW50ZXJwb2xhdGlvbiIsInVzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uIiwidXNlSW50ZXJwb2xhdGlvbiIsInVzZVNhbml0aXplVmFsdWVTdHJhdGVneSIsInNldHVwUHJlZmVycmVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yIiwiaW5kaWNhdG9yIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJmYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tTdGFjayIsInJlc29sdmVDbGllbnRMb2NhbGUiLCJ1c2VVcmxMb2FkZXIiLCJ1c2VMb2FkZXIiLCJ1c2VTdGF0aWNGaWxlc0xvYWRlciIsImxvYWRlckZhY3RvcnkiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJ1c2VTdG9yYWdlIiwidXNlQ29va2llU3RvcmFnZSIsInN0b3JhZ2VGYWN0b3J5Iiwic3RvcmFnZVByZWZpeCIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2ciLCJ1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIiwidXNlUG9zdENvbXBpbGluZyIsImZvcmNlQXN5bmNSZWxvYWQiLCJ1bmlmb3JtTGFuZ3VhZ2VUYWciLCJzdGFuZGFyZCIsImRldGVybWluZVByZWZlcnJlZExhbmd1YWdlIiwicmVnaXN0ZXJBdmFpbGFibGVMYW5ndWFnZUtleXMiLCJsYW5ndWFnZUtleXMiLCJhbGlhc2VzIiwidXNlTG9hZGVyQ2FjaGUiLCJwb3N0UHJvY2VzcyIsImtlZXBDb250ZW50IiwiU3RvcmFnZSIsImZhbGxiYWNrSW5kZXgiLCJzdGFydEZhbGxiYWNrSXRlcmF0aW9uIiwiZGVmYXVsdEludGVycG9sYXRvciIsInBlbmRpbmdMb2FkZXIiLCJpbnRlcnBvbGF0b3JIYXNoTWFwIiwibGFuZ1Byb21pc2VzIiwidHJhbnNsYXRpb25JZCIsImludGVycG9sYXRlUGFyYW1zIiwiaW50ZXJwb2xhdGlvbklkIiwiZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCIsImZvcmNlTGFuZ3VhZ2UiLCJ1c2VzIiwibG9hZFRyYW5zbGF0aW9uc0lmTWlzc2luZyIsInRyYW5zbGF0ZUFsbCIsInRyYW5zbGF0aW9uSWRzIiwidHJhbnNsYXRlIiwicmVnYXJkbGVzcyIsInByb21pc2VUb1dhaXRGb3IiLCJwcm9taXNlUmVzb2x2ZWQiLCJkZXRlcm1pbmVUcmFuc2xhdGlvbiIsImFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzIiwidXNlTGFuZ3VhZ2UiLCJzZXRMb2NhbGUiLCJlYWNoSW50ZXJwb2xhdG9yIiwiaW50ZXJwb2xhdG9yIiwibG9hZEFzeW5jIiwibG9hZGVyT3B0aW9ucyIsIm9uTG9hZGVyU3VjY2VzcyIsInRhYmxlIiwib25Mb2FkZXJFcnJvciIsImVhY2hJbnRlcnBvbGF0aW9uRmFjdG9yeSIsImludGVycG9sYXRvckZhY3RvcnkiLCJnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciIsImdldFRyYW5zbGF0aW9uVGFibGUiLCJvblJlc29sdmUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uIiwiSW50ZXJwb2xhdG9yIiwidHJhbnNsYXRpb24iLCJpbnRlcnBvbGF0ZWRWYWx1ZSIsImludGVycG9sYXRlIiwiYXBwbHlQb3N0UHJvY2Vzc2luZyIsImdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50IiwidHJhbnNsYXRlQnlIYW5kbGVyIiwicmVzdWx0U3RyaW5nIiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja0xhbmd1YWdlSW5kZXgiLCJyZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQiLCJmYWxsYmFja1RyYW5zbGF0aW9uIiwiZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCJyZXNvbHZlZFRyYW5zbGF0aW9uIiwibWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uIiwiX3RyYW5zbGF0aW9uSWQiLCJkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQiLCJjbGVhck5leHRMYW5nQW5kUHJvbWlzZSIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCIsImlzRm9yY2VBc3luY1JlbG9hZEVuYWJsZWQiLCJpc0tlZXBDb250ZW50Iiwib25lVHJhbnNsYXRpb25zTG9hZGVkIiwidGFibGVzIiwibG9hZGluZ0tleXMiLCJhbGxUcmFuc2xhdGlvbnNMb2FkZWQiLCJ0YWJsZURhdGEiLCJpbnN0YW50IiwicG9zc2libGVMYW5nS2V5cyIsInBvc3NpYmxlTGFuZ0tleSIsInZlcnNpb25JbmZvIiwiJG9uUmVhZHlEZWZlcnJlZCIsIm9uUmVhZHkiLCJnZXRBdmFpbGFibGVMYW5ndWFnZUtleXMiLCJnbG9iYWxPblJlYWR5TGlzdGVuZXIiLCJnbG9iYWxPbkNoYW5nZUxpc3RlbmVyIiwicHJvY2Vzc0FzeW5jUmVzdWx0IiwiZmFsbGJhY2tMYW5ndWFnZUlkIiwiJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uIiwiJHRyYW5zbGF0ZVNhbml0aXphdGlvbiIsIiR0cmFuc2xhdGVJbnRlcnBvbGF0b3IiLCIkaWRlbnRpZmllciIsImludGVycG9sYXRpb25QYXJhbXMiLCJpbnRlcnBvbGF0ZWRUZXh0IiwidHJhbnNsYXRlRGlyZWN0aXZlIiwidEF0dHIiLCJ0cmFuc2xhdGVWYWx1ZXNFeGlzdCIsInRyYW5zbGF0ZVZhbHVlcyIsInRyYW5zbGF0ZUludGVycG9sYXRpb24iLCJ0cmFuc2xhdGVWYWx1ZUV4aXN0Iiwib3V0ZXJIVE1MIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJ3YXRjaGVyUmVnRXhwIiwiaUVsZW1lbnQiLCJpQXR0ciIsInByZVRleHQiLCJwb3N0VGV4dCIsInRyYW5zbGF0ZU5hbWVzcGFjZSIsImdldFRyYW5zbGF0ZU5hbWVzcGFjZSIsImluaXRJbnRlcnBvbGF0aW9uUGFyYW1zIiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsIl91bndhdGNoT2xkIiwiaUVsZW1lbnRUZXh0IiwiaW50ZXJwb2xhdGVNYXRjaGVzIiwid2F0Y2hlck1hdGNoZXMiLCJ1cGRhdGVUcmFuc2xhdGlvbnMiLCJvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24iLCJ0cmFuc2xhdGVBdHRyIiwiZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQiLCJkZWZhdWx0VGV4dCIsIm9ic2VydmVWYWx1ZUF0dHJpYnV0ZSIsInVwZGF0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlTGFuZ3VhZ2UiLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsInRyYW5zbGF0ZUtlZXBDb250ZW50IiwiZ2xvYmFsbHlFbmFibGVkIiwibG9jYWxseURlZmluZWQiLCJ0cmFuc2xhdGVDb21waWxlIiwibG9jYWxseUVuYWJsZWQiLCJ0cmFuc2xhdGVEZWZhdWx0IiwidW5iaW5kVHJhbnNsYXRlTGFuZ3VhZ2UiLCJ0cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZSIsImFwcGx5Q2xvYWsiLCJyZW1vdmVDbG9hayIsInRyYW5zbGF0ZUNsb2FrIiwidHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlIiwiaUF0dHJzIiwidHJhbnNsYXRlTGFuZ3VhZ2VEaXJlY3RpdmUiLCJuZXdUcmFuc2xhdGVMYW5ndWFnZSIsInRyYW5zbGF0ZUZpbHRlckZhY3RvcnkiLCJ0cmFuc2xhdGVGaWx0ZXIiLCJpbnRlcnBvbGF0aW9uIiwiJHRyYW5zbGF0aW9uQ2FjaGUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwibG9hZGVkIiwiX19leHBvcnQiLCJyb3V0ZXJfMSIsIlVJUm91dGVyIiwiYmluZEZ1bmN0aW9ucyIsImJpbmRUbyIsImZuTmFtZXMiLCJkZWZhdWx0c0xpc3QiLCJfaSIsInBpY2siLCJhbmNlc3RvcnMiLCJlcXVhbEZvcktleXMiLCJwaWNrT21pdEltcGwiLCJvYmpDb3B5IiwicmVzdEFyZ3MiLCJvbWl0IiwiaG9mXzEiLCJwbHVjayIsInByZWRpY2F0ZXNfMSIsImFjY2VwdCIsIngiLCJwdXNoUiIsImFzc2VydFByZWRpY2F0ZSIsImVyck1zZyIsImFycmF5VHVwbGVzIiwiYXJyYXlBcmdzIiwiYXBwbHlQYWlycyIsIm1lbW8iLCJrZXlWYWxUdXBsZSIsInRhaWwiLCJfY29weSIsIl9mb3JFYWNoIiwiY2IiLCJfdGhpcyIsIl9jb3B5UHJvcHMiLCJfZXh0ZW5kIiwidG9PYmoiLCJyZXN0IiwiX2VxdWFscyIsInR1cCIsIl9hcnJheXNFcSIsImFueSIsImExIiwiYTIiLCJhYnN0cmFjdEtleSIsInJlbW92ZUZyb20iLCJjdXJyeSIsIm1lcmdlUiIsIm1hcE9iaiIsImFsbFRydWVSIiwiYW55VHJ1ZVIiLCJ1bm5lc3RSIiwiZmxhdHRlblIiLCJ1bm5lc3QiLCJmbGF0dGVuIiwicGFpcnMiLCJpc0luamVjdGFibGUiLCJ0b1N0ciIsInRpcyIsImlzTnVsbCIsIm8iLCJpc1Byb21pc2UiLCJhbmQiLCJjdXJyaWVkIiwiZnVuY19hcmdzX2xlbmd0aCIsImluaXRpYWxfYXJncyIsImNvbXBvc2UiLCJmdW5jcyIsImZuMSIsImZuMiIsIm9yIiwiZm5OYW1lIiwic3RydWN0IiwicHJvcEVxIiwibm9uZSIsIm90aGVyIiwibm90SW1wbGVtZW50ZWQiLCJmbm5hbWUiLCJzZXJ2aWNlcyIsImxvY2F0aW9uQ29uZmlnIiwiR2xvYiIsImdsb2IiLCJmcm9tU3RyaW5nIiwiUXVldWUiLCJfaXRlbXMiLCJfbGltaXQiLCJlbnF1ZXVlIiwiY2xlYXIiLCJwZWVrVGFpbCIsInBlZWtIZWFkIiwibWF4TGVuZ3RoIiwicGFkU3RyaW5nIiwicHJvbWlzZVRvU3RyaW5nIiwicmVqZWN0RmFjdG9yeV8xIiwiVHJhbnNpdGlvblJlamVjdGlvbiIsImZ1bmN0aW9uVG9TdHJpbmciLCJmblN0ciIsImZuVG9TdHJpbmciLCJuYW1lZEZ1bmN0aW9uTWF0Y2giLCJfZm4iLCJzdHJpbmdpZnlQYXR0ZXJuIiwiY29tbW9uXzEiLCJ0cmFuc2l0aW9uXzEiLCJyZXNvbHZhYmxlXzEiLCJrZWJvYlN0cmluZyIsIiQxIiwiVHJhbnNpdGlvbiIsIlJlc29sdmFibGUiLCJjb3Jlc2VydmljZXNfMSIsInN0cmluZ3NfMSIsIlJlamVjdFR5cGUiLCJkZXRhaWwiLCJkZXRhaWxTdHJpbmciLCJSZWplY3RGYWN0b3J5Iiwic3VwZXJzZWRlZCIsIlNVUEVSU0VERUQiLCJyZWRpcmVjdGVkIiwiaW52YWxpZCIsIklOVkFMSUQiLCJJR05PUkVEIiwiYWJvcnRlZCIsIkFCT1JURUQiLCJ0cmFjZV8xIiwibW9kdWxlXzEiLCJub2RlXzEiLCJwYXRoRmFjdG9yeV8xIiwibW9kdWxlXzIiLCJtb2R1bGVfMyIsIm1vZHVsZV80IiwidHJhbnNpdGlvbkNvdW50IiwiUkVKRUNUIiwic3RhdGVTZWxmIiwiZnJvbVBhdGgiLCJ0YXJnZXRTdGF0ZSIsIl90cmFuc2l0aW9uU2VydmljZSIsIl9kZWZlcnJlZCIsInRyZWVDaGFuZ2VzIiwiX3RyZWVDaGFuZ2VzIiwiaXNBY3RpdmUiLCJfb3B0aW9ucyIsInZhbGlkIiwiSG9va1JlZ2lzdHJ5IiwibWl4aW4iLCJ0b1BhdGgiLCJQYXRoRmFjdG9yeSIsImJ1aWxkVG9QYXRoIiwiYXBwbHlWaWV3Q29uZmlncyIsIiR2aWV3IiwicmVsb2FkU3RhdGUiLCJiaW5kVHJhbnNpdGlvblJlc29sdmUiLCIkZnJvbSIsIiR0byIsIm1hdGNoU3RhdGUiLCJyZXNvbHZlcyIsInJlc29sdmVDb250ZXh0IiwiZ2V0UmVzb2x2YWJsZXMiLCJyZXMiLCJhZGRSZXNvbHZlcyIsInN0YXRlTmFtZSIsInRvcGF0aCIsInRhcmdldE5vZGUiLCJhZGRSZXNvbHZhYmxlcyIsIm1ha2VSZXNvbHZhYmxlcyIsImVudGVyaW5nIiwiZXhpdGluZyIsInJldGFpbmVkIiwidmlld3MiLCJyZWRpcmVjdCIsIm5ld09wdGlvbnMiLCJUYXJnZXRTdGF0ZSIsIiRzdGF0ZSIsInJlZGlyZWN0VG8iLCJyZWRpcmVjdGVkUGF0aCIsImNvcHlSZXNvbHZlc0ZvciIsIm1hdGNoaW5nIiwiaW5jbHVkZXMiLCJpbmNsdWRlUmVzb2x2ZSIsIl9jaGFuZ2VkUGFyYW1zIiwiX2EiLCJub2RlU2NoZW1hcyIsInBhcmFtU2NoZW1hIiwiX2IiLCJwYXJhbVZhbHVlcyIsInRvVmFsdWVzIiwiZnJvbVZhbHVlcyIsInNjaGVtYSIsInRvVmFscyIsImZyb21WYWxzIiwiUGFyYW0iLCJkeW5hbWljIiwiaG9va0J1aWxkZXIiLCJIb29rQnVpbGRlciIsInRyYW5zaXRpb24iLCJydW5TeW5jaHJvbm91c0hvb2tzIiwiVHJhbnNpdGlvbkhvb2siLCJydW5TdWNjZXNzSG9va3MiLCJnZXRPblN1Y2Nlc3NIb29rcyIsInJ1bkVycm9ySG9va3MiLCIkZXJyb3IkIiwiZ2V0T25FcnJvckhvb2tzIiwic3luY1Jlc3VsdCIsImdldE9uQmVmb3JlSG9va3MiLCJpc1JlamVjdGlvbiIsInJlamVjdFJlYXNvbiIsInRyYWNlIiwidHJhY2VUcmFuc2l0aW9uSWdub3JlZCIsInRyYWNlU3VjY2VzcyIsInRyYWNlRXJyb3IiLCJ0cmFjZVRyYW5zaXRpb25TdGFydCIsImFzeW5jSG9va3MiLCJfY2hhaW4iLCJpbnZva2VTdGVwIiwidmFsaWRhdGVzIiwicGFyYW1ldGVycyIsImZyb21TdGF0ZU9yTmFtZSIsInRvU3RhdGVPck5hbWUiLCJhdm9pZEVtcHR5SGFzaCIsImZyb21QYXJhbXMiLCJ0b1ZhbGlkIiwidG9QYXJhbXMiLCJ1aVZpZXdTdHJpbmciLCJ2aWV3RGF0YSIsImNyZWF0aW9uQ29udGV4dCIsImZxbiIsIm5vcm1hbGl6ZWRDYXQiLCJDYXRlZ29yeSIsInZpZXdDb25maWdTdHJpbmciLCJ2aWV3Q29uZmlnIiwidmlld0RlY2wiLCIkdWlWaWV3TmFtZSIsIiR1aVZpZXdDb250ZXh0QW5jaG9yIiwiJGNvbnRleHQiLCJUcmFjZSIsIl9lbmFibGVkIiwiYXBwcm94aW1hdGVEaWdlc3RzIiwiX3NldCIsImNhdGVnb3JpZXMiLCJjYXRlZ29yeSIsImVuYWJsZSIsIlRSQU5TSVRJT04iLCJ0aWQiLCJkaWdlc3QiLCJ0cmFuc2l0aW9uU3RyIiwidHJhY2VIb29rSW52b2NhdGlvbiIsIkhPT0siLCJ0cmFjZUhvb2tSZXN1bHQiLCJob29rUmVzdWx0IiwidHJhbnNpdGlvblJlc3VsdCIsInRyYW5zaXRpb25PcHRpb25zIiwiaG9va1Jlc3VsdFN0ciIsInRyYW5zaXRpb25SZXN1bHRTdHIiLCJ0cmFjZVJlc29sdmVQYXRoIiwiUkVTT0xWRSIsInBhdGhTdHIiLCJwb2xpY3lTdHIiLCJyZXNvbHZlUG9saWN5IiwidHJhY2VSZXNvbHZlUGF0aEVsZW1lbnQiLCJwYXRoRWxlbWVudCIsInJlc29sdmFibGVQcm9taXNlcyIsInJlc29sdmFibGVQcm9taXNlc1N0ciIsInBhdGhFbGVtZW50U3RyIiwidHJhY2VSZXNvbHZlUmVzb2x2YWJsZSIsInJlc29sdmFibGUiLCJyZXNvbHZhYmxlU3RyIiwidHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQiLCJ0cmFjZVBhdGhFbGVtZW50SW52b2tlIiwiZGVwcyIsIklOVk9LRSIsImZpbmFsU3RhdGUiLCJ0cmFjZVVpVmlld0V2ZW50IiwiVUlWSUVXIiwidHJhY2VVaVZpZXdDb25maWdVcGRhdGVkIiwidHJhY2VVaVZpZXdTY29wZUNyZWF0ZWQiLCJ0cmFjZVVpVmlld0ZpbGwiLCJ0cmFjZVZpZXdTZXJ2aWNlRXZlbnQiLCJWSUVXQ09ORklHIiwidHJhY2VWaWV3U2VydmljZVVpVmlld0V2ZW50IiwidHVwbGVTb3J0IiwicmV2ZXJzZURlcHRoU29ydCIsImZhY3RvciIsImRlcHRoRGVsdGEiLCJob29rIiwiJHRyYW5zaXRpb25zIiwiYmFzZUhvb2tPcHRpb25zIiwiX2J1aWxkTm9kZUhvb2tzIiwiZ2V0T25TdGFydEhvb2tzIiwiZ2V0T25FeGl0SG9va3MiLCIkc3RhdGUkIiwiZ2V0T25SZXRhaW5Ib29rcyIsImdldE9uRW50ZXJIb29rcyIsImdldE9uRmluaXNoSG9va3MiLCIkdHJlZUNoYW5nZXMkIiwicmVqZWN0SWZTdXBlcnNlZGVkIiwidG9TdGF0ZSIsImZyb21TdGF0ZSIsIm9uU3RhcnRIb29rcyIsIm9uRXhpdEhvb2tzIiwib25SZXRhaW5Ib29rcyIsIm9uRW50ZXJIb29rcyIsIm9uRmluaXNoSG9va3MiLCJob29rVHlwZSIsIm1hdGNoaW5nTm9kZXNQcm9wIiwic29ydEhvb2tzRm4iLCJtYXRjaGluZ0hvb2tzIiwiX21hdGNoaW5nSG9va3MiLCJtYWtlVHJhbnNpdGlvbkhvb2tzIiwidHJhY2VEYXRhIiwidHJhbnNpdGlvbkhvb2siLCJob29rTmFtZSIsInJlZyIsImdldEhvb2tzIiwiY3JpdGVyaW9uIiwibWF0Y2hHbG9icyIsImdsb2JTdHJpbmdzIiwidG9NYXRjaCIsImdsb2JfMSIsIm1hdGNoRm4iLCJtYWtlSG9va1JlZ2lzdHJhdGlvbkZuIiwibWF0Y2hPYmplY3QiLCJldmVudEhvb2siLCJFdmVudEhvb2siLCJtYXRjaENyaXRlcmlhIiwiX21hdGNoaW5nTm9kZXMiLCJtYyIsImFsbE1hdGNoZWQiLCJfdHJhbnNpdGlvbkV2ZW50cyIsIm9uQmVmb3JlIiwib25TdGFydCIsIm9uRW50ZXIiLCJvblJldGFpbiIsIm9uRXhpdCIsIm9uRmluaXNoIiwib25TdWNjZXNzIiwib25FcnJvciIsImRlZmF1bHRPcHRpb25zIiwiaXNTdXBlcnNlZGVkIiwibWFwSG9va1Jlc3VsdCIsImhhbmRsZUhvb2tSZXN1bHQiLCJtb3JlTG9jYWxzIiwiaW52b2tlTm93Iiwic3dhbGxvd0V4Y2VwdGlvbnMiLCJyZWplY3Rpb25zIiwiU3RhdGVQcm92aWRlciIsInN0YXRlUmVnaXN0cnkiLCJpbnZhbGlkQ2FsbGJhY2tzIiwib25JbnZhbGlkIiwicGFyc2VVcmwiLCJTdGF0ZUJ1aWxkZXIiLCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlciIsImlzUm9vdCIsImJ1aWxkZXJzIiwicGFyZW50TmFtZSIsInN0YXRlRGVjIiwicGFyYW1NYXAiLCJwYXJhbUNvbmZpZyIsImlzU2VhcmNoIiwicmVsb2FkT25TZWFyY2giLCJpc01hdGNoZXIiLCJuYXZpZ2FibGUiLCJtYWtlQ29uZmlnUGFyYW0iLCJmcm9tQ29uZmlnIiwidXJsUGFyYW1zIiwibm9uVXJsUGFyYW1zIiwiYnVpbGRlciIsImJ1aWxkIiwicGFyZW50Rm4iLCJ1bndyYXBTaG9ydGhhbmQiLCJjZmciLCJpc1Nob3J0aGFuZCIsIiQkZm4iLCJnZXRUeXBlIiwidXJsVHlwZSIsInBhcmFtVHlwZXNfMSIsInBhcmFtVHlwZXMiLCJ0eXBlXzEiLCJEZWZUeXBlIiwiQ09ORklHIiwiZ2V0U3F1YXNoUG9saWN5IiwiaXNPcHRpb25hbCIsInNxdWFzaCIsInVybE1hdGNoZXJDb25maWdfMSIsIm1hdGNoZXJDb25maWciLCJkZWZhdWx0U3F1YXNoUG9saWN5IiwiZ2V0UmVwbGFjZSIsImFycmF5TW9kZSIsImNvbmZpZ3VyZWRLZXlzIiwiZGVmYXVsdFBvbGljeSIsImdldEFycmF5TW9kZSIsImFycmF5RGVmYXVsdHMiLCJTRUFSQ0giLCJhcnJheVBhcmFtTm9tZW5jbGF0dXJlIiwiJGFzQXJyYXkiLCJpc0RlZmF1bHRWYWx1ZSIsIiQkZ2V0RGVmYXVsdFZhbHVlIiwiJHJlcGxhY2UiLCJyZXBsYWNlbWVudCIsImVuY29kZWQiLCJlbmNvZGUiLCJQQVRIIiwiZnJvbVNlYXJjaCIsInZhbHVlczEiLCJ2YWx1ZXMyIiwiTWF0Y2hlckNvbmZpZyIsIl9pc0Nhc2VJbnNlbnNpdGl2ZSIsIl9pc1N0cmljdE1vZGUiLCJfZGVmYXVsdFNxdWFzaFBvbGljeSIsImNhc2VJbnNlbnNpdGl2ZSIsInN0cmljdE1vZGUiLCJBcnJheVR5cGUiLCJhcnJheVdyYXAiLCJhcnJheVVud3JhcCIsImFycmF5SGFuZGxlciIsImFsbFRydXRoeU1vZGUiLCJhcnJheUVxdWFsc0hhbmRsZXIiLCJ2YWwxIiwidmFsMiIsIiRhcnJheU1vZGUiLCJkZWYiLCJkZWNvZGUiLCIkc3ViUGF0dGVybiIsInN1YiIsInZhbFRvU3RyaW5nIiwidmFsRnJvbVN0cmluZyIsIlBhcmFtVHlwZXMiLCJ0eXBlUXVldWUiLCJkZWZhdWx0VHlwZXMiLCJpbnQiLCJCb29sZWFuIiwiY2FwdHVyZSIsImFjYyIsIm1ha2VUeXBlIiwiZGVmaW5pdGlvbkZuIiwiX2ZsdXNoVHlwZVF1ZXVlIiwiU3RhdGVQYXJhbXMiLCIkaW5oZXJpdCIsIm5ld1BhcmFtcyIsIiRjdXJyZW50IiwicGFyZW50UGFyYW1zIiwiaW5oZXJpdGVkIiwiaW5oZXJpdExpc3QiLCJwYXJhbV8xIiwidGFyZ2V0U3RhdGVfMSIsInZpZXdIb29rc18xIiwiZW50ZXJFeGl0SG9va3NfMSIsInJlc29sdmVIb29rc18xIiwiVHJhbnNpdGlvbk1hbmFnZXIiLCIkdXJsUm91dGVyIiwidmlld0hvb2tzIiwiVmlld0hvb2tzIiwiZW50ZXJFeGl0SG9va3MiLCJFbnRlckV4aXRIb29rcyIsInJlc29sdmVIb29rcyIsIlJlc29sdmVIb29rcyIsInJlZ2lzdGVyVXBkYXRlR2xvYmFsU3RhdGUiLCJyZWdpc3Rlckhvb2tzIiwicnVuVHJhbnNpdGlvbiIsInRyYW5zaXRpb25IaXN0b3J5IiwidHJhbnMiLCJ0cmFuc1JlamVjdGVkIiwidXBkYXRlVXJsIiwiX3JlZGlyZWN0TWdyIiwidXBkYXRlIiwiZGVmYXVsdEVycm9ySGFuZGxlciIsIl9pZGVudGlmaWVyIiwiX2RlZmluaXRpb24iLCJfcGFyYW1zIiwiZXhpc3RzIiwiZW50ZXJpbmdWaWV3cyIsImV4aXRpbmdWaWV3cyIsImxvYWRBbGxFbnRlcmluZ1ZpZXdzIiwidXBkYXRlVmlld3MiLCJkZWFjdGl2YXRlVmlld0NvbmZpZyIsImFjdGl2YXRlVmlld0NvbmZpZyIsInN5bmMiLCJyZWdpc3Rlck9uRW50ZXJIb29rcyIsInJlZ2lzdGVyT25SZXRhaW5Ib29rcyIsInJlZ2lzdGVyT25FeGl0SG9va3MiLCJpbnRlcmZhY2VfMSIsImhvZl8yIiwiTEFaWSIsIlJlc29sdmVQb2xpY3kiLCJFQUdFUiIsIiRlYWdlclJlc29sdmVQYXRoIiwiJHRyYW5zaXRpb24kIiwicmVzb2x2ZVBhdGgiLCIkbGF6eVJlc29sdmVFbnRlcmluZ1N0YXRlIiwiJHJlc29sdmUkIiwicmVzb2x2ZVBhdGhFbGVtZW50IiwicmVzb2x2ZVJlc29sdmFibGUiLCJwcmVSZXNvbHZlZERhdGEiLCJhbmNlc3RvcnNCeU5hbWUiLCJvbWl0T3duTG9jYWxzIiwiZGVwUmVzb2x2YWJsZXMiLCJkZXBQcm9taXNlcyIsIlN0YXRlIiwicmVmIiwicGFyYW1ldGVyIiwiU3RhdGVNYXRjaGVyIiwiX3N0YXRlcyIsImlzUmVsYXRpdmUiLCJzdGF0ZU9yTmFtZSIsImlzU3RyIiwiYmFzZVN0YXRlIiwic3BsaXROYW1lIiwicGF0aExlbmd0aCIsInJlbE5hbWUiLCJTdGF0ZVF1ZXVlTWFuYWdlciIsInN0YXRlcyIsIiR1cmxSb3V0ZXJQcm92aWRlciIsImZsdXNoIiwib3JwaGFuSWR4IiwicHJldmlvdXNRdWV1ZUxlbmd0aCIsImF0dGFjaFJvdXRlIiwiYXV0b0ZsdXNoIiwiJG1hdGNoIiwiJHN0YXRlUGFyYW1zIiwidHJhbnNpdGlvblRvIiwic3RhdGVNYXRjaGVyXzEiLCJzdGF0ZUJ1aWxkZXJfMSIsInN0YXRlUXVldWVNYW5hZ2VyXzEiLCJTdGF0ZVJlZ2lzdHJ5IiwidXJsTWF0Y2hlckZhY3RvcnkiLCJ1cmxSb3V0ZXJQcm92aWRlciIsInN0YXRlUXVldWUiLCJyb290U3RhdGVEZWYiLCIjIiwiYWJzdHJhY3QiLCJfcm9vdCIsInN0YXRlRGVmaW5pdGlvbiIsImZvdW5kIiwicXVldWVfMSIsInRyYW5zaXRpb25TZXJ2aWNlXzEiLCJ0cmFuc2l0aW9uTWFuYWdlcl8xIiwiY29tbW9uXzIiLCJjb21tb25fMyIsIlN0YXRlU2VydmljZSIsInN0YXRlUHJvdmlkZXIiLCJyZWplY3RGYWN0b3J5IiwiZ2V0dGVycyIsImJvdW5kRm5zIiwiZW51bWVyYWJsZSIsIl9oYW5kbGVJbnZhbGlkVGFyZ2V0U3RhdGUiLCIkdG8kIiwiaW52b2tlTmV4dENhbGxiYWNrIiwibmV4dENhbGxiYWNrIiwiY2FsbGJhY2tRdWV1ZSIsImludm9rZUNhbGxiYWNrIiwiY2hlY2tGb3JSZWRpcmVjdCIsImxhdGVzdFRoaW5nIiwibGF0ZXN0IiwiJGZyb20kIiwibWFrZVRhcmdldFN0YXRlIiwiZ28iLCJkZWZhdXRHb09wdHMiLCJ0cmFuc09wdHMiLCJkZWZhdWx0VHJhbnNPcHRzIiwidHJhbnNIaXN0b3J5IiwibGF0ZXN0U3VjY2VzcyIsInN1Y2Nlc3NmdWxUcmFuc2l0aW9ucyIsInJvb3RQYXRoIiwiYmluZFRyYW5zTm9kZXNUb1BhdGgiLCJjdXJyZW50UGF0aCIsInRNZ3IiLCJ0cmFuc2l0aW9uUHJvbWlzZSIsImluY2x1ZGUiLCJkZWZhdWx0SHJlZk9wdHMiLCJsb3NzeSIsImFic29sdXRlIiwiYnVpbGRQYXRoIiwiYXBwbHlSYXdQYXJhbXMiLCJpbmhlcml0UGFyYW1zIiwiY3JlYXRlVmlld0NvbmZpZyIsInRvS2V5cyIsIm5vZGVQYXJhbVZhbHMiLCJtYWtlSW5oZXJpdGVkUGFyYW1zTm9kZSIsIl9mcm9tUGF0aCIsIl90b0tleXMiLCJ0b05vZGUiLCJ0b1BhcmFtVmFscyIsImluY29taW5nUGFyYW1WYWxzIiwiZnJvbVBhcmFtVmFscyIsIm93blBhcmFtVmFscyIsIlJlc29sdmVDb250ZXh0IiwiaXNvbGF0ZVJvb3RUbyIsInJlc29sdmVJbmplY3RvciIsIlJlc29sdmVJbmplY3RvciIsImFwcGx5VG9QYXJhbXMiLCJyZXRhaW5lZE5vZGUiLCJjbG9uZWQiLCJrZWVwIiwic3RhdGljUGFyYW1zIiwibm9kZXNNYXRjaCIsIm5vZGUxIiwibm9kZTIiLCJyZXRhaW5lZFdpdGhUb1BhcmFtcyIsImVudGVyaW5nUmVzb2x2ZVBhdGgiLCJ0b1Jlc29sdmVQYXRoIiwicm9vdE5vZGUiLCJzdWJQYXRoIiwiX25vZGUiLCJlbGVtZW50SWR4IiwiZ2V0UGFyYW1WYWwiLCJwYXJhbURlZiIsInBEZWYiLCJwYXJhbVZhbHNFcSIsImdldFBvbGljeSIsInN0YXRlUmVzb2x2ZVBvbGljeUNvbmYiLCJzdGF0ZUxldmVsUG9saWN5IiwicmVzb2x2ZUxldmVsUG9saWNpZXMiLCJwb2xpY3lOYW1lIiwiZGVmYXVsdFJlc29sdmVQb2xpY3kiLCJfcGF0aCIsIl9ub2RlRm9yIiwiX3BhdGhUbyIsIm9taXRQcm9wcyIsImZpbHRlcmVkUmVzb2x2YWJsZXMiLCJnZXRSZXNvbHZhYmxlc0ZvckZuIiwicmVzb2x2YWJsZXMiLCJnZXRPd25SZXNvbHZhYmxlcyIsInByb21pc2VGb3JOb2RlIiwicG9saWN5IiwicG9saWN5T3JkaW5hbCIsIm1hdGNoZXNSZXF1ZXN0ZWRQb2xpY3kiLCJtYXRjaGluZ1Jlc29sdmVzIiwiZ2V0UmVzb2x2ZVByb21pc2UiLCJyZXNvbHZlZExvY2FscyIsIl9yZXNvbHZlQ29udGV4dCIsImluamVjdGVkRm4iLCJob29rUmVnaXN0cnlfMSIsImN1c3RvbSIsIlRyYW5zaXRpb25TZXJ2aWNlIiwiX2RlZmF1bHRFcnJvckhhbmRsZXIiLCJxdW90ZVJlZ0V4cCIsInN1cnJvdW5kUGF0dGVybiIsInByZWRpY2F0ZXNfMiIsIm1lbW9pemVUbyIsIlVybE1hdGNoZXIiLCJfY2FjaGUiLCJfY2hpbGRyZW4iLCJfc2VnbWVudHMiLCJfY29tcGlsZWQiLCJzdHJpY3QiLCJzZWdtZW50IiwicGxhY2Vob2xkZXIiLCJzZWFyY2hQbGFjZWhvbGRlciIsInBhdHRlcm5zIiwiY2hlY2tQYXJhbUVycm9ycyIsIm5hbWVWYWxpZGF0b3IiLCJtYXRjaERldGFpbHMiLCJmcmVlemUiLCJkZWNvZGVQYXRoQXJyYXkiLCJyZXZlcnNlU3RyaW5nIiwidW5xdW90ZURhc2hlcyIsImFsbFJldmVyc2VkIiwiYWxsUGFyYW1zIiwicGF0aFBhcmFtcyIsInNlYXJjaFBhcmFtcyIsIm5QYXRoU2VnbWVudHMiLCJ1cmxtIiwidmFsaWRQYXJhbVZhbCIsImdldERldGFpbHMiLCJ1cmxNYXRjaGVycyIsInBhdGhTZWdtZW50c0FuZFBhcmFtcyIsInF1ZXJ5UGFyYW1zIiwicGF0aFN0cmluZyIsImVuY29kZURhc2hlcyIsInF1ZXJ5U3RyaW5nIiwic3RhdGljU2VnbWVudHMiLCJnZXREZWZhdWx0Q29uZmlnIiwiVXJsTWF0Y2hlckZhY3RvcnkiLCJyZWdFeHBQcmVmaXgiLCJoYW5kbGVJZk1hdGNoIiwiYXBwZW5kQmFzZVBhdGgiLCJpc0h0bWw1Iiwib3RoZXJ3aXNlRm4iLCJydWxlIiwiaGFuZGxlZCIsIlVybFJvdXRlclByb3ZpZGVyIiwiJHVybE1hdGNoZXJGYWN0b3J5IiwiaW50ZXJjZXB0RGVmZXJyZWQiLCJvdGhlcndpc2UiLCJoYW5kbGVySXNTdHJpbmciLCJfd2hhdCIsIl9oYW5kbGVyIiwic3RpY2t5IiwiZGVmZXJJbnRlcmNlcHQiLCJVcmxSb3V0ZXIiLCJsaXN0ZW4iLCJvbkNoYW5nZSIsInJlYWQiLCJ1cmxNYXRjaGVyIiwic2xhc2giLCJWaWV3U2VydmljZSIsInVpVmlld3MiLCJ2aWV3Q29uZmlncyIsIl92aWV3Q29uZmlnRmFjdG9yaWVzIiwidWlWaWV3RGVwdGgiLCJ1aVZpZXciLCJ2aWV3Q29uZmlnRGVwdGgiLCJ1aVZpZXdzQnlGcW4iLCJ1aXYiLCJ2YyIsInZjU2VnbWVudHMiLCJ1aXZTZWdtZW50cyIsIm5lZ09mZnNldCIsImZxblRvRmlyc3RTZWdtZW50IiwidWlWaWV3Q29udGV4dCIsImRlcHRoQ29tcGFyZSIsImRlcHRoRm4iLCJwb3NOZWciLCJtYXRjaGluZ0NvbmZpZ1BhaXIiLCJtYXRjaGluZ0NvbmZpZ3MiLCJjb25maWd1cmVVaVZpZXciLCJjb25maWdVcGRhdGVkIiwicm9vdENvbnRleHQiLCJfcm9vdENvbnRleHQiLCJ2aWV3Q29uZmlnRmFjdG9yeSIsInZpZXdUeXBlIiwiZGVjbCIsImNmZ0ZhY3RvcnkiLCIkdHlwZSIsInJlZ2lzdGVyVWlWaWV3IiwiZnFuTWF0Y2hlcyIsImF2YWlsYWJsZSIsIm5vcm1hbGl6ZVVpVmlld1RhcmdldCIsInJhd1ZpZXdOYW1lIiwidmlld0F0Q29udGV4dCIsInVpVmlld05hbWUiLCJ1aVZpZXdDb250ZXh0QW5jaG9yIiwicmVsYXRpdmVWaWV3TmFtZVN1Z2FyIiwicmVsYXRpdmVNYXRjaCIsInN0YXRlUGFyYW1zXzEiLCJVSVJvdXRlckdsb2JhbHMiLCJ0cmFuc2l0aW9uU2VydmljZSIsImJlZm9yZU5ld1RyYW5zaXRpb24iLCJ1cGRhdGVHbG9iYWxTdGF0ZSIsImNsZWFyQ3VycmVudFRyYW5zaXRpb24iLCJ1cmxNYXRjaGVyRmFjdG9yeV8xIiwidXJsUm91dGVyXzEiLCJzdGF0ZV8xIiwidXJsUm91dGVyXzIiLCJ2aWV3XzEiLCJzdGF0ZVJlZ2lzdHJ5XzEiLCJzdGF0ZVNlcnZpY2VfMSIsImdsb2JhbHNfMSIsInZpZXdTZXJ2aWNlIiwidXJsUm91dGVyIiwic3RhdGVTZXJ2aWNlIiwiYW5ub3RhdGVDb250cm9sbGVyIiwiY29udHJvbGxlckV4cHJlc3Npb24iLCJvbGRJbnN0YW50aWF0ZSIsImRlcHNfMSIsImNvbnN0cnVjdG9yRnVuY3Rpb24iLCJydW5CbG9jayIsIm5nMVVJUm91dGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ1cmxMaXN0ZW5lcnMiLCJyb3V0ZXIiLCJ2aWV3c0J1aWxkZXJfMSIsIm5nMVZpZXdzQnVpbGRlciIsIm5nMVZpZXdDb25maWdGYWN0b3J5IiwiZ2V0VXJsUm91dGVyUHJvdmlkZXIiLCJnZXRTdGF0ZVByb3ZpZGVyIiwiZ2V0VHJhbnNpdGlvbnNQcm92aWRlciIsImxvYWRBbGxDb250cm9sbGVyTG9jYWxzIiwibG9hZExvY2FscyIsIiRsb2FkQ29udHJvbGxlckxvY2FscyIsInJlc29sdmVDdHgiLCJjb250cm9sbGVyRGVwcyIsImRlcCIsImxvYWRBbGxMb2NhbHMiLCJ3YXRjaERpZ2VzdHMiLCJ0ZW1wbGF0ZUZhY3RvcnlfMSIsInJlc29sdmVGYWN0b3J5IiwiaW52b2NhYmxlcyIsInJlc29sdmVEYXRhIiwicGFyZW50TG9jYWxzIiwicmV3cmFwIiwiX2xvY2FscyIsImxvY2FsIiwiVGVtcGxhdGVGYWN0b3J5IiwidHBsS2V5cyIsImN0cmxLZXlzIiwiY29tcEtleXMiLCJub25Db21wS2V5cyIsImFsbEtleXMiLCJ2aWV3c09iamVjdCIsIiRkZWZhdWx0IiwidGVtcGxhdGVQcm92aWRlciIsInJlc29sdmVGb3IiLCJnZXRDb21wb25lbnRJbnB1dHMiLCJrZWJvYk5hbWUiLCJyZXNvbHZlQXMiLCJjbXBEZWZzIiwiZ2V0QmluZGluZ3MiLCJOZzFWaWV3Q29uZmlnIiwic2NvcGVCaW5kaW5ncyIsImJpbmRpbmdzT2JqIiwiYmluZFRvQ3RybEJpbmRpbmdzIiwiZ2V0VGVtcGxhdGUiLCJnZXRDb250cm9sbGVyIiwiJGZhY3RvcnkiLCJjb250cm9sbGVyUHJvdmlkZXIiLCJpbmplY3RGbiIsImZyb21VcmwiLCJmcm9tUHJvdmlkZXIiLCJwYXJzZVN0YXRlUmVmIiwicHJlcGFyc2VkIiwicGFyYW1FeHByIiwic3RhdGVDb250ZXh0IiwiJHVpVmlldyIsImdldFR5cGVJbmZvIiwiaXNTdmciLCJpc0Zvcm0iLCJpc0FuY2hvciIsImNsaWNrYWJsZSIsImNsaWNrSG9vayIsImlnbm9yZVByZXZlbnREZWZhdWx0Q291bnQiLCJkZWZhdWx0T3B0cyIsInVpU3JlZk5nMSIsInVpU3JlZkFjdGl2ZSIsInVpU3JlZiIsInVubGlua0luZm9GbiIsInVpU3JlZk9wdHMiLCIkJGFkZFN0YXRlSW5mbyIsInVpU3RhdGVOZzEiLCJydW5TdGF0ZVJlZkxpbmsiLCJ1aVN0YXRlIiwidWlTdGF0ZVBhcmFtcyIsInVpU3RhdGVPcHRzIiwidWlTcmVmQWN0aXZlTmcxIiwiYWRkU3RhdGUiLCJzdGF0ZVBhcmFtcyIsImFjdGl2ZUNsYXNzIiwic3RhdGVIYXNoIiwiY3JlYXRlU3RhdGVIYXNoIiwic3RhdGVJbmZvIiwiYWN0aXZlQ2xhc3NlcyIsImFueU1hdGNoIiwiZXhhY3RNYXRjaCIsImFjdGl2ZUVxQ2xhc3MiLCJ1aVNyZWZBY3RpdmVFcSIsImRlcmVnaXN0ZXIiLCJ1cGRhdGVBZnRlclRyYW5zaXRpb24iLCJkZXJlZ2lzdGVyRm4iLCIkSXNTdGF0ZUZpbHRlciIsImlzRmlsdGVyIiwiJEluY2x1ZGVkQnlTdGF0ZUZpbHRlciIsImluY2x1ZGVzRmlsdGVyIiwiJFZpZXdEaXJlY3RpdmVGaWxsIiwiZ2V0Q29udHJvbGxlckFzIiwiZ2V0UmVzb2x2ZUFzIiwiZ2V0UmVzb2x2ZUNvbnRleHQiLCIkY2ZnIiwicmVnaXN0ZXJDb250cm9sbGVyQ2FsbGJhY2tzIiwiY21wXzEiLCJrZWJvYk5hbWVfMSIsImdldENvbXBvbmVudENvbnRyb2xsZXIiLCJkaXJlY3RpdmVFbCIsInRhZ05hbWUiLCJkZXJlZ2lzdGVyV2F0Y2hfMSIsImN0cmxJbnN0YW5jZSIsImhhc0NvbXBvbmVudEltcGwiLCJob29rT3B0aW9ucyIsInVpT25QYXJhbXNDaGFuZ2VkIiwicGFyYW1zVXBkYXRlZF8xIiwiY3R4Iiwidmlld0NyZWF0aW9uVHJhbnMiLCJ0b1NjaGVtYSIsImZyb21TY2hlbWEiLCJjaGFuZ2VkVG9QYXJhbXMiLCJjaGFuZ2VkS2V5c18xIiwib25EeW5hbWljIiwidWlDYW5FeGl0IiwiY3JpdGVyaWEiLCJ1aVZpZXdOZzEiLCIkdWlWaWV3U2Nyb2xsIiwiZ2V0UmVuZGVyZXIiLCJjb25maWdzRXF1YWwiLCJjb25maWcxIiwiY29uZmlnMiIsInJvb3REYXRhIiwiY29uZmlnVXBkYXRlZENhbGxiYWNrIiwiYWN0aXZlVUlWaWV3IiwidXBkYXRlVmlldyIsImNsZWFudXBMYXN0VmlldyIsInByZXZpb3VzRWwiLCJjdXJyZW50RWwiLCJfdmlld0RhdGFfMSIsInJlbmRlcmVyIiwiJCRhbmltTGVhdmUiLCJhbmltRW50ZXIiLCJhbmltTGVhdmUiLCIkdWlWaWV3RGF0YSIsIiRhbmltRW50ZXIiLCIkYW5pbUxlYXZlIiwidW5yZWdpc3RlciIsIiRWaWV3U2Nyb2xsUHJvdmlkZXIiLCJ1c2VBbmNob3JTY3JvbGwiLCJ0cmFuc2l0aW9uRW5kIiwidHJhbnNFbmRFdmVudE5hbWVzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiJGVsIiwiYnNUcmFuc2l0aW9uRW5kIiwiUGx1Z2luIiwiJHRoaXMiLCJBbGVydCIsImRpc21pc3MiLCJWRVJTSU9OIiwiVFJBTlNJVElPTl9EVVJBVElPTiIsInJlbW92ZUVsZW1lbnQiLCJhbGVydCIsIkJ1dHRvbiIsInNldFN0YXRlIiwiREVGQVVMVFMiLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsInJlc2V0VGV4dCIsIiRpbnB1dCIsIiRidG4iLCJDYXJvdXNlbCIsInNsaWRlIiwiY3ljbGUiLCIkaW5kaWNhdG9ycyIsInBhdXNlZCIsInNsaWRpbmciLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJrZXlkb3duIiwiZ2V0SXRlbUluZGV4IiwiZ2V0SXRlbUZvckRpcmVjdGlvbiIsImRpcmVjdGlvbiIsImFjdGl2ZUluZGV4Iiwid2lsbFdyYXAiLCJkZWx0YSIsIml0ZW1JbmRleCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50IiwiY2Fyb3VzZWwiLCJjbGlja0hhbmRsZXIiLCIkdGFyZ2V0Iiwic2xpZGVJbmRleCIsIiRjYXJvdXNlbCIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiJHRyaWdnZXIiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJnZXRQYXJlbnQiLCJhZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MiLCJkaW1lbnNpb24iLCJoYXNXaWR0aCIsImFjdGl2ZXNEYXRhIiwiYWN0aXZlcyIsInN0YXJ0RXZlbnQiLCJzY3JvbGxTaXplIiwiaXNPcGVuIiwiY29sbGFwc2UiLCJjbGVhck1lbnVzIiwiYmFja2Ryb3AiLCJEcm9wZG93biIsImRlc2MiLCJkcm9wZG93biIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCIkYm9keSIsIiRkaWFsb2ciLCIkYmFja2Ryb3AiLCJpc1Nob3duIiwib3JpZ2luYWxCb2R5UGFkIiwic2Nyb2xsYmFyV2lkdGgiLCJpZ25vcmVCYWNrZHJvcENsaWNrIiwicmVtb3RlIiwiQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTiIsImNoZWNrU2Nyb2xsYmFyIiwic2V0U2Nyb2xsYmFyIiwicmVzaXplIiwiYWRqdXN0RGlhbG9nIiwiZW5mb3JjZUZvY3VzIiwiaGlkZU1vZGFsIiwiaGFuZGxlVXBkYXRlIiwicmVzZXRBZGp1c3RtZW50cyIsInJlc2V0U2Nyb2xsYmFyIiwicmVtb3ZlQmFja2Ryb3AiLCJkb0FuaW1hdGUiLCJjYWxsYmFja1JlbW92ZSIsIm1vZGFsSXNPdmVyZmxvd2luZyIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInBhZGRpbmdMZWZ0IiwiYm9keUlzT3ZlcmZsb3dpbmciLCJwYWRkaW5nUmlnaHQiLCJmdWxsV2luZG93V2lkdGgiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50UmVjdCIsImNsaWVudFdpZHRoIiwibWVhc3VyZVNjcm9sbGJhciIsImJvZHlQYWQiLCJzY3JvbGxEaXYiLCJtb2RhbCIsInNob3dFdmVudCIsIlRvb2x0aXAiLCJob3ZlclN0YXRlIiwiaW5TdGF0ZSIsInBsYWNlbWVudCIsInRpdGxlIiwidmlld3BvcnQiLCIkdmlld3BvcnQiLCJ0cmlnZ2VycyIsImV2ZW50SW4iLCJldmVudE91dCIsImZpeFRpdGxlIiwiZ2V0RGVmYXVsdHMiLCJnZXREZWxlZ2F0ZU9wdGlvbnMiLCJ0aXAiLCJpc0luU3RhdGVUcnVlIiwiaW5Eb20iLCIkdGlwIiwidGlwSWQiLCJnZXRVSUQiLCJzZXRDb250ZW50IiwiYXV0b1Rva2VuIiwiYXV0b1BsYWNlIiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInZpZXdwb3J0RGltIiwiY2FsY3VsYXRlZE9mZnNldCIsImdldENhbGN1bGF0ZWRPZmZzZXQiLCJhcHBseVBsYWNlbWVudCIsInByZXZIb3ZlclN0YXRlIiwibWFyZ2luVG9wIiwiZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhIiwiaXNWZXJ0aWNhbCIsImFycm93RGVsdGEiLCJhcnJvd09mZnNldFBvc2l0aW9uIiwicmVwbGFjZUFycm93IiwiYXJyb3ciLCJnZXRUaXRsZSIsIiRlIiwiaXNCb2R5IiwiZWxSZWN0IiwiU1ZHRWxlbWVudCIsImVsT2Zmc2V0Iiwib3V0ZXJEaW1zIiwidmlld3BvcnRQYWRkaW5nIiwidmlld3BvcnREaW1lbnNpb25zIiwidG9wRWRnZU9mZnNldCIsImJvdHRvbUVkZ2VPZmZzZXQiLCJsZWZ0RWRnZU9mZnNldCIsInJpZ2h0RWRnZU9mZnNldCIsIiRhcnJvdyIsInRvZ2dsZUVuYWJsZWQiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImdldENvbnRlbnQiLCJwb3BvdmVyIiwiU2Nyb2xsU3B5IiwiJHNjcm9sbEVsZW1lbnQiLCJvZmZzZXRzIiwiYWN0aXZlVGFyZ2V0IiwicHJvY2VzcyIsImdldFNjcm9sbEhlaWdodCIsIm9mZnNldE1ldGhvZCIsIm9mZnNldEJhc2UiLCIkaHJlZiIsIm1heFNjcm9sbCIsImFjdGl2YXRlIiwic2Nyb2xsc3B5IiwiJHNweSIsIlRhYiIsIiR1bCIsIiRwcmV2aW91cyIsImhpZGVFdmVudCIsInRhYiIsIkFmZml4IiwiY2hlY2tQb3NpdGlvbiIsImNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wIiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiUkVTRVQiLCJnZXRTdGF0ZSIsIm9mZnNldFRvcCIsIm9mZnNldEJvdHRvbSIsInRhcmdldEhlaWdodCIsImNvbGxpZGVyVG9wIiwiY29sbGlkZXJIZWlnaHQiLCJnZXRQaW5uZWRPZmZzZXQiLCJhZmZpeCIsImFmZml4VHlwZSIsImciLCJsb2NhbGZvcmFnZSIsInUiLCIxIiwiX2RlcmVxXyIsIklOVEVSTkFMIiwiUEVORElORyIsIm91dGNvbWUiLCJzYWZlbHlSZXNvbHZlVGhlbmFibGUiLCJRdWV1ZUl0ZW0iLCJjYWxsRnVsZmlsbGVkIiwib3RoZXJDYWxsRnVsZmlsbGVkIiwiY2FsbFJlamVjdGVkIiwib3RoZXJDYWxsUmVqZWN0ZWQiLCJpbW1lZGlhdGUiLCJnZXRUaGVuIiwidGhlbmFibGUiLCJ0cnlUb1Vud3JhcCIsInRyeUNhdGNoIiwib3V0IiwiaXRlcmFibGUiLCJhbGxSZXNvbHZlciIsInJlc29sdmVGcm9tQWxsIiwib3V0VmFsdWUiLCJSRUpFQ1RFRCIsIkZVTEZJTExFRCIsIjIiLCJkcmFpbmluZyIsIm9sZFF1ZXVlIiwidGFzayIsInNjaGVkdWxlRHJhaW4iLCJNdXRhdGlvbiIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJzZXRJbW1lZGlhdGUiLCJNZXNzYWdlQ2hhbm5lbCIsInNjcmlwdEVsIiwiY2hhbm5lbCIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsIjMiLCI0IiwiX2NsYXNzQ2FsbENoZWNrIiwiZ2V0SURCIiwiaW5kZXhlZERCIiwid2Via2l0SW5kZXhlZERCIiwibW96SW5kZXhlZERCIiwiT0luZGV4ZWREQiIsIm1zSW5kZXhlZERCIiwiaXNJbmRleGVkREJWYWxpZCIsImlkYiIsIm9wZW5EYXRhYmFzZSIsIklEQktleVJhbmdlIiwiaXNXZWJTUUxWYWxpZCIsImlzTG9jYWxTdG9yYWdlVmFsaWQiLCJjcmVhdGVCbG9iIiwiQmxvYiIsIkJ1aWxkZXIiLCJCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiZ2V0QmxvYiIsImV4ZWN1dGVDYWxsYmFjayIsIl9iaW5TdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYnVmIiwiX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyIsInR4biIsIlByb21pc2UkMSIsImJsb2IiLCJvYmplY3RTdG9yZSIsIkRFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUiLCJvbmNvbXBsZXRlIiwibWF0Y2hlZENocm9tZSIsIm1hdGNoZWRFZGdlIiwiX2NoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0Jsb2JzIiwiX2RlZmVyUmVhZGluZXNzIiwiZGJJbmZvIiwiZGJDb250ZXh0IiwiZGJDb250ZXh0cyIsImRlZmVycmVkT3BlcmF0aW9uIiwiZGVmZXJyZWRPcGVyYXRpb25zIiwiZGJSZWFkeSIsIl9hZHZhbmNlUmVhZGluZXNzIiwiX2dldENvbm5lY3Rpb24iLCJ1cGdyYWRlTmVlZGVkIiwiZGIiLCJkYkFyZ3MiLCJvcGVucmVxIiwib251cGdyYWRlbmVlZGVkIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJzdG9yZU5hbWUiLCJvbGRWZXJzaW9uIiwiZXgiLCJuZXdWZXJzaW9uIiwib25zdWNjZXNzIiwiX2dldE9yaWdpbmFsQ29ubmVjdGlvbiIsIl9nZXRVcGdyYWRlZENvbm5lY3Rpb24iLCJfaXNVcGdyYWRlTmVlZGVkIiwiZGVmYXVsdFZlcnNpb24iLCJpc05ld1N0b3JlIiwib2JqZWN0U3RvcmVOYW1lcyIsImlzRG93bmdyYWRlIiwiaXNVcGdyYWRlIiwiaW5jVmVyc2lvbiIsIl9lbmNvZGVCbG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsImJhc2U2NCIsImJ0b2EiLCJfX2xvY2FsX2ZvcmFnZV9lbmNvZGVkX2Jsb2IiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJfZGVjb2RlQmxvYiIsImVuY29kZWRCbG9iIiwiYXJyYXlCdWZmIiwiYXRvYiIsIl9pc0VuY29kZWRCbG9iIiwiX2Z1bGx5UmVhZHkiLCJfaW5pdFJlYWR5IiwiX2RiSW5mbyIsIl9pbml0U3RvcmFnZSIsImlnbm9yZUVycm9ycyIsImZvcmFnZXMiLCJpbml0UHJvbWlzZXMiLCJmb3JhZ2UiLCJfZGVmYXVsdENvbmZpZyIsInN0b3JlIiwidHJhbnNhY3Rpb24iLCJyZXEiLCJpdGVyYXRlIiwib3BlbkN1cnNvciIsIml0ZXJhdGlvbk51bWJlciIsImN1cnNvciIsImJsb2JTdXBwb3J0IiwiYWR2YW5jZWQiLCJhZHZhbmNlIiwic3RyaW5nVG9CdWZmZXIiLCJzZXJpYWxpemVkU3RyaW5nIiwiZW5jb2RlZDEiLCJlbmNvZGVkMiIsImVuY29kZWQzIiwiZW5jb2RlZDQiLCJidWZmZXJMZW5ndGgiLCJieXRlcyIsIkJBU0VfQ0hBUlMiLCJidWZmZXJUb1N0cmluZyIsImJhc2U2NFN0cmluZyIsInZhbHVlU3RyaW5nIiwibWFya2VyIiwiU0VSSUFMSVpFRF9NQVJLRVIiLCJUWVBFX0FSUkFZQlVGRkVSIiwiVFlQRV9JTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZIiwiVFlQRV9JTlQxNkFSUkFZIiwiVFlQRV9VSU5UMTZBUlJBWSIsIlRZUEVfSU5UMzJBUlJBWSIsIlRZUEVfVUlOVDMyQVJSQVkiLCJUWVBFX0ZMT0FUMzJBUlJBWSIsIlRZUEVfRkxPQVQ2NEFSUkFZIiwiZmlsZVJlYWRlciIsIkJMT0JfVFlQRV9QUkVGSVgiLCJUWVBFX0JMT0IiLCJyZWFkQXNBcnJheUJ1ZmZlciIsImRlc2VyaWFsaXplIiwiU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIIiwiYmxvYlR5cGUiLCJUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCIsIkJMT0JfVFlQRV9QUkVGSVhfUkVHRVgiLCJJbnQ4QXJyYXkiLCJVaW50OENsYW1wZWRBcnJheSIsIkludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsIl9pbml0U3RvcmFnZSQxIiwiZGJJbmZvUHJvbWlzZSIsImRlc2NyaXB0aW9uIiwiZXhlY3V0ZVNxbCIsInNlcmlhbGl6ZXIiLCJsb2NhbGZvcmFnZVNlcmlhbGl6ZXIiLCJnZXRJdGVtJDEiLCJyb3dzIiwiaXRlcmF0ZSQxIiwic2V0SXRlbSQxIiwib3JpZ2luYWxWYWx1ZSIsInNxbEVycm9yIiwiUVVPVEFfRVJSIiwicmVtb3ZlSXRlbSQxIiwiY2xlYXIkMSIsImxlbmd0aCQxIiwia2V5JDEiLCJrZXlzJDEiLCJfaW5pdFN0b3JhZ2UkMiIsImtleVByZWZpeCIsImNsZWFyJDIiLCJnZXRJdGVtJDIiLCJpdGVyYXRlJDIiLCJrZXlQcmVmaXhMZW5ndGgiLCJrZXkkMiIsImtleXMkMiIsImxlbmd0aCQyIiwicmVtb3ZlSXRlbSQyIiwic2V0SXRlbSQyIiwiZXhlY3V0ZVR3b0NhbGxiYWNrcyIsImNhbGxXaGVuUmVhZHkiLCJsb2NhbEZvcmFnZUluc3RhbmNlIiwibGlicmFyeU1ldGhvZCIsIl9hcmdzIiwiaXNMaWJyYXJ5RHJpdmVyIiwiZHJpdmVyTmFtZSIsImRyaXZlciIsIkRyaXZlclR5cGUiLCJfdHlwZW9mIiwiYXN5bmNTdG9yYWdlIiwiX2RyaXZlciIsIndlYlNRTFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VXcmFwcGVyIiwiQ3VzdG9tRHJpdmVycyIsIklOREVYRUREQiIsIkxPQ0FMU1RPUkFHRSIsIldFQlNRTCIsIkRlZmF1bHREcml2ZXJPcmRlciIsIkxpYnJhcnlNZXRob2RzIiwiRGVmYXVsdENvbmZpZyIsImRyaXZlclN1cHBvcnQiLCJMb2NhbEZvcmFnZSIsIl9jb25maWciLCJfZHJpdmVyU2V0IiwiX2luaXREcml2ZXIiLCJfcmVhZHkiLCJfd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5Iiwic2V0RHJpdmVyIiwiZGVmaW5lRHJpdmVyIiwiZHJpdmVyT2JqZWN0IiwiY29tcGxpYW5jZUVycm9yIiwibmFtaW5nRXJyb3IiLCJjdXN0b21Ecml2ZXJNZXRob2RzIiwiY3VzdG9tRHJpdmVyTWV0aG9kIiwic3VwcG9ydFByb21pc2UiLCJfc3VwcG9ydCIsInN1cHBvcnRSZXN1bHQiLCJnZXREcml2ZXIiLCJnZXREcml2ZXJQcm9taXNlIiwiZ2V0U2VyaWFsaXplciIsInNlcmlhbGl6ZXJQcm9taXNlIiwiZHJpdmVycyIsInNldERyaXZlclRvQ29uZmlnIiwiaW5pdERyaXZlciIsInN1cHBvcnRlZERyaXZlcnMiLCJkcml2ZXJQcm9taXNlTG9vcCIsImN1cnJlbnREcml2ZXJJbmRleCIsIl9nZXRTdXBwb3J0ZWREcml2ZXJzIiwib2xkRHJpdmVyU2V0RG9uZSIsInN1cHBvcnRzIiwibGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzIiwiY3JlYXRlSW5zdGFuY2UiLCJsb2NhbGZvcmFnZV9qcyIsIm5nRmlsZU1vZGVsIiwiY2hhbmdlRXZlbnQiLCJsb2FkRXZlbnQiLCJsYXN0TW9kaWZpZWREYXRlIiwicmVhZEFzRGF0YVVSTCJdLCJtYXBwaW5ncyI6IkFBTUEsR0NRQSxTQUFBQSxFQUFBQyxHQUVBLGdCQUFBQyxTQUFBLGdCQUFBQSxRQUFBQyxRQVFBRCxPQUFBQyxRQUFBSCxFQUFBSSxTQUNBSCxFQUFBRCxHQUFBLEdBQ0EsU0FBQUssR0FDQSxJQUFBQSxFQUFBRCxTQUNBLEtBQUEsSUFBQUUsT0FBQSwyQ0FF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QUFBLFNBQUFpNUgsR0FDQXJzSCxFQUFBQyxPQUFBLFdBQ0FELEVBQUFtc0gsYUFDQS85SCxhQUFBZytILEVBQUEvbkosT0FBQWloRyxNQUFBLEdBQUFsM0UsYUFDQWsrSCxpQkFBQUYsRUFBQS9uSixPQUFBaWhHLE1BQUEsR0FBQWduRCxpQkFDQTk1SixLQUFBNDVKLEVBQUEvbkosT0FBQWloRyxNQUFBLEdBQUE5eUcsS0FDQWdrQyxLQUFBNDFILEVBQUEvbkosT0FBQWloRyxNQUFBLEdBQUE5dUUsS0FDQXJtQyxLQUFBaThKLEVBQUEvbkosT0FBQWloRyxNQUFBLEdBQUFuMUcsS0FDQW9DLEtBQUE4NUosRUFBQWhvSixPQUFBOUMsV0FJQWloSixFQUFBK0osY0FBQUgsRUFBQS9uSixPQUFBaWhHLE1BQUEsV0FLQSxtQkFBQTcxRyxXQUNBQSxRQUFBLFdBQUEyd0MsUUFBQTV3QyxPQUFBLGlCQUNBQSxPQUFBQyxRQUFBQSxRQUFBIiwiZmlsZSI6InZlbmRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEJvb3RzdHJhcCB2My4zLjcgKGh0dHA6Ly9nZXRib290c3RyYXAuY29tKVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqL1xuXG5pZiAodHlwZW9mIGpRdWVyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdCb290c3RyYXBcXCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5Jylcbn1cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHZlcnNpb24gPSAkLmZuLmpxdWVyeS5zcGxpdCgnICcpWzBdLnNwbGl0KCcuJylcbiAgaWYgKCh2ZXJzaW9uWzBdIDwgMiAmJiB2ZXJzaW9uWzFdIDwgOSkgfHwgKHZlcnNpb25bMF0gPT0gMSAmJiB2ZXJzaW9uWzFdID09IDkgJiYgdmVyc2lvblsyXSA8IDEpIHx8ICh2ZXJzaW9uWzBdID4gMykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkgdmVyc2lvbiAxLjkuMSBvciBoaWdoZXIsIGJ1dCBsb3dlciB0aGFuIHZlcnNpb24gNCcpXG4gIH1cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhbGVydHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBTEVSVCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gIHZhciBBbGVydCAgID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgJChlbCkub24oJ2NsaWNrJywgZGlzbWlzcywgdGhpcy5jbG9zZSlcbiAgfVxuXG4gIEFsZXJ0LlZFUlNJT04gPSAnMy4zLjcnXG5cbiAgQWxlcnQuVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgID0gJCh0aGlzKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSAkKHNlbGVjdG9yID09PSAnIycgPyBbXSA6IHNlbGVjdG9yKVxuXG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgaWYgKCEkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgJHBhcmVudCA9ICR0aGlzLmNsb3Nlc3QoJy5hbGVydCcpXG4gICAgfVxuXG4gICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5icy5hbGVydCcpKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgIC8vIGRldGFjaCBmcm9tIHBhcmVudCwgZmlyZSBldmVudCB0aGVuIGNsZWFuIHVwIGRhdGFcbiAgICAgICRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcignY2xvc2VkLmJzLmFsZXJ0JykucmVtb3ZlKClcbiAgICB9XG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHBhcmVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQWxlcnQuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgcmVtb3ZlRWxlbWVudCgpXG4gIH1cblxuXG4gIC8vIEFMRVJUIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuYWxlcnQnKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JywgKGRhdGEgPSBuZXcgQWxlcnQodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5hbGVydFxuXG4gICQuZm4uYWxlcnQgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5hbGVydC5Db25zdHJ1Y3RvciA9IEFsZXJ0XG5cblxuICAvLyBBTEVSVCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYWxlcnQubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmFsZXJ0ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQUxFUlQgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuYWxlcnQuZGF0YS1hcGknLCBkaXNtaXNzLCBBbGVydC5wcm90b3R5cGUuY2xvc2UpXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGJ1dHRvbi5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2J1dHRvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBCVVRUT04gUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgPSAkLmV4dGVuZCh7fSwgQnV0dG9uLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgfVxuXG4gIEJ1dHRvbi5WRVJTSU9OICA9ICczLjMuNydcblxuICBCdXR0b24uREVGQVVMVFMgPSB7XG4gICAgbG9hZGluZ1RleHQ6ICdsb2FkaW5nLi4uJ1xuICB9XG5cbiAgQnV0dG9uLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBkICAgID0gJ2Rpc2FibGVkJ1xuICAgIHZhciAkZWwgID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciB2YWwgID0gJGVsLmlzKCdpbnB1dCcpID8gJ3ZhbCcgOiAnaHRtbCdcbiAgICB2YXIgZGF0YSA9ICRlbC5kYXRhKClcblxuICAgIHN0YXRlICs9ICdUZXh0J1xuXG4gICAgaWYgKGRhdGEucmVzZXRUZXh0ID09IG51bGwpICRlbC5kYXRhKCdyZXNldFRleHQnLCAkZWxbdmFsXSgpKVxuXG4gICAgLy8gcHVzaCB0byBldmVudCBsb29wIHRvIGFsbG93IGZvcm1zIHRvIHN1Ym1pdFxuICAgIHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAkZWxbdmFsXShkYXRhW3N0YXRlXSA9PSBudWxsID8gdGhpcy5vcHRpb25zW3N0YXRlXSA6IGRhdGFbc3RhdGVdKVxuXG4gICAgICBpZiAoc3RhdGUgPT0gJ2xvYWRpbmdUZXh0Jykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWVcbiAgICAgICAgJGVsLmFkZENsYXNzKGQpLmF0dHIoZCwgZCkucHJvcChkLCB0cnVlKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpLnByb3AoZCwgZmFsc2UpXG4gICAgICB9XG4gICAgfSwgdGhpcyksIDApXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhbmdlZCA9IHRydWVcbiAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpXG5cbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0JylcbiAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcbiAgICAgICAgaWYgKCRpbnB1dC5wcm9wKCdjaGVja2VkJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH0gZWxzZSBpZiAoJGlucHV0LnByb3AoJ3R5cGUnKSA9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIGlmICgoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSkgIT09IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgICRpbnB1dC5wcm9wKCdjaGVja2VkJywgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1wcmVzc2VkJywgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKVxuICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICB9XG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciAkYnRuID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmJ0bicpXG4gICAgICBQbHVnaW4uY2FsbCgkYnRuLCAndG9nZ2xlJylcbiAgICAgIGlmICghKCQoZS50YXJnZXQpLmlzKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0sIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpKSkge1xuICAgICAgICAvLyBQcmV2ZW50IGRvdWJsZSBjbGljayBvbiByYWRpb3MsIGFuZCB0aGUgZG91YmxlIHNlbGVjdGlvbnMgKHNvIGNhbmNlbGxhdGlvbikgb24gY2hlY2tib3hlc1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgLy8gVGhlIHRhcmdldCBjb21wb25lbnQgc3RpbGwgcmVjZWl2ZSB0aGUgZm9jdXNcbiAgICAgICAgaWYgKCRidG4uaXMoJ2lucHV0LGJ1dHRvbicpKSAkYnRuLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgZWxzZSAkYnRuLmZpbmQoJ2lucHV0OnZpc2libGUsYnV0dG9uOnZpc2libGUnKS5maXJzdCgpLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH1cbiAgICB9KVxuICAgIC5vbignZm9jdXMuYnMuYnV0dG9uLmRhdGEtYXBpIGJsdXIuYnMuYnV0dG9uLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLmJ0bicpLnRvZ2dsZUNsYXNzKCdmb2N1cycsIC9eZm9jdXMoaW4pPyQvLnRlc3QoZS50eXBlKSlcbiAgICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjYXJvdXNlbC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Nhcm91c2VsXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPSBudWxsXG4gICAgdGhpcy5zbGlkaW5nICAgICA9IG51bGxcbiAgICB0aGlzLmludGVydmFsICAgID0gbnVsbFxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPSBudWxsXG4gICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucy5rZXlib2FyZCAmJiB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuXG4gICAgdGhpcy5vcHRpb25zLnBhdXNlID09ICdob3ZlcicgJiYgISgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpICYmIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXG4gICAgICAub24oJ21vdXNlbGVhdmUuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMuY3ljbGUsIHRoaXMpKVxuICB9XG5cbiAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDYwMFxuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDM3OiB0aGlzLnByZXYoKTsgYnJlYWtcbiAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgZGVmYXVsdDogcmV0dXJuXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuY3ljbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gZmFsc2UpXG5cbiAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgJiYgIXRoaXMucGF1c2VkXG4gICAgICAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB0aGlzLiRpdGVtcyA9IGl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oJy5pdGVtJylcbiAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUZvckRpcmVjdGlvbiA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGFjdGl2ZSkge1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KGFjdGl2ZSlcbiAgICB2YXIgd2lsbFdyYXAgPSAoZGlyZWN0aW9uID09ICdwcmV2JyAmJiBhY3RpdmVJbmRleCA9PT0gMClcbiAgICAgICAgICAgICAgICB8fCAoZGlyZWN0aW9uID09ICduZXh0JyAmJiBhY3RpdmVJbmRleCA9PSAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkpXG4gICAgaWYgKHdpbGxXcmFwICYmICF0aGlzLm9wdGlvbnMud3JhcCkgcmV0dXJuIGFjdGl2ZVxuICAgIHZhciBkZWx0YSA9IGRpcmVjdGlvbiA9PSAncHJldicgPyAtMSA6IDFcbiAgICB2YXIgaXRlbUluZGV4ID0gKGFjdGl2ZUluZGV4ICsgZGVsdGEpICUgdGhpcy4kaXRlbXMubGVuZ3RoXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmVxKGl0ZW1JbmRleClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgdGhpcy4kaXRlbXMuZXEocG9zKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8IHRoaXMuZ2V0SXRlbUZvckRpcmVjdGlvbih0eXBlLCAkYWN0aXZlKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciB0aGF0ICAgICAgPSB0aGlzXG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgICB9IGVsc2Uge1xuICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgfVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2Fyb3VzZWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gICAgICB2YXIgYWN0aW9uICA9IHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgPyBvcHRpb24gOiBvcHRpb25zLnNsaWRlXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnbnVtYmVyJykgZGF0YS50byhvcHRpb24pXG4gICAgICBlbHNlIGlmIChhY3Rpb24pIGRhdGFbYWN0aW9uXSgpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jYXJvdXNlbFxuXG4gICQuZm4uY2Fyb3VzZWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3RvciA9IENhcm91c2VsXG5cblxuICAvLyBDQVJPVVNFTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY2Fyb3VzZWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNhcm91c2VsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnY2Fyb3VzZWwnKSkgcmV0dXJuXG4gICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcbiAgICB2YXIgc2xpZGVJbmRleCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2xpZGUtdG8nKVxuICAgIGlmIChzbGlkZUluZGV4KSBvcHRpb25zLmludGVydmFsID0gZmFsc2VcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbnMpXG5cbiAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGVdJywgY2xpY2tIYW5kbGVyKVxuICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGUtdG9dJywgY2xpY2tIYW5kbGVyKVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLyoganNoaW50IGxhdGVkZWY6IGZhbHNlICovXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy4kdHJpZ2dlciAgICAgID0gJCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1baHJlZj1cIiMnICsgZWxlbWVudC5pZCArICdcIl0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdJylcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgdGhpcy4kcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gIH1cblxuICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjMuNydcblxuICBDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMzUwXG5cbiAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgdG9nZ2xlOiB0cnVlXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlc0RhdGFcbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuY2hpbGRyZW4oJy5wYW5lbCcpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICBhY3RpdmVzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgIH1cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgIGFjdGl2ZXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgIH1cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5nZXRQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyB0aGlzLm9wdGlvbnMucGFyZW50ICsgJ1wiXScpXG4gICAgICAuZWFjaCgkLnByb3h5KGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJGVsZW1lbnQpLCAkZWxlbWVudClcbiAgICAgIH0sIHRoaXMpKVxuICAgICAgLmVuZCgpXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgIHZhciBpc09wZW4gPSAkZWxlbWVudC5oYXNDbGFzcygnaW4nKVxuXG4gICAgJGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICAkdHJpZ2dlclxuICAgICAgLnRvZ2dsZUNsYXNzKCdjb2xsYXBzZWQnLCAhaXNPcGVuKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdHJpZ2dlcikge1xuICAgIHZhciBocmVmXG4gICAgdmFyIHRhcmdldCA9ICR0cmlnZ2VyLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgIHx8IChocmVmID0gJHRyaWdnZXIuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG5cbiAgICByZXR1cm4gJCh0YXJnZXQpXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChvcHRpb24pKSBvcHRpb25zLnRvZ2dsZSA9IGZhbHNlXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG5cbiAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcblxuXG4gIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG5cbiAgICBpZiAoISR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgdmFyICR0YXJnZXQgPSBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdGhpcylcbiAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGRyb3Bkb3duLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jZHJvcGRvd25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gRFJPUERPV04gQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGJhY2tkcm9wID0gJy5kcm9wZG93bi1iYWNrZHJvcCdcbiAgdmFyIHRvZ2dsZSAgID0gJ1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJ1xuICB2YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICQoZWxlbWVudCkub24oJ2NsaWNrLmJzLmRyb3Bkb3duJywgdGhpcy50b2dnbGUpXG4gIH1cblxuICBEcm9wZG93bi5WRVJTSU9OID0gJzMuMy43J1xuXG4gIGZ1bmN0aW9uIGdldFBhcmVudCgkdGhpcykge1xuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIC8jW0EtWmEtel0vLnRlc3Qoc2VsZWN0b3IpICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSBzZWxlY3RvciAmJiAkKHNlbGVjdG9yKVxuXG4gICAgcmV0dXJuICRwYXJlbnQgJiYgJHBhcmVudC5sZW5ndGggPyAkcGFyZW50IDogJHRoaXMucGFyZW50KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTWVudXMoZSkge1xuICAgIGlmIChlICYmIGUud2hpY2ggPT09IDMpIHJldHVyblxuICAgICQoYmFja2Ryb3ApLnJlbW92ZSgpXG4gICAgJCh0b2dnbGUpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgICAgICAgPSAkKHRoaXMpXG4gICAgICB2YXIgJHBhcmVudCAgICAgICA9IGdldFBhcmVudCgkdGhpcylcbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0geyByZWxhdGVkVGFyZ2V0OiB0aGlzIH1cblxuICAgICAgaWYgKCEkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJykpIHJldHVyblxuXG4gICAgICBpZiAoZSAmJiBlLnR5cGUgPT0gJ2NsaWNrJyAmJiAvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpICYmICQuY29udGFpbnMoJHBhcmVudFswXSwgZS50YXJnZXQpKSByZXR1cm5cblxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdoaWRlLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXMuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuJykudHJpZ2dlcigkLkV2ZW50KCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICB9KVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGNsZWFyTWVudXMoKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAhJHBhcmVudC5jbG9zZXN0KCcubmF2YmFyLW5hdicpLmxlbmd0aCkge1xuICAgICAgICAvLyBpZiBtb2JpbGUgd2UgdXNlIGEgYmFja2Ryb3AgYmVjYXVzZSBjbGljayBldmVudHMgZG9uJ3QgZGVsZWdhdGVcbiAgICAgICAgJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2Ryb3Bkb3duLWJhY2tkcm9wJylcbiAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSlcbiAgICAgICAgICAub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXNcbiAgICAgICAgLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG5cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdvcGVuJylcbiAgICAgICAgLnRyaWdnZXIoJC5FdmVudCgnc2hvd24uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIS8oMzh8NDB8Mjd8MzIpLy50ZXN0KGUud2hpY2gpIHx8IC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGlmICghaXNBY3RpdmUgJiYgZS53aGljaCAhPSAyNyB8fCBpc0FjdGl2ZSAmJiBlLndoaWNoID09IDI3KSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgcmV0dXJuICR0aGlzLnRyaWdnZXIoJ2NsaWNrJylcbiAgICB9XG5cbiAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXNhYmxlZCk6dmlzaWJsZSBhJ1xuICAgIHZhciAkaXRlbXMgPSAkcGFyZW50LmZpbmQoJy5kcm9wZG93bi1tZW51JyArIGRlc2MpXG5cbiAgICBpZiAoISRpdGVtcy5sZW5ndGgpIHJldHVyblxuXG4gICAgdmFyIGluZGV4ID0gJGl0ZW1zLmluZGV4KGUudGFyZ2V0KVxuXG4gICAgaWYgKGUud2hpY2ggPT0gMzggJiYgaW5kZXggPiAwKSAgICAgICAgICAgICAgICAgaW5kZXgtLSAgICAgICAgIC8vIHVwXG4gICAgaWYgKGUud2hpY2ggPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgIC8vIGRvd25cbiAgICBpZiAoIX5pbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDBcblxuICAgICRpdGVtcy5lcShpbmRleCkudHJpZ2dlcignZm9jdXMnKVxuICB9XG5cblxuICAvLyBEUk9QRE9XTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicsIChkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uZHJvcGRvd25cblxuICAkLmZuLmRyb3Bkb3duICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uZHJvcGRvd24uQ29uc3RydWN0b3IgPSBEcm9wZG93blxuXG5cbiAgLy8gRFJPUERPV04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5kcm9wZG93biA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFQUExZIFRPIFNUQU5EQVJEIERST1BET1dOIEVMRU1FTlRTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgY2xlYXJNZW51cylcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgJy5kcm9wZG93biBmb3JtJywgZnVuY3Rpb24gKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKSB9KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUpXG4gICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duLW1lbnUnLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogbW9kYWwuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNtb2RhbHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBNT0RBTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgTW9kYWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyAgICAgICAgICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLiRib2R5ICAgICAgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuJGRpYWxvZyAgICAgICAgICAgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLm1vZGFsLWRpYWxvZycpXG4gICAgdGhpcy4kYmFja2Ryb3AgICAgICAgICAgID0gbnVsbFxuICAgIHRoaXMuaXNTaG93biAgICAgICAgICAgICA9IG51bGxcbiAgICB0aGlzLm9yaWdpbmFsQm9keVBhZCAgICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCAgICAgID0gMFxuICAgIHRoaXMuaWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzMDBcbiAgTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuc2V0U2Nyb2xsYmFyKClcbiAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdtb2RhbC1vcGVuJylcblxuICAgIHRoaXMuZXNjYXBlKClcbiAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsICQucHJveHkodGhpcy5oaWRlLCB0aGlzKSlcblxuICAgIHRoaXMuJGRpYWxvZy5vbignbW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50Lm9uZSgnbW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoYXQuJGVsZW1lbnQpKSB0aGF0Lmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhhdC4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpXG5cbiAgICAgIGlmICghdGhhdC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC5hcHBlbmRUbyh0aGF0LiRib2R5KSAvLyBkb24ndCBtb3ZlIG1vZGFscyBkb20gcG9zaXRpb25cbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5zY3JvbGxUb3AoMClcblxuICAgICAgdGhhdC5hZGp1c3REaWFsb2coKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50LmFkZENsYXNzKCdpbicpXG5cbiAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKClcblxuICAgICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93bi5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgICAgdHJhbnNpdGlvbiA/XG4gICAgICAgIHRoYXQuJGRpYWxvZyAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgZSA9ICQuRXZlbnQoJ2hpZGUuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoIXRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlXG5cbiAgICB0aGlzLmVzY2FwZSgpXG4gICAgdGhpcy5yZXNpemUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLm9mZignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgICAub2ZmKCdtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZGlhbG9nLm9mZignbW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICB0aGlzLmhpZGVNb2RhbCgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICQoZG9jdW1lbnQpXG4gICAgICAub2ZmKCdmb2N1c2luLmJzLm1vZGFsJykgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAub24oJ2ZvY3VzaW4uYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChkb2N1bWVudCAhPT0gZS50YXJnZXQgJiZcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmXG4gICAgICAgICAgICAhdGhpcy4kZWxlbWVudC5oYXMoZS50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lc2NhcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzU2hvd24pIHtcbiAgICAgICQod2luZG93KS5vbigncmVzaXplLmJzLm1vZGFsJywgJC5wcm94eSh0aGlzLmhhbmRsZVVwZGF0ZSwgdGhpcykpXG4gICAgfSBlbHNlIHtcbiAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZS5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kYm9keS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpXG4gICAgICB0aGF0LnJlc2V0QWRqdXN0bWVudHMoKVxuICAgICAgdGhhdC5yZXNldFNjcm9sbGJhcigpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy5tb2RhbCcpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRiYWNrZHJvcCAmJiB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKVxuICAgIHRoaXMuJGJhY2tkcm9wID0gbnVsbFxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmJhY2tkcm9wID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGFuaW1hdGUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAnZmFkZScgOiAnJ1xuXG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMuYmFja2Ryb3ApIHtcbiAgICAgIHZhciBkb0FuaW1hdGUgPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiBhbmltYXRlXG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcbiAgICAgICAgLmFkZENsYXNzKCdtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSlcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuJGJvZHkpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2spIHtcbiAgICAgICAgICB0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm5cbiAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tkcm9wID09ICdzdGF0aWMnXG4gICAgICAgICAgPyB0aGlzLiRlbGVtZW50WzBdLmZvY3VzKClcbiAgICAgICAgICA6IHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcblxuICAgICAgaWYgKGRvQW5pbWF0ZSkgdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCdpbicpXG5cbiAgICAgIGlmICghY2FsbGJhY2spIHJldHVyblxuXG4gICAgICBkb0FuaW1hdGUgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjYWxsYmFja1JlbW92ZSgpXG5cbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgLy8gdGhlc2UgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgdG8gaGFuZGxlIG92ZXJmbG93aW5nIG1vZGFsc1xuXG4gIE1vZGFsLnByb3RvdHlwZS5oYW5kbGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hZGp1c3REaWFsb2coKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmFkanVzdERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbW9kYWxJc092ZXJmbG93aW5nID0gdGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG5cbiAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICBwYWRkaW5nTGVmdDogICF0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmIG1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJyxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiAhbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldEFkanVzdG1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiAnJyxcbiAgICAgIHBhZGRpbmdSaWdodDogJydcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmdWxsV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIGlmICghZnVsbFdpbmRvd1dpZHRoKSB7IC8vIHdvcmthcm91bmQgZm9yIG1pc3Npbmcgd2luZG93LmlubmVyV2lkdGggaW4gSUU4XG4gICAgICB2YXIgZG9jdW1lbnRFbGVtZW50UmVjdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgZnVsbFdpbmRvd1dpZHRoID0gZG9jdW1lbnRFbGVtZW50UmVjdC5yaWdodCAtIE1hdGguYWJzKGRvY3VtZW50RWxlbWVudFJlY3QubGVmdClcbiAgICB9XG4gICAgdGhpcy5ib2R5SXNPdmVyZmxvd2luZyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCBmdWxsV2luZG93V2lkdGhcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gdGhpcy5tZWFzdXJlU2Nyb2xsYmFyKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJvZHlQYWQgPSBwYXJzZUludCgodGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwKSwgMTApXG4gICAgdGhpcy5vcmlnaW5hbEJvZHlQYWQgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCB8fCAnJ1xuICAgIGlmICh0aGlzLmJvZHlJc092ZXJmbG93aW5nKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgdGhpcy5vcmlnaW5hbEJvZHlQYWQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0b29sdGlwXG4gKiBJbnNwaXJlZCBieSB0aGUgb3JpZ2luYWwgalF1ZXJ5LnRpcHN5IGJ5IEphc29uIEZyYW1lXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSAgICAgICA9IG51bGxcbiAgICB0aGlzLm9wdGlvbnMgICAgPSBudWxsXG4gICAgdGhpcy5lbmFibGVkICAgID0gbnVsbFxuICAgIHRoaXMudGltZW91dCAgICA9IG51bGxcbiAgICB0aGlzLmhvdmVyU3RhdGUgPSBudWxsXG4gICAgdGhpcy4kZWxlbWVudCAgID0gbnVsbFxuICAgIHRoaXMuaW5TdGF0ZSAgICA9IG51bGxcblxuICAgIHRoaXMuaW5pdCgndG9vbHRpcCcsIGVsZW1lbnQsIG9wdGlvbnMpXG4gIH1cblxuICBUb29sdGlwLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIFRvb2x0aXAuREVGQVVMVFMgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJ0b29sdGlwLWFycm93XCI+PC9kaXY+PGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLFxuICAgIHRyaWdnZXI6ICdob3ZlciBmb2N1cycsXG4gICAgdGl0bGU6ICcnLFxuICAgIGRlbGF5OiAwLFxuICAgIGh0bWw6IGZhbHNlLFxuICAgIGNvbnRhaW5lcjogZmFsc2UsXG4gICAgdmlld3BvcnQ6IHtcbiAgICAgIHNlbGVjdG9yOiAnYm9keScsXG4gICAgICBwYWRkaW5nOiAwXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0eXBlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5lbmFibGVkICAgPSB0cnVlXG4gICAgdGhpcy50eXBlICAgICAgPSB0eXBlXG4gICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgPSB0aGlzLmdldE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLiR2aWV3cG9ydCA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiAkKCQuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMudmlld3BvcnQpID8gdGhpcy5vcHRpb25zLnZpZXdwb3J0LmNhbGwodGhpcywgdGhpcy4kZWxlbWVudCkgOiAodGhpcy5vcHRpb25zLnZpZXdwb3J0LnNlbGVjdG9yIHx8IHRoaXMub3B0aW9ucy52aWV3cG9ydCkpXG4gICAgdGhpcy5pblN0YXRlICAgPSB7IGNsaWNrOiBmYWxzZSwgaG92ZXI6IGZhbHNlLCBmb2N1czogZmFsc2UgfVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gaW5zdGFuY2VvZiBkb2N1bWVudC5jb25zdHJ1Y3RvciAmJiAhdGhpcy5vcHRpb25zLnNlbGVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BzZWxlY3RvcmAgb3B0aW9uIG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gaW5pdGlhbGl6aW5nICcgKyB0aGlzLnR5cGUgKyAnIG9uIHRoZSB3aW5kb3cuZG9jdW1lbnQgb2JqZWN0IScpXG4gICAgfVxuXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IHRyaWdnZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICBpZiAodHJpZ2dlciA9PSAnY2xpY2snKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgdmFyIGV2ZW50SW4gID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlZW50ZXInIDogJ2ZvY3VzaW4nXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcblxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgP1xuICAgICAgKHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7IHRyaWdnZXI6ICdtYW51YWwnLCBzZWxlY3RvcjogJycgfSkpIDpcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChkZWZhdWx0c1trZXldICE9IHZhbHVlKSBvcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mICQuRXZlbnQpIHtcbiAgICAgIHNlbGYuaW5TdGF0ZVtvYmoudHlwZSA9PSAnZm9jdXNpbicgPyAnZm9jdXMnIDogJ2hvdmVyJ10gPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgfHwgc2VsZi5ob3ZlclN0YXRlID09ICdpbicpIHtcbiAgICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpIHJldHVybiBzZWxmLnNob3coKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdpbicpIHNlbGYuc2hvdygpXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5pc0luU3RhdGVUcnVlID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmluU3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLmluU3RhdGVba2V5XSkgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGlmIChvYmogaW5zdGFuY2VvZiAkLkV2ZW50KSB7XG4gICAgICBzZWxmLmluU3RhdGVbb2JqLnR5cGUgPT0gJ2ZvY3Vzb3V0JyA/ICdmb2N1cycgOiAnaG92ZXInXSA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHNlbGYuaXNJblN0YXRlVHJ1ZSgpKSByZXR1cm5cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnb3V0J1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnb3V0Jykgc2VsZi5oaWRlKClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgdmFyIGluRG9tID0gJC5jb250YWlucyh0aGlzLiRlbGVtZW50WzBdLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLiRlbGVtZW50WzBdKVxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWluRG9tKSByZXR1cm5cbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuXG4gICAgICB2YXIgJHRpcCA9IHRoaXMudGlwKClcblxuICAgICAgdmFyIHRpcElkID0gdGhpcy5nZXRVSUQodGhpcy50eXBlKVxuXG4gICAgICB0aGlzLnNldENvbnRlbnQoKVxuICAgICAgJHRpcC5hdHRyKCdpZCcsIHRpcElkKVxuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSAkdGlwLmFkZENsYXNzKCdmYWRlJylcblxuICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50ID09ICdmdW5jdGlvbicgP1xuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywgJHRpcFswXSwgdGhpcy4kZWxlbWVudFswXSkgOlxuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50XG5cbiAgICAgIHZhciBhdXRvVG9rZW4gPSAvXFxzP2F1dG8/XFxzPy9pXG4gICAgICB2YXIgYXV0b1BsYWNlID0gYXV0b1Rva2VuLnRlc3QocGxhY2VtZW50KVxuICAgICAgaWYgKGF1dG9QbGFjZSkgcGxhY2VtZW50ID0gcGxhY2VtZW50LnJlcGxhY2UoYXV0b1Rva2VuLCAnJykgfHwgJ3RvcCdcblxuICAgICAgJHRpcFxuICAgICAgICAuZGV0YWNoKClcbiAgICAgICAgLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgICAuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgdGhpcylcblxuICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA/ICR0aXAuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcikgOiAkdGlwLmluc2VydEFmdGVyKHRoaXMuJGVsZW1lbnQpXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2luc2VydGVkLmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICAgIHZhciBwb3MgICAgICAgICAgPSB0aGlzLmdldFBvc2l0aW9uKClcbiAgICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgICAgaWYgKGF1dG9QbGFjZSkge1xuICAgICAgICB2YXIgb3JnUGxhY2VtZW50ID0gcGxhY2VtZW50XG4gICAgICAgIHZhciB2aWV3cG9ydERpbSA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICAgICAgcGxhY2VtZW50ID0gcGxhY2VtZW50ID09ICdib3R0b20nICYmIHBvcy5ib3R0b20gKyBhY3R1YWxIZWlnaHQgPiB2aWV3cG9ydERpbS5ib3R0b20gPyAndG9wJyAgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICAmJiBwb3MudG9wICAgIC0gYWN0dWFsSGVpZ2h0IDwgdmlld3BvcnREaW0udG9wICAgID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAgJiYgcG9zLnJpZ2h0ICArIGFjdHVhbFdpZHRoICA+IHZpZXdwb3J0RGltLndpZHRoICA/ICdsZWZ0JyAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgICYmIHBvcy5sZWZ0ICAgLSBhY3R1YWxXaWR0aCAgPCB2aWV3cG9ydERpbS5sZWZ0ICAgPyAncmlnaHQnICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudFxuXG4gICAgICAgICR0aXBcbiAgICAgICAgICAucmVtb3ZlQ2xhc3Mob3JnUGxhY2VtZW50KVxuICAgICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICB9XG5cbiAgICAgIHZhciBjYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KGNhbGN1bGF0ZWRPZmZzZXQsIHBsYWNlbWVudClcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJldkhvdmVyU3RhdGUgPSB0aGF0LmhvdmVyU3RhdGVcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgICB0aGF0LmhvdmVyU3RhdGUgPSBudWxsXG5cbiAgICAgICAgaWYgKHByZXZIb3ZlclN0YXRlID09ICdvdXQnKSB0aGF0LmxlYXZlKHRoYXQpXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY29tcGxldGUoKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgdmFyICR0aXAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgd2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgLy8gbWFudWFsbHkgcmVhZCBtYXJnaW5zIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluY2x1ZGVzIGRpZmZlcmVuY2VcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxuICAgIGlmIChpc05hTihtYXJnaW5Ub3ApKSAgbWFyZ2luVG9wICA9IDBcbiAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICBvZmZzZXQudG9wICArPSBtYXJnaW5Ub3BcbiAgICBvZmZzZXQubGVmdCArPSBtYXJnaW5MZWZ0XG5cbiAgICAvLyAkLmZuLm9mZnNldCBkb2Vzbid0IHJvdW5kIHBpeGVsIHZhbHVlc1xuICAgIC8vIHNvIHdlIHVzZSBzZXRPZmZzZXQgZGlyZWN0bHkgd2l0aCBvdXIgb3duIGZ1bmN0aW9uIEItMFxuICAgICQub2Zmc2V0LnNldE9mZnNldCgkdGlwWzBdLCAkLmV4dGVuZCh7XG4gICAgICB1c2luZzogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICR0aXAuY3NzKHtcbiAgICAgICAgICB0b3A6IE1hdGgucm91bmQocHJvcHMudG9wKSxcbiAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKHByb3BzLmxlZnQpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSwgb2Zmc2V0KSwgMClcblxuICAgICR0aXAuYWRkQ2xhc3MoJ2luJylcblxuICAgIC8vIGNoZWNrIHRvIHNlZSBpZiBwbGFjaW5nIHRpcCBpbiBuZXcgb2Zmc2V0IGNhdXNlZCB0aGUgdGlwIHRvIHJlc2l6ZSBpdHNlbGZcbiAgICB2YXIgYWN0dWFsV2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgaWYgKHBsYWNlbWVudCA9PSAndG9wJyAmJiBhY3R1YWxIZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICBvZmZzZXQudG9wID0gb2Zmc2V0LnRvcCArIGhlaWdodCAtIGFjdHVhbEhlaWdodFxuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhKHBsYWNlbWVudCwgb2Zmc2V0LCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgaWYgKGRlbHRhLmxlZnQpIG9mZnNldC5sZWZ0ICs9IGRlbHRhLmxlZnRcbiAgICBlbHNlIG9mZnNldC50b3AgKz0gZGVsdGEudG9wXG5cbiAgICB2YXIgaXNWZXJ0aWNhbCAgICAgICAgICA9IC90b3B8Ym90dG9tLy50ZXN0KHBsYWNlbWVudClcbiAgICB2YXIgYXJyb3dEZWx0YSAgICAgICAgICA9IGlzVmVydGljYWwgPyBkZWx0YS5sZWZ0ICogMiAtIHdpZHRoICsgYWN0dWFsV2lkdGggOiBkZWx0YS50b3AgKiAyIC0gaGVpZ2h0ICsgYWN0dWFsSGVpZ2h0XG4gICAgdmFyIGFycm93T2Zmc2V0UG9zaXRpb24gPSBpc1ZlcnRpY2FsID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnXG5cbiAgICAkdGlwLm9mZnNldChvZmZzZXQpXG4gICAgdGhpcy5yZXBsYWNlQXJyb3coYXJyb3dEZWx0YSwgJHRpcFswXVthcnJvd09mZnNldFBvc2l0aW9uXSwgaXNWZXJ0aWNhbClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnJlcGxhY2VBcnJvdyA9IGZ1bmN0aW9uIChkZWx0YSwgZGltZW5zaW9uLCBpc1ZlcnRpY2FsKSB7XG4gICAgdGhpcy5hcnJvdygpXG4gICAgICAuY3NzKGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJywgNTAgKiAoMSAtIGRlbHRhIC8gZGltZW5zaW9uKSArICclJylcbiAgICAgIC5jc3MoaXNWZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnLCAnJylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKVxuXG4gICAgJHRpcC5maW5kKCcudG9vbHRpcC1pbm5lcicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCcpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyICR0aXAgPSAkKHRoaXMuJHRpcClcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ2hpZGUuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKHRoYXQuaG92ZXJTdGF0ZSAhPSAnaW4nKSAkdGlwLmRldGFjaCgpXG4gICAgICBpZiAodGhhdC4kZWxlbWVudCkgeyAvLyBUT0RPOiBDaGVjayB3aGV0aGVyIGd1YXJkaW5nIHRoaXMgY29kZSB3aXRoIHRoaXMgYGlmYCBpcyByZWFsbHkgbmVjZXNzYXJ5LlxuICAgICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxuICAgICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuJyArIHRoYXQudHlwZSlcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkdGlwXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICBjb21wbGV0ZSgpXG5cbiAgICB0aGlzLmhvdmVyU3RhdGUgPSBudWxsXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZml4VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIGlmICgkZS5hdHRyKCd0aXRsZScpIHx8IHR5cGVvZiAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuXG4gICAgdmFyIGVsICAgICA9ICRlbGVtZW50WzBdXG4gICAgdmFyIGlzQm9keSA9IGVsLnRhZ05hbWUgPT0gJ0JPRFknXG5cbiAgICB2YXIgZWxSZWN0ICAgID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBpZiAoZWxSZWN0LndpZHRoID09IG51bGwpIHtcbiAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgYXJlIG1pc3NpbmcgaW4gSUU4LCBzbyBjb21wdXRlIHRoZW0gbWFudWFsbHk7IHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvaXNzdWVzLzE0MDkzXG4gICAgICBlbFJlY3QgPSAkLmV4dGVuZCh7fSwgZWxSZWN0LCB7IHdpZHRoOiBlbFJlY3QucmlnaHQgLSBlbFJlY3QubGVmdCwgaGVpZ2h0OiBlbFJlY3QuYm90dG9tIC0gZWxSZWN0LnRvcCB9KVxuICAgIH1cbiAgICB2YXIgaXNTdmcgPSB3aW5kb3cuU1ZHRWxlbWVudCAmJiBlbCBpbnN0YW5jZW9mIHdpbmRvdy5TVkdFbGVtZW50XG4gICAgLy8gQXZvaWQgdXNpbmcgJC5vZmZzZXQoKSBvbiBTVkdzIHNpbmNlIGl0IGdpdmVzIGluY29ycmVjdCByZXN1bHRzIGluIGpRdWVyeSAzLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvaXNzdWVzLzIwMjgwXG4gICAgdmFyIGVsT2Zmc2V0ICA9IGlzQm9keSA/IHsgdG9wOiAwLCBsZWZ0OiAwIH0gOiAoaXNTdmcgPyBudWxsIDogJGVsZW1lbnQub2Zmc2V0KCkpXG4gICAgdmFyIHNjcm9sbCAgICA9IHsgc2Nyb2xsOiBpc0JvZHkgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIDogJGVsZW1lbnQuc2Nyb2xsVG9wKCkgfVxuICAgIHZhciBvdXRlckRpbXMgPSBpc0JvZHkgPyB7IHdpZHRoOiAkKHdpbmRvdykud2lkdGgoKSwgaGVpZ2h0OiAkKHdpbmRvdykuaGVpZ2h0KCkgfSA6IG51bGxcblxuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgZWxSZWN0LCBzY3JvbGwsIG91dGVyRGltcywgZWxPZmZzZXQpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICA/IHsgdG9wOiBwb3MudG9wIC0gYWN0dWFsSGVpZ2h0LCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCAtIGFjdHVhbFdpZHRoIH0gOlxuICAgICAgICAvKiBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAqLyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggfVxuXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICB2YXIgZGVsdGEgPSB7IHRvcDogMCwgbGVmdDogMCB9XG4gICAgaWYgKCF0aGlzLiR2aWV3cG9ydCkgcmV0dXJuIGRlbHRhXG5cbiAgICB2YXIgdmlld3BvcnRQYWRkaW5nID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmIHRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nIHx8IDBcbiAgICB2YXIgdmlld3BvcnREaW1lbnNpb25zID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgIGlmICgvcmlnaHR8bGVmdC8udGVzdChwbGFjZW1lbnQpKSB7XG4gICAgICB2YXIgdG9wRWRnZU9mZnNldCAgICA9IHBvcy50b3AgLSB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsXG4gICAgICB2YXIgYm90dG9tRWRnZU9mZnNldCA9IHBvcy50b3AgKyB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsICsgYWN0dWFsSGVpZ2h0XG4gICAgICBpZiAodG9wRWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy50b3ApIHsgLy8gdG9wIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgLSB0b3BFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbUVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCkgeyAvLyBib3R0b20gb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQgLSBib3R0b21FZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZWZ0RWRnZU9mZnNldCAgPSBwb3MubGVmdCAtIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgdmFyIHJpZ2h0RWRnZU9mZnNldCA9IHBvcy5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nICsgYWN0dWFsV2lkdGhcbiAgICAgIGlmIChsZWZ0RWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0KSB7IC8vIGxlZnQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0IC0gbGVmdEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAocmlnaHRFZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnJpZ2h0KSB7IC8vIHJpZ2h0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCAtIHJpZ2h0RWRnZU9mZnNldFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWx0YVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpdGxlXG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgdGl0bGUgPSAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJylcbiAgICAgIHx8ICh0eXBlb2Ygby50aXRsZSA9PSAnZnVuY3Rpb24nID8gby50aXRsZS5jYWxsKCRlWzBdKSA6ICBvLnRpdGxlKVxuXG4gICAgcmV0dXJuIHRpdGxlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQgPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgZG8gcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKVxuICAgIHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKVxuICAgIHJldHVybiBwcmVmaXhcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJHRpcCkge1xuICAgICAgdGhpcy4kdGlwID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpXG4gICAgICBpZiAodGhpcy4kdGlwLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLnR5cGUgKyAnIGB0ZW1wbGF0ZWAgb3B0aW9uIG11c3QgY29uc2lzdCBvZiBleGFjdGx5IDEgdG9wLWxldmVsIGVsZW1lbnQhJylcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuJHRpcFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGVFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9ICF0aGlzLmVuYWJsZWRcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgaWYgKGUpIHtcbiAgICAgIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcbiAgICAgIGlmICghc2VsZikge1xuICAgICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZS5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZSkge1xuICAgICAgc2VsZi5pblN0YXRlLmNsaWNrID0gIXNlbGYuaW5TdGF0ZS5jbGlja1xuICAgICAgaWYgKHNlbGYuaXNJblN0YXRlVHJ1ZSgpKSBzZWxmLmVudGVyKHNlbGYpXG4gICAgICBlbHNlIHNlbGYubGVhdmUoc2VsZilcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSA/IHNlbGYubGVhdmUoc2VsZikgOiBzZWxmLmVudGVyKHNlbGYpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZShmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50Lm9mZignLicgKyB0aGF0LnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGF0LnR5cGUpXG4gICAgICBpZiAodGhhdC4kdGlwKSB7XG4gICAgICAgIHRoYXQuJHRpcC5kZXRhY2goKVxuICAgICAgfVxuICAgICAgdGhhdC4kdGlwID0gbnVsbFxuICAgICAgdGhhdC4kYXJyb3cgPSBudWxsXG4gICAgICB0aGF0LiR2aWV3cG9ydCA9IG51bGxcbiAgICAgIHRoYXQuJGVsZW1lbnQgPSBudWxsXG4gICAgfSlcbiAgfVxuXG5cbiAgLy8gVE9PTFRJUCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgL2Rlc3Ryb3l8aGlkZS8udGVzdChvcHRpb24pKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcsIChkYXRhID0gbmV3IFRvb2x0aXAodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRvb2x0aXBcblxuICAkLmZuLnRvb2x0aXAgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yID0gVG9vbHRpcFxuXG5cbiAgLy8gVE9PTFRJUCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi50b29sdGlwLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi50b29sdGlwID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBwb3BvdmVyLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jcG9wb3ZlcnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBQT1BPVkVSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgUG9wb3ZlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghJC5mbi50b29sdGlwKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcycpXG5cbiAgUG9wb3Zlci5WRVJTSU9OICA9ICczLjMuNydcblxuICBQb3BvdmVyLkRFRkFVTFRTID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUywge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nXG4gIH0pXG5cblxuICAvLyBOT1RFOiBQT1BPVkVSIEVYVEVORFMgdG9vbHRpcC5qc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb3BvdmVyXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBvcG92ZXIuREVGQVVMVFNcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlICAgPSB0aGlzLmdldFRpdGxlKClcbiAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpXG5cbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItY29udGVudCcpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbIC8vIHdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcbiAgICAgIHRoaXMub3B0aW9ucy5odG1sID8gKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnID8gJ2h0bWwnIDogJ2FwcGVuZCcpIDogJ3RleHQnXG4gICAgXShjb250ZW50KVxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKVxuXG4gICAgLy8gSUU4IGRvZXNuJ3QgYWNjZXB0IGhpZGluZyB2aWEgdGhlIGA6ZW1wdHlgIHBzZXVkbyBzZWxlY3Rvciwgd2UgaGF2ZSB0byBkb1xuICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxuICAgIGlmICghJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmh0bWwoKSkgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmhpZGUoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuZ2V0Q29udGVudCgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxuICAgICAgfHwgKHR5cGVvZiBvLmNvbnRlbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBvLmNvbnRlbnQuY2FsbCgkZVswXSkgOlxuICAgICAgICAgICAgby5jb250ZW50KVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLmFycm93JykpXG4gIH1cblxuXG4gIC8vIFBPUE9WRVIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIC9kZXN0cm95fGhpZGUvLnRlc3Qob3B0aW9uKSkgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInLCAoZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5wb3BvdmVyXG5cbiAgJC5mbi5wb3BvdmVyICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ucG9wb3Zlci5Db25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuXG4gIC8vIFBPUE9WRVIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ucG9wb3ZlciA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jc2Nyb2xsc3B5XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudCA9ICQoZWxlbWVudCkuaXMoZG9jdW1lbnQuYm9keSkgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXG4gICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsICQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKSlcbiAgICB0aGlzLnJlZnJlc2goKVxuICAgIHRoaXMucHJvY2VzcygpXG4gIH1cblxuICBTY3JvbGxTcHkuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgU2Nyb2xsU3B5LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMTBcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuZ2V0U2Nyb2xsSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodCB8fCBNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodClcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgICA9IHRoaXNcbiAgICB2YXIgb2Zmc2V0TWV0aG9kICA9ICdvZmZzZXQnXG4gICAgdmFyIG9mZnNldEJhc2UgICAgPSAwXG5cbiAgICB0aGlzLm9mZnNldHMgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgPSBbXVxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuXG4gICAgaWYgKCEkLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pKSB7XG4gICAgICBvZmZzZXRNZXRob2QgPSAncG9zaXRpb24nXG4gICAgICBvZmZzZXRCYXNlICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpXG4gICAgfVxuXG4gICAgdGhpcy4kYm9keVxuICAgICAgLmZpbmQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBocmVmICA9ICRlbC5kYXRhKCd0YXJnZXQnKSB8fCAkZWwuYXR0cignaHJlZicpXG4gICAgICAgIHZhciAkaHJlZiA9IC9eIy4vLnRlc3QoaHJlZikgJiYgJChocmVmKVxuXG4gICAgICAgIHJldHVybiAoJGhyZWZcbiAgICAgICAgICAmJiAkaHJlZi5sZW5ndGhcbiAgICAgICAgICAmJiAkaHJlZi5pcygnOnZpc2libGUnKVxuICAgICAgICAgICYmIFtbJGhyZWZbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIGhyZWZdXSkgfHwgbnVsbFxuICAgICAgfSlcbiAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXSB9KVxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0Lm9mZnNldHMucHVzaCh0aGlzWzBdKVxuICAgICAgICB0aGF0LnRhcmdldHMucHVzaCh0aGlzWzFdKVxuICAgICAgfSlcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuICAgIHZhciBtYXhTY3JvbGwgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKVxuICAgIHZhciBvZmZzZXRzICAgICAgPSB0aGlzLm9mZnNldHNcbiAgICB2YXIgdGFyZ2V0cyAgICAgID0gdGhpcy50YXJnZXRzXG4gICAgdmFyIGFjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0XG4gICAgdmFyIGlcblxuICAgIGlmICh0aGlzLnNjcm9sbEhlaWdodCAhPSBzY3JvbGxIZWlnaHQpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcbiAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzW3RhcmdldHMubGVuZ3RoIC0gMV0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlVGFyZ2V0ICYmIHNjcm9sbFRvcCA8IG9mZnNldHNbMF0pIHtcbiAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gbnVsbFxuICAgICAgcmV0dXJuIHRoaXMuY2xlYXIoKVxuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICBhY3RpdmVUYXJnZXQgIT0gdGFyZ2V0c1tpXVxuICAgICAgICAmJiBzY3JvbGxUb3AgPj0gb2Zmc2V0c1tpXVxuICAgICAgICAmJiAob2Zmc2V0c1tpICsgMV0gPT09IHVuZGVmaW5lZCB8fCBzY3JvbGxUb3AgPCBvZmZzZXRzW2kgKyAxXSlcbiAgICAgICAgJiYgdGhpcy5hY3RpdmF0ZSh0YXJnZXRzW2ldKVxuICAgIH1cbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgPSB0YXJnZXRcblxuICAgIHRoaXMuY2xlYXIoKVxuXG4gICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciArXG4gICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICB0aGlzLnNlbGVjdG9yICsgJ1tocmVmPVwiJyArIHRhcmdldCArICdcIl0nXG5cbiAgICB2YXIgYWN0aXZlID0gJChzZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzKCdsaScpXG4gICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICBpZiAoYWN0aXZlLnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKS5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZSA9IGFjdGl2ZVxuICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgYWN0aXZlLnRyaWdnZXIoJ2FjdGl2YXRlLmJzLnNjcm9sbHNweScpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwgJy5hY3RpdmUnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JywgKGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5zY3JvbGxzcHlcblxuICAkLmZuLnNjcm9sbHNweSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3RvciA9IFNjcm9sbFNweVxuXG5cbiAgLy8gU0NST0xMU1BZIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uc2Nyb2xsc3B5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5zY3JvbGxzcHkgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaScsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgJHNweS5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdGFiLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRBQiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRhYiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgLy8ganNjczpkaXNhYmxlIHJlcXVpcmVEb2xsYXJCZWZvcmVqUXVlcnlBc3NpZ25tZW50XG4gICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KVxuICAgIC8vIGpzY3M6ZW5hYmxlIHJlcXVpcmVEb2xsYXJCZWZvcmVqUXVlcnlBc3NpZ25tZW50XG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjMuNydcblxuICBUYWIuVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIFRhYi5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgICAgPSB0aGlzLmVsZW1lbnRcbiAgICB2YXIgJHVsICAgICAgPSAkdGhpcy5jbG9zZXN0KCd1bDpub3QoLmRyb3Bkb3duLW1lbnUpJylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5kYXRhKCd0YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICBpZiAoJHRoaXMucGFyZW50KCdsaScpLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylcbiAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiAkdGhpc1swXVxuICAgIH0pXG4gICAgdmFyIHNob3dFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMudGFiJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogJHByZXZpb3VzWzBdXG4gICAgfSlcblxuICAgICRwcmV2aW91cy50cmlnZ2VyKGhpZGVFdmVudClcbiAgICAkdGhpcy50cmlnZ2VyKHNob3dFdmVudClcblxuICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHByZXZpb3VzLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnaGlkZGVuLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgICB9KVxuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFRhYi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIHZhciAkYWN0aXZlICAgID0gY29udGFpbmVyLmZpbmQoJz4gLmFjdGl2ZScpXG4gICAgdmFyIHRyYW5zaXRpb24gPSBjYWxsYmFja1xuICAgICAgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb25cbiAgICAgICYmICgkYWN0aXZlLmxlbmd0aCAmJiAkYWN0aXZlLmhhc0NsYXNzKCdmYWRlJykgfHwgISFjb250YWluZXIuZmluZCgnPiAuZmFkZScpLmxlbmd0aClcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJz4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlJylcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgICBlbGVtZW50XG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpXG4gICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIHJlZmxvdyBmb3IgdHJhbnNpdGlvblxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdmYWRlJylcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50XG4gICAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgICRhY3RpdmUubGVuZ3RoICYmIHRyYW5zaXRpb24gP1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBuZXh0KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVGFiLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIG5leHQoKVxuXG4gICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnaW4nKVxuICB9XG5cblxuICAvLyBUQUIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMudGFiJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50YWInLCAoZGF0YSA9IG5ldyBUYWIodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRhYlxuXG4gICQuZm4udGFiICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiXG5cblxuICAvLyBUQUIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJC5mbi50YWIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRhYiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFRBQiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT1cblxuICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScsIGNsaWNrSGFuZGxlcilcbiAgICAub24oJ2NsaWNrLmJzLnRhYi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgY2xpY2tIYW5kbGVyKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhZmZpeC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FmZml4XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUZGSVggQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEFmZml4ID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWZmaXguREVGQVVMVFMsIG9wdGlvbnMpXG5cbiAgICB0aGlzLiR0YXJnZXQgPSAkKHRoaXMub3B0aW9ucy50YXJnZXQpXG4gICAgICAub24oJ3Njcm9sbC5icy5hZmZpeC5kYXRhLWFwaScsICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSlcbiAgICAgIC5vbignY2xpY2suYnMuYWZmaXguZGF0YS1hcGknLCAgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLCB0aGlzKSlcblxuICAgIHRoaXMuJGVsZW1lbnQgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuYWZmaXhlZCAgICAgID0gbnVsbFxuICAgIHRoaXMudW5waW4gICAgICAgID0gbnVsbFxuICAgIHRoaXMucGlubmVkT2Zmc2V0ID0gbnVsbFxuXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgfVxuXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMy43J1xuXG4gIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgQWZmaXguREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIHRhcmdldDogd2luZG93XG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoc2Nyb2xsSGVpZ2h0LCBoZWlnaHQsIG9mZnNldFRvcCwgb2Zmc2V0Qm90dG9tKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgICAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgdmFyIHRhcmdldEhlaWdodCA9IHRoaXMuJHRhcmdldC5oZWlnaHQoKVxuXG4gICAgaWYgKG9mZnNldFRvcCAhPSBudWxsICYmIHRoaXMuYWZmaXhlZCA9PSAndG9wJykgcmV0dXJuIHNjcm9sbFRvcCA8IG9mZnNldFRvcCA/ICd0b3AnIDogZmFsc2VcblxuICAgIGlmICh0aGlzLmFmZml4ZWQgPT0gJ2JvdHRvbScpIHtcbiAgICAgIGlmIChvZmZzZXRUb3AgIT0gbnVsbCkgcmV0dXJuIChzY3JvbGxUb3AgKyB0aGlzLnVucGluIDw9IHBvc2l0aW9uLnRvcCkgPyBmYWxzZSA6ICdib3R0b20nXG4gICAgICByZXR1cm4gKHNjcm9sbFRvcCArIHRhcmdldEhlaWdodCA8PSBzY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b20pID8gZmFsc2UgOiAnYm90dG9tJ1xuICAgIH1cblxuICAgIHZhciBpbml0aWFsaXppbmcgICA9IHRoaXMuYWZmaXhlZCA9PSBudWxsXG4gICAgdmFyIGNvbGxpZGVyVG9wICAgID0gaW5pdGlhbGl6aW5nID8gc2Nyb2xsVG9wIDogcG9zaXRpb24udG9wXG4gICAgdmFyIGNvbGxpZGVySGVpZ2h0ID0gaW5pdGlhbGl6aW5nID8gdGFyZ2V0SGVpZ2h0IDogaGVpZ2h0XG5cbiAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwgJiYgc2Nyb2xsVG9wIDw9IG9mZnNldFRvcCkgcmV0dXJuICd0b3AnXG4gICAgaWYgKG9mZnNldEJvdHRvbSAhPSBudWxsICYmIChjb2xsaWRlclRvcCArIGNvbGxpZGVySGVpZ2h0ID49IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkpIHJldHVybiAnYm90dG9tJ1xuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBpbm5lZE9mZnNldCkgcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoJ2FmZml4JylcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICByZXR1cm4gKHRoaXMucGlubmVkT2Zmc2V0ID0gcG9zaXRpb24udG9wIC0gc2Nyb2xsVG9wKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm5cblxuICAgIHZhciBoZWlnaHQgICAgICAgPSB0aGlzLiRlbGVtZW50LmhlaWdodCgpXG4gICAgdmFyIG9mZnNldCAgICAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcFxuICAgIHZhciBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tXG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IE1hdGgubWF4KCQoZG9jdW1lbnQpLmhlaWdodCgpLCAkKGRvY3VtZW50LmJvZHkpLmhlaWdodCgpKVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT0gJ29iamVjdCcpICAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0XG4gICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcblxuICAgIHZhciBhZmZpeCA9IHRoaXMuZ2V0U3RhdGUoc2Nyb2xsSGVpZ2h0LCBoZWlnaHQsIG9mZnNldFRvcCwgb2Zmc2V0Qm90dG9tKVxuXG4gICAgaWYgKHRoaXMuYWZmaXhlZCAhPSBhZmZpeCkge1xuICAgICAgaWYgKHRoaXMudW5waW4gIT0gbnVsbCkgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsICcnKVxuXG4gICAgICB2YXIgYWZmaXhUeXBlID0gJ2FmZml4JyArIChhZmZpeCA/ICctJyArIGFmZml4IDogJycpXG4gICAgICB2YXIgZSAgICAgICAgID0gJC5FdmVudChhZmZpeFR5cGUgKyAnLmJzLmFmZml4JylcblxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgdGhpcy5hZmZpeGVkID0gYWZmaXhcbiAgICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHRoaXMuZ2V0UGlubmVkT2Zmc2V0KCkgOiBudWxsXG5cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKVxuICAgICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxuICAgICAgICAudHJpZ2dlcihhZmZpeFR5cGUucmVwbGFjZSgnYWZmaXgnLCAnYWZmaXhlZCcpICsgJy5icy5hZmZpeCcpXG4gICAgfVxuXG4gICAgaWYgKGFmZml4ID09ICdib3R0b20nKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZnNldCh7XG4gICAgICAgIHRvcDogc2Nyb2xsSGVpZ2h0IC0gaGVpZ2h0IC0gb2Zmc2V0Qm90dG9tXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG5cbiAgLy8gQUZGSVggUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYWZmaXgnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFmZml4JywgKGRhdGEgPSBuZXcgQWZmaXgodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFmZml4XG5cbiAgJC5mbi5hZmZpeCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFmZml4LkNvbnN0cnVjdG9yID0gQWZmaXhcblxuXG4gIC8vIEFGRklYIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hZmZpeC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWZmaXggPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBRkZJWCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJhZmZpeFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSA9ICRzcHkuZGF0YSgpXG5cbiAgICAgIGRhdGEub2Zmc2V0ID0gZGF0YS5vZmZzZXQgfHwge31cblxuICAgICAgaWYgKGRhdGEub2Zmc2V0Qm90dG9tICE9IG51bGwpIGRhdGEub2Zmc2V0LmJvdHRvbSA9IGRhdGEub2Zmc2V0Qm90dG9tXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3AgICAgIT0gbnVsbCkgZGF0YS5vZmZzZXQudG9wICAgID0gZGF0YS5vZmZzZXRUb3BcblxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgZGF0YSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjIuMi40XG4gKiBodHRwOi8vanF1ZXJ5LmNvbS9cbiAqXG4gKiBJbmNsdWRlcyBTaXp6bGUuanNcbiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDUtMjBUMTc6MjNaXG4gKi9cblxuKGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gU3VwcG9ydDogRmlyZWZveCAxOCtcbi8vIENhbid0IGJlIGluIHN0cmljdCBtb2RlLCBzZXZlcmFsIGxpYnMgaW5jbHVkaW5nIEFTUC5ORVQgdHJhY2Vcbi8vIHRoZSBzdGFjayB2aWEgYXJndW1lbnRzLmNhbGxlci5jYWxsZWUgYW5kIEZpcmVmb3ggZGllcyBpZlxuLy8geW91IHRyeSB0byB0cmFjZSB0aHJvdWdoIFwidXNlIHN0cmljdFwiIGNhbGwgY2hhaW5zLiAoIzEzMzM1KVxuLy9cInVzZSBzdHJpY3RcIjtcbnZhciBhcnIgPSBbXTtcblxudmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIHN1cHBvcnQgPSB7fTtcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIyLjIuNFwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMVxuXHQvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1Bcblx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXG5cblx0Ly8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG5cdHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbXFxkYS16XSkvZ2ksXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFN0YXJ0IHdpdGggYW4gZW1wdHkgc2VsZWN0b3Jcblx0c2VsZWN0b3I6IFwiXCIsXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHJldHVybiBudW0gIT0gbnVsbCA/XG5cblx0XHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRcdCggbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXSApIDpcblxuXHRcdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdFx0c2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcblx0Ly8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXG5cdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXG5cdFx0Ly8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXRcblx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cblx0XHQvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxuXHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblx0XHRyZXQuY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuXHRcdC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuXHRcdH0gKSApO1xuXHR9LFxuXG5cdHNsaWNlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHR9LFxuXG5cdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xuXHR9LFxuXG5cdGxhc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAtMSApO1xuXHR9LFxuXG5cdGVxOiBmdW5jdGlvbiggaSApIHtcblx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTtcblx0fSxcblxuXHRlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG5cdHB1c2g6IHB1c2gsXG5cdHNvcnQ6IGFyci5zb3J0LFxuXHRzcGxpY2U6IGFyci5zcGxpY2Vcbn07XG5cbmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG5cdHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIDAgXSB8fCB7fSxcblx0XHRpID0gMSxcblx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGRlZXAgPSBmYWxzZTtcblxuXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0ZGVlcCA9IHRhcmdldDtcblxuXHRcdC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcblx0XHRpKys7XG5cdH1cblxuXHQvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcblx0aWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFqUXVlcnkuaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcblx0aWYgKCBpID09PSBsZW5ndGggKSB7XG5cdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRpLS07XG5cdH1cblxuXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblxuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRzcmMgPSB0YXJnZXRbIG5hbWUgXTtcblx0XHRcdFx0Y29weSA9IG9wdGlvbnNbIG5hbWUgXTtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG5cdFx0XHRcdGlmICggdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdGlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fFxuXHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBqUXVlcnkuaXNBcnJheSggY29weSApICkgKSApIHtcblxuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgKSB7XG5cdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcImZ1bmN0aW9uXCI7XG5cdH0sXG5cblx0aXNBcnJheTogQXJyYXkuaXNBcnJheSxcblxuXHRpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9LFxuXG5cdGlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHtcblxuXHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChudWxsfHRydWV8ZmFsc2V8XCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0Ly8gYWRkaW5nIDEgY29ycmVjdHMgbG9zcyBvZiBwcmVjaXNpb24gZnJvbSBwYXJzZUZsb2F0ICgjMTUxMDApXG5cdFx0dmFyIHJlYWxTdHJpbmdPYmogPSBvYmogJiYgb2JqLnRvU3RyaW5nKCk7XG5cdFx0cmV0dXJuICFqUXVlcnkuaXNBcnJheSggb2JqICkgJiYgKCByZWFsU3RyaW5nT2JqIC0gcGFyc2VGbG9hdCggcmVhbFN0cmluZ09iaiApICsgMSApID49IDA7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIga2V5O1xuXG5cdFx0Ly8gTm90IHBsYWluIG9iamVjdHM6XG5cdFx0Ly8gLSBBbnkgb2JqZWN0IG9yIHZhbHVlIHdob3NlIGludGVybmFsIFtbQ2xhc3NdXSBwcm9wZXJ0eSBpcyBub3QgXCJbb2JqZWN0IE9iamVjdF1cIlxuXHRcdC8vIC0gRE9NIG5vZGVzXG5cdFx0Ly8gLSB3aW5kb3dcblx0XHRpZiAoIGpRdWVyeS50eXBlKCBvYmogKSAhPT0gXCJvYmplY3RcIiB8fCBvYmoubm9kZVR5cGUgfHwgalF1ZXJ5LmlzV2luZG93KCBvYmogKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XG5cdFx0aWYgKCBvYmouY29uc3RydWN0b3IgJiZcblx0XHRcdFx0IWhhc093bi5jYWxsKCBvYmosIFwiY29uc3RydWN0b3JcIiApICYmXG5cdFx0XHRcdCFoYXNPd24uY2FsbCggb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSB8fCB7fSwgXCJpc1Byb3RvdHlwZU9mXCIgKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcblx0XHQvLyBpZiBsYXN0IG9uZSBpcyBvd24sIHRoZW4gYWxsIHByb3BlcnRpZXMgYXJlIG93blxuXHRcdGZvciAoIGtleSBpbiBvYmogKSB7fVxuXG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IGhhc093bi5jYWxsKCBvYmosIGtleSApO1xuXHR9LFxuXG5cdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIG5hbWU7XG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBvYmogKyBcIlwiO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wLCBpT1M8NiAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuXHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFwib2JqZWN0XCIgOlxuXHRcdFx0dHlwZW9mIG9iajtcblx0fSxcblxuXHQvLyBFdmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBnbG9iYWwgY29udGV4dFxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSApIHtcblx0XHR2YXIgc2NyaXB0LFxuXHRcdFx0aW5kaXJlY3QgPSBldmFsO1xuXG5cdFx0Y29kZSA9IGpRdWVyeS50cmltKCBjb2RlICk7XG5cblx0XHRpZiAoIGNvZGUgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBjb2RlIGluY2x1ZGVzIGEgdmFsaWQsIHByb2xvZ3VlIHBvc2l0aW9uXG5cdFx0XHQvLyBzdHJpY3QgbW9kZSBwcmFnbWEsIGV4ZWN1dGUgY29kZSBieSBpbmplY3RpbmcgYVxuXHRcdFx0Ly8gc2NyaXB0IHRhZyBpbnRvIHRoZSBkb2N1bWVudC5cblx0XHRcdGlmICggY29kZS5pbmRleE9mKCBcInVzZSBzdHJpY3RcIiApID09PSAxICkge1xuXHRcdFx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cdFx0XHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgYXZvaWQgdGhlIERPTSBub2RlIGNyZWF0aW9uLCBpbnNlcnRpb25cblx0XHRcdFx0Ly8gYW5kIHJlbW92YWwgYnkgdXNpbmcgYW4gaW5kaXJlY3QgZ2xvYmFsIGV2YWxcblxuXHRcdFx0XHRpbmRpcmVjdCggY29kZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0Ly8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuXHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG5cdH0sXG5cblx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9LFxuXG5cdGVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkge1xuXHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7XG5cdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjFcblx0dHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcIlwiIDpcblx0XHRcdCggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcblx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdH0sXG5cblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0Zmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqIF07XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciBsZW5ndGgsIHZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG5cdC8vIGFyZ3VtZW50cy5cblx0cHJveHk6IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0XHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdFx0Y29udGV4dCA9IGZuO1xuXHRcdFx0Zm4gPSB0bXA7XG5cdFx0fVxuXG5cdFx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0XHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCBmbiApICkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBTaW11bGF0ZWQgYmluZFxuXHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0XHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdFx0fTtcblxuXHRcdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRcdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuXG5cdFx0cmV0dXJuIHByb3h5O1xuXHR9LFxuXG5cdG5vdzogRGF0ZS5ub3csXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0gKTtcblxuLy8gSlNIaW50IHdvdWxkIGVycm9yIG9uIHRoaXMgY29kZSBkdWUgdG8gdGhlIFN5bWJvbCBub3QgYmVpbmcgZGVmaW5lZCBpbiBFUzUuXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuanNoaW50cmMgd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBqdXN0IGRpc2FibGUgSlNIaW50IGZvciB0aGVzZVxuLy8gdGhyZWUgbGluZXMuXG4vKiBqc2hpbnQgaWdub3JlOiBzdGFydCAqL1xuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdO1xufVxuLyoganNoaW50IGlnbm9yZTogZW5kICovXG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcbmZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiBpT1MgOC4yIChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcblx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0Ly8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuXHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG5cdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjIuMVxuICogaHR0cDovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNS0xMC0xN1xuICovXG4oZnVuY3Rpb24oIHdpbmRvdyApIHtcblxudmFyIGksXG5cdHN1cHBvcnQsXG5cdEV4cHIsXG5cdGdldFRleHQsXG5cdGlzWE1MLFxuXHR0b2tlbml6ZSxcblx0Y29tcGlsZSxcblx0c2VsZWN0LFxuXHRvdXRlcm1vc3RDb250ZXh0LFxuXHRzb3J0SW5wdXQsXG5cdGhhc0R1cGxpY2F0ZSxcblxuXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG5cdHNldERvY3VtZW50LFxuXHRkb2N1bWVudCxcblx0ZG9jRWxlbSxcblx0ZG9jdW1lbnRJc0hUTUwsXG5cdHJidWdneVFTQSxcblx0cmJ1Z2d5TWF0Y2hlcyxcblx0bWF0Y2hlcyxcblx0Y29udGFpbnMsXG5cblx0Ly8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuXHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdGRpcnJ1bnMgPSAwLFxuXHRkb25lID0gMCxcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gR2VuZXJhbC1wdXJwb3NlIGNvbnN0YW50c1xuXHRNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCBsaXN0W2ldID09PSBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9LFxuXG5cdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXG5cdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jd2hpdGVzcGFjZVxuXHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCN2YWx1ZS1kZWYtaWRlbnRpZmllclxuXHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cdHJlc2NhcGUgPSAvJ3xcXFxcL2csXG5cblx0Ly8gQ1NTIGVzY2FwZXMgaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9O1xuXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxudHJ5IHtcblx0cHVzaC5hcHBseShcblx0XHQoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHRhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlO1xufSBjYXRjaCAoIGUgKSB7XG5cdHB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID9cblxuXHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0cHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7XG5cdFx0fSA6XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHQvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcblx0XHRcdHdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge31cblx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBtLCBpLCBlbGVtLCBuaWQsIG5pZHNlbGVjdCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXG5cdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXG5cdFx0Ly8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG5cdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxuXHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xuXHRpZiAoICFzZWVkICkge1xuXG5cdFx0aWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcblx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0fVxuXHRcdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdFx0aWYgKCBkb2N1bWVudElzSFRNTCApIHtcblxuXHRcdFx0Ly8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2Rcblx0XHRcdC8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdClcblx0XHRcdGlmICggbm9kZVR5cGUgIT09IDExICYmIChtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAobSA9IG1hdGNoWzFdKSApIHtcblxuXHRcdFx0XHRcdC8vIERvY3VtZW50IGNvbnRleHRcblx0XHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICYmXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiZcblx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFR5cGUgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHRcdC8vIENsYXNzIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJlxuXHRcdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxuXHRcdFx0XHQhY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXG5cdFx0XHRcdCghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXG5cdFx0XHRcdC8vIHFTQSBsb29rcyBvdXRzaWRlIEVsZW1lbnQgY29udGV4dCwgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudFxuXHRcdFx0XHQvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB3b3JrYXJvdW5kIHRlY2huaXF1ZVxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PThcblx0XHRcdFx0Ly8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHNcblx0XHRcdFx0fSBlbHNlIGlmICggY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRpZiAoIChuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkpICkge1xuXHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJlc2NhcGUsIFwiXFxcXCQmXCIgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29udGV4dC5zZXRBdHRyaWJ1dGUoIFwiaWRcIiwgKG5pZCA9IGV4cGFuZG8pICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0bmlkc2VsZWN0ID0gcmlkZW50aWZpZXIudGVzdCggbmlkICkgPyBcIiNcIiArIG5pZCA6IFwiW2lkPSdcIiArIG5pZCArIFwiJ11cIjtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IG5pZHNlbGVjdCArIFwiIFwiICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cblx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIG5ld1NlbGVjdG9yICkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdGlmICggbmlkID09PSBleHBhbmRvICkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZGl2IGFuZCBleHBlY3RzIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZGl2ICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBkaXYucGFyZW50Tm9kZSApIHtcblx0XHRcdGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBkaXYgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRkaXYgPSBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xuICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG4gKi9cbmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdHZhciBhcnIgPSBhdHRycy5zcGxpdChcInxcIiksXG5cdFx0aSA9IGFyci5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbaV0gXSA9IGhhbmRsZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0KCB+Yi5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKSAtXG5cdFx0XHQoIH5hLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApO1xuXG5cdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRpZiAoIGRpZmYgKSB7XG5cdFx0cmV0dXJuIGRpZmY7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuXHRpZiAoIGN1ciApIHtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBwYXJlbnQsXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIChwYXJlbnQgPSBkb2N1bWVudC5kZWZhdWx0VmlldykgJiYgcGFyZW50LnRvcCAhPT0gcGFyZW50ICkge1xuXHRcdC8vIFN1cHBvcnQ6IElFIDExXG5cdFx0aWYgKCBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHBhcmVudC5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBwYXJlbnQuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRwYXJlbnQuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFkaXYuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikgKTtcblx0XHRyZXR1cm4gIWRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaWQgPSBleHBhbmRvO1xuXHRcdHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBJRCBmaW5kIGFuZCBmaWx0ZXJcblx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBtID8gWyBtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHQvLyBTdXBwb3J0OiBJRTYvN1xuXHRcdC8vIGdldEVsZW1lbnRCeUlkIGlzIG5vdCByZWxpYWJsZSBhcyBhIGZpbmQgc2hvcnRjdXRcblx0XHRkZWxldGUgRXhwci5maW5kW1wiSURcIl07XG5cblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gIGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcblx0XHRcdFx0cmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9XG5cblx0Ly8gVGFnXG5cdEV4cHIuZmluZFtcIlRBR1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgP1xuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuXHRcdFx0fSBlbHNlIGlmICggc3VwcG9ydC5xc2EgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xuXHRcdFx0fVxuXHRcdH0gOlxuXG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHR0bXAgPSBbXSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cblx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzXG5cdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdHRtcC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRtcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdH07XG5cblx0Ly8gQ2xhc3Ncblx0RXhwci5maW5kW1wiQ0xBU1NcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXG5cdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdHJidWdneU1hdGNoZXMgPSBbXTtcblxuXHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3Jcblx0Ly8gd2hlbmV2ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZVxuXHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHQvLyBTZWUgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdFx0Ly8gU2VsZWN0IGlzIHNldCB0byBlbXB0eSBzdHJpbmcgb24gcHVycG9zZVxuXHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XG5cdFx0XHQvLyBzZXR0aW5nIGEgYm9vbGVhbiBjb250ZW50IGF0dHJpYnV0ZSxcblx0XHRcdC8vIHNpbmNlIGl0cyBwcmVzZW5jZSBzaG91bGQgYmUgZW5vdWdoXG5cdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaW5uZXJIVE1MID0gXCI8YSBpZD0nXCIgKyBleHBhbmRvICsgXCInPjwvYT5cIiArXG5cdFx0XHRcdFwiPHNlbGVjdCBpZD0nXCIgKyBleHBhbmRvICsgXCItXFxyXFxcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+XCIgK1xuXHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTZcblx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFwic2FmZVwiIGZvciBXaW5SVFxuXHRcdFx0Ly8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlsqXiRdPVwiICsgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gQm9vbGVhbiBhdHRyaWJ1dGVzIGFuZCBcInZhbHVlXCIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseVxuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiOmNoZWNrZWRcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG5cdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIi4jLitbK35dXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0XHQvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcblx0XHRcdC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxuXHRcdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZGl2LCBcImRpdlwiICk7XG5cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdC8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWRcblx0XHRcdG1hdGNoZXMuY2FsbCggZGl2LCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0pO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IHNlbGYtZXhjbHVzaXZlXG5cdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcblx0XHRcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0YWRvd24uY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTZcblx0XHRcdCkpO1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHR3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0XHRpZiAoIGIgPT09IGEgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdC8qIFNvcnRpbmdcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcblx0c29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZTtcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0MTtcblxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdCghc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlKSApIHtcblxuXHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHRpZiAoIGEgPT09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHRcdGlmICggYiA9PT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXVwID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdGJwID0gWyBiIF07XG5cblx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdGlmICggIWF1cCB8fCAhYnVwICkge1xuXHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRiID09PSBkb2N1bWVudCA/IDEgOlxuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHQvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0Y3VyID0gYTtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRleHByID0gZXhwci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCBcIj0nJDEnXVwiICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFjb21waWxlckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7fVxuXHR9XG5cblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHQvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NiB4IG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHQqL1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzFdLnNsaWNlKCAwLCAzICkgPT09IFwibnRoXCIgKSB7XG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdG1hdGNoWzVdID0gKyggKCBtYXRjaFs3XSArIG1hdGNoWzhdICkgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xuXG5cdFx0XHRpZiAoIG1hdGNoRXhwcltcIkNISUxEXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0bWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQocGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkpICYmXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgXCIgXCIgKSArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBhcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFNlZWsgYGVsZW1gIGZyb20gYSBwcmV2aW91c2x5LWNhY2hlZCBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHBhcmVudDtcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG5cdFx0XHRcdFx0XHRkaWZmIC09IGxhc3Q7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdFx0dmFyIGlkeCxcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRpID0gbWF0Y2hlZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WzBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRpbnB1dFswXSA9IG51bGw7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgbGFuZzogXCIgKyBsYW5nICk7XG5cdFx0XHR9XG5cdFx0XHRsYW5nID0gbGFuZy5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdGlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSApIHtcblxuXHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyBcIi1cIiApID09PSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBNaXNjZWxsYW5lb3VzXG5cdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcblx0XHR9LFxuXG5cdFx0XCJyb290XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0fSxcblxuXHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkpICYmICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXgpO1xuXHRcdH0sXG5cblx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcImVuYWJsZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdFwiZGlzYWJsZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0dmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcblx0XHR9LFxuXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcblx0XHRcdC8vIG9wdGlvbnMgaW4gU2FmYXJpIHdvcmsgcHJvcGVybHlcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHQvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1tcImVtcHR5XCJdKCBlbGVtICk7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcblx0XHRcImhlYWRlclwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJidXR0b25cIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0fSxcblxuXHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBhdHRyO1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICYmXG5cdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdCggKGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikpID09IG51bGwgfHwgYXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0XCJmaXJzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdH0pLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XG5cdFx0fSksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyAtLWkgPj0gMDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pXG5cdH1cbn07XG5cbkV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ29tYmluYXRvcnNcblx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG5cdFx0XHRcdHR5cGU6IG1hdGNoWzBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9KTtcblx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmlsdGVyc1xuXHRcdGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XG5cdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xuXHRcdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufTtcblxuZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7XG5cdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBkaXIgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsgZGlyIF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0XHRFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHRcdFx0KSkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdjEgKSB7XG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZGl2MS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdGRpdi5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiIDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdGRpdi5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGRpdi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdHJldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdHJldHVybiBkaXYuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcblx0XHR9XG5cdH0pO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59KSggd2luZG93ICk7XG5cblxuXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcbmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cbnZhciByc2luZ2xlVGFnID0gKCAvXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8gKTtcblxuXG5cbnZhciByaXNTaW1wbGUgPSAvXi5bXjojXFxbXFwuLF0qJC87XG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cblx0fVxuXG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9ICk7XG5cblx0fVxuXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRpZiAoIHJpc1NpbXBsZS50ZXN0KCBxdWFsaWZpZXIgKSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcblx0XHR9XG5cblx0XHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90O1xuXHR9ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRyZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHRcdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xuXHRcdH1cblxuXHRcdC8vIE5lZWRlZCBiZWNhdXNlICQoIHNlbGVjdG9yLCBjb250ZXh0ICkgYmVjb21lcyAkKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKVxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZSggcmV0ICkgOiByZXQgKTtcblx0XHRyZXQuc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yID8gdGhpcy5zZWxlY3RvciArIFwiIFwiICsgc2VsZWN0b3IgOiBzZWxlY3Rvcjtcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTtcblx0fSxcblx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gISF3aW5ub3coXG5cdFx0XHR0aGlzLFxuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG5cdFx0XHQvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG5cdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0c2VsZWN0b3IgfHwgW10sXG5cdFx0XHRmYWxzZVxuXHRcdCkubGVuZ3RoO1xuXHR9XG59ICk7XG5cblxuLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcblxuXG4vLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcbnZhciByb290alF1ZXJ5LFxuXG5cdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBCbGFja2JlcnJ5IDQuNlxuXHRcdFx0XHRcdC8vIGdFQklEIHJldHVybnMgbm9kZXMgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAoIzY5NjMpXG5cdFx0XHRcdFx0aWYgKCBlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5jb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpcy5jb250ZXh0ID0gdGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcblx0XHRcdHJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRyb290LnJlYWR5KCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBFeGVjdXRlIGltbWVkaWF0ZWx5IGlmIHJlYWR5IGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdHNlbGVjdG9yKCBqUXVlcnkgKTtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yLnNlbGVjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3Iuc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmNvbnRleHQgPSBzZWxlY3Rvci5jb250ZXh0O1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0cG9zID0gcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSB8fCB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvcnMsIGNvbnRleHQgfHwgdGhpcy5jb250ZXh0ICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0Zm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblxuXHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHBvcyA/XG5cdFx0XHRcdFx0cG9zLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgalF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XG5cblx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdHNlbGVjdG9yID0gdW50aWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRtYXRjaGVkID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIG1hdGNoZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0bWF0Y2hlZC5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdH07XG59ICk7XG52YXIgcm5vdHdoaXRlID0gKCAvXFxTKy9nICk7XG5cblxuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcblx0dmFyIG9iamVjdCA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgbGlzdGVuZXIgbGlzdCwgZmluYWwgc3RhdGVcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIFwicmVqZWN0ZWRcIiBdLFxuXHRcdFx0XHRbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApIF1cblx0XHRcdF0sXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxuXHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgZm4gPSBqUXVlcnkuaXNGdW5jdGlvbiggZm5zWyBpIF0gKSAmJiBmbnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZFsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdIGZvciBmb3J3YXJkaW5nIGFjdGlvbnMgdG8gbmV3RGVmZXJcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMgPT09IHByb21pc2UgPyBuZXdEZWZlci5wcm9taXNlKCkgOiB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdHByb21pc2UucGlwZSA9IHByb21pc2UudGhlbjtcblxuXHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXG5cdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDMgXTtcblxuXHRcdFx0Ly8gcHJvbWlzZVsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdID0gbGlzdC5hZGRcblx0XHRcdHByb21pc2VbIHR1cGxlWyAxIF0gXSA9IGxpc3QuYWRkO1xuXG5cdFx0XHQvLyBIYW5kbGUgc3RhdGVcblx0XHRcdGlmICggc3RhdGVTdHJpbmcgKSB7XG5cdFx0XHRcdGxpc3QuYWRkKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdC8vIHN0YXRlID0gWyByZXNvbHZlZCB8IHJlamVjdGVkIF1cblx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXG5cdFx0XHRcdC8vIFsgcmVqZWN0X2xpc3QgfCByZXNvbHZlX2xpc3QgXS5kaXNhYmxlOyBwcm9ncmVzc19saXN0LmxvY2tcblx0XHRcdFx0fSwgdHVwbGVzWyBpIF4gMSBdWyAyIF0uZGlzYWJsZSwgdHVwbGVzWyAyIF1bIDIgXS5sb2NrICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRlZmVycmVkWyByZXNvbHZlIHwgcmVqZWN0IHwgbm90aWZ5IF1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHByb21pc2UgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzdWJvcmRpbmF0ZSAvKiAsIC4uLiwgc3Vib3JkaW5hdGVOICovICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblx0XHRcdGxlbmd0aCA9IHJlc29sdmVWYWx1ZXMubGVuZ3RoLFxuXG5cdFx0XHQvLyB0aGUgY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBsZW5ndGggIT09IDEgfHxcblx0XHRcdFx0KCBzdWJvcmRpbmF0ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggc3Vib3JkaW5hdGUucHJvbWlzZSApICkgPyBsZW5ndGggOiAwLFxuXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkLlxuXHRcdFx0Ly8gSWYgcmVzb2x2ZVZhbHVlcyBjb25zaXN0IG9mIG9ubHkgYSBzaW5nbGUgRGVmZXJyZWQsIGp1c3QgdXNlIHRoYXQuXG5cdFx0XHRkZWZlcnJlZCA9IHJlbWFpbmluZyA9PT0gMSA/IHN1Ym9yZGluYXRlIDogalF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIFVwZGF0ZSBmdW5jdGlvbiBmb3IgYm90aCByZXNvbHZlIGFuZCBwcm9ncmVzcyB2YWx1ZXNcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSwgY29udGV4dHMsIHZhbHVlcyApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRjb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHR2YWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoIHZhbHVlcyA9PT0gcHJvZ3Jlc3NWYWx1ZXMgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBjb250ZXh0cywgdmFsdWVzICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjb250ZXh0cywgdmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fSxcblxuXHRcdFx0cHJvZ3Jlc3NWYWx1ZXMsIHByb2dyZXNzQ29udGV4dHMsIHJlc29sdmVDb250ZXh0cztcblxuXHRcdC8vIEFkZCBsaXN0ZW5lcnMgdG8gRGVmZXJyZWQgc3Vib3JkaW5hdGVzOyB0cmVhdCBvdGhlcnMgYXMgcmVzb2x2ZWRcblx0XHRpZiAoIGxlbmd0aCA+IDEgKSB7XG5cdFx0XHRwcm9ncmVzc1ZhbHVlcyA9IG5ldyBBcnJheSggbGVuZ3RoICk7XG5cdFx0XHRwcm9ncmVzc0NvbnRleHRzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdHJlc29sdmVDb250ZXh0cyA9IG5ldyBBcnJheSggbGVuZ3RoICk7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXS5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0LnByb2dyZXNzKCB1cGRhdGVGdW5jKCBpLCBwcm9ncmVzc0NvbnRleHRzLCBwcm9ncmVzc1ZhbHVlcyApIClcblx0XHRcdFx0XHRcdC5kb25lKCB1cGRhdGVGdW5jKCBpLCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKSApXG5cdFx0XHRcdFx0XHQuZmFpbCggZGVmZXJyZWQucmVqZWN0ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0LS1yZW1haW5pbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBJZiB3ZSdyZSBub3Qgd2FpdGluZyBvbiBhbnl0aGluZywgcmVzb2x2ZSB0aGUgbWFzdGVyXG5cdFx0aWYgKCAhcmVtYWluaW5nICkge1xuXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3Q7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHQvLyBBZGQgdGhlIGNhbGxiYWNrXG5cdGpRdWVyeS5yZWFkeS5wcm9taXNlKCkuZG9uZSggZm4gKTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRpc1JlYWR5OiBmYWxzZSxcblxuXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIb2xkIChvciByZWxlYXNlKSB0aGUgcmVhZHkgZXZlbnRcblx0aG9sZFJlYWR5OiBmdW5jdGlvbiggaG9sZCApIHtcblx0XHRpZiAoIGhvbGQgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cblx0XHQvLyBUcmlnZ2VyIGFueSBib3VuZCByZWFkeSBldmVudHNcblx0XHRpZiAoIGpRdWVyeS5mbi50cmlnZ2VySGFuZGxlciApIHtcblx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS50cmlnZ2VySGFuZGxlciggXCJyZWFkeVwiICk7XG5cdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkub2ZmKCBcInJlYWR5XCIgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuLyoqXG4gKiBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuICovXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbmpRdWVyeS5yZWFkeS5wcm9taXNlID0gZnVuY3Rpb24oIG9iaiApIHtcblx0aWYgKCAhcmVhZHlMaXN0ICkge1xuXG5cdFx0cmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cblx0XHQvLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuXHRcdC8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuXHRcdC8vIFN1cHBvcnQ6IElFOS0xMCBvbmx5XG5cdFx0Ly8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5cdFx0aWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0XHRcdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xuXG5cdFx0XHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblxuXHRcdFx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZWFkeUxpc3QucHJvbWlzZSggb2JqICk7XG59O1xuXG4vLyBLaWNrIG9mZiB0aGUgRE9NIHJlYWR5IGNoZWNrIGV2ZW4gaWYgdGhlIHVzZXIgZG9lcyBub3RcbmpRdWVyeS5yZWFkeS5wcm9taXNlKCk7XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggalF1ZXJ5LnR5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjaGFpbmFibGUgP1xuXHRcdGVsZW1zIDpcblxuXHRcdC8vIEdldHNcblx0XHRidWxrID9cblx0XHRcdGZuLmNhbGwoIGVsZW1zICkgOlxuXHRcdFx0bGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xudmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0Ly8gQWNjZXB0cyBvbmx5OlxuXHQvLyAgLSBOb2RlXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0Ly8gIC0gT2JqZWN0XG5cdC8vICAgIC0gQW55XG5cdC8qIGpzaGludCAtVzAxOCAqL1xuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0cmVnaXN0ZXI6IGZ1bmN0aW9uKCBvd25lciwgaW5pdGlhbCApIHtcblx0XHR2YXIgdmFsdWUgPSBpbml0aWFsIHx8IHt9O1xuXG5cdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUgcHJvcGVydHlcblx0XHQvLyBjb25maWd1cmFiaWxpdHkgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdC8vIGRlbGV0ZWQgd2l0aCB0aGUgZGVsZXRlIG9wZXJhdG9yXG5cdFx0fSBlbHNlIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdH0gKTtcblx0XHR9XG5cdFx0cmV0dXJuIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0fSxcblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0aWYgKCAhYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGVcblx0XHR2YXIgdmFsdWUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHQvLyBJZiBub3QsIGNyZWF0ZSBvbmVcblx0XHRpZiAoICF2YWx1ZSApIHtcblx0XHRcdHZhbHVlID0ge307XG5cblx0XHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xuXG5cdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0Ly8gdXNlIHBsYWluIGFzc2lnbm1lbnRcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0Ly8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRzZXQ6IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7XG5cdFx0dmFyIHByb3AsXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBkYXRhIF0gPSB2YWx1ZTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVbIHByb3AgXSA9IGRhdGFbIHByb3AgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGtleSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgc3RvcmVkO1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRzdG9yZWQgPSB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXG5cdFx0XHRyZXR1cm4gc3RvcmVkICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRzdG9yZWQgOiB0aGlzLmdldCggb3duZXIsIGpRdWVyeS5jYW1lbENhc2UoIGtleSApICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLCBuYW1lLCBjYW1lbCxcblx0XHRcdGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0aWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLnJlZ2lzdGVyKCBvd25lciApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIGtleSApICkge1xuXG5cdFx0XHRcdC8vIElmIFwibmFtZVwiIGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2hlbiBkYXRhIGlzIGluaXRpYWxseSBjcmVhdGVkLCB2aWEgKFwia2V5XCIsIFwidmFsXCIpIHNpZ25hdHVyZSxcblx0XHRcdFx0Ly8ga2V5cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBjYW1lbENhc2UuXG5cdFx0XHRcdC8vIFNpbmNlIHRoZXJlIGlzIG5vIHdheSB0byB0ZWxsIF9ob3dfIGEga2V5IHdhcyBhZGRlZCwgcmVtb3ZlXG5cdFx0XHRcdC8vIGJvdGggcGxhaW4ga2V5IGFuZCBjYW1lbENhc2Uga2V5LiAjMTI3ODZcblx0XHRcdFx0Ly8gVGhpcyB3aWxsIG9ubHkgcGVuYWxpemUgdGhlIGFycmF5IGFyZ3VtZW50IHBhdGguXG5cdFx0XHRcdG5hbWUgPSBrZXkuY29uY2F0KCBrZXkubWFwKCBqUXVlcnkuY2FtZWxDYXNlICkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbWVsID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gVHJ5IHRoZSBzdHJpbmcgYXMgYSBrZXkgYmVmb3JlIGFueSBtYW5pcHVsYXRpb25cblx0XHRcdFx0aWYgKCBrZXkgaW4gY2FjaGUgKSB7XG5cdFx0XHRcdFx0bmFtZSA9IFsga2V5LCBjYW1lbCBdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0bmFtZSA9IGNhbWVsO1xuXHRcdFx0XHRcdG5hbWUgPSBuYW1lIGluIGNhY2hlID9cblx0XHRcdFx0XHRcdFsgbmFtZSBdIDogKCBuYW1lLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGkgPSBuYW1lLmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsgbmFtZVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9IDM1LTQ1K1xuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzg2MDdcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhID09PSBcInRydWVcIiA/IHRydWUgOlxuXHRcdFx0XHRcdGRhdGEgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDpcblx0XHRcdFx0XHRkYXRhID09PSBcIm51bGxcIiA/IG51bGwgOlxuXG5cdFx0XHRcdFx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0XHRcdFx0XHQrZGF0YSArIFwiXCIgPT09IGRhdGEgPyArZGF0YSA6XG5cdFx0XHRcdFx0cmJyYWNlLnRlc3QoIGRhdGEgKSA/IGpRdWVyeS5wYXJzZUpTT04oIGRhdGEgKSA6XG5cdFx0XHRcdFx0ZGF0YTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTExK1xuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGEsIGNhbWVsS2V5O1xuXG5cdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuXHRcdFx0Ly8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGVcblx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG5cdFx0XHQvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLlxuXHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyB3aXRoIHRoZSBrZXkgYXMtaXNcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICkgfHxcblxuXHRcdFx0XHRcdC8vIFRyeSB0byBmaW5kIGRhc2hlZCBrZXkgaWYgaXQgZXhpc3RzIChnaC0yNzc5KVxuXHRcdFx0XHRcdC8vIFRoaXMgaXMgZm9yIDIuMi54IG9ubHlcblx0XHRcdFx0XHRkYXRhVXNlci5nZXQoIGVsZW0sIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKSApO1xuXG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FtZWxLZXkgPSBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIHdpdGggdGhlIGtleSBjYW1lbGl6ZWRcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwgY2FtZWxLZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwgY2FtZWxLZXksIHVuZGVmaW5lZCApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdGNhbWVsS2V5ID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIEZpcnN0LCBhdHRlbXB0IHRvIHN0b3JlIGEgY29weSBvciByZWZlcmVuY2Ugb2YgYW55XG5cdFx0XHRcdC8vIGRhdGEgdGhhdCBtaWdodCd2ZSBiZWVuIHN0b3JlIHdpdGggYSBjYW1lbENhc2VkIGtleS5cblx0XHRcdFx0dmFyIGRhdGEgPSBkYXRhVXNlci5nZXQoIHRoaXMsIGNhbWVsS2V5ICk7XG5cblx0XHRcdFx0Ly8gRm9yIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGUgaW50ZXJvcCwgd2UgaGF2ZSB0b1xuXHRcdFx0XHQvLyBzdG9yZSBwcm9wZXJ0eSBuYW1lcyB3aXRoIGRhc2hlcyBpbiBhIGNhbWVsQ2FzZSBmb3JtLlxuXHRcdFx0XHQvLyBUaGlzIG1pZ2h0IG5vdCBhcHBseSB0byBhbGwgcHJvcGVydGllcy4uLipcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBjYW1lbEtleSwgdmFsdWUgKTtcblxuXHRcdFx0XHQvLyAqLi4uIEluIHRoZSBjYXNlIG9mIHByb3BlcnRpZXMgdGhhdCBtaWdodCBfYWN0dWFsbHlfXG5cdFx0XHRcdC8vIGhhdmUgZGFzaGVzLCB3ZSBuZWVkIHRvIGFsc28gc3RvcmUgYSBjb3B5IG9mIHRoYXRcblx0XHRcdFx0Ly8gdW5jaGFuZ2VkIHByb3BlcnR5LlxuXHRcdFx0XHRpZiAoIGtleS5pbmRleE9mKCBcIi1cIiApID4gLTEgJiYgZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgalF1ZXJ5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW4gbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCIgfHxcblx0XHRcdCFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHR9O1xuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLFxuXHRcdHNjYWxlID0gMSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0d2Vlbi5jdXIoKTsgfSA6XG5cdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTsgfSxcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRpbml0aWFsSW5Vbml0ID0gKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsICkgJiZcblx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cblx0aWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHtcblxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0dmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG5cblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuXG5cdFx0ZG8ge1xuXG5cdFx0XHQvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKi5cblx0XHRcdC8vIFVzZSBzdHJpbmcgZm9yIGRvdWJsaW5nIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XG5cdFx0XHRzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcblxuXHRcdFx0Ly8gQWRqdXN0IGFuZCBhcHBseVxuXHRcdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblxuXHRcdC8vIFVwZGF0ZSBzY2FsZSwgdG9sZXJhdGluZyB6ZXJvIG9yIE5hTiBmcm9tIHR3ZWVuLmN1cigpXG5cdFx0Ly8gQnJlYWsgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaC5cblx0XHR9IHdoaWxlIChcblx0XHRcdHNjYWxlICE9PSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsICkgJiYgc2NhbGUgIT09IDEgJiYgLS1tYXhJdGVyYXRpb25zXG5cdFx0KTtcblx0fVxuXG5cdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblxuXHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XG5cdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYWRqdXN0ZWQ7XG59XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW1xcdzotXSspLyApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBTdXBwb3J0OiBJRTlcblx0b3B0aW9uOiBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF0sXG5cblx0Ly8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcblx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxuXHQvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuXG5cdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0Y29sOiBbIDIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcblx0dHI6IFsgMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cblx0X2RlZmF1bHQ6IFsgMCwgXCJcIiwgXCJcIiBdXG59O1xuXG4vLyBTdXBwb3J0OiBJRTlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0ID0gdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgP1xuXHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0dHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0W107XG5cblx0cmV0dXJuIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBqUXVlcnkubm9kZU5hbWUoIGNvbnRleHQsIHRhZyApID9cblx0XHRqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKSA6XG5cdFx0cmV0O1xufVxuXG5cbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZGF0YVByaXYuc2V0KFxuXHRcdFx0ZWxlbXNbIGkgXSxcblx0XHRcdFwiZ2xvYmFsRXZhbFwiLFxuXHRcdFx0IXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldCggcmVmRWxlbWVudHNbIGkgXSwgXCJnbG9iYWxFdmFsXCIgKVxuXHRcdCk7XG5cdH1cbn1cblxuXG52YXIgcmh0bWwgPSAvPHwmIz9cXHcrOy87XG5cbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7XG5cdHZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgY29udGFpbnMsIGosXG5cdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRub2RlcyA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXG5cdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxuXHRcdFx0aWYgKCBqUXVlcnkudHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4xLCBQaGFudG9tSlM8MlxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblxuXHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblxuXHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXG5cdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjEsIFBoYW50b21KUzwyXG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHR0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5Milcblx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRpID0gMDtcblx0d2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHtcblxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0aWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApID4gLTEgKSB7XG5cdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XG5cdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBjb250YWlucyApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wLTQuMywgU2FmYXJpPD01LjFcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcblx0Ly8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuXHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cblx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXG5cdC8vIFN1cHBvcnQ6IFNhZmFyaTw9NS4xLCBBbmRyb2lkPDQuMlxuXHQvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcblx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXG5cdC8vIFN1cHBvcnQ6IElFPD0xMStcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcbn0gKSgpO1xuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRTlcbi8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBEb24ndCBhdHRhY2ggZXZlbnRzIHRvIG5vRGF0YSBvciB0ZXh0L2NvbW1lbnQgbm9kZXMgKGJ1dCBhbGxvdyBwbGFpbiBvYmplY3RzKVxuXHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcblx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0ZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApO1xuXG5cdFx0dmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cdFx0XHRoYW5kbGVycyA9ICggZGF0YVByaXYuZ2V0KCB0aGlzLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdIHx8IFtdLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyBldmVudC50eXBlIF0gfHwge307XG5cblx0XHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuXHRcdGFyZ3NbIDAgXSA9IGV2ZW50O1xuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBtYXRjaGVzLCBzZWwsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBTdXBwb3J0IChhdCBsZWFzdCk6IENocm9tZSwgSUU5XG5cdFx0Ly8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuXHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICgjMTMxODApXG5cdFx0Ly9cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PD00Mitcblx0XHQvLyBBdm9pZCBub24tbGVmdC1jbGljayBpbiBGRiBidXQgZG9uJ3QgYmxvY2sgSUUgcmFkaW8gZXZlbnRzICgjMzg2MSwgZ2gtMjM0Mylcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiYgY3VyLm5vZGVUeXBlICYmXG5cdFx0XHQoIGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiB8fCBpc05hTiggZXZlbnQuYnV0dG9uICkgfHwgZXZlbnQuYnV0dG9uIDwgMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICggY3VyLmRpc2FibGVkICE9PSB0cnVlIHx8IGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiApICkge1xuXHRcdFx0XHRcdG1hdGNoZXMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICgjMTMyMDMpXG5cdFx0XHRcdFx0XHRzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcblxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVzWyBzZWwgXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlcyB9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IHRoaXMsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFuZGxlclF1ZXVlO1xuXHR9LFxuXG5cdC8vIEluY2x1ZGVzIHNvbWUgZXZlbnQgcHJvcHMgc2hhcmVkIGJ5IEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50XG5cdHByb3BzOiAoIFwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZGV0YWlsIGV2ZW50UGhhc2UgXCIgK1xuXHRcdFwibWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiICkuc3BsaXQoIFwiIFwiICksXG5cblx0Zml4SG9va3M6IHt9LFxuXG5cdGtleUhvb2tzOiB7XG5cdFx0cHJvcHM6IFwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KCBcIiBcIiApLFxuXHRcdGZpbHRlcjogZnVuY3Rpb24oIGV2ZW50LCBvcmlnaW5hbCApIHtcblxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgKSB7XG5cdFx0XHRcdGV2ZW50LndoaWNoID0gb3JpZ2luYWwuY2hhckNvZGUgIT0gbnVsbCA/IG9yaWdpbmFsLmNoYXJDb2RlIDogb3JpZ2luYWwua2V5Q29kZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblx0fSxcblxuXHRtb3VzZUhvb2tzOiB7XG5cdFx0cHJvcHM6ICggXCJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIFwiICtcblx0XHRcdFwic2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiICkuc3BsaXQoIFwiIFwiICksXG5cdFx0ZmlsdGVyOiBmdW5jdGlvbiggZXZlbnQsIG9yaWdpbmFsICkge1xuXHRcdFx0dmFyIGV2ZW50RG9jLCBkb2MsIGJvZHksXG5cdFx0XHRcdGJ1dHRvbiA9IG9yaWdpbmFsLmJ1dHRvbjtcblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIHBhZ2VYL1kgaWYgbWlzc2luZyBhbmQgY2xpZW50WC9ZIGF2YWlsYWJsZVxuXHRcdFx0aWYgKCBldmVudC5wYWdlWCA9PSBudWxsICYmIG9yaWdpbmFsLmNsaWVudFggIT0gbnVsbCApIHtcblx0XHRcdFx0ZXZlbnREb2MgPSBldmVudC50YXJnZXQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcblx0XHRcdFx0ZG9jID0gZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0XHRib2R5ID0gZXZlbnREb2MuYm9keTtcblxuXHRcdFx0XHRldmVudC5wYWdlWCA9IG9yaWdpbmFsLmNsaWVudFggK1xuXHRcdFx0XHRcdCggZG9jICYmIGRvYy5zY3JvbGxMZWZ0IHx8IGJvZHkgJiYgYm9keS5zY3JvbGxMZWZ0IHx8IDAgKSAtXG5cdFx0XHRcdFx0KCBkb2MgJiYgZG9jLmNsaWVudExlZnQgfHwgYm9keSAmJiBib2R5LmNsaWVudExlZnQgfHwgMCApO1xuXHRcdFx0XHRldmVudC5wYWdlWSA9IG9yaWdpbmFsLmNsaWVudFkgK1xuXHRcdFx0XHRcdCggZG9jICYmIGRvYy5zY3JvbGxUb3AgIHx8IGJvZHkgJiYgYm9keS5zY3JvbGxUb3AgIHx8IDAgKSAtXG5cdFx0XHRcdFx0KCBkb2MgJiYgZG9jLmNsaWVudFRvcCAgfHwgYm9keSAmJiBib2R5LmNsaWVudFRvcCAgfHwgMCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XG5cdFx0XHQvLyBOb3RlOiBidXR0b24gaXMgbm90IG5vcm1hbGl6ZWQsIHNvIGRvbid0IHVzZSBpdFxuXHRcdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGV2ZW50LndoaWNoID0gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdICkge1xuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBhIHdyaXRhYmxlIGNvcHkgb2YgdGhlIGV2ZW50IG9iamVjdCBhbmQgbm9ybWFsaXplIHNvbWUgcHJvcGVydGllc1xuXHRcdHZhciBpLCBwcm9wLCBjb3B5LFxuXHRcdFx0dHlwZSA9IGV2ZW50LnR5cGUsXG5cdFx0XHRvcmlnaW5hbEV2ZW50ID0gZXZlbnQsXG5cdFx0XHRmaXhIb29rID0gdGhpcy5maXhIb29rc1sgdHlwZSBdO1xuXG5cdFx0aWYgKCAhZml4SG9vayApIHtcblx0XHRcdHRoaXMuZml4SG9va3NbIHR5cGUgXSA9IGZpeEhvb2sgPVxuXHRcdFx0XHRybW91c2VFdmVudC50ZXN0KCB0eXBlICkgPyB0aGlzLm1vdXNlSG9va3MgOlxuXHRcdFx0XHRya2V5RXZlbnQudGVzdCggdHlwZSApID8gdGhpcy5rZXlIb29rcyA6XG5cdFx0XHRcdHt9O1xuXHRcdH1cblx0XHRjb3B5ID0gZml4SG9vay5wcm9wcyA/IHRoaXMucHJvcHMuY29uY2F0KCBmaXhIb29rLnByb3BzICkgOiB0aGlzLnByb3BzO1xuXG5cdFx0ZXZlbnQgPSBuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XG5cblx0XHRpID0gY29weS5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRwcm9wID0gY29weVsgaSBdO1xuXHRcdFx0ZXZlbnRbIHByb3AgXSA9IG9yaWdpbmFsRXZlbnRbIHByb3AgXTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBDb3Jkb3ZhIDIuNSAoV2ViS2l0KSAoIzEzMjU1KVxuXHRcdC8vIEFsbCBldmVudHMgc2hvdWxkIGhhdmUgYSB0YXJnZXQ7IENvcmRvdmEgZGV2aWNlcmVhZHkgZG9lc24ndFxuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGRvY3VtZW50O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA2LjArLCBDaHJvbWU8Mjhcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdGlmICggZXZlbnQudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpeEhvb2suZmlsdGVyID8gZml4SG9vay5maWx0ZXIoIGV2ZW50LCBvcmlnaW5hbEV2ZW50ICkgOiBldmVudDtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Zm9jdXM6IHtcblxuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHRoaXMuY2xpY2soKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc1NpbXVsYXRlZDogZmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblx0c3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcblx0fVxufTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4vLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbi8vXG4vLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbi8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblxuXHRcdFx0Ly8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxuXHRcdFx0aGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuXHRcdFx0alF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZihcblx0XHRcdFx0aGFuZGxlT2JqLm5hbWVzcGFjZSA/XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9mZiggdHlwZSwgc2VsZWN0b3IsIHR5cGVzWyB0eXBlIF0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcyBbLCBmbl0gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLFxuXG5cdC8vIFN1cHBvcnQ6IElFIDEwLTExLCBFZGdlIDEwMjQwK1xuXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcblxuXHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuXHRyc2NyaXB0VHlwZU1hc2tlZCA9IC9edHJ1ZVxcLyguKikvLFxuXHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7XG5cbi8vIE1hbmlwdWxhdGluZyB0YWJsZXMgcmVxdWlyZXMgYSB0Ym9keVxuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuXHRyZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSA/XG5cblx0XHRlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKVsgMCBdIHx8XG5cdFx0XHRlbGVtLmFwcGVuZENoaWxkKCBlbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0Ym9keVwiICkgKSA6XG5cdFx0ZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjEsIFBoYW50b21KUzwyXG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdHZhciBub2RlLFxuXHRcdG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSxcblx0XHRpID0gMDtcblxuXHRmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggbm9kZS5vd25lckRvY3VtZW50LCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbC5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKTtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0aW5QYWdlID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcblx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHA6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApO1xuXHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcblx0XHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xuXG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuXHRcdGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdGlmICggYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xuXHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PSAzNS00NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0gMzUtNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHQvLyBLZWVwIGRvbU1hbmlwIGV4cG9zZWQgdW50aWwgMy4wIChnaC0yMjI1KVxuXHRkb21NYW5pcDogZG9tTWFuaXAsXG5cblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHR9LFxuXG5cdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZ25vcmVkID0gW107XG5cblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHR9LCBpZ25vcmVkICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIHtcblx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG5cdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG59LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBlbGVtcyxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xuXHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogUXRXZWJLaXRcblx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Ncblx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHR9O1xufSApO1xuXG5cbnZhciBpZnJhbWUsXG5cdGVsZW1kaXNwbGF5ID0ge1xuXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveFxuXHRcdC8vIFdlIGhhdmUgdG8gcHJlLWRlZmluZSB0aGVzZSB2YWx1ZXMgZm9yIEZGICgjMTAyMjcpXG5cdFx0SFRNTDogXCJibG9ja1wiLFxuXHRcdEJPRFk6IFwiYmxvY2tcIlxuXHR9O1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBhY3R1YWwgZGlzcGxheSBvZiBhIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5vZGVOYW1lIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZG9jIERvY3VtZW50IG9iamVjdFxuICovXG5cbi8vIENhbGxlZCBvbmx5IGZyb20gd2l0aGluIGRlZmF1bHREaXNwbGF5XG5mdW5jdGlvbiBhY3R1YWxEaXNwbGF5KCBuYW1lLCBkb2MgKSB7XG5cdHZhciBlbGVtID0galF1ZXJ5KCBkb2MuY3JlYXRlRWxlbWVudCggbmFtZSApICkuYXBwZW5kVG8oIGRvYy5ib2R5ICksXG5cblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbVsgMCBdLCBcImRpc3BsYXlcIiApO1xuXG5cdC8vIFdlIGRvbid0IGhhdmUgYW55IGRhdGEgc3RvcmVkIG9uIHRoZSBlbGVtZW50LFxuXHQvLyBzbyB1c2UgXCJkZXRhY2hcIiBtZXRob2QgYXMgZmFzdCB3YXkgdG8gZ2V0IHJpZCBvZiB0aGUgZWxlbWVudFxuXHRlbGVtLmRldGFjaCgpO1xuXG5cdHJldHVybiBkaXNwbGF5O1xufVxuXG4vKipcbiAqIFRyeSB0byBkZXRlcm1pbmUgdGhlIGRlZmF1bHQgZGlzcGxheSB2YWx1ZSBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gbm9kZU5hbWVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdERpc3BsYXkoIG5vZGVOYW1lICkge1xuXHR2YXIgZG9jID0gZG9jdW1lbnQsXG5cdFx0ZGlzcGxheSA9IGVsZW1kaXNwbGF5WyBub2RlTmFtZSBdO1xuXG5cdGlmICggIWRpc3BsYXkgKSB7XG5cdFx0ZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcblxuXHRcdC8vIElmIHRoZSBzaW1wbGUgd2F5IGZhaWxzLCByZWFkIGZyb20gaW5zaWRlIGFuIGlmcmFtZVxuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgfHwgIWRpc3BsYXkgKSB7XG5cblx0XHRcdC8vIFVzZSB0aGUgYWxyZWFkeS1jcmVhdGVkIGlmcmFtZSBpZiBwb3NzaWJsZVxuXHRcdFx0aWZyYW1lID0gKCBpZnJhbWUgfHwgalF1ZXJ5KCBcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIiApIClcblx0XHRcdFx0LmFwcGVuZFRvKCBkb2MuZG9jdW1lbnRFbGVtZW50ICk7XG5cblx0XHRcdC8vIEFsd2F5cyB3cml0ZSBhIG5ldyBIVE1MIHNrZWxldG9uIHNvIFdlYmtpdCBhbmQgRmlyZWZveCBkb24ndCBjaG9rZSBvbiByZXVzZVxuXHRcdFx0ZG9jID0gaWZyYW1lWyAwIF0uY29udGVudERvY3VtZW50O1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRVxuXHRcdFx0ZG9jLndyaXRlKCk7XG5cdFx0XHRkb2MuY2xvc2UoKTtcblxuXHRcdFx0ZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcblx0XHRcdGlmcmFtZS5kZXRhY2goKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0aGUgY29ycmVjdCBkZWZhdWx0IGRpc3BsYXlcblx0XHRlbGVtZGlzcGxheVsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cdH1cblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cbnZhciBybWFyZ2luID0gKCAvXm1hcmdpbi8gKTtcblxudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw9MTErLCBGaXJlZm94PD0zMCsgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG52YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBwaXhlbE1hcmdpblJpZ2h0VmFsLCByZWxpYWJsZU1hcmdpbkxlZnRWYWwsXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtcIiArXG5cdFx0XCJwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIjtcblx0Y29udGFpbmVyLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuXHRcdFx0Ly8gVmVuZG9yLXByZWZpeCBib3gtc2l6aW5nXG5cdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cdH1cblxuXHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0cGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFRoaXMgdGVzdCBpcyBleGVjdXRlZCBvbmx5IG9uY2UgYnV0IHdlIHN0aWxsIGRvIG1lbW9pemluZ1xuXHRcdFx0Ly8gc2luY2Ugd2UgY2FuIHVzZSB0aGUgYm94U2l6aW5nUmVsaWFibGUgcHJlLWNvbXB1dGluZy5cblx0XHRcdC8vIE5vIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHRlc3Qgd2FzIGFscmVhZHkgcGVyZm9ybWVkLCB0aG91Z2guXG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0fSxcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGJveFNpemluZ1JlbGlhYmxlVmFsID09IG51bGwgKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAtNC4zXG5cdFx0XHQvLyBXZSdyZSBjaGVja2luZyBmb3IgYm94U2l6aW5nUmVsaWFibGVWYWwgaGVyZSBpbnN0ZWFkIG9mIHBpeGVsTWFyZ2luUmlnaHRWYWxcblx0XHRcdC8vIHNpbmNlIHRoYXQgY29tcHJlc3NlcyBiZXR0ZXIgYW5kIHRoZXkncmUgY29tcHV0ZWQgdG9nZXRoZXIgYW55d2F5LlxuXHRcdFx0aWYgKCBib3hTaXppbmdSZWxpYWJsZVZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHBpeGVsTWFyZ2luUmlnaHRWYWw7XG5cdFx0fSxcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggb25seSwgQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSAzN1xuXHRcdFx0aWYgKCBib3hTaXppbmdSZWxpYWJsZVZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xuXHRcdFx0Ly8gQ2hlY2sgaWYgZGl2IHdpdGggZXhwbGljaXQgd2lkdGggYW5kIG5vIG1hcmdpbi1yaWdodCBpbmNvcnJlY3RseVxuXHRcdFx0Ly8gZ2V0cyBjb21wdXRlZCBtYXJnaW4tcmlnaHQgYmFzZWQgb24gd2lkdGggb2YgY29udGFpbmVyLiAoIzMzMzMpXG5cdFx0XHQvLyBXZWJLaXQgQnVnIDEzMzQzIC0gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHdyb25nIHZhbHVlIGZvciBtYXJnaW4tcmlnaHRcblx0XHRcdC8vIFRoaXMgc3VwcG9ydCBmdW5jdGlvbiBpcyBvbmx5IGV4ZWN1dGVkIG9uY2Ugc28gbm8gbWVtb2l6aW5nIGlzIG5lZWRlZC5cblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdG1hcmdpbkRpdiA9IGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdC8vIFJlc2V0IENTUzogYm94LXNpemluZzsgZGlzcGxheTsgbWFyZ2luOyBib3JkZXI7IHBhZGRpbmdcblx0XHRcdG1hcmdpbkRpdi5zdHlsZS5jc3NUZXh0ID0gZGl2LnN0eWxlLmNzc1RleHQgPVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHRcdC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xuXHRcdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O1wiICtcblx0XHRcdFx0XCJkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MFwiO1xuXHRcdFx0bWFyZ2luRGl2LnN0eWxlLm1hcmdpblJpZ2h0ID0gbWFyZ2luRGl2LnN0eWxlLndpZHRoID0gXCIwXCI7XG5cdFx0XHRkaXYuc3R5bGUud2lkdGggPSBcIjFweFwiO1xuXHRcdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdFx0cmV0ID0gIXBhcnNlRmxvYXQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBtYXJnaW5EaXYgKS5tYXJnaW5SaWdodCApO1xuXG5cdFx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXHRcdFx0ZGl2LnJlbW92ZUNoaWxkKCBtYXJnaW5EaXYgKTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdHJldCA9IGNvbXB1dGVkID8gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF0gOiB1bmRlZmluZWQ7XG5cblx0Ly8gU3VwcG9ydDogT3BlcmEgMTIuMXggb25seVxuXHQvLyBGYWxsIGJhY2sgdG8gc3R5bGUgZXZlbiB3aXRob3V0IGNvbXB1dGVkXG5cdC8vIGNvbXB1dGVkIGlzIHVuZGVmaW5lZCBmb3IgZWxlbXMgb24gZG9jdW1lbnQgZnJhZ21lbnRzXG5cdGlmICggKCByZXQgPT09IFwiXCIgfHwgcmV0ID09PSB1bmRlZmluZWQgKSAmJiAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSApIHtcblx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFOVxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG9ubHkgbmVlZGVkIGZvciAuY3NzKCdmaWx0ZXInKSAoIzEyNTM3KVxuXHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoICFzdXBwb3J0LnBpeGVsTWFyZ2luUmlnaHQoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcm1hcmdpbi50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuXHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcblx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXG5cdFx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XG5cblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbnZhclxuXG5cdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcblx0Ly8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cblx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG5cdGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcblx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRmb250V2VpZ2h0OiBcIjQwMFwiXG5cdH0sXG5cblx0Y3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiT1wiLCBcIk1velwiLCBcIm1zXCIgXSxcblx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZTtcblxuLy8gUmV0dXJuIGEgY3NzIHByb3BlcnR5IG1hcHBlZCB0byBhIHBvdGVudGlhbGx5IHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cblx0Ly8gU2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcblx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblxuXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcblxuXHQvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG5cdC8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludFxuXHR2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTtcblx0cmV0dXJuIG1hdGNoZXMgP1xuXG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3Ncblx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApIDpcblx0XHR2YWx1ZTtcbn1cblxuZnVuY3Rpb24gYXVnbWVudFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhLCBpc0JvcmRlckJveCwgc3R5bGVzICkge1xuXHR2YXIgaSA9IGV4dHJhID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgP1xuXG5cdFx0Ly8gSWYgd2UgYWxyZWFkeSBoYXZlIHRoZSByaWdodCBtZWFzdXJlbWVudCwgYXZvaWQgYXVnbWVudGF0aW9uXG5cdFx0NCA6XG5cblx0XHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG5cdFx0bmFtZSA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cblx0XHR2YWwgPSAwO1xuXG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblxuXHRcdC8vIEJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpbiwgc28gYWRkIGl0IGlmIHdlIHdhbnQgaXRcblx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIGV4dHJhICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdGlmICggaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIGJvcmRlci1ib3ggaW5jbHVkZXMgcGFkZGluZywgc28gcmVtb3ZlIGl0IGlmIHdlIHdhbnQgY29udGVudFxuXHRcdFx0aWYgKCBleHRyYSA9PT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRcdHZhbCAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgYm9yZGVyIG5vciBtYXJnaW4sIHNvIHJlbW92ZSBib3JkZXJcblx0XHRcdGlmICggZXh0cmEgIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRcdHZhbCAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQsIHNvIGFkZCBwYWRkaW5nXG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQgbm9yIHBhZGRpbmcsIHNvIGFkZCBib3JkZXJcblx0XHRcdGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIG9mZnNldCBwcm9wZXJ0eSwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgYm9yZGVyLWJveCB2YWx1ZVxuXHR2YXIgdmFsdWVJc0JvcmRlckJveCA9IHRydWUsXG5cdFx0dmFsID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gZWxlbS5vZmZzZXRXaWR0aCA6IGVsZW0ub2Zmc2V0SGVpZ2h0LFxuXHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHQvLyBTb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcblx0Ly8gc3ZnIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjQ5Mjg1XG5cdC8vIE1hdGhNTCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQ5MTY2OFxuXHRpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xuXG5cdFx0Ly8gRmFsbCBiYWNrIHRvIGNvbXB1dGVkIHRoZW4gdW5jb21wdXRlZCBjc3MgaWYgbmVjZXNzYXJ5XG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRpZiAoIHZhbCA8IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0XHR2YWwgPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gQ29tcHV0ZWQgdW5pdCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi5cblx0XHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgZm9yIHN0eWxlIGluIGNhc2UgYSBicm93c2VyIHdoaWNoIHJldHVybnMgdW5yZWxpYWJsZSB2YWx1ZXNcblx0XHQvLyBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSBzaWxlbnRseSBmYWxscyBiYWNrIHRvIHRoZSByZWxpYWJsZSBlbGVtLnN0eWxlXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXG5cdFx0XHQoIHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCB2YWwgPT09IGVsZW0uc3R5bGVbIG5hbWUgXSApO1xuXG5cdFx0Ly8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuXHRcdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cdH1cblxuXHQvLyBVc2UgdGhlIGFjdGl2ZSBib3gtc2l6aW5nIG1vZGVsIHRvIGFkZC9zdWJ0cmFjdCBpcnJlbGV2YW50IHN0eWxlc1xuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0ZWxlbSxcblx0XHRcdG5hbWUsXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5mdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XG5cdHZhciBkaXNwbGF5LCBlbGVtLCBoaWRkZW4sXG5cdFx0dmFsdWVzID0gW10sXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcIm9sZGRpc3BsYXlcIiApO1xuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXG5cdFx0XHQvLyBSZXNldCB0aGUgaW5saW5lIGRpc3BsYXkgb2YgdGhpcyBlbGVtZW50IHRvIGxlYXJuIGlmIGl0IGlzXG5cdFx0XHQvLyBiZWluZyBoaWRkZW4gYnkgY2FzY2FkZWQgcnVsZXMgb3Igbm90XG5cdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gJiYgZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBlbGVtZW50cyB3aGljaCBoYXZlIGJlZW4gb3ZlcnJpZGRlbiB3aXRoIGRpc3BsYXk6IG5vbmVcblx0XHRcdC8vIGluIGEgc3R5bGVzaGVldCB0byB3aGF0ZXZlciB0aGUgZGVmYXVsdCBicm93c2VyIHN0eWxlIGlzXG5cdFx0XHQvLyBmb3Igc3VjaCBhbiBlbGVtZW50XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbiggZWxlbSApICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5hY2Nlc3MoXG5cdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRcIm9sZGRpc3BsYXlcIixcblx0XHRcdFx0XHRkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZGRlbiA9IGlzSGlkZGVuKCBlbGVtICk7XG5cblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgfHwgIWhpZGRlbiApIHtcblx0XHRcdFx0ZGF0YVByaXYuc2V0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0XCJvbGRkaXNwbGF5XCIsXG5cdFx0XHRcdFx0aGlkZGVuID8gZGlzcGxheSA6IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgbW9zdCBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcFxuXHQvLyB0byBhdm9pZCB0aGUgY29uc3RhbnQgcmVmbG93XG5cdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0aWYgKCAhc2hvdyB8fCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8IGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IHNob3cgPyB2YWx1ZXNbIGluZGV4IF0gfHwgXCJcIiA6IFwibm9uZVwiO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcblx0XHRcdCggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG9yaWdOYW1lICkgfHwgb3JpZ05hbWUgKTtcblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cdFx0XHRcdFx0ZWxlbS5vZmZzZXRXaWR0aCA9PT0gMCA/XG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdFx0dmFyIG1hdGNoZXMsXG5cdFx0XHRcdHN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcyggZWxlbSApLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhICYmIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpO1xuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXHRcdFx0XHRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdCkgKyBcInB4XCI7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xualF1ZXJ5LmNzc0hvb2tzLm1hcmdpblJpZ2h0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuIHN3YXAoIGVsZW0sIHsgXCJkaXNwbGF5XCI6IFwiaW5saW5lLWJsb2NrXCIgfSxcblx0XHRcdFx0Y3VyQ1NTLCBbIGVsZW0sIFwibWFyZ2luUmlnaHRcIiBdICk7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCgge1xuXHRtYXJnaW46IFwiXCIsXG5cdHBhZGRpbmc6IFwiXCIsXG5cdGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGV4cGFuZGVkID0ge30sXG5cblx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoIFwiIFwiICkgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRjc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdG1hcCA9IHt9LFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cdHNob3c6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHR9LFxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0fSxcblx0dG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNIaWRkZW4oIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbmZ1bmN0aW9uIFR3ZWVuKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApIHtcblx0cmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTtcbn1cbmpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xuXG5Ud2Vlbi5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBUd2Vlbixcblx0aW5pdDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0ICkge1xuXHRcdHRoaXMuZWxlbSA9IGVsZW07XG5cdFx0dGhpcy5wcm9wID0gcHJvcDtcblx0XHR0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0O1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcblx0XHR0aGlzLmVuZCA9IGVuZDtcblx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHR9LFxuXHRjdXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cblx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTtcblx0fSxcblx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHR2YXIgZWFzZWQsXG5cdFx0XHRob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKFxuXHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdH1cblx0XHR0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgaG9va3Muc2V0ICkge1xuXHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn07XG5cblR3ZWVuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTtcblxuVHdlZW4ucHJvcEhvb2tzID0ge1xuXHRfZGVmYXVsdDoge1xuXHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblxuXHRcdFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcblx0XHRcdC8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuXG5cdFx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgIT09IDEgfHxcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF07XG5cdFx0XHR9XG5cblx0XHRcdC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxuXHRcdFx0Ly8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy5cblx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuXHRcdFx0Ly8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyBcInJvdGF0ZSgxcmFkKVwiIGFyZSByZXR1cm5lZCBhcy1pcy5cblx0XHRcdHJlc3VsdCA9IGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIFwiXCIgKTtcblxuXHRcdFx0Ly8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcImF1dG9cIiBhcmUgY29udmVydGVkIHRvIDAuXG5cdFx0XHRyZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09IFwiYXV0b1wiID8gMCA6IHJlc3VsdDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXG5cdFx0XHQvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cblx0XHRcdC8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS5cblx0XHRcdC8vIFVzZSAuc3R5bGUgaWYgYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGUuXG5cdFx0XHRpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0oIHR3ZWVuICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggdHdlZW4uZWxlbS5zdHlsZVsgalF1ZXJ5LmNzc1Byb3BzWyB0d2Vlbi5wcm9wIF0gXSAhPSBudWxsIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gKSApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBTdXBwb3J0OiBJRTlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIENvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCB0aW1lcklkLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNCA7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHQvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCB0d2VlbiwgaG9va3MsIG9sZGZpcmUsIGRpc3BsYXksIGNoZWNrRGlzcGxheSxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW4oIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIEhhbmRsZSBxdWV1ZTogZmFsc2UgcHJvbWlzZXNcblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gSGVpZ2h0L3dpZHRoIG92ZXJmbG93IHBhc3Ncblx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCJoZWlnaHRcIiBpbiBwcm9wcyB8fCBcIndpZHRoXCIgaW4gcHJvcHMgKSApIHtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG5vdGhpbmcgc25lYWtzIG91dFxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUU5LTEwIGRvIG5vdFxuXHRcdC8vIGNoYW5nZSB0aGUgb3ZlcmZsb3cgYXR0cmlidXRlIHdoZW4gb3ZlcmZsb3dYIGFuZFxuXHRcdC8vIG92ZXJmbG93WSBhcmUgc2V0IHRvIHRoZSBzYW1lIHZhbHVlXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBTZXQgZGlzcGxheSBwcm9wZXJ0eSB0byBpbmxpbmUtYmxvY2sgZm9yIGhlaWdodC93aWR0aFxuXHRcdC8vIGFuaW1hdGlvbnMgb24gaW5saW5lIGVsZW1lbnRzIHRoYXQgYXJlIGhhdmluZyB3aWR0aC9oZWlnaHQgYW5pbWF0ZWRcblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblxuXHRcdC8vIFRlc3QgZGVmYXVsdCBkaXNwbGF5IGlmIGRpc3BsYXkgaXMgY3VycmVudGx5IFwibm9uZVwiXG5cdFx0Y2hlY2tEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgP1xuXHRcdFx0ZGF0YVByaXYuZ2V0KCBlbGVtLCBcIm9sZGRpc3BsYXlcIiApIHx8IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgOiBkaXNwbGF5O1xuXG5cdFx0aWYgKCBjaGVja0Rpc3BsYXkgPT09IFwiaW5saW5lXCIgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBzaG93L2hpZGUgcGFzc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLmV4ZWMoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGRhdGFTaG93IGxlZnQgb3ZlciBmcm9tIGEgc3RvcHBlZCBoaWRlIG9yIHNob3dcblx0XHRcdFx0Ly8gYW5kIHdlIGFyZSBnb2luZyB0byBwcm9jZWVkIHdpdGggc2hvdywgd2Ugc2hvdWxkIHByZXRlbmQgdG8gYmUgaGlkZGVuXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXG5cdFx0Ly8gQW55IG5vbi1meCB2YWx1ZSBzdG9wcyB1cyBmcm9tIHJlc3RvcmluZyB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXNwbGF5ID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwge30gKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSBzdGF0ZSBpZiBpdHMgdG9nZ2xlIC0gZW5hYmxlcyAuc3RvcCgpLnRvZ2dsZSgpIHRvIFwicmV2ZXJzZVwiXG5cdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdH1cblx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdGpRdWVyeSggZWxlbSApLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5KCBlbGVtICkuaGlkZSgpO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHByb3A7XG5cblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHR0d2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXG5cdFx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0XHR0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydDtcblx0XHRcdFx0XHR0d2Vlbi5zdGFydCA9IHByb3AgPT09IFwid2lkdGhcIiB8fCBwcm9wID09PSBcImhlaWdodFwiID8gMSA6IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0Ly8gSWYgdGhpcyBpcyBhIG5vb3AgbGlrZSAuaGlkZSgpLmhpZGUoKSwgcmVzdG9yZSBhbiBvdmVyd3JpdHRlbiBkaXNwbGF5IHZhbHVlXG5cdH0gZWxzZSBpZiAoICggZGlzcGxheSA9PT0gXCJub25lXCIgPyBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApIDogZGlzcGxheSApID09PSBcImlubGluZVwiICkge1xuXHRcdHN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRkZWxldGUgcHJvcHNbIGluZGV4IF07XG5cdFx0fVxuXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTtcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgbmFtZSBdO1xuXG5cdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHQvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0dmFyIHJlc3VsdCxcblx0XHRzdG9wcGVkLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdGRlbGV0ZSB0aWNrLmVsZW07XG5cdFx0fSApLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRyZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdGlmICggcmVzdWx0ICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCBhbmltYXRpb24uZWxlbSwgYW5pbWF0aW9uLm9wdHMucXVldWUgKS5zdG9wID1cblx0XHRcdFx0XHRqUXVlcnkucHJveHkoIHJlc3VsdC5zdG9wLCByZXN1bHQgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTtcblxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9IClcblx0KTtcblxuXHQvLyBhdHRhY2ggY2FsbGJhY2tzIGZyb20gb3B0aW9uc1xuXHRyZXR1cm4gYW5pbWF0aW9uLnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XG59XG5cbmpRdWVyeS5BbmltYXRpb24gPSBqUXVlcnkuZXh0ZW5kKCBBbmltYXRpb24sIHtcblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90d2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4Lm9mZiA/IDAgOiB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID9cblx0XHRvcHQuZHVyYXRpb24gOiBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyA/XG5cdFx0XHRqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXSA6IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW4gKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goIHtcblx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeCggXCJ0b2dnbGVcIiApLFxuXHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuXHRmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6IFwidG9nZ2xlXCIgfVxufSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdGkgPSAwLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cblx0ZnhOb3cgPSBqUXVlcnkubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cblx0XHQvLyBDaGVja3MgdGhlIHRpbWVyIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlbW92ZWRcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRpZiAoIHRpbWVyKCkgKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0YXJ0KCk7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5LnRpbWVycy5wb3AoKTtcblx0fVxufTtcblxualF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhdGltZXJJZCApIHtcblx0XHR0aW1lcklkID0gd2luZG93LnNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XG5cblx0dGltZXJJZCA9IG51bGw7XG59O1xuXG5qUXVlcnkuZnguc3BlZWRzID0ge1xuXHRzbG93OiA2MDAsXG5cdGZhc3Q6IDIwMCxcblxuXHQvLyBEZWZhdWx0IHNwZWVkXG5cdF9kZWZhdWx0OiA0MDBcbn07XG5cblxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuLy8gaHR0cDovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IGlPUzw9NS4xLCBBbmRyb2lkPD00LjIrXG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRTw9MTErXG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw9Mi4zXG5cdC8vIE9wdGlvbnMgaW5zaWRlIGRpc2FibGVkIHNlbGVjdHMgYXJlIGluY29ycmVjdGx5IG1hcmtlZCBhcyBkaXNhYmxlZFxuXHRzZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuXHRzdXBwb3J0Lm9wdERpc2FibGVkID0gIW9wdC5kaXNhYmxlZDtcblxuXHQvLyBTdXBwb3J0OiBJRTw9MTErXG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgYXR0cmlidXRlcyBhcmUgbG93ZXJjYXNlXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0bmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSwgcHJvcE5hbWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0cHJvcE5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cblx0XHRcdFx0Ly8gQm9vbGVhbiBhdHRyaWJ1dGVzIGdldCBzcGVjaWFsIHRyZWF0bWVudCAoIzEwODcwKVxuXHRcdFx0XHRpZiAoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApICkge1xuXG5cdFx0XHRcdFx0Ly8gU2V0IGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdG8gZmFsc2Vcblx0XHRcdFx0XHRlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZTtcblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdHJldHVybiB0YWJpbmRleCA/XG5cdFx0XHRcdFx0cGFyc2VJbnQoIHRhYmluZGV4LCAxMCApIDpcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiYgZWxlbS5ocmVmID9cblx0XHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHRcdC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cbnZhciByY2xhc3MgPSAvW1xcdFxcclxcblxcZl0vZztcblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IGpRdWVyeS50cmltKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCBcIiBcIiArIGN1clZhbHVlICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyhcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdHN0YXRlVmFsXG5cdFx0XHRcdCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIGdldENsYXNzKCBlbGVtICkgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nLFxuXHRyc3BhY2VzID0gL1tcXHgyMFxcdFxcclxcblxcZl0rL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0cmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xuXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRcdHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICkgOlxuXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdFx0cmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFMTAtMTErXG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRqUXVlcnkudHJpbSggalF1ZXJ5LnRleHQoIGVsZW0gKSApLnJlcGxhY2UoIHJzcGFjZXMsIFwiIFwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZWxlY3Q6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0b25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIiB8fCBpbmRleCA8IDAsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoLFxuXHRcdFx0XHRcdGkgPSBpbmRleCA8IDAgP1xuXHRcdFx0XHRcdFx0bWF4IDpcblx0XHRcdFx0XHRcdG9uZSA/IGluZGV4IDogMDtcblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0KCBzdXBwb3J0Lm9wdERpc2FibGVkID9cblx0XHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkIDogb3B0aW9uLmdldEF0dHJpYnV0ZSggXCJkaXNhYmxlZFwiICkgPT09IG51bGwgKSAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFqUXVlcnkubm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgb3B0aW9uU2V0LCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdGkgPSBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KCBvcHRpb24gKSwgdmFsdWVzICkgPiAtMVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0ZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKCBbIFwicmFkaW9cIiwgXCJjaGVja2JveFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87XG5cbmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXG5cdFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdCggXCIuXCIgKSA6IFtdO1xuXG5cdFx0Y3VyID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKCBcIjpcIiApIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiICk7XG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbmpRdWVyeS5lYWNoKCAoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cblxuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3hcbi8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4vL1xuLy8gU3VwcG9ydDogQ2hyb21lLCBTYWZhcmlcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XG5cdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICkgLSAxO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcbn1cbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblxudmFyIG5vbmNlID0galF1ZXJ5Lm5vdygpO1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gU3VwcG9ydDogQW5kcm9pZCAyLjNcbi8vIFdvcmthcm91bmQgZmFpbHVyZSB0byBzdHJpbmctY2FzdCBudWxsIGlucHV0XG5qUXVlcnkucGFyc2VKU09OID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICsgXCJcIiApO1xufTtcblxuXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG5qUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHtcblx0dmFyIHhtbDtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFOVxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgZGF0YSApO1xuXHR9XG5cdHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuXHRyaGFzaCA9IC8jLiokLyxcblx0cnRzID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxuXHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRhc3luYzogdHJ1ZSxcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblx0XHQvKlxuXHRcdHRpbWVvdXQ6IDAsXG5cdFx0ZGF0YTogbnVsbCxcblx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRjYWNoZTogbnVsbCxcblx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdHRyYWRpdGlvbmFsOiBmYWxzZSxcblx0XHRoZWFkZXJzOiB7fSxcblx0XHQqL1xuXG5cdFx0YWNjZXB0czoge1xuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0dGV4dDogXCJ0ZXh0L3BsYWluXCIsXG5cdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcblx0XHR9LFxuXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRqc29uOiAvXFxianNvblxcYi9cblx0XHR9LFxuXG5cdFx0cmVzcG9uc2VGaWVsZHM6IHtcblx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdGpzb246IFwicmVzcG9uc2VKU09OXCJcblx0XHR9LFxuXG5cdFx0Ly8gRGF0YSBjb252ZXJ0ZXJzXG5cdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdGNvbnZlcnRlcnM6IHtcblxuXHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cblx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuXHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogalF1ZXJ5LnBhcnNlSlNPTixcblxuXHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0fSxcblxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0Ly8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuXHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0ZmxhdE9wdGlvbnM6IHtcblx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcblx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuXHRcdHJldHVybiBzZXR0aW5ncyA/XG5cblx0XHRcdC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cblx0XHRcdC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3Ncblx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHR9LFxuXG5cdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuXHQvLyBNYWluIG1ldGhvZFxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcHRpb25zID0gdXJsO1xuXHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHR2YXIgdHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXG5cdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0dGltZW91dFRpbWVyLFxuXG5cdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdHVybEFuY2hvcixcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gVGhlIGpxWEhSIHN0YXRlXG5cdFx0XHRzdGF0ZSA9IDAsXG5cblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0c3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG5cblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGUgPT09IDIgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHR2YXIgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0aWYgKCAhc3RhdGUgKSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbG5hbWUgXSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIGxuYW1lIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCAhc3RhdGUgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggc3RhdGUgPCAyICkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2sgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3Ncblx0XHRcdFx0XHRcdFx0anFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhbmNlbCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG5cdFx0XHRcdFx0aWYgKCB0cmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkb25lKCAwLCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcblx0XHRkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApLmNvbXBsZXRlID0gY29tcGxldGVEZWZlcnJlZC5hZGQ7XG5cdFx0anFYSFIuc3VjY2VzcyA9IGpxWEhSLmRvbmU7XG5cdFx0anFYSFIuZXJyb3IgPSBqcVhIUi5mYWlsO1xuXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggY2hhcmFjdGVyICgjNzUzMTogYW5kIHN0cmluZyBwcm9tb3Rpb24pXG5cdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApLnJlcGxhY2UoIHJoYXNoLCBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0galF1ZXJ5LnRyaW0oIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LTExK1xuXHRcdFx0Ly8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBpZiB1cmwgaXMgbWFsZm9ybWVkLCBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFOC0xMStcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggc3RhdGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcblx0XHR9XG5cblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcblx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG5cdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2Vcblx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHRjYWNoZVVSTCA9IHMudXJsO1xuXG5cdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XG5cblx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdGlmICggcy5kYXRhICkge1xuXHRcdFx0XHRjYWNoZVVSTCA9ICggcy51cmwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YSApO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGFudGktY2FjaGUgaW4gdXJsIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0cy51cmwgPSBydHMudGVzdCggY2FjaGVVUkwgKSA/XG5cblx0XHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgJ18nIHBhcmFtZXRlciwgc2V0IGl0cyB2YWx1ZVxuXHRcdFx0XHRcdGNhY2hlVVJMLnJlcGxhY2UoIHJ0cywgXCIkMV89XCIgKyBub25jZSsrICkgOlxuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFkZCBvbmUgdG8gdGhlIGVuZFxuXHRcdFx0XHRcdGNhY2hlVVJMICsgKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArIG5vbmNlKys7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IHN0YXRlID09PSAyICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRmb3IgKCBpIGluIHsgc3VjY2VzczogMSwgZXJyb3I6IDEsIGNvbXBsZXRlOiAxIH0gKSB7XG5cdFx0XHRqcVhIUlsgaSBdKCBzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBzdGF0ZSA9PT0gMiApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c3RhdGUgPSAxO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBleGNlcHRpb24gYXMgZXJyb3IgaWYgbm90IGRvbmVcblx0XHRcdFx0aWYgKCBzdGF0ZSA8IDIgKSB7XG5cdFx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblxuXHRcdFx0XHQvLyBTaW1wbHkgcmV0aHJvdyBvdGhlcndpc2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gQ2FsbGVkIG9uY2Vcblx0XHRcdGlmICggc3RhdGUgPT09IDIgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhdGUgaXMgXCJkb25lXCIgbm93XG5cdFx0XHRzdGF0ZSA9IDI7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdH07XG59ICk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0dXJsOiB1cmwsXG5cblx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NClcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdGFzeW5jOiBmYWxzZSxcblx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFwidGhyb3dzXCI6IHRydWVcblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiYm9keVwiICkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHRcdH1cblx0XHR9ICkuZW5kKCk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5maWx0ZXJzLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLmZpbHRlcnMudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLmZpbHRlcnMudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdC8vIFN1cHBvcnQ6IE9wZXJhIDw9IDEyLjEyXG5cdC8vIE9wZXJhIHJlcG9ydHMgb2Zmc2V0V2lkdGhzIGFuZCBvZmZzZXRIZWlnaHRzIGxlc3MgdGhhbiB6ZXJvIG9uIHNvbWUgZWxlbWVudHNcblx0Ly8gVXNlIE9SIGluc3RlYWQgb2YgQU5EIGFzIHRoZSBlbGVtZW50IGlzIG5vdCB2aXNpYmxlIGlmIGVpdGhlciBpcyB0cnVlXG5cdC8vIFNlZSB0aWNrZXRzICMxMDQwNiBhbmQgIzEzMTMyXG5cdHJldHVybiBlbGVtLm9mZnNldFdpZHRoID4gMCB8fCBlbGVtLm9mZnNldEhlaWdodCA+IDAgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCA+IDA7XG59O1xuXG5cblxuXG52YXIgcjIwID0gLyUyMC9nLFxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBvYmogKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblxuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKFxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0dixcblx0XHRcdFx0XHR0cmFkaXRpb25hbCxcblx0XHRcdFx0XHRhZGRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIGpRdWVyeS50eXBlKCBvYmogKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdH1cbn1cblxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcbi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHR2YXIgcHJlZml4LFxuXHRcdHMgPSBbXSxcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCByZXR1cm4gaXRzIHZhbHVlXG5cdFx0XHR2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApID8gdmFsdWUoKSA6ICggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgKTtcblx0XHR9O1xuXG5cdC8vIFNldCB0cmFkaXRpb25hbCB0byB0cnVlIGZvciBqUXVlcnkgPD0gMS4zLjIgYmVoYXZpb3IuXG5cdGlmICggdHJhZGl0aW9uYWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHR0cmFkaXRpb25hbCA9IGpRdWVyeS5hamF4U2V0dGluZ3MgJiYgalF1ZXJ5LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtcblx0fVxuXG5cdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdGlmICggalF1ZXJ5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2ggKCBlICkge31cbn07XG5cbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcblx0XHQwOiAyMDAsXG5cblx0XHQvLyBTdXBwb3J0OiBJRTlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFOVxuXHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU5XG5cdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcblx0XHRcdFx0aWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuXHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcblx0XHRcdFx0XHRcdFx0Ly8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XG5cdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuXHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuXHRcdFx0XHRcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG5cdH0sXG5cdGNvbnRlbnRzOiB7XG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cblx0fSxcblx0Y29udmVydGVyczoge1xuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHR9XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHR9XG59ICk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiICkucHJvcCgge1xuXHRcdFx0XHRcdGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCxcblx0XHRcdFx0XHRzcmM6IHMudXJsXG5cdFx0XHRcdH0gKS5vbihcblx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXG4vLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdHZhciBwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKSxcblx0XHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vLyBLZWVwIGEgY29weSBvZiB0aGUgb2xkIGxvYWQgbWV0aG9kXG52YXIgX2xvYWQgPSBqUXVlcnkuZm4ubG9hZDtcblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0aWYgKCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiICYmIF9sb2FkICkge1xuXHRcdHJldHVybiBfbG9hZC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH1cblxuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBqUXVlcnkudHJpbSggdXJsLnNsaWNlKCBvZmYgKSApO1xuXHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG5cdH1cblxuXHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0Ly8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG5cdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRkYXRhOiBwYXJhbXNcblx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuXHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0fSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuLy8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcbmpRdWVyeS5lYWNoKCBbXG5cdFwiYWpheFN0YXJ0XCIsXG5cdFwiYWpheFN0b3BcIixcblx0XCJhamF4Q29tcGxldGVcIixcblx0XCJhamF4RXJyb3JcIixcblx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcImFqYXhTZW5kXCJcbl0sIGZ1bmN0aW9uKCBpLCB0eXBlICkge1xuXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0fTtcbn0gKTtcblxuXG5cblxualF1ZXJ5LmV4cHIuZmlsdGVycy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSApLmxlbmd0aDtcbn07XG5cblxuXG5cbi8qKlxuICogR2V0cyBhIHdpbmRvdyBmcm9tIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93KCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgPyBlbGVtIDogZWxlbS5ub2RlVHlwZSA9PT0gOSAmJiBlbGVtLmRlZmF1bHRWaWV3O1xufVxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cblx0XHRcdC8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KVxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xuXHRcdH1cblxuXHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyRWxlbS5jc3MoIHByb3BzICk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHR2YXIgZG9jRWxlbSwgd2luLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGJveCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXG5cdFx0XHRkb2MgPSBlbGVtICYmIGVsZW0ub3duZXJEb2N1bWVudDtcblxuXHRcdGlmICggIWRvYyApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdC8vIE1ha2Ugc3VyZSBpdCdzIG5vdCBhIGRpc2Nvbm5lY3RlZCBET00gbm9kZVxuXHRcdGlmICggIWpRdWVyeS5jb250YWlucyggZG9jRWxlbSwgZWxlbSApICkge1xuXHRcdFx0cmV0dXJuIGJveDtcblx0XHR9XG5cblx0XHRib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHdpbiA9IGdldFdpbmRvdyggZG9jICk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogYm94LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuXHRcdFx0bGVmdDogYm94LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcblx0XHR9O1xuXHR9LFxuXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxuXHRcdC8vIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyB0aGVyZSB3aGVuIGNvbXB1dGVkIHBvc2l0aW9uIGlzIGZpeGVkXG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHRwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApO1xuXHRcdH1cblxuXHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXG5cdFx0fTtcblx0fSxcblxuXHQvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcblx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcblx0Ly8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudFxuXHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdC8vXG5cdC8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlc1xuXHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0Ly9cblx0Ly8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmVcblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XG5cdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cblx0alF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXHRcdFx0dmFyIHdpbiA9IGdldFdpbmRvdyggZWxlbSApO1xuXG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB3aW4gKSB7XG5cdFx0XHRcdHdpbi5zY3JvbGxUbyhcblx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtWyBtZXRob2QgXSA9IHZhbDtcblx0XHRcdH1cblx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9O1xufSApO1xuXG4vLyBTdXBwb3J0OiBTYWZhcmk8Ny04KywgQ2hyb21lPDM3LTQ0K1xuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MjgwXG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIEFzIG9mIDUvOC8yMDEyIHRoaXMgd2lsbCB5aWVsZCBpbmNvcnJlY3QgcmVzdWx0cyBmb3IgTW9iaWxlIFNhZmFyaSwgYnV0IHRoZXJlXG5cdFx0XHRcdFx0Ly8gaXNuJ3QgYSB3aG9sZSBsb3Qgd2UgY2FuIGRvLiBTZWUgcHVsbCByZXF1ZXN0IGF0IHRoaXMgVVJMIGZvciBkaXNjdXNzaW9uOlxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNzY0XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlLCBudWxsICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH0sXG5cdHNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmxlbmd0aDtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uYW5kU2VsZiA9IGpRdWVyeS5mbi5hZGRCYWNrO1xuXG5cblxuXG4vLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcbn1cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggIW5vR2xvYmFsICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cbnJldHVybiBqUXVlcnk7XG59KSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS41LjhcbiAqIChjKSAyMDEwLTIwMTYgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdykgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIG9iamVjdCBwcm92aWRlcyBhIHV0aWxpdHkgZm9yIHByb2R1Y2luZyByaWNoIEVycm9yIG1lc3NhZ2VzIHdpdGhpblxuICogQW5ndWxhci4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOlxuICpcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XG4gKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpO1xuICpcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXG4gKiB0YWtlLlxuICpcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcbiAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLlxuICpcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xuICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuXG4gKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcbiAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEVycm9yQ29uc3RydWN0b3IgQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yIHRvIGJlIGluc3RhbnRpYXRlZCB3aGVuIHJldHVybmluZ1xuICogICBlcnJvciBmcm9tIHJldHVybmVkIGZ1bmN0aW9uLCBmb3IgY2FzZXMgd2hlbiBhIHBhcnRpY3VsYXIgdHlwZSBvZiBlcnJvciBpcyB1c2VmdWwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcbiAgRXJyb3JDb25zdHJ1Y3RvciA9IEVycm9yQ29uc3RydWN0b3IgfHwgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgU0tJUF9JTkRFWEVTID0gMjtcblxuICAgIHZhciB0ZW1wbGF0ZUFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICBjb2RlID0gdGVtcGxhdGVBcmdzWzBdLFxuICAgICAgbWVzc2FnZSA9ICdbJyArIChtb2R1bGUgPyBtb2R1bGUgKyAnOicgOiAnJykgKyBjb2RlICsgJ10gJyxcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGVBcmdzWzFdLFxuICAgICAgcGFyYW1QcmVmaXgsIGk7XG5cbiAgICBtZXNzYWdlICs9IHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksXG4gICAgICAgIHNoaWZ0ZWRJbmRleCA9IGluZGV4ICsgU0tJUF9JTkRFWEVTO1xuXG4gICAgICBpZiAoc2hpZnRlZEluZGV4IDwgdGVtcGxhdGVBcmdzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z1N0cmluZyh0ZW1wbGF0ZUFyZ3Nbc2hpZnRlZEluZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIG1lc3NhZ2UgKz0gJ1xcbmh0dHA6Ly9lcnJvcnMuYW5ndWxhcmpzLm9yZy8xLjUuOC8nICtcbiAgICAgIChtb2R1bGUgPyBtb2R1bGUgKyAnLycgOiAnJykgKyBjb2RlO1xuXG4gICAgZm9yIChpID0gU0tJUF9JTkRFWEVTLCBwYXJhbVByZWZpeCA9ICc/JzsgaSA8IHRlbXBsYXRlQXJncy5sZW5ndGg7IGkrKywgcGFyYW1QcmVmaXggPSAnJicpIHtcbiAgICAgIG1lc3NhZ2UgKz0gcGFyYW1QcmVmaXggKyAncCcgKyAoaSAtIFNLSVBfSU5ERVhFUykgKyAnPScgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodG9EZWJ1Z1N0cmluZyh0ZW1wbGF0ZUFyZ3NbaV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEVycm9yQ29uc3RydWN0b3IobWVzc2FnZSk7XG4gIH07XG59XG5cbi8qIFdlIG5lZWQgdG8gdGVsbCBqc2hpbnQgd2hhdCB2YXJpYWJsZXMgYXJlIGJlaW5nIGV4cG9ydGVkICovXG4vKiBnbG9iYWwgYW5ndWxhcjogdHJ1ZSxcbiAgbXNpZTogdHJ1ZSxcbiAganFMaXRlOiB0cnVlLFxuICBqUXVlcnk6IHRydWUsXG4gIHNsaWNlOiB0cnVlLFxuICBzcGxpY2U6IHRydWUsXG4gIHB1c2g6IHRydWUsXG4gIHRvU3RyaW5nOiB0cnVlLFxuICBuZ01pbkVycjogdHJ1ZSxcbiAgYW5ndWxhck1vZHVsZTogdHJ1ZSxcbiAgdWlkOiB0cnVlLFxuICBSRUdFWF9TVFJJTkdfUkVHRVhQOiB0cnVlLFxuICBWQUxJRElUWV9TVEFURV9QUk9QRVJUWTogdHJ1ZSxcblxuICBsb3dlcmNhc2U6IHRydWUsXG4gIHVwcGVyY2FzZTogdHJ1ZSxcbiAgbWFudWFsTG93ZXJjYXNlOiB0cnVlLFxuICBtYW51YWxVcHBlcmNhc2U6IHRydWUsXG4gIG5vZGVOYW1lXzogdHJ1ZSxcbiAgaXNBcnJheUxpa2U6IHRydWUsXG4gIGZvckVhY2g6IHRydWUsXG4gIGZvckVhY2hTb3J0ZWQ6IHRydWUsXG4gIHJldmVyc2VQYXJhbXM6IHRydWUsXG4gIG5leHRVaWQ6IHRydWUsXG4gIHNldEhhc2hLZXk6IHRydWUsXG4gIGV4dGVuZDogdHJ1ZSxcbiAgdG9JbnQ6IHRydWUsXG4gIGluaGVyaXQ6IHRydWUsXG4gIG1lcmdlOiB0cnVlLFxuICBub29wOiB0cnVlLFxuICBpZGVudGl0eTogdHJ1ZSxcbiAgdmFsdWVGbjogdHJ1ZSxcbiAgaXNVbmRlZmluZWQ6IHRydWUsXG4gIGlzRGVmaW5lZDogdHJ1ZSxcbiAgaXNPYmplY3Q6IHRydWUsXG4gIGlzQmxhbmtPYmplY3Q6IHRydWUsXG4gIGlzU3RyaW5nOiB0cnVlLFxuICBpc051bWJlcjogdHJ1ZSxcbiAgaXNEYXRlOiB0cnVlLFxuICBpc0FycmF5OiB0cnVlLFxuICBpc0Z1bmN0aW9uOiB0cnVlLFxuICBpc1JlZ0V4cDogdHJ1ZSxcbiAgaXNXaW5kb3c6IHRydWUsXG4gIGlzU2NvcGU6IHRydWUsXG4gIGlzRmlsZTogdHJ1ZSxcbiAgaXNGb3JtRGF0YTogdHJ1ZSxcbiAgaXNCbG9iOiB0cnVlLFxuICBpc0Jvb2xlYW46IHRydWUsXG4gIGlzUHJvbWlzZUxpa2U6IHRydWUsXG4gIHRyaW06IHRydWUsXG4gIGVzY2FwZUZvclJlZ2V4cDogdHJ1ZSxcbiAgaXNFbGVtZW50OiB0cnVlLFxuICBtYWtlTWFwOiB0cnVlLFxuICBpbmNsdWRlczogdHJ1ZSxcbiAgYXJyYXlSZW1vdmU6IHRydWUsXG4gIGNvcHk6IHRydWUsXG4gIGVxdWFsczogdHJ1ZSxcbiAgY3NwOiB0cnVlLFxuICBqcTogdHJ1ZSxcbiAgY29uY2F0OiB0cnVlLFxuICBzbGljZUFyZ3M6IHRydWUsXG4gIGJpbmQ6IHRydWUsXG4gIHRvSnNvblJlcGxhY2VyOiB0cnVlLFxuICB0b0pzb246IHRydWUsXG4gIGZyb21Kc29uOiB0cnVlLFxuICBjb252ZXJ0VGltZXpvbmVUb0xvY2FsOiB0cnVlLFxuICB0aW1lem9uZVRvT2Zmc2V0OiB0cnVlLFxuICBzdGFydGluZ1RhZzogdHJ1ZSxcbiAgdHJ5RGVjb2RlVVJJQ29tcG9uZW50OiB0cnVlLFxuICBwYXJzZUtleVZhbHVlOiB0cnVlLFxuICB0b0tleVZhbHVlOiB0cnVlLFxuICBlbmNvZGVVcmlTZWdtZW50OiB0cnVlLFxuICBlbmNvZGVVcmlRdWVyeTogdHJ1ZSxcbiAgYW5ndWxhckluaXQ6IHRydWUsXG4gIGJvb3RzdHJhcDogdHJ1ZSxcbiAgZ2V0VGVzdGFiaWxpdHk6IHRydWUsXG4gIHNuYWtlX2Nhc2U6IHRydWUsXG4gIGJpbmRKUXVlcnk6IHRydWUsXG4gIGFzc2VydEFyZzogdHJ1ZSxcbiAgYXNzZXJ0QXJnRm46IHRydWUsXG4gIGFzc2VydE5vdEhhc093blByb3BlcnR5OiB0cnVlLFxuICBnZXR0ZXI6IHRydWUsXG4gIGdldEJsb2NrTm9kZXM6IHRydWUsXG4gIGhhc093blByb3BlcnR5OiB0cnVlLFxuICBjcmVhdGVNYXA6IHRydWUsXG5cbiAgTk9ERV9UWVBFX0VMRU1FTlQ6IHRydWUsXG4gIE5PREVfVFlQRV9BVFRSSUJVVEU6IHRydWUsXG4gIE5PREVfVFlQRV9URVhUOiB0cnVlLFxuICBOT0RFX1RZUEVfQ09NTUVOVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX0RPQ1VNRU5UOiB0cnVlLFxuICBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQ6IHRydWUsXG4qL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ1xuICogQG1vZHVsZSBuZ1xuICogQGluc3RhbGxhdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIyBuZyAoY29yZSBtb2R1bGUpXG4gKiBUaGUgbmcgbW9kdWxlIGlzIGxvYWRlZCBieSBkZWZhdWx0IHdoZW4gYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIGlzIHN0YXJ0ZWQuIFRoZSBtb2R1bGUgaXRzZWxmXG4gKiBjb250YWlucyB0aGUgZXNzZW50aWFsIGNvbXBvbmVudHMgZm9yIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiB0byBmdW5jdGlvbi4gVGhlIHRhYmxlIGJlbG93XG4gKiBsaXN0cyBhIGhpZ2ggbGV2ZWwgYnJlYWtkb3duIG9mIGVhY2ggb2YgdGhlIHNlcnZpY2VzL2ZhY3RvcmllcywgZmlsdGVycywgZGlyZWN0aXZlcyBhbmQgdGVzdGluZ1xuICogY29tcG9uZW50cyBhdmFpbGFibGUgd2l0aGluIHRoaXMgY29yZSBtb2R1bGUuXG4gKlxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ1wiPjwvZGl2PlxuICovXG5cbnZhciBSRUdFWF9TVFJJTkdfUkVHRVhQID0gL15cXC8oLispXFwvKFthLXpdKikkLztcblxuLy8gVGhlIG5hbWUgb2YgYSBmb3JtIGNvbnRyb2wncyBWYWxpZGl0eVN0YXRlIHByb3BlcnR5LlxuLy8gVGhpcyBpcyB1c2VkIHNvIHRoYXQgaXQncyBwb3NzaWJsZSBmb3IgaW50ZXJuYWwgdGVzdHMgdG8gY3JlYXRlIG1vY2sgVmFsaWRpdHlTdGF0ZXMuXG52YXIgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkgPSAndmFsaWRpdHknO1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgbG93ZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9Mb3dlckNhc2UoKSA6IHN0cmluZzt9O1xudmFyIHVwcGVyY2FzZSA9IGZ1bmN0aW9uKHN0cmluZykge3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOiBzdHJpbmc7fTtcblxuXG52YXIgbWFudWFsTG93ZXJjYXNlID0gZnVuY3Rpb24ocykge1xuICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi9cbiAgcmV0dXJuIGlzU3RyaW5nKHMpXG4gICAgICA/IHMucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApIHwgMzIpO30pXG4gICAgICA6IHM7XG59O1xudmFyIG1hbnVhbFVwcGVyY2FzZSA9IGZ1bmN0aW9uKHMpIHtcbiAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovXG4gIHJldHVybiBpc1N0cmluZyhzKVxuICAgICAgPyBzLnJlcGxhY2UoL1thLXpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSAmIH4zMik7fSlcbiAgICAgIDogcztcbn07XG5cblxuLy8gU3RyaW5nI3RvTG93ZXJDYXNlIGFuZCBTdHJpbmcjdG9VcHBlckNhc2UgZG9uJ3QgcHJvZHVjZSBjb3JyZWN0IHJlc3VsdHMgaW4gYnJvd3NlcnMgd2l0aCBUdXJraXNoXG4vLyBsb2NhbGUsIGZvciB0aGlzIHJlYXNvbiB3ZSBuZWVkIHRvIGRldGVjdCB0aGlzIGNhc2UgYW5kIHJlZGVmaW5lIGxvd2VyY2FzZS91cHBlcmNhc2UgbWV0aG9kc1xuLy8gd2l0aCBjb3JyZWN0IGJ1dCBzbG93ZXIgYWx0ZXJuYXRpdmVzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTEzODdcbmlmICgnaScgIT09ICdJJy50b0xvd2VyQ2FzZSgpKSB7XG4gIGxvd2VyY2FzZSA9IG1hbnVhbExvd2VyY2FzZTtcbiAgdXBwZXJjYXNlID0gbWFudWFsVXBwZXJjYXNlO1xufVxuXG5cbnZhclxuICAgIG1zaWUsICAgICAgICAgICAgIC8vIGhvbGRzIG1ham9yIHZlcnNpb24gbnVtYmVyIGZvciBJRSwgb3IgTmFOIGlmIFVBIGlzIG5vdCBJRS5cbiAgICBqcUxpdGUsICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nIHNpbmNlIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgYWZ0ZXIgdXMuXG4gICAgalF1ZXJ5LCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZ1xuICAgIHNsaWNlICAgICAgICAgICAgID0gW10uc2xpY2UsXG4gICAgc3BsaWNlICAgICAgICAgICAgPSBbXS5zcGxpY2UsXG4gICAgcHVzaCAgICAgICAgICAgICAgPSBbXS5wdXNoLFxuICAgIHRvU3RyaW5nICAgICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICBnZXRQcm90b3R5cGVPZiAgICA9IE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgICBuZ01pbkVyciAgICAgICAgICA9IG1pbkVycignbmcnKSxcblxuICAgIC8qKiBAbmFtZSBhbmd1bGFyICovXG4gICAgYW5ndWxhciAgICAgICAgICAgPSB3aW5kb3cuYW5ndWxhciB8fCAod2luZG93LmFuZ3VsYXIgPSB7fSksXG4gICAgYW5ndWxhck1vZHVsZSxcbiAgICB1aWQgICAgICAgICAgICAgICA9IDA7XG5cbi8qKlxuICogZG9jdW1lbnRNb2RlIGlzIGFuIElFLW9ubHkgcHJvcGVydHlcbiAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9jYzE5Njk4OCh2PXZzLjg1KS5hc3B4XG4gKi9cbm1zaWUgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYG9iamAgaXMgYW4gYXJyYXkgb3IgYXJyYXktbGlrZSBvYmplY3QgKE5vZGVMaXN0LCBBcmd1bWVudHMsXG4gKiAgICAgICAgICAgICAgICAgICBTdHJpbmcgLi4uKVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZShvYmopIHtcblxuICAvLyBgbnVsbGAsIGB1bmRlZmluZWRgIGFuZCBgd2luZG93YCBhcmUgbm90IGFycmF5LWxpa2VcbiAgaWYgKG9iaiA9PSBudWxsIHx8IGlzV2luZG93KG9iaikpIHJldHVybiBmYWxzZTtcblxuICAvLyBhcnJheXMsIHN0cmluZ3MgYW5kIGpRdWVyeS9qcUxpdGUgb2JqZWN0cyBhcmUgYXJyYXkgbGlrZVxuICAvLyAqIGpxTGl0ZSBpcyBlaXRoZXIgdGhlIGpRdWVyeSBvciBqcUxpdGUgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgLy8gKiB3ZSBoYXZlIHRvIGNoZWNrIHRoZSBleGlzdGVuY2Ugb2YganFMaXRlIGZpcnN0IGFzIHRoaXMgbWV0aG9kIGlzIGNhbGxlZFxuICAvLyAgIHZpYSB0aGUgZm9yRWFjaCBtZXRob2Qgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGpxTGl0ZSBvYmplY3QgaW4gdGhlIGZpcnN0IHBsYWNlXG4gIGlmIChpc0FycmF5KG9iaikgfHwgaXNTdHJpbmcob2JqKSB8fCAoanFMaXRlICYmIG9iaiBpbnN0YW5jZW9mIGpxTGl0ZSkpIHJldHVybiB0cnVlO1xuXG4gIC8vIFN1cHBvcnQ6IGlPUyA4LjIgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuICAvLyBcImxlbmd0aFwiIGluIG9iaiB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0xMTUwOClcbiAgdmFyIGxlbmd0aCA9IFwibGVuZ3RoXCIgaW4gT2JqZWN0KG9iaikgJiYgb2JqLmxlbmd0aDtcblxuICAvLyBOb2RlTGlzdCBvYmplY3RzICh3aXRoIGBpdGVtYCBtZXRob2QpIGFuZFxuICAvLyBvdGhlciBvYmplY3RzIHdpdGggc3VpdGFibGUgbGVuZ3RoIGNoYXJhY3RlcmlzdGljcyBhcmUgYXJyYXktbGlrZVxuICByZXR1cm4gaXNOdW1iZXIobGVuZ3RoKSAmJlxuICAgIChsZW5ndGggPj0gMCAmJiAoKGxlbmd0aCAtIDEpIGluIG9iaiB8fCBvYmogaW5zdGFuY2VvZiBBcnJheSkgfHwgdHlwZW9mIG9iai5pdGVtID09ICdmdW5jdGlvbicpO1xuXG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmZvckVhY2hcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJbnZva2VzIHRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggaXRlbSBpbiBgb2JqYCBjb2xsZWN0aW9uLCB3aGljaCBjYW4gYmUgZWl0aGVyIGFuXG4gKiBvYmplY3Qgb3IgYW4gYXJyYXkuIFRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBgaXRlcmF0b3IodmFsdWUsIGtleSwgb2JqKWAsIHdoZXJlIGB2YWx1ZWBcbiAqIGlzIHRoZSB2YWx1ZSBvZiBhbiBvYmplY3QgcHJvcGVydHkgb3IgYW4gYXJyYXkgZWxlbWVudCwgYGtleWAgaXMgdGhlIG9iamVjdCBwcm9wZXJ0eSBrZXkgb3JcbiAqIGFycmF5IGVsZW1lbnQgaW5kZXggYW5kIG9iaiBpcyB0aGUgYG9iamAgaXRzZWxmLiBTcGVjaWZ5aW5nIGEgYGNvbnRleHRgIGZvciB0aGUgZnVuY3Rpb24gaXMgb3B0aW9uYWwuXG4gKlxuICogSXQgaXMgd29ydGggbm90aW5nIHRoYXQgYC5mb3JFYWNoYCBkb2VzIG5vdCBpdGVyYXRlIG92ZXIgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVjYXVzZSBpdCBmaWx0ZXJzXG4gKiB1c2luZyB0aGUgYGhhc093blByb3BlcnR5YCBtZXRob2QuXG4gKlxuICogVW5saWtlIEVTMjYyJ3NcbiAqIFtBcnJheS5wcm90b3R5cGUuZm9yRWFjaF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjQuNC4xOCksXG4gKiBwcm92aWRpbmcgJ3VuZGVmaW5lZCcgb3IgJ251bGwnIHZhbHVlcyBmb3IgYG9iamAgd2lsbCBub3QgdGhyb3cgYSBUeXBlRXJyb3IsIGJ1dCByYXRoZXIganVzdFxuICogcmV0dXJuIHRoZSB2YWx1ZSBwcm92aWRlZC5cbiAqXG4gICBgYGBqc1xuICAgICB2YXIgdmFsdWVzID0ge25hbWU6ICdtaXNrbycsIGdlbmRlcjogJ21hbGUnfTtcbiAgICAgdmFyIGxvZyA9IFtdO1xuICAgICBhbmd1bGFyLmZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgdGhpcy5wdXNoKGtleSArICc6ICcgKyB2YWx1ZSk7XG4gICAgIH0sIGxvZyk7XG4gICAgIGV4cGVjdChsb2cpLnRvRXF1YWwoWyduYW1lOiBtaXNrbycsICdnZW5kZXI6IG1hbGUnXSk7XG4gICBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvciBJdGVyYXRvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29udGV4dCBPYmplY3QgdG8gYmVjb21lIGNvbnRleHQgKGB0aGlzYCkgZm9yIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl9IFJlZmVyZW5jZSB0byBgb2JqYC5cbiAqL1xuXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgdmFyIGtleSwgbGVuZ3RoO1xuICBpZiAob2JqKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSkge1xuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIC8vIE5lZWQgdG8gY2hlY2sgaWYgaGFzT3duUHJvcGVydHkgZXhpc3RzLFxuICAgICAgICAvLyBhcyBvbiBJRTggdGhlIHJlc3VsdCBvZiBxdWVyeVNlbGVjdG9yQWxsIGlzIGFuIG9iamVjdCB3aXRob3V0IGEgaGFzT3duUHJvcGVydHkgZnVuY3Rpb25cbiAgICAgICAgaWYgKGtleSAhPSAncHJvdG90eXBlJyAmJiBrZXkgIT0gJ2xlbmd0aCcgJiYga2V5ICE9ICduYW1lJyAmJiAoIW9iai5oYXNPd25Qcm9wZXJ0eSB8fCBvYmouaGFzT3duUHJvcGVydHkoa2V5KSkpIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqKSB8fCBpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICB2YXIgaXNQcmltaXRpdmUgPSB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JztcbiAgICAgIGZvciAoa2V5ID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsga2V5IDwgbGVuZ3RoOyBrZXkrKykge1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUgfHwga2V5IGluIG9iaikge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2JqLmZvckVhY2ggJiYgb2JqLmZvckVhY2ggIT09IGZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQsIG9iaik7XG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KG9iaikpIHtcbiAgICAgIC8vIGNyZWF0ZU1hcCgpIGZhc3QgcGF0aCAtLS0gU2FmZSB0byBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBjaGVjayBiZWNhdXNlIHByb3RvdHlwZSBjaGFpbiBpcyBlbXB0eVxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmouaGFzT3duUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyBpbmhlcml0aW5nIE9iamVjdC5wcm90b3R5cGUsIGhhc093blByb3BlcnR5IGNoZWNrIG5lZWRlZFxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTbG93IHBhdGggZm9yIG9iamVjdHMgd2hpY2ggZG8gbm90IGhhdmUgYSBtZXRob2QgYGhhc093blByb3BlcnR5YFxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBmb3JFYWNoU29ydGVkKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5c1tpXV0sIGtleXNbaV0pO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuXG5cbi8qKlxuICogd2hlbiB1c2luZyBmb3JFYWNoIHRoZSBwYXJhbXMgYXJlIHZhbHVlLCBrZXksIGJ1dCBpdCBpcyBvZnRlbiB1c2VmdWwgdG8gaGF2ZSBrZXksIHZhbHVlLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsICopfSBpdGVyYXRvckZuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKiwgc3RyaW5nKX1cbiAqL1xuZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSwga2V5KSB7aXRlcmF0b3JGbihrZXksIHZhbHVlKTt9O1xufVxuXG4vKipcbiAqIEEgY29uc2lzdGVudCB3YXkgb2YgY3JlYXRpbmcgdW5pcXVlIElEcyBpbiBhbmd1bGFyLlxuICpcbiAqIFVzaW5nIHNpbXBsZSBudW1iZXJzIGFsbG93cyB1cyB0byBnZW5lcmF0ZSAyOC42IG1pbGxpb24gdW5pcXVlIGlkcyBwZXIgc2Vjb25kIGZvciAxMCB5ZWFycyBiZWZvcmVcbiAqIHdlIGhpdCBudW1iZXIgcHJlY2lzaW9uIGlzc3VlcyBpbiBKYXZhU2NyaXB0LlxuICpcbiAqIE1hdGgucG93KDIsNTMpIC8gNjAgLyA2MCAvIDI0IC8gMzY1IC8gMTAgPSAyOC42TVxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFuIHVuaXF1ZSBhbHBoYS1udW1lcmljIHN0cmluZ1xuICovXG5mdW5jdGlvbiBuZXh0VWlkKCkge1xuICByZXR1cm4gKyt1aWQ7XG59XG5cblxuLyoqXG4gKiBTZXQgb3IgY2xlYXIgdGhlIGhhc2hrZXkgZm9yIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBvYmogb2JqZWN0XG4gKiBAcGFyYW0gaCB0aGUgaGFzaGtleSAoIXRydXRoeSB0byBkZWxldGUgdGhlIGhhc2hrZXkpXG4gKi9cbmZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLCBoKSB7XG4gIGlmIChoKSB7XG4gICAgb2JqLiQkaGFzaEtleSA9IGg7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIG9iai4kJGhhc2hLZXk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBiYXNlRXh0ZW5kKGRzdCwgb2JqcywgZGVlcCkge1xuICB2YXIgaCA9IGRzdC4kJGhhc2hLZXk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gb2Jqcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIG9iaiA9IG9ianNbaV07XG4gICAgaWYgKCFpc09iamVjdChvYmopICYmICFpc0Z1bmN0aW9uKG9iaikpIGNvbnRpbnVlO1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgdmFyIHNyYyA9IG9ialtrZXldO1xuXG4gICAgICBpZiAoZGVlcCAmJiBpc09iamVjdChzcmMpKSB7XG4gICAgICAgIGlmIChpc0RhdGUoc3JjKSkge1xuICAgICAgICAgIGRzdFtrZXldID0gbmV3IERhdGUoc3JjLnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAoc3JjKSkge1xuICAgICAgICAgIGRzdFtrZXldID0gbmV3IFJlZ0V4cChzcmMpO1xuICAgICAgICB9IGVsc2UgaWYgKHNyYy5ub2RlTmFtZSkge1xuICAgICAgICAgIGRzdFtrZXldID0gc3JjLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQoc3JjKSkge1xuICAgICAgICAgIGRzdFtrZXldID0gc3JjLmNsb25lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFpc09iamVjdChkc3Rba2V5XSkpIGRzdFtrZXldID0gaXNBcnJheShzcmMpID8gW10gOiB7fTtcbiAgICAgICAgICBiYXNlRXh0ZW5kKGRzdFtrZXldLCBbc3JjXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRzdFtrZXldID0gc3JjO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEhhc2hLZXkoZHN0LCBoKTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZXh0ZW5kXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcbiAqIHRvIGBkc3RgLiBZb3UgY2FuIHNwZWNpZnkgbXVsdGlwbGUgYHNyY2Agb2JqZWN0cy4gSWYgeW91IHdhbnQgdG8gcHJlc2VydmUgb3JpZ2luYWwgb2JqZWN0cywgeW91IGNhbiBkbyBzb1xuICogYnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgYXMgdGhlIHRhcmdldDogYHZhciBvYmplY3QgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxuICpcbiAqICoqTm90ZToqKiBLZWVwIGluIG1pbmQgdGhhdCBgYW5ndWxhci5leHRlbmRgIGRvZXMgbm90IHN1cHBvcnQgcmVjdXJzaXZlIG1lcmdlIChkZWVwIGNvcHkpLiBVc2VcbiAqIHtAbGluayBhbmd1bGFyLm1lcmdlfSBmb3IgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZHN0IERlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGRzdCkge1xuICByZXR1cm4gYmFzZUV4dGVuZChkc3QsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZmFsc2UpO1xufVxuXG5cbi8qKlxuKiBAbmdkb2MgZnVuY3Rpb25cbiogQG5hbWUgYW5ndWxhci5tZXJnZVxuKiBAbW9kdWxlIG5nXG4qIEBraW5kIGZ1bmN0aW9uXG4qXG4qIEBkZXNjcmlwdGlvblxuKiBEZWVwbHkgZXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcbiogdG8gYGRzdGAuIFlvdSBjYW4gc3BlY2lmeSBtdWx0aXBsZSBgc3JjYCBvYmplY3RzLiBJZiB5b3Ugd2FudCB0byBwcmVzZXJ2ZSBvcmlnaW5hbCBvYmplY3RzLCB5b3UgY2FuIGRvIHNvXG4qIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5tZXJnZSh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxuKlxuKiBVbmxpa2Uge0BsaW5rIGFuZ3VsYXIuZXh0ZW5kIGV4dGVuZCgpfSwgYG1lcmdlKClgIHJlY3Vyc2l2ZWx5IGRlc2NlbmRzIGludG8gb2JqZWN0IHByb3BlcnRpZXMgb2Ygc291cmNlXG4qIG9iamVjdHMsIHBlcmZvcm1pbmcgYSBkZWVwIGNvcHkuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0LlxuKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXG4qIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cbiovXG5mdW5jdGlvbiBtZXJnZShkc3QpIHtcbiAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIHRydWUpO1xufVxuXG5cblxuZnVuY3Rpb24gdG9JbnQoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbn1cblxuXG5mdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubm9vcFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBubyBvcGVyYXRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gZm9vKGNhbGxiYWNrKSB7XG4gICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0ZVJlc3VsdCgpO1xuICAgICAgIChjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3ApKHJlc3VsdCk7XG4gICAgIH1cbiAgIGBgYFxuICovXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuJGluamVjdCA9IFtdO1xuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlkZW50aXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcbiAqIGZ1bmN0aW9uYWwgc3R5bGUuXG4gKlxuICAgYGBganNcbiAgIGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyYW5zZm9ybWF0aW9uRm4sIHZhbHVlKSB7XG4gICAgIHJldHVybiAodHJhbnNmb3JtYXRpb25GbiB8fCBhbmd1bGFyLmlkZW50aXR5KSh2YWx1ZSk7XG4gICB9O1xuXG4gICAvLyBFLmcuXG4gICBmdW5jdGlvbiBnZXRSZXN1bHQoZm4sIGlucHV0KSB7XG4gICAgIHJldHVybiAoZm4gfHwgYW5ndWxhci5pZGVudGl0eSkoaW5wdXQpO1xuICAgfTtcblxuICAgZ2V0UmVzdWx0KGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiAyOyB9LCAyMSk7ICAgLy8gcmV0dXJucyA0MlxuICAgZ2V0UmVzdWx0KG51bGwsIDIxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyMVxuICAgZ2V0UmVzdWx0KHVuZGVmaW5lZCwgMjEpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyMVxuICAgYGBgXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSB0byBiZSByZXR1cm5lZC5cbiAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgcGFzc2VkIGluLlxuICovXG5mdW5jdGlvbiBpZGVudGl0eSgkKSB7cmV0dXJuICQ7fVxuaWRlbnRpdHkuJGluamVjdCA9IFtdO1xuXG5cbmZ1bmN0aW9uIHZhbHVlRm4odmFsdWUpIHtyZXR1cm4gZnVuY3Rpb24gdmFsdWVSZWYoKSB7cmV0dXJuIHZhbHVlO307fVxuXG5mdW5jdGlvbiBoYXNDdXN0b21Ub1N0cmluZyhvYmopIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqLnRvU3RyaW5nKSAmJiBvYmoudG9TdHJpbmcgIT09IHRvU3RyaW5nO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzVW5kZWZpbmVkXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIHVuZGVmaW5lZC5cbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNEZWZpbmVkXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBkZWZpbmVkLlxuICovXG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNPYmplY3RcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBPYmplY3RgLiBVbmxpa2UgYHR5cGVvZmAgaW4gSmF2YVNjcmlwdCwgYG51bGxgcyBhcmUgbm90XG4gKiBjb25zaWRlcmVkIHRvIGJlIG9iamVjdHMuIE5vdGUgdGhhdCBKYXZhU2NyaXB0IGFycmF5cyBhcmUgb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYE9iamVjdGAgYnV0IG5vdCBgbnVsbGAuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2lzb2JqZWN0NFxuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jztcbn1cblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGEgbnVsbCBwcm90b3R5cGVcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIHdpdGggYSBudWxsIHByb3RvdHlwZVxuICovXG5mdW5jdGlvbiBpc0JsYW5rT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFnZXRQcm90b3R5cGVPZih2YWx1ZSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNTdHJpbmdcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYFN0cmluZ2AuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFN0cmluZ2AuXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzTnVtYmVyXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBOdW1iZXJgLlxuICpcbiAqIFRoaXMgaW5jbHVkZXMgdGhlIFwic3BlY2lhbFwiIG51bWJlcnMgYE5hTmAsIGArSW5maW5pdHlgIGFuZCBgLUluZmluaXR5YC5cbiAqXG4gKiBJZiB5b3Ugd2lzaCB0byBleGNsdWRlIHRoZXNlIHRoZW4geW91IGNhbiB1c2UgdGhlIG5hdGl2ZVxuICogW2Bpc0Zpbml0ZSddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2lzRmluaXRlKVxuICogbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBOdW1iZXJgLlxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0RhdGVcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSBkYXRlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBEYXRlYC5cbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzQXJyYXlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBBcnJheWAuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBBcnJheWAuXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNGdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgRnVuY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBGdW5jdGlvbmAuXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO31cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBSZWdFeHBgLlxuICovXG5mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmouXG4gKi9cbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai53aW5kb3cgPT09IG9iajtcbn1cblxuXG5mdW5jdGlvbiBpc1Njb3BlKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai4kZXZhbEFzeW5jICYmIG9iai4kd2F0Y2g7XG59XG5cblxuZnVuY3Rpb24gaXNGaWxlKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cblxuZnVuY3Rpb24gaXNGb3JtRGF0YShvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKSB7XG4gIHJldHVybiBvYmogJiYgaXNGdW5jdGlvbihvYmoudGhlbik7XG59XG5cblxudmFyIFRZUEVEX0FSUkFZX1JFR0VYUCA9IC9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XFxdJC87XG5mdW5jdGlvbiBpc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIGlzTnVtYmVyKHZhbHVlLmxlbmd0aCkgJiYgVFlQRURfQVJSQVlfUkVHRVhQLnRlc3QodG9TdHJpbmcuY2FsbCh2YWx1ZSkpO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG5cbnZhciB0cmltID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xufTtcblxuLy8gQ29waWVkIGZyb206XG4vLyBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2xvY2FsX2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmUxMDIxXG4vLyBQcmVyZXE6IHMgaXMgYSBzdHJpbmcuXG52YXIgZXNjYXBlRm9yUmVnZXhwID0gZnVuY3Rpb24ocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpLlxuICAgICAgICAgICByZXBsYWNlKC9cXHgwOC9nLCAnXFxcXHgwOCcpO1xufTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0VsZW1lbnRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuICEhKG5vZGUgJiZcbiAgICAobm9kZS5ub2RlTmFtZSAgLy8gV2UgYXJlIGEgZGlyZWN0IGVsZW1lbnQuXG4gICAgfHwgKG5vZGUucHJvcCAmJiBub2RlLmF0dHIgJiYgbm9kZS5maW5kKSkpOyAgLy8gV2UgaGF2ZSBhbiBvbiBhbmQgZmluZCBtZXRob2QgcGFydCBvZiBqUXVlcnkgQVBJLlxufVxuXG4vKipcbiAqIEBwYXJhbSBzdHIgJ2tleTEsa2V5MiwuLi4nXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpbiB0aGUgZm9ybSBvZiB7a2V5MTp0cnVlLCBrZXkyOnRydWUsIC4uLn1cbiAqL1xuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcbiAgdmFyIG9iaiA9IHt9LCBpdGVtcyA9IHN0ci5zcGxpdCgnLCcpLCBpO1xuICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICBvYmpbaXRlbXNbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5cbmZ1bmN0aW9uIG5vZGVOYW1lXyhlbGVtZW50KSB7XG4gIHJldHVybiBsb3dlcmNhc2UoZWxlbWVudC5ub2RlTmFtZSB8fCAoZWxlbWVudFswXSAmJiBlbGVtZW50WzBdLm5vZGVOYW1lKSk7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBvYmopIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYXJyYXksIG9iaikgIT0gLTE7XG59XG5cbmZ1bmN0aW9uIGFycmF5UmVtb3ZlKGFycmF5LCB2YWx1ZSkge1xuICB2YXIgaW5kZXggPSBhcnJheS5pbmRleE9mKHZhbHVlKTtcbiAgaWYgKGluZGV4ID49IDApIHtcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiBpbmRleDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuY29weVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgYHNvdXJjZWAsIHdoaWNoIHNob3VsZCBiZSBhbiBvYmplY3Qgb3IgYW4gYXJyYXkuXG4gKlxuICogKiBJZiBubyBkZXN0aW5hdGlvbiBpcyBzdXBwbGllZCwgYSBjb3B5IG9mIHRoZSBvYmplY3Qgb3IgYXJyYXkgaXMgY3JlYXRlZC5cbiAqICogSWYgYSBkZXN0aW5hdGlvbiBpcyBwcm92aWRlZCwgYWxsIG9mIGl0cyBlbGVtZW50cyAoZm9yIGFycmF5cykgb3IgcHJvcGVydGllcyAoZm9yIG9iamVjdHMpXG4gKiAgIGFyZSBkZWxldGVkIGFuZCB0aGVuIGFsbCBlbGVtZW50cy9wcm9wZXJ0aWVzIGZyb20gdGhlIHNvdXJjZSBhcmUgY29waWVkIHRvIGl0LlxuICogKiBJZiBgc291cmNlYCBpcyBub3QgYW4gb2JqZWN0IG9yIGFycmF5IChpbmMuIGBudWxsYCBhbmQgYHVuZGVmaW5lZGApLCBgc291cmNlYCBpcyByZXR1cm5lZC5cbiAqICogSWYgYHNvdXJjZWAgaXMgaWRlbnRpY2FsIHRvIGBkZXN0aW5hdGlvbmAgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duLlxuICpcbiAqIDxiciAvPlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICAgT25seSBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYXJlIHRha2VuIGludG8gYWNjb3VudC4gTm9uLWVudW1lcmFibGUgcHJvcGVydGllcyAoYm90aCBvbiBgc291cmNlYFxuICogICBhbmQgb24gYGRlc3RpbmF0aW9uYCkgd2lsbCBiZSBpZ25vcmVkLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHsqfSBzb3VyY2UgVGhlIHNvdXJjZSB0aGF0IHdpbGwgYmUgdXNlZCB0byBtYWtlIGEgY29weS5cbiAqICAgICAgICAgICAgICAgICAgIENhbiBiZSBhbnkgdHlwZSwgaW5jbHVkaW5nIHByaW1pdGl2ZXMsIGBudWxsYCwgYW5kIGB1bmRlZmluZWRgLlxuICogQHBhcmFtIHsoT2JqZWN0fEFycmF5KT19IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIGludG8gd2hpY2ggdGhlIHNvdXJjZSBpcyBjb3BpZWQuIElmXG4gKiAgICAgcHJvdmlkZWQsIG11c3QgYmUgb2YgdGhlIHNhbWUgdHlwZSBhcyBgc291cmNlYC5cbiAqIEByZXR1cm5zIHsqfSBUaGUgY29weSBvciB1cGRhdGVkIGBkZXN0aW5hdGlvbmAsIGlmIGBkZXN0aW5hdGlvbmAgd2FzIHNwZWNpZmllZC5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJjb3B5RXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlIGNsYXNzPVwic2ltcGxlLWZvcm1cIj5cbiAgICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiAvPjwvbGFiZWw+PGJyIC8+XG4gICAgICAgICAgPGxhYmVsPkFnZTogIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ1c2VyLmFnZVwiIC8+PC9sYWJlbD48YnIgLz5cbiAgICAgICAgICBHZW5kZXI6IDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwibWFsZVwiIC8+bWFsZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwidXNlci5nZW5kZXJcIiB2YWx1ZT1cImZlbWFsZVwiIC8+ZmVtYWxlPC9sYWJlbD48YnIgLz5cbiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVzZXQoKVwiPlJFU0VUPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVwZGF0ZSh1c2VyKVwiPlNBVkU8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cbiAgICAgICAgPHByZT5tYXN0ZXIgPSB7e21hc3RlciB8IGpzb259fTwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIC8vIE1vZHVsZTogY29weUV4YW1wbGVcbiAgICAgIGFuZ3VsYXIuXG4gICAgICAgIG1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSkuXG4gICAgICAgIGNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUubWFzdGVyID0ge307XG5cbiAgICAgICAgICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50XG4gICAgICAgICAgICAkc2NvcGUudXNlciA9IGFuZ3VsYXIuY29weSgkc2NvcGUubWFzdGVyKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgIC8vIEV4YW1wbGUgd2l0aCAyIGFyZ3VtZW50c1xuICAgICAgICAgICAgYW5ndWxhci5jb3B5KHVzZXIsICRzY29wZS5tYXN0ZXIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUucmVzZXQoKTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBjb3B5KHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgdmFyIHN0YWNrU291cmNlID0gW107XG4gIHZhciBzdGFja0Rlc3QgPSBbXTtcblxuICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICBpZiAoaXNUeXBlZEFycmF5KGRlc3RpbmF0aW9uKSB8fCBpc0FycmF5QnVmZmVyKGRlc3RpbmF0aW9uKSkge1xuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2NwdGEnLCBcIkNhbid0IGNvcHkhIFR5cGVkQXJyYXkgZGVzdGluYXRpb24gY2Fubm90IGJlIG11dGF0ZWQuXCIpO1xuICAgIH1cbiAgICBpZiAoc291cmNlID09PSBkZXN0aW5hdGlvbikge1xuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2NwaScsIFwiQ2FuJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLlwiKTtcbiAgICB9XG5cbiAgICAvLyBFbXB0eSB0aGUgZGVzdGluYXRpb24gb2JqZWN0XG4gICAgaWYgKGlzQXJyYXkoZGVzdGluYXRpb24pKSB7XG4gICAgICBkZXN0aW5hdGlvbi5sZW5ndGggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKGRlc3RpbmF0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkgIT09ICckJGhhc2hLZXknKSB7XG4gICAgICAgICAgZGVsZXRlIGRlc3RpbmF0aW9uW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YWNrU291cmNlLnB1c2goc291cmNlKTtcbiAgICBzdGFja0Rlc3QucHVzaChkZXN0aW5hdGlvbik7XG4gICAgcmV0dXJuIGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNvcHlFbGVtZW50KHNvdXJjZSk7XG5cbiAgZnVuY3Rpb24gY29weVJlY3Vyc2Uoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBoID0gZGVzdGluYXRpb24uJCRoYXNoS2V5O1xuICAgIHZhciBrZXk7XG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc291cmNlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5RWxlbWVudChzb3VyY2VbaV0pKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qoc291cmNlKSkge1xuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XG4gICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGNvcHlFbGVtZW50KHNvdXJjZVtrZXldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlLmhhc093blByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBTbG93IHBhdGgsIHdoaWNoIG11c3QgcmVseSBvbiBoYXNPd25Qcm9wZXJ0eVxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2xvd2VzdCBwYXRoIC0tLSBoYXNPd25Qcm9wZXJ0eSBjYW4ndCBiZSBjYWxsZWQgYXMgYSBtZXRob2RcbiAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHNldEhhc2hLZXkoZGVzdGluYXRpb24sIGgpO1xuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlFbGVtZW50KHNvdXJjZSkge1xuICAgIC8vIFNpbXBsZSB2YWx1ZXNcbiAgICBpZiAoIWlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuXG4gICAgLy8gQWxyZWFkeSBjb3BpZWQgdmFsdWVzXG4gICAgdmFyIGluZGV4ID0gc3RhY2tTb3VyY2UuaW5kZXhPZihzb3VyY2UpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzdGFja0Rlc3RbaW5kZXhdO1xuICAgIH1cblxuICAgIGlmIChpc1dpbmRvdyhzb3VyY2UpIHx8IGlzU2NvcGUoc291cmNlKSkge1xuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLFxuICAgICAgICBcIkNhbid0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgbmVlZHNSZWN1cnNlID0gZmFsc2U7XG4gICAgdmFyIGRlc3RpbmF0aW9uID0gY29weVR5cGUoc291cmNlKTtcblxuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZXN0aW5hdGlvbiA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDogT2JqZWN0LmNyZWF0ZShnZXRQcm90b3R5cGVPZihzb3VyY2UpKTtcbiAgICAgIG5lZWRzUmVjdXJzZSA9IHRydWU7XG4gICAgfVxuXG4gICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xuICAgIHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKTtcblxuICAgIHJldHVybiBuZWVkc1JlY3Vyc2VcbiAgICAgID8gY29weVJlY3Vyc2Uoc291cmNlLCBkZXN0aW5hdGlvbilcbiAgICAgIDogZGVzdGluYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5VHlwZShzb3VyY2UpIHtcbiAgICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwoc291cmNlKSkge1xuICAgICAgY2FzZSAnW29iamVjdCBJbnQ4QXJyYXldJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgSW50MTZBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBJbnQzMkFycmF5XSc6XG4gICAgICBjYXNlICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBGbG9hdDY0QXJyYXldJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MTZBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MzJBcnJheV0nOlxuICAgICAgICByZXR1cm4gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihjb3B5RWxlbWVudChzb3VyY2UuYnVmZmVyKSwgc291cmNlLmJ5dGVPZmZzZXQsIHNvdXJjZS5sZW5ndGgpO1xuXG4gICAgICBjYXNlICdbb2JqZWN0IEFycmF5QnVmZmVyXSc6XG4gICAgICAgIC8vU3VwcG9ydDogSUUxMFxuICAgICAgICBpZiAoIXNvdXJjZS5zbGljZSkge1xuICAgICAgICAgIHZhciBjb3BpZWQgPSBuZXcgQXJyYXlCdWZmZXIoc291cmNlLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgIG5ldyBVaW50OEFycmF5KGNvcGllZCkuc2V0KG5ldyBVaW50OEFycmF5KHNvdXJjZSkpO1xuICAgICAgICAgIHJldHVybiBjb3BpZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgwKTtcblxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgICByZXR1cm4gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihzb3VyY2UudmFsdWVPZigpKTtcblxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLCBzb3VyY2UudG9TdHJpbmcoKS5tYXRjaCgvW15cXC9dKiQvKVswXSk7XG4gICAgICAgIHJlLmxhc3RJbmRleCA9IHNvdXJjZS5sYXN0SW5kZXg7XG4gICAgICAgIHJldHVybiByZTtcblxuICAgICAgY2FzZSAnW29iamVjdCBCbG9iXSc6XG4gICAgICAgIHJldHVybiBuZXcgc291cmNlLmNvbnN0cnVjdG9yKFtzb3VyY2VdLCB7dHlwZTogc291cmNlLnR5cGV9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNGdW5jdGlvbihzb3VyY2UuY2xvbmVOb2RlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZXF1YWxzXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBvciB0d28gdmFsdWVzIGFyZSBlcXVpdmFsZW50LiBTdXBwb3J0cyB2YWx1ZSB0eXBlcywgcmVndWxhclxuICogZXhwcmVzc2lvbnMsIGFycmF5cyBhbmQgb2JqZWN0cy5cbiAqXG4gKiBUd28gb2JqZWN0cyBvciB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICpcbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBwYXNzIGA9PT1gIGNvbXBhcmlzb24uXG4gKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kIGFsbCBvZiB0aGVpciBwcm9wZXJ0aWVzIGFyZSBlcXVhbCBieVxuICogICBjb21wYXJpbmcgdGhlbSB3aXRoIGBhbmd1bGFyLmVxdWFsc2AuXG4gKiAqIEJvdGggdmFsdWVzIGFyZSBOYU4uIChJbiBKYXZhU2NyaXB0LCBOYU4gPT0gTmFOID0+IGZhbHNlLiBCdXQgd2UgY29uc2lkZXIgdHdvIE5hTiBhcyBlcXVhbClcbiAqICogQm90aCB2YWx1ZXMgcmVwcmVzZW50IHRoZSBzYW1lIHJlZ3VsYXIgZXhwcmVzc2lvbiAoSW4gSmF2YVNjcmlwdCxcbiAqICAgL2FiYy8gPT0gL2FiYy8gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gcmVndWxhciBleHByZXNzaW9ucyBhcyBlcXVhbCB3aGVuIHRoZWlyIHRleHR1YWxcbiAqICAgcmVwcmVzZW50YXRpb24gbWF0Y2hlcykuXG4gKlxuICogRHVyaW5nIGEgcHJvcGVydHkgY29tcGFyaXNvbiwgcHJvcGVydGllcyBvZiBgZnVuY3Rpb25gIHR5cGUgYW5kIHByb3BlcnRpZXMgd2l0aCBuYW1lc1xuICogdGhhdCBiZWdpbiB3aXRoIGAkYCBhcmUgaWdub3JlZC5cbiAqXG4gKiBTY29wZSBhbmQgRE9NV2luZG93IG9iamVjdHMgYXJlIGJlaW5nIGNvbXBhcmVkIG9ubHkgYnkgaWRlbnRpZnkgKGA9PT1gKS5cbiAqXG4gKiBAcGFyYW0geyp9IG8xIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvMiBPYmplY3Qgb3IgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGFyZ3VtZW50cyBhcmUgZXF1YWwuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImVxdWFsc0V4YW1wbGVcIiBuYW1lPVwiZXF1YWxzRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbm92YWxpZGF0ZT5cbiAgICAgICAgICA8aDM+VXNlciAxPC9oMz5cbiAgICAgICAgICBOYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIxLm5hbWVcIj5cbiAgICAgICAgICBBZ2U6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ1c2VyMS5hZ2VcIj5cblxuICAgICAgICAgIDxoMz5Vc2VyIDI8L2gzPlxuICAgICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlcjIubmFtZVwiPlxuICAgICAgICAgIEFnZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cInVzZXIyLmFnZVwiPlxuXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiQ29tcGFyZVwiIG5nLWNsaWNrPVwiY29tcGFyZSgpXCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgVXNlciAxOiA8cHJlPnt7dXNlcjEgfCBqc29ufX08L3ByZT5cbiAgICAgICAgICBVc2VyIDI6IDxwcmU+e3t1c2VyMiB8IGpzb259fTwvcHJlPlxuICAgICAgICAgIEVxdWFsOiA8cHJlPnt7cmVzdWx0fX08L3ByZT5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2VxdWFsc0V4YW1wbGUnLCBbXSkuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS51c2VyMSA9IHt9O1xuICAgICAgICAgICRzY29wZS51c2VyMiA9IHt9O1xuICAgICAgICAgICRzY29wZS5yZXN1bHQ7XG4gICAgICAgICAgJHNjb3BlLmNvbXBhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSBhbmd1bGFyLmVxdWFscygkc2NvcGUudXNlcjEsICRzY29wZS51c2VyMik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBlcXVhbHMobzEsIG8yKSB7XG4gIGlmIChvMSA9PT0gbzIpIHJldHVybiB0cnVlO1xuICBpZiAobzEgPT09IG51bGwgfHwgbzIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgaWYgKG8xICE9PSBvMSAmJiBvMiAhPT0gbzIpIHJldHVybiB0cnVlOyAvLyBOYU4gPT09IE5hTlxuICB2YXIgdDEgPSB0eXBlb2YgbzEsIHQyID0gdHlwZW9mIG8yLCBsZW5ndGgsIGtleSwga2V5U2V0O1xuICBpZiAodDEgPT0gdDIgJiYgdDEgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNBcnJheShvMSkpIHtcbiAgICAgIGlmICghaXNBcnJheShvMikpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICgobGVuZ3RoID0gbzEubGVuZ3RoKSA9PSBvMi5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShvMSkpIHtcbiAgICAgIGlmICghaXNEYXRlKG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIGVxdWFscyhvMS5nZXRUaW1lKCksIG8yLmdldFRpbWUoKSk7XG4gICAgfSBlbHNlIGlmIChpc1JlZ0V4cChvMSkpIHtcbiAgICAgIGlmICghaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gbzEudG9TdHJpbmcoKSA9PSBvMi50b1N0cmluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNTY29wZShvMSkgfHwgaXNTY29wZShvMikgfHwgaXNXaW5kb3cobzEpIHx8IGlzV2luZG93KG8yKSB8fFxuICAgICAgICBpc0FycmF5KG8yKSB8fCBpc0RhdGUobzIpIHx8IGlzUmVnRXhwKG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAga2V5U2V0ID0gY3JlYXRlTWFwKCk7XG4gICAgICBmb3IgKGtleSBpbiBvMSkge1xuICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnIHx8IGlzRnVuY3Rpb24obzFba2V5XSkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBrZXlTZXRba2V5XSA9IHRydWU7XG4gICAgICB9XG4gICAgICBmb3IgKGtleSBpbiBvMikge1xuICAgICAgICBpZiAoIShrZXkgaW4ga2V5U2V0KSAmJlxuICAgICAgICAgICAga2V5LmNoYXJBdCgwKSAhPT0gJyQnICYmXG4gICAgICAgICAgICBpc0RlZmluZWQobzJba2V5XSkgJiZcbiAgICAgICAgICAgICFpc0Z1bmN0aW9uKG8yW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgY3NwID0gZnVuY3Rpb24oKSB7XG4gIGlmICghaXNEZWZpbmVkKGNzcC5ydWxlcykpIHtcblxuXG4gICAgdmFyIG5nQ3NwRWxlbWVudCA9ICh3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25nLWNzcF0nKSB8fFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbmctY3NwXScpKTtcblxuICAgIGlmIChuZ0NzcEVsZW1lbnQpIHtcbiAgICAgIHZhciBuZ0NzcEF0dHJpYnV0ZSA9IG5nQ3NwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25nLWNzcCcpIHx8XG4gICAgICAgICAgICAgICAgICAgIG5nQ3NwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmctY3NwJyk7XG4gICAgICBjc3AucnVsZXMgPSB7XG4gICAgICAgIG5vVW5zYWZlRXZhbDogIW5nQ3NwQXR0cmlidXRlIHx8IChuZ0NzcEF0dHJpYnV0ZS5pbmRleE9mKCduby11bnNhZmUtZXZhbCcpICE9PSAtMSksXG4gICAgICAgIG5vSW5saW5lU3R5bGU6ICFuZ0NzcEF0dHJpYnV0ZSB8fCAobmdDc3BBdHRyaWJ1dGUuaW5kZXhPZignbm8taW5saW5lLXN0eWxlJykgIT09IC0xKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3NwLnJ1bGVzID0ge1xuICAgICAgICBub1Vuc2FmZUV2YWw6IG5vVW5zYWZlRXZhbCgpLFxuICAgICAgICBub0lubGluZVN0eWxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY3NwLnJ1bGVzO1xuXG4gIGZ1bmN0aW9uIG5vVW5zYWZlRXZhbCgpIHtcbiAgICB0cnkge1xuICAgICAgLyoganNoaW50IC1XMDMxLCAtVzA1NCAqL1xuICAgICAgbmV3IEZ1bmN0aW9uKCcnKTtcbiAgICAgIC8qIGpzaGludCArVzAzMSwgK1cwNTQgKi9cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBuZ1xuICogQG5hbWUgbmdKcVxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0pxIHRoZSBuYW1lIG9mIHRoZSBsaWJyYXJ5IGF2YWlsYWJsZSB1bmRlciBgd2luZG93YFxuICogdG8gYmUgdXNlZCBmb3IgYW5ndWxhci5lbGVtZW50XG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGlzIGRpcmVjdGl2ZSB0byBmb3JjZSB0aGUgYW5ndWxhci5lbGVtZW50IGxpYnJhcnkuICBUaGlzIHNob3VsZCBiZVxuICogdXNlZCB0byBmb3JjZSBlaXRoZXIganFMaXRlIGJ5IGxlYXZpbmcgbmctanEgYmxhbmsgb3Igc2V0dGluZyB0aGUgbmFtZSBvZlxuICogdGhlIGpxdWVyeSB2YXJpYWJsZSB1bmRlciB3aW5kb3cgKGVnLiBqUXVlcnkpLlxuICpcbiAqIFNpbmNlIGFuZ3VsYXIgbG9va3MgZm9yIHRoaXMgZGlyZWN0aXZlIHdoZW4gaXQgaXMgbG9hZGVkIChkb2Vzbid0IHdhaXQgZm9yIHRoZVxuICogRE9NQ29udGVudExvYWRlZCBldmVudCksIGl0IG11c3QgYmUgcGxhY2VkIG9uIGFuIGVsZW1lbnQgdGhhdCBjb21lcyBiZWZvcmUgdGhlIHNjcmlwdFxuICogd2hpY2ggbG9hZHMgYW5ndWxhci4gQWxzbywgb25seSB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYG5nLWpxYCB3aWxsIGJlIHVzZWQgYW5kIGFsbFxuICogb3RoZXJzIGlnbm9yZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gZm9yY2UganFMaXRlIHVzaW5nIHRoZSBgbmdKcWAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxuIGBgYGh0bWxcbiA8IWRvY3R5cGUgaHRtbD5cbiA8aHRtbCBuZy1hcHAgbmctanE+XG4gLi4uXG4gLi4uXG4gPC9odG1sPlxuIGBgYFxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGEgalF1ZXJ5IGJhc2VkIGxpYnJhcnkgb2YgYSBkaWZmZXJlbnQgbmFtZS5cbiAqIFRoZSBsaWJyYXJ5IG5hbWUgbXVzdCBiZSBhdmFpbGFibGUgYXQgdGhlIHRvcCBtb3N0ICd3aW5kb3cnLlxuIGBgYGh0bWxcbiA8IWRvY3R5cGUgaHRtbD5cbiA8aHRtbCBuZy1hcHAgbmctanE9XCJqUXVlcnlMaWJcIj5cbiAuLi5cbiAuLi5cbiA8L2h0bWw+XG4gYGBgXG4gKi9cbnZhciBqcSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoaXNEZWZpbmVkKGpxLm5hbWVfKSkgcmV0dXJuIGpxLm5hbWVfO1xuICB2YXIgZWw7XG4gIHZhciBpLCBpaSA9IG5nQXR0clByZWZpeGVzLmxlbmd0aCwgcHJlZml4LCBuYW1lO1xuICBmb3IgKGkgPSAwOyBpIDwgaWk7ICsraSkge1xuICAgIHByZWZpeCA9IG5nQXR0clByZWZpeGVzW2ldO1xuICAgIGlmIChlbCA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbJyArIHByZWZpeC5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnanFdJykpIHtcbiAgICAgIG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUocHJlZml4ICsgJ2pxJyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGpxLm5hbWVfID0gbmFtZSk7XG59O1xuXG5mdW5jdGlvbiBjb25jYXQoYXJyYXkxLCBhcnJheTIsIGluZGV4KSB7XG4gIHJldHVybiBhcnJheTEuY29uY2F0KHNsaWNlLmNhbGwoYXJyYXkyLCBpbmRleCkpO1xufVxuXG5mdW5jdGlvbiBzbGljZUFyZ3MoYXJncywgc3RhcnRJbmRleCkge1xuICByZXR1cm4gc2xpY2UuY2FsbChhcmdzLCBzdGFydEluZGV4IHx8IDApO1xufVxuXG5cbi8qIGpzaGludCAtVzEwMSAqL1xuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuYmluZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYWxscyBmdW5jdGlvbiBgZm5gIGJvdW5kIHRvIGBzZWxmYCAoYHNlbGZgIGJlY29tZXMgdGhlIGB0aGlzYCBmb3JcbiAqIGBmbmApLiBZb3UgY2FuIHN1cHBseSBvcHRpb25hbCBgYXJnc2AgdGhhdCBhcmUgcHJlYm91bmQgdG8gdGhlIGZ1bmN0aW9uLiBUaGlzIGZlYXR1cmUgaXMgYWxzb1xuICoga25vd24gYXMgW3BhcnRpYWwgYXBwbGljYXRpb25dKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFydGlhbF9hcHBsaWNhdGlvbiksIGFzXG4gKiBkaXN0aW5ndWlzaGVkIGZyb20gW2Z1bmN0aW9uIGN1cnJ5aW5nXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0N1cnJ5aW5nI0NvbnRyYXN0X3dpdGhfcGFydGlhbF9mdW5jdGlvbl9hcHBsaWNhdGlvbikuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNlbGYgQ29udGV4dCB3aGljaCBgZm5gIHNob3VsZCBiZSBldmFsdWF0ZWQgaW4uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEZ1bmN0aW9uIHRvIGJlIGJvdW5kLlxuICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwcmVib3VuZCB0byB0aGUgYGZuYCBmdW5jdGlvbiBjYWxsLlxuICogQHJldHVybnMge2Z1bmN0aW9uKCl9IEZ1bmN0aW9uIHRoYXQgd3JhcHMgdGhlIGBmbmAgd2l0aCBhbGwgdGhlIHNwZWNpZmllZCBiaW5kaW5ncy5cbiAqL1xuLyoganNoaW50ICtXMTAxICovXG5mdW5jdGlvbiBiaW5kKHNlbGYsIGZuKSB7XG4gIHZhciBjdXJyeUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDIpIDogW107XG4gIGlmIChpc0Z1bmN0aW9uKGZuKSAmJiAhKGZuIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgIHJldHVybiBjdXJyeUFyZ3MubGVuZ3RoXG4gICAgICA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGNvbmNhdChjdXJyeUFyZ3MsIGFyZ3VtZW50cywgMCkpXG4gICAgICAgICAgICA6IGZuLmFwcGx5KHNlbGYsIGN1cnJ5QXJncyk7XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICAgICAgID8gZm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKVxuICAgICAgICAgICAgOiBmbi5jYWxsKHNlbGYpO1xuICAgICAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIEluIElFLCBuYXRpdmUgbWV0aG9kcyBhcmUgbm90IGZ1bmN0aW9ucyBzbyB0aGV5IGNhbm5vdCBiZSBib3VuZCAobm90ZTogdGhleSBkb24ndCBuZWVkIHRvIGJlKS5cbiAgICByZXR1cm4gZm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIHZhciB2YWwgPSB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xuICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFdJTkRPVyc7XG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIHdpbmRvdy5kb2N1bWVudCA9PT0gdmFsdWUpIHtcbiAgICB2YWwgPSAnJERPQ1VNRU5UJztcbiAgfSBlbHNlIGlmIChpc1Njb3BlKHZhbHVlKSkge1xuICAgIHZhbCA9ICckU0NPUEUnO1xuICB9XG5cbiAgcmV0dXJuIHZhbDtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci50b0pzb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXJpYWxpemVzIGlucHV0IGludG8gYSBKU09OLWZvcm1hdHRlZCBzdHJpbmcuIFByb3BlcnRpZXMgd2l0aCBsZWFkaW5nICQkIGNoYXJhY3RlcnMgd2lsbCBiZVxuICogc3RyaXBwZWQgc2luY2UgYW5ndWxhciB1c2VzIHRoaXMgbm90YXRpb24gaW50ZXJuYWxseS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheXxEYXRlfHN0cmluZ3xudW1iZXJ9IG9iaiBJbnB1dCB0byBiZSBzZXJpYWxpemVkIGludG8gSlNPTi5cbiAqIEBwYXJhbSB7Ym9vbGVhbnxudW1iZXJ9IFtwcmV0dHk9Ml0gSWYgc2V0IHRvIHRydWUsIHRoZSBKU09OIG91dHB1dCB3aWxsIGNvbnRhaW4gbmV3bGluZXMgYW5kIHdoaXRlc3BhY2UuXG4gKiAgICBJZiBzZXQgdG8gYW4gaW50ZWdlciwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiB0aGF0IG1hbnkgc3BhY2VzIHBlciBpbmRlbnRhdGlvbi5cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBKU09OLWlmaWVkIHN0cmluZyByZXByZXNlbnRpbmcgYG9iamAuXG4gKiBAa25vd25Jc3N1ZVxuICpcbiAqIFRoZSBTYWZhcmkgYnJvd3NlciB0aHJvd3MgYSBgUmFuZ2VFcnJvcmAgaW5zdGVhZCBvZiByZXR1cm5pbmcgYG51bGxgIHdoZW4gaXQgdHJpZXMgdG8gc3RyaW5naWZ5IGEgYERhdGVgXG4gKiBvYmplY3Qgd2l0aCBhbiBpbnZhbGlkIGRhdGUgdmFsdWUuIFRoZSBvbmx5IHJlbGlhYmxlIHdheSB0byBwcmV2ZW50IHRoaXMgaXMgdG8gbW9ua2V5cGF0Y2ggdGhlXG4gKiBgRGF0ZS5wcm90b3R5cGUudG9KU09OYCBtZXRob2QgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBcbiAqIHZhciBfRGF0ZXRvSlNPTiA9IERhdGUucHJvdG90eXBlLnRvSlNPTjtcbiAqIERhdGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICogICB0cnkge1xuICogICAgIHJldHVybiBfRGF0ZXRvSlNPTi5jYWxsKHRoaXMpO1xuICogICB9IGNhdGNoKGUpIHtcbiAqICAgICBpZiAoZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpIHtcbiAqICAgICAgIHJldHVybiBudWxsO1xuICogICAgIH1cbiAqICAgICB0aHJvdyBlO1xuICogICB9XG4gKiB9O1xuICogYGBgXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xNDIyMSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9Kc29uKG9iaiwgcHJldHR5KSB7XG4gIGlmIChpc1VuZGVmaW5lZChvYmopKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAoIWlzTnVtYmVyKHByZXR0eSkpIHtcbiAgICBwcmV0dHkgPSBwcmV0dHkgPyAyIDogbnVsbDtcbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCB0b0pzb25SZXBsYWNlciwgcHJldHR5KTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5mcm9tSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERlc2VyaWFsaXplcyBhIEpTT04gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBqc29uIEpTT04gc3RyaW5nIHRvIGRlc2VyaWFsaXplLlxuICogQHJldHVybnMge09iamVjdHxBcnJheXxzdHJpbmd8bnVtYmVyfSBEZXNlcmlhbGl6ZWQgSlNPTiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGZyb21Kc29uKGpzb24pIHtcbiAgcmV0dXJuIGlzU3RyaW5nKGpzb24pXG4gICAgICA/IEpTT04ucGFyc2UoanNvbilcbiAgICAgIDoganNvbjtcbn1cblxuXG52YXIgQUxMX0NPTE9OUyA9IC86L2c7XG5mdW5jdGlvbiB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBmYWxsYmFjaykge1xuICAvLyBJRS9FZGdlIGRvIG5vdCBcInVuZGVyc3RhbmRcIiBjb2xvbiAoYDpgKSBpbiB0aW1lem9uZVxuICB0aW1lem9uZSA9IHRpbWV6b25lLnJlcGxhY2UoQUxMX0NPTE9OUywgJycpO1xuICB2YXIgcmVxdWVzdGVkVGltZXpvbmVPZmZzZXQgPSBEYXRlLnBhcnNlKCdKYW4gMDEsIDE5NzAgMDA6MDA6MDAgJyArIHRpbWV6b25lKSAvIDYwMDAwO1xuICByZXR1cm4gaXNOYU4ocmVxdWVzdGVkVGltZXpvbmVPZmZzZXQpID8gZmFsbGJhY2sgOiByZXF1ZXN0ZWRUaW1lem9uZU9mZnNldDtcbn1cblxuXG5mdW5jdGlvbiBhZGREYXRlTWludXRlcyhkYXRlLCBtaW51dGVzKSB7XG4gIGRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gIGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xuICByZXR1cm4gZGF0ZTtcbn1cblxuXG5mdW5jdGlvbiBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCByZXZlcnNlKSB7XG4gIHJldmVyc2UgPSByZXZlcnNlID8gLTEgOiAxO1xuICB2YXIgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICB2YXIgdGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlVGltZXpvbmVPZmZzZXQpO1xuICByZXR1cm4gYWRkRGF0ZU1pbnV0ZXMoZGF0ZSwgcmV2ZXJzZSAqICh0aW1lem9uZU9mZnNldCAtIGRhdGVUaW1lem9uZU9mZnNldCkpO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBzdGFydGluZ1RhZyhlbGVtZW50KSB7XG4gIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCkuY2xvbmUoKTtcbiAgdHJ5IHtcbiAgICAvLyB0dXJucyBvdXQgSUUgZG9lcyBub3QgbGV0IHlvdSBzZXQgLmh0bWwoKSBvbiBlbGVtZW50cyB3aGljaFxuICAgIC8vIGFyZSBub3QgYWxsb3dlZCB0byBoYXZlIGNoaWxkcmVuLiBTbyB3ZSBqdXN0IGlnbm9yZSBpdC5cbiAgICBlbGVtZW50LmVtcHR5KCk7XG4gIH0gY2F0Y2ggKGUpIHt9XG4gIHZhciBlbGVtSHRtbCA9IGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoZWxlbWVudCkuaHRtbCgpO1xuICB0cnkge1xuICAgIHJldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCA/IGxvd2VyY2FzZShlbGVtSHRtbCkgOlxuICAgICAgICBlbGVtSHRtbC5cbiAgICAgICAgICBtYXRjaCgvXig8W14+XSs+KS8pWzFdLlxuICAgICAgICAgIHJlcGxhY2UoL148KFtcXHdcXC1dKykvLCBmdW5jdGlvbihtYXRjaCwgbm9kZU5hbWUpIHtyZXR1cm4gJzwnICsgbG93ZXJjYXNlKG5vZGVOYW1lKTt9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBsb3dlcmNhc2UoZWxlbUh0bWwpO1xuICB9XG5cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogVHJpZXMgdG8gZGVjb2RlIHRoZSBVUkkgY29tcG9uZW50IHdpdGhvdXQgdGhyb3dpbmcgYW4gZXhjZXB0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gc3RyIHZhbHVlIHBvdGVudGlhbCBVUkkgY29tcG9uZW50IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBjYW4gYmUgZGVjb2RlZFxuICogd2l0aCB0aGUgZGVjb2RlVVJJQ29tcG9uZW50IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElnbm9yZSBhbnkgaW52YWxpZCB1cmkgY29tcG9uZW50LlxuICB9XG59XG5cblxuLyoqXG4gKiBQYXJzZXMgYW4gZXNjYXBlZCB1cmwgcXVlcnkgc3RyaW5nIGludG8ga2V5LXZhbHVlIHBhaXJzLlxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLGJvb2xlYW58QXJyYXk+fVxuICovXG5mdW5jdGlvbiBwYXJzZUtleVZhbHVlKC8qKnN0cmluZyova2V5VmFsdWUpIHtcbiAgdmFyIG9iaiA9IHt9O1xuICBmb3JFYWNoKChrZXlWYWx1ZSB8fCBcIlwiKS5zcGxpdCgnJicpLCBmdW5jdGlvbihrZXlWYWx1ZSkge1xuICAgIHZhciBzcGxpdFBvaW50LCBrZXksIHZhbDtcbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIGtleSA9IGtleVZhbHVlID0ga2V5VmFsdWUucmVwbGFjZSgvXFwrL2csJyUyMCcpO1xuICAgICAgc3BsaXRQb2ludCA9IGtleVZhbHVlLmluZGV4T2YoJz0nKTtcbiAgICAgIGlmIChzcGxpdFBvaW50ICE9PSAtMSkge1xuICAgICAgICBrZXkgPSBrZXlWYWx1ZS5zdWJzdHJpbmcoMCwgc3BsaXRQb2ludCk7XG4gICAgICAgIHZhbCA9IGtleVZhbHVlLnN1YnN0cmluZyhzcGxpdFBvaW50ICsgMSk7XG4gICAgICB9XG4gICAgICBrZXkgPSB0cnlEZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICAgIGlmIChpc0RlZmluZWQoa2V5KSkge1xuICAgICAgICB2YWwgPSBpc0RlZmluZWQodmFsKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9ialtrZXldID0gW29ialtrZXldLHZhbF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiB0b0tleVZhbHVlKG9iaikge1xuICB2YXIgcGFydHMgPSBbXTtcbiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGFycmF5VmFsdWUpIHtcbiAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICAgICAoYXJyYXlWYWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkoYXJyYXlWYWx1ZSwgdHJ1ZSkpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkodmFsdWUsIHRydWUpKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA/IHBhcnRzLmpvaW4oJyYnKSA6ICcnO1xufVxuXG5cbi8qKlxuICogV2UgbmVlZCBvdXIgY3VzdG9tIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZG9lc24ndCBmb2xsb3dcbiAqIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0IHdpdGggcmVnYXJkcyB0byB0aGUgY2hhcmFjdGVyIHNldCAocGNoYXIpIGFsbG93ZWQgaW4gcGF0aFxuICogc2VnbWVudHM6XG4gKiAgICBzZWdtZW50ICAgICAgID0gKnBjaGFyXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICovXG5mdW5jdGlvbiBlbmNvZGVVcmlTZWdtZW50KHZhbCkge1xuICByZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCB0cnVlKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjYvZ2ksICcmJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNEL2dpLCAnPScpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQi9naSwgJysnKTtcbn1cblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBlbmNvZGluZyAqa2V5KiBvciAqdmFsdWUqIHBhcnRzIG9mIHF1ZXJ5IGNvbXBvbmVudC4gV2UgbmVlZCBhIGN1c3RvbVxuICogbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBlbmNvZGVzIHN0dWZmIHRoYXQgZG9lc24ndCBoYXZlIHRvIGJlXG4gKiBlbmNvZGVkIHBlciBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2OlxuICogICAgcXVlcnkgICAgICAgPSAqKCBwY2hhciAvIFwiL1wiIC8gXCI/XCIgKVxuICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiAgICBwY3QtZW5jb2RlZCAgID0gXCIlXCIgSEVYRElHIEhFWERJR1xuICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxuICogICAgICAgICAgICAgICAgICAgICAvIFwiKlwiIC8gXCIrXCIgLyBcIixcIiAvIFwiO1wiIC8gXCI9XCJcbiAqL1xuZnVuY3Rpb24gZW5jb2RlVXJpUXVlcnkodmFsLCBwY3RFbmNvZGVTcGFjZXMpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQi9naSwgJzsnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjAvZywgKHBjdEVuY29kZVNwYWNlcyA/ICclMjAnIDogJysnKSk7XG59XG5cbnZhciBuZ0F0dHJQcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nOicsICd4LW5nLSddO1xuXG5mdW5jdGlvbiBnZXROZ0F0dHJpYnV0ZShlbGVtZW50LCBuZ0F0dHIpIHtcbiAgdmFyIGF0dHIsIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgaWk7ICsraSkge1xuICAgIGF0dHIgPSBuZ0F0dHJQcmVmaXhlc1tpXSArIG5nQXR0cjtcbiAgICBpZiAoaXNTdHJpbmcoYXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHIpKSkge1xuICAgICAgcmV0dXJuIGF0dHI7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQXBwXG4gKiBAbW9kdWxlIG5nXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2FuZ3VsYXIuTW9kdWxlfSBuZ0FwcCBhbiBvcHRpb25hbCBhcHBsaWNhdGlvblxuICogICB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlfSBuYW1lIHRvIGxvYWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZ1N0cmljdERpIGlmIHRoaXMgYXR0cmlidXRlIGlzIHByZXNlbnQgb24gdGhlIGFwcCBlbGVtZW50LCB0aGUgaW5qZWN0b3Igd2lsbCBiZVxuICogICBjcmVhdGVkIGluIFwic3RyaWN0LWRpXCIgbW9kZS4gVGhpcyBtZWFucyB0aGF0IHRoZSBhcHBsaWNhdGlvbiB3aWxsIGZhaWwgdG8gaW52b2tlIGZ1bmN0aW9ucyB3aGljaFxuICogICBkbyBub3QgdXNlIGV4cGxpY2l0IGZ1bmN0aW9uIGFubm90YXRpb24gKGFuZCBhcmUgdGh1cyB1bnN1aXRhYmxlIGZvciBtaW5pZmljYXRpb24pLCBhcyBkZXNjcmliZWRcbiAqICAgaW4ge0BsaW5rIGd1aWRlL2RpIHRoZSBEZXBlbmRlbmN5IEluamVjdGlvbiBndWlkZX0sIGFuZCB1c2VmdWwgZGVidWdnaW5nIGluZm8gd2lsbCBhc3Npc3QgaW5cbiAqICAgdHJhY2tpbmcgZG93biB0aGUgcm9vdCBvZiB0aGVzZSBidWdzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFVzZSB0aGlzIGRpcmVjdGl2ZSB0byAqKmF1dG8tYm9vdHN0cmFwKiogYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uLiBUaGUgYG5nQXBwYCBkaXJlY3RpdmVcbiAqIGRlc2lnbmF0ZXMgdGhlICoqcm9vdCBlbGVtZW50Kiogb2YgdGhlIGFwcGxpY2F0aW9uIGFuZCBpcyB0eXBpY2FsbHkgcGxhY2VkIG5lYXIgdGhlIHJvb3QgZWxlbWVudFxuICogb2YgdGhlIHBhZ2UgLSBlLmcuIG9uIHRoZSBgPGJvZHk+YCBvciBgPGh0bWw+YCB0YWdzLlxuICpcbiAqIFRoZXJlIGFyZSBhIGZldyB0aGluZ3MgdG8ga2VlcCBpbiBtaW5kIHdoZW4gdXNpbmcgYG5nQXBwYDpcbiAqIC0gb25seSBvbmUgQW5ndWxhckpTIGFwcGxpY2F0aW9uIGNhbiBiZSBhdXRvLWJvb3RzdHJhcHBlZCBwZXIgSFRNTCBkb2N1bWVudC4gVGhlIGZpcnN0IGBuZ0FwcGBcbiAqICAgZm91bmQgaW4gdGhlIGRvY3VtZW50IHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHJvb3QgZWxlbWVudCB0byBhdXRvLWJvb3RzdHJhcCBhcyBhblxuICogICBhcHBsaWNhdGlvbi4gVG8gcnVuIG11bHRpcGxlIGFwcGxpY2F0aW9ucyBpbiBhbiBIVE1MIGRvY3VtZW50IHlvdSBtdXN0IG1hbnVhbGx5IGJvb3RzdHJhcCB0aGVtIHVzaW5nXG4gKiAgIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gaW5zdGVhZC5cbiAqIC0gQW5ndWxhckpTIGFwcGxpY2F0aW9ucyBjYW5ub3QgYmUgbmVzdGVkIHdpdGhpbiBlYWNoIG90aGVyLlxuICogLSBEbyBub3QgdXNlIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB7QGxpbmsgbmcuJGNvbXBpbGUjdHJhbnNjbHVzaW9uIHRyYW5zY2x1c2lvbn0gb24gdGhlIHNhbWUgZWxlbWVudCBhcyBgbmdBcHBgLlxuICogICBUaGlzIGluY2x1ZGVzIGRpcmVjdGl2ZXMgc3VjaCBhcyB7QGxpbmsgbmcubmdJZiBgbmdJZmB9LCB7QGxpbmsgbmcubmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSBhbmRcbiAqICAge0BsaW5rIG5nUm91dGUubmdWaWV3IGBuZ1ZpZXdgfS5cbiAqICAgRG9pbmcgdGhpcyBtaXNwbGFjZXMgdGhlIGFwcCB7QGxpbmsgbmcuJHJvb3RFbGVtZW50IGAkcm9vdEVsZW1lbnRgfSBhbmQgdGhlIGFwcCdzIHtAbGluayBhdXRvLiRpbmplY3RvciBpbmplY3Rvcn0sXG4gKiAgIGNhdXNpbmcgYW5pbWF0aW9ucyB0byBzdG9wIHdvcmtpbmcgYW5kIG1ha2luZyB0aGUgaW5qZWN0b3IgaW5hY2Nlc3NpYmxlIGZyb20gb3V0c2lkZSB0aGUgYXBwLlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSBhbiAqKkFuZ3VsYXJKUyBtb2R1bGUqKiB0byBiZSB1c2VkIGFzIHRoZSByb290IG1vZHVsZSBmb3IgdGhlIGFwcGxpY2F0aW9uLiAgVGhpc1xuICogbW9kdWxlIHdpbGwgYmUgbG9hZGVkIGludG8gdGhlIHtAbGluayBhdXRvLiRpbmplY3Rvcn0gd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkLiBJdFxuICogc2hvdWxkIGNvbnRhaW4gdGhlIGFwcGxpY2F0aW9uIGNvZGUgbmVlZGVkIG9yIGhhdmUgZGVwZW5kZW5jaWVzIG9uIG90aGVyIG1vZHVsZXMgdGhhdCB3aWxsXG4gKiBjb250YWluIHRoZSBjb2RlLiBTZWUge0BsaW5rIGFuZ3VsYXIubW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiB0aGUgZXhhbXBsZSBiZWxvdyBpZiB0aGUgYG5nQXBwYCBkaXJlY3RpdmUgd2VyZSBub3QgcGxhY2VkIG9uIHRoZSBgaHRtbGAgZWxlbWVudCB0aGVuIHRoZVxuICogZG9jdW1lbnQgd291bGQgbm90IGJlIGNvbXBpbGVkLCB0aGUgYEFwcENvbnRyb2xsZXJgIHdvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgYW5kIHRoZSBge3sgYStiIH19YFxuICogd291bGQgbm90IGJlIHJlc29sdmVkIHRvIGAzYC5cbiAqXG4gKiBgbmdBcHBgIGlzIHRoZSBlYXNpZXN0LCBhbmQgbW9zdCBjb21tb24gd2F5IHRvIGJvb3RzdHJhcCBhbiBhcHBsaWNhdGlvbi5cbiAqXG4gPGV4YW1wbGUgbW9kdWxlPVwibmdBcHBEZW1vXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPGRpdiBuZy1jb250cm9sbGVyPVwibmdBcHBEZW1vQ29udHJvbGxlclwiPlxuICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG4gICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcERlbW8nLCBbXSkuY29udHJvbGxlcignbmdBcHBEZW1vQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAkc2NvcGUuYSA9IDE7XG4gICAgICRzY29wZS5iID0gMjtcbiAgIH0pO1xuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cbiAqXG4gKiBVc2luZyBgbmdTdHJpY3REaWAsIHlvdSB3b3VsZCBzZWUgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqXG4gPGV4YW1wbGUgbmctYXBwLWluY2x1ZGVkPVwidHJ1ZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxkaXYgbmctYXBwPVwibmdBcHBTdHJpY3REZW1vXCIgbmctc3RyaWN0LWRpPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdvb2RDb250cm9sbGVyMVwiPlxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG5cbiAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZSAoc2VlXG4gICAgICAgICAgICAgIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIyXCI+XG4gICAgICAgICAgIE5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj48YnIgLz5cbiAgICAgICAgICAgSGVsbG8sIHt7bmFtZX19IVxuXG4gICAgICAgICAgIDxwPlRoaXMgcmVuZGVycyBiZWNhdXNlIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGZhaWwgdG9cbiAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGVcbiAgICAgICAgICAgICAgKHNlZSBzY3JpcHQuanMgZm9yIGRldGFpbHMpXG4gICAgICAgICAgIDwvcD5cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkJhZENvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxuXG4gICAgICAgICAgIDxwPlRoZSBjb250cm9sbGVyIGNvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQsIGR1ZSB0byByZWx5aW5nXG4gICAgICAgICAgICAgIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9ucyAod2hpY2ggYXJlIGRpc2FibGVkIGluXG4gICAgICAgICAgICAgIHN0cmljdCBtb2RlKS4gQXMgc3VjaCwgdGhlIGNvbnRlbnQgb2YgdGhpcyBzZWN0aW9uIGlzIG5vdFxuICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQsIGFuZCB0aGVyZSBzaG91bGQgYmUgYW4gZXJyb3IgaW4geW91ciB3ZWIgY29uc29sZS5cbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBTdHJpY3REZW1vJywgW10pXG4gICAgIC8vIEJhZENvbnRyb2xsZXIgd2lsbCBmYWlsIHRvIGluc3RhbnRpYXRlLCBkdWUgdG8gcmVseWluZyBvbiBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbixcbiAgICAgLy8gcmF0aGVyIHRoYW4gYW4gZXhwbGljaXQgYW5ub3RhdGlvblxuICAgICAuY29udHJvbGxlcignQmFkQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICRzY29wZS5hID0gMTtcbiAgICAgICAkc2NvcGUuYiA9IDI7XG4gICAgIH0pXG4gICAgIC8vIFVubGlrZSBCYWRDb250cm9sbGVyLCBHb29kQ29udHJvbGxlcjEgYW5kIEdvb2RDb250cm9sbGVyMiB3aWxsIG5vdCBmYWlsIHRvIGJlIGluc3RhbnRpYXRlZCxcbiAgICAgLy8gZHVlIHRvIHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb25zIHVzaW5nIHRoZSBhcnJheSBzdHlsZSBhbmQgJGluamVjdCBwcm9wZXJ0eSwgcmVzcGVjdGl2ZWx5LlxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIxJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAkc2NvcGUuYSA9IDE7XG4gICAgICAgJHNjb3BlLmIgPSAyO1xuICAgICB9XSlcbiAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMicsIEdvb2RDb250cm9sbGVyMik7XG4gICAgIGZ1bmN0aW9uIEdvb2RDb250cm9sbGVyMigkc2NvcGUpIHtcbiAgICAgICAkc2NvcGUubmFtZSA9IFwiV29ybGRcIjtcbiAgICAgfVxuICAgICBHb29kQ29udHJvbGxlcjIuJGluamVjdCA9IFsnJHNjb3BlJ107XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICBkaXZbbmctY29udHJvbGxlcl0ge1xuICAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgICAgcGFkZGluZzogLjVlbTtcbiAgIH1cbiAgIGRpdltuZy1jb250cm9sbGVyXj1Hb29kXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZDZlOWM2O1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkZmYwZDg7XG4gICAgICAgY29sb3I6ICMzYzc2M2Q7XG4gICB9XG4gICBkaXZbbmctY29udHJvbGxlcl49QmFkXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZWJjY2QxO1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmRlZGU7XG4gICAgICAgY29sb3I6ICNhOTQ0NDI7XG4gICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgIH1cbiAgIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uIGFuZ3VsYXJJbml0KGVsZW1lbnQsIGJvb3RzdHJhcCkge1xuICB2YXIgYXBwRWxlbWVudCxcbiAgICAgIG1vZHVsZSxcbiAgICAgIGNvbmZpZyA9IHt9O1xuXG4gIC8vIFRoZSBlbGVtZW50IGBlbGVtZW50YCBoYXMgcHJpb3JpdHkgb3ZlciBhbnkgb3RoZXIgZWxlbWVudC5cbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcblxuICAgIGlmICghYXBwRWxlbWVudCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgYXBwRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICBtb2R1bGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBmb3JFYWNoKG5nQXR0clByZWZpeGVzLCBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xuICAgIHZhciBjYW5kaWRhdGU7XG5cbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgKGNhbmRpZGF0ZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBuYW1lLnJlcGxhY2UoJzonLCAnXFxcXDonKSArICddJykpKSB7XG4gICAgICBhcHBFbGVtZW50ID0gY2FuZGlkYXRlO1xuICAgICAgbW9kdWxlID0gY2FuZGlkYXRlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoYXBwRWxlbWVudCkge1xuICAgIGNvbmZpZy5zdHJpY3REaSA9IGdldE5nQXR0cmlidXRlKGFwcEVsZW1lbnQsIFwic3RyaWN0LWRpXCIpICE9PSBudWxsO1xuICAgIGJvb3RzdHJhcChhcHBFbGVtZW50LCBtb2R1bGUgPyBbbW9kdWxlXSA6IFtdLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmJvb3RzdHJhcFxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBtYW51YWxseSBzdGFydCB1cCBhbmd1bGFyIGFwcGxpY2F0aW9uLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIHtAbGluayBndWlkZS9ib290c3RyYXAgQm9vdHN0cmFwIGd1aWRlfS5cbiAqXG4gKiBBbmd1bGFyIHdpbGwgZGV0ZWN0IGlmIGl0IGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBicm93c2VyIG1vcmUgdGhhbiBvbmNlIGFuZCBvbmx5IGFsbG93IHRoZVxuICogZmlyc3QgbG9hZGVkIHNjcmlwdCB0byBiZSBib290c3RyYXBwZWQgYW5kIHdpbGwgcmVwb3J0IGEgd2FybmluZyB0byB0aGUgYnJvd3NlciBjb25zb2xlIGZvclxuICogZWFjaCBvZiB0aGUgc3Vic2VxdWVudCBzY3JpcHRzLiBUaGlzIHByZXZlbnRzIHN0cmFuZ2UgcmVzdWx0cyBpbiBhcHBsaWNhdGlvbnMsIHdoZXJlIG90aGVyd2lzZVxuICogbXVsdGlwbGUgaW5zdGFuY2VzIG9mIEFuZ3VsYXIgdHJ5IHRvIHdvcmsgb24gdGhlIERPTS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFByb3RyYWN0b3IgYmFzZWQgZW5kLXRvLWVuZCB0ZXN0cyBjYW5ub3QgdXNlIHRoaXMgZnVuY3Rpb24gdG8gYm9vdHN0cmFwIG1hbnVhbGx5LlxuICogVGhleSBtdXN0IHVzZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfS5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogRG8gbm90IGJvb3RzdHJhcCB0aGUgYXBwIG9uIGFuIGVsZW1lbnQgd2l0aCBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMge0BsaW5rIG5nLiRjb21waWxlI3RyYW5zY2x1c2lvbiB0cmFuc2NsdXNpb259LFxuICogc3VjaCBhcyB7QGxpbmsgbmcubmdJZiBgbmdJZmB9LCB7QGxpbmsgbmcubmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSBhbmQge0BsaW5rIG5nUm91dGUubmdWaWV3IGBuZ1ZpZXdgfS5cbiAqIERvaW5nIHRoaXMgbWlzcGxhY2VzIHRoZSBhcHAge0BsaW5rIG5nLiRyb290RWxlbWVudCBgJHJvb3RFbGVtZW50YH0gYW5kIHRoZSBhcHAncyB7QGxpbmsgYXV0by4kaW5qZWN0b3IgaW5qZWN0b3J9LFxuICogY2F1c2luZyBhbmltYXRpb25zIHRvIHN0b3Agd29ya2luZyBhbmQgbWFraW5nIHRoZSBpbmplY3RvciBpbmFjY2Vzc2libGUgZnJvbSBvdXRzaWRlIHRoZSBhcHAuXG4gKiA8L2Rpdj5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IWRvY3R5cGUgaHRtbD5cbiAqIDxodG1sPlxuICogPGJvZHk+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJXZWxjb21lQ29udHJvbGxlclwiPlxuICogICB7e2dyZWV0aW5nfX1cbiAqIDwvZGl2PlxuICpcbiAqIDxzY3JpcHQgc3JjPVwiYW5ndWxhci5qc1wiPjwvc2NyaXB0PlxuICogPHNjcmlwdD5cbiAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdkZW1vJywgW10pXG4gKiAgIC5jb250cm9sbGVyKCdXZWxjb21lQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ1dlbGNvbWUhJztcbiAqICAgfSk7XG4gKiAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ2RlbW8nXSk7XG4gKiA8L3NjcmlwdD5cbiAqIDwvYm9keT5cbiAqIDwvaHRtbD5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyB0aGUgcm9vdCBvZiBhbmd1bGFyIGFwcGxpY2F0aW9uLlxuICogQHBhcmFtIHtBcnJheTxTdHJpbmd8RnVuY3Rpb258QXJyYXk+PX0gbW9kdWxlcyBhbiBhcnJheSBvZiBtb2R1bGVzIHRvIGxvYWQgaW50byB0aGUgYXBwbGljYXRpb24uXG4gKiAgICAgRWFjaCBpdGVtIGluIHRoZSBhcnJheSBzaG91bGQgYmUgdGhlIG5hbWUgb2YgYSBwcmVkZWZpbmVkIG1vZHVsZSBvciBhIChESSBhbm5vdGF0ZWQpXG4gKiAgICAgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgYnkgdGhlIGluamVjdG9yIGFzIGEgYGNvbmZpZ2AgYmxvY2suXG4gKiAgICAgU2VlOiB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlc31cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIGFuIG9iamVjdCBmb3IgZGVmaW5pbmcgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgYXBwbGljYXRpb24uIFRoZVxuICogICAgIGZvbGxvd2luZyBrZXlzIGFyZSBzdXBwb3J0ZWQ6XG4gKlxuICogKiBgc3RyaWN0RGlgIC0gZGlzYWJsZSBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGlzIGlzIG1lYW50IHRvXG4gKiAgIGFzc2lzdCBpbiBmaW5kaW5nIGJ1Z3Mgd2hpY2ggYnJlYWsgbWluaWZpZWQgY29kZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiBAcmV0dXJucyB7YXV0by4kaW5qZWN0b3J9IFJldHVybnMgdGhlIG5ld2x5IGNyZWF0ZWQgaW5qZWN0b3IgZm9yIHRoaXMgYXBwLlxuICovXG5mdW5jdGlvbiBib290c3RyYXAoZWxlbWVudCwgbW9kdWxlcywgY29uZmlnKSB7XG4gIGlmICghaXNPYmplY3QoY29uZmlnKSkgY29uZmlnID0ge307XG4gIHZhciBkZWZhdWx0Q29uZmlnID0ge1xuICAgIHN0cmljdERpOiBmYWxzZVxuICB9O1xuICBjb25maWcgPSBleHRlbmQoZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbiAgdmFyIGRvQm9vdHN0cmFwID0gZnVuY3Rpb24oKSB7XG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcblxuICAgIGlmIChlbGVtZW50LmluamVjdG9yKCkpIHtcbiAgICAgIHZhciB0YWcgPSAoZWxlbWVudFswXSA9PT0gd2luZG93LmRvY3VtZW50KSA/ICdkb2N1bWVudCcgOiBzdGFydGluZ1RhZyhlbGVtZW50KTtcbiAgICAgIC8vIEVuY29kZSBhbmdsZSBicmFja2V0cyB0byBwcmV2ZW50IGlucHV0IGZyb20gYmVpbmcgc2FuaXRpemVkIHRvIGVtcHR5IHN0cmluZyAjODY4My5cbiAgICAgIHRocm93IG5nTWluRXJyKFxuICAgICAgICAgICdidHN0cnBkJyxcbiAgICAgICAgICBcIkFwcCBhbHJlYWR5IGJvb3RzdHJhcHBlZCB3aXRoIHRoaXMgZWxlbWVudCAnezB9J1wiLFxuICAgICAgICAgIHRhZy5yZXBsYWNlKC88LywnJmx0OycpLnJlcGxhY2UoLz4vLCcmZ3Q7JykpO1xuICAgIH1cblxuICAgIG1vZHVsZXMgPSBtb2R1bGVzIHx8IFtdO1xuICAgIG1vZHVsZXMudW5zaGlmdChbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAgICAgICRwcm92aWRlLnZhbHVlKCckcm9vdEVsZW1lbnQnLCBlbGVtZW50KTtcbiAgICB9XSk7XG5cbiAgICBpZiAoY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgIC8vIFB1c2hpbmcgc28gdGhhdCB0aGlzIG92ZXJyaWRlcyBgZGVidWdJbmZvRW5hYmxlZGAgc2V0dGluZyBkZWZpbmVkIGluIHVzZXIncyBgbW9kdWxlc2AuXG4gICAgICBtb2R1bGVzLnB1c2goWyckY29tcGlsZVByb3ZpZGVyJywgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQodHJ1ZSk7XG4gICAgICB9XSk7XG4gICAgfVxuXG4gICAgbW9kdWxlcy51bnNoaWZ0KCduZycpO1xuICAgIHZhciBpbmplY3RvciA9IGNyZWF0ZUluamVjdG9yKG1vZHVsZXMsIGNvbmZpZy5zdHJpY3REaSk7XG4gICAgaW5qZWN0b3IuaW52b2tlKFsnJHJvb3RTY29wZScsICckcm9vdEVsZW1lbnQnLCAnJGNvbXBpbGUnLCAnJGluamVjdG9yJyxcbiAgICAgICBmdW5jdGlvbiBib290c3RyYXBBcHBseShzY29wZSwgZWxlbWVudCwgY29tcGlsZSwgaW5qZWN0b3IpIHtcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJGluamVjdG9yJywgaW5qZWN0b3IpO1xuICAgICAgICAgIGNvbXBpbGUoZWxlbWVudCkoc2NvcGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1dXG4gICAgKTtcbiAgICByZXR1cm4gaW5qZWN0b3I7XG4gIH07XG5cbiAgdmFyIE5HX0VOQUJMRV9ERUJVR19JTkZPID0gL15OR19FTkFCTEVfREVCVUdfSU5GTyEvO1xuICB2YXIgTkdfREVGRVJfQk9PVFNUUkFQID0gL15OR19ERUZFUl9CT09UU1RSQVAhLztcblxuICBpZiAod2luZG93ICYmIE5HX0VOQUJMRV9ERUJVR19JTkZPLnRlc3Qod2luZG93Lm5hbWUpKSB7XG4gICAgY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xuICAgIHdpbmRvdy5uYW1lID0gd2luZG93Lm5hbWUucmVwbGFjZShOR19FTkFCTEVfREVCVUdfSU5GTywgJycpO1xuICB9XG5cbiAgaWYgKHdpbmRvdyAmJiAhTkdfREVGRVJfQk9PVFNUUkFQLnRlc3Qod2luZG93Lm5hbWUpKSB7XG4gICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7XG4gIH1cblxuICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfREVGRVJfQk9PVFNUUkFQLCAnJyk7XG4gIGFuZ3VsYXIucmVzdW1lQm9vdHN0cmFwID0gZnVuY3Rpb24oZXh0cmFNb2R1bGVzKSB7XG4gICAgZm9yRWFjaChleHRyYU1vZHVsZXMsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgbW9kdWxlcy5wdXNoKG1vZHVsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7XG4gIH07XG5cbiAgaWYgKGlzRnVuY3Rpb24oYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCkpIHtcbiAgICBhbmd1bGFyLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIucmVsb2FkV2l0aERlYnVnSW5mb1xuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byByZWxvYWQgdGhlIGN1cnJlbnQgYXBwbGljYXRpb24gd2l0aCBkZWJ1ZyBpbmZvcm1hdGlvbiB0dXJuZWQgb24uXG4gKiBUaGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBhIGNhbGwgdG8gYCRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSlgLlxuICpcbiAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkfSBmb3IgbW9yZS5cbiAqL1xuZnVuY3Rpb24gcmVsb2FkV2l0aERlYnVnSW5mbygpIHtcbiAgd2luZG93Lm5hbWUgPSAnTkdfRU5BQkxFX0RFQlVHX0lORk8hJyArIHdpbmRvdy5uYW1lO1xuICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG59XG5cbi8qKlxuICogQG5hbWUgYW5ndWxhci5nZXRUZXN0YWJpbGl0eVxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIHRlc3RhYmlsaXR5IHNlcnZpY2UgZm9yIHRoZSBpbnN0YW5jZSBvZiBBbmd1bGFyIG9uIHRoZSBnaXZlblxuICogZWxlbWVudC5cbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyB0aGUgcm9vdCBvZiBhbmd1bGFyIGFwcGxpY2F0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRUZXN0YWJpbGl0eShyb290RWxlbWVudCkge1xuICB2YXIgaW5qZWN0b3IgPSBhbmd1bGFyLmVsZW1lbnQocm9vdEVsZW1lbnQpLmluamVjdG9yKCk7XG4gIGlmICghaW5qZWN0b3IpIHtcbiAgICB0aHJvdyBuZ01pbkVycigndGVzdCcsXG4gICAgICAnbm8gaW5qZWN0b3IgZm91bmQgZm9yIGVsZW1lbnQgYXJndW1lbnQgdG8gZ2V0VGVzdGFiaWxpdHknKTtcbiAgfVxuICByZXR1cm4gaW5qZWN0b3IuZ2V0KCckJHRlc3RhYmlsaXR5Jyk7XG59XG5cbnZhciBTTkFLRV9DQVNFX1JFR0VYUCA9IC9bQS1aXS9nO1xuZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lLCBzZXBhcmF0b3IpIHtcbiAgc2VwYXJhdG9yID0gc2VwYXJhdG9yIHx8ICdfJztcbiAgcmV0dXJuIG5hbWUucmVwbGFjZShTTkFLRV9DQVNFX1JFR0VYUCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcbiAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICB9KTtcbn1cblxudmFyIGJpbmRKUXVlcnlGaXJlZCA9IGZhbHNlO1xuZnVuY3Rpb24gYmluZEpRdWVyeSgpIHtcbiAgdmFyIG9yaWdpbmFsQ2xlYW5EYXRhO1xuXG4gIGlmIChiaW5kSlF1ZXJ5RmlyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBiaW5kIHRvIGpRdWVyeSBpZiBwcmVzZW50O1xuICB2YXIganFOYW1lID0ganEoKTtcbiAgalF1ZXJ5ID0gaXNVbmRlZmluZWQoanFOYW1lKSA/IHdpbmRvdy5qUXVlcnkgOiAgIC8vIHVzZSBqUXVlcnkgKGlmIHByZXNlbnQpXG4gICAgICAgICAgICFqcU5hbWUgICAgICAgICAgICAgPyB1bmRlZmluZWQgICAgIDogICAvLyB1c2UganFMaXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dbanFOYW1lXTsgICAvLyB1c2UgalF1ZXJ5IHNwZWNpZmllZCBieSBgbmdKcWBcblxuICAvLyBVc2UgalF1ZXJ5IGlmIGl0IGV4aXN0cyB3aXRoIHByb3BlciBmdW5jdGlvbmFsaXR5LCBvdGhlcndpc2UgZGVmYXVsdCB0byB1cy5cbiAgLy8gQW5ndWxhciAxLjIrIHJlcXVpcmVzIGpRdWVyeSAxLjcrIGZvciBvbigpL29mZigpIHN1cHBvcnQuXG4gIC8vIEFuZ3VsYXIgMS4zKyB0ZWNobmljYWxseSByZXF1aXJlcyBhdCBsZWFzdCBqUXVlcnkgMi4xKyBidXQgaXQgbWF5IHdvcmsgd2l0aCBvbGRlclxuICAvLyB2ZXJzaW9ucy4gSXQgd2lsbCBub3Qgd29yayBmb3Igc3VyZSB3aXRoIGpRdWVyeSA8MS43LCB0aG91Z2guXG4gIGlmIChqUXVlcnkgJiYgalF1ZXJ5LmZuLm9uKSB7XG4gICAganFMaXRlID0galF1ZXJ5O1xuICAgIGV4dGVuZChqUXVlcnkuZm4sIHtcbiAgICAgIHNjb3BlOiBKUUxpdGVQcm90b3R5cGUuc2NvcGUsXG4gICAgICBpc29sYXRlU2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5pc29sYXRlU2NvcGUsXG4gICAgICBjb250cm9sbGVyOiBKUUxpdGVQcm90b3R5cGUuY29udHJvbGxlcixcbiAgICAgIGluamVjdG9yOiBKUUxpdGVQcm90b3R5cGUuaW5qZWN0b3IsXG4gICAgICBpbmhlcml0ZWREYXRhOiBKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YVxuICAgIH0pO1xuXG4gICAgLy8gQWxsIG5vZGVzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHZpYSB2YXJpb3VzIGpRdWVyeSBBUElzIGxpa2UgLnJlbW92ZSgpXG4gICAgLy8gYXJlIHBhc3NlZCB0aHJvdWdoIGpRdWVyeS5jbGVhbkRhdGEuIE1vbmtleS1wYXRjaCB0aGlzIG1ldGhvZCB0byBmaXJlXG4gICAgLy8gdGhlICRkZXN0cm95IGV2ZW50IG9uIGFsbCByZW1vdmVkIG5vZGVzLlxuICAgIG9yaWdpbmFsQ2xlYW5EYXRhID0galF1ZXJ5LmNsZWFuRGF0YTtcbiAgICBqUXVlcnkuY2xlYW5EYXRhID0gZnVuY3Rpb24oZWxlbXMpIHtcbiAgICAgIHZhciBldmVudHM7XG4gICAgICBmb3IgKHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICAgIGV2ZW50cyA9IGpRdWVyeS5fZGF0YShlbGVtLCBcImV2ZW50c1wiKTtcbiAgICAgICAgaWYgKGV2ZW50cyAmJiBldmVudHMuJGRlc3Ryb3kpIHtcbiAgICAgICAgICBqUXVlcnkoZWxlbSkudHJpZ2dlckhhbmRsZXIoJyRkZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9yaWdpbmFsQ2xlYW5EYXRhKGVsZW1zKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGpxTGl0ZSA9IEpRTGl0ZTtcbiAgfVxuXG4gIGFuZ3VsYXIuZWxlbWVudCA9IGpxTGl0ZTtcblxuICAvLyBQcmV2ZW50IGRvdWJsZS1wcm94eWluZy5cbiAgYmluZEpRdWVyeUZpcmVkID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiB0aHJvdyBlcnJvciBpZiB0aGUgYXJndW1lbnQgaXMgZmFsc3kuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsIG5hbWUsIHJlYXNvbikge1xuICBpZiAoIWFyZykge1xuICAgIHRocm93IG5nTWluRXJyKCdhcmVxJywgXCJBcmd1bWVudCAnezB9JyBpcyB7MX1cIiwgKG5hbWUgfHwgJz8nKSwgKHJlYXNvbiB8fCBcInJlcXVpcmVkXCIpKTtcbiAgfVxuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRBcmdGbihhcmcsIG5hbWUsIGFjY2VwdEFycmF5QW5ub3RhdGlvbikge1xuICBpZiAoYWNjZXB0QXJyYXlBbm5vdGF0aW9uICYmIGlzQXJyYXkoYXJnKSkge1xuICAgICAgYXJnID0gYXJnW2FyZy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIGFzc2VydEFyZyhpc0Z1bmN0aW9uKGFyZyksIG5hbWUsICdub3QgYSBmdW5jdGlvbiwgZ290ICcgK1xuICAgICAgKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyA/IGFyZy5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnIDogdHlwZW9mIGFyZykpO1xuICByZXR1cm4gYXJnO1xufVxuXG4vKipcbiAqIHRocm93IGVycm9yIGlmIHRoZSBuYW1lIGdpdmVuIGlzIGhhc093blByb3BlcnR5XG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgICAgdGhlIG5hbWUgdG8gdGVzdFxuICogQHBhcmFtICB7U3RyaW5nfSBjb250ZXh0IHRoZSBjb250ZXh0IGluIHdoaWNoIHRoZSBuYW1lIGlzIHVzZWQsIHN1Y2ggYXMgbW9kdWxlIG9yIGRpcmVjdGl2ZVxuICovXG5mdW5jdGlvbiBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCBjb250ZXh0KSB7XG4gIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2JhZG5hbWUnLCBcImhhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lXCIsIGNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSB2YWx1ZSBhY2Nlc3NpYmxlIGZyb20gdGhlIG9iamVjdCBieSBwYXRoLiBBbnkgdW5kZWZpbmVkIHRyYXZlcnNhbHMgYXJlIGlnbm9yZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogc3RhcnRpbmcgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBwYXRoIHRvIHRyYXZlcnNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtiaW5kRm5Ub1Njb3BlPXRydWVdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB2YWx1ZSBhcyBhY2Nlc3NpYmxlIGJ5IHBhdGhcbiAqL1xuLy9UT0RPKG1pc2tvKTogdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZW1vdmVkXG5mdW5jdGlvbiBnZXR0ZXIob2JqLCBwYXRoLCBiaW5kRm5Ub1Njb3BlKSB7XG4gIGlmICghcGF0aCkgcmV0dXJuIG9iajtcbiAgdmFyIGtleXMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gIHZhciBrZXk7XG4gIHZhciBsYXN0SW5zdGFuY2UgPSBvYmo7XG4gIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAob2JqKSB7XG4gICAgICBvYmogPSAobGFzdEluc3RhbmNlID0gb2JqKVtrZXldO1xuICAgIH1cbiAgfVxuICBpZiAoIWJpbmRGblRvU2NvcGUgJiYgaXNGdW5jdGlvbihvYmopKSB7XG4gICAgcmV0dXJuIGJpbmQobGFzdEluc3RhbmNlLCBvYmopO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBET00gc2libGluZ3MgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3Qgbm9kZSBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBsaWtlIG9iamVjdFxuICogQHJldHVybnMge0FycmF5fSB0aGUgaW5wdXR0ZWQgb2JqZWN0IG9yIGEganFMaXRlIGNvbGxlY3Rpb24gY29udGFpbmluZyB0aGUgbm9kZXNcbiAqL1xuZnVuY3Rpb24gZ2V0QmxvY2tOb2Rlcyhub2Rlcykge1xuICAvLyBUT0RPKHBlcmYpOiB1cGRhdGUgYG5vZGVzYCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9iamVjdD9cbiAgdmFyIG5vZGUgPSBub2Rlc1swXTtcbiAgdmFyIGVuZE5vZGUgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXTtcbiAgdmFyIGJsb2NrTm9kZXM7XG5cbiAgZm9yICh2YXIgaSA9IDE7IG5vZGUgIT09IGVuZE5vZGUgJiYgKG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKTsgaSsrKSB7XG4gICAgaWYgKGJsb2NrTm9kZXMgfHwgbm9kZXNbaV0gIT09IG5vZGUpIHtcbiAgICAgIGlmICghYmxvY2tOb2Rlcykge1xuICAgICAgICBibG9ja05vZGVzID0ganFMaXRlKHNsaWNlLmNhbGwobm9kZXMsIDAsIGkpKTtcbiAgICAgIH1cbiAgICAgIGJsb2NrTm9kZXMucHVzaChub2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYmxvY2tOb2RlcyB8fCBub2Rlcztcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdpdGhvdXQgYSBwcm90b3R5cGUuIFRoaXMgb2JqZWN0IGlzIHVzZWZ1bCBmb3IgbG9va3VwIHdpdGhvdXQgaGF2aW5nIHRvXG4gKiBndWFyZCBhZ2FpbnN0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRlZCBwcm9wZXJ0aWVzIHZpYSBoYXNPd25Qcm9wZXJ0eS5cbiAqXG4gKiBSZWxhdGVkIG1pY3JvLWJlbmNobWFya3M6XG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL29iamVjdC1jcmVhdGUyXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL3Byb3RvLW1hcC1sb29rdXAvMlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9mb3ItaW4tdnMtb2JqZWN0LWtleXMyXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWFwKCkge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxudmFyIE5PREVfVFlQRV9FTEVNRU5UID0gMTtcbnZhciBOT0RFX1RZUEVfQVRUUklCVVRFID0gMjtcbnZhciBOT0RFX1RZUEVfVEVYVCA9IDM7XG52YXIgTk9ERV9UWVBFX0NPTU1FTlQgPSA4O1xudmFyIE5PREVfVFlQRV9ET0NVTUVOVCA9IDk7XG52YXIgTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UID0gMTE7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbnRlcmZhY2UgZm9yIGNvbmZpZ3VyaW5nIGFuZ3VsYXIge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9LlxuICovXG5cbmZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xuXG4gIHZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuICB2YXIgbmdNaW5FcnIgPSBtaW5FcnIoJ25nJyk7XG5cbiAgZnVuY3Rpb24gZW5zdXJlKG9iaiwgbmFtZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiBvYmpbbmFtZV0gfHwgKG9ialtuYW1lXSA9IGZhY3RvcnkoKSk7XG4gIH1cblxuICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcblxuICAvLyBXZSBuZWVkIHRvIGV4cG9zZSBgYW5ndWxhci4kJG1pbkVycmAgdG8gbW9kdWxlcyBzdWNoIGFzIGBuZ1Jlc291cmNlYCB0aGF0IHJlZmVyZW5jZSBpdCBkdXJpbmcgYm9vdHN0cmFwXG4gIGFuZ3VsYXIuJCRtaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyIHx8IG1pbkVycjtcblxuICByZXR1cm4gZW5zdXJlKGFuZ3VsYXIsICdtb2R1bGUnLCBmdW5jdGlvbigpIHtcbiAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXG4gICAgdmFyIG1vZHVsZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXIubW9kdWxlXG4gICAgICogQG1vZHVsZSBuZ1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogVGhlIGBhbmd1bGFyLm1vZHVsZWAgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyXG4gICAgICogbW9kdWxlcy5cbiAgICAgKiBBbGwgbW9kdWxlcyAoYW5ndWxhciBjb3JlIG9yIDNyZCBwYXJ0eSkgdGhhdCBzaG91bGQgYmUgYXZhaWxhYmxlIHRvIGFuIGFwcGxpY2F0aW9uIG11c3QgYmVcbiAgICAgKiByZWdpc3RlcmVkIHVzaW5nIHRoaXMgbWVjaGFuaXNtLlxuICAgICAqXG4gICAgICogUGFzc2luZyBvbmUgYXJndW1lbnQgcmV0cmlldmVzIGFuIGV4aXN0aW5nIHtAbGluayBhbmd1bGFyLk1vZHVsZX0sXG4gICAgICogd2hlcmVhcyBwYXNzaW5nIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQgY3JlYXRlcyBhIG5ldyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9XG4gICAgICpcbiAgICAgKlxuICAgICAqICMgTW9kdWxlXG4gICAgICpcbiAgICAgKiBBIG1vZHVsZSBpcyBhIGNvbGxlY3Rpb24gb2Ygc2VydmljZXMsIGRpcmVjdGl2ZXMsIGNvbnRyb2xsZXJzLCBmaWx0ZXJzLCBhbmQgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbi5cbiAgICAgKiBgYW5ndWxhci5tb2R1bGVgIGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZVxuICAgICAqIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteU1vZHVsZScsIFtdKTtcbiAgICAgKlxuICAgICAqIC8vIHJlZ2lzdGVyIGEgbmV3IHNlcnZpY2VcbiAgICAgKiBteU1vZHVsZS52YWx1ZSgnYXBwTmFtZScsICdNeUNvb2xBcHAnKTtcbiAgICAgKlxuICAgICAqIC8vIGNvbmZpZ3VyZSBleGlzdGluZyBzZXJ2aWNlcyBpbnNpZGUgaW5pdGlhbGl6YXRpb24gYmxvY2tzLlxuICAgICAqIG15TW9kdWxlLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAgKiAgIC8vIENvbmZpZ3VyZSBleGlzdGluZyBwcm92aWRlcnNcbiAgICAgKiAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcbiAgICAgKiB9XSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGVuIHlvdSBjYW4gY3JlYXRlIGFuIGluamVjdG9yIGFuZCBsb2FkIHlvdXIgbW9kdWxlcyBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteU1vZHVsZSddKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSG93ZXZlciBpdCdzIG1vcmUgbGlrZWx5IHRoYXQgeW91J2xsIGp1c3QgdXNlXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gb3JcbiAgICAgKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IHRvIHNpbXBsaWZ5IHRoaXMgcHJvY2VzcyBmb3IgeW91LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshc3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBtb2R1bGUgdG8gY3JlYXRlIG9yIHJldHJpZXZlLlxuICAgICAqIEBwYXJhbSB7IUFycmF5LjxzdHJpbmc+PX0gcmVxdWlyZXMgSWYgc3BlY2lmaWVkIHRoZW4gbmV3IG1vZHVsZSBpcyBiZWluZyBjcmVhdGVkLiBJZlxuICAgICAqICAgICAgICB1bnNwZWNpZmllZCB0aGVuIHRoZSBtb2R1bGUgaXMgYmVpbmcgcmV0cmlldmVkIGZvciBmdXJ0aGVyIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNvbmZpZ0ZuIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBtb2R1bGUuIFNhbWUgYXNcbiAgICAgKiAgICAgICAge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZyBNb2R1bGUjY29uZmlnKCl9LlxuICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX0gbmV3IG1vZHVsZSB3aXRoIHRoZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9IGFwaS5cbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gbW9kdWxlKG5hbWUsIHJlcXVpcmVzLCBjb25maWdGbikge1xuICAgICAgdmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgY29udGV4dCkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdtb2R1bGUnKTtcbiAgICAgIGlmIChyZXF1aXJlcyAmJiBtb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZShtb2R1bGVzLCBuYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlcykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCBcIk1vZHVsZSAnezB9JyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgXCIgK1xuICAgICAgICAgICAgIFwidGhlIG1vZHVsZSBuYW1lIG9yIGZvcmdvdCB0byBsb2FkIGl0LiBJZiByZWdpc3RlcmluZyBhIG1vZHVsZSBlbnN1cmUgdGhhdCB5b3UgXCIgK1xuICAgICAgICAgICAgIFwic3BlY2lmeSB0aGUgZGVwZW5kZW5jaWVzIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXCIsIG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEFycmF5LjwqPj59ICovXG4gICAgICAgIHZhciBpbnZva2VRdWV1ZSA9IFtdO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxGdW5jdGlvbj59ICovXG4gICAgICAgIHZhciBjb25maWdCbG9ja3MgPSBbXTtcblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xuICAgICAgICB2YXIgcnVuQmxvY2tzID0gW107XG5cbiAgICAgICAgdmFyIGNvbmZpZyA9IGludm9rZUxhdGVyKCckaW5qZWN0b3InLCAnaW52b2tlJywgJ3B1c2gnLCBjb25maWdCbG9ja3MpO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7YW5ndWxhci5Nb2R1bGV9ICovXG4gICAgICAgIHZhciBtb2R1bGVJbnN0YW5jZSA9IHtcbiAgICAgICAgICAvLyBQcml2YXRlIHN0YXRlXG4gICAgICAgICAgX2ludm9rZVF1ZXVlOiBpbnZva2VRdWV1ZSxcbiAgICAgICAgICBfY29uZmlnQmxvY2tzOiBjb25maWdCbG9ja3MsXG4gICAgICAgICAgX3J1bkJsb2NrczogcnVuQmxvY2tzLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcmVxdWlyZXNcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBIb2xkcyB0aGUgbGlzdCBvZiBtb2R1bGVzIHdoaWNoIHRoZSBpbmplY3RvciB3aWxsIGxvYWQgYmVmb3JlIHRoZSBjdXJyZW50IG1vZHVsZSBpc1xuICAgICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogTmFtZSBvZiB0aGUgbW9kdWxlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG5cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHByb3ZpZGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ3Byb3ZpZGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZmFjdG9yeVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlckZ1bmN0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmYWN0b3J5OiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2ZhY3RvcnknKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNzZXJ2aWNlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHNlcnZpY2U6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnc2VydmljZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3ZhbHVlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFNlcnZpY2UgaW5zdGFuY2Ugb2JqZWN0LlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB2YWx1ZTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ3ZhbHVlJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uc3RhbnRcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY29uc3RhbnQgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IENvbnN0YW50IHZhbHVlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGNvbnN0YW50cyBhcmUgZml4ZWQsIHRoZXkgZ2V0IGFwcGxpZWQgYmVmb3JlIG90aGVyIHByb3ZpZGUgbWV0aG9kcy5cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgJHByb3ZpZGUuY29uc3RhbnQoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3RhbnQ6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdjb25zdGFudCcsICd1bnNoaWZ0JyksXG5cbiAgICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2RlY29yYXRvclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkZWNvckZuIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciAkcHJvdmlkZS5kZWNvcmF0b3IoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZGVjb3JhdG9yOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2RlY29yYXRvcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2FuaW1hdGlvblxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBhbmltYXRpb24gbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFuaW1hdGlvbkZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGFuXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiAqKk5PVEUqKjogYW5pbWF0aW9ucyB0YWtlIGVmZmVjdCBvbmx5IGlmIHRoZSAqKm5nQW5pbWF0ZSoqIG1vZHVsZSBpcyBsb2FkZWQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIERlZmluZXMgYW4gYW5pbWF0aW9uIGhvb2sgdGhhdCBjYW4gYmUgbGF0ZXIgdXNlZCB3aXRoXG4gICAgICAgICAgICoge0BsaW5rICRhbmltYXRlICRhbmltYXRlfSBzZXJ2aWNlIGFuZCBkaXJlY3RpdmVzIHRoYXQgdXNlIHRoaXMgc2VydmljZS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIGBgYGpzXG4gICAgICAgICAgICogbW9kdWxlLmFuaW1hdGlvbignLmFuaW1hdGlvbi1uYW1lJywgZnVuY3Rpb24oJGluamVjdDEsICRpbmplY3QyKSB7XG4gICAgICAgICAgICogICByZXR1cm4ge1xuICAgICAgICAgICAqICAgICBldmVudE5hbWUgOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7XG4gICAgICAgICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcbiAgICAgICAgICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsbGF0aW9uRnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAqICAgICAgICAgLy9jb2RlIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICogICAgICAgfVxuICAgICAgICAgICAqICAgICB9XG4gICAgICAgICAgICogICB9XG4gICAgICAgICAgICogfSlcbiAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlciAkYW5pbWF0ZVByb3ZpZGVyLnJlZ2lzdGVyKCl9IGFuZFxuICAgICAgICAgICAqIHtAbGluayBuZ0FuaW1hdGUgbmdBbmltYXRlIG1vZHVsZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICovXG4gICAgICAgICAgYW5pbWF0aW9uOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRhbmltYXRlUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmaWx0ZXJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmlsdGVyIG5hbWUgLSB0aGlzIG11c3QgYmUgYSB2YWxpZCBhbmd1bGFyIGV4cHJlc3Npb24gaWRlbnRpZmllclxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGZpbHRlci5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRmaWx0ZXJQcm92aWRlciNyZWdpc3RlciAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAgICAgICAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXG4gICAgICAgICAgICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAgICAgICAgICAgKiB5b3VyIGZpbHRlcnMsIHRoZW4geW91IGNhbiB1c2UgY2FwaXRhbGl6YXRpb24gKGBteWFwcFN1YnNlY3Rpb25GaWx0ZXJ4YCkgb3IgdW5kZXJzY29yZXNcbiAgICAgICAgICAgKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxuICAgICAgICAgICAqIDwvZGl2PlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZpbHRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckZmlsdGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb250cm9sbGVyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyICRjb250cm9sbGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGlyZWN0aXZlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBEaXJlY3RpdmUgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZVxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXJlY3RpdmVGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZlxuICAgICAgICAgICAqIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBkaXJlY3RpdmU6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbXBpbGVQcm92aWRlcicsICdkaXJlY3RpdmUnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb21wb25lbnRcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGluIGNhbWVsLWNhc2UgKGkuZS4gbXlDb21wIHdoaWNoIHdpbGwgbWF0Y2ggYXMgbXktY29tcClcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb21wb25lbnQgZGVmaW5pdGlvbiBvYmplY3QgKGEgc2ltcGxpZmllZFxuICAgICAgICAgICAqICAgIHtAbGluayBuZy4kY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0fSlcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNjb21wb25lbnQgJGNvbXBpbGVQcm92aWRlci5jb21wb25lbnQoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29tcG9uZW50OiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRjb21waWxlUHJvdmlkZXInLCAnY29tcG9uZW50JyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uZmlnXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZ0ZuIEV4ZWN1dGUgdGhpcyBmdW5jdGlvbiBvbiBtb2R1bGUgbG9hZC4gVXNlZnVsIGZvciBzZXJ2aWNlXG4gICAgICAgICAgICogICAgY29uZmlndXJhdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgd29yayB3aGljaCBuZWVkcyB0byBiZSBwZXJmb3JtZWQgb24gbW9kdWxlIGxvYWRpbmcuXG4gICAgICAgICAgICogRm9yIG1vcmUgYWJvdXQgaG93IHRvIGNvbmZpZ3VyZSBzZXJ2aWNlcywgc2VlXG4gICAgICAgICAgICoge0BsaW5rIHByb3ZpZGVycyNwcm92aWRlci1yZWNpcGUgUHJvdmlkZXIgUmVjaXBlfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNydW5cbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5pdGlhbGl6YXRpb25GbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgaW5qZWN0b3IgY3JlYXRpb24uXG4gICAgICAgICAgICogICAgVXNlZnVsIGZvciBhcHBsaWNhdGlvbiBpbml0aWFsaXphdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgd29yayB3aGljaCBzaG91bGQgYmUgcGVyZm9ybWVkIHdoZW4gdGhlIGluamVjdG9yIGlzIGRvbmVcbiAgICAgICAgICAgKiBsb2FkaW5nIGFsbCBtb2R1bGVzLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJ1bjogZnVuY3Rpb24oYmxvY2spIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY29uZmlnRm4pIHtcbiAgICAgICAgICBjb25maWcoY29uZmlnRm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZz19IGluc2VydE1ldGhvZFxuICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlciwgbWV0aG9kLCBpbnNlcnRNZXRob2QsIHF1ZXVlKSB7XG4gICAgICAgICAgaWYgKCFxdWV1ZSkgcXVldWUgPSBpbnZva2VRdWV1ZTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBxdWV1ZVtpbnNlcnRNZXRob2QgfHwgJ3B1c2gnXShbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUocHJvdmlkZXIsIG1ldGhvZCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihyZWNpcGVOYW1lLCBmYWN0b3J5RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChmYWN0b3J5RnVuY3Rpb24gJiYgaXNGdW5jdGlvbihmYWN0b3J5RnVuY3Rpb24pKSBmYWN0b3J5RnVuY3Rpb24uJCRtb2R1bGVOYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGludm9rZVF1ZXVlLnB1c2goW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pO1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG59XG5cbi8qIGdsb2JhbCBzaGFsbG93Q29weTogdHJ1ZSAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cbiAqXG4gKiBBc3N1bWVzIHRoYXQgdGhlcmUgYXJlIG5vIHByb3RvIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNyYywgZHN0KSB7XG4gIGlmIChpc0FycmF5KHNyYykpIHtcbiAgICBkc3QgPSBkc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzcmMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgZHN0W2ldID0gc3JjW2ldO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzcmMpKSB7XG4gICAgZHN0ID0gZHN0IHx8IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcbiAgICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHN0IHx8IHNyYztcbn1cblxuLyogZ2xvYmFsIHRvRGVidWdTdHJpbmc6IHRydWUgKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0KG9iaikge1xuICB2YXIgc2VlbiA9IFtdO1xuXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgdmFsID0gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWwpO1xuICAgIGlmIChpc09iamVjdCh2YWwpKSB7XG5cbiAgICAgIGlmIChzZWVuLmluZGV4T2YodmFsKSA+PSAwKSByZXR1cm4gJy4uLic7XG5cbiAgICAgIHNlZW4ucHVzaCh2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9EZWJ1Z1N0cmluZyhvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCkucmVwbGFjZSgvIFxce1tcXHNcXFNdKiQvLCAnJyk7XG4gIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQob2JqKSkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzZXJpYWxpemVPYmplY3Qob2JqKTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKiBnbG9iYWwgYW5ndWxhck1vZHVsZTogdHJ1ZSxcbiAgdmVyc2lvbjogdHJ1ZSxcblxuICAkQ29tcGlsZVByb3ZpZGVyLFxuXG4gIGh0bWxBbmNob3JEaXJlY3RpdmUsXG4gIGlucHV0RGlyZWN0aXZlLFxuICBpbnB1dERpcmVjdGl2ZSxcbiAgZm9ybURpcmVjdGl2ZSxcbiAgc2NyaXB0RGlyZWN0aXZlLFxuICBzZWxlY3REaXJlY3RpdmUsXG4gIHN0eWxlRGlyZWN0aXZlLFxuICBvcHRpb25EaXJlY3RpdmUsXG4gIG5nQmluZERpcmVjdGl2ZSxcbiAgbmdCaW5kSHRtbERpcmVjdGl2ZSxcbiAgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gIG5nQ2xhc3NEaXJlY3RpdmUsXG4gIG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxuICBuZ0Nsb2FrRGlyZWN0aXZlLFxuICBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsXG4gIG5nRm9ybURpcmVjdGl2ZSxcbiAgbmdIaWRlRGlyZWN0aXZlLFxuICBuZ0lmRGlyZWN0aXZlLFxuICBuZ0luY2x1ZGVEaXJlY3RpdmUsXG4gIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlLFxuICBuZ0luaXREaXJlY3RpdmUsXG4gIG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXG4gIG5nUGx1cmFsaXplRGlyZWN0aXZlLFxuICBuZ1JlcGVhdERpcmVjdGl2ZSxcbiAgbmdTaG93RGlyZWN0aXZlLFxuICBuZ1N0eWxlRGlyZWN0aXZlLFxuICBuZ1N3aXRjaERpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hXaGVuRGlyZWN0aXZlLFxuICBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUsXG4gIG5nT3B0aW9uc0RpcmVjdGl2ZSxcbiAgbmdUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICBuZ01vZGVsRGlyZWN0aXZlLFxuICBuZ0xpc3REaXJlY3RpdmUsXG4gIG5nQ2hhbmdlRGlyZWN0aXZlLFxuICBwYXR0ZXJuRGlyZWN0aXZlLFxuICBwYXR0ZXJuRGlyZWN0aXZlLFxuICByZXF1aXJlZERpcmVjdGl2ZSxcbiAgcmVxdWlyZWREaXJlY3RpdmUsXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgbWlubGVuZ3RoRGlyZWN0aXZlLFxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gIG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgbmdWYWx1ZURpcmVjdGl2ZSxcbiAgbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUsXG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzLFxuICBuZ0V2ZW50RGlyZWN0aXZlcyxcblxuICAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIsXG4gICRBbmltYXRlUHJvdmlkZXIsXG4gICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyLFxuICAkJENvcmVBbmltYXRlSnNQcm92aWRlcixcbiAgJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXG4gICQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlcixcbiAgJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIsXG4gICRCcm93c2VyUHJvdmlkZXIsXG4gICRDYWNoZUZhY3RvcnlQcm92aWRlcixcbiAgJENvbnRyb2xsZXJQcm92aWRlcixcbiAgJERhdGVQcm92aWRlcixcbiAgJERvY3VtZW50UHJvdmlkZXIsXG4gICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIsXG4gICRGaWx0ZXJQcm92aWRlcixcbiAgJCRGb3JjZVJlZmxvd1Byb3ZpZGVyLFxuICAkSW50ZXJwb2xhdGVQcm92aWRlcixcbiAgJEludGVydmFsUHJvdmlkZXIsXG4gICQkSGFzaE1hcFByb3ZpZGVyLFxuICAkSHR0cFByb3ZpZGVyLFxuICAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyLFxuICAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyLFxuICAkSHR0cEJhY2tlbmRQcm92aWRlcixcbiAgJHhockZhY3RvcnlQcm92aWRlcixcbiAgJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIsXG4gICRMb2NhdGlvblByb3ZpZGVyLFxuICAkTG9nUHJvdmlkZXIsXG4gICRQYXJzZVByb3ZpZGVyLFxuICAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICRRUHJvdmlkZXIsXG4gICQkUVByb3ZpZGVyLFxuICAkJFNhbml0aXplVXJpUHJvdmlkZXIsXG4gICRTY2VQcm92aWRlcixcbiAgJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICRTbmlmZmVyUHJvdmlkZXIsXG4gICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXG4gICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcixcbiAgJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxuICAkVGltZW91dFByb3ZpZGVyLFxuICAkJFJBRlByb3ZpZGVyLFxuICAkV2luZG93UHJvdmlkZXIsXG4gICQkanFMaXRlUHJvdmlkZXIsXG4gICQkQ29va2llUmVhZGVyUHJvdmlkZXJcbiovXG5cblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBhbmd1bGFyLnZlcnNpb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgQW5ndWxhckpTIHZlcnNpb24uXG4gKlxuICogVGhpcyBvYmplY3QgaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAtIGBmdWxsYCDigJMgYHtzdHJpbmd9YCDigJMgRnVsbCB2ZXJzaW9uIHN0cmluZywgc3VjaCBhcyBcIjAuOS4xOFwiLlxuICogLSBgbWFqb3JgIOKAkyBge251bWJlcn1gIOKAkyBNYWpvciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyBcIjBcIi5cbiAqIC0gYG1pbm9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWlub3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCI5XCIuXG4gKiAtIGBkb3RgIOKAkyBge251bWJlcn1gIOKAkyBEb3QgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIxOFwiLlxuICogLSBgY29kZU5hbWVgIOKAkyBge3N0cmluZ31gIOKAkyBDb2RlIG5hbWUgb2YgdGhlIHJlbGVhc2UsIHN1Y2ggYXMgXCJqaWdnbGluZy1hcm1mYXRcIi5cbiAqL1xudmFyIHZlcnNpb24gPSB7XG4gIGZ1bGw6ICcxLjUuOCcsICAgIC8vIGFsbCBvZiB0aGVzZSBwbGFjZWhvbGRlciBzdHJpbmdzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZ3J1bnQnc1xuICBtYWpvcjogMSwgICAgLy8gcGFja2FnZSB0YXNrXG4gIG1pbm9yOiA1LFxuICBkb3Q6IDgsXG4gIGNvZGVOYW1lOiAnYXJiaXRyYXJ5LWZhbGxiYWNrcydcbn07XG5cblxuZnVuY3Rpb24gcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpIHtcbiAgZXh0ZW5kKGFuZ3VsYXIsIHtcbiAgICAnYm9vdHN0cmFwJzogYm9vdHN0cmFwLFxuICAgICdjb3B5JzogY29weSxcbiAgICAnZXh0ZW5kJzogZXh0ZW5kLFxuICAgICdtZXJnZSc6IG1lcmdlLFxuICAgICdlcXVhbHMnOiBlcXVhbHMsXG4gICAgJ2VsZW1lbnQnOiBqcUxpdGUsXG4gICAgJ2ZvckVhY2gnOiBmb3JFYWNoLFxuICAgICdpbmplY3Rvcic6IGNyZWF0ZUluamVjdG9yLFxuICAgICdub29wJzogbm9vcCxcbiAgICAnYmluZCc6IGJpbmQsXG4gICAgJ3RvSnNvbic6IHRvSnNvbixcbiAgICAnZnJvbUpzb24nOiBmcm9tSnNvbixcbiAgICAnaWRlbnRpdHknOiBpZGVudGl0eSxcbiAgICAnaXNVbmRlZmluZWQnOiBpc1VuZGVmaW5lZCxcbiAgICAnaXNEZWZpbmVkJzogaXNEZWZpbmVkLFxuICAgICdpc1N0cmluZyc6IGlzU3RyaW5nLFxuICAgICdpc0Z1bmN0aW9uJzogaXNGdW5jdGlvbixcbiAgICAnaXNPYmplY3QnOiBpc09iamVjdCxcbiAgICAnaXNOdW1iZXInOiBpc051bWJlcixcbiAgICAnaXNFbGVtZW50JzogaXNFbGVtZW50LFxuICAgICdpc0FycmF5JzogaXNBcnJheSxcbiAgICAndmVyc2lvbic6IHZlcnNpb24sXG4gICAgJ2lzRGF0ZSc6IGlzRGF0ZSxcbiAgICAnbG93ZXJjYXNlJzogbG93ZXJjYXNlLFxuICAgICd1cHBlcmNhc2UnOiB1cHBlcmNhc2UsXG4gICAgJ2NhbGxiYWNrcyc6IHskJGNvdW50ZXI6IDB9LFxuICAgICdnZXRUZXN0YWJpbGl0eSc6IGdldFRlc3RhYmlsaXR5LFxuICAgICckJG1pbkVycic6IG1pbkVycixcbiAgICAnJCRjc3AnOiBjc3AsXG4gICAgJ3JlbG9hZFdpdGhEZWJ1Z0luZm8nOiByZWxvYWRXaXRoRGVidWdJbmZvXG4gIH0pO1xuXG4gIGFuZ3VsYXJNb2R1bGUgPSBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpO1xuXG4gIGFuZ3VsYXJNb2R1bGUoJ25nJywgWyduZ0xvY2FsZSddLCBbJyRwcm92aWRlJyxcbiAgICBmdW5jdGlvbiBuZ01vZHVsZSgkcHJvdmlkZSkge1xuICAgICAgLy8gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIG5lZWRzIHRvIGJlIGJlZm9yZSAkY29tcGlsZVByb3ZpZGVyIGFzIGl0IGlzIHVzZWQgYnkgaXQuXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XG4gICAgICAgICQkc2FuaXRpemVVcmk6ICQkU2FuaXRpemVVcmlQcm92aWRlclxuICAgICAgfSk7XG4gICAgICAkcHJvdmlkZS5wcm92aWRlcignJGNvbXBpbGUnLCAkQ29tcGlsZVByb3ZpZGVyKS5cbiAgICAgICAgZGlyZWN0aXZlKHtcbiAgICAgICAgICAgIGE6IGh0bWxBbmNob3JEaXJlY3RpdmUsXG4gICAgICAgICAgICBpbnB1dDogaW5wdXREaXJlY3RpdmUsXG4gICAgICAgICAgICB0ZXh0YXJlYTogaW5wdXREaXJlY3RpdmUsXG4gICAgICAgICAgICBmb3JtOiBmb3JtRGlyZWN0aXZlLFxuICAgICAgICAgICAgc2NyaXB0OiBzY3JpcHREaXJlY3RpdmUsXG4gICAgICAgICAgICBzZWxlY3Q6IHNlbGVjdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHN0eWxlOiBzdHlsZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG9wdGlvbjogb3B0aW9uRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kOiBuZ0JpbmREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmRIdG1sOiBuZ0JpbmRIdG1sRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kVGVtcGxhdGU6IG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzczogbmdDbGFzc0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3NFdmVuOiBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3NPZGQ6IG5nQ2xhc3NPZGREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0Nsb2FrOiBuZ0Nsb2FrRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDb250cm9sbGVyOiBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0Zvcm06IG5nRm9ybURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSGlkZTogbmdIaWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJZjogbmdJZkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJbml0OiBuZ0luaXREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ05vbkJpbmRhYmxlOiBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdQbHVyYWxpemU6IG5nUGx1cmFsaXplRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdSZXBlYXQ6IG5nUmVwZWF0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTaG93OiBuZ1Nob3dEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N0eWxlOiBuZ1N0eWxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2g6IG5nU3dpdGNoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2hXaGVuOiBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaERlZmF1bHQ6IG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nT3B0aW9uczogbmdPcHRpb25zRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdUcmFuc2NsdWRlOiBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01vZGVsOiBuZ01vZGVsRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdMaXN0OiBuZ0xpc3REaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NoYW5nZTogbmdDaGFuZ2VEaXJlY3RpdmUsXG4gICAgICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdQYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdSZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXG4gICAgICAgICAgICBtaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTWlubGVuZ3RoOiBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBtYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1ZhbHVlOiBuZ1ZhbHVlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNb2RlbE9wdGlvbnM6IG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlXG4gICAgICAgIH0pLlxuICAgICAgICBkaXJlY3RpdmUoe1xuICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmVcbiAgICAgICAgfSkuXG4gICAgICAgIGRpcmVjdGl2ZShuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcykuXG4gICAgICAgIGRpcmVjdGl2ZShuZ0V2ZW50RGlyZWN0aXZlcyk7XG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XG4gICAgICAgICRhbmNob3JTY3JvbGw6ICRBbmNob3JTY3JvbGxQcm92aWRlcixcbiAgICAgICAgJGFuaW1hdGU6ICRBbmltYXRlUHJvdmlkZXIsXG4gICAgICAgICRhbmltYXRlQ3NzOiAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcbiAgICAgICAgJCRhbmltYXRlSnM6ICQkQ29yZUFuaW1hdGVKc1Byb3ZpZGVyLFxuICAgICAgICAkJGFuaW1hdGVRdWV1ZTogJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXG4gICAgICAgICQkQW5pbWF0ZVJ1bm5lcjogJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyLFxuICAgICAgICAkJGFuaW1hdGVBc3luY1J1bjogJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICRicm93c2VyOiAkQnJvd3NlclByb3ZpZGVyLFxuICAgICAgICAkY2FjaGVGYWN0b3J5OiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICRjb250cm9sbGVyOiAkQ29udHJvbGxlclByb3ZpZGVyLFxuICAgICAgICAkZG9jdW1lbnQ6ICREb2N1bWVudFByb3ZpZGVyLFxuICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcjogJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgICAgICAgJGZpbHRlcjogJEZpbHRlclByb3ZpZGVyLFxuICAgICAgICAkJGZvcmNlUmVmbG93OiAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXG4gICAgICAgICRpbnRlcnBvbGF0ZTogJEludGVycG9sYXRlUHJvdmlkZXIsXG4gICAgICAgICRpbnRlcnZhbDogJEludGVydmFsUHJvdmlkZXIsXG4gICAgICAgICRodHRwOiAkSHR0cFByb3ZpZGVyLFxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplcjogJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcixcbiAgICAgICAgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2U6ICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIsXG4gICAgICAgICRodHRwQmFja2VuZDogJEh0dHBCYWNrZW5kUHJvdmlkZXIsXG4gICAgICAgICR4aHJGYWN0b3J5OiAkeGhyRmFjdG9yeVByb3ZpZGVyLFxuICAgICAgICAkanNvbnBDYWxsYmFja3M6ICRqc29ucENhbGxiYWNrc1Byb3ZpZGVyLFxuICAgICAgICAkbG9jYXRpb246ICRMb2NhdGlvblByb3ZpZGVyLFxuICAgICAgICAkbG9nOiAkTG9nUHJvdmlkZXIsXG4gICAgICAgICRwYXJzZTogJFBhcnNlUHJvdmlkZXIsXG4gICAgICAgICRyb290U2NvcGU6ICRSb290U2NvcGVQcm92aWRlcixcbiAgICAgICAgJHE6ICRRUHJvdmlkZXIsXG4gICAgICAgICQkcTogJCRRUHJvdmlkZXIsXG4gICAgICAgICRzY2U6ICRTY2VQcm92aWRlcixcbiAgICAgICAgJHNjZURlbGVnYXRlOiAkU2NlRGVsZWdhdGVQcm92aWRlcixcbiAgICAgICAgJHNuaWZmZXI6ICRTbmlmZmVyUHJvdmlkZXIsXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlOiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyLFxuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0OiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXG4gICAgICAgICQkdGVzdGFiaWxpdHk6ICQkVGVzdGFiaWxpdHlQcm92aWRlcixcbiAgICAgICAgJHRpbWVvdXQ6ICRUaW1lb3V0UHJvdmlkZXIsXG4gICAgICAgICR3aW5kb3c6ICRXaW5kb3dQcm92aWRlcixcbiAgICAgICAgJCRyQUY6ICQkUkFGUHJvdmlkZXIsXG4gICAgICAgICQkanFMaXRlOiAkJGpxTGl0ZVByb3ZpZGVyLFxuICAgICAgICAkJEhhc2hNYXA6ICQkSGFzaE1hcFByb3ZpZGVyLFxuICAgICAgICAkJGNvb2tpZVJlYWRlcjogJCRDb29raWVSZWFkZXJQcm92aWRlclxuICAgICAgfSk7XG4gICAgfVxuICBdKTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxuLyogZ2xvYmFsIEpRTGl0ZVByb3RvdHlwZTogdHJ1ZSxcbiAgYWRkRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxuICByZW1vdmVFdmVudExpc3RlbmVyRm46IHRydWUsXG4gIEJPT0xFQU5fQVRUUjogdHJ1ZSxcbiAgQUxJQVNFRF9BVFRSOiB0cnVlLFxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy9KUUxpdGVcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZWxlbWVudFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFdyYXBzIGEgcmF3IERPTSBlbGVtZW50IG9yIEhUTUwgc3RyaW5nIGFzIGEgW2pRdWVyeV0oaHR0cDovL2pxdWVyeS5jb20pIGVsZW1lbnQuXG4gKlxuICogSWYgalF1ZXJ5IGlzIGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGAgaXMgYW4gYWxpYXMgZm9yIHRoZVxuICogW2pRdWVyeV0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS8pIGZ1bmN0aW9uLiBJZiBqUXVlcnkgaXMgbm90IGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGBcbiAqIGRlbGVnYXRlcyB0byBBbmd1bGFyJ3MgYnVpbHQtaW4gc3Vic2V0IG9mIGpRdWVyeSwgY2FsbGVkIFwialF1ZXJ5IGxpdGVcIiBvciAqKmpxTGl0ZSoqLlxuICpcbiAqIGpxTGl0ZSBpcyBhIHRpbnksIEFQSS1jb21wYXRpYmxlIHN1YnNldCBvZiBqUXVlcnkgdGhhdCBhbGxvd3NcbiAqIEFuZ3VsYXIgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4ganFMaXRlIGltcGxlbWVudHMgb25seSB0aGUgbW9zdFxuICogY29tbW9ubHkgbmVlZGVkIGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgZ29hbCBvZiBoYXZpbmcgYSB2ZXJ5IHNtYWxsIGZvb3RwcmludC5cbiAqXG4gKiBUbyB1c2UgYGpRdWVyeWAsIHNpbXBseSBlbnN1cmUgaXQgaXMgbG9hZGVkIGJlZm9yZSB0aGUgYGFuZ3VsYXIuanNgIGZpbGUuIFlvdSBjYW4gYWxzbyB1c2UgdGhlXG4gKiB7QGxpbmsgbmdKcSBgbmdKcWB9IGRpcmVjdGl2ZSB0byBzcGVjaWZ5IHRoYXQganFsaXRlIHNob3VsZCBiZSB1c2VkIG92ZXIgalF1ZXJ5LCBvciB0byB1c2UgYVxuICogc3BlY2lmaWMgdmVyc2lvbiBvZiBqUXVlcnkgaWYgbXVsdGlwbGUgdmVyc2lvbnMgZXhpc3Qgb24gdGhlIHBhZ2UuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj4qKk5vdGU6KiogQWxsIGVsZW1lbnQgcmVmZXJlbmNlcyBpbiBBbmd1bGFyIGFyZSBhbHdheXMgd3JhcHBlZCB3aXRoIGpRdWVyeSBvclxuICoganFMaXRlIChzdWNoIGFzIHRoZSBlbGVtZW50IGFyZ3VtZW50IGluIGEgZGlyZWN0aXZlJ3MgY29tcGlsZSAvIGxpbmsgZnVuY3Rpb24pLiBUaGV5IGFyZSBuZXZlciByYXcgRE9NIHJlZmVyZW5jZXMuPC9kaXY+XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj4qKk5vdGU6KiogS2VlcCBpbiBtaW5kIHRoYXQgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCBmaW5kIGVsZW1lbnRzXG4gKiBieSB0YWcgbmFtZSAvIENTUyBzZWxlY3Rvci4gRm9yIGxvb2t1cHMgYnkgdGFnIG5hbWUsIHRyeSBpbnN0ZWFkIGBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoLi4uKWBcbiAqIG9yIGAkZG9jdW1lbnQuZmluZCgpYCwgb3IgdXNlIHRoZSBzdGFuZGFyZCBET00gQVBJcywgZS5nLiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgpYC48L2Rpdj5cbiAqXG4gKiAjIyBBbmd1bGFyJ3MganFMaXRlXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxuICpcbiAqIC0gW2BhZGRDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FkZENsYXNzLykgLSBEb2VzIG5vdCBzdXBwb3J0IGEgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnRcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcbiAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKVxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxuICogLSBbYGNoaWxkcmVuKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2hpbGRyZW4vKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXG4gKiAtIFtgY29udGVudHMoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZW50cy8pXG4gKiAtIFtgY3NzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY3NzLykgLSBPbmx5IHJldHJpZXZlcyBpbmxpbmUtc3R5bGVzLCBkb2VzIG5vdCBjYWxsIGBnZXRDb21wdXRlZFN0eWxlKClgLlxuICogICBBcyBhIHNldHRlciwgZG9lcyBub3QgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ3Mgb3IgYXBwZW5kICdweCcsIGFuZCBhbHNvIGRvZXMgbm90IGhhdmUgYXV0b21hdGljIHByb3BlcnR5IHByZWZpeGluZy5cbiAqIC0gW2BkYXRhKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZGF0YS8pXG4gKiAtIFtgZGV0YWNoKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZGV0YWNoLylcbiAqIC0gW2BlbXB0eSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2VtcHR5LylcbiAqIC0gW2BlcSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2VxLylcbiAqIC0gW2BmaW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZmluZC8pIC0gTGltaXRlZCB0byBsb29rdXBzIGJ5IHRhZyBuYW1lXG4gKiAtIFtgaGFzQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9oYXNDbGFzcy8pXG4gKiAtIFtgaHRtbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2h0bWwvKVxuICogLSBbYG5leHQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9uZXh0LykgLSBEb2VzIG5vdCBzdXBwb3J0IHNlbGVjdG9yc1xuICogLSBbYG9uKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb24vKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxuICogLSBbYG9mZigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnQgb2JqZWN0IGFzIHBhcmFtZXRlclxuICogLSBbYG9uZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uZS8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzIG9yIHNlbGVjdG9yc1xuICogLSBbYHBhcmVudCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3BhcmVudC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcbiAqIC0gW2BwcmVwZW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJlcGVuZC8pXG4gKiAtIFtgcHJvcCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3Byb3AvKVxuICogLSBbYHJlYWR5KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVhZHkvKVxuICogLSBbYHJlbW92ZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZS8pXG4gKiAtIFtgcmVtb3ZlQXR0cigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUF0dHIvKVxuICogLSBbYHJlbW92ZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQ2xhc3MvKSAtIERvZXMgbm90IHN1cHBvcnQgYSBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudFxuICogLSBbYHJlbW92ZURhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVEYXRhLylcbiAqIC0gW2ByZXBsYWNlV2l0aCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlcGxhY2VXaXRoLylcbiAqIC0gW2B0ZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdGV4dC8pXG4gKiAtIFtgdG9nZ2xlQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90b2dnbGVDbGFzcy8pIC0gRG9lcyBub3Qgc3VwcG9ydCBhIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50XG4gKiAtIFtgdHJpZ2dlckhhbmRsZXIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90cmlnZ2VySGFuZGxlci8pIC0gUGFzc2VzIGEgZHVtbXkgZXZlbnQgb2JqZWN0IHRvIGhhbmRsZXJzXG4gKiAtIFtgdW5iaW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdW5iaW5kLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3IgZXZlbnQgb2JqZWN0IGFzIHBhcmFtZXRlclxuICogLSBbYHZhbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ZhbC8pXG4gKiAtIFtgd3JhcCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3dyYXAvKVxuICpcbiAqICMjIGpRdWVyeS9qcUxpdGUgRXh0cmFzXG4gKiBBbmd1bGFyIGFsc28gcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIGV2ZW50cyB0byBib3RoIGpRdWVyeSBhbmQganFMaXRlOlxuICpcbiAqICMjIyBFdmVudHNcbiAqIC0gYCRkZXN0cm95YCAtIEFuZ3VsYXJKUyBpbnRlcmNlcHRzIGFsbCBqcUxpdGUvalF1ZXJ5J3MgRE9NIGRlc3RydWN0aW9uIGFwaXMgYW5kIGZpcmVzIHRoaXMgZXZlbnRcbiAqICAgIG9uIGFsbCBET00gbm9kZXMgYmVpbmcgcmVtb3ZlZC4gIFRoaXMgY2FuIGJlIHVzZWQgdG8gY2xlYW4gdXAgYW55IDNyZCBwYXJ0eSBiaW5kaW5ncyB0byB0aGUgRE9NXG4gKiAgICBlbGVtZW50IGJlZm9yZSBpdCBpcyByZW1vdmVkLlxuICpcbiAqICMjIyBNZXRob2RzXG4gKiAtIGBjb250cm9sbGVyKG5hbWUpYCAtIHJldHJpZXZlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIEJ5IGRlZmF1bHRcbiAqICAgcmV0cmlldmVzIGNvbnRyb2xsZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUuIElmIGBuYW1lYCBpcyBwcm92aWRlZCBhc1xuICogICBjYW1lbENhc2UgZGlyZWN0aXZlIG5hbWUsIHRoZW4gdGhlIGNvbnRyb2xsZXIgZm9yIHRoaXMgZGlyZWN0aXZlIHdpbGwgYmUgcmV0cmlldmVkIChlLmcuXG4gKiAgIGAnbmdNb2RlbCdgKS5cbiAqIC0gYGluamVjdG9yKClgIC0gcmV0cmlldmVzIHRoZSBpbmplY3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXG4gKiAtIGBzY29wZSgpYCAtIHJldHJpZXZlcyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IG9mIHRoZSBjdXJyZW50XG4gKiAgIGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG9cbiAqICAgYmUgZW5hYmxlZC5cbiAqIC0gYGlzb2xhdGVTY29wZSgpYCAtIHJldHJpZXZlcyBhbiBpc29sYXRlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBpZiBvbmUgaXMgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlXG4gKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGVcbiAqICAgc2NvcGUuIENhbGxpbmcgYHNjb3BlKClgIG9uIHRoaXMgZWxlbWVudCBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgbm9uLWlzb2xhdGUgc2NvcGUuXG4gKiAgIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvIGJlIGVuYWJsZWQuXG4gKiAtIGBpbmhlcml0ZWREYXRhKClgIC0gc2FtZSBhcyBgZGF0YSgpYCwgYnV0IHdhbGtzIHVwIHRoZSBET00gdW50aWwgYSB2YWx1ZSBpcyBmb3VuZCBvciB0aGUgdG9wXG4gKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuXG4gKlxuICogQGtub3duSXNzdWUgWW91IGNhbm5vdCBzcHkgb24gYGFuZ3VsYXIuZWxlbWVudGAgaWYgeW91IGFyZSB1c2luZyBKYXNtaW5lIHZlcnNpb24gMS54LiBTZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MjUxIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgSFRNTCBzdHJpbmcgb3IgRE9NRWxlbWVudCB0byBiZSB3cmFwcGVkIGludG8galF1ZXJ5LlxuICogQHJldHVybnMge09iamVjdH0galF1ZXJ5IG9iamVjdC5cbiAqL1xuXG5KUUxpdGUuZXhwYW5kbyA9ICduZzMzOSc7XG5cbnZhciBqcUNhY2hlID0gSlFMaXRlLmNhY2hlID0ge30sXG4gICAganFJZCA9IDEsXG4gICAgYWRkRXZlbnRMaXN0ZW5lckZuID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xuICAgIH0sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xuICAgIH07XG5cbi8qXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgZnVuY3Rpb24gISEhXG4gKi9cbkpRTGl0ZS5fZGF0YSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgLy9qUXVlcnkgYWx3YXlzIHJldHVybnMgYW4gb2JqZWN0IG9uIGNhY2hlIG1pc3NcbiAgcmV0dXJuIHRoaXMuY2FjaGVbbm9kZVt0aGlzLmV4cGFuZG9dXSB8fCB7fTtcbn07XG5cbmZ1bmN0aW9uIGpxTmV4dElkKCkgeyByZXR1cm4gKytqcUlkOyB9XG5cblxudmFyIFNQRUNJQUxfQ0hBUlNfUkVHRVhQID0gLyhbXFw6XFwtXFxfXSsoLikpL2c7XG52YXIgTU9aX0hBQ0tfUkVHRVhQID0gL15tb3ooW0EtWl0pLztcbnZhciBNT1VTRV9FVkVOVF9NQVA9IHsgbW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLCBtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwifTtcbnZhciBqcUxpdGVNaW5FcnIgPSBtaW5FcnIoJ2pxTGl0ZScpO1xuXG4vKipcbiAqIENvbnZlcnRzIHNuYWtlX2Nhc2UgdG8gY2FtZWxDYXNlLlxuICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gKi9cbmZ1bmN0aW9uIGNhbWVsQ2FzZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLlxuICAgIHJlcGxhY2UoU1BFQ0lBTF9DSEFSU19SRUdFWFAsIGZ1bmN0aW9uKF8sIHNlcGFyYXRvciwgbGV0dGVyLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBvZmZzZXQgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjtcbiAgICB9KS5cbiAgICByZXBsYWNlKE1PWl9IQUNLX1JFR0VYUCwgJ01veiQxJyk7XG59XG5cbnZhciBTSU5HTEVfVEFHX1JFR0VYUCA9IC9ePChbXFx3LV0rKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLztcbnZhciBIVE1MX1JFR0VYUCA9IC88fCYjP1xcdys7LztcbnZhciBUQUdfTkFNRV9SRUdFWFAgPSAvPChbXFx3Oi1dKykvO1xudmFyIFhIVE1MX1RBR19SRUdFWFAgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpO1xuXG52YXIgd3JhcE1hcCA9IHtcbiAgJ29wdGlvbic6IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JywgJzwvc2VsZWN0PiddLFxuXG4gICd0aGVhZCc6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxuICAnY29sJzogWzIsICc8dGFibGU+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxuICAndGQnOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ19kZWZhdWx0JzogWzAsIFwiXCIsIFwiXCJdXG59O1xuXG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cblxuZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKSB7XG4gIHJldHVybiAhSFRNTF9SRUdFWFAudGVzdChodG1sKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlQWNjZXB0c0RhdGEobm9kZSkge1xuICAvLyBUaGUgd2luZG93IG9iamVjdCBjYW4gYWNjZXB0IGRhdGEgYnV0IGhhcyBubyBub2RlVHlwZVxuICAvLyBPdGhlcndpc2Ugd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBlbGVtZW50cyAoMSkgYW5kIGRvY3VtZW50cyAoOSlcbiAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgcmV0dXJuIG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCAhbm9kZVR5cGUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVDtcbn1cblxuZnVuY3Rpb24ganFMaXRlSGFzRGF0YShub2RlKSB7XG4gIGZvciAodmFyIGtleSBpbiBqcUNhY2hlW25vZGUubmczMzldKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVDbGVhbkRhdGEobm9kZXMpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gbm9kZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIGpxTGl0ZVJlbW92ZURhdGEobm9kZXNbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkge1xuICB2YXIgdG1wLCB0YWcsIHdyYXAsXG4gICAgICBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgbm9kZXMgPSBbXSwgaTtcblxuICBpZiAoanFMaXRlSXNUZXh0Tm9kZShodG1sKSkge1xuICAgIC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuICAgIG5vZGVzLnB1c2goY29udGV4dC5jcmVhdGVUZXh0Tm9kZShodG1sKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG4gICAgdG1wID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICB0YWcgPSAoVEFHX05BTUVfUkVHRVhQLmV4ZWMoaHRtbCkgfHwgW1wiXCIsIFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIHdyYXAgPSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDtcbiAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGh0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCBcIjwkMT48LyQyPlwiKSArIHdyYXBbMl07XG5cbiAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcbiAgICBpID0gd3JhcFswXTtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xuICAgIH1cblxuICAgIG5vZGVzID0gY29uY2F0KG5vZGVzLCB0bXAuY2hpbGROb2Rlcyk7XG5cbiAgICB0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG4gIGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgZnJhZ21lbnQuaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgaW5uZXIgSFRNTFxuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gIH0pO1xuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgd2luZG93LmRvY3VtZW50O1xuICB2YXIgcGFyc2VkO1xuXG4gIGlmICgocGFyc2VkID0gU0lOR0xFX1RBR19SRUdFWFAuZXhlYyhodG1sKSkpIHtcbiAgICByZXR1cm4gW2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTtcbiAgfVxuXG4gIGlmICgocGFyc2VkID0ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSkpIHtcbiAgICByZXR1cm4gcGFyc2VkLmNoaWxkTm9kZXM7XG4gIH1cblxuICByZXR1cm4gW107XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVdyYXBOb2RlKG5vZGUsIHdyYXBwZXIpIHtcbiAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBub2RlKTtcbiAgfVxuXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cblxuLy8gSUU5LTExIGhhcyBubyBtZXRob2QgXCJjb250YWluc1wiIGluIFNWRyBlbGVtZW50IGFuZCBpbiBOb2RlLnByb3RvdHlwZS4gQnVnICMxMDI1OS5cbnZhciBqcUxpdGVDb250YWlucyA9IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jb250YWlucyB8fCBmdW5jdGlvbihhcmcpIHtcbiAgLy8ganNoaW50IGJpdHdpc2U6IGZhbHNlXG4gIHJldHVybiAhISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGFyZykgJiAxNik7XG4gIC8vIGpzaGludCBiaXR3aXNlOiB0cnVlXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIEpRTGl0ZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSlFMaXRlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICB2YXIgYXJnSXNTdHJpbmc7XG5cbiAgaWYgKGlzU3RyaW5nKGVsZW1lbnQpKSB7XG4gICAgZWxlbWVudCA9IHRyaW0oZWxlbWVudCk7XG4gICAgYXJnSXNTdHJpbmcgPSB0cnVlO1xuICB9XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBKUUxpdGUpKSB7XG4gICAgaWYgKGFyZ0lzU3RyaW5nICYmIGVsZW1lbnQuY2hhckF0KDApICE9ICc8Jykge1xuICAgICAgdGhyb3cganFMaXRlTWluRXJyKCdub3NlbCcsICdMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSlFMaXRlKGVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKGFyZ0lzU3RyaW5nKSB7XG4gICAganFMaXRlQWRkTm9kZXModGhpcywganFMaXRlUGFyc2VIVE1MKGVsZW1lbnQpKTtcbiAgfSBlbHNlIHtcbiAgICBqcUxpdGVBZGROb2Rlcyh0aGlzLCBlbGVtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVDbG9uZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlRGVhbG9jKGVsZW1lbnQsIG9ubHlEZXNjZW5kYW50cykge1xuICBpZiAoIW9ubHlEZXNjZW5kYW50cykganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50KTtcblxuICBpZiAoZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgdmFyIGRlc2NlbmRhbnRzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkZXNjZW5kYW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGpxTGl0ZVJlbW92ZURhdGEoZGVzY2VuZGFudHNbaV0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVPZmYoZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XG4gIGlmIChpc0RlZmluZWQodW5zdXBwb3J0ZWQpKSB0aHJvdyBqcUxpdGVNaW5FcnIoJ29mZmFyZ3MnLCAnanFMaXRlI29mZigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgYXJndW1lbnQnKTtcblxuICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xuICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gIHZhciBoYW5kbGUgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmhhbmRsZTtcblxuICBpZiAoIWhhbmRsZSkgcmV0dXJuOyAvL25vIGxpc3RlbmVycyByZWdpc3RlcmVkXG5cbiAgaWYgKCF0eXBlKSB7XG4gICAgZm9yICh0eXBlIGluIGV2ZW50cykge1xuICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XG4gICAgICB9XG4gICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgIH1cbiAgfSBlbHNlIHtcblxuICAgIHZhciByZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24odHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVyRm5zID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGlzRGVmaW5lZChmbikpIHtcbiAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJGbnMgfHwgW10sIGZuKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGlzRGVmaW5lZChmbikgJiYgbGlzdGVuZXJGbnMgJiYgbGlzdGVuZXJGbnMubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XG4gICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvckVhY2godHlwZS5zcGxpdCgnICcpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICByZW1vdmVIYW5kbGVyKHR5cGUpO1xuICAgICAgaWYgKE1PVVNFX0VWRU5UX01BUFt0eXBlXSkge1xuICAgICAgICByZW1vdmVIYW5kbGVyKE1PVVNFX0VWRU5UX01BUFt0eXBlXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50LCBuYW1lKSB7XG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5O1xuICB2YXIgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcblxuICBpZiAoZXhwYW5kb1N0b3JlKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGRlbGV0ZSBleHBhbmRvU3RvcmUuZGF0YVtuYW1lXTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXhwYW5kb1N0b3JlLmhhbmRsZSkge1xuICAgICAgaWYgKGV4cGFuZG9TdG9yZS5ldmVudHMuJGRlc3Ryb3kpIHtcbiAgICAgICAgZXhwYW5kb1N0b3JlLmhhbmRsZSh7fSwgJyRkZXN0cm95Jyk7XG4gICAgICB9XG4gICAgICBqcUxpdGVPZmYoZWxlbWVudCk7XG4gICAgfVxuICAgIGRlbGV0ZSBqcUNhY2hlW2V4cGFuZG9JZF07XG4gICAgZWxlbWVudC5uZzMzOSA9IHVuZGVmaW5lZDsgLy8gZG9uJ3QgZGVsZXRlIERPTSBleHBhbmRvcy4gSUUgYW5kIENocm9tZSBkb24ndCBsaWtlIGl0XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgY3JlYXRlSWZOZWNlc3NhcnkpIHtcbiAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzksXG4gICAgICBleHBhbmRvU3RvcmUgPSBleHBhbmRvSWQgJiYganFDYWNoZVtleHBhbmRvSWRdO1xuXG4gIGlmIChjcmVhdGVJZk5lY2Vzc2FyeSAmJiAhZXhwYW5kb1N0b3JlKSB7XG4gICAgZWxlbWVudC5uZzMzOSA9IGV4cGFuZG9JZCA9IGpxTmV4dElkKCk7XG4gICAgZXhwYW5kb1N0b3JlID0ganFDYWNoZVtleHBhbmRvSWRdID0ge2V2ZW50czoge30sIGRhdGE6IHt9LCBoYW5kbGU6IHVuZGVmaW5lZH07XG4gIH1cblxuICByZXR1cm4gZXhwYW5kb1N0b3JlO1xufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZURhdGEoZWxlbWVudCwga2V5LCB2YWx1ZSkge1xuICBpZiAoanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpIHtcblxuICAgIHZhciBpc1NpbXBsZVNldHRlciA9IGlzRGVmaW5lZCh2YWx1ZSk7XG4gICAgdmFyIGlzU2ltcGxlR2V0dGVyID0gIWlzU2ltcGxlU2V0dGVyICYmIGtleSAmJiAhaXNPYmplY3Qoa2V5KTtcbiAgICB2YXIgbWFzc0dldHRlciA9ICFrZXk7XG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCAhaXNTaW1wbGVHZXR0ZXIpO1xuICAgIHZhciBkYXRhID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5kYXRhO1xuXG4gICAgaWYgKGlzU2ltcGxlU2V0dGVyKSB7IC8vIGRhdGEoJ2tleScsIHZhbHVlKVxuICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtYXNzR2V0dGVyKSB7ICAvLyBkYXRhKClcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNTaW1wbGVHZXR0ZXIpIHsgLy8gZGF0YSgna2V5JylcbiAgICAgICAgICAvLyBkb24ndCBmb3JjZSBjcmVhdGlvbiBvZiBleHBhbmRvU3RvcmUgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXRcbiAgICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhW2tleV07XG4gICAgICAgIH0gZWxzZSB7IC8vIG1hc3Mtc2V0dGVyOiBkYXRhKHtrZXkxOiB2YWwxLCBrZXkyOiB2YWwyfSlcbiAgICAgICAgICBleHRlbmQoZGF0YSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAoIWVsZW1lbnQuZ2V0QXR0cmlidXRlKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoKFwiIFwiICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArIFwiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLCBcIiBcIikuXG4gICAgICBpbmRleE9mKFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIikgPiAtMSk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcbiAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY3NzQ2xhc3MpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oXG4gICAgICAgICAgKFwiIFwiICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArIFwiIFwiKVxuICAgICAgICAgIC5yZXBsYWNlKC9bXFxuXFx0XS9nLCBcIiBcIilcbiAgICAgICAgICAucmVwbGFjZShcIiBcIiArIHRyaW0oY3NzQ2xhc3MpICsgXCIgXCIsIFwiIFwiKSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xuICAgIHZhciBleGlzdGluZ0NsYXNzZXMgPSAoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpO1xuXG4gICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7XG4gICAgICBjc3NDbGFzcyA9IHRyaW0oY3NzQ2xhc3MpO1xuICAgICAgaWYgKGV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCcgJyArIGNzc0NsYXNzICsgJyAnKSA9PT0gLTEpIHtcbiAgICAgICAgZXhpc3RpbmdDbGFzc2VzICs9IGNzc0NsYXNzICsgJyAnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbShleGlzdGluZ0NsYXNzZXMpKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZUFkZE5vZGVzKHJvb3QsIGVsZW1lbnRzKSB7XG4gIC8vIFRISVMgQ09ERSBJUyBWRVJZIEhPVC4gRG9uJ3QgbWFrZSBjaGFuZ2VzIHdpdGhvdXQgYmVuY2htYXJraW5nLlxuXG4gIGlmIChlbGVtZW50cykge1xuXG4gICAgLy8gaWYgYSBOb2RlICh0aGUgbW9zdCBjb21tb24gY2FzZSlcbiAgICBpZiAoZWxlbWVudHMubm9kZVR5cGUpIHtcbiAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuICAgICAgLy8gaWYgYW4gQXJyYXkgb3IgTm9kZUxpc3QgYW5kIG5vdCBhIFdpbmRvd1xuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGVsZW1lbnRzLndpbmRvdyAhPT0gZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50cztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVDb250cm9sbGVyKGVsZW1lbnQsIG5hbWUpIHtcbiAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyQnICsgKG5hbWUgfHwgJ25nQ29udHJvbGxlcicpICsgJ0NvbnRyb2xsZXInKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAvLyBpZiBlbGVtZW50IGlzIHRoZSBkb2N1bWVudCBvYmplY3Qgd29yayB3aXRoIHRoZSBodG1sIGVsZW1lbnQgaW5zdGVhZFxuICAvLyB0aGlzIG1ha2VzICQoZG9jdW1lbnQpLnNjb3BlKCkgcG9zc2libGVcbiAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT0gTk9ERV9UWVBFX0RPQ1VNRU5UKSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG4gIHZhciBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogW25hbWVdO1xuXG4gIHdoaWxlIChlbGVtZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSA9IGpxTGl0ZS5kYXRhKGVsZW1lbnQsIG5hbWVzW2ldKSkpIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBJZiBkZWFsaW5nIHdpdGggYSBkb2N1bWVudCBmcmFnbWVudCBub2RlIHdpdGggYSBob3N0IGVsZW1lbnQsIGFuZCBubyBwYXJlbnQsIHVzZSB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgYXMgdGhlIHBhcmVudC4gVGhpcyBlbmFibGVzIGRpcmVjdGl2ZXMgd2l0aGluIGEgU2hhZG93IERPTSBvciBwb2x5ZmlsbGVkIFNoYWRvdyBET01cbiAgICAvLyB0byBsb29rdXAgcGFyZW50IGNvbnRyb2xsZXJzLlxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCAmJiBlbGVtZW50Lmhvc3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpIHtcbiAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xuICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZShlbGVtZW50LCBrZWVwRGF0YSkge1xuICBpZiAoIWtlZXBEYXRhKSBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEb2N1bWVudExvYWRlZChhY3Rpb24sIHdpbikge1xuICB3aW4gPSB3aW4gfHwgd2luZG93O1xuICBpZiAod2luLmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAvLyBGb3JjZSB0aGUgYWN0aW9uIHRvIGJlIHJ1biBhc3luYyBmb3IgY29uc2lzdGVudCBiZWhhdmlvclxuICAgIC8vIGZyb20gdGhlIGFjdGlvbidzIHBvaW50IG9mIHZpZXdcbiAgICAvLyBpLmUuIGl0IHdpbGwgZGVmaW5pdGVseSBub3QgYmUgaW4gYSAkYXBwbHlcbiAgICB3aW4uc2V0VGltZW91dChhY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIE5vIG5lZWQgdG8gdW5iaW5kIHRoaXMgaGFuZGxlciBhcyBsb2FkIGlzIG9ubHkgZXZlciBjYWxsZWQgb25jZVxuICAgIGpxTGl0ZSh3aW4pLm9uKCdsb2FkJywgYWN0aW9uKTtcbiAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZ1bmN0aW9ucyB3aGljaCBhcmUgZGVjbGFyZWQgZGlyZWN0bHkuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnZhciBKUUxpdGVQcm90b3R5cGUgPSBKUUxpdGUucHJvdG90eXBlID0ge1xuICByZWFkeTogZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIHRyaWdnZXIoKSB7XG4gICAgICBpZiAoZmlyZWQpIHJldHVybjtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGZuKCk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgZG9jdW1lbnQgaXMgYWxyZWFkeSBsb2FkZWRcbiAgICBpZiAod2luZG93LmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRyaWdnZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uKCdET01Db250ZW50TG9hZGVkJywgdHJpZ2dlcik7IC8vIHdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOVxuICAgICAgLy8gd2UgY2FuIG5vdCB1c2UganFMaXRlIHNpbmNlIHdlIGFyZSBub3QgZG9uZSBsb2FkaW5nIGFuZCBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGxhdGVyLlxuICAgICAgLy8ganNoaW50IC1XMDY0XG4gICAgICBKUUxpdGUod2luZG93KS5vbignbG9hZCcsIHRyaWdnZXIpOyAvLyBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkIGZvciBvdGhlcnNcbiAgICAgIC8vIGpzaGludCArVzA2NFxuICAgIH1cbiAgfSxcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgIGZvckVhY2godGhpcywgZnVuY3Rpb24oZSkgeyB2YWx1ZS5wdXNoKCcnICsgZSk7fSk7XG4gICAgcmV0dXJuICdbJyArIHZhbHVlLmpvaW4oJywgJykgKyAnXSc7XG4gIH0sXG5cbiAgZXE6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gKGluZGV4ID49IDApID8ganFMaXRlKHRoaXNbaW5kZXhdKSA6IGpxTGl0ZSh0aGlzW3RoaXMubGVuZ3RoICsgaW5kZXhdKTtcbiAgfSxcblxuICBsZW5ndGg6IDAsXG4gIHB1c2g6IHB1c2gsXG4gIHNvcnQ6IFtdLnNvcnQsXG4gIHNwbGljZTogW10uc3BsaWNlXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgZ2V0dGVyL3NldHRlcnMuXG4vLyB0aGVzZSBmdW5jdGlvbnMgcmV0dXJuIHNlbGYgb24gc2V0dGVyIGFuZFxuLy8gdmFsdWUgb24gZ2V0LlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgQk9PTEVBTl9BVFRSID0ge307XG5mb3JFYWNoKCdtdWx0aXBsZSxzZWxlY3RlZCxjaGVja2VkLGRpc2FibGVkLHJlYWRPbmx5LHJlcXVpcmVkLG9wZW4nLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gIEJPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXSA9IHZhbHVlO1xufSk7XG52YXIgQk9PTEVBTl9FTEVNRU5UUyA9IHt9O1xuZm9yRWFjaCgnaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xuICBCT09MRUFOX0VMRU1FTlRTW3ZhbHVlXSA9IHRydWU7XG59KTtcbnZhciBBTElBU0VEX0FUVFIgPSB7XG4gICduZ01pbmxlbmd0aCc6ICdtaW5sZW5ndGgnLFxuICAnbmdNYXhsZW5ndGgnOiAnbWF4bGVuZ3RoJyxcbiAgJ25nTWluJzogJ21pbicsXG4gICduZ01heCc6ICdtYXgnLFxuICAnbmdQYXR0ZXJuJzogJ3BhdHRlcm4nXG59O1xuXG5mdW5jdGlvbiBnZXRCb29sZWFuQXR0ck5hbWUoZWxlbWVudCwgbmFtZSkge1xuICAvLyBjaGVjayBkb20gbGFzdCBzaW5jZSB3ZSB3aWxsIG1vc3QgbGlrZWx5IGZhaWwgb24gbmFtZVxuICB2YXIgYm9vbGVhbkF0dHIgPSBCT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblxuICAvLyBib29sZWFuQXR0ciBpcyBoZXJlIHR3aWNlIHRvIG1pbmltaXplIERPTSBhY2Nlc3NcbiAgcmV0dXJuIGJvb2xlYW5BdHRyICYmIEJPT0xFQU5fRUxFTUVOVFNbbm9kZU5hbWVfKGVsZW1lbnQpXSAmJiBib29sZWFuQXR0cjtcbn1cblxuZnVuY3Rpb24gZ2V0QWxpYXNlZEF0dHJOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIEFMSUFTRURfQVRUUltuYW1lXTtcbn1cblxuZm9yRWFjaCh7XG4gIGRhdGE6IGpxTGl0ZURhdGEsXG4gIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXG4gIGhhc0RhdGE6IGpxTGl0ZUhhc0RhdGEsXG4gIGNsZWFuRGF0YToganFMaXRlQ2xlYW5EYXRhXG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICBKUUxpdGVbbmFtZV0gPSBmbjtcbn0pO1xuXG5mb3JFYWNoKHtcbiAgZGF0YToganFMaXRlRGF0YSxcbiAgaW5oZXJpdGVkRGF0YToganFMaXRlSW5oZXJpdGVkRGF0YSxcblxuICBzY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJHNjb3BlJykgfHwganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudCwgWyckaXNvbGF0ZVNjb3BlJywgJyRzY29wZSddKTtcbiAgfSxcblxuICBpc29sYXRlU2NvcGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcbiAgICByZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGUnKSB8fCBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnKTtcbiAgfSxcblxuICBjb250cm9sbGVyOiBqcUxpdGVDb250cm9sbGVyLFxuXG4gIGluamVjdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyRpbmplY3RvcicpO1xuICB9LFxuXG4gIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUpIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfSxcblxuICBoYXNDbGFzczoganFMaXRlSGFzQ2xhc3MsXG5cbiAgY3NzOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBjYW1lbENhc2UobmFtZSk7XG5cbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudC5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtuYW1lXTtcbiAgICB9XG4gIH0sXG5cbiAgYXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xuICAgIGlmIChub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9BVFRSSUJVVEUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBsb3dlcmNhc2VkTmFtZSA9IGxvd2VyY2FzZShuYW1lKTtcbiAgICBpZiAoQk9PTEVBTl9BVFRSW2xvd2VyY2FzZWROYW1lXSkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCEhdmFsdWUpIHtcbiAgICAgICAgICBlbGVtZW50W25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBsb3dlcmNhc2VkTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudFtuYW1lXSA9IGZhbHNlO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGxvd2VyY2FzZWROYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChlbGVtZW50W25hbWVdIHx8XG4gICAgICAgICAgICAgICAgIChlbGVtZW50LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKG5hbWUpIHx8IG5vb3ApLnNwZWNpZmllZClcbiAgICAgICAgICAgICAgID8gbG93ZXJjYXNlZE5hbWVcbiAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgIC8vIHRoZSBleHRyYSBhcmd1bWVudCBcIjJcIiBpcyB0byBnZXQgdGhlIHJpZ2h0IHRoaW5nIGZvciBhLmhyZWYgaW4gSUUsIHNlZSBqUXVlcnkgY29kZVxuICAgICAgLy8gc29tZSBlbGVtZW50cyAoZS5nLiBEb2N1bWVudCkgZG9uJ3QgaGF2ZSBnZXQgYXR0cmlidXRlLCBzbyByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB2YXIgcmV0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSwgMik7XG4gICAgICAvLyBub3JtYWxpemUgbm9uLWV4aXN0aW5nIGF0dHJpYnV0ZXMgdG8gdW5kZWZpbmVkIChhcyBqUXVlcnkpXG4gICAgICByZXR1cm4gcmV0ID09PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuICAgIH1cbiAgfSxcblxuICBwcm9wOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICBlbGVtZW50W25hbWVdID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50W25hbWVdO1xuICAgIH1cbiAgfSxcblxuICB0ZXh0OiAoZnVuY3Rpb24oKSB7XG4gICAgZ2V0VGV4dC4kZHYgPSAnJztcbiAgICByZXR1cm4gZ2V0VGV4dDtcblxuICAgIGZ1bmN0aW9uIGdldFRleHQoZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcbiAgICAgICAgcmV0dXJuIChub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUKSA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiAnJztcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICB9XG4gIH0pKCksXG5cbiAgdmFsOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGlmIChlbGVtZW50Lm11bHRpcGxlICYmIG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3JFYWNoKGVsZW1lbnQub3B0aW9ucywgZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gob3B0aW9uLnZhbHVlIHx8IG9wdGlvbi50ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA9PT0gMCA/IG51bGwgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICB9LFxuXG4gIGh0bWw6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuaW5uZXJIVE1MO1xuICAgIH1cbiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCwgdHJ1ZSk7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgfSxcblxuICBlbXB0eToganFMaXRlRW1wdHlcbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XG4gIC8qKlxuICAgKiBQcm9wZXJ0aWVzOiB3cml0ZXMgcmV0dXJuIHNlbGVjdGlvbiwgcmVhZHMgcmV0dXJuIGZpcnN0IHZhbHVlXG4gICAqL1xuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xuICAgIHZhciBpLCBrZXk7XG4gICAgdmFyIG5vZGVDb3VudCA9IHRoaXMubGVuZ3RoO1xuXG4gICAgLy8ganFMaXRlSGFzQ2xhc3MgaGFzIG9ubHkgdHdvIGFyZ3VtZW50cywgYnV0IGlzIGEgZ2V0dGVyLW9ubHkgZm4sIHNvIHdlIG5lZWQgdG8gc3BlY2lhbC1jYXNlIGl0XG4gICAgLy8gaW4gYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24uXG4gICAgLy8ganFMaXRlRW1wdHkgdGFrZXMgbm8gYXJndW1lbnRzIGJ1dCBpcyBhIHNldHRlci5cbiAgICBpZiAoZm4gIT09IGpxTGl0ZUVtcHR5ICYmXG4gICAgICAgIChpc1VuZGVmaW5lZCgoZm4ubGVuZ3RoID09IDIgJiYgKGZuICE9PSBqcUxpdGVIYXNDbGFzcyAmJiBmbiAhPT0ganFMaXRlQ29udHJvbGxlcikpID8gYXJnMSA6IGFyZzIpKSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGFyZzEpKSB7XG5cbiAgICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIGJ1dCB0aGUgb2JqZWN0IHByb3BlcnRpZXMgYXJlIHRoZSBrZXkvdmFsdWVzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xuICAgICAgICAgIGlmIChmbiA9PT0ganFMaXRlRGF0YSkge1xuICAgICAgICAgICAgLy8gZGF0YSgpIHRha2VzIHRoZSB3aG9sZSBvYmplY3QgaW4galF1ZXJ5XG4gICAgICAgICAgICBmbih0aGlzW2ldLCBhcmcxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gYXJnMSkge1xuICAgICAgICAgICAgICBmbih0aGlzW2ldLCBrZXksIGFyZzFba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBzZWxmIGZvciBjaGFpbmluZ1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHdlIGFyZSBhIHJlYWQsIHNvIHJlYWQgdGhlIGZpcnN0IGNoaWxkLlxuICAgICAgICAvLyBUT0RPOiBkbyB3ZSBzdGlsbCBuZWVkIHRoaXM/XG4gICAgICAgIHZhciB2YWx1ZSA9IGZuLiRkdjtcbiAgICAgICAgLy8gT25seSBpZiB3ZSBoYXZlICRkdiBkbyB3ZSBpdGVyYXRlIG92ZXIgYWxsLCBvdGhlcndpc2UgaXQgaXMganVzdCB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgICAgdmFyIGpqID0gKGlzVW5kZWZpbmVkKHZhbHVlKSkgPyBNYXRoLm1pbihub2RlQ291bnQsIDEpIDogbm9kZUNvdW50O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICB2YXIgbm9kZVZhbHVlID0gZm4odGhpc1tqXSwgYXJnMSwgYXJnMik7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlICsgbm9kZVZhbHVlIDogbm9kZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIHNvIGFwcGx5IHRvIGFsbCBjaGlsZHJlblxuICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICAgIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIpO1xuICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHNlbGYgZm9yIGNoYWluaW5nXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cykge1xuICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIHR5cGUpIHtcbiAgICAvLyBqUXVlcnkgc3BlY2lmaWMgYXBpXG4gICAgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzW3R5cGUgfHwgZXZlbnQudHlwZV07XG4gICAgdmFyIGV2ZW50Rm5zTGVuZ3RoID0gZXZlbnRGbnMgPyBldmVudEZucy5sZW5ndGggOiAwO1xuXG4gICAgaWYgKCFldmVudEZuc0xlbmd0aCkgcmV0dXJuO1xuXG4gICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkpIHtcbiAgICAgIHZhciBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuICAgICAgICAgIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmNhbGwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlO1xuICAgIH07XG5cbiAgICAvLyBTb21lIGV2ZW50cyBoYXZlIHNwZWNpYWwgaGFuZGxlcnMgdGhhdCB3cmFwIHRoZSByZWFsIGhhbmRsZXJcbiAgICB2YXIgaGFuZGxlcldyYXBwZXIgPSBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgfHwgZGVmYXVsdEhhbmRsZXJXcmFwcGVyO1xuXG4gICAgLy8gQ29weSBldmVudCBoYW5kbGVycyBpbiBjYXNlIGV2ZW50IGhhbmRsZXJzIGFycmF5IGlzIG1vZGlmaWVkIGR1cmluZyBleGVjdXRpb24uXG4gICAgaWYgKChldmVudEZuc0xlbmd0aCA+IDEpKSB7XG4gICAgICBldmVudEZucyA9IHNoYWxsb3dDb3B5KGV2ZW50Rm5zKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Rm5zTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBoYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgZXZlbnRGbnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjayBmb3IgYW5ndWxhck1vY2tzL2NsZWFyRGF0YUNhY2hlIHRoYXQgbWFrZXMgaXQgcG9zc2libGUgdG8gZGVyZWdpc3RlciBhbGxcbiAgLy8gICAgICAgZXZlbnRzIG9uIGBlbGVtZW50YFxuICBldmVudEhhbmRsZXIuZWxlbSA9IGVsZW1lbnQ7XG4gIHJldHVybiBldmVudEhhbmRsZXI7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRIYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgaGFuZGxlcikge1xuICBoYW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlcih0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKSB7XG4gIC8vIFJlZmVyIHRvIGpRdWVyeSdzIGltcGxlbWVudGF0aW9uIG9mIG1vdXNlZW50ZXIgJiBtb3VzZWxlYXZlXG4gIC8vIFJlYWQgYWJvdXQgbW91c2VlbnRlciBhbmQgbW91c2VsZWF2ZTpcbiAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9ldmVudHNfbW91c2UuaHRtbCNsaW5rOFxuICB2YXIgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cbiAgLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcbiAgaWYgKCFyZWxhdGVkIHx8IChyZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpxTGl0ZUNvbnRhaW5zLmNhbGwodGFyZ2V0LCByZWxhdGVkKSkpIHtcbiAgICBoYW5kbGVyLmNhbGwodGFyZ2V0LCBldmVudCk7XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgaXRlcmF0aW5nIHRyYXZlcnNhbC5cbi8vIFRoZXNlIGZ1bmN0aW9ucyBjaGFpbiByZXN1bHRzIGludG8gYSBzaW5nbGVcbi8vIHNlbGVjdG9yLlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mb3JFYWNoKHtcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcblxuICBvbjogZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb25hcmdzJywgJ2pxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycycpO1xuXG4gICAgLy8gRG8gbm90IGFkZCBldmVudCBoYW5kbGVycyB0byBub24tZWxlbWVudHMgYmVjYXVzZSB0aGV5IHdpbGwgbm90IGJlIGNsZWFuZWQgdXAuXG4gICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgdHJ1ZSk7XG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgICBpZiAoIWhhbmRsZSkge1xuICAgICAgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZSA9IGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpO1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XG4gICAgdmFyIHR5cGVzID0gdHlwZS5pbmRleE9mKCcgJykgPj0gMCA/IHR5cGUuc3BsaXQoJyAnKSA6IFt0eXBlXTtcbiAgICB2YXIgaSA9IHR5cGVzLmxlbmd0aDtcblxuICAgIHZhciBhZGRIYW5kbGVyID0gZnVuY3Rpb24odHlwZSwgc3BlY2lhbEhhbmRsZXJXcmFwcGVyLCBub0V2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKCFldmVudEZucykge1xuICAgICAgICBldmVudEZucyA9IGV2ZW50c1t0eXBlXSA9IFtdO1xuICAgICAgICBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgPSBzcGVjaWFsSGFuZGxlcldyYXBwZXI7XG4gICAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knICYmICFub0V2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyRm4oZWxlbWVudCwgdHlwZSwgaGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBldmVudEZucy5wdXNoKGZuKTtcbiAgICB9O1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgaWYgKE1PVVNFX0VWRU5UX01BUFt0eXBlXSkge1xuICAgICAgICBhZGRIYW5kbGVyKE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgc3BlY2lhbE1vdXNlSGFuZGxlcldyYXBwZXIpO1xuICAgICAgICBhZGRIYW5kbGVyKHR5cGUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRIYW5kbGVyKHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBvZmY6IGpxTGl0ZU9mZixcblxuICBvbmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcblxuICAgIC8vYWRkIHRoZSBsaXN0ZW5lciB0d2ljZSBzbyB0aGF0IHdoZW4gaXQgaXMgY2FsbGVkXG4gICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlXG4gICAgLy9hYmxlIHRvIGNhbGwgZWxlbWVudC5vZmYoZXYsIGZuKSBub3JtYWxseVxuICAgIGVsZW1lbnQub24odHlwZSwgZnVuY3Rpb24gb25GbigpIHtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIG9uRm4pO1xuICAgIH0pO1xuICAgIGVsZW1lbnQub24odHlwZSwgZm4pO1xuICB9LFxuXG4gIHJlcGxhY2VXaXRoOiBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlTm9kZSkge1xuICAgIHZhciBpbmRleCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcbiAgICBmb3JFYWNoKG5ldyBKUUxpdGUocmVwbGFjZU5vZGUpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBpbmRleC5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH0pO1xuICB9LFxuXG4gIGNoaWxkcmVuOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfSxcblxuICBjb250ZW50czogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LmNvbnRlbnREb2N1bWVudCB8fCBlbGVtZW50LmNoaWxkTm9kZXMgfHwgW107XG4gIH0sXG5cbiAgYXBwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XG4gICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcbiAgICBpZiAobm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UICYmIG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQpIHJldHVybjtcblxuICAgIG5vZGUgPSBuZXcgSlFMaXRlKG5vZGUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbm9kZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9LFxuXG4gIHByZXBlbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgIHZhciBpbmRleCA9IGVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICAgIGZvckVhY2gobmV3IEpRTGl0ZShub2RlKSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICB3cmFwOiBmdW5jdGlvbihlbGVtZW50LCB3cmFwTm9kZSkge1xuICAgIGpxTGl0ZVdyYXBOb2RlKGVsZW1lbnQsIGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXSk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBqcUxpdGVSZW1vdmUsXG5cbiAgZGV0YWNoOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAganFMaXRlUmVtb3ZlKGVsZW1lbnQsIHRydWUpO1xuICB9LFxuXG4gIGFmdGVyOiBmdW5jdGlvbihlbGVtZW50LCBuZXdFbGVtZW50KSB7XG4gICAgdmFyIGluZGV4ID0gZWxlbWVudCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIG5ld0VsZW1lbnQgPSBuZXcgSlFMaXRlKG5ld0VsZW1lbnQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmV3RWxlbWVudC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgbm9kZSA9IG5ld0VsZW1lbnRbaV07XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcbiAgICAgIGluZGV4ID0gbm9kZTtcbiAgICB9XG4gIH0sXG5cbiAgYWRkQ2xhc3M6IGpxTGl0ZUFkZENsYXNzLFxuICByZW1vdmVDbGFzczoganFMaXRlUmVtb3ZlQ2xhc3MsXG5cbiAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yLCBjb25kaXRpb24pIHtcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGZvckVhY2goc2VsZWN0b3Iuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc0NvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNsYXNzQ29uZGl0aW9uKSkge1xuICAgICAgICAgIGNsYXNzQ29uZGl0aW9uID0gIWpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgKGNsYXNzQ29uZGl0aW9uID8ganFMaXRlQWRkQ2xhc3MgOiBqcUxpdGVSZW1vdmVDbGFzcykoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBwYXJlbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgPyBwYXJlbnQgOiBudWxsO1xuICB9LFxuXG4gIG5leHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gIH0sXG5cbiAgZmluZDogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICBpZiAoZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9LFxuXG4gIGNsb25lOiBqcUxpdGVDbG9uZSxcblxuICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGV4dHJhUGFyYW1ldGVycykge1xuXG4gICAgdmFyIGR1bW15RXZlbnQsIGV2ZW50Rm5zQ29weSwgaGFuZGxlckFyZ3M7XG4gICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50LnR5cGUgfHwgZXZlbnQ7XG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcbiAgICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzICYmIGV2ZW50c1tldmVudE5hbWVdO1xuXG4gICAgaWYgKGV2ZW50Rm5zKSB7XG4gICAgICAvLyBDcmVhdGUgYSBkdW1teSBldmVudCB0byBwYXNzIHRvIHRoZSBoYW5kbGVyc1xuICAgICAgZHVtbXlFdmVudCA9IHtcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9LFxuICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkID09PSB0cnVlOyB9LFxuICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkgeyB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7IH0sXG4gICAgICAgIGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlOyB9LFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IG5vb3AsXG4gICAgICAgIHR5cGU6IGV2ZW50TmFtZSxcbiAgICAgICAgdGFyZ2V0OiBlbGVtZW50XG4gICAgICB9O1xuXG4gICAgICAvLyBJZiBhIGN1c3RvbSBldmVudCB3YXMgcHJvdmlkZWQgdGhlbiBleHRlbmQgb3VyIGR1bW15IGV2ZW50IHdpdGggaXRcbiAgICAgIGlmIChldmVudC50eXBlKSB7XG4gICAgICAgIGR1bW15RXZlbnQgPSBleHRlbmQoZHVtbXlFdmVudCwgZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3B5IGV2ZW50IGhhbmRsZXJzIGluIGNhc2UgZXZlbnQgaGFuZGxlcnMgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIGV4ZWN1dGlvbi5cbiAgICAgIGV2ZW50Rm5zQ29weSA9IHNoYWxsb3dDb3B5KGV2ZW50Rm5zKTtcbiAgICAgIGhhbmRsZXJBcmdzID0gZXh0cmFQYXJhbWV0ZXJzID8gW2R1bW15RXZlbnRdLmNvbmNhdChleHRyYVBhcmFtZXRlcnMpIDogW2R1bW15RXZlbnRdO1xuXG4gICAgICBmb3JFYWNoKGV2ZW50Rm5zQ29weSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKCFkdW1teUV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICBmbi5hcHBseShlbGVtZW50LCBoYW5kbGVyQXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcbiAgLyoqXG4gICAqIGNoYWluaW5nIGZ1bmN0aW9uc1xuICAgKi9cbiAgSlFMaXRlLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICB2YXIgdmFsdWU7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAvLyBhbnkgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHZhbHVlIG5lZWRzIHRvIGJlIHdyYXBwZWRcbiAgICAgICAgICB2YWx1ZSA9IGpxTGl0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpxTGl0ZUFkZE5vZGVzKHZhbHVlLCBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzO1xuICB9O1xuXG4gIC8vIGJpbmQgbGVnYWN5IGJpbmQvdW5iaW5kIHRvIG9uL29mZlxuICBKUUxpdGUucHJvdG90eXBlLmJpbmQgPSBKUUxpdGUucHJvdG90eXBlLm9uO1xuICBKUUxpdGUucHJvdG90eXBlLnVuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub2ZmO1xufSk7XG5cblxuLy8gUHJvdmlkZXIgZm9yIHByaXZhdGUgJCRqcUxpdGUgc2VydmljZVxuZnVuY3Rpb24gJCRqcUxpdGVQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gJCRqcUxpdGUoKSB7XG4gICAgcmV0dXJuIGV4dGVuZChKUUxpdGUsIHtcbiAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xuICAgICAgICByZXR1cm4ganFMaXRlSGFzQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XG4gICAgICB9LFxuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XG4gICAgICAgIHJldHVybiBqcUxpdGVBZGRDbGFzcyhub2RlLCBjbGFzc2VzKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcbiAgICAgICAgcmV0dXJuIGpxTGl0ZVJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGEgaGFzaCBvZiBhbiAnb2JqJy5cbiAqIEhhc2ggb2YgYTpcbiAqICBzdHJpbmcgaXMgc3RyaW5nXG4gKiAgbnVtYmVyIGlzIG51bWJlciBhcyBzdHJpbmdcbiAqICBvYmplY3QgaXMgZWl0aGVyIHJlc3VsdCBvZiBjYWxsaW5nICQkaGFzaEtleSBmdW5jdGlvbiBvbiB0aGUgb2JqZWN0IG9yIHVuaXF1ZWx5IGdlbmVyYXRlZCBpZCxcbiAqICAgICAgICAgdGhhdCBpcyBhbHNvIGFzc2lnbmVkIHRvIHRoZSAkJGhhc2hLZXkgcHJvcGVydHkgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gb2JqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBoYXNoIHN0cmluZyBzdWNoIHRoYXQgdGhlIHNhbWUgaW5wdXQgd2lsbCBoYXZlIHRoZSBzYW1lIGhhc2ggc3RyaW5nLlxuICogICAgICAgICBUaGUgcmVzdWx0aW5nIHN0cmluZyBrZXkgaXMgaW4gJ3R5cGU6aGFzaEtleScgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBoYXNoS2V5KG9iaiwgbmV4dFVpZEZuKSB7XG4gIHZhciBrZXkgPSBvYmogJiYgb2JqLiQkaGFzaEtleTtcblxuICBpZiAoa2V5KSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGtleSA9IG9iai4kJGhhc2hLZXkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIHZhciBvYmpUeXBlID0gdHlwZW9mIG9iajtcbiAgaWYgKG9ialR5cGUgPT0gJ2Z1bmN0aW9uJyB8fCAob2JqVHlwZSA9PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpKSB7XG4gICAga2V5ID0gb2JqLiQkaGFzaEtleSA9IG9ialR5cGUgKyAnOicgKyAobmV4dFVpZEZuIHx8IG5leHRVaWQpKCk7XG4gIH0gZWxzZSB7XG4gICAga2V5ID0gb2JqVHlwZSArICc6JyArIG9iajtcbiAgfVxuXG4gIHJldHVybiBrZXk7XG59XG5cbi8qKlxuICogSGFzaE1hcCB3aGljaCBjYW4gdXNlIG9iamVjdHMgYXMga2V5c1xuICovXG5mdW5jdGlvbiBIYXNoTWFwKGFycmF5LCBpc29sYXRlZFVpZCkge1xuICBpZiAoaXNvbGF0ZWRVaWQpIHtcbiAgICB2YXIgdWlkID0gMDtcbiAgICB0aGlzLm5leHRVaWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiArK3VpZDtcbiAgICB9O1xuICB9XG4gIGZvckVhY2goYXJyYXksIHRoaXMucHV0LCB0aGlzKTtcbn1cbkhhc2hNYXAucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogU3RvcmUga2V5IHZhbHVlIHBhaXJcbiAgICogQHBhcmFtIGtleSBrZXkgdG8gc3RvcmUgY2FuIGJlIGFueSB0eXBlXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSB0byBzdG9yZSBjYW4gYmUgYW55IHR5cGVcbiAgICovXG4gIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHRoaXNbaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldID0gdmFsdWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHJldHVybnMge09iamVjdH0gdGhlIHZhbHVlIGZvciB0aGUga2V5XG4gICAqL1xuICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB0aGlzW2hhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBrZXkvdmFsdWUgcGFpclxuICAgKiBAcGFyYW0ga2V5XG4gICAqL1xuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXNba2V5ID0gaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldO1xuICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG52YXIgJCRIYXNoTWFwUHJvdmlkZXIgPSBbZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFtmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSGFzaE1hcDtcbiAgfV07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBuYW1lIGFuZ3VsYXIuaW5qZWN0b3JcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIGluamVjdG9yIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGZvciByZXRyaWV2aW5nIHNlcnZpY2VzIGFzIHdlbGwgYXMgZm9yXG4gKiBkZXBlbmRlbmN5IGluamVjdGlvbiAoc2VlIHtAbGluayBndWlkZS9kaSBkZXBlbmRlbmN5IGluamVjdGlvbn0pLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IG1vZHVsZXMgQSBsaXN0IG9mIG1vZHVsZSBmdW5jdGlvbnMgb3IgdGhlaXIgYWxpYXNlcy4gU2VlXG4gKiAgICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlfS4gVGhlIGBuZ2AgbW9kdWxlIG11c3QgYmUgZXhwbGljaXRseSBhZGRlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gV2hldGhlciB0aGUgaW5qZWN0b3Igc2hvdWxkIGJlIGluIHN0cmljdCBtb2RlLCB3aGljaFxuICogICAgIGRpc2FsbG93cyBhcmd1bWVudCBuYW1lIGFubm90YXRpb24gaW5mZXJlbmNlLlxuICogQHJldHVybnMge2luamVjdG9yfSBJbmplY3RvciBvYmplY3QuIFNlZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogVHlwaWNhbCB1c2FnZVxuICogYGBganNcbiAqICAgLy8gY3JlYXRlIGFuIGluamVjdG9yXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnXSk7XG4gKlxuICogICAvLyB1c2UgdGhlIGluamVjdG9yIHRvIGtpY2sgb2ZmIHlvdXIgYXBwbGljYXRpb25cbiAqICAgLy8gdXNlIHRoZSB0eXBlIGluZmVyZW5jZSB0byBhdXRvIGluamVjdCBhcmd1bWVudHMsIG9yIHVzZSBpbXBsaWNpdCBpbmplY3Rpb25cbiAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJGRvY3VtZW50KSB7XG4gKiAgICAgJGNvbXBpbGUoJGRvY3VtZW50KSgkcm9vdFNjb3BlKTtcbiAqICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBTb21ldGltZXMgeW91IHdhbnQgdG8gZ2V0IGFjY2VzcyB0byB0aGUgaW5qZWN0b3Igb2YgYSBjdXJyZW50bHkgcnVubmluZyBBbmd1bGFyIGFwcFxuICogZnJvbSBvdXRzaWRlIEFuZ3VsYXIuIFBlcmhhcHMsIHlvdSB3YW50IHRvIGluamVjdCBhbmQgY29tcGlsZSBzb21lIG1hcmt1cCBhZnRlciB0aGVcbiAqIGFwcGxpY2F0aW9uIGhhcyBiZWVuIGJvb3RzdHJhcHBlZC4gWW91IGNhbiBkbyB0aGlzIHVzaW5nIHRoZSBleHRyYSBgaW5qZWN0b3IoKWAgYWRkZWRcbiAqIHRvIEpRdWVyeS9qcUxpdGUgZWxlbWVudHMuIFNlZSB7QGxpbmsgYW5ndWxhci5lbGVtZW50fS5cbiAqXG4gKiAqVGhpcyBpcyBmYWlybHkgcmFyZSBidXQgY291bGQgYmUgdGhlIGNhc2UgaWYgYSB0aGlyZCBwYXJ0eSBsaWJyYXJ5IGlzIGluamVjdGluZyB0aGVcbiAqIG1hcmt1cC4qXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlIGEgbmV3IGJsb2NrIG9mIEhUTUwgY29udGFpbmluZyBhIGBuZy1jb250cm9sbGVyYFxuICogZGlyZWN0aXZlIGlzIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IGJvZHkgYnkgSlF1ZXJ5LiBXZSB0aGVuIGNvbXBpbGUgYW5kIGxpbmtcbiAqIGl0IGludG8gdGhlIGN1cnJlbnQgQW5ndWxhckpTIHNjb3BlLlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgJGRpdiA9ICQoJzxkaXYgbmctY29udHJvbGxlcj1cIk15Q3RybFwiPnt7Y29udGVudC5sYWJlbH19PC9kaXY+Jyk7XG4gKiAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCgkZGl2KTtcbiAqXG4gKiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmluamVjdG9yKCkuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gKiAgIHZhciBzY29wZSA9IGFuZ3VsYXIuZWxlbWVudCgkZGl2KS5zY29wZSgpO1xuICogICAkY29tcGlsZSgkZGl2KShzY29wZSk7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBhdXRvXG4gKiBAaW5zdGFsbGF0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbXBsaWNpdCBtb2R1bGUgd2hpY2ggZ2V0cyBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2gge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gKi9cblxudmFyIEFSUk9XX0FSRyA9IC9eKFteXFwoXSs/KT0+LztcbnZhciBGTl9BUkdTID0gL15bXlxcKF0qXFwoXFxzKihbXlxcKV0qKVxcKS9tO1xudmFyIEZOX0FSR19TUExJVCA9IC8sLztcbnZhciBGTl9BUkcgPSAvXlxccyooXz8pKFxcUys/KVxcMVxccyokLztcbnZhciBTVFJJUF9DT01NRU5UUyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZztcbnZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuXG5mdW5jdGlvbiBzdHJpbmdpZnlGbihmbikge1xuICAvLyBTdXBwb3J0OiBDaHJvbWUgNTAtNTEgb25seVxuICAvLyBDcmVhdGluZyBhIG5ldyBzdHJpbmcgYnkgYWRkaW5nIGAnICdgIGF0IHRoZSBlbmQsIHRvIGhhY2sgYXJvdW5kIHNvbWUgYnVnIGluIENocm9tZSB2NTAvNTFcbiAgLy8gKFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNDQ4Ny4pXG4gIC8vIFRPRE8gKGdrYWxwYWspOiBSZW1vdmUgd29ya2Fyb3VuZCB3aGVuIENocm9tZSB2NTIgaXMgcmVsZWFzZWRcbiAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZuKSArICcgJztcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEFyZ3MoZm4pIHtcbiAgdmFyIGZuVGV4dCA9IHN0cmluZ2lmeUZuKGZuKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyksXG4gICAgICBhcmdzID0gZm5UZXh0Lm1hdGNoKEFSUk9XX0FSRykgfHwgZm5UZXh0Lm1hdGNoKEZOX0FSR1MpO1xuICByZXR1cm4gYXJncztcbn1cblxuZnVuY3Rpb24gYW5vbkZuKGZuKSB7XG4gIC8vIEZvciBhbm9ueW1vdXMgZnVuY3Rpb25zLCBzaG93aW5nIGF0IHRoZSB2ZXJ5IGxlYXN0IHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgY2FuIGhlbHAgaW5cbiAgLy8gZGVidWdnaW5nLlxuICB2YXIgYXJncyA9IGV4dHJhY3RBcmdzKGZuKTtcbiAgaWYgKGFyZ3MpIHtcbiAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyAoYXJnc1sxXSB8fCAnJykucmVwbGFjZSgvW1xcc1xcclxcbl0rLywgJyAnKSArICcpJztcbiAgfVxuICByZXR1cm4gJ2ZuJztcbn1cblxuZnVuY3Rpb24gYW5ub3RhdGUoZm4sIHN0cmljdERpLCBuYW1lKSB7XG4gIHZhciAkaW5qZWN0LFxuICAgICAgYXJnRGVjbCxcbiAgICAgIGxhc3Q7XG5cbiAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghKCRpbmplY3QgPSBmbi4kaW5qZWN0KSkge1xuICAgICAgJGluamVjdCA9IFtdO1xuICAgICAgaWYgKGZuLmxlbmd0aCkge1xuICAgICAgICBpZiAoc3RyaWN0RGkpIHtcbiAgICAgICAgICBpZiAoIWlzU3RyaW5nKG5hbWUpIHx8ICFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gZm4ubmFtZSB8fCBhbm9uRm4oZm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3N0cmljdGRpJyxcbiAgICAgICAgICAgICd7MH0gaXMgbm90IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gYW5kIGNhbm5vdCBiZSBpbnZva2VkIGluIHN0cmljdCBtb2RlJywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJnRGVjbCA9IGV4dHJhY3RBcmdzKGZuKTtcbiAgICAgICAgZm9yRWFjaChhcmdEZWNsWzFdLnNwbGl0KEZOX0FSR19TUExJVCksIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgIGFyZy5yZXBsYWNlKEZOX0FSRywgZnVuY3Rpb24oYWxsLCB1bmRlcnNjb3JlLCBuYW1lKSB7XG4gICAgICAgICAgICAkaW5qZWN0LnB1c2gobmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZm4uJGluamVjdCA9ICRpbmplY3Q7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgbGFzdCA9IGZuLmxlbmd0aCAtIDE7XG4gICAgYXNzZXJ0QXJnRm4oZm5bbGFzdF0sICdmbicpO1xuICAgICRpbmplY3QgPSBmbi5zbGljZSgwLCBsYXN0KTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnRBcmdGbihmbiwgJ2ZuJywgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuICRpbmplY3Q7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkaW5qZWN0b3JcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgJGluamVjdG9yYCBpcyB1c2VkIHRvIHJldHJpZXZlIG9iamVjdCBpbnN0YW5jZXMgYXMgZGVmaW5lZCBieVxuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUgcHJvdmlkZXJ9LCBpbnN0YW50aWF0ZSB0eXBlcywgaW52b2tlIG1ldGhvZHMsXG4gKiBhbmQgbG9hZCBtb2R1bGVzLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgYWx3YXlzIGhvbGRzIHRydWU6XG4gKlxuICogYGBganNcbiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoKTtcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5nZXQoJyRpbmplY3RvcicpKS50b0JlKCRpbmplY3Rvcik7XG4gKiAgIGV4cGVjdCgkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICogICAgIHJldHVybiAkaW5qZWN0b3I7XG4gKiAgIH0pKS50b0JlKCRpbmplY3Rvcik7XG4gKiBgYGBcbiAqXG4gKiAjIEluamVjdGlvbiBGdW5jdGlvbiBBbm5vdGF0aW9uXG4gKlxuICogSmF2YVNjcmlwdCBkb2VzIG5vdCBoYXZlIGFubm90YXRpb25zLCBhbmQgYW5ub3RhdGlvbnMgYXJlIG5lZWRlZCBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24uIFRoZVxuICogZm9sbG93aW5nIGFyZSBhbGwgdmFsaWQgd2F5cyBvZiBhbm5vdGF0aW5nIGZ1bmN0aW9uIHdpdGggaW5qZWN0aW9uIGFyZ3VtZW50cyBhbmQgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogYGBganNcbiAqICAgLy8gaW5mZXJyZWQgKG9ubHkgd29ya3MgaWYgY29kZSBub3QgbWluaWZpZWQvb2JmdXNjYXRlZClcbiAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbihzZXJ2aWNlQSl7fSk7XG4gKlxuICogICAvLyBhbm5vdGF0ZWRcbiAqICAgZnVuY3Rpb24gZXhwbGljaXQoc2VydmljZUEpIHt9O1xuICogICBleHBsaWNpdC4kaW5qZWN0ID0gWydzZXJ2aWNlQSddO1xuICogICAkaW5qZWN0b3IuaW52b2tlKGV4cGxpY2l0KTtcbiAqXG4gKiAgIC8vIGlubGluZVxuICogICAkaW5qZWN0b3IuaW52b2tlKFsnc2VydmljZUEnLCBmdW5jdGlvbihzZXJ2aWNlQSl7fV0pO1xuICogYGBgXG4gKlxuICogIyMgSW5mZXJlbmNlXG4gKlxuICogSW4gSmF2YVNjcmlwdCBjYWxsaW5nIGB0b1N0cmluZygpYCBvbiBhIGZ1bmN0aW9uIHJldHVybnMgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24uIFRoZSBkZWZpbml0aW9uXG4gKiBjYW4gdGhlbiBiZSBwYXJzZWQgYW5kIHRoZSBmdW5jdGlvbiBhcmd1bWVudHMgY2FuIGJlIGV4dHJhY3RlZC4gVGhpcyBtZXRob2Qgb2YgZGlzY292ZXJpbmdcbiAqIGFubm90YXRpb25zIGlzIGRpc2FsbG93ZWQgd2hlbiB0aGUgaW5qZWN0b3IgaXMgaW4gc3RyaWN0IG1vZGUuXG4gKiAqTk9URToqIFRoaXMgZG9lcyBub3Qgd29yayB3aXRoIG1pbmlmaWNhdGlvbiwgYW5kIG9iZnVzY2F0aW9uIHRvb2xzIHNpbmNlIHRoZXNlIHRvb2xzIGNoYW5nZSB0aGVcbiAqIGFyZ3VtZW50IG5hbWVzLlxuICpcbiAqICMjIGAkaW5qZWN0YCBBbm5vdGF0aW9uXG4gKiBCeSBhZGRpbmcgYW4gYCRpbmplY3RgIHByb3BlcnR5IG9udG8gYSBmdW5jdGlvbiB0aGUgaW5qZWN0aW9uIHBhcmFtZXRlcnMgY2FuIGJlIHNwZWNpZmllZC5cbiAqXG4gKiAjIyBJbmxpbmVcbiAqIEFzIGFuIGFycmF5IG9mIGluamVjdGlvbiBuYW1lcywgd2hlcmUgdGhlIGxhc3QgaXRlbSBpbiB0aGUgYXJyYXkgaXMgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjZ2V0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gYW4gaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlIHRvIHJldHJpZXZlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBjYWxsZXIgQW4gb3B0aW9uYWwgc3RyaW5nIHRvIHByb3ZpZGUgdGhlIG9yaWdpbiBvZiB0aGUgZnVuY3Rpb24gY2FsbCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcmV0dXJuIHsqfSBUaGUgaW5zdGFuY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW52b2tlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJbnZva2UgdGhlIG1ldGhvZCBhbmQgc3VwcGx5IHRoZSBtZXRob2QgYXJndW1lbnRzIGZyb20gdGhlIGAkaW5qZWN0b3JgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIFRoZSBpbmplY3RhYmxlIGZ1bmN0aW9uIHRvIGludm9rZS4gRnVuY3Rpb24gcGFyYW1ldGVycyBhcmVcbiAqICAgaW5qZWN0ZWQgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgZ3VpZGUvZGkgJGluamVjdCBBbm5vdGF0aW9ufSBydWxlcy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZiBUaGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2QuXG4gKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXG4gKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBpbnZva2VkIGBmbmAgZnVuY3Rpb24uXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaGFzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcXVlcnkgaWYgdGhlIHBhcnRpY3VsYXIgc2VydmljZSBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgc2VydmljZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaW5qZWN0b3IgaGFzIGdpdmVuIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW5zdGFudGlhdGVcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEpTIHR5cGUuIFRoZSBtZXRob2QgdGFrZXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaW52b2tlcyB0aGUgbmV3XG4gKiBvcGVyYXRvciwgYW5kIHN1cHBsaWVzIGFsbCBvZiB0aGUgYXJndW1lbnRzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBhcyBzcGVjaWZpZWQgYnkgdGhlXG4gKiBjb25zdHJ1Y3RvciBhbm5vdGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFR5cGUgQW5ub3RhdGVkIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXG4gKiBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxuICogQHJldHVybnMge09iamVjdH0gbmV3IGluc3RhbmNlIG9mIGBUeXBlYC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNhbm5vdGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBhbiBhcnJheSBvZiBzZXJ2aWNlIG5hbWVzIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyByZXF1ZXN0aW5nIGZvciBpbmplY3Rpb24uIFRoaXMgQVBJIGlzXG4gKiB1c2VkIGJ5IHRoZSBpbmplY3RvciB0byBkZXRlcm1pbmUgd2hpY2ggc2VydmljZXMgbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbiB3aGVuIHRoZVxuICogZnVuY3Rpb24gaXMgaW52b2tlZC4gVGhlcmUgYXJlIHRocmVlIHdheXMgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGNhbiBiZSBhbm5vdGF0ZWQgd2l0aCB0aGUgbmVlZGVkXG4gKiBkZXBlbmRlbmNpZXMuXG4gKlxuICogIyBBcmd1bWVudCBuYW1lc1xuICpcbiAqIFRoZSBzaW1wbGVzdCBmb3JtIGlzIHRvIGV4dHJhY3QgdGhlIGRlcGVuZGVuY2llcyBmcm9tIHRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIGlzIGRvbmVcbiAqIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIGludG8gYSBzdHJpbmcgdXNpbmcgYHRvU3RyaW5nKClgIG1ldGhvZCBhbmQgZXh0cmFjdGluZyB0aGUgYXJndW1lbnRcbiAqIG5hbWVzLlxuICogYGBganNcbiAqICAgLy8gR2l2ZW5cbiAqICAgZnVuY3Rpb24gTXlDb250cm9sbGVyKCRzY29wZSwgJHJvdXRlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1cbiAqXG4gKiAgIC8vIFRoZW5cbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBkaXNhbGxvdyB0aGlzIG1ldGhvZCBieSB1c2luZyBzdHJpY3QgaW5qZWN0aW9uIG1vZGUuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayB3aXRoIGNvZGUgbWluaWZpY2F0aW9uIC8gb2JmdXNjYXRpb24uIEZvciB0aGlzIHJlYXNvbiB0aGUgZm9sbG93aW5nXG4gKiBhbm5vdGF0aW9uIHN0cmF0ZWdpZXMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiAjIFRoZSBgJGluamVjdGAgcHJvcGVydHlcbiAqXG4gKiBJZiBhIGZ1bmN0aW9uIGhhcyBhbiBgJGluamVjdGAgcHJvcGVydHkgYW5kIGl0cyB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIHRoZSBzdHJpbmdzXG4gKiByZXByZXNlbnQgbmFtZXMgb2Ygc2VydmljZXMgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZnVuY3Rpb24uXG4gKiBgYGBqc1xuICogICAvLyBHaXZlblxuICogICB2YXIgTXlDb250cm9sbGVyID0gZnVuY3Rpb24ob2JmdXNjYXRlZFNjb3BlLCBvYmZ1c2NhdGVkUm91dGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfVxuICogICAvLyBEZWZpbmUgZnVuY3Rpb24gZGVwZW5kZW5jaWVzXG4gKiAgIE15Q29udHJvbGxlclsnJGluamVjdCddID0gWyckc2NvcGUnLCAnJHJvdXRlJ107XG4gKlxuICogICAvLyBUaGVuXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcbiAqIGBgYFxuICpcbiAqICMgVGhlIGFycmF5IG5vdGF0aW9uXG4gKlxuICogSXQgaXMgb2Z0ZW4gZGVzaXJhYmxlIHRvIGlubGluZSBJbmplY3RlZCBmdW5jdGlvbnMgYW5kIHRoYXQncyB3aGVuIHNldHRpbmcgdGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxuICogaXMgdmVyeSBpbmNvbnZlbmllbnQuIEluIHRoZXNlIHNpdHVhdGlvbnMgdXNpbmcgdGhlIGFycmF5IG5vdGF0aW9uIHRvIHNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBpblxuICogYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24gaXMgYSBiZXR0ZXIgY2hvaWNlOlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIFdlIHdpc2ggdG8gd3JpdGUgdGhpcyAobm90IG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uIHNhZmUpXG4gKiAgIGluamVjdG9yLmludm9rZShmdW5jdGlvbigkY29tcGlsZSwgJHJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9KTtcbiAqXG4gKiAgIC8vIFdlIGFyZSBmb3JjZWQgdG8gd3JpdGUgYnJlYWsgaW5saW5pbmdcbiAqICAgdmFyIHRtcEZuID0gZnVuY3Rpb24ob2JmdXNjYXRlZENvbXBpbGUsIG9iZnVzY2F0ZWRSb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfTtcbiAqICAgdG1wRm4uJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddO1xuICogICBpbmplY3Rvci5pbnZva2UodG1wRm4pO1xuICpcbiAqICAgLy8gVG8gYmV0dGVyIHN1cHBvcnQgaW5saW5lIGZ1bmN0aW9uIHRoZSBpbmxpbmUgYW5ub3RhdGlvbiBpcyBzdXBwb3J0ZWRcbiAqICAgaW5qZWN0b3IuaW52b2tlKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZkNvbXBpbGUsIG9iZlJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XSk7XG4gKlxuICogICAvLyBUaGVyZWZvcmVcbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKFxuICogICAgICBbJyRjb21waWxlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihvYmZ1c18kY29tcGlsZSwgb2JmdXNfJHJvb3RTY29wZSkge31dKVxuICogICAgKS50b0VxdWFsKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIEZ1bmN0aW9uIGZvciB3aGljaCBkZXBlbmRlbnQgc2VydmljZSBuYW1lcyBuZWVkIHRvXG4gKiBiZSByZXRyaWV2ZWQgYXMgZGVzY3JpYmVkIGFib3ZlLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gRGlzYWxsb3cgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IFRoZSBuYW1lcyBvZiB0aGUgc2VydmljZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIHJlcXVpcmVzLlxuICovXG5cblxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwcm92aWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhIG51bWJlciBvZiBtZXRob2RzIGZvciByZWdpc3RlcmluZyBjb21wb25lbnRzXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gTWFueSBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFsc28gZXhwb3NlZCBvblxuICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfS5cbiAqXG4gKiBBbiBBbmd1bGFyICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxuICogZmFjdG9yaWVzKiogYXJlIGZ1bmN0aW9ucyB3aGljaCwgaW4gdHVybiwgYXJlIGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKi5cbiAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYVxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXG4gKlxuICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGVcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcbiAqIGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlICoqc2VydmljZSoqLlxuICpcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXG4gKiBwcm92aWRlci4gIFRoZSBwcm92aWRlciB3aWxsIGJlIG5vIG1vcmUgdGhhbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggYSBgJGdldGAgcHJvcGVydHkuIEZvclxuICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cbiAqXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKG5hbWUsIHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZVxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50IGNvbnN0YW50KG5hbWUsIG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XG4gKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUobmFtZSwgb2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxuICogICAgIHNlcnZpY2VzLCBub3QgcHJvdmlkZXJzLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkobmFtZSwgZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKipcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgY29udGFpbiB0aGVcbiAqICAgICBnaXZlbiBmYWN0b3J5IGZ1bmN0aW9uLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2UobmFtZSwgRm4pfSAtIHJlZ2lzdGVycyBhICoqY29uc3RydWN0b3IgZnVuY3Rpb24qKlxuICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBpbnN0YW50aWF0ZVxuICogICAgICBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yKG5hbWUsIGRlY29yRm4pfSAtIHJlZ2lzdGVycyBhICoqZGVjb3JhdG9yIGZ1bmN0aW9uKiogdGhhdFxuICogICAgICB3aWxsIGJlIGFibGUgdG8gbW9kaWZ5IG9yIHJlcGxhY2UgdGhlIGltcGxlbWVudGF0aW9uIG9mIGFub3RoZXIgc2VydmljZS5cbiAqXG4gKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9uc1xuICogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucywgd2hvc2UgaW5zdGFuY2VzIGFyZSByZXNwb25zaWJsZSBmb3IgXCJwcm92aWRpbmdcIiBhIGZhY3RvcnkgZm9yIGFcbiAqIHNlcnZpY2UuXG4gKlxuICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLlxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciAkbG9nUHJvdmlkZXJ9LlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcbiAqIGFuZCBpdHMgc2VydmljZS4gSW1wb3J0YW50bHksIHlvdSBjYW4gY29uZmlndXJlIHdoYXQga2luZCBvZiBzZXJ2aWNlIGlzIGNyZWF0ZWQgYnkgdGhlIGAkZ2V0YFxuICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYVxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cbiAqIHdoaWNoIGxldHMgeW91IHNwZWNpZnkgd2hldGhlciB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB3aWxsIGxvZyBkZWJ1ZyBtZXNzYWdlcyB0byB0aGVcbiAqIGNvbnNvbGUgb3Igbm90LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4gTk9URTogdGhlIHByb3ZpZGVyIHdpbGwgYmUgYXZhaWxhYmxlIHVuZGVyIGBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlcidgIGtleS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbigpKX0gcHJvdmlkZXIgSWYgdGhlIHByb3ZpZGVyIGlzOlxuICpcbiAqICAgLSBgT2JqZWN0YDogdGhlbiBpdCBzaG91bGQgaGF2ZSBhIGAkZ2V0YCBtZXRob2QuIFRoZSBgJGdldGAgbWV0aG9kIHdpbGwgYmUgaW52b2tlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgJGluamVjdG9yLmludm9rZSgpfSB3aGVuIGFuIGluc3RhbmNlIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIC0gYENvbnN0cnVjdG9yYDogYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGVyIHdpbGwgYmUgY3JlYXRlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnN0YW50aWF0ZSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoKX0sIHRoZW4gdHJlYXRlZCBhcyBgb2JqZWN0YC5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG5cbiAqIEBleGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjcmVhdGUgYSBzaW1wbGUgZXZlbnQgdHJhY2tpbmcgc2VydmljZSBhbmQgcmVnaXN0ZXIgaXQgdXNpbmdcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICpcbiAqIGBgYGpzXG4gKiAgLy8gRGVmaW5lIHRoZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICBmdW5jdGlvbiBFdmVudFRyYWNrZXJQcm92aWRlcigpIHtcbiAqICAgIHZhciB0cmFja2luZ1VybCA9ICcvdHJhY2snO1xuICpcbiAqICAgIC8vIEEgcHJvdmlkZXIgbWV0aG9kIGZvciBjb25maWd1cmluZyB3aGVyZSB0aGUgdHJhY2tlZCBldmVudHMgc2hvdWxkIGJlZW4gc2F2ZWRcbiAqICAgIHRoaXMuc2V0VHJhY2tpbmdVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAqICAgICAgdHJhY2tpbmdVcmwgPSB1cmw7XG4gKiAgICB9O1xuICpcbiAqICAgIC8vIFRoZSBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb25cbiAqICAgIHRoaXMuJGdldCA9IFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICogICAgICB2YXIgdHJhY2tlZEV2ZW50cyA9IHt9O1xuICogICAgICByZXR1cm4ge1xuICogICAgICAgIC8vIENhbGwgdGhpcyB0byB0cmFjayBhbiBldmVudFxuICogICAgICAgIGV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICogICAgICAgICAgdmFyIGNvdW50ID0gdHJhY2tlZEV2ZW50c1tldmVudF0gfHwgMDtcbiAqICAgICAgICAgIGNvdW50ICs9IDE7XG4gKiAgICAgICAgICB0cmFja2VkRXZlbnRzW2V2ZW50XSA9IGNvdW50O1xuICogICAgICAgICAgcmV0dXJuIGNvdW50O1xuICogICAgICAgIH0sXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHNhdmUgdGhlIHRyYWNrZWQgZXZlbnRzIHRvIHRoZSB0cmFja2luZ1VybFxuICogICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgJGh0dHAucG9zdCh0cmFja2luZ1VybCwgdHJhY2tlZEV2ZW50cyk7XG4gKiAgICAgICAgfVxuICogICAgICB9O1xuICogICAgfV07XG4gKiAgfVxuICpcbiAqICBkZXNjcmliZSgnZXZlbnRUcmFja2VyJywgZnVuY3Rpb24oKSB7XG4gKiAgICB2YXIgcG9zdFNweTtcbiAqXG4gKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbigkcHJvdmlkZSkge1xuICogICAgICAvLyBSZWdpc3RlciB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCdldmVudFRyYWNrZXInLCBFdmVudFRyYWNrZXJQcm92aWRlcik7XG4gKiAgICB9KSk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oZXZlbnRUcmFja2VyUHJvdmlkZXIpIHtcbiAqICAgICAgLy8gQ29uZmlndXJlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICBldmVudFRyYWNrZXJQcm92aWRlci5zZXRUcmFja2luZ1VybCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCd0cmFja3MgZXZlbnRzJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlcikge1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDEpO1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCdzYXZlcyB0byB0aGUgdHJhY2tpbmcgdXJsJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlciwgJGh0dHApIHtcbiAqICAgICAgcG9zdFNweSA9IHNweU9uKCRodHRwLCAncG9zdCcpO1xuICogICAgICBldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJyk7XG4gKiAgICAgIGV2ZW50VHJhY2tlci5zYXZlKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLm5vdC50b0VxdWFsKCcvdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkudG9FcXVhbCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzFdKS50b0VxdWFsKHsgJ2xvZ2luJzogMSB9KTtcbiAqICAgIH0pKTtcbiAqICB9KTtcbiAqIGBgYFxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZmFjdG9yeSoqLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB0byByZXR1cm4gdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyIGNvbnNpc3RzIG9mIG9ubHkgYSBgJGdldGAgcHJvcGVydHksXG4gKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KGdldEZuKX0gaWYgeW91IGRvIG5vdCBuZWVkIHRvXG4gKiBjb25maWd1cmUgeW91ciBzZXJ2aWNlIGluIGEgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gJGdldEZuIFRoZSBpbmplY3RhYmxlICRnZXRGbiBmb3IgdGhlIGluc3RhbmNlIGNyZWF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxseSB0aGlzIGlzIGEgc2hvcnQgaGFuZCBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2VcbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICByZXR1cm4gZnVuY3Rpb24gcGluZygpIHtcbiAqICAgICAgIHJldHVybiAkaHR0cC5zZW5kKCcvcGluZycpO1xuICogICAgIH07XG4gKiAgIH1dKTtcbiAqIGBgYFxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcbiAqIGBgYGpzXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcbiAqICAgICBwaW5nKCk7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2VcbiAqIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyBhIGZhY3RvcnlcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBpbnN0YW5jZSBpbnN0YW50aWF0ZWQgYnkgdGhlIGluamVjdG9yIGZyb20gdGhlIHNlcnZpY2UgY29uc3RydWN0b3JcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEludGVybmFsbHkgaXQgbG9va3MgYSBiaXQgbGlrZSB0aGlzOlxuICpcbiAqIGBgYFxuICoge1xuICogICAkZ2V0OiBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICpcbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9IGlmIHlvdSBkZWZpbmUgeW91ciBzZXJ2aWNlXG4gKiBhcyBhIHR5cGUvY2xhc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gY29uc3RydWN0b3IgQW4gaW5qZWN0YWJsZSBjbGFzcyAoY29uc3RydWN0b3IgZnVuY3Rpb24pXG4gKiAgICAgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB1c2luZ1xuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0uXG4gKiBgYGBqc1xuICogICB2YXIgUGluZyA9IGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICogICB9O1xuICpcbiAqICAgUGluZy4kaW5qZWN0ID0gWyckaHR0cCddO1xuICpcbiAqICAgUGluZy5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3BpbmcnKTtcbiAqICAgfTtcbiAqICAgJHByb3ZpZGUuc2VydmljZSgncGluZycsIFBpbmcpO1xuICogYGBgXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxuICogYGBganNcbiAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xuICogICAgIHBpbmcuc2VuZCgpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjdmFsdWVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKip2YWx1ZSBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsIGFcbiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzXG4gKiBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyBhIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB0YWtlcyBubyBhcmd1bWVudHMgYW5kIHJldHVybnMgdGhlICoqdmFsdWVcbiAqIHNlcnZpY2UqKi4gVGhhdCBhbHNvIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBpbmplY3Qgb3RoZXIgc2VydmljZXMgaW50byBhIHZhbHVlIHNlcnZpY2UuXG4gKlxuICogVmFsdWUgc2VydmljZXMgYXJlIHNpbWlsYXIgdG8gY29uc3RhbnQgc2VydmljZXMsIGV4Y2VwdCB0aGF0IHRoZXkgY2Fubm90IGJlIGluamVjdGVkIGludG8gYVxuICogbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYnV0IHRoZXkgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAqIGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgdmFsdWUgc2VydmljZXMuXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS52YWx1ZSgnQURNSU5fVVNFUicsICdhZG1pbicpO1xuICpcbiAqICAgJHByb3ZpZGUudmFsdWUoJ1JvbGVMb29rdXAnLCB7IGFkbWluOiAwLCB3cml0ZXI6IDEsIHJlYWRlcjogMiB9KTtcbiAqXG4gKiAgICRwcm92aWRlLnZhbHVlKCdoYWxmT2YnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZSAvIDI7XG4gKiAgIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2NvbnN0YW50XG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqY29uc3RhbnQgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLFxuICogYSBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbi4gTGlrZSB0aGUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9LCBpdCBpcyBub3RcbiAqIHBvc3NpYmxlIHRvIGluamVjdCBvdGhlciBzZXJ2aWNlcyBpbnRvIGEgY29uc3RhbnQuXG4gKlxuICogQnV0IHVubGlrZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSB2YWx1ZX0sIGEgY29uc3RhbnQgY2FuIGJlXG4gKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdFxuICogYmUgb3ZlcnJpZGRlbiBieSBhbiBBbmd1bGFyIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciBkZWNvcmF0b3J9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb25zdGFudC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIGNvbnN0YW50IHZhbHVlLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGEgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyBjb25zdGFudHM6XG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5jb25zdGFudCgnU0hBUkRfSEVJR0hUJywgMzA2KTtcbiAqXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdNWV9DT0xPVVJTJywgWydyZWQnLCAnYmx1ZScsICdncmV5J10pO1xuICpcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ2RvdWJsZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgcmV0dXJuIHZhbHVlICogMjtcbiAqICAgfSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZGVjb3JhdG9yXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqZGVjb3JhdG9yIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgZGVjb3JhdG9yIGZ1bmN0aW9uXG4gKiBpbnRlcmNlcHRzIHRoZSBjcmVhdGlvbiBvZiBhIHNlcnZpY2UsIGFsbG93aW5nIGl0IHRvIG92ZXJyaWRlIG9yIG1vZGlmeSB0aGUgYmVoYXZpb3Igb2YgdGhlXG4gKiBzZXJ2aWNlLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBkZWNvcmF0b3IgZnVuY3Rpb24gbWF5IGJlIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLCBvciBhIG5ldyBzZXJ2aWNlXG4gKiB0aGF0IHJlcGxhY2VzIChvciB3cmFwcyBhbmQgZGVsZWdhdGVzIHRvKSB0aGUgb3JpZ2luYWwgc2VydmljZS5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgb3V0IG1vcmUgYWJvdXQgdXNpbmcgZGVjb3JhdG9ycyBpbiB0aGUge0BsaW5rIGd1aWRlL2RlY29yYXRvcnN9IGd1aWRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZGVjb3JhdG9yIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAqICAgIHByb3ZpZGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB1c2luZ1xuICogICAgdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgaW5qZWN0b3IuaW52b2tlfSBtZXRob2QgYW5kIGlzIHRoZXJlZm9yZSBmdWxseSBpbmplY3RhYmxlLlxuICogICAgTG9jYWwgaW5qZWN0aW9uIGFyZ3VtZW50czpcbiAqXG4gKiAgICAqIGAkZGVsZWdhdGVgIC0gVGhlIG9yaWdpbmFsIHNlcnZpY2UgaW5zdGFuY2UsIHdoaWNoIGNhbiBiZSByZXBsYWNlZCwgbW9ua2V5IHBhdGNoZWQsIGNvbmZpZ3VyZWQsXG4gKiAgICAgIGRlY29yYXRlZCBvciBkZWxlZ2F0ZWQgdG8uXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgd2UgZGVjb3JhdGUgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgdG8gY29udmVydCB3YXJuaW5ncyB0byBlcnJvcnMgYnkgaW50ZXJjZXB0aW5nXG4gKiBjYWxscyB0byB7QGxpbmsgbmcuJGxvZyNlcnJvciAkbG9nLndhcm4oKX0uXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRsb2cnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICogICAgICRkZWxlZ2F0ZS53YXJuID0gJGRlbGVnYXRlLmVycm9yO1xuICogICAgIHJldHVybiAkZGVsZWdhdGU7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCwgc3RyaWN0RGkpIHtcbiAgc3RyaWN0RGkgPSAoc3RyaWN0RGkgPT09IHRydWUpO1xuICB2YXIgSU5TVEFOVElBVElORyA9IHt9LFxuICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxuICAgICAgcGF0aCA9IFtdLFxuICAgICAgbG9hZGVkTW9kdWxlcyA9IG5ldyBIYXNoTWFwKFtdLCB0cnVlKSxcbiAgICAgIHByb3ZpZGVyQ2FjaGUgPSB7XG4gICAgICAgICRwcm92aWRlOiB7XG4gICAgICAgICAgICBwcm92aWRlcjogc3VwcG9ydE9iamVjdChwcm92aWRlciksXG4gICAgICAgICAgICBmYWN0b3J5OiBzdXBwb3J0T2JqZWN0KGZhY3RvcnkpLFxuICAgICAgICAgICAgc2VydmljZTogc3VwcG9ydE9iamVjdChzZXJ2aWNlKSxcbiAgICAgICAgICAgIHZhbHVlOiBzdXBwb3J0T2JqZWN0KHZhbHVlKSxcbiAgICAgICAgICAgIGNvbnN0YW50OiBzdXBwb3J0T2JqZWN0KGNvbnN0YW50KSxcbiAgICAgICAgICAgIGRlY29yYXRvcjogZGVjb3JhdG9yXG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVySW5qZWN0b3IgPSAocHJvdmlkZXJDYWNoZS4kaW5qZWN0b3IgPVxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoY2FsbGVyKSkge1xuICAgICAgICAgICAgICBwYXRoLnB1c2goY2FsbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5wcicsIFwiVW5rbm93biBwcm92aWRlcjogezB9XCIsIHBhdGguam9pbignIDwtICcpKTtcbiAgICAgICAgICB9KSksXG4gICAgICBpbnN0YW5jZUNhY2hlID0ge30sXG4gICAgICBwcm90b0luc3RhbmNlSW5qZWN0b3IgPVxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUgKyBwcm92aWRlclN1ZmZpeCwgY2FsbGVyKTtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShcbiAgICAgICAgICAgICAgICBwcm92aWRlci4kZ2V0LCBwcm92aWRlciwgdW5kZWZpbmVkLCBzZXJ2aWNlTmFtZSk7XG4gICAgICAgICAgfSksXG4gICAgICBpbnN0YW5jZUluamVjdG9yID0gcHJvdG9JbnN0YW5jZUluamVjdG9yO1xuXG4gIHByb3ZpZGVyQ2FjaGVbJyRpbmplY3RvcicgKyBwcm92aWRlclN1ZmZpeF0gPSB7ICRnZXQ6IHZhbHVlRm4ocHJvdG9JbnN0YW5jZUluamVjdG9yKSB9O1xuICB2YXIgcnVuQmxvY2tzID0gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCk7XG4gIGluc3RhbmNlSW5qZWN0b3IgPSBwcm90b0luc3RhbmNlSW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKTtcbiAgaW5zdGFuY2VJbmplY3Rvci5zdHJpY3REaSA9IHN0cmljdERpO1xuICBmb3JFYWNoKHJ1bkJsb2NrcywgZnVuY3Rpb24oZm4pIHsgaWYgKGZuKSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmbik7IH0pO1xuXG4gIHJldHVybiBpbnN0YW5jZUluamVjdG9yO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyAkcHJvdmlkZXJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gc3VwcG9ydE9iamVjdChkZWxlZ2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICBmb3JFYWNoKGtleSwgcmV2ZXJzZVBhcmFtcyhkZWxlZ2F0ZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlbGVnYXRlKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwcm92aWRlcihuYW1lLCBwcm92aWRlcl8pIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnc2VydmljZScpO1xuICAgIGlmIChpc0Z1bmN0aW9uKHByb3ZpZGVyXykgfHwgaXNBcnJheShwcm92aWRlcl8pKSB7XG4gICAgICBwcm92aWRlcl8gPSBwcm92aWRlckluamVjdG9yLmluc3RhbnRpYXRlKHByb3ZpZGVyXyk7XG4gICAgfVxuICAgIGlmICghcHJvdmlkZXJfLiRnZXQpIHtcbiAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigncGdldCcsIFwiUHJvdmlkZXIgJ3swfScgbXVzdCBkZWZpbmUgJGdldCBmYWN0b3J5IG1ldGhvZC5cIiwgbmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm92aWRlckNhY2hlW25hbWUgKyBwcm92aWRlclN1ZmZpeF0gPSBwcm92aWRlcl87XG4gIH1cblxuICBmdW5jdGlvbiBlbmZvcmNlUmV0dXJuVmFsdWUobmFtZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBlbmZvcmNlZFJldHVyblZhbHVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGZhY3RvcnksIHRoaXMpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCd1bmRlZicsIFwiUHJvdmlkZXIgJ3swfScgbXVzdCByZXR1cm4gYSB2YWx1ZSBmcm9tICRnZXQgZmFjdG9yeSBtZXRob2QuXCIsIG5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmFjdG9yeShuYW1lLCBmYWN0b3J5Rm4sIGVuZm9yY2UpIHtcbiAgICByZXR1cm4gcHJvdmlkZXIobmFtZSwge1xuICAgICAgJGdldDogZW5mb3JjZSAhPT0gZmFsc2UgPyBlbmZvcmNlUmV0dXJuVmFsdWUobmFtZSwgZmFjdG9yeUZuKSA6IGZhY3RvcnlGblxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VydmljZShuYW1lLCBjb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBmYWN0b3J5KG5hbWUsIFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gICAgICByZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKTtcbiAgICB9XSk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWx1ZShuYW1lLCB2YWwpIHsgcmV0dXJuIGZhY3RvcnkobmFtZSwgdmFsdWVGbih2YWwpLCBmYWxzZSk7IH1cblxuICBmdW5jdGlvbiBjb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdjb25zdGFudCcpO1xuICAgIHByb3ZpZGVyQ2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgICBpbnN0YW5jZUNhY2hlW25hbWVdID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBkZWNvcmF0b3Ioc2VydmljZU5hbWUsIGRlY29yRm4pIHtcbiAgICB2YXIgb3JpZ1Byb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUgKyBwcm92aWRlclN1ZmZpeCksXG4gICAgICAgIG9yaWckZ2V0ID0gb3JpZ1Byb3ZpZGVyLiRnZXQ7XG5cbiAgICBvcmlnUHJvdmlkZXIuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9yaWdJbnN0YW5jZSA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKG9yaWckZ2V0LCBvcmlnUHJvdmlkZXIpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGRlY29yRm4sIG51bGwsIHskZGVsZWdhdGU6IG9yaWdJbnN0YW5jZX0pO1xuICAgIH07XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gTW9kdWxlIExvYWRpbmdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpIHtcbiAgICBhc3NlcnRBcmcoaXNVbmRlZmluZWQobW9kdWxlc1RvTG9hZCkgfHwgaXNBcnJheShtb2R1bGVzVG9Mb2FkKSwgJ21vZHVsZXNUb0xvYWQnLCAnbm90IGFuIGFycmF5Jyk7XG4gICAgdmFyIHJ1bkJsb2NrcyA9IFtdLCBtb2R1bGVGbjtcbiAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgaWYgKGxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpIHJldHVybjtcbiAgICAgIGxvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwgdHJ1ZSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBxdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcbiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtcblxuICAgICAgICAgIHByb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLCBpbnZva2VBcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNTdHJpbmcobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZUZuID0gYW5ndWxhck1vZHVsZShtb2R1bGUpO1xuICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7XG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2ludm9rZVF1ZXVlKTtcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5fY29uZmlnQmxvY2tzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG1vZHVsZSkpIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0QXJnRm4obW9kdWxlLCAnbW9kdWxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVttb2R1bGUubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubWVzc2FnZSAmJiBlLnN0YWNrICYmIGUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpID09IC0xKSB7XG4gICAgICAgICAgLy8gU2FmYXJpICYgRkYncyBzdGFjayB0cmFjZXMgZG9uJ3QgY29udGFpbiBlcnJvci5tZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxuICAgICAgICAgIC8vIFNvIGlmIHN0YWNrIGRvZXNuJ3QgY29udGFpbiBtZXNzYWdlLCB3ZSBjcmVhdGUgYSBuZXcgc3RyaW5nIHRoYXQgY29udGFpbnMgYm90aC5cbiAgICAgICAgICAvLyBTaW5jZSBlcnJvci5zdGFjayBpcyByZWFkLW9ubHkgaW4gU2FmYXJpLCBJJ20gb3ZlcnJpZGluZyBlIGFuZCBub3QgZS5zdGFjayBoZXJlLlxuICAgICAgICAgIC8qIGpzaGludCAtVzAyMiAqL1xuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdtb2R1bGVycicsIFwiRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfVwiLFxuICAgICAgICAgICAgICAgICAgbW9kdWxlLCBlLnN0YWNrIHx8IGUubWVzc2FnZSB8fCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcnVuQmxvY2tzO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIGludGVybmFsIEluamVjdG9yXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsIGZhY3RvcnkpIHtcblxuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSkge1xuICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdjZGVwJywgJ0NpcmN1bGFyIGRlcGVuZGVuY3kgZm91bmQ6IHswfScsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lICsgJyA8LSAnICsgcGF0aC5qb2luKCcgPC0gJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZVtzZXJ2aWNlTmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSk7XG4gICAgICAgICAgY2FjaGVbc2VydmljZU5hbWVdID0gSU5TVEFOVElBVElORztcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdID0gZmFjdG9yeShzZXJ2aWNlTmFtZSwgY2FsbGVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xuICAgICAgICAgICAgZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gaW5qZWN0aW9uQXJncyhmbiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICAkaW5qZWN0ID0gY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZShmbiwgc3RyaWN0RGksIHNlcnZpY2VOYW1lKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9ICRpbmplY3RbaV07XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignaXRrbicsXG4gICAgICAgICAgICAgICAgICAnSW5jb3JyZWN0IGluamVjdGlvbiB0b2tlbiEgRXhwZWN0ZWQgc2VydmljZSBuYW1lIGFzIHN0cmluZywgZ290IHswfScsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy5wdXNoKGxvY2FscyAmJiBsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGxvY2Fsc1trZXldIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFNlcnZpY2Uoa2V5LCBzZXJ2aWNlTmFtZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDbGFzcyhmdW5jKSB7XG4gICAgICAvLyBJRSA5LTExIGRvIG5vdCBzdXBwb3J0IGNsYXNzZXMgYW5kIElFOSBsZWFrcyB3aXRoIHRoZSBjb2RlIGJlbG93LlxuICAgICAgaWYgKG1zaWUgPD0gMTEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gU3VwcG9ydDogRWRnZSAxMi0xMyBvbmx5XG4gICAgICAvLyBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzYxNTYxMzUvXG4gICAgICByZXR1cm4gdHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgJiYgL14oPzpjbGFzc1xcYnxjb25zdHJ1Y3RvclxcKCkvLnRlc3Qoc3RyaW5naWZ5Rm4oZnVuYykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludm9rZShmbiwgc2VsZiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiBsb2NhbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNlcnZpY2VOYW1lID0gbG9jYWxzO1xuICAgICAgICBsb2NhbHMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJncyA9IGluamVjdGlvbkFyZ3MoZm4sIGxvY2Fscywgc2VydmljZU5hbWUpO1xuICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgIGZuID0gZm5bZm4ubGVuZ3RoIC0gMV07XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNDbGFzcyhmbikpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vYW5ndWxhcmpzLWludm9rZS1hcHBseS12cy1zd2l0Y2hcbiAgICAgICAgLy8gIzUzODhcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShmbiwgYXJncykpKCk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZShUeXBlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XG4gICAgICAvLyBDaGVjayBpZiBUeXBlIGlzIGFubm90YXRlZCBhbmQgdXNlIGp1c3QgdGhlIGdpdmVuIGZ1bmN0aW9uIGF0IG4tMSBhcyBwYXJhbWV0ZXJcbiAgICAgIC8vIGUuZy4gc29tZU1vZHVsZS5mYWN0b3J5KCdncmVldGVyJywgWyckd2luZG93JywgZnVuY3Rpb24ocmVuYW1lZCR3aW5kb3cpIHt9XSk7XG4gICAgICB2YXIgY3RvciA9IChpc0FycmF5KFR5cGUpID8gVHlwZVtUeXBlLmxlbmd0aCAtIDFdIDogVHlwZSk7XG4gICAgICB2YXIgYXJncyA9IGluamVjdGlvbkFyZ3MoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSk7XG4gICAgICAvLyBFbXB0eSBvYmplY3QgYXQgcG9zaXRpb24gMCBpcyBpZ25vcmVkIGZvciBpbnZvY2F0aW9uIHdpdGggYG5ld2AsIGJ1dCByZXF1aXJlZC5cbiAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcbiAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGN0b3IsIGFyZ3MpKSgpO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGludm9rZTogaW52b2tlLFxuICAgICAgaW5zdGFudGlhdGU6IGluc3RhbnRpYXRlLFxuICAgICAgZ2V0OiBnZXRTZXJ2aWNlLFxuICAgICAgYW5ub3RhdGU6IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUsXG4gICAgICBoYXM6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSArIHByb3ZpZGVyU3VmZml4KSB8fCBjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUgPSBhbm5vdGF0ZTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIGAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJgIHRvIGRpc2FibGUgYXV0b21hdGljIHNjcm9sbGluZyB3aGVuZXZlclxuICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uICRBbmNob3JTY3JvbGxQcm92aWRlcigpIHtcblxuICB2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnkgZGVmYXVsdCwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IGNoYW5nZXMgdG9cbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIG5ldyBoYXNoLjxiciAvPlxuICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxuICAgKlxuICAgKiBJZiBhdXRvbWF0aWMgc2Nyb2xsaW5nIGlzIGRpc2FibGVkLCBvbmUgbXVzdCBleHBsaWNpdGx5IGNhbGxcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSBpbiBvcmRlciB0byBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGVcbiAgICogY3VycmVudCBoYXNoLlxuICAgKi9cbiAgdGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICogQHJlcXVpcmVzICR3aW5kb3dcbiAgICogQHJlcXVpcmVzICRsb2NhdGlvblxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV2hlbiBjYWxsZWQsIGl0IHNjcm9sbHMgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGUgc3BlY2lmaWVkIGBoYXNoYCBvciAoaWYgb21pdHRlZCkgdG8gdGhlXG4gICAqIGN1cnJlbnQgdmFsdWUgb2Yge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9LCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIHNwZWNpZmllZFxuICAgKiBpbiB0aGVcbiAgICogW0hUTUw1IHNwZWNdKGh0dHA6Ly93d3cudzMub3JnL2h0bWwvd2cvZHJhZnRzL2h0bWwvbWFzdGVyL2Jyb3dzZXJzLmh0bWwjYW4taW5kaWNhdGVkLXBhcnQtb2YtdGhlLWRvY3VtZW50KS5cbiAgICpcbiAgICogSXQgYWxzbyB3YXRjaGVzIHRoZSB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIGF1dG9tYXRpY2FsbHkgc2Nyb2xscyB0b1xuICAgKiBtYXRjaCBhbnkgYW5jaG9yIHdoZW5ldmVyIGl0IGNoYW5nZXMuIFRoaXMgY2FuIGJlIGRpc2FibGVkIGJ5IGNhbGxpbmdcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZyAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIuZGlzYWJsZUF1dG9TY3JvbGxpbmcoKX0uXG4gICAqXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiB1c2UgaXRzIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsI3lPZmZzZXQgeU9mZnNldH0gcHJvcGVydHkgdG8gc3BlY2lmeSBhXG4gICAqIHZlcnRpY2FsIHNjcm9sbC1vZmZzZXQgKGVpdGhlciBmaXhlZCBvciBkeW5hbWljKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBoYXNoIFRoZSBoYXNoIHNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgdG8gc2Nyb2xsIHRvLiBJZiBvbWl0dGVkLCB0aGUgdmFsdWUgb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSB3aWxsIGJlIHVzZWQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcbiAgICogcG9zaXRpb25lZCBlbGVtZW50cyBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBzdWNoIGFzIG5hdmJhcnMsIGhlYWRlcnMgZXRjLlxuICAgKlxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XG4gICAqIC0gKipudW1iZXIqKjogQSBmaXhlZCBudW1iZXIgb2YgcGl4ZWxzIHRvIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPjxiciAvPlxuICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cbiAgICogLSAqKmpxTGl0ZSoqOiBBIGpxTGl0ZS9qUXVlcnkgZWxlbWVudCB0byBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBvZmZzZXQuIFRoZSBkaXN0YW5jZSBmcm9tXG4gICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXG4gICAqICAgYGZpeGVkYC4gVGhpcyBvcHRpb24gaXMgdXNlZnVsLCB3aGVuIGRlYWxpbmcgd2l0aCByZXNwb25zaXZlIG5hdmJhcnMvaGVhZGVycyB0aGF0IGFkanVzdFxuICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXG4gICAqXG4gICAqIDxiciAvPlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxuICAgKiBub3Qgc29tZSBjaGlsZCBlbGVtZW50LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGlkPVwic2Nyb2xsQXJlYVwiIG5nLWNvbnRyb2xsZXI9XCJTY3JvbGxDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxuICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvclNjcm9sbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICRsb2NhdGlvbiwgJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0FuY2hvciA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XG4gICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24uaGFzaCgpICE9PSBuZXdIYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSAkbG9jYXRpb24uaGFzaCB0byBgbmV3SGFzaGAgYW5kXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XG4gICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2FuY2hvcicgKyB4KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxuICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlICRsb2NhdGlvbi5oYXNoIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgXSk7XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAgIGJvZHkge1xuICAgICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmFuY2hvciB7XG4gICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7XG4gICAgICAgICB9XG5cbiAgICAgICAgIC5maXhlZC1oZWFkZXIgPiBhIHtcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xuICAgICAgICAgfVxuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHdpbmRvdywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcbiAgICAvLyAgYW5kIHdvcmtpbmcgaW4gYWxsIHN1cHBvcnRlZCBicm93c2Vycy4pXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGxpc3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ2EnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFlPZmZzZXQoKSB7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBvZmZzZXRbMF07XG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0WU9mZnNldCgpO1xuXG4gICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAvLyBgb2Zmc2V0YCBpcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB3ZSBzaG91bGQgc2Nyb2xsIFVQIGluIG9yZGVyIHRvIGFsaWduIGBlbGVtYCBwcm9wZXJseS5cbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXG4gICAgICAgICAgLy8gdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCwgdGhlbiBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCB3aWxsIGFsaWduIHRoZSBgZWxlbWAgc29tZVxuICAgICAgICAgIC8vIHdheSBkb3duIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhpcyBpcyBvZnRlbiB0aGUgY2FzZSBmb3IgZWxlbWVudHMgbmVhciB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cbiAgICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGFuZCB0aGUgb2Zmc2V0LCB3aGljaCBpcyBlbm91Z2ggdG8gYWxpZ24gdGhlIHRvcCBvZiBgZWxlbWAgYXQgdGhlXG4gICAgICAgICAgLy8gZGVzaXJlZCBwb3NpdGlvbi5cbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICR3aW5kb3cuc2Nyb2xsQnkoMCwgZWxlbVRvcCAtIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsKGhhc2gpIHtcbiAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiAkbG9jYXRpb24uaGFzaCgpO1xuICAgICAgdmFyIGVsbTtcblxuICAgICAgLy8gZW1wdHkgaGFzaCwgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgIGlmICghaGFzaCkgc2Nyb2xsVG8obnVsbCk7XG5cbiAgICAgIC8vIGVsZW1lbnQgd2l0aCBnaXZlbiBpZFxuICAgICAgZWxzZSBpZiAoKGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKSkgc2Nyb2xsVG8oZWxtKTtcblxuICAgICAgLy8gZmlyc3QgYW5jaG9yIHdpdGggZ2l2ZW4gbmFtZSA6LURcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBnZXRGaXJzdEFuY2hvcihkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShoYXNoKSkpKSBzY3JvbGxUbyhlbG0pO1xuXG4gICAgICAvLyBubyBlbGVtZW50IGFuZCBoYXNoID09ICd0b3AnLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgZWxzZSBpZiAoaGFzaCA9PT0gJ3RvcCcpIHNjcm9sbFRvKG51bGwpO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IHNjcm9sbCB3aGVuIHVzZXIgY2xpY2tzIG9uIGFuY2hvciBsaW5rIHRoYXQgaXMgY3VycmVudGx5IG9uXG4gICAgLy8gKG5vIHVybCBjaGFuZ2UsIG5vICRsb2NhdGlvbi5oYXNoKCkgY2hhbmdlKSwgYnJvd3NlciBuYXRpdmUgZG9lcyBzY3JvbGxcbiAgICBpZiAoYXV0b1Njcm9sbGluZ0VuYWJsZWQpIHtcbiAgICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGF1dG9TY3JvbGxXYXRjaCgpIHtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKTt9LFxuICAgICAgICBmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxuICAgICAgICAgIGlmIChuZXdWYWwgPT09IG9sZFZhbCAmJiBuZXdWYWwgPT09ICcnKSByZXR1cm47XG5cbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Nyb2xsO1xuICB9XTtcbn1cblxudmFyICRhbmltYXRlTWluRXJyID0gbWluRXJyKCckYW5pbWF0ZScpO1xudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NlcyhhLGIpIHtcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gJyc7XG4gIGlmICghYSkgcmV0dXJuIGI7XG4gIGlmICghYikgcmV0dXJuIGE7XG4gIGlmIChpc0FycmF5KGEpKSBhID0gYS5qb2luKCcgJyk7XG4gIGlmIChpc0FycmF5KGIpKSBiID0gYi5qb2luKCcgJyk7XG4gIHJldHVybiBhICsgJyAnICsgYjtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsbSA9IGVsZW1lbnRbaV07XG4gICAgaWYgKGVsbS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gZWxtO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzcGxpdENsYXNzZXMoY2xhc3Nlcykge1xuICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcbiAgICBjbGFzc2VzID0gY2xhc3Nlcy5zcGxpdCgnICcpO1xuICB9XG5cbiAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5IG5hbWVzIGluXG4gIC8vIE9iamVjdC5wcm90b3R5cGVcbiAgdmFyIG9iaiA9IGNyZWF0ZU1hcCgpO1xuICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgLy8gc29tZXRpbWVzIHRoZSBzcGxpdCBsZWF2ZXMgZW1wdHkgc3RyaW5nIHZhbHVlc1xuICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXG4gICAgaWYgKGtsYXNzLmxlbmd0aCkge1xuICAgICAgb2JqW2tsYXNzXSA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gaWYgYW55IG90aGVyIHR5cGUgb2Ygb3B0aW9ucyB2YWx1ZSBiZXNpZGVzIGFuIE9iamVjdCB2YWx1ZSBpc1xuLy8gcGFzc2VkIGludG8gdGhlICRhbmltYXRlLm1ldGhvZCgpIGFuaW1hdGlvbiB0aGVuIHRoaXMgaGVscGVyIGNvZGVcbi8vIHdpbGwgYmUgcnVuIHdoaWNoIHdpbGwgaWdub3JlIGl0LiBXaGlsZSB0aGlzIHBhdGNoIGlzIG5vdCB0aGVcbi8vIGdyZWF0ZXN0IHNvbHV0aW9uIHRvIHRoaXMsIGEgbG90IG9mIGV4aXN0aW5nIHBsdWdpbnMgZGVwZW5kIG9uXG4vLyAkYW5pbWF0ZSB0byBlaXRoZXIgY2FsbCB0aGUgY2FsbGJhY2sgKDwgMS4yKSBvciByZXR1cm4gYSBwcm9taXNlXG4vLyB0aGF0IGNhbiBiZSBjaGFuZ2VkLiBUaGlzIGhlbHBlciBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG9wdGlvbnNcbi8vIGFyZSB3aXBlZCBjbGVhbiBpbmNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZC5cbmZ1bmN0aW9uIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBpc09iamVjdChvcHRpb25zKVxuICAgICAgPyBvcHRpb25zXG4gICAgICA6IHt9O1xufVxuXG52YXIgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gbm9vcDtcbn07XG5cbi8vIHRoaXMgaXMgcHJlZml4ZWQgd2l0aCBDb3JlIHNpbmNlIGl0IGNvbmZsaWN0cyB3aXRoXG4vLyB0aGUgYW5pbWF0ZVF1ZXVlUHJvdmlkZXIgZGVmaW5lZCBpbiBuZ0FuaW1hdGUvYW5pbWF0ZVF1ZXVlLmpzXG52YXIgJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBvc3REaWdlc3RRdWV1ZSA9IG5ldyBIYXNoTWFwKCk7XG4gIHZhciBwb3N0RGlnZXN0RWxlbWVudHMgPSBbXTtcblxuICB0aGlzLiRnZXQgPSBbJyQkQW5pbWF0ZVJ1bm5lcicsICckcm9vdFNjb3BlJyxcbiAgICAgICBmdW5jdGlvbigkJEFuaW1hdGVSdW5uZXIsICAgJHJvb3RTY29wZSkge1xuICAgIHJldHVybiB7XG4gICAgICBlbmFibGVkOiBub29wLFxuICAgICAgb246IG5vb3AsXG4gICAgICBvZmY6IG5vb3AsXG4gICAgICBwaW46IG5vb3AsXG5cbiAgICAgIHB1c2g6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBkb21PcGVyYXRpb24pIHtcbiAgICAgICAgZG9tT3BlcmF0aW9uICAgICAgICAmJiBkb21PcGVyYXRpb24oKTtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5mcm9tICAgICAgICAmJiBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xuICAgICAgICBvcHRpb25zLnRvICAgICAgICAgICYmIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFkZENsYXNzIHx8IG9wdGlvbnMucmVtb3ZlQ2xhc3MpIHtcbiAgICAgICAgICBhZGRSZW1vdmVDbGFzc2VzUG9zdERpZ2VzdChlbGVtZW50LCBvcHRpb25zLmFkZENsYXNzLCBvcHRpb25zLnJlbW92ZUNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgICAgIC8vIHNpbmNlIHRoZXJlIGFyZSBubyBhbmltYXRpb25zIHRvIHJ1biB0aGUgcnVubmVyIG5lZWRzIHRvIGJlXG4gICAgICAgIC8vIG5vdGlmaWVkIHRoYXQgdGhlIGFuaW1hdGlvbiBjYWxsIGlzIGNvbXBsZXRlLlxuICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiB1cGRhdGVEYXRhKGRhdGEsIGNsYXNzZXMsIHZhbHVlKSB7XG4gICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgICAgY2xhc3NlcyA9IGlzU3RyaW5nKGNsYXNzZXMpID8gY2xhc3Nlcy5zcGxpdCgnICcpIDpcbiAgICAgICAgICAgICAgICAgIGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogW107XG4gICAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICBkYXRhW2NsYXNzTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzKCkge1xuICAgICAgZm9yRWFjaChwb3N0RGlnZXN0RWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHNwbGl0Q2xhc3NlcyhlbGVtZW50LmF0dHIoJ2NsYXNzJykpO1xuICAgICAgICAgIHZhciB0b0FkZCA9ICcnO1xuICAgICAgICAgIHZhciB0b1JlbW92ZSA9ICcnO1xuICAgICAgICAgIGZvckVhY2goZGF0YSwgZnVuY3Rpb24oc3RhdHVzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9ICEhZXhpc3RpbmdbY2xhc3NOYW1lXTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGhhc0NsYXNzKSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0b0FkZCArPSAodG9BZGQubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvUmVtb3ZlICs9ICh0b1JlbW92ZS5sZW5ndGggPyAnICcgOiAnJykgKyBjbGFzc05hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxtKSB7XG4gICAgICAgICAgICB0b0FkZCAgICAmJiBqcUxpdGVBZGRDbGFzcyhlbG0sIHRvQWRkKTtcbiAgICAgICAgICAgIHRvUmVtb3ZlICYmIGpxTGl0ZVJlbW92ZUNsYXNzKGVsbSwgdG9SZW1vdmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBvc3REaWdlc3RRdWV1ZS5yZW1vdmUoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcG9zdERpZ2VzdEVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRSZW1vdmVDbGFzc2VzUG9zdERpZ2VzdChlbGVtZW50LCBhZGQsIHJlbW92ZSkge1xuICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpIHx8IHt9O1xuXG4gICAgICB2YXIgY2xhc3Nlc0FkZGVkID0gdXBkYXRlRGF0YShkYXRhLCBhZGQsIHRydWUpO1xuICAgICAgdmFyIGNsYXNzZXNSZW1vdmVkID0gdXBkYXRlRGF0YShkYXRhLCByZW1vdmUsIGZhbHNlKTtcblxuICAgICAgaWYgKGNsYXNzZXNBZGRlZCB8fCBjbGFzc2VzUmVtb3ZlZCkge1xuXG4gICAgICAgIHBvc3REaWdlc3RRdWV1ZS5wdXQoZWxlbWVudCwgZGF0YSk7XG4gICAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChwb3N0RGlnZXN0RWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfV07XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGFuaW1hdGVQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiAkYW5pbWF0ZSB0aGF0IGRvZXNuJ3QgcGVyZm9ybSBhbnkgYW5pbWF0aW9ucywgaW5zdGVhZCBqdXN0XG4gKiBzeW5jaHJvbm91c2x5IHBlcmZvcm1zIERPTSB1cGRhdGVzIGFuZCByZXNvbHZlcyB0aGUgcmV0dXJuZWQgcnVubmVyIHByb21pc2UuXG4gKlxuICogSW4gb3JkZXIgdG8gZW5hYmxlIGFuaW1hdGlvbnMgdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSBoYXMgdG8gYmUgbG9hZGVkLlxuICpcbiAqIFRvIHNlZSB0aGUgZnVuY3Rpb25hbCBpbXBsZW1lbnRhdGlvbiBjaGVjayBvdXQgYHNyYy9uZ0FuaW1hdGUvYW5pbWF0ZS5qc2AuXG4gKi9cbnZhciAkQW5pbWF0ZVByb3ZpZGVyID0gWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gIHZhciBwcm92aWRlciA9IHRoaXM7XG5cbiAgdGhpcy4kJHJlZ2lzdGVyZWRBbmltYXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgbmV3IGluamVjdGFibGUgYW5pbWF0aW9uIGZhY3RvcnkgZnVuY3Rpb24uIFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHByb2R1Y2VzIHRoZVxuICAgKiBhbmltYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudCB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlXG4gICAqIGFuaW1hdGVkLlxuICAgKlxuICAgKiAgICogYGV2ZW50Rm5gOiBgZnVuY3Rpb24oZWxlbWVudCwgLi4uICwgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKWBcbiAgICogICBUaGUgZWxlbWVudCB0byBhbmltYXRlLCB0aGUgYGRvbmVGdW5jdGlvbmAgYW5kIHRoZSBvcHRpb25zIGZlZCBpbnRvIHRoZSBhbmltYXRpb24uIERlcGVuZGluZ1xuICAgKiAgIG9uIHRoZSB0eXBlIG9mIGFuaW1hdGlvbiBhZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIGluamVjdGVkIGludG8gdGhlIGFuaW1hdGlvbiBmdW5jdGlvbi4gVGhlXG4gICAqICAgbGlzdCBiZWxvdyBleHBsYWlucyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlcyBmb3IgdGhlIGRpZmZlcmVudCBhbmltYXRpb24gbWV0aG9kczpcbiAgICpcbiAgICogICAtIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzZXMsIHJlbW92ZWRDbGFzc2VzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqICAgLSBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkZWRDbGFzc2VzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqICAgLSByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgcmVtb3ZlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICogICAtIGVudGVyLCBsZWF2ZSwgbW92ZTogZnVuY3Rpb24oZWxlbWVudCwgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKiAgIC0gYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbVN0eWxlcywgdG9TdHlsZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICpcbiAgICogICBNYWtlIHN1cmUgdG8gdHJpZ2dlciB0aGUgYGRvbmVGdW5jdGlvbmAgb25jZSB0aGUgYW5pbWF0aW9uIGlzIGZ1bGx5IGNvbXBsZXRlLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHJldHVybiB7XG4gICAqICAgICAvL2VudGVyLCBsZWF2ZSwgbW92ZSBzaWduYXR1cmVcbiAgICogICAgIGV2ZW50Rm4gOiBmdW5jdGlvbihlbGVtZW50LCBkb25lLCBvcHRpb25zKSB7XG4gICAqICAgICAgIC8vY29kZSB0byBydW4gdGhlIGFuaW1hdGlvblxuICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKVxuICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gZW5kRnVuY3Rpb24od2FzQ2FuY2VsbGVkKSB7XG4gICAqICAgICAgICAgLy9jb2RlIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgIH1cbiAgICogICAgIH1cbiAgICogICB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uICh0aGlzIGlzIHdoYXQgdGhlIGNsYXNzLWJhc2VkIENTUyB2YWx1ZSB3aWxsIGJlIGNvbXBhcmVkIHRvKS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBUaGUgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcmV0dXJuIHRoZSBhbmltYXRpb25cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgZmFjdG9yeSkge1xuICAgIGlmIChuYW1lICYmIG5hbWUuY2hhckF0KDApICE9PSAnLicpIHtcbiAgICAgIHRocm93ICRhbmltYXRlTWluRXJyKCdub3Rjc2VsJywgXCJFeHBlY3RpbmcgY2xhc3Mgc2VsZWN0b3Igc3RhcnRpbmcgd2l0aCAnLicgZ290ICd7MH0nLlwiLCBuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIga2V5ID0gbmFtZSArICctYW5pbWF0aW9uJztcbiAgICBwcm92aWRlci4kJHJlZ2lzdGVyZWRBbmltYXRpb25zW25hbWUuc3Vic3RyKDEpXSA9IGtleTtcbiAgICAkcHJvdmlkZS5mYWN0b3J5KGtleSwgZmFjdG9yeSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNjbGFzc05hbWVGaWx0ZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW5kL29yIHJldHVybnMgdGhlIENTUyBjbGFzcyByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyBjaGVja2VkIHdoZW4gcGVyZm9ybWluZ1xuICAgKiBhbiBhbmltYXRpb24uIFVwb24gYm9vdHN0cmFwIHRoZSBjbGFzc05hbWVGaWx0ZXIgdmFsdWUgaXMgbm90IHNldCBhdCBhbGwgYW5kIHdpbGxcbiAgICogdGhlcmVmb3JlIGVuYWJsZSAkYW5pbWF0ZSB0byBhdHRlbXB0IHRvIHBlcmZvcm0gYW4gYW5pbWF0aW9uIG9uIGFueSBlbGVtZW50IHRoYXQgaXMgdHJpZ2dlcmVkLlxuICAgKiBXaGVuIHNldHRpbmcgdGhlIGBjbGFzc05hbWVGaWx0ZXJgIHZhbHVlLCBhbmltYXRpb25zIHdpbGwgb25seSBiZSBwZXJmb3JtZWQgb24gZWxlbWVudHNcbiAgICogdGhhdCBzdWNjZXNzZnVsbHkgbWF0Y2ggdGhlIGZpbHRlciBleHByZXNzaW9uLiBUaGlzIGluIHR1cm4gY2FuIGJvb3N0IHBlcmZvcm1hbmNlXG4gICAqIGZvciBsb3ctcG93ZXJlZCBkZXZpY2VzIGFzIHdlbGwgYXMgYXBwbGljYXRpb25zIGNvbnRhaW5pbmcgYSBsb3Qgb2Ygc3RydWN0dXJhbCBvcGVyYXRpb25zLlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IGV4cHJlc3Npb24gVGhlIGNsYXNzTmFtZSBleHByZXNzaW9uIHdoaWNoIHdpbGwgYmUgY2hlY2tlZCBhZ2FpbnN0IGFsbCBhbmltYXRpb25zXG4gICAqIEByZXR1cm4ge1JlZ0V4cH0gVGhlIGN1cnJlbnQgQ1NTIGNsYXNzTmFtZSBleHByZXNzaW9uIHZhbHVlLiBJZiBudWxsIHRoZW4gdGhlcmUgaXMgbm8gZXhwcmVzc2lvbiB2YWx1ZVxuICAgKi9cbiAgdGhpcy5jbGFzc05hbWVGaWx0ZXIgPSBmdW5jdGlvbihleHByZXNzaW9uKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIgPSAoZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFJlZ0V4cCkgPyBleHByZXNzaW9uIDogbnVsbDtcbiAgICAgIGlmICh0aGlzLiQkY2xhc3NOYW1lRmlsdGVyKSB7XG4gICAgICAgIHZhciByZXNlcnZlZFJlZ2V4ID0gbmV3IFJlZ0V4cChcIihcXFxccyt8XFxcXC8pXCIgKyBOR19BTklNQVRFX0NMQVNTTkFNRSArIFwiKFxcXFxzK3xcXFxcLylcIik7XG4gICAgICAgIGlmIChyZXNlcnZlZFJlZ2V4LnRlc3QodGhpcy4kJGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSkge1xuICAgICAgICAgIHRocm93ICRhbmltYXRlTWluRXJyKCdub25nY2xzJywnJGFuaW1hdGVQcm92aWRlci5jbGFzc05hbWVGaWx0ZXIocmVnZXgpIHByb2hpYml0cyBhY2NlcHRpbmcgYSByZWdleCB2YWx1ZSB3aGljaCBtYXRjaGVzL2NvbnRhaW5zIHRoZSBcInswfVwiIENTUyBjbGFzcy4nLCBOR19BTklNQVRFX0NMQVNTTkFNRSk7XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy4kJGNsYXNzTmFtZUZpbHRlcjtcbiAgfTtcblxuICB0aGlzLiRnZXQgPSBbJyQkYW5pbWF0ZVF1ZXVlJywgZnVuY3Rpb24oJCRhbmltYXRlUXVldWUpIHtcbiAgICBmdW5jdGlvbiBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KSB7XG4gICAgICAvLyBpZiBmb3Igc29tZSByZWFzb24gdGhlIHByZXZpb3VzIGVsZW1lbnQgd2FzIHJlbW92ZWRcbiAgICAgIC8vIGZyb20gdGhlIGRvbSBzb21ldGltZSBiZWZvcmUgdGhpcyBjb2RlIHJ1bnMgdGhlbiBsZXQnc1xuICAgICAgLy8ganVzdCBzdGljayB0byB1c2luZyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIGFuY2hvclxuICAgICAgaWYgKGFmdGVyRWxlbWVudCkge1xuICAgICAgICB2YXIgYWZ0ZXJOb2RlID0gZXh0cmFjdEVsZW1lbnROb2RlKGFmdGVyRWxlbWVudCk7XG4gICAgICAgIGlmIChhZnRlck5vZGUgJiYgIWFmdGVyTm9kZS5wYXJlbnROb2RlICYmICFhZnRlck5vZGUucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgICAgICAgIGFmdGVyRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFmdGVyRWxlbWVudCA/IGFmdGVyRWxlbWVudC5hZnRlcihlbGVtZW50KSA6IHBhcmVudEVsZW1lbnQucHJlcGVuZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRhbmltYXRlXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSAkYW5pbWF0ZSBzZXJ2aWNlIGV4cG9zZXMgYSBzZXJpZXMgb2YgRE9NIHV0aWxpdHkgbWV0aG9kcyB0aGF0IHByb3ZpZGUgc3VwcG9ydFxuICAgICAqIGZvciBhbmltYXRpb24gaG9va3MuIFRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHRoZSBhcHBsaWNhdGlvbiBvZiBET00gb3BlcmF0aW9ucywgaG93ZXZlcixcbiAgICAgKiB3aGVuIGFuIGFuaW1hdGlvbiBpcyBkZXRlY3RlZCAoYW5kIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQpLCAkYW5pbWF0ZSB3aWxsIGRvIHRoZSBoZWF2eSBsaWZ0aW5nXG4gICAgICogdG8gZW5zdXJlIHRoYXQgYW5pbWF0aW9uIHJ1bnMgd2l0aCB0aGUgdHJpZ2dlcmVkIERPTSBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0ICRhbmltYXRlIGRvZXNuJ3QgdHJpZ2dlciBhbnkgYW5pbWF0aW9ucy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXNuJ3RcbiAgICAgKiBpbmNsdWRlZCBhbmQgb25seSB3aGVuIGl0IGlzIGFjdGl2ZSB0aGVuIHRoZSBhbmltYXRpb24gaG9va3MgdGhhdCBgJGFuaW1hdGVgIHRyaWdnZXJzIHdpbGwgYmVcbiAgICAgKiBmdW5jdGlvbmFsLiBPbmNlIGFjdGl2ZSB0aGVuIGFsbCBzdHJ1Y3R1cmFsIGBuZy1gIGRpcmVjdGl2ZXMgd2lsbCB0cmlnZ2VyIGFuaW1hdGlvbnMgYXMgdGhleSBwZXJmb3JtXG4gICAgICogdGhlaXIgRE9NLXJlbGF0ZWQgb3BlcmF0aW9ucyAoZW50ZXIsIGxlYXZlIGFuZCBtb3ZlKS4gT3RoZXIgZGlyZWN0aXZlcyBzdWNoIGFzIGBuZ0NsYXNzYCxcbiAgICAgKiBgbmdTaG93YCwgYG5nSGlkZWAgYW5kIGBuZ01lc3NhZ2VzYCBhbHNvIHByb3ZpZGUgc3VwcG9ydCBmb3IgYW5pbWF0aW9ucy5cbiAgICAgKlxuICAgICAqIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhlYCRhbmltYXRlYCBzZXJ2aWNlIGlzIGFsd2F5cyB1c2VkIHdoZW4gZXhlY3V0aW5nIERPTS1yZWxhdGVkIHByb2NlZHVyZXMgd2l0aGluIGRpcmVjdGl2ZXMuXG4gICAgICpcbiAgICAgKiBUbyBsZWFybiBtb3JlIGFib3V0IGVuYWJsaW5nIGFuaW1hdGlvbiBzdXBwb3J0LCBjbGljayBoZXJlIHRvIHZpc2l0IHRoZVxuICAgICAqIHtAbGluayBuZ0FuaW1hdGUgbmdBbmltYXRlIG1vZHVsZSBwYWdlfS5cbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgLy8gd2UgZG9uJ3QgY2FsbCBpdCBkaXJlY3RseSBzaW5jZSBub24tZXhpc3RhbnQgYXJndW1lbnRzIG1heVxuICAgICAgLy8gYmUgaW50ZXJwcmV0ZWQgYXMgbnVsbCB3aXRoaW4gdGhlIHN1YiBlbmFibGVkIGZ1bmN0aW9uXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI29uXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gZmlyZSB3aGVuZXZlciB0aGUgYW5pbWF0aW9uIGV2ZW50IChlbnRlciwgbGVhdmUsIG1vdmUsIGV0Yy4uLilcbiAgICAgICAqICAgIGhhcyBmaXJlZCBvbiB0aGUgZ2l2ZW4gZWxlbWVudCBvciBhbW9uZyBhbnkgb2YgaXRzIGNoaWxkcmVuLiBPbmNlIHRoZSBsaXN0ZW5lciBpcyBmaXJlZCwgdGhlIHByb3ZpZGVkIGNhbGxiYWNrXG4gICAgICAgKiAgICBpcyBmaXJlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1zOlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAkYW5pbWF0ZS5vbignZW50ZXInLCBjb250YWluZXIsXG4gICAgICAgKiAgICBmdW5jdGlvbiBjYWxsYmFjayhlbGVtZW50LCBwaGFzZSkge1xuICAgICAgICogICAgICAvLyBjb29sIHdlIGRldGVjdGVkIGFuIGVudGVyIGFuaW1hdGlvbiB3aXRoaW4gdGhlIGNvbnRhaW5lclxuICAgICAgICogICAgfVxuICAgICAgICogKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCB0aGUgYW5pbWF0aW9uIGV2ZW50IHRoYXQgd2lsbCBiZSBjYXB0dXJlZCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUsIGFkZENsYXNzLCByZW1vdmVDbGFzcywgZXRjLi4uKVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgdGhlIGNvbnRhaW5lciBlbGVtZW50IHRoYXQgd2lsbCBjYXB0dXJlIGVhY2ggb2YgdGhlIGFuaW1hdGlvbiBldmVudHMgdGhhdCBhcmUgZmlyZWQgb24gaXRzZWxmXG4gICAgICAgKiAgICAgYXMgd2VsbCBhcyBhbW9uZyBpdHMgY2hpbGRyZW5cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiB0aGUgbGlzdGVuZXIgaXMgdHJpZ2dlcmVkXG4gICAgICAgKlxuICAgICAgICogVGhlIGFyZ3VtZW50cyBwcmVzZW50IGluIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBhcmU6XG4gICAgICAgKiAqIGBlbGVtZW50YCAtIFRoZSBjYXB0dXJlZCBET00gZWxlbWVudCB0aGF0IHRoZSBhbmltYXRpb24gd2FzIGZpcmVkIG9uLlxuICAgICAgICogKiBgcGhhc2VgIC0gVGhlIHBoYXNlIG9mIHRoZSBhbmltYXRpb24uIFRoZSB0d28gcG9zc2libGUgcGhhc2VzIGFyZSAqKnN0YXJ0KiogKHdoZW4gdGhlIGFuaW1hdGlvbiBzdGFydHMpIGFuZCAqKmNsb3NlKiogKHdoZW4gaXQgZW5kcykuXG4gICAgICAgKi9cbiAgICAgIG9uOiAkJGFuaW1hdGVRdWV1ZS5vbixcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjb2ZmXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIERlcmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyIGJhc2VkIG9uIHRoZSBldmVudCB3aGljaCBoYXMgYmVlbiBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3ZpZGVkIGVsZW1lbnQuIFRoaXMgbWV0aG9kXG4gICAgICAgKiBjYW4gYmUgdXNlZCBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cyBkZXBlbmRpbmcgb24gdGhlIGFyZ3VtZW50czpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmBcbiAgICAgICAqICRhbmltYXRlLm9mZignZW50ZXInKTtcbiAgICAgICAqXG4gICAgICAgKiAvLyByZW1vdmUgbGlzdGVuZXJzIGZvciBhbGwgYW5pbWF0aW9uIGV2ZW50cyBmcm9tIHRoZSBjb250YWluZXIgZWxlbWVudFxuICAgICAgICogJGFuaW1hdGUub2ZmKGNvbnRhaW5lcik7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmAgb24gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicsIGNvbnRhaW5lcik7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcm92aWRlZCBieSBgY2FsbGJhY2tgIHRoYXQgaXMgc2V0XG4gICAgICAgKiAvLyB0byBsaXN0ZW4gZm9yIGBlbnRlcmAgb24gdGhlIGdpdmVuIGBjb250YWluZXJgIGFzIHdlbGwgYXMgaXRzIGNoaWxkcmVuXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyLCBjYWxsYmFjayk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBldmVudHxjb250YWluZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUsXG4gICAgICAgKiBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLiksIG9yIHRoZSBjb250YWluZXIgZWxlbWVudC4gSWYgaXQgaXMgdGhlIGVsZW1lbnQsIGFsbCBvdGhlclxuICAgICAgICogYXJndW1lbnRzIGFyZSBpZ25vcmVkLlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGUgZXZlbnQgbGlzdGVuZXIgd2FzIHBsYWNlZCBvblxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGFzIHRoZSBsaXN0ZW5lclxuICAgICAgICovXG4gICAgICBvZmY6ICQkYW5pbWF0ZVF1ZXVlLm9mZixcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNwaW5cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQXNzb2NpYXRlcyB0aGUgcHJvdmlkZWQgZWxlbWVudCB3aXRoIGEgaG9zdCBwYXJlbnQgZWxlbWVudCB0byBhbGxvdyB0aGUgZWxlbWVudCB0byBiZSBhbmltYXRlZCBldmVuIGlmIGl0IGV4aXN0c1xuICAgICAgICogICAgb3V0c2lkZSBvZiB0aGUgRE9NIHN0cnVjdHVyZSBvZiB0aGUgQW5ndWxhciBhcHBsaWNhdGlvbi4gQnkgZG9pbmcgc28sIGFueSBhbmltYXRpb24gdHJpZ2dlcmVkIHZpYSBgJGFuaW1hdGVgIGNhbiBiZSBpc3N1ZWQgb24gdGhlXG4gICAgICAgKiAgICBlbGVtZW50IGRlc3BpdGUgYmVpbmcgb3V0c2lkZSB0aGUgcmVhbG0gb2YgdGhlIGFwcGxpY2F0aW9uIG9yIHdpdGhpbiBhbm90aGVyIGFwcGxpY2F0aW9uLiBTYXkgZm9yIGV4YW1wbGUgaWYgdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgKiAgICB3YXMgYm9vdHN0cmFwcGVkIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBzb21ld2hlcmUgaW5zaWRlIG9mIHRoZSBgPGJvZHk+YCB0YWcsIGJ1dCB3ZSB3YW50ZWQgdG8gYWxsb3cgZm9yIGFuIGVsZW1lbnQgdG8gYmUgc2l0dWF0ZWRcbiAgICAgICAqICAgIGFzIGEgZGlyZWN0IGNoaWxkIG9mIGBkb2N1bWVudC5ib2R5YCwgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSBwaW5uaW5nIHRoZSBlbGVtZW50IHZpYSBgJGFuaW1hdGUucGluKGVsZW1lbnQpYC4gS2VlcCBpbiBtaW5kXG4gICAgICAgKiAgICB0aGF0IGNhbGxpbmcgYCRhbmltYXRlLnBpbihlbGVtZW50LCBwYXJlbnRFbGVtZW50KWAgd2lsbCBub3QgYWN0dWFsbHkgaW5zZXJ0IGludG8gdGhlIERPTSBhbnl3aGVyZTsgaXQgd2lsbCBqdXN0IGNyZWF0ZSB0aGUgYXNzb2NpYXRpb24uXG4gICAgICAgKlxuICAgICAgICogICAgTm90ZSB0aGF0IHRoaXMgZmVhdHVyZSBpcyBvbmx5IGFjdGl2ZSB3aGVuIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXMgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGV4dGVybmFsIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHBpbm5lZFxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnRFbGVtZW50IHRoZSBob3N0IHBhcmVudCBlbGVtZW50IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGV4dGVybmFsIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgcGluOiAkJGFuaW1hdGVRdWV1ZS5waW4sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VuYWJsZWRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byBnZXQgYW5kIHNldCB3aGV0aGVyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgb3Igbm90IG9uIHRoZSBlbnRpcmUgYXBwbGljYXRpb24gb3Igb24gYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLiBUaGlzXG4gICAgICAgKiBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGluIGZvdXIgd2F5czpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKCk7XG4gICAgICAgKlxuICAgICAgICogLy8gY2hhbmdlcyB0aGUgZW5hYmxlZCBzdGF0ZSBmb3IgYWxsIGFuaW1hdGlvbnNcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZmFsc2UpO1xuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTtcbiAgICAgICAqXG4gICAgICAgKiAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2UgaWYgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCBmb3IgYW4gZWxlbWVudFxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50KTtcbiAgICAgICAqXG4gICAgICAgKiAvLyBjaGFuZ2VzIHRoZSBlbmFibGVkIHN0YXRlIGZvciBhbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNvbnNpZGVyZWQgZm9yIGNoZWNraW5nL3NldHRpbmcgdGhlIGVuYWJsZWQgc3RhdGVcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgd2hldGhlciBvciBub3QgdGhlIGFuaW1hdGlvbnMgd2lsbCBiZSBlbmFibGVkIGZvciB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGFuaW1hdGlvbnMgYXJlIGVuYWJsZWRcbiAgICAgICAqL1xuICAgICAgZW5hYmxlZDogJCRhbmltYXRlUXVldWUuZW5hYmxlZCxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNjYW5jZWxcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ2FuY2VscyB0aGUgcHJvdmlkZWQgYW5pbWF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gYW5pbWF0aW9uUHJvbWlzZSBUaGUgYW5pbWF0aW9uIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZCB3aGVuIGFuIGFuaW1hdGlvbiBpcyBzdGFydGVkLlxuICAgICAgICovXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICBydW5uZXIuZW5kICYmIHJ1bm5lci5lbmQoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgdGhlIGVsZW1lbnQgaW50byB0aGUgRE9NIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IChpZiBwcm92aWRlZCkgb3JcbiAgICAgICAqICAgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudCBhbmQgdGhlbiB0cmlnZ2VycyBhbiBhbmltYXRpb24uXG4gICAgICAgKiAgIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb25cbiAgICAgICAqICAgaGFzIGNvbXBsZXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET01cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgZWxlbWVudCB3aGljaCB3aWxsIGFwcGVuZCB0aGUgZWxlbWVudCBhc1xuICAgICAgICogICBhIGNoaWxkIChzbyBsb25nIGFzIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgJiYganFMaXRlKHBhcmVudCk7XG4gICAgICAgIGFmdGVyID0gYWZ0ZXIgJiYganFMaXRlKGFmdGVyKTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xuICAgICAgICBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50LCBhZnRlcik7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdlbnRlcicsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgKG1vdmVzKSB0aGUgZWxlbWVudCBpbnRvIGl0cyBuZXcgcG9zaXRpb24gaW4gdGhlIERPTSBlaXRoZXIgYWZ0ZXJcbiAgICAgICAqICAgdGhlIGBhZnRlcmAgZWxlbWVudCAoaWYgcHJvdmlkZWQpIG9yIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnRcbiAgICAgICAqICAgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLiBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gICAgICAgKiAgIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgbW92ZWQgaW50byB0aGUgbmV3IERPTSBwb3NpdGlvblxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXG4gICAgICAgKiAgIGEgY2hpbGQgKHNvIGxvbmcgYXMgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50ICYmIGpxTGl0ZShwYXJlbnQpO1xuICAgICAgICBhZnRlciA9IGFmdGVyICYmIGpxTGl0ZShhZnRlcik7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCBhZnRlci5wYXJlbnQoKTtcbiAgICAgICAgZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbW92ZScsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2xlYXZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGFuIGFuaW1hdGlvbiBhbmQgdGhlbiByZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgICAqIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGR1cmluZyB0aGUgbmV4dFxuICAgICAgICogZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbGVhdmUnLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhZGRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYWRkQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBhZGRpdGlvbiBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSBhZGRDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGFscmVhZHkgY29udGFpbnMgdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgcmVtb3ZlZCBhdCBhIGxhdGVyIHN0ZXAuXG4gICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xuICAgICAgICogICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXG4gICAgICAgKiAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRjbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2FkZENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3JlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgcmVtb3ZhbCBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSByZW1vdmVDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgYWRkZWQgYXQgYSBsYXRlciBzdGVwLlxuICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBib3RoIHRoZSBhZGRpdGlvbiBhbmQgcmVtb3ZhbCBvZiBhIENTUyBjbGFzc2VzIG9uIGFuIGVsZW1lbnQgYW5kIChkdXJpbmcgdGhlIHByb2Nlc3MpXG4gICAgICAgKiAgICB0cmlnZ2VycyBhbiBhbmltYXRpb24gc3Vycm91bmRpbmcgdGhlIGNsYXNzIGFkZGl0aW9uL3JlbW92YWwuIE11Y2ggbGlrZSBgJGFuaW1hdGUuYWRkQ2xhc3NgIGFuZFxuICAgICAgICogICAgYCRhbmltYXRlLnJlbW92ZUNsYXNzYCwgYHNldENsYXNzYCB3aWxsIG9ubHkgZXZhbHVhdGUgdGhlIGNsYXNzZXMgYmVpbmcgYWRkZWQvcmVtb3ZlZCBvbmNlIGEgZGlnZXN0IGhhc1xuICAgICAgICogICAgcGFzc2VkLiBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcbiAgICAgICAqICAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWRkIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSByZW1vdmVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMuYWRkQ2xhc3MsIGFkZCk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgcmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3NldENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FuaW1hdGVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIGFuIGlubGluZSBhbmltYXRpb24gb24gdGhlIGVsZW1lbnQgd2hpY2ggYXBwbGllcyB0aGUgcHJvdmlkZWQgdG8gYW5kIGZyb20gQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqIElmIGFueSBkZXRlY3RlZCBDU1MgdHJhbnNpdGlvbiwga2V5ZnJhbWUgb3IgSmF2YVNjcmlwdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBjbGFzc05hbWUgdmFsdWUsIHRoZW4gdGhlIGFuaW1hdGlvbiB3aWxsIHRha2VcbiAgICAgICAqIG9uIHRoZSBwcm92aWRlZCBzdHlsZXMuIEZvciBleGFtcGxlLCBpZiBhIHRyYW5zaXRpb24gYW5pbWF0aW9uIGlzIHNldCBmb3IgdGhlIGdpdmVuIGNsYXNzTmFtZW0sIHRoZW4gdGhlIHByb3ZpZGVkIGBmcm9tYCBhbmRcbiAgICAgICAqIGB0b2Agc3R5bGVzIHdpbGwgYmUgYXBwbGllZCBhbG9uZ3NpZGUgdGhlIGdpdmVuIHRyYW5zaXRpb24uIElmIHRoZSBDU1Mgc3R5bGUgcHJvdmlkZWQgaW4gYGZyb21gIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nXG4gICAgICAgKiBzdHlsZSBpbiBgdG9gLCB0aGUgc3R5bGUgaW4gYGZyb21gIGlzIGFwcGxpZWQgaW1tZWRpYXRlbHksIGFuZCBubyBhbmltYXRpb24gaXMgcnVuLlxuICAgICAgICogSWYgYSBKYXZhU2NyaXB0IGFuaW1hdGlvbiBpcyBkZXRlY3RlZCB0aGVuIHRoZSBwcm92aWRlZCBzdHlsZXMgd2lsbCBiZSBnaXZlbiBpbiBhcyBmdW5jdGlvbiBwYXJhbWV0ZXJzIGludG8gdGhlIGBhbmltYXRlYFxuICAgICAgICogbWV0aG9kIChvciBhcyBwYXJ0IG9mIHRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyKTpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogbmdNb2R1bGUuYW5pbWF0aW9uKCcubXktaW5saW5lLWFuaW1hdGlvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICogICByZXR1cm4ge1xuICAgICAgICogICAgIGFuaW1hdGUgOiBmdW5jdGlvbihlbGVtZW50LCBmcm9tLCB0bywgZG9uZSwgb3B0aW9ucykge1xuICAgICAgICogICAgICAgLy9hbmltYXRpb25cbiAgICAgICAqICAgICAgIGRvbmUoKTtcbiAgICAgICAqICAgICB9XG4gICAgICAgKiAgIH1cbiAgICAgICAqIH0pO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1Mgc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0b1xuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGZyb20gdGhlIGZyb20gKHN0YXJ0aW5nKSBDU1Mgc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGFuZCBhY3Jvc3MgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0byB0aGUgdG8gKGRlc3RpbmF0aW9uKSBDU1Mgc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGFuZCBhY3Jvc3MgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gY2xhc3NOYW1lIGFuIG9wdGlvbmFsIENTUyBjbGFzcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uIElmXG4gICAgICAgKiAgICB0aGlzIHZhbHVlIGlzIGxlZnQgYXMgZW1wdHkgdGhlbiBhIENTUyBjbGFzcyBvZiBgbmctaW5saW5lLWFuaW1hdGVgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgIChOb3RlIHRoYXQgaWYgbm8gYW5pbWF0aW9uIGlzIGRldGVjdGVkIHRoZW4gdGhpcyB2YWx1ZSB3aWxsIG5vdCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LilcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIHRvLCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy5mcm9tID8gZXh0ZW5kKG9wdGlvbnMuZnJvbSwgZnJvbSkgOiBmcm9tO1xuICAgICAgICBvcHRpb25zLnRvICAgPSBvcHRpb25zLnRvICAgPyBleHRlbmQob3B0aW9ucy50bywgdG8pICAgICA6IHRvO1xuXG4gICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCAnbmctaW5saW5lLWFuaW1hdGUnO1xuICAgICAgICBvcHRpb25zLnRlbXBDbGFzc2VzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMudGVtcENsYXNzZXMsIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdhbmltYXRlJywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG59XTtcblxudmFyICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xuICAgIHZhciB3YWl0UXVldWUgPSBbXTtcblxuICAgIGZ1bmN0aW9uIHdhaXRGb3JUaWNrKGZuKSB7XG4gICAgICB3YWl0UXVldWUucHVzaChmbik7XG4gICAgICBpZiAod2FpdFF1ZXVlLmxlbmd0aCA+IDEpIHJldHVybjtcbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdhaXRRdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHdhaXRRdWV1ZVtpXSgpO1xuICAgICAgICB9XG4gICAgICAgIHdhaXRRdWV1ZSA9IFtdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhc3NlZCA9IGZhbHNlO1xuICAgICAgd2FpdEZvclRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHBhc3NlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICBwYXNzZWQgPyBjYWxsYmFjaygpIDogd2FpdEZvclRpY2soY2FsbGJhY2spO1xuICAgICAgfTtcbiAgICB9O1xuICB9XTtcbn07XG5cbnZhciAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckcScsICckc25pZmZlcicsICckJGFuaW1hdGVBc3luY1J1bicsICckZG9jdW1lbnQnLCAnJHRpbWVvdXQnLFxuICAgICAgIGZ1bmN0aW9uKCRxLCAgICRzbmlmZmVyLCAgICQkYW5pbWF0ZUFzeW5jUnVuLCAgICRkb2N1bWVudCwgICAkdGltZW91dCkge1xuXG4gICAgdmFyIElOSVRJQUxfU1RBVEUgPSAwO1xuICAgIHZhciBET05FX1BFTkRJTkdfU1RBVEUgPSAxO1xuICAgIHZhciBET05FX0NPTVBMRVRFX1NUQVRFID0gMjtcblxuICAgIEFuaW1hdGVSdW5uZXIuY2hhaW4gPSBmdW5jdGlvbihjaGFpbiwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBpbmRleCA9IDA7XG5cbiAgICAgIG5leHQoKTtcbiAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gY2hhaW4ubGVuZ3RoKSB7XG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhaW5baW5kZXhdKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFuaW1hdGVSdW5uZXIuYWxsID0gZnVuY3Rpb24ocnVubmVycywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICB2YXIgc3RhdHVzID0gdHJ1ZTtcbiAgICAgIGZvckVhY2gocnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgIHJ1bm5lci5kb25lKG9uUHJvZ3Jlc3MpO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgc3RhdHVzID0gc3RhdHVzICYmIHJlc3BvbnNlO1xuICAgICAgICBpZiAoKytjb3VudCA9PT0gcnVubmVycy5sZW5ndGgpIHtcbiAgICAgICAgICBjYWxsYmFjayhzdGF0dXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIEFuaW1hdGVSdW5uZXIoaG9zdCkge1xuICAgICAgdGhpcy5zZXRIb3N0KGhvc3QpO1xuXG4gICAgICB2YXIgcmFmVGljayA9ICQkYW5pbWF0ZUFzeW5jUnVuKCk7XG4gICAgICB2YXIgdGltZW91dFRpY2sgPSBmdW5jdGlvbihmbikge1xuICAgICAgICAkdGltZW91dChmbiwgMCwgZmFsc2UpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5fZG9uZUNhbGxiYWNrcyA9IFtdO1xuICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHZhciBkb2MgPSAkZG9jdW1lbnRbMF07XG5cbiAgICAgICAgLy8gdGhlIGRvY3VtZW50IG1heSBub3QgYmUgcmVhZHkgb3IgYXR0YWNoZWRcbiAgICAgICAgLy8gdG8gdGhlIG1vZHVsZSBmb3Igc29tZSBpbnRlcm5hbCB0ZXN0c1xuICAgICAgICBpZiAoZG9jICYmIGRvYy5oaWRkZW4pIHtcbiAgICAgICAgICB0aW1lb3V0VGljayhmbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmFmVGljayhmbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLl9zdGF0ZSA9IDA7XG4gICAgfVxuXG4gICAgQW5pbWF0ZVJ1bm5lci5wcm90b3R5cGUgPSB7XG4gICAgICBzZXRIb3N0OiBmdW5jdGlvbihob3N0KSB7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3QgfHwge307XG4gICAgICB9LFxuXG4gICAgICBkb25lOiBmdW5jdGlvbihmbikge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcbiAgICAgICAgICBmbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MucHVzaChmbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHByb2dyZXNzOiBub29wLFxuXG4gICAgICBnZXRQcm9taXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb21pc2UpIHtcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgdGhpcy5wcm9taXNlID0gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBzZWxmLmRvbmUoZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHN0YXR1cyA9PT0gZmFsc2UgPyByZWplY3QoKSA6IHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgICB9LFxuXG4gICAgICB0aGVuOiBmdW5jdGlvbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKCkudGhlbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcik7XG4gICAgICB9LFxuXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnY2F0Y2gnXShoYW5kbGVyKTtcbiAgICAgIH0sXG5cbiAgICAgICdmaW5hbGx5JzogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbJ2ZpbmFsbHknXShoYW5kbGVyKTtcbiAgICAgIH0sXG5cbiAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5wYXVzZSkge1xuICAgICAgICAgIHRoaXMuaG9zdC5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICByZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5ob3N0LnJlc3VtZSkge1xuICAgICAgICAgIHRoaXMuaG9zdC5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5lbmQpIHtcbiAgICAgICAgICB0aGlzLmhvc3QuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0sXG5cbiAgICAgIGNhbmNlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmhvc3QuY2FuY2VsKSB7XG4gICAgICAgICAgdGhpcy5ob3N0LmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc29sdmUoZmFsc2UpO1xuICAgICAgfSxcblxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlID09PSBJTklUSUFMX1NUQVRFKSB7XG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSBET05FX1BFTkRJTkdfU1RBVEU7XG4gICAgICAgICAgc2VsZi5fdGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX3Jlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfcmVzb2x2ZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XG4gICAgICAgICAgZm9yRWFjaCh0aGlzLl9kb25lQ2FsbGJhY2tzLCBmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4ocmVzcG9uc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgICAgICB0aGlzLl9zdGF0ZSA9IERPTkVfQ09NUExFVEVfU1RBVEU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEFuaW1hdGVSdW5uZXI7XG4gIH1dO1xufTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGFuaW1hdGVDc3NcbiAqIEBraW5kIG9iamVjdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB0aGUgY29yZSB2ZXJzaW9uIG9mIGAkYW5pbWF0ZUNzc2AuIEJ5IGRlZmF1bHQsIG9ubHkgd2hlbiB0aGUgYG5nQW5pbWF0ZWAgaXMgaW5jbHVkZWQsXG4gKiB0aGVuIHRoZSBgJGFuaW1hdGVDc3NgIHNlcnZpY2Ugd2lsbCBhY3R1YWxseSBwZXJmb3JtIGFuaW1hdGlvbnMuXG4gKlxuICogQ2xpY2sgaGVyZSB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlQ3NzIHRvIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gZm9yICRhbmltYXRlQ3NzfS5cbiAqL1xudmFyICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCAnJHEnLCAnJCRBbmltYXRlUnVubmVyJywgZnVuY3Rpb24oJCRyQUYsICRxLCAkJEFuaW1hdGVSdW5uZXIpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBpbml0aWFsT3B0aW9ucykge1xuICAgICAgLy8gYWxsIG9mIHRoZSBhbmltYXRpb24gZnVuY3Rpb25zIHNob3VsZCBjcmVhdGVcbiAgICAgIC8vIGEgY29weSBvZiB0aGUgb3B0aW9ucyBkYXRhLCBob3dldmVyLCBpZiBhXG4gICAgICAvLyBwYXJlbnQgc2VydmljZSBoYXMgYWxyZWFkeSBjcmVhdGVkIGEgY29weSB0aGVuXG4gICAgICAvLyB3ZSBzaG91bGQgc3RpY2sgdG8gdXNpbmcgdGhhdFxuICAgICAgdmFyIG9wdGlvbnMgPSBpbml0aWFsT3B0aW9ucyB8fCB7fTtcbiAgICAgIGlmICghb3B0aW9ucy4kJHByZXBhcmVkKSB7XG4gICAgICAgIG9wdGlvbnMgPSBjb3B5KG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiBhcHBseWluZyB0aGUgc3R5bGVzIHNpbmNlXG4gICAgICAvLyB0aGVyZSBpcyBubyBhbmltYXRpb24gdGhhdCBnb2VzIG9uIGF0IGFsbCBpblxuICAgICAgLy8gdGhpcyB2ZXJzaW9uIG9mICRhbmltYXRlQ3NzLlxuICAgICAgaWYgKG9wdGlvbnMuY2xlYW51cFN0eWxlcykge1xuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLnRvID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuZnJvbSkge1xuICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xuICAgICAgICBvcHRpb25zLmZyb20gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvKiBqc2hpbnQgbmV3Y2FwOiBmYWxzZSAqL1xuICAgICAgdmFyIGNsb3NlZCwgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHJ1bixcbiAgICAgICAgZW5kOiBydW5cbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bigpIHtcbiAgICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYXBwbHlBbmltYXRpb25Db250ZW50cygpO1xuICAgICAgICAgIGlmICghY2xvc2VkKSB7XG4gICAgICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFwcGx5QW5pbWF0aW9uQ29udGVudHMoKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmFkZENsYXNzKSB7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLmFkZENsYXNzKTtcbiAgICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVDbGFzcykge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3Mob3B0aW9ucy5yZW1vdmVDbGFzcyk7XG4gICAgICAgICAgb3B0aW9ucy5yZW1vdmVDbGFzcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudG8pIHtcbiAgICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLnRvKTtcbiAgICAgICAgICBvcHRpb25zLnRvID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1dO1xufTtcblxuLyogZ2xvYmFsIHN0cmlwSGFzaDogdHJ1ZSAqL1xuXG4vKipcbiAqICEgVGhpcyBpcyBhIHByaXZhdGUgdW5kb2N1bWVudGVkIHNlcnZpY2UgIVxuICpcbiAqIEBuYW1lICRicm93c2VyXG4gKiBAcmVxdWlyZXMgJGxvZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIG9iamVjdCBoYXMgdHdvIGdvYWxzOlxuICpcbiAqIC0gaGlkZSBhbGwgdGhlIGdsb2JhbCBzdGF0ZSBpbiB0aGUgYnJvd3NlciBjYXVzZWQgYnkgdGhlIHdpbmRvdyBvYmplY3RcbiAqIC0gYWJzdHJhY3QgYXdheSBhbGwgdGhlIGJyb3dzZXIgc3BlY2lmaWMgZmVhdHVyZXMgYW5kIGluY29uc2lzdGVuY2llc1xuICpcbiAqIEZvciB0ZXN0cyB3ZSBwcm92aWRlIHtAbGluayBuZ01vY2suJGJyb3dzZXIgbW9jayBpbXBsZW1lbnRhdGlvbn0gb2YgdGhlIGAkYnJvd3NlcmBcbiAqIHNlcnZpY2UsIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBjb252ZW5pZW50IHRlc3Rpbmcgb2YgdGhlIGFwcGxpY2F0aW9uIHdpdGhvdXQgdGhlIGludGVyYWN0aW9uIHdpdGhcbiAqIHRoZSByZWFsIGJyb3dzZXIgYXBpcy5cbiAqL1xuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gd2luZG93IFRoZSBnbG9iYWwgd2luZG93IG9iamVjdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkb2N1bWVudCBqUXVlcnkgd3JhcHBlZCBkb2N1bWVudC5cbiAqIEBwYXJhbSB7b2JqZWN0fSAkbG9nIHdpbmRvdy5jb25zb2xlIG9yIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGludGVyZmFjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSAkc25pZmZlciAkc25pZmZlciBzZXJ2aWNlXG4gKi9cbmZ1bmN0aW9uIEJyb3dzZXIod2luZG93LCBkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG4gICAgICBoaXN0b3J5ID0gd2luZG93Lmhpc3RvcnksXG4gICAgICBzZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQsXG4gICAgICBjbGVhclRpbWVvdXQgPSB3aW5kb3cuY2xlYXJUaW1lb3V0LFxuICAgICAgcGVuZGluZ0RlZmVySWRzID0ge307XG5cbiAgc2VsZi5pc01vY2sgPSBmYWxzZTtcblxuICB2YXIgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSAwO1xuICB2YXIgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzID0gW107XG5cbiAgLy8gVE9ETyh2b2p0YSk6IHJlbW92ZSB0aGlzIHRlbXBvcmFyeSBhcGlcbiAgc2VsZi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0ID0gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q7XG4gIHNlbGYuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IGZ1bmN0aW9uKCkgeyBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrOyB9O1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbihzdXBwb3J0cyBjdXJyeWluZykgYW5kIGRlY3JlbWVudHMgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgXG4gICAqIGNvdW50ZXIuIElmIHRoZSBjb3VudGVyIHJlYWNoZXMgMCwgYWxsIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYCBhcmUgZXhlY3V0ZWQuXG4gICAqL1xuICBmdW5jdGlvbiBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbikge1xuICAgIHRyeSB7XG4gICAgICBmbi5hcHBseShudWxsLCBzbGljZUFyZ3MoYXJndW1lbnRzLCAxKSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50LS07XG4gICAgICBpZiAob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPT09IDApIHtcbiAgICAgICAgd2hpbGUgKG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGxvZy5lcnJvcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIYXNoKHVybCkge1xuICAgIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgcmV0dXJuIGluZGV4ID09PSAtMSA/ICcnIDogdXJsLnN1YnN0cihpbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogTm90ZTogdGhpcyBtZXRob2QgaXMgdXNlZCBvbmx5IGJ5IHNjZW5hcmlvIHJ1bm5lclxuICAgKiBUT0RPKHZvanRhKTogcHJlZml4IHRoaXMgbWV0aG9kIHdpdGggJCQgP1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBubyBvdXRzdGFuZGluZyByZXF1ZXN0XG4gICAqL1xuICBzZWxmLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBVUkwgQVBJXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdmFyIGNhY2hlZFN0YXRlLCBsYXN0SGlzdG9yeVN0YXRlLFxuICAgICAgbGFzdEJyb3dzZXJVcmwgPSBsb2NhdGlvbi5ocmVmLFxuICAgICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5maW5kKCdiYXNlJyksXG4gICAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsLFxuICAgICAgZ2V0Q3VycmVudFN0YXRlID0gISRzbmlmZmVyLmhpc3RvcnkgPyBub29wIDogZnVuY3Rpb24gZ2V0Q3VycmVudFN0YXRlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBoaXN0b3J5LnN0YXRlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gTVNJRSBjYW4gcmVwb3J0ZWRseSB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIHN0YXRlIChVTkNPTkZJUk1FRCkuXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgY2FjaGVTdGF0ZSgpO1xuICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI3VybFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR0VUVEVSOlxuICAgKiBXaXRob3V0IGFueSBhcmd1bWVudCwgdGhpcyBtZXRob2QganVzdCByZXR1cm5zIGN1cnJlbnQgdmFsdWUgb2YgbG9jYXRpb24uaHJlZi5cbiAgICpcbiAgICogU0VUVEVSOlxuICAgKiBXaXRoIGF0IGxlYXN0IG9uZSBhcmd1bWVudCwgdGhpcyBtZXRob2Qgc2V0cyB1cmwgdG8gbmV3IHZhbHVlLlxuICAgKiBJZiBodG1sNSBoaXN0b3J5IGFwaSBzdXBwb3J0ZWQsIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGUgaXMgdXNlZCwgb3RoZXJ3aXNlXG4gICAqIGxvY2F0aW9uLmhyZWYvbG9jYXRpb24ucmVwbGFjZSBpcyB1c2VkLlxuICAgKiBSZXR1cm5zIGl0cyBvd24gaW5zdGFuY2UgdG8gYWxsb3cgY2hhaW5pbmdcbiAgICpcbiAgICogTk9URTogdGhpcyBhcGkgaXMgaW50ZW5kZWQgZm9yIHVzZSBvbmx5IGJ5IHRoZSAkbG9jYXRpb24gc2VydmljZS4gUGxlYXNlIHVzZSB0aGVcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gY2hhbmdlIHVybC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBOZXcgdXJsICh3aGVuIHVzZWQgYXMgc2V0dGVyKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlIFNob3VsZCBuZXcgdXJsIHJlcGxhY2UgY3VycmVudCBoaXN0b3J5IHJlY29yZD9cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBvYmplY3QgdG8gdXNlIHdpdGggcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZVxuICAgKi9cbiAgc2VsZi51cmwgPSBmdW5jdGlvbih1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XG4gICAgLy8gSW4gbW9kZXJuIGJyb3dzZXJzIGBoaXN0b3J5LnN0YXRlYCBpcyBgbnVsbGAgYnkgZGVmYXVsdDsgdHJlYXRpbmcgaXQgc2VwYXJhdGVseVxuICAgIC8vIGZyb20gYHVuZGVmaW5lZGAgd291bGQgY2F1c2UgYCRicm93c2VyLnVybCgnL2ZvbycpYCB0byBjaGFuZ2UgYGhpc3Rvcnkuc3RhdGVgXG4gICAgLy8gdG8gdW5kZWZpbmVkIHZpYSBgcHVzaFN0YXRlYC4gSW5zdGVhZCwgbGV0J3MgY2hhbmdlIGB1bmRlZmluZWRgIHRvIGBudWxsYCBoZXJlLlxuICAgIGlmIChpc1VuZGVmaW5lZChzdGF0ZSkpIHtcbiAgICAgIHN0YXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBBbmRyb2lkIEJyb3dzZXIgQkZDYWNoZSBjYXVzZXMgbG9jYXRpb24sIGhpc3RvcnkgcmVmZXJlbmNlIHRvIGJlY29tZSBzdGFsZS5cbiAgICBpZiAobG9jYXRpb24gIT09IHdpbmRvdy5sb2NhdGlvbikgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgaWYgKGhpc3RvcnkgIT09IHdpbmRvdy5oaXN0b3J5KSBoaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG5cbiAgICAvLyBzZXR0ZXJcbiAgICBpZiAodXJsKSB7XG4gICAgICB2YXIgc2FtZVN0YXRlID0gbGFzdEhpc3RvcnlTdGF0ZSA9PT0gc3RhdGU7XG5cbiAgICAgIC8vIERvbid0IGNoYW5nZSBhbnl0aGluZyBpZiBwcmV2aW91cyBhbmQgY3VycmVudCBVUkxzIGFuZCBzdGF0ZXMgbWF0Y2guIFRoaXMgYWxzbyBwcmV2ZW50c1xuICAgICAgLy8gSUU8MTAgZnJvbSBnZXR0aW5nIGludG8gcmVkaXJlY3QgbG9vcCB3aGVuIGluIExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIG1vZGUuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9jb21taXQvZmZiMjcwMVxuICAgICAgaWYgKGxhc3RCcm93c2VyVXJsID09PSB1cmwgJiYgKCEkc25pZmZlci5oaXN0b3J5IHx8IHNhbWVTdGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG4gICAgICB2YXIgc2FtZUJhc2UgPSBsYXN0QnJvd3NlclVybCAmJiBzdHJpcEhhc2gobGFzdEJyb3dzZXJVcmwpID09PSBzdHJpcEhhc2godXJsKTtcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gdXJsO1xuICAgICAgbGFzdEhpc3RvcnlTdGF0ZSA9IHN0YXRlO1xuICAgICAgLy8gRG9uJ3QgdXNlIGhpc3RvcnkgQVBJIGlmIG9ubHkgdGhlIGhhc2ggY2hhbmdlZFxuICAgICAgLy8gZHVlIHRvIGEgYnVnIGluIElFMTAvSUUxMSB3aGljaCBsZWFkc1xuICAgICAgLy8gdG8gbm90IGZpcmluZyBhIGBoYXNoY2hhbmdlYCBub3IgYHBvcHN0YXRlYCBldmVudFxuICAgICAgLy8gaW4gc29tZSBjYXNlcyAoc2VlICM5MTQzKS5cbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5ICYmICghc2FtZUJhc2UgfHwgIXNhbWVTdGF0ZSkpIHtcbiAgICAgICAgaGlzdG9yeVtyZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oc3RhdGUsICcnLCB1cmwpO1xuICAgICAgICBjYWNoZVN0YXRlKCk7XG4gICAgICAgIC8vIERvIHRoZSBhc3NpZ25tZW50IGFnYWluIHNvIHRoYXQgdGhvc2UgdHdvIHZhcmlhYmxlcyBhcmUgcmVmZXJlbnRpYWxseSBpZGVudGljYWwuXG4gICAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghc2FtZUJhc2UpIHtcbiAgICAgICAgICBwZW5kaW5nTG9jYXRpb24gPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gZ2V0SGFzaCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2NhdGlvbi5ocmVmICE9PSB1cmwpIHtcbiAgICAgICAgICBwZW5kaW5nTG9jYXRpb24gPSB1cmw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwZW5kaW5nTG9jYXRpb24pIHtcbiAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgLy8gZ2V0dGVyXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIC0gcGVuZGluZ0xvY2F0aW9uIGlzIG5lZWRlZCBhcyBicm93c2VycyBkb24ndCBhbGxvdyB0byByZWFkIG91dFxuICAgICAgLy8gICB0aGUgbmV3IGxvY2F0aW9uLmhyZWYgaWYgYSByZWxvYWQgaGFwcGVuZWQgb3IgaWYgdGhlcmUgaXMgYSBidWcgbGlrZSBpbiBpT1MgOSAoc2VlXG4gICAgICAvLyAgIGh0dHBzOi8vb3BlbnJhZGFyLmFwcHNwb3QuY29tLzIyMTg2MTA5KS5cbiAgICAgIC8vIC0gdGhlIHJlcGxhY2VtZW50IGlzIGEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NDA3MTcyXG4gICAgICByZXR1cm4gcGVuZGluZ0xvY2F0aW9uIHx8IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvJTI3L2csXCInXCIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjc3RhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGEgZ2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gaGlzdG9yeS5zdGF0ZSBvciBudWxsIGlmIGhpc3Rvcnkuc3RhdGUgaXMgdW5kZWZpbmVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBzdGF0ZVxuICAgKi9cbiAgc2VsZi5zdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjYWNoZWRTdGF0ZTtcbiAgfTtcblxuICB2YXIgdXJsQ2hhbmdlTGlzdGVuZXJzID0gW10sXG4gICAgICB1cmxDaGFuZ2VJbml0ID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UoKSB7XG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbnVsbDtcbiAgICBjYWNoZVN0YXRlKCk7XG4gICAgZmlyZVVybENoYW5nZSgpO1xuICB9XG5cbiAgLy8gVGhpcyB2YXJpYWJsZSBzaG91bGQgYmUgdXNlZCAqb25seSogaW5zaWRlIHRoZSBjYWNoZVN0YXRlIGZ1bmN0aW9uLlxuICB2YXIgbGFzdENhY2hlZFN0YXRlID0gbnVsbDtcbiAgZnVuY3Rpb24gY2FjaGVTdGF0ZSgpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBiZSB0aGUgb25seSBwbGFjZSBpbiAkYnJvd3NlciB3aGVyZSBgaGlzdG9yeS5zdGF0ZWAgaXMgcmVhZC5cbiAgICBjYWNoZWRTdGF0ZSA9IGdldEN1cnJlbnRTdGF0ZSgpO1xuICAgIGNhY2hlZFN0YXRlID0gaXNVbmRlZmluZWQoY2FjaGVkU3RhdGUpID8gbnVsbCA6IGNhY2hlZFN0YXRlO1xuXG4gICAgLy8gUHJldmVudCBjYWxsYmFja3MgZm8gZmlyZSB0d2ljZSBpZiBib3RoIGhhc2hjaGFuZ2UgJiBwb3BzdGF0ZSB3ZXJlIGZpcmVkLlxuICAgIGlmIChlcXVhbHMoY2FjaGVkU3RhdGUsIGxhc3RDYWNoZWRTdGF0ZSkpIHtcbiAgICAgIGNhY2hlZFN0YXRlID0gbGFzdENhY2hlZFN0YXRlO1xuICAgIH1cbiAgICBsYXN0Q2FjaGVkU3RhdGUgPSBjYWNoZWRTdGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpcmVVcmxDaGFuZ2UoKSB7XG4gICAgaWYgKGxhc3RCcm93c2VyVXJsID09PSBzZWxmLnVybCgpICYmIGxhc3RIaXN0b3J5U3RhdGUgPT09IGNhY2hlZFN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGFzdEJyb3dzZXJVcmwgPSBzZWxmLnVybCgpO1xuICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcbiAgICBmb3JFYWNoKHVybENoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHNlbGYudXJsKCksIGNhY2hlZFN0YXRlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNvblVybENoYW5nZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCwgd2hlbiB1cmwgY2hhbmdlcy5cbiAgICpcbiAgICogSXQncyBvbmx5IGNhbGxlZCB3aGVuIHRoZSB1cmwgaXMgY2hhbmdlZCBmcm9tIG91dHNpZGUgb2YgYW5ndWxhcjpcbiAgICogLSB1c2VyIHR5cGVzIGRpZmZlcmVudCB1cmwgaW50byBhZGRyZXNzIGJhclxuICAgKiAtIHVzZXIgY2xpY2tzIG9uIGhpc3RvcnkgKGZvcndhcmQvYmFjaykgYnV0dG9uXG4gICAqIC0gdXNlciBjbGlja3Mgb24gYSBsaW5rXG4gICAqXG4gICAqIEl0J3Mgbm90IGNhbGxlZCB3aGVuIHVybCBpcyBjaGFuZ2VkIGJ5ICRicm93c2VyLnVybCgpIG1ldGhvZFxuICAgKlxuICAgKiBUaGUgbGlzdGVuZXIgZ2V0cyBjYWxsZWQgd2l0aCBuZXcgdXJsIGFzIHBhcmFtZXRlci5cbiAgICpcbiAgICogTk9URTogdGhpcyBhcGkgaXMgaW50ZW5kZWQgZm9yIHVzZSBvbmx5IGJ5IHRoZSAkbG9jYXRpb24gc2VydmljZS4gUGxlYXNlIHVzZSB0aGVcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gbW9uaXRvciB1cmwgY2hhbmdlcyBpbiBhbmd1bGFyIGFwcHMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdXJsIGNoYW5nZXMuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKHN0cmluZyl9IFJldHVybnMgdGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXIgZm4gLSBoYW5keSBpZiB0aGUgZm4gaXMgYW5vbnltb3VzLlxuICAgKi9cbiAgc2VsZi5vblVybENoYW5nZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ETyh2b2p0YSk6IHJlZmFjdG9yIHRvIHVzZSBub2RlJ3Mgc3ludGF4IGZvciBldmVudHNcbiAgICBpZiAoIXVybENoYW5nZUluaXQpIHtcbiAgICAgIC8vIFdlIGxpc3RlbiBvbiBib3RoIChoYXNoY2hhbmdlL3BvcHN0YXRlKSB3aGVuIGF2YWlsYWJsZSwgYXMgc29tZSBicm93c2VycyAoZS5nLiBPcGVyYSlcbiAgICAgIC8vIGRvbid0IGZpcmUgcG9wc3RhdGUgd2hlbiB1c2VyIGNoYW5nZSB0aGUgYWRkcmVzcyBiYXIgYW5kIGRvbid0IGZpcmUgaGFzaGNoYW5nZSB3aGVuIHVybFxuICAgICAgLy8gY2hhbmdlZCBieSBwdXNoL3JlcGxhY2VTdGF0ZVxuXG4gICAgICAvLyBodG1sNSBoaXN0b3J5IGFwaSAtIHBvcHN0YXRlIGV2ZW50XG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSkganFMaXRlKHdpbmRvdykub24oJ3BvcHN0YXRlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xuICAgICAgLy8gaGFzaGNoYW5nZSBldmVudFxuICAgICAganFMaXRlKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG5cbiAgICAgIHVybENoYW5nZUluaXQgPSB0cnVlO1xuICAgIH1cblxuICAgIHVybENoYW5nZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFJlbW92ZSBwb3BzdGF0ZSBhbmQgaGFzaGNoYW5nZSBoYW5kbGVyIGZyb20gd2luZG93LlxuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgJHJvb3RTY29wZS5cbiAgICovXG4gIHNlbGYuJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCA9IGZ1bmN0aW9uKCkge1xuICAgIGpxTGl0ZSh3aW5kb3cpLm9mZignaGFzaGNoYW5nZSBwb3BzdGF0ZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHVybCBoYXMgY2hhbmdlZCBvdXRzaWRlIG9mIEFuZ3VsYXIuXG4gICAqIE5lZWRzIHRvIGJlIGV4cG9ydGVkIHRvIGJlIGFibGUgdG8gY2hlY2sgZm9yIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gZG9uZSBpbiBzeW5jLFxuICAgKiBhcyBoYXNoY2hhbmdlL3BvcHN0YXRlIGV2ZW50cyBmaXJlIGluIGFzeW5jLlxuICAgKi9cbiAgc2VsZi4kJGNoZWNrVXJsQ2hhbmdlID0gZmlyZVVybENoYW5nZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBNaXNjIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNiYXNlSHJlZlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0dXJucyBjdXJyZW50IDxiYXNlIGhyZWY+XG4gICAqIChhbHdheXMgcmVsYXRpdmUgLSB3aXRob3V0IGRvbWFpbilcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgYmFzZSBocmVmXG4gICAqL1xuICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhyZWYgPSBiYXNlRWxlbWVudC5hdHRyKCdocmVmJyk7XG4gICAgcmV0dXJuIGhyZWYgPyBocmVmLnJlcGxhY2UoL14oaHR0cHM/XFw6KT9cXC9cXC9bXlxcL10qLywgJycpIDogJyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiwgd2hvJ3MgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWZlcnJlZC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gb2YgbWlsbGlzZWNvbmRzIHRvIGRlZmVyIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG4gICAqIEByZXR1cm5zIHsqfSBEZWZlcklkIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSB0YXNrIHZpYSBgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKClgLlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRXhlY3V0ZXMgYSBmbiBhc3luY2hyb25vdXNseSB2aWEgYHNldFRpbWVvdXQoZm4sIGRlbGF5KWAuXG4gICAqXG4gICAqIFVubGlrZSB3aGVuIGNhbGxpbmcgYHNldFRpbWVvdXRgIGRpcmVjdGx5LCBpbiB0ZXN0IHRoaXMgZnVuY3Rpb24gaXMgbW9ja2VkIGFuZCBpbnN0ZWFkIG9mIHVzaW5nXG4gICAqIGBzZXRUaW1lb3V0YCBpbiB0ZXN0cywgdGhlIGZucyBhcmUgcXVldWVkIGluIGFuIGFycmF5LCB3aGljaCBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBmbHVzaGVkXG4gICAqIHZpYSBgJGJyb3dzZXIuZGVmZXIuZmx1c2goKWAuXG4gICAqXG4gICAqL1xuICBzZWxmLmRlZmVyID0gZnVuY3Rpb24oZm4sIGRlbGF5KSB7XG4gICAgdmFyIHRpbWVvdXRJZDtcbiAgICBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrO1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBkZWxldGUgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF07XG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbik7XG4gICAgfSwgZGVsYXkgfHwgMCk7XG4gICAgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF0gPSB0cnVlO1xuICAgIHJldHVybiB0aW1lb3V0SWQ7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXIuY2FuY2VsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYW5jZWxzIGEgZGVmZXJyZWQgdGFzayBpZGVudGlmaWVkIHdpdGggYGRlZmVySWRgLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRlZmVySWQgVG9rZW4gcmV0dXJuZWQgYnkgdGhlIGAkYnJvd3Nlci5kZWZlcmAgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XG4gICAqICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZC5cbiAgICovXG4gIHNlbGYuZGVmZXIuY2FuY2VsID0gZnVuY3Rpb24oZGVmZXJJZCkge1xuICAgIGlmIChwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF0pIHtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF07XG4gICAgICBjbGVhclRpbWVvdXQoZGVmZXJJZCk7XG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbn1cblxuZnVuY3Rpb24gJEJyb3dzZXJQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2cnLCAnJHNuaWZmZXInLCAnJGRvY3VtZW50JyxcbiAgICAgIGZ1bmN0aW9uKCR3aW5kb3csICRsb2csICRzbmlmZmVyLCAkZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyKCR3aW5kb3csICRkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpO1xuICAgICAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRjYWNoZUZhY3RvcnlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZhY3RvcnkgdGhhdCBjb25zdHJ1Y3RzIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3RzIGFuZCBnaXZlcyBhY2Nlc3MgdG9cbiAqIHRoZW0uXG4gKlxuICogYGBganNcbiAqXG4gKiAgdmFyIGNhY2hlID0gJGNhY2hlRmFjdG9yeSgnY2FjaGVJZCcpO1xuICogIGV4cGVjdCgkY2FjaGVGYWN0b3J5LmdldCgnY2FjaGVJZCcpKS50b0JlKGNhY2hlKTtcbiAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ25vU3VjaENhY2hlSWQnKSkubm90LnRvQmVEZWZpbmVkKCk7XG4gKlxuICogIGNhY2hlLnB1dChcImtleVwiLCBcInZhbHVlXCIpO1xuICogIGNhY2hlLnB1dChcImFub3RoZXIga2V5XCIsIFwiYW5vdGhlciB2YWx1ZVwiKTtcbiAqXG4gKiAgLy8gV2UndmUgc3BlY2lmaWVkIG5vIG9wdGlvbnMgb24gY3JlYXRpb25cbiAqICBleHBlY3QoY2FjaGUuaW5mbygpKS50b0VxdWFsKHtpZDogJ2NhY2hlSWQnLCBzaXplOiAyfSk7XG4gKlxuICogYGBgXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZUlkIE5hbWUgb3IgaWQgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgY2FjaGUuXG4gKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIGNhY2hlIGJlaGF2aW9yLiBQcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBge251bWJlcj19YCBgY2FwYWNpdHlgIOKAlCB0dXJucyB0aGUgY2FjaGUgaW50byBMUlUgY2FjaGUuXG4gKlxuICogQHJldHVybnMge29iamVjdH0gTmV3bHkgY3JlYXRlZCBjYWNoZSBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHNldCBvZiBtZXRob2RzOlxuICpcbiAqIC0gYHtvYmplY3R9YCBgaW5mbygpYCDigJQgUmV0dXJucyBpZCwgc2l6ZSwgYW5kIG9wdGlvbnMgb2YgY2FjaGUuXG4gKiAtIGB7eyp9fWAgYHB1dCh7c3RyaW5nfSBrZXksIHsqfSB2YWx1ZSlgIOKAlCBQdXRzIGEgbmV3IGtleS12YWx1ZSBwYWlyIGludG8gdGhlIGNhY2hlIGFuZCByZXR1cm5zXG4gKiAgIGl0LlxuICogLSBge3sqfX1gIGBnZXQoe3N0cmluZ30ga2V5KWAg4oCUIFJldHVybnMgY2FjaGVkIHZhbHVlIGZvciBga2V5YCBvciB1bmRlZmluZWQgZm9yIGNhY2hlIG1pc3MuXG4gKiAtIGB7dm9pZH1gIGByZW1vdmUoe3N0cmluZ30ga2V5KWAg4oCUIFJlbW92ZXMgYSBrZXktdmFsdWUgcGFpciBmcm9tIHRoZSBjYWNoZS5cbiAqIC0gYHt2b2lkfWAgYHJlbW92ZUFsbCgpYCDigJQgUmVtb3ZlcyBhbGwgY2FjaGVkIHZhbHVlcy5cbiAqIC0gYHt2b2lkfWAgYGRlc3Ryb3koKWAg4oCUIFJlbW92ZXMgcmVmZXJlbmNlcyB0byB0aGlzIGNhY2hlIGZyb20gJGNhY2hlRmFjdG9yeS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY2FjaGVFeGFtcGxlQXBwXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQ2FjaGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZUtleVwiIHBsYWNlaG9sZGVyPVwiS2V5XCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZVZhbHVlXCIgcGxhY2Vob2xkZXI9XCJWYWx1ZVwiPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInB1dChuZXdDYWNoZUtleSwgbmV3Q2FjaGVWYWx1ZSlcIj5DYWNoZTwvYnV0dG9uPlxuXG4gICAgICAgICA8cCBuZy1pZj1cImtleXMubGVuZ3RoXCI+Q2FjaGVkIFZhbHVlczwvcD5cbiAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwia2V5IGluIGtleXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XG4gICAgICAgICAgIDxiIG5nLWJpbmQ9XCJjYWNoZS5nZXQoa2V5KVwiPjwvYj5cbiAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICA8cD5DYWNoZSBJbmZvPC9wPlxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gY2FjaGUuaW5mbygpXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XG4gICAgICAgICAgIDxzcGFuPjogPC9zcGFuPlxuICAgICAgICAgICA8YiBuZy1iaW5kPVwidmFsdWVcIj48L2I+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2NhY2hlRXhhbXBsZUFwcCcsIFtdKS5cbiAgICAgICAgIGNvbnRyb2xsZXIoJ0NhY2hlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkc2NvcGUsICRjYWNoZUZhY3RvcnkpIHtcbiAgICAgICAgICAgJHNjb3BlLmtleXMgPSBbXTtcbiAgICAgICAgICAgJHNjb3BlLmNhY2hlID0gJGNhY2hlRmFjdG9yeSgnY2FjaGVJZCcpO1xuICAgICAgICAgICAkc2NvcGUucHV0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5jYWNoZS5nZXQoa2V5KSkpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgJHNjb3BlLmNhY2hlLnB1dChrZXksIGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsdWUpID8gbnVsbCA6IHZhbHVlKTtcbiAgICAgICAgICAgfTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgcCB7XG4gICAgICAgICBtYXJnaW46IDEwcHggMCAzcHg7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICRDYWNoZUZhY3RvcnlQcm92aWRlcigpIHtcblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2FjaGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBjYWNoZUZhY3RvcnkoY2FjaGVJZCwgb3B0aW9ucykge1xuICAgICAgaWYgKGNhY2hlSWQgaW4gY2FjaGVzKSB7XG4gICAgICAgIHRocm93IG1pbkVycignJGNhY2hlRmFjdG9yeScpKCdpaWQnLCBcIkNhY2hlSWQgJ3swfScgaXMgYWxyZWFkeSB0YWtlbiFcIiwgY2FjaGVJZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplID0gMCxcbiAgICAgICAgICBzdGF0cyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge2lkOiBjYWNoZUlkfSksXG4gICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpLFxuICAgICAgICAgIGNhcGFjaXR5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jYXBhY2l0eSkgfHwgTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICBscnVIYXNoID0gY3JlYXRlTWFwKCksXG4gICAgICAgICAgZnJlc2hFbmQgPSBudWxsLFxuICAgICAgICAgIHN0YWxlRW5kID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgdHlwZVxuICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSBjYWNoZSBvYmplY3QgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZGF0YSwgcHJpbWFyaWx5IHVzZWQgYnlcbiAgICAgICAqIHtAbGluayAkaHR0cCAkaHR0cH0gYW5kIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNjcmlwdCBzY3JpcHR9IGRpcmVjdGl2ZSB0byBjYWNoZVxuICAgICAgICogdGVtcGxhdGVzIGFuZCBvdGhlciBkYXRhLlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgYW5ndWxhci5tb2R1bGUoJ3N1cGVyQ2FjaGUnKVxuICAgICAgICogICAgLmZhY3RvcnkoJ3N1cGVyQ2FjaGUnLCBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgKiAgICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCdzdXBlci1jYWNoZScpO1xuICAgICAgICogICAgfV0pO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogRXhhbXBsZSB0ZXN0OlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgaXQoJ3Nob3VsZCBiZWhhdmUgbGlrZSBhIGNhY2hlJywgaW5qZWN0KGZ1bmN0aW9uKHN1cGVyQ2FjaGUpIHtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdrZXknLCAndmFsdWUnKTtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdhbm90aGVyIGtleScsICdhbm90aGVyIHZhbHVlJyk7XG4gICAgICAgKlxuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXG4gICAgICAgKiAgICAgIHNpemU6IDJcbiAgICAgICAqICAgIH0pO1xuICAgICAgICpcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlKCdhbm90aGVyIGtleScpO1xuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuZ2V0KCdhbm90aGVyIGtleScpKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICAgKlxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxuICAgICAgICogICAgICBzaXplOiAwXG4gICAgICAgKiAgICB9KTtcbiAgICAgICAqICB9KSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3B1dFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW5zZXJ0cyBhIG5hbWVkIGVudHJ5IGludG8gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgdG8gYmVcbiAgICAgICAgICogcmV0cmlldmVkIGxhdGVyLCBhbmQgaW5jcmVtZW50aW5nIHRoZSBzaXplIG9mIHRoZSBjYWNoZSBpZiB0aGUga2V5IHdhcyBub3QgYWxyZWFkeVxuICAgICAgICAgKiBwcmVzZW50IGluIHRoZSBjYWNoZS4gSWYgYmVoYXZpbmcgbGlrZSBhbiBMUlUgY2FjaGUsIGl0IHdpbGwgYWxzbyByZW1vdmUgc3RhbGVcbiAgICAgICAgICogZW50cmllcyBmcm9tIHRoZSBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IHdpbGwgbm90IGluc2VydCB1bmRlZmluZWQgdmFsdWVzIGludG8gdGhlIGNhY2hlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdW5kZXIgd2hpY2ggdGhlIGNhY2hlZCBkYXRhIGlzIHN0b3JlZC5cbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSB0aGUgdmFsdWUgdG8gc3RvcmUgYWxvbmdzaWRlIHRoZSBrZXkuIElmIGl0IGlzIHVuZGVmaW5lZCwgdGhlIGtleVxuICAgICAgICAgKiAgICB3aWxsIG5vdCBiZSBzdG9yZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XSB8fCAobHJ1SGFzaFtrZXldID0ge2tleToga2V5fSk7XG5cbiAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghKGtleSBpbiBkYXRhKSkgc2l6ZSsrO1xuICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgICAgaWYgKHNpemUgPiBjYXBhY2l0eSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNnZXRcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHJpZXZlcyBuYW1lZCBkYXRhIHN0b3JlZCBpbiB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBkYXRhIHRvIGJlIHJldHJpZXZlZFxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVtb3ZlcyBhbiBlbnRyeSBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PSBmcmVzaEVuZCkgZnJlc2hFbmQgPSBscnVFbnRyeS5wO1xuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09IHN0YWxlRW5kKSBzdGFsZUVuZCA9IGxydUVudHJ5Lm47XG4gICAgICAgICAgICBsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBscnVIYXNoW2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSByZXR1cm47XG5cbiAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAgICAgIHNpemUtLTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlQWxsXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDbGVhcnMgdGhlIGNhY2hlIG9iamVjdCBvZiBhbnkgZW50cmllcy5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpO1xuICAgICAgICAgIHNpemUgPSAwO1xuICAgICAgICAgIGxydUhhc2ggPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgICBmcmVzaEVuZCA9IHN0YWxlRW5kID0gbnVsbDtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZGVzdHJveVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRGVzdHJveXMgdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgZW50aXJlbHksXG4gICAgICAgICAqIHJlbW92aW5nIGl0IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9IHNldC5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRhdGEgPSBudWxsO1xuICAgICAgICAgIHN0YXRzID0gbnVsbDtcbiAgICAgICAgICBscnVIYXNoID0gbnVsbDtcbiAgICAgICAgICBkZWxldGUgY2FjaGVzW2NhY2hlSWRdO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNpbmZvXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXRyaWV2ZSBpbmZvcm1hdGlvbiByZWdhcmRpbmcgYSBwYXJ0aWN1bGFyIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICAgKiAgIDx1bD5cbiAgICAgICAgICogICAgIDxsaT4qKmlkKio6IHRoZSBpZCBvZiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxuICAgICAgICAgKiAgICAgPGxpPioqc2l6ZSoqOiB0aGUgbnVtYmVyIG9mIGVudHJpZXMga2VwdCBpbiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxuICAgICAgICAgKiAgICAgPGxpPioqLi4uKio6IGFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZnJvbSB0aGUgb3B0aW9ucyBvYmplY3Qgd2hlbiBjcmVhdGluZyB0aGVcbiAgICAgICAgICogICAgICAgY2FjaGUuPC9saT5cbiAgICAgICAgICogICA8L3VsPlxuICAgICAgICAgKi9cbiAgICAgICAgaW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgc3RhdHMsIHtzaXplOiBzaXplfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBtYWtlcyB0aGUgYGVudHJ5YCB0aGUgZnJlc2hFbmQgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiByZWZyZXNoKGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeSAhPSBmcmVzaEVuZCkge1xuICAgICAgICAgIGlmICghc3RhbGVFbmQpIHtcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFsZUVuZCA9PSBlbnRyeSkge1xuICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeS5uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpbmsoZW50cnkubiwgZW50cnkucCk7XG4gICAgICAgICAgbGluayhlbnRyeSwgZnJlc2hFbmQpO1xuICAgICAgICAgIGZyZXNoRW5kID0gZW50cnk7XG4gICAgICAgICAgZnJlc2hFbmQubiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIGJpZGlyZWN0aW9uYWxseSBsaW5rcyB0d28gZW50cmllcyBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGxpbmsobmV4dEVudHJ5LCBwcmV2RW50cnkpIHtcbiAgICAgICAgaWYgKG5leHRFbnRyeSAhPSBwcmV2RW50cnkpIHtcbiAgICAgICAgICBpZiAobmV4dEVudHJ5KSBuZXh0RW50cnkucCA9IHByZXZFbnRyeTsgLy9wIHN0YW5kcyBmb3IgcHJldmlvdXMsICdwcmV2JyBkaWRuJ3QgbWluaWZ5XG4gICAgICAgICAgaWYgKHByZXZFbnRyeSkgcHJldkVudHJ5Lm4gPSBuZXh0RW50cnk7IC8vbiBzdGFuZHMgZm9yIG5leHQsICduZXh0JyBkaWRuJ3QgbWluaWZ5XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2luZm9cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdldCBpbmZvcm1hdGlvbiBhYm91dCBhbGwgdGhlIGNhY2hlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IC0ga2V5LXZhbHVlIG1hcCBvZiBgY2FjaGVJZGAgdG8gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGBjYWNoZSNpbmZvYFxuICAgKi9cbiAgICBjYWNoZUZhY3RvcnkuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgIGZvckVhY2goY2FjaGVzLCBmdW5jdGlvbihjYWNoZSwgY2FjaGVJZCkge1xuICAgICAgICBpbmZvW2NhY2hlSWRdID0gY2FjaGUuaW5mbygpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNnZXRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdldCBhY2Nlc3MgdG8gYSBjYWNoZSBvYmplY3QgYnkgdGhlIGBjYWNoZUlkYCB1c2VkIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZUlkIE5hbWUgb3IgaWQgb2YgYSBjYWNoZSB0byBhY2Nlc3MuXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IENhY2hlIG9iamVjdCBpZGVudGlmaWVkIGJ5IHRoZSBjYWNoZUlkIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoIGNhY2hlLlxuICAgKi9cbiAgICBjYWNoZUZhY3RvcnkuZ2V0ID0gZnVuY3Rpb24oY2FjaGVJZCkge1xuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXTtcbiAgICB9O1xuXG5cbiAgICByZXR1cm4gY2FjaGVGYWN0b3J5O1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkdGVtcGxhdGVDYWNoZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGZpcnN0IHRpbWUgYSB0ZW1wbGF0ZSBpcyB1c2VkLCBpdCBpcyBsb2FkZWQgaW4gdGhlIHRlbXBsYXRlIGNhY2hlIGZvciBxdWljayByZXRyaWV2YWwuIFlvdVxuICogY2FuIGxvYWQgdGVtcGxhdGVzIGRpcmVjdGx5IGludG8gdGhlIGNhY2hlIGluIGEgYHNjcmlwdGAgdGFnLCBvciBieSBjb25zdW1pbmcgdGhlXG4gKiBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2UgZGlyZWN0bHkuXG4gKlxuICogQWRkaW5nIHZpYSB0aGUgYHNjcmlwdGAgdGFnOlxuICpcbiAqIGBgYGh0bWxcbiAqICAgPHNjcmlwdCB0eXBlPVwidGV4dC9uZy10ZW1wbGF0ZVwiIGlkPVwidGVtcGxhdGVJZC5odG1sXCI+XG4gKiAgICAgPHA+VGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGU8L3A+XG4gKiAgIDwvc2NyaXB0PlxuICogYGBgXG4gKlxuICogKipOb3RlOioqIHRoZSBgc2NyaXB0YCB0YWcgY29udGFpbmluZyB0aGUgdGVtcGxhdGUgZG9lcyBub3QgbmVlZCB0byBiZSBpbmNsdWRlZCBpbiB0aGUgYGhlYWRgIG9mXG4gKiB0aGUgZG9jdW1lbnQsIGJ1dCBpdCBtdXN0IGJlIGEgZGVzY2VuZGVudCBvZiB0aGUge0BsaW5rIG5nLiRyb290RWxlbWVudCAkcm9vdEVsZW1lbnR9IChJRSxcbiAqIGVsZW1lbnQgd2l0aCBuZy1hcHAgYXR0cmlidXRlKSwgb3RoZXJ3aXNlIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIGlnbm9yZWQuXG4gKlxuICogQWRkaW5nIHZpYSB0aGUgYCR0ZW1wbGF0ZUNhY2hlYCBzZXJ2aWNlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbXlBcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSk7XG4gKiBteUFwcC5ydW4oZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAqICAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0ZW1wbGF0ZUlkLmh0bWwnLCAnVGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGUnKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVG8gcmV0cmlldmUgdGhlIHRlbXBsYXRlIGxhdGVyLCBzaW1wbHkgdXNlIGl0IGluIHlvdXIgSFRNTDpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctaW5jbHVkZT1cIiAndGVtcGxhdGVJZC5odG1sJyBcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIG9yIGdldCBpdCB2aWEgSmF2YXNjcmlwdDpcbiAqIGBgYGpzXG4gKiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RlbXBsYXRlSWQuaHRtbCcpXG4gKiBgYGBcbiAqXG4gKiBTZWUge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0uXG4gKlxuICovXG5mdW5jdGlvbiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3RlbXBsYXRlcycpO1xuICB9XTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxuLyogISBWQVJJQUJMRS9GVU5DVElPTiBOQU1JTkcgQ09OVkVOVElPTlMgVEhBVCBBUFBMWSBUTyBUSElTIEZJTEUhXG4gKlxuICogRE9NLXJlbGF0ZWQgdmFyaWFibGVzOlxuICpcbiAqIC0gXCJub2RlXCIgLSBET00gTm9kZVxuICogLSBcImVsZW1lbnRcIiAtIERPTSBFbGVtZW50IG9yIE5vZGVcbiAqIC0gXCIkbm9kZVwiIG9yIFwiJGVsZW1lbnRcIiAtIGpxTGl0ZS13cmFwcGVkIG5vZGUgb3IgZWxlbWVudFxuICpcbiAqXG4gKiBDb21waWxlciByZWxhdGVkIHN0dWZmOlxuICpcbiAqIC0gXCJsaW5rRm5cIiAtIGxpbmtpbmcgZm4gb2YgYSBzaW5nbGUgZGlyZWN0aXZlXG4gKiAtIFwibm9kZUxpbmtGblwiIC0gZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjaGlsZExpbmtGblwiIC0gIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGNoaWxkIG5vZGVzIG9mIGEgcGFydGljdWxhciBub2RlXG4gKiAtIFwiY29tcG9zaXRlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIGNvbXBpbGF0aW9uIHJvb3QgKG5vZGVMaXN0KVxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGNvbXBpbGVcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb21waWxlcyBhbiBIVE1MIHN0cmluZyBvciBET00gaW50byBhIHRlbXBsYXRlIGFuZCBwcm9kdWNlcyBhIHRlbXBsYXRlIGZ1bmN0aW9uLCB3aGljaFxuICogY2FuIHRoZW4gYmUgdXNlZCB0byBsaW5rIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBzY29wZWB9IGFuZCB0aGUgdGVtcGxhdGUgdG9nZXRoZXIuXG4gKlxuICogVGhlIGNvbXBpbGF0aW9uIGlzIGEgcHJvY2VzcyBvZiB3YWxraW5nIHRoZSBET00gdHJlZSBhbmQgbWF0Y2hpbmcgRE9NIGVsZW1lbnRzIHRvXG4gKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGlzIGRvY3VtZW50IGlzIGFuIGluLWRlcHRoIHJlZmVyZW5jZSBvZiBhbGwgZGlyZWN0aXZlIG9wdGlvbnMuXG4gKiBGb3IgYSBnZW50bGUgaW50cm9kdWN0aW9uIHRvIGRpcmVjdGl2ZXMgd2l0aCBleGFtcGxlcyBvZiBjb21tb24gdXNlIGNhc2VzLFxuICogc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZSBndWlkZX0uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyBDb21wcmVoZW5zaXZlIERpcmVjdGl2ZSBBUElcbiAqXG4gKiBUaGVyZSBhcmUgbWFueSBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgYSBkaXJlY3RpdmUuXG4gKlxuICogVGhlIGRpZmZlcmVuY2UgcmVzaWRlcyBpbiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IGNhbiBlaXRoZXIgcmV0dXJuIGEge0BsaW5rICRjb21waWxlI2RpcmVjdGl2ZS1kZWZpbml0aW9uLW9iamVjdCBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3QgKHNlZSBiZWxvdyl9XG4gKiB0aGF0IGRlZmluZXMgdGhlIGRpcmVjdGl2ZSBwcm9wZXJ0aWVzLCBvciBqdXN0IHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uIChhbGwgb3RoZXIgcHJvcGVydGllcyB3aWxsIGhhdmVcbiAqIHRoZSBkZWZhdWx0IHZhbHVlcykuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgXCJkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3RcIiBmb3JtLlxuICogPC9kaXY+XG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgZGlyZWN0aXZlIGRlY2xhcmVkIHdpdGggYSBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3Q6XG4gKlxuICogYGBganNcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcbiAqXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcbiAqICAgICAgIHByaW9yaXR5OiAwLFxuICogICAgICAgdGVtcGxhdGU6ICc8ZGl2PjwvZGl2PicsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8gdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmUuaHRtbCcsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXG4gKiAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcbiAqICAgICAgIHJlc3RyaWN0OiAnQScsXG4gKiAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZTogJ2h0bWwnLFxuICogICAgICAgc2NvcGU6IGZhbHNlLFxuICogICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdHJhbnNjbHVkZSwgb3RoZXJJbmplY3RhYmxlcykgeyAuLi4gfSxcbiAqICAgICAgIGNvbnRyb2xsZXJBczogJ3N0cmluZ0lkZW50aWZpZXInLFxuICogICAgICAgYmluZFRvQ29udHJvbGxlcjogZmFsc2UsXG4gKiAgICAgICByZXF1aXJlOiAnc2libGluZ0RpcmVjdGl2ZU5hbWUnLCAvLyBvciAvLyBbJ15wYXJlbnREaXJlY3RpdmVOYW1lJywgJz9vcHRpb25hbERpcmVjdGl2ZU5hbWUnLCAnP15vcHRpb25hbFBhcmVudCddLFxuICogICAgICAgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7XG4gKiAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxuICogICAgICAgICAgIHBvc3Q6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XG4gKiAgICAgICAgIH1cbiAqICAgICAgICAgLy8gb3JcbiAqICAgICAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XG4gKiAgICAgICB9LFxuICogICAgICAgLy8gb3JcbiAqICAgICAgIC8vIGxpbms6IHtcbiAqICAgICAgIC8vICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sXG4gKiAgICAgICAvLyAgcG9zdDogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cbiAqICAgICAgIC8vIH1cbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfVxuICogICAgIH07XG4gKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBBbnkgdW5zcGVjaWZpZWQgb3B0aW9ucyB3aWxsIHVzZSB0aGUgZGVmYXVsdCB2YWx1ZS4gWW91IGNhbiBzZWUgdGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93LlxuICogPC9kaXY+XG4gKlxuICogVGhlcmVmb3JlIHRoZSBhYm92ZSBjYW4gYmUgc2ltcGxpZmllZCBhczpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICpcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xuICogICAgICAgbGluazogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHsgLi4uIH1cbiAqICAgICB9O1xuICogICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xuICogICAgIC8vIG9yXG4gKiAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogIyMjIExpZmUtY3ljbGUgaG9va3NcbiAqIERpcmVjdGl2ZSBjb250cm9sbGVycyBjYW4gcHJvdmlkZSB0aGUgZm9sbG93aW5nIG1ldGhvZHMgdGhhdCBhcmUgY2FsbGVkIGJ5IEFuZ3VsYXIgYXQgcG9pbnRzIGluIHRoZSBsaWZlLWN5Y2xlIG9mIHRoZVxuICogZGlyZWN0aXZlOlxuICogKiBgJG9uSW5pdCgpYCAtIENhbGxlZCBvbiBlYWNoIGNvbnRyb2xsZXIgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVycyBvbiBhbiBlbGVtZW50IGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBhbmRcbiAqICAgaGFkIHRoZWlyIGJpbmRpbmdzIGluaXRpYWxpemVkIChhbmQgYmVmb3JlIHRoZSBwcmUgJmFtcDsgcG9zdCBsaW5raW5nIGZ1bmN0aW9ucyBmb3IgdGhlIGRpcmVjdGl2ZXMgb25cbiAqICAgdGhpcyBlbGVtZW50KS4gVGhpcyBpcyBhIGdvb2QgcGxhY2UgdG8gcHV0IGluaXRpYWxpemF0aW9uIGNvZGUgZm9yIHlvdXIgY29udHJvbGxlci5cbiAqICogYCRvbkNoYW5nZXMoY2hhbmdlc09iailgIC0gQ2FsbGVkIHdoZW5ldmVyIG9uZS13YXkgKGA8YCkgb3IgaW50ZXJwb2xhdGlvbiAoYEBgKSBiaW5kaW5ncyBhcmUgdXBkYXRlZC4gVGhlXG4gKiAgIGBjaGFuZ2VzT2JqYCBpcyBhIGhhc2ggd2hvc2Uga2V5cyBhcmUgdGhlIG5hbWVzIG9mIHRoZSBib3VuZCBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkLCBhbmQgdGhlIHZhbHVlcyBhcmUgYW5cbiAqICAgb2JqZWN0IG9mIHRoZSBmb3JtIGB7IGN1cnJlbnRWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgaXNGaXJzdENoYW5nZSgpIH1gLiBVc2UgdGhpcyBob29rIHRvIHRyaWdnZXIgdXBkYXRlcyB3aXRoaW4gYVxuICogICBjb21wb25lbnQgc3VjaCBhcyBjbG9uaW5nIHRoZSBib3VuZCB2YWx1ZSB0byBwcmV2ZW50IGFjY2lkZW50YWwgbXV0YXRpb24gb2YgdGhlIG91dGVyIHZhbHVlLlxuICogKiBgJGRvQ2hlY2soKWAgLSBDYWxsZWQgb24gZWFjaCB0dXJuIG9mIHRoZSBkaWdlc3QgY3ljbGUuIFByb3ZpZGVzIGFuIG9wcG9ydHVuaXR5IHRvIGRldGVjdCBhbmQgYWN0IG9uXG4gKiAgIGNoYW5nZXMuIEFueSBhY3Rpb25zIHRoYXQgeW91IHdpc2ggdG8gdGFrZSBpbiByZXNwb25zZSB0byB0aGUgY2hhbmdlcyB0aGF0IHlvdSBkZXRlY3QgbXVzdCBiZVxuICogICBpbnZva2VkIGZyb20gdGhpcyBob29rOyBpbXBsZW1lbnRpbmcgdGhpcyBoYXMgbm8gZWZmZWN0IG9uIHdoZW4gYCRvbkNoYW5nZXNgIGlzIGNhbGxlZC4gRm9yIGV4YW1wbGUsIHRoaXMgaG9va1xuICogICBjb3VsZCBiZSB1c2VmdWwgaWYgeW91IHdpc2ggdG8gcGVyZm9ybSBhIGRlZXAgZXF1YWxpdHkgY2hlY2ssIG9yIHRvIGNoZWNrIGEgRGF0ZSBvYmplY3QsIGNoYW5nZXMgdG8gd2hpY2ggd291bGQgbm90XG4gKiAgIGJlIGRldGVjdGVkIGJ5IEFuZ3VsYXIncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIHRodXMgbm90IHRyaWdnZXIgYCRvbkNoYW5nZXNgLiBUaGlzIGhvb2sgaXMgaW52b2tlZCB3aXRoIG5vIGFyZ3VtZW50cztcbiAqICAgaWYgZGV0ZWN0aW5nIGNoYW5nZXMsIHlvdSBtdXN0IHN0b3JlIHRoZSBwcmV2aW91cyB2YWx1ZShzKSBmb3IgY29tcGFyaXNvbiB0byB0aGUgY3VycmVudCB2YWx1ZXMuXG4gKiAqIGAkb25EZXN0cm95KClgIC0gQ2FsbGVkIG9uIGEgY29udHJvbGxlciB3aGVuIGl0cyBjb250YWluaW5nIHNjb3BlIGlzIGRlc3Ryb3llZC4gVXNlIHRoaXMgaG9vayBmb3IgcmVsZWFzaW5nXG4gKiAgIGV4dGVybmFsIHJlc291cmNlcywgd2F0Y2hlcyBhbmQgZXZlbnQgaGFuZGxlcnMuIE5vdGUgdGhhdCBjb21wb25lbnRzIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9va3MgY2FsbGVkIGluXG4gKiAgIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBgJHNjb3BlLiRicm9hZGNhc3RgIGV2ZW50cyBhcmUgdHJpZ2dlcmVkLCB3aGljaCBpcyB0b3AgZG93bi4gVGhpcyBtZWFucyB0aGF0IHBhcmVudFxuICogICBjb21wb25lbnRzIHdpbGwgaGF2ZSB0aGVpciBgJG9uRGVzdHJveSgpYCBob29rIGNhbGxlZCBiZWZvcmUgY2hpbGQgY29tcG9uZW50cy5cbiAqICogYCRwb3N0TGluaygpYCAtIENhbGxlZCBhZnRlciB0aGlzIGNvbnRyb2xsZXIncyBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW4gaGF2ZSBiZWVuIGxpbmtlZC4gU2ltaWxhciB0byB0aGUgcG9zdC1saW5rXG4gKiAgIGZ1bmN0aW9uIHRoaXMgaG9vayBjYW4gYmUgdXNlZCB0byBzZXQgdXAgRE9NIGV2ZW50IGhhbmRsZXJzIGFuZCBkbyBkaXJlY3QgRE9NIG1hbmlwdWxhdGlvbi5cbiAqICAgTm90ZSB0aGF0IGNoaWxkIGVsZW1lbnRzIHRoYXQgY29udGFpbiBgdGVtcGxhdGVVcmxgIGRpcmVjdGl2ZXMgd2lsbCBub3QgaGF2ZSBiZWVuIGNvbXBpbGVkIGFuZCBsaW5rZWQgc2luY2VcbiAqICAgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duIGNvbXBpbGF0aW9uIGFuZCBsaW5raW5nIGhhcyBiZWVuXG4gKiAgIHN1c3BlbmRlZCB1bnRpbCB0aGF0IG9jY3Vycy5cbiAqXG4gKiAjIyMjIENvbXBhcmlzb24gd2l0aCBBbmd1bGFyIDIgbGlmZS1jeWNsZSBob29rc1xuICogQW5ndWxhciAyIGFsc28gdXNlcyBsaWZlLWN5Y2xlIGhvb2tzIGZvciBpdHMgY29tcG9uZW50cy4gV2hpbGUgdGhlIEFuZ3VsYXIgMSBsaWZlLWN5Y2xlIGhvb2tzIGFyZSBzaW1pbGFyIHRoZXJlIGFyZVxuICogc29tZSBkaWZmZXJlbmNlcyB0aGF0IHlvdSBzaG91bGQgYmUgYXdhcmUgb2YsIGVzcGVjaWFsbHkgd2hlbiBpdCBjb21lcyB0byBtb3ZpbmcgeW91ciBjb2RlIGZyb20gQW5ndWxhciAxIHRvIEFuZ3VsYXIgMjpcbiAqXG4gKiAqIEFuZ3VsYXIgMSBob29rcyBhcmUgcHJlZml4ZWQgd2l0aCBgJGAsIHN1Y2ggYXMgYCRvbkluaXRgLiBBbmd1bGFyIDIgaG9va3MgYXJlIHByZWZpeGVkIHdpdGggYG5nYCwgc3VjaCBhcyBgbmdPbkluaXRgLlxuICogKiBBbmd1bGFyIDEgaG9va3MgY2FuIGJlIGRlZmluZWQgb24gdGhlIGNvbnRyb2xsZXIgcHJvdG90eXBlIG9yIGFkZGVkIHRvIHRoZSBjb250cm9sbGVyIGluc2lkZSBpdHMgY29uc3RydWN0b3IuXG4gKiAgIEluIEFuZ3VsYXIgMiB5b3UgY2FuIG9ubHkgZGVmaW5lIGhvb2tzIG9uIHRoZSBwcm90b3R5cGUgb2YgdGhlIENvbXBvbmVudCBjbGFzcy5cbiAqICogRHVlIHRvIHRoZSBkaWZmZXJlbmNlcyBpbiBjaGFuZ2UtZGV0ZWN0aW9uLCB5b3UgbWF5IGdldCBtYW55IG1vcmUgY2FsbHMgdG8gYCRkb0NoZWNrYCBpbiBBbmd1bGFyIDEgdGhhbiB5b3Ugd291bGQgdG9cbiAqICAgYG5nRG9DaGVja2AgaW4gQW5ndWxhciAyXG4gKiAqIENoYW5nZXMgdG8gdGhlIG1vZGVsIGluc2lkZSBgJGRvQ2hlY2tgIHdpbGwgdHJpZ2dlciBuZXcgdHVybnMgb2YgdGhlIGRpZ2VzdCBsb29wLCB3aGljaCB3aWxsIGNhdXNlIHRoZSBjaGFuZ2VzIHRvIGJlXG4gKiAgIHByb3BhZ2F0ZWQgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb24uXG4gKiAgIEFuZ3VsYXIgMiBkb2VzIG5vdCBhbGxvdyB0aGUgYG5nRG9DaGVja2AgaG9vayB0byB0cmlnZ2VyIGEgY2hhbmdlIG91dHNpZGUgb2YgdGhlIGNvbXBvbmVudC4gSXQgd2lsbCBlaXRoZXIgdGhyb3cgYW5cbiAqICAgZXJyb3Igb3IgZG8gbm90aGluZyBkZXBlbmRpbmcgdXBvbiB0aGUgc3RhdGUgb2YgYGVuYWJsZVByb2RNb2RlKClgLlxuICpcbiAqICMjIyMgTGlmZS1jeWNsZSBob29rIGV4YW1wbGVzXG4gKlxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB5b3UgY2FuIGNoZWNrIGZvciBtdXRhdGlvbnMgdG8gYSBEYXRlIG9iamVjdCBldmVuIHRob3VnaCB0aGUgaWRlbnRpdHkgb2YgdGhlIG9iamVjdFxuICogaGFzIG5vdCBjaGFuZ2VkLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJkb0NoZWNrRGF0ZUV4YW1wbGVcIiBtb2R1bGU9XCJkby1jaGVjay1tb2R1bGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdkby1jaGVjay1tb2R1bGUnLCBbXSlcbiAqICAgICAgIC5jb21wb25lbnQoJ2FwcCcsIHtcbiAqICAgICAgICAgdGVtcGxhdGU6XG4gKiAgICAgICAgICAgJ01vbnRoOiA8aW5wdXQgbmctbW9kZWw9XCIkY3RybC5tb250aFwiIG5nLWNoYW5nZT1cIiRjdHJsLnVwZGF0ZURhdGUoKVwiPicgK1xuICogICAgICAgICAgICdEYXRlOiB7eyAkY3RybC5kYXRlIH19JyArXG4gKiAgICAgICAgICAgJzx0ZXN0IGRhdGU9XCIkY3RybC5kYXRlXCI+PC90ZXN0PicsXG4gKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XG4gKiAgICAgICAgICAgdGhpcy5tb250aCA9IHRoaXMuZGF0ZS5nZXRNb250aCgpO1xuICogICAgICAgICAgIHRoaXMudXBkYXRlRGF0ZSA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgdGhpcy5kYXRlLnNldE1vbnRoKHRoaXMubW9udGgpO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0pXG4gKiAgICAgICAuY29tcG9uZW50KCd0ZXN0Jywge1xuICogICAgICAgICBiaW5kaW5nczogeyBkYXRlOiAnPCcgfSxcbiAqICAgICAgICAgdGVtcGxhdGU6XG4gKiAgICAgICAgICAgJzxwcmU+e3sgJGN0cmwubG9nIHwganNvbiB9fTwvcHJlPicsXG4gKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIHZhciBwcmV2aW91c1ZhbHVlO1xuICogICAgICAgICAgIHRoaXMubG9nID0gW107XG4gKiAgICAgICAgICAgdGhpcy4kZG9DaGVjayA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRoaXMuZGF0ZSAmJiB0aGlzLmRhdGUudmFsdWVPZigpO1xuICogICAgICAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IGN1cnJlbnRWYWx1ZSkge1xuICogICAgICAgICAgICAgICB0aGlzLmxvZy5wdXNoKCdkb0NoZWNrOiBkYXRlIG11dGF0ZWQ6ICcgKyB0aGlzLmRhdGUpO1xuICogICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudFZhbHVlO1xuICogICAgICAgICAgICAgfVxuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPGFwcD48L2FwcD5cbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIFRoaXMgZXhhbXBsZSBzaG93IGhvdyB5b3UgbWlnaHQgdXNlIGAkZG9DaGVja2AgdG8gdHJpZ2dlciBjaGFuZ2VzIGluIHlvdXIgY29tcG9uZW50J3MgaW5wdXRzIGV2ZW4gaWYgdGhlXG4gKiBhY3R1YWwgaWRlbnRpdHkgb2YgdGhlIGNvbXBvbmVudCBkb2Vzbid0IGNoYW5nZS4gKEJlIGF3YXJlIHRoYXQgY2xvbmluZyBhbmQgZGVlcCBlcXVhbGl0eSBjaGVja3Mgb24gbGFyZ2VcbiAqIGFycmF5cyBvciBvYmplY3RzIGNhbiBoYXZlIGEgbmVnYXRpdmUgaW1wYWN0IG9uIHlvdXIgYXBwbGljYXRpb24gcGVyZm9ybWFuY2UpXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cImRvQ2hlY2tBcnJheUV4YW1wbGVcIiBtb2R1bGU9XCJkby1jaGVjay1tb2R1bGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8ZGl2IG5nLWluaXQ9XCJpdGVtcyA9IFtdXCI+XG4gKiAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiaXRlbXMucHVzaChpdGVtcy5sZW5ndGgpXCI+QWRkIEl0ZW08L2J1dHRvbj5cbiAqICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJpdGVtcyA9IFtdXCI+UmVzZXQgSXRlbXM8L2J1dHRvbj5cbiAqICAgICAgIDxwcmU+e3sgaXRlbXMgfX08L3ByZT5cbiAqICAgICAgIDx0ZXN0IGl0ZW1zPVwiaXRlbXNcIj48L3Rlc3Q+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnZG8tY2hlY2stbW9kdWxlJywgW10pXG4gKiAgICAgICAgLmNvbXBvbmVudCgndGVzdCcsIHtcbiAqICAgICAgICAgIGJpbmRpbmdzOiB7IGl0ZW1zOiAnPCcgfSxcbiAqICAgICAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgICAnPHByZT57eyAkY3RybC5sb2cgfCBqc29uIH19PC9wcmU+JyxcbiAqICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICB0aGlzLmxvZyA9IFtdO1xuICpcbiAqICAgICAgICAgICAgdGhpcy4kZG9DaGVjayA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgIGlmICh0aGlzLml0ZW1zX3JlZiAhPT0gdGhpcy5pdGVtcykge1xuICogICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogaXRlbXMgY2hhbmdlZCcpO1xuICogICAgICAgICAgICAgICAgdGhpcy5pdGVtc19yZWYgPSB0aGlzLml0ZW1zO1xuICogICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHRoaXMuaXRlbXNfY2xvbmUsIHRoaXMuaXRlbXMpKSB7XG4gKiAgICAgICAgICAgICAgICB0aGlzLmxvZy5wdXNoKCdkb0NoZWNrOiBpdGVtcyBtdXRhdGVkJyk7XG4gKiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zX2Nsb25lID0gYW5ndWxhci5jb3B5KHRoaXMuaXRlbXMpO1xuICogICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgfTtcbiAqICAgICAgICAgIH1cbiAqICAgICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKiAjIyMgRGlyZWN0aXZlIERlZmluaXRpb24gT2JqZWN0XG4gKlxuICogVGhlIGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdCBwcm92aWRlcyBpbnN0cnVjdGlvbnMgdG8gdGhlIHtAbGluayBuZy4kY29tcGlsZVxuICogY29tcGlsZXJ9LiBUaGUgYXR0cmlidXRlcyBhcmU6XG4gKlxuICogIyMjIyBgbXVsdGlFbGVtZW50YFxuICogV2hlbiB0aGlzIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLCB0aGUgSFRNTCBjb21waWxlciB3aWxsIGNvbGxlY3QgRE9NIG5vZGVzIGJldHdlZW5cbiAqIG5vZGVzIHdpdGggdGhlIGF0dHJpYnV0ZXMgYGRpcmVjdGl2ZS1uYW1lLXN0YXJ0YCBhbmQgYGRpcmVjdGl2ZS1uYW1lLWVuZGAsIGFuZCBncm91cCB0aGVtXG4gKiB0b2dldGhlciBhcyB0aGUgZGlyZWN0aXZlIGVsZW1lbnRzLiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoaXMgZmVhdHVyZSBiZSB1c2VkIG9uIGRpcmVjdGl2ZXNcbiAqIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgYmVoYXZpb3JhbCAoc3VjaCBhcyB7QGxpbmsgbmdDbGlja30pLCBhbmQgd2hpY2hcbiAqIGRvIG5vdCBtYW5pcHVsYXRlIG9yIHJlcGxhY2UgY2hpbGQgbm9kZXMgKHN1Y2ggYXMge0BsaW5rIG5nSW5jbHVkZX0pLlxuICpcbiAqICMjIyMgYHByaW9yaXR5YFxuICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgZGlyZWN0aXZlcyBkZWZpbmVkIG9uIGEgc2luZ2xlIERPTSBlbGVtZW50LCBzb21ldGltZXMgaXRcbiAqIGlzIG5lY2Vzc2FyeSB0byBzcGVjaWZ5IHRoZSBvcmRlciBpbiB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYXBwbGllZC4gVGhlIGBwcmlvcml0eWAgaXMgdXNlZFxuICogdG8gc29ydCB0aGUgZGlyZWN0aXZlcyBiZWZvcmUgdGhlaXIgYGNvbXBpbGVgIGZ1bmN0aW9ucyBnZXQgY2FsbGVkLiBQcmlvcml0eSBpcyBkZWZpbmVkIGFzIGFcbiAqIG51bWJlci4gRGlyZWN0aXZlcyB3aXRoIGdyZWF0ZXIgbnVtZXJpY2FsIGBwcmlvcml0eWAgYXJlIGNvbXBpbGVkIGZpcnN0LiBQcmUtbGluayBmdW5jdGlvbnNcbiAqIGFyZSBhbHNvIHJ1biBpbiBwcmlvcml0eSBvcmRlciwgYnV0IHBvc3QtbGluayBmdW5jdGlvbnMgYXJlIHJ1biBpbiByZXZlcnNlIG9yZGVyLiBUaGUgb3JkZXJcbiAqIG9mIGRpcmVjdGl2ZXMgd2l0aCB0aGUgc2FtZSBwcmlvcml0eSBpcyB1bmRlZmluZWQuIFRoZSBkZWZhdWx0IHByaW9yaXR5IGlzIGAwYC5cbiAqXG4gKiAjIyMjIGB0ZXJtaW5hbGBcbiAqIElmIHNldCB0byB0cnVlIHRoZW4gdGhlIGN1cnJlbnQgYHByaW9yaXR5YCB3aWxsIGJlIHRoZSBsYXN0IHNldCBvZiBkaXJlY3RpdmVzXG4gKiB3aGljaCB3aWxsIGV4ZWN1dGUgKGFueSBkaXJlY3RpdmVzIGF0IHRoZSBjdXJyZW50IHByaW9yaXR5IHdpbGwgc3RpbGwgZXhlY3V0ZVxuICogYXMgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiBvbiBzYW1lIGBwcmlvcml0eWAgaXMgdW5kZWZpbmVkKS4gTm90ZSB0aGF0IGV4cHJlc3Npb25zXG4gKiBhbmQgb3RoZXIgZGlyZWN0aXZlcyB1c2VkIGluIHRoZSBkaXJlY3RpdmUncyB0ZW1wbGF0ZSB3aWxsIGFsc28gYmUgZXhjbHVkZWQgZnJvbSBleGVjdXRpb24uXG4gKlxuICogIyMjIyBgc2NvcGVgXG4gKiBUaGUgc2NvcGUgcHJvcGVydHkgY2FuIGJlIGB0cnVlYCwgYW4gb2JqZWN0IG9yIGEgZmFsc3kgdmFsdWU6XG4gKlxuICogKiAqKmZhbHN5OioqIE5vIHNjb3BlIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGRpcmVjdGl2ZS4gVGhlIGRpcmVjdGl2ZSB3aWxsIHVzZSBpdHMgcGFyZW50J3Mgc2NvcGUuXG4gKlxuICogKiAqKmB0cnVlYDoqKiBBIG5ldyBjaGlsZCBzY29wZSB0aGF0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRzIGZyb20gaXRzIHBhcmVudCB3aWxsIGJlIGNyZWF0ZWQgZm9yXG4gKiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC4gSWYgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHJlcXVlc3QgYSBuZXcgc2NvcGUsXG4gKiBvbmx5IG9uZSBuZXcgc2NvcGUgaXMgY3JlYXRlZC4gVGhlIG5ldyBzY29wZSBydWxlIGRvZXMgbm90IGFwcGx5IGZvciB0aGUgcm9vdCBvZiB0aGUgdGVtcGxhdGVcbiAqIHNpbmNlIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBhbHdheXMgZ2V0cyBhIG5ldyBzY29wZS5cbiAqXG4gKiAqICoqYHsuLi59YCAoYW4gb2JqZWN0IGhhc2gpOioqIEEgbmV3IFwiaXNvbGF0ZVwiIHNjb3BlIGlzIGNyZWF0ZWQgZm9yIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LiBUaGVcbiAqICdpc29sYXRlJyBzY29wZSBkaWZmZXJzIGZyb20gbm9ybWFsIHNjb3BlIGluIHRoYXQgaXQgZG9lcyBub3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdCBmcm9tIGl0cyBwYXJlbnRcbiAqIHNjb3BlLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGNyZWF0aW5nIHJldXNhYmxlIGNvbXBvbmVudHMsIHdoaWNoIHNob3VsZCBub3QgYWNjaWRlbnRhbGx5IHJlYWQgb3IgbW9kaWZ5XG4gKiBkYXRhIGluIHRoZSBwYXJlbnQgc2NvcGUuXG4gKlxuICogVGhlICdpc29sYXRlJyBzY29wZSBvYmplY3QgaGFzaCBkZWZpbmVzIGEgc2V0IG9mIGxvY2FsIHNjb3BlIHByb3BlcnRpZXMgZGVyaXZlZCBmcm9tIGF0dHJpYnV0ZXMgb24gdGhlXG4gKiBkaXJlY3RpdmUncyBlbGVtZW50LiBUaGVzZSBsb2NhbCBwcm9wZXJ0aWVzIGFyZSB1c2VmdWwgZm9yIGFsaWFzaW5nIHZhbHVlcyBmb3IgdGVtcGxhdGVzLiBUaGUga2V5cyBpblxuICogdGhlIG9iamVjdCBoYXNoIG1hcCB0byB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgb24gdGhlIGlzb2xhdGUgc2NvcGU7IHRoZSB2YWx1ZXMgZGVmaW5lIGhvdyB0aGUgcHJvcGVydHlcbiAqIGlzIGJvdW5kIHRvIHRoZSBwYXJlbnQgc2NvcGUsIHZpYSBtYXRjaGluZyBhdHRyaWJ1dGVzIG9uIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50OlxuICpcbiAqICogYEBgIG9yIGBAYXR0cmAgLSBiaW5kIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgdG8gdGhlIHZhbHVlIG9mIERPTSBhdHRyaWJ1dGUuIFRoZSByZXN1bHQgaXNcbiAqICAgYWx3YXlzIGEgc3RyaW5nIHNpbmNlIERPTSBhdHRyaWJ1dGVzIGFyZSBzdHJpbmdzLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGVcbiAqICAgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS4gR2l2ZW4gYDxteS1jb21wb25lbnRcbiAqICAgbXktYXR0cj1cImhlbGxvIHt7bmFtZX19XCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHsgbG9jYWxOYW1lOidAbXlBdHRyJyB9YCxcbiAqICAgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIHByb3BlcnR5IGBsb2NhbE5hbWVgIHdpbGwgcmVmbGVjdCB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIGBoZWxsb1xuICogICB7e25hbWV9fWAuIEFzIHRoZSBgbmFtZWAgYXR0cmlidXRlIGNoYW5nZXMgc28gd2lsbCB0aGUgYGxvY2FsTmFtZWAgcHJvcGVydHkgb24gdGhlIGRpcmVjdGl2ZSdzXG4gKiAgIHNjb3BlLiBUaGUgYG5hbWVgIGlzIHJlYWQgZnJvbSB0aGUgcGFyZW50IHNjb3BlIChub3QgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlKS5cbiAqXG4gKiAqIGA9YCBvciBgPWF0dHJgIC0gc2V0IHVwIGEgYmlkaXJlY3Rpb25hbCBiaW5kaW5nIGJldHdlZW4gYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSBhbmQgYW4gZXhwcmVzc2lvblxuICogICBwYXNzZWQgdmlhIHRoZSBhdHRyaWJ1dGUgYGF0dHJgLiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS5cbiAqICAgSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsXG4gKiAgIG5hbWUuIEdpdmVuIGA8bXktY29tcG9uZW50IG15LWF0dHI9XCJwYXJlbnRNb2RlbFwiPmAgYW5kIHRoZSBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gYHNjb3BlOiB7XG4gKiAgIGxvY2FsTW9kZWw6ICc9bXlBdHRyJyB9YCwgdGhlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCBvbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgd2lsbCByZWZsZWN0IHRoZVxuICogICB2YWx1ZSBvZiBgcGFyZW50TW9kZWxgIG9uIHRoZSBwYXJlbnQgc2NvcGUuIENoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZCBpblxuICogICBgbG9jYWxNb2RlbGAgYW5kIHZpY2UgdmVyc2EuIE9wdGlvbmFsIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIG1hcmtlZCBhcyBzdWNoIHdpdGggYSBxdWVzdGlvbiBtYXJrOlxuICogICBgPT9gIG9yIGA9P2F0dHJgLiBJZiB0aGUgYmluZGluZyBleHByZXNzaW9uIGlzIG5vbi1hc3NpZ25hYmxlLCBvciBpZiB0aGUgYXR0cmlidXRlIGlzbid0XG4gKiAgIG9wdGlvbmFsIGFuZCBkb2Vzbid0IGV4aXN0LCBhbiBleGNlcHRpb24gKHtAbGluayBlcnJvci8kY29tcGlsZS9ub25hc3NpZ24gYCRjb21waWxlOm5vbmFzc2lnbmB9KVxuICogICB3aWxsIGJlIHRocm93biB1cG9uIGRpc2NvdmVyaW5nIGNoYW5nZXMgdG8gdGhlIGxvY2FsIHZhbHVlLCBzaW5jZSBpdCB3aWxsIGJlIGltcG9zc2libGUgdG8gc3luY1xuICogICB0aGVtIGJhY2sgdG8gdGhlIHBhcmVudCBzY29wZS4gQnkgZGVmYXVsdCwgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH1cbiAqICAgbWV0aG9kIGlzIHVzZWQgZm9yIHRyYWNraW5nIGNoYW5nZXMsIGFuZCB0aGUgZXF1YWxpdHkgY2hlY2sgaXMgYmFzZWQgb24gb2JqZWN0IGlkZW50aXR5LlxuICogICBIb3dldmVyLCBpZiBhbiBvYmplY3QgbGl0ZXJhbCBvciBhbiBhcnJheSBsaXRlcmFsIGlzIHBhc3NlZCBhcyB0aGUgYmluZGluZyBleHByZXNzaW9uLCB0aGVcbiAqICAgZXF1YWxpdHkgY2hlY2sgaXMgZG9uZSBieSB2YWx1ZSAodXNpbmcgdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24pLiBJdCdzIGFsc28gcG9zc2libGVcbiAqICAgdG8gd2F0Y2ggdGhlIGV2YWx1YXRlZCB2YWx1ZSBzaGFsbG93bHkgd2l0aCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uXG4gKiAgIGAkd2F0Y2hDb2xsZWN0aW9uYH06IHVzZSBgPSpgIG9yIGA9KmF0dHJgIChgPSo/YCBvciBgPSo/YXR0cmAgaWYgdGhlIGF0dHJpYnV0ZSBpcyBvcHRpb25hbCkuXG4gKlxuICAqICogYDxgIG9yIGA8YXR0cmAgLSBzZXQgdXAgYSBvbmUtd2F5IChvbmUtZGlyZWN0aW9uYWwpIGJpbmRpbmcgYmV0d2VlbiBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IGFuZCBhblxuICogICBleHByZXNzaW9uIHBhc3NlZCB2aWEgdGhlIGF0dHJpYnV0ZSBgYXR0cmAuIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbiB0aGUgY29udGV4dCBvZiB0aGVcbiAqICAgcGFyZW50IHNjb3BlLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGVcbiAqICAgbG9jYWwgbmFtZS4gWW91IGNhbiBhbHNvIG1ha2UgdGhlIGJpbmRpbmcgb3B0aW9uYWwgYnkgYWRkaW5nIGA/YDogYDw/YCBvciBgPD9hdHRyYC5cbiAqXG4gKiAgIEZvciBleGFtcGxlLCBnaXZlbiBgPG15LWNvbXBvbmVudCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxNb2RlbDonPG15QXR0cicgfWAsIHRoZW4gdGhlIGlzb2xhdGVkIHNjb3BlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQW55IGNoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZFxuICogICBpbiBgbG9jYWxNb2RlbGAsIGJ1dCBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIG5vdCByZWZsZWN0IGluIGBwYXJlbnRNb2RlbGAuIFRoZXJlIGFyZSBob3dldmVyXG4gKiAgIHR3byBjYXZlYXRzOlxuICogICAgIDEuIG9uZS13YXkgYmluZGluZyBkb2VzIG5vdCBjb3B5IHRoZSB2YWx1ZSBmcm9tIHRoZSBwYXJlbnQgdG8gdGhlIGlzb2xhdGUgc2NvcGUsIGl0IHNpbXBseVxuICogICAgIHNldHMgdGhlIHNhbWUgdmFsdWUuIFRoYXQgbWVhbnMgaWYgeW91ciBib3VuZCB2YWx1ZSBpcyBhbiBvYmplY3QsIGNoYW5nZXMgdG8gaXRzIHByb3BlcnRpZXNcbiAqICAgICBpbiB0aGUgaXNvbGF0ZWQgc2NvcGUgd2lsbCBiZSByZWZsZWN0ZWQgaW4gdGhlIHBhcmVudCBzY29wZSAoYmVjYXVzZSBib3RoIHJlZmVyZW5jZSB0aGUgc2FtZSBvYmplY3QpLlxuICogICAgIDIuIG9uZS13YXkgYmluZGluZyB3YXRjaGVzIGNoYW5nZXMgdG8gdGhlICoqaWRlbnRpdHkqKiBvZiB0aGUgcGFyZW50IHZhbHVlLiBUaGF0IG1lYW5zIHRoZVxuICogICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH0gb24gdGhlIHBhcmVudCB2YWx1ZSBvbmx5IGZpcmVzIGlmIHRoZSByZWZlcmVuY2VcbiAqICAgICB0byB0aGUgdmFsdWUgaGFzIGNoYW5nZWQuIEluIG1vc3QgY2FzZXMsIHRoaXMgc2hvdWxkIG5vdCBiZSBvZiBjb25jZXJuLCBidXQgY2FuIGJlIGltcG9ydGFudFxuICogICAgIHRvIGtub3cgaWYgeW91IG9uZS13YXkgYmluZCB0byBhbiBvYmplY3QsIGFuZCB0aGVuIHJlcGxhY2UgdGhhdCBvYmplY3QgaW4gdGhlIGlzb2xhdGVkIHNjb3BlLlxuICogICAgIElmIHlvdSBub3cgY2hhbmdlIGEgcHJvcGVydHkgb2YgdGhlIG9iamVjdCBpbiB5b3VyIHBhcmVudCBzY29wZSwgdGhlIGNoYW5nZSB3aWxsIG5vdCBiZVxuICogICAgIHByb3BhZ2F0ZWQgdG8gdGhlIGlzb2xhdGVkIHNjb3BlLCBiZWNhdXNlIHRoZSBpZGVudGl0eSBvZiB0aGUgb2JqZWN0IG9uIHRoZSBwYXJlbnQgc2NvcGVcbiAqICAgICBoYXMgbm90IGNoYW5nZWQuIEluc3RlYWQgeW91IG11c3QgYXNzaWduIGEgbmV3IG9iamVjdC5cbiAqXG4gKiAgIE9uZS13YXkgYmluZGluZyBpcyB1c2VmdWwgaWYgeW91IGRvIG5vdCBwbGFuIHRvIHByb3BhZ2F0ZSBjaGFuZ2VzIHRvIHlvdXIgaXNvbGF0ZWQgc2NvcGUgYmluZGluZ3NcbiAqICAgYmFjayB0byB0aGUgcGFyZW50LiBIb3dldmVyLCBpdCBkb2VzIG5vdCBtYWtlIHRoaXMgY29tcGxldGVseSBpbXBvc3NpYmxlLlxuICpcbiAqICogYCZgIG9yIGAmYXR0cmAgLSBwcm92aWRlcyBhIHdheSB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS4gSWZcbiAqICAgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuXG4gKiAgIEdpdmVuIGA8bXktY29tcG9uZW50IG15LWF0dHI9XCJjb3VudCA9IGNvdW50ICsgdmFsdWVcIj5gIGFuZCB0aGUgaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIGBzY29wZToge1xuICogICBsb2NhbEZuOicmbXlBdHRyJyB9YCwgdGhlIGlzb2xhdGUgc2NvcGUgcHJvcGVydHkgYGxvY2FsRm5gIHdpbGwgcG9pbnQgdG8gYSBmdW5jdGlvbiB3cmFwcGVyIGZvclxuICogICB0aGUgYGNvdW50ID0gY291bnQgKyB2YWx1ZWAgZXhwcmVzc2lvbi4gT2Z0ZW4gaXQncyBkZXNpcmFibGUgdG8gcGFzcyBkYXRhIGZyb20gdGhlIGlzb2xhdGVkIHNjb3BlXG4gKiAgIHZpYSBhbiBleHByZXNzaW9uIHRvIHRoZSBwYXJlbnQgc2NvcGUuIFRoaXMgY2FuIGJlIGRvbmUgYnkgcGFzc2luZyBhIG1hcCBvZiBsb2NhbCB2YXJpYWJsZSBuYW1lc1xuICogICBhbmQgdmFsdWVzIGludG8gdGhlIGV4cHJlc3Npb24gd3JhcHBlciBmbi4gRm9yIGV4YW1wbGUsIGlmIHRoZSBleHByZXNzaW9uIGlzIGBpbmNyZW1lbnQoYW1vdW50KWBcbiAqICAgdGhlbiB3ZSBjYW4gc3BlY2lmeSB0aGUgYW1vdW50IHZhbHVlIGJ5IGNhbGxpbmcgdGhlIGBsb2NhbEZuYCBhcyBgbG9jYWxGbih7YW1vdW50OiAyMn0pYC5cbiAqXG4gKiBJbiBnZW5lcmFsIGl0J3MgcG9zc2libGUgdG8gYXBwbHkgbW9yZSB0aGFuIG9uZSBkaXJlY3RpdmUgdG8gb25lIGVsZW1lbnQsIGJ1dCB0aGVyZSBtaWdodCBiZSBsaW1pdGF0aW9uc1xuICogZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIHNjb3BlIHJlcXVpcmVkIGJ5IHRoZSBkaXJlY3RpdmVzLiBUaGUgZm9sbG93aW5nIHBvaW50cyB3aWxsIGhlbHAgZXhwbGFpbiB0aGVzZSBsaW1pdGF0aW9ucy5cbiAqIEZvciBzaW1wbGljaXR5IG9ubHkgdHdvIGRpcmVjdGl2ZXMgYXJlIHRha2VuIGludG8gYWNjb3VudCwgYnV0IGl0IGlzIGFsc28gYXBwbGljYWJsZSBmb3Igc2V2ZXJhbCBkaXJlY3RpdmVzOlxuICpcbiAqICogKipubyBzY29wZSoqICsgKipubyBzY29wZSoqID0+IFR3byBkaXJlY3RpdmVzIHdoaWNoIGRvbid0IHJlcXVpcmUgdGhlaXIgb3duIHNjb3BlIHdpbGwgdXNlIHRoZWlyIHBhcmVudCdzIHNjb3BlXG4gKiAqICoqY2hpbGQgc2NvcGUqKiArICoqbm8gc2NvcGUqKiA9PiAgQm90aCBkaXJlY3RpdmVzIHdpbGwgc2hhcmUgb25lIHNpbmdsZSBjaGlsZCBzY29wZVxuICogKiAqKmNoaWxkIHNjb3BlKiogKyAqKmNoaWxkIHNjb3BlKiogPT4gIEJvdGggZGlyZWN0aXZlcyB3aWxsIHNoYXJlIG9uZSBzaW5nbGUgY2hpbGQgc2NvcGVcbiAqICogKippc29sYXRlZCBzY29wZSoqICsgKipubyBzY29wZSoqID0+ICBUaGUgaXNvbGF0ZWQgZGlyZWN0aXZlIHdpbGwgdXNlIGl0J3Mgb3duIGNyZWF0ZWQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBvdGhlciBkaXJlY3RpdmUgd2lsbCB1c2VcbiAqIGl0cyBwYXJlbnQncyBzY29wZVxuICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKmNoaWxkIHNjb3BlKiogPT4gICoqV29uJ3Qgd29yayEqKiBPbmx5IG9uZSBzY29wZSBjYW4gYmUgcmVsYXRlZCB0byBvbmUgZWxlbWVudC4gVGhlcmVmb3JlIHRoZXNlIGRpcmVjdGl2ZXMgY2Fubm90XG4gKiBiZSBhcHBsaWVkIHRvIHRoZSBzYW1lIGVsZW1lbnQuXG4gKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqaXNvbGF0ZWQgc2NvcGUqKiAgPT4gICoqV29uJ3Qgd29yayEqKiBPbmx5IG9uZSBzY29wZSBjYW4gYmUgcmVsYXRlZCB0byBvbmUgZWxlbWVudC4gVGhlcmVmb3JlIHRoZXNlIGRpcmVjdGl2ZXNcbiAqIGNhbm5vdCBiZSBhcHBsaWVkIHRvIHRoZSBzYW1lIGVsZW1lbnQuXG4gKlxuICpcbiAqICMjIyMgYGJpbmRUb0NvbnRyb2xsZXJgXG4gKiBUaGlzIHByb3BlcnR5IGlzIHVzZWQgdG8gYmluZCBzY29wZSBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyLiBJdCBjYW4gYmUgZWl0aGVyXG4gKiBgdHJ1ZWAgb3IgYW4gb2JqZWN0IGhhc2ggd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIGBzY29wZWAgcHJvcGVydHkuIEFkZGl0aW9uYWxseSwgYSBjb250cm9sbGVyXG4gKiBhbGlhcyBtdXN0IGJlIHNldCwgZWl0aGVyIGJ5IHVzaW5nIGBjb250cm9sbGVyQXM6ICdteUFsaWFzJ2Agb3IgYnkgc3BlY2lmeWluZyB0aGUgYWxpYXMgaW4gdGhlIGNvbnRyb2xsZXJcbiAqIGRlZmluaXRpb246IGBjb250cm9sbGVyOiAnbXlDdHJsIGFzIG15QWxpYXMnYC5cbiAqXG4gKiBXaGVuIGFuIGlzb2xhdGUgc2NvcGUgaXMgdXNlZCBmb3IgYSBkaXJlY3RpdmUgKHNlZSBhYm92ZSksIGBiaW5kVG9Db250cm9sbGVyOiB0cnVlYCB3aWxsXG4gKiBhbGxvdyBhIGNvbXBvbmVudCB0byBoYXZlIGl0cyBwcm9wZXJ0aWVzIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyLCByYXRoZXIgdGhhbiB0byBzY29wZS5cbiAqXG4gKiBBZnRlciB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyB3aWxsIGJlIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyXG4gKiBwcm9wZXJ0aWVzLiBZb3UgY2FuIGFjY2VzcyB0aGVzZSBiaW5kaW5ncyBvbmNlIHRoZXkgaGF2ZSBiZWVuIGluaXRpYWxpemVkIGJ5IHByb3ZpZGluZyBhIGNvbnRyb2xsZXIgbWV0aG9kIGNhbGxlZFxuICogYCRvbkluaXRgLCB3aGljaCBpcyBjYWxsZWQgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVycyBvbiBhbiBlbGVtZW50IGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBhbmQgaGFkIHRoZWlyIGJpbmRpbmdzXG4gKiBpbml0aWFsaXplZC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipEZXByZWNhdGlvbiB3YXJuaW5nOioqIGFsdGhvdWdoIGJpbmRpbmdzIGZvciBub24tRVM2IGNsYXNzIGNvbnRyb2xsZXJzIGFyZSBjdXJyZW50bHlcbiAqIGJvdW5kIHRvIGB0aGlzYCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgaXMgY2FsbGVkLCB0aGlzIHVzZSBpcyBub3cgZGVwcmVjYXRlZC4gUGxlYXNlIHBsYWNlIGluaXRpYWxpemF0aW9uXG4gKiBjb2RlIHRoYXQgcmVsaWVzIHVwb24gYmluZGluZ3MgaW5zaWRlIGEgYCRvbkluaXRgIG1ldGhvZCBvbiB0aGUgY29udHJvbGxlciwgaW5zdGVhZC5cbiAqIDwvZGl2PlxuICpcbiAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGBiaW5kVG9Db250cm9sbGVyYCB0byBhbiBvYmplY3QgaGFzaCB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGUgYHNjb3BlYCBwcm9wZXJ0eS5cbiAqIFRoaXMgd2lsbCBzZXQgdXAgdGhlIHNjb3BlIGJpbmRpbmdzIHRvIHRoZSBjb250cm9sbGVyIGRpcmVjdGx5LiBOb3RlIHRoYXQgYHNjb3BlYCBjYW4gc3RpbGwgYmUgdXNlZFxuICogdG8gZGVmaW5lIHdoaWNoIGtpbmQgb2Ygc2NvcGUgaXMgY3JlYXRlZC4gQnkgZGVmYXVsdCwgbm8gc2NvcGUgaXMgY3JlYXRlZC4gVXNlIGBzY29wZToge31gIHRvIGNyZWF0ZSBhbiBpc29sYXRlXG4gKiBzY29wZSAodXNlZnVsIGZvciBjb21wb25lbnQgZGlyZWN0aXZlcykuXG4gKlxuICogSWYgYm90aCBgYmluZFRvQ29udHJvbGxlcmAgYW5kIGBzY29wZWAgYXJlIGRlZmluZWQgYW5kIGhhdmUgb2JqZWN0IGhhc2hlcywgYGJpbmRUb0NvbnRyb2xsZXJgIG92ZXJyaWRlcyBgc2NvcGVgLlxuICpcbiAqXG4gKiAjIyMjIGBjb250cm9sbGVyYFxuICogQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gVGhlIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkIGJlZm9yZSB0aGVcbiAqIHByZS1saW5raW5nIHBoYXNlIGFuZCBjYW4gYmUgYWNjZXNzZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyAoc2VlXG4gKiBgcmVxdWlyZWAgYXR0cmlidXRlKS4gVGhpcyBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gY29tbXVuaWNhdGUgd2l0aCBlYWNoIG90aGVyIGFuZCBhdWdtZW50XG4gKiBlYWNoIG90aGVyJ3MgYmVoYXZpb3IuIFRoZSBjb250cm9sbGVyIGlzIGluamVjdGFibGUgKGFuZCBzdXBwb3J0cyBicmFja2V0IG5vdGF0aW9uKSB3aXRoIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICpcbiAqICogYCRzY29wZWAgLSBDdXJyZW50IHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogKiBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XG4gKiAqIGAkYXR0cnNgIC0gQ3VycmVudCBhdHRyaWJ1dGVzIG9iamVjdCBmb3IgdGhlIGVsZW1lbnRcbiAqICogYCR0cmFuc2NsdWRlYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGU6XG4gKiAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudCwgc2xvdE5hbWUpYDpcbiAqICAgICogYHNjb3BlYDogKG9wdGlvbmFsKSBvdmVycmlkZSB0aGUgc2NvcGUuXG4gKiAgICAqIGBjbG9uZUxpbmtpbmdGbmA6IChvcHRpb25hbCkgYXJndW1lbnQgdG8gY3JlYXRlIGNsb25lcyBvZiB0aGUgb3JpZ2luYWwgdHJhbnNjbHVkZWQgY29udGVudC5cbiAqICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgIChvcHRpb25hbCk6XG4gKiAgICAgICAgKiBkZWZpbmVzIHRoZSBwYXJlbnQgdG8gd2hpY2ggdGhlIGBjbG9uZUxpbmtpbmdGbmAgd2lsbCBhZGQgdGhlIGNsb25lZCBlbGVtZW50cy5cbiAqICAgICAgICAqIGRlZmF1bHQ6IGAkZWxlbWVudC5wYXJlbnQoKWAgcmVzcC4gYCRlbGVtZW50YCBmb3IgYHRyYW5zY2x1ZGU6J2VsZW1lbnQnYCByZXNwLiBgdHJhbnNjbHVkZTp0cnVlYC5cbiAqICAgICAgICAqIG9ubHkgbmVlZGVkIGZvciB0cmFuc2NsdWRlcyB0aGF0IGFyZSBhbGxvd2VkIHRvIGNvbnRhaW4gbm9uIGh0bWwgZWxlbWVudHMgKGUuZy4gU1ZHIGVsZW1lbnRzKVxuICogICAgICAgICAgYW5kIHdoZW4gdGhlIGBjbG9uZUxpbmtpbkZuYCBpcyBwYXNzZWQsXG4gKiAgICAgICAgICBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGNyZWF0ZWQgYW5kIGNsb25lZCBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyXG4gKiAgICAgICAgICB1c3VhbCBjb250YWluZXJzIChlLmcuIGxpa2UgYDxzdmc+YCkuXG4gKiAgICAgICAgKiBTZWUgYWxzbyB0aGUgYGRpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZWAgcHJvcGVydHkuXG4gKiAgICAqIGBzbG90TmFtZWA6IChvcHRpb25hbCkgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gdHJhbnNjbHVkZS4gSWYgZmFsc3kgKGUuZy4gYG51bGxgLCBgdW5kZWZpbmVkYCBvciBgJydgKVxuICogICAgICB0aGVuIHRoZSBkZWZhdWx0IHRyYW5zbHVzaW9uIGlzIHByb3ZpZGVkLlxuICogICAgVGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb24gYWxzbyBoYXMgYSBtZXRob2Qgb24gaXQsIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCwgd2hpY2ggcmV0dXJuc1xuICogICAgYHRydWVgIGlmIHRoZSBzcGVjaWZpZWQgc2xvdCBjb250YWlucyBjb250ZW50IChpLmUuIG9uZSBvciBtb3JlIERPTSBub2RlcykuXG4gKlxuICogIyMjIyBgcmVxdWlyZWBcbiAqIFJlcXVpcmUgYW5vdGhlciBkaXJlY3RpdmUgYW5kIGluamVjdCBpdHMgY29udHJvbGxlciBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGVcbiAqIGByZXF1aXJlYCBwcm9wZXJ0eSBjYW4gYmUgYSBzdHJpbmcsIGFuIGFycmF5IG9yIGFuIG9iamVjdDpcbiAqICogYSAqKnN0cmluZyoqIGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uXG4gKiAqIGFuICoqYXJyYXkqKiBjb250YWluaW5nIHRoZSBuYW1lcyBvZiBkaXJlY3RpdmVzIHRvIHBhc3MgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhlXG4gKiBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgYmUgYW4gYXJyYXkgb2YgY29udHJvbGxlcnMgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIG5hbWVzIGluIHRoZSBgcmVxdWlyZWAgcHJvcGVydHlcbiAqICogYW4gKipvYmplY3QqKiB3aG9zZSBwcm9wZXJ0eSB2YWx1ZXMgYXJlIHRoZSBuYW1lcyBvZiB0aGUgZGlyZWN0aXZlcyB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGUgYXJndW1lbnRcbiAqIHBhc3NlZCB0byB0aGUgbGlua2luZyBmdW5jdGlvbiB3aWxsIGFsc28gYmUgYW4gb2JqZWN0IHdpdGggbWF0Y2hpbmcga2V5cywgd2hvc2UgdmFsdWVzIHdpbGwgaG9sZCB0aGUgY29ycmVzcG9uZGluZ1xuICogY29udHJvbGxlcnMuXG4gKlxuICogSWYgdGhlIGByZXF1aXJlYCBwcm9wZXJ0eSBpcyBhbiBvYmplY3QgYW5kIGBiaW5kVG9Db250cm9sbGVyYCBpcyB0cnV0aHksIHRoZW4gdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIGFyZVxuICogYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIgdXNpbmcgdGhlIGtleXMgb2YgdGhlIGByZXF1aXJlYCBwcm9wZXJ0eS4gVGhpcyBiaW5kaW5nIG9jY3VycyBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzXG4gKiBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYnV0IGJlZm9yZSBgJG9uSW5pdGAgaXMgY2FsbGVkLlxuICogSWYgdGhlIG5hbWUgb2YgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgaXMgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUgKHRoZSBrZXkpLCB0aGUgbmFtZSBjYW4gYmVcbiAqIG9taXR0ZWQuIEZvciBleGFtcGxlLCBge3BhcmVudERpcjogJ15eJ31gIGlzIGVxdWl2YWxlbnQgdG8gYHtwYXJlbnREaXI6ICdeXnBhcmVudERpcid9YC5cbiAqIFNlZSB0aGUge0BsaW5rICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50fSBoZWxwZXIgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRoaXMgY2FuIGJlIHVzZWQuXG4gKiBJZiBubyBzdWNoIHJlcXVpcmVkIGRpcmVjdGl2ZShzKSBjYW4gYmUgZm91bmQsIG9yIGlmIHRoZSBkaXJlY3RpdmUgZG9lcyBub3QgaGF2ZSBhIGNvbnRyb2xsZXIsIHRoZW4gYW4gZXJyb3IgaXNcbiAqIHJhaXNlZCAodW5sZXNzIG5vIGxpbmsgZnVuY3Rpb24gaXMgc3BlY2lmaWVkIGFuZCB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgYXJlIG5vdCBiZWluZyBib3VuZCB0byB0aGUgZGlyZWN0aXZlXG4gKiBjb250cm9sbGVyLCBpbiB3aGljaCBjYXNlIGVycm9yIGNoZWNraW5nIGlzIHNraXBwZWQpLiBUaGUgbmFtZSBjYW4gYmUgcHJlZml4ZWQgd2l0aDpcbiAqXG4gKiAqIChubyBwcmVmaXgpIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgb3IgcGFzcyBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGBeYCAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQgYW5kIGl0cyBwYXJlbnRzLiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGBeXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgP15gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cyBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eXmAgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQncyBwYXJlbnRzLCBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqXG4gKlxuICogIyMjIyBgY29udHJvbGxlckFzYFxuICogSWRlbnRpZmllciBuYW1lIGZvciBhIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlciBpbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUuXG4gKiBUaGlzIGFsbG93cyB0aGUgY29udHJvbGxlciB0byBiZSByZWZlcmVuY2VkIGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZS4gVGhpcyBpcyBlc3BlY2lhbGx5XG4gKiB1c2VmdWwgd2hlbiBhIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudCwgaS5lLiB3aXRoIGFuIGBpc29sYXRlYCBzY29wZS4gSXQncyBhbHNvIHBvc3NpYmxlXG4gKiB0byB1c2UgaXQgaW4gYSBkaXJlY3RpdmUgd2l0aG91dCBhbiBgaXNvbGF0ZWAgLyBgbmV3YCBzY29wZSwgYnV0IHlvdSBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlXG4gKiBgY29udHJvbGxlckFzYCByZWZlcmVuY2UgbWlnaHQgb3ZlcndyaXRlIGEgcHJvcGVydHkgdGhhdCBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgcGFyZW50IHNjb3BlLlxuICpcbiAqXG4gKiAjIyMjIGByZXN0cmljdGBcbiAqIFN0cmluZyBvZiBzdWJzZXQgb2YgYEVBQ01gIHdoaWNoIHJlc3RyaWN0cyB0aGUgZGlyZWN0aXZlIHRvIGEgc3BlY2lmaWMgZGlyZWN0aXZlXG4gKiBkZWNsYXJhdGlvbiBzdHlsZS4gSWYgb21pdHRlZCwgdGhlIGRlZmF1bHRzIChlbGVtZW50cyBhbmQgYXR0cmlidXRlcykgYXJlIHVzZWQuXG4gKlxuICogKiBgRWAgLSBFbGVtZW50IG5hbWUgKGRlZmF1bHQpOiBgPG15LWRpcmVjdGl2ZT48L215LWRpcmVjdGl2ZT5gXG4gKiAqIGBBYCAtIEF0dHJpYnV0ZSAoZGVmYXVsdCk6IGA8ZGl2IG15LWRpcmVjdGl2ZT1cImV4cFwiPjwvZGl2PmBcbiAqICogYENgIC0gQ2xhc3M6IGA8ZGl2IGNsYXNzPVwibXktZGlyZWN0aXZlOiBleHA7XCI+PC9kaXY+YFxuICogKiBgTWAgLSBDb21tZW50OiBgPCEtLSBkaXJlY3RpdmU6IG15LWRpcmVjdGl2ZSBleHAgLS0+YFxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZU5hbWVzcGFjZWBcbiAqIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRvY3VtZW50IHR5cGUgdXNlZCBieSB0aGUgbWFya3VwIGluIHRoZSB0ZW1wbGF0ZS5cbiAqIEFuZ3VsYXJKUyBuZWVkcyB0aGlzIGluZm9ybWF0aW9uIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gYmUgY3JlYXRlZCBhbmQgY2xvbmVkXG4gKiBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyIHVzdWFsIGNvbnRhaW5lcnMgbGlrZSBgPHN2Zz5gIGFuZCBgPG1hdGg+YC5cbiAqXG4gKiAqIGBodG1sYCAtIEFsbCByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgSFRNTC4gUm9vdCBub2RlcyBtYXkgYWxzbyBiZVxuICogICB0b3AtbGV2ZWwgZWxlbWVudHMgc3VjaCBhcyBgPHN2Zz5gIG9yIGA8bWF0aD5gLlxuICogKiBgc3ZnYCAtIFRoZSByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgU1ZHIGVsZW1lbnRzIChleGNsdWRpbmcgYDxtYXRoPmApLlxuICogKiBgbWF0aGAgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIE1hdGhNTCBlbGVtZW50cyAoZXhjbHVkaW5nIGA8c3ZnPmApLlxuICpcbiAqIElmIG5vIGB0ZW1wbGF0ZU5hbWVzcGFjZWAgaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSBuYW1lc3BhY2UgaXMgY29uc2lkZXJlZCB0byBiZSBgaHRtbGAuXG4gKlxuICogIyMjIyBgdGVtcGxhdGVgXG4gKiBIVE1MIG1hcmt1cCB0aGF0IG1heTpcbiAqICogUmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGRlZmF1bHQpLlxuICogKiBSZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGl0c2VsZiAoaWYgYHJlcGxhY2VgIGlzIHRydWUgLSBERVBSRUNBVEVEKS5cbiAqICogV3JhcCB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGlmIGB0cmFuc2NsdWRlYCBpcyB0cnVlKS5cbiAqXG4gKiBWYWx1ZSBtYXkgYmU6XG4gKlxuICogKiBBIHN0cmluZy4gRm9yIGV4YW1wbGUgYDxkaXYgcmVkLW9uLWhvdmVyPnt7ZGVsZXRlX3N0cn19PC9kaXY+YC5cbiAqICogQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYFxuICogICBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zIGEgc3RyaW5nIHZhbHVlLlxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZVVybGBcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBgdGVtcGxhdGVgIGJ1dCB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIGZyb20gdGhlIHNwZWNpZmllZCBVUkwsIGFzeW5jaHJvbm91c2x5LlxuICpcbiAqIEJlY2F1c2UgdGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgdGhlIGNvbXBpbGVyIHdpbGwgc3VzcGVuZCBjb21waWxhdGlvbiBvZiBkaXJlY3RpdmVzIG9uIHRoYXQgZWxlbWVudFxuICogZm9yIGxhdGVyIHdoZW4gdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHJlc29sdmVkLiAgSW4gdGhlIG1lYW50aW1lIGl0IHdpbGwgY29udGludWUgdG8gY29tcGlsZSBhbmQgbGlua1xuICogc2libGluZyBhbmQgcGFyZW50IGVsZW1lbnRzIGFzIHRob3VnaCB0aGlzIGVsZW1lbnQgaGFkIG5vdCBjb250YWluZWQgYW55IGRpcmVjdGl2ZXMuXG4gKlxuICogVGhlIGNvbXBpbGVyIGRvZXMgbm90IHN1c3BlbmQgdGhlIGVudGlyZSBjb21waWxhdGlvbiB0byB3YWl0IGZvciB0ZW1wbGF0ZXMgdG8gYmUgbG9hZGVkIGJlY2F1c2UgdGhpc1xuICogd291bGQgcmVzdWx0IGluIHRoZSB3aG9sZSBhcHAgXCJzdGFsbGluZ1wiIHVudGlsIGFsbCB0ZW1wbGF0ZXMgYXJlIGxvYWRlZCBhc3luY2hyb25vdXNseSAtIGV2ZW4gaW4gdGhlXG4gKiBjYXNlIHdoZW4gb25seSBvbmUgZGVlcGx5IG5lc3RlZCBkaXJlY3RpdmUgaGFzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogVGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgZXZlbiBpZiB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gcHJlbG9hZGVkIGludG8gdGhlIHtAbGluayAkdGVtcGxhdGVDYWNoZX1cbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgYHRlbXBsYXRlVXJsYCBhcyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFVSTCBvciBhcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3b1xuICogYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYCBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zXG4gKiBhIHN0cmluZyB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHVybC4gIEluIGVpdGhlciBjYXNlLCB0aGUgdGVtcGxhdGUgVVJMIGlzIHBhc3NlZCB0aHJvdWdoIHtAbGlua1xuICogJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9LlxuICpcbiAqXG4gKiAjIyMjIGByZXBsYWNlYCAoWypERVBSRUNBVEVEKiFdLCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciByZWxlYXNlIC0gaS5lLiB2Mi4wKVxuICogc3BlY2lmeSB3aGF0IHRoZSB0ZW1wbGF0ZSBzaG91bGQgcmVwbGFjZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiAqIGB0cnVlYCAtIHRoZSB0ZW1wbGF0ZSB3aWxsIHJlcGxhY2UgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKiAqIGBmYWxzZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cbiAqXG4gKiBUaGUgcmVwbGFjZW1lbnQgcHJvY2VzcyBtaWdyYXRlcyBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgLyBjbGFzc2VzIGZyb20gdGhlIG9sZCBlbGVtZW50IHRvIHRoZSBuZXdcbiAqIG9uZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RlbXBsYXRlLWV4cGFuZGluZy1kaXJlY3RpdmVcbiAqIERpcmVjdGl2ZXMgR3VpZGV9IGZvciBhbiBleGFtcGxlLlxuICpcbiAqIFRoZXJlIGFyZSB2ZXJ5IGZldyBzY2VuYXJpb3Mgd2hlcmUgZWxlbWVudCByZXBsYWNlbWVudCBpcyByZXF1aXJlZCBmb3IgdGhlIGFwcGxpY2F0aW9uIGZ1bmN0aW9uLFxuICogdGhlIG1haW4gb25lIGJlaW5nIHJldXNhYmxlIGN1c3RvbSBjb21wb25lbnRzIHRoYXQgYXJlIHVzZWQgd2l0aGluIFNWRyBjb250ZXh0c1xuICogKGJlY2F1c2UgU1ZHIGRvZXNuJ3Qgd29yayB3aXRoIGN1c3RvbSBlbGVtZW50cyBpbiB0aGUgRE9NIHRyZWUpLlxuICpcbiAqICMjIyMgYHRyYW5zY2x1ZGVgXG4gKiBFeHRyYWN0IHRoZSBjb250ZW50cyBvZiB0aGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGFwcGVhcnMgYW5kIG1ha2UgaXQgYXZhaWxhYmxlIHRvIHRoZSBkaXJlY3RpdmUuXG4gKiBUaGUgY29udGVudHMgYXJlIGNvbXBpbGVkIGFuZCBwcm92aWRlZCB0byB0aGUgZGlyZWN0aXZlIGFzIGEgKip0cmFuc2NsdXNpb24gZnVuY3Rpb24qKi4gU2VlIHRoZVxuICoge0BsaW5rICRjb21waWxlI3RyYW5zY2x1c2lvbiBUcmFuc2NsdXNpb259IHNlY3Rpb24gYmVsb3cuXG4gKlxuICpcbiAqICMjIyMgYGNvbXBpbGVgXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBkZWFscyB3aXRoIHRyYW5zZm9ybWluZyB0aGUgdGVtcGxhdGUgRE9NLiBTaW5jZSBtb3N0IGRpcmVjdGl2ZXMgZG8gbm90IGRvXG4gKiB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiwgaXQgaXMgbm90IHVzZWQgb2Z0ZW4uIFRoZSBjb21waWxlIGZ1bmN0aW9uIHRha2VzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICpcbiAqICAgKiBgdEVsZW1lbnRgIC0gdGVtcGxhdGUgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gZGVjbGFyZWQuIEl0IGlzXG4gKiAgICAgc2FmZSB0byBkbyB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgZWxlbWVudCBhbmQgY2hpbGQgZWxlbWVudHMgb25seS5cbiAqXG4gKiAgICogYHRBdHRyc2AgLSB0ZW1wbGF0ZSBhdHRyaWJ1dGVzIC0gTm9ybWFsaXplZCBsaXN0IG9mIGF0dHJpYnV0ZXMgZGVjbGFyZWQgb24gdGhpcyBlbGVtZW50IHNoYXJlZFxuICogICAgIGJldHdlZW4gYWxsIGRpcmVjdGl2ZSBjb21waWxlIGZ1bmN0aW9ucy5cbiAqXG4gKiAgICogYHRyYW5zY2x1ZGVgIC0gIFsqREVQUkVDQVRFRCohXSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbjogYGZ1bmN0aW9uKHNjb3BlLCBjbG9uZUxpbmtpbmdGbilgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGUgdGVtcGxhdGUgaW5zdGFuY2UgYW5kIHRoZSBsaW5rIGluc3RhbmNlIG1heSBiZSBkaWZmZXJlbnQgb2JqZWN0cyBpZiB0aGUgdGVtcGxhdGUgaGFzXG4gKiBiZWVuIGNsb25lZC4gRm9yIHRoaXMgcmVhc29uIGl0IGlzICoqbm90Kiogc2FmZSB0byBkbyBhbnl0aGluZyBvdGhlciB0aGFuIERPTSB0cmFuc2Zvcm1hdGlvbnMgdGhhdFxuICogYXBwbHkgdG8gYWxsIGNsb25lZCBET00gbm9kZXMgd2l0aGluIHRoZSBjb21waWxlIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksIERPTSBsaXN0ZW5lciByZWdpc3RyYXRpb25cbiAqIHNob3VsZCBiZSBkb25lIGluIGEgbGlua2luZyBmdW5jdGlvbiByYXRoZXIgdGhhbiBpbiBhIGNvbXBpbGUgZnVuY3Rpb24uXG4gKiA8L2Rpdj5cblxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBjYW5ub3QgaGFuZGxlIGRpcmVjdGl2ZXMgdGhhdCByZWN1cnNpdmVseSB1c2UgdGhlbXNlbHZlcyBpbiB0aGVpclxuICogb3duIHRlbXBsYXRlcyBvciBjb21waWxlIGZ1bmN0aW9ucy4gQ29tcGlsaW5nIHRoZXNlIGRpcmVjdGl2ZXMgcmVzdWx0cyBpbiBhbiBpbmZpbml0ZSBsb29wIGFuZFxuICogc3RhY2sgb3ZlcmZsb3cgZXJyb3JzLlxuICpcbiAqIFRoaXMgY2FuIGJlIGF2b2lkZWQgYnkgbWFudWFsbHkgdXNpbmcgJGNvbXBpbGUgaW4gdGhlIHBvc3RMaW5rIGZ1bmN0aW9uIHRvIGltcGVyYXRpdmVseSBjb21waWxlXG4gKiBhIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIGluc3RlYWQgb2YgcmVseWluZyBvbiBhdXRvbWF0aWMgdGVtcGxhdGUgY29tcGlsYXRpb24gdmlhIGB0ZW1wbGF0ZWAgb3JcbiAqIGB0ZW1wbGF0ZVVybGAgZGVjbGFyYXRpb24gb3IgbWFudWFsIGNvbXBpbGF0aW9uIGluc2lkZSB0aGUgY29tcGlsZSBmdW5jdGlvbi5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAqICoqTm90ZToqKiBUaGUgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XG4gKiAgIGUuZy4gZG9lcyBub3Qga25vdyBhYm91dCB0aGUgcmlnaHQgb3V0ZXIgc2NvcGUuIFBsZWFzZSB1c2UgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWRcbiAqICAgdG8gdGhlIGxpbmsgZnVuY3Rpb24gaW5zdGVhZC5cbiAqIDwvZGl2PlxuXG4gKiBBIGNvbXBpbGUgZnVuY3Rpb24gY2FuIGhhdmUgYSByZXR1cm4gdmFsdWUgd2hpY2ggY2FuIGJlIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdC5cbiAqXG4gKiAqIHJldHVybmluZyBhIChwb3N0LWxpbmspIGZ1bmN0aW9uIC0gaXMgZXF1aXZhbGVudCB0byByZWdpc3RlcmluZyB0aGUgbGlua2luZyBmdW5jdGlvbiB2aWEgdGhlXG4gKiAgIGBsaW5rYCBwcm9wZXJ0eSBvZiB0aGUgY29uZmlnIG9iamVjdCB3aGVuIHRoZSBjb21waWxlIGZ1bmN0aW9uIGlzIGVtcHR5LlxuICpcbiAqICogcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGZ1bmN0aW9uKHMpIHJlZ2lzdGVyZWQgdmlhIGBwcmVgIGFuZCBgcG9zdGAgcHJvcGVydGllcyAtIGFsbG93cyB5b3UgdG9cbiAqICAgY29udHJvbCB3aGVuIGEgbGlua2luZyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZS4gU2VlIGluZm8gYWJvdXRcbiAqICAgcHJlLWxpbmtpbmcgYW5kIHBvc3QtbGlua2luZyBmdW5jdGlvbnMgYmVsb3cuXG4gKlxuICpcbiAqICMjIyMgYGxpbmtgXG4gKiBUaGlzIHByb3BlcnR5IGlzIHVzZWQgb25seSBpZiB0aGUgYGNvbXBpbGVgIHByb3BlcnR5IGlzIG5vdCBkZWZpbmVkLlxuICpcbiAqIGBgYGpzXG4gKiAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIsIHRyYW5zY2x1ZGVGbikgeyAuLi4gfVxuICogYGBgXG4gKlxuICogVGhlIGxpbmsgZnVuY3Rpb24gaXMgcmVzcG9uc2libGUgZm9yIHJlZ2lzdGVyaW5nIERPTSBsaXN0ZW5lcnMgYXMgd2VsbCBhcyB1cGRhdGluZyB0aGUgRE9NLiBJdCBpc1xuICogZXhlY3V0ZWQgYWZ0ZXIgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIGNsb25lZC4gVGhpcyBpcyB3aGVyZSBtb3N0IG9mIHRoZSBkaXJlY3RpdmUgbG9naWMgd2lsbCBiZVxuICogcHV0LlxuICpcbiAqICAgKiBgc2NvcGVgIC0ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IC0gVGhlIHNjb3BlIHRvIGJlIHVzZWQgYnkgdGhlXG4gKiAgICAgZGlyZWN0aXZlIGZvciByZWdpc3RlcmluZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlc30uXG4gKlxuICogICAqIGBpRWxlbWVudGAgLSBpbnN0YW5jZSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBpcyB0byBiZSB1c2VkLiBJdCBpcyBzYWZlIHRvXG4gKiAgICAgbWFuaXB1bGF0ZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGVsZW1lbnQgb25seSBpbiBgcG9zdExpbmtgIGZ1bmN0aW9uIHNpbmNlIHRoZSBjaGlsZHJlbiBoYXZlXG4gKiAgICAgYWxyZWFkeSBiZWVuIGxpbmtlZC5cbiAqXG4gKiAgICogYGlBdHRyc2AgLSBpbnN0YW5jZSBhdHRyaWJ1dGVzIC0gTm9ybWFsaXplZCBsaXN0IG9mIGF0dHJpYnV0ZXMgZGVjbGFyZWQgb24gdGhpcyBlbGVtZW50IHNoYXJlZFxuICogICAgIGJldHdlZW4gYWxsIGRpcmVjdGl2ZSBsaW5raW5nIGZ1bmN0aW9ucy5cbiAqXG4gKiAgICogYGNvbnRyb2xsZXJgIC0gdGhlIGRpcmVjdGl2ZSdzIHJlcXVpcmVkIGNvbnRyb2xsZXIgaW5zdGFuY2UocykgLSBJbnN0YW5jZXMgYXJlIHNoYXJlZFxuICogICAgIGFtb25nIGFsbCBkaXJlY3RpdmVzLCB3aGljaCBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBjb250cm9sbGVycyBhcyBhIGNvbW11bmljYXRpb25cbiAqICAgICBjaGFubmVsLiBUaGUgZXhhY3QgdmFsdWUgZGVwZW5kcyBvbiB0aGUgZGlyZWN0aXZlJ3MgYHJlcXVpcmVgIHByb3BlcnR5OlxuICogICAgICAgKiBubyBjb250cm9sbGVyKHMpIHJlcXVpcmVkOiB0aGUgZGlyZWN0aXZlJ3Mgb3duIGNvbnRyb2xsZXIsIG9yIGB1bmRlZmluZWRgIGlmIGl0IGRvZXNuJ3QgaGF2ZSBvbmVcbiAqICAgICAgICogYHN0cmluZ2A6IHRoZSBjb250cm9sbGVyIGluc3RhbmNlXG4gKiAgICAgICAqIGBhcnJheWA6IGFycmF5IG9mIGNvbnRyb2xsZXIgaW5zdGFuY2VzXG4gKlxuICogICAgIElmIGEgcmVxdWlyZWQgY29udHJvbGxlciBjYW5ub3QgYmUgZm91bmQsIGFuZCBpdCBpcyBvcHRpb25hbCwgdGhlIGluc3RhbmNlIGlzIGBudWxsYCxcbiAqICAgICBvdGhlcndpc2UgdGhlIHtAbGluayBlcnJvcjokY29tcGlsZTpjdHJlcSBNaXNzaW5nIFJlcXVpcmVkIENvbnRyb2xsZXJ9IGVycm9yIGlzIHRocm93bi5cbiAqXG4gKiAgICAgTm90ZSB0aGF0IHlvdSBjYW4gYWxzbyByZXF1aXJlIHRoZSBkaXJlY3RpdmUncyBvd24gY29udHJvbGxlciAtIGl0IHdpbGwgYmUgbWFkZSBhdmFpbGFibGUgbGlrZVxuICogICAgIGFueSBvdGhlciBjb250cm9sbGVyLlxuICpcbiAqICAgKiBgdHJhbnNjbHVkZUZuYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKiAgICAgVGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgYCR0cmFuc2NsdWRlYCBwYXJhbWV0ZXIgb2YgZGlyZWN0aXZlIGNvbnRyb2xsZXJzLFxuICogICAgIHNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLWNvbnRyb2xsZXItIHRoZSBjb250cm9sbGVyIHNlY3Rpb24gZm9yIGRldGFpbHN9LlxuICogICAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudClgLlxuICpcbiAqICMjIyMgUHJlLWxpbmtpbmcgZnVuY3Rpb25cbiAqXG4gKiBFeGVjdXRlZCBiZWZvcmUgdGhlIGNoaWxkIGVsZW1lbnRzIGFyZSBsaW5rZWQuIE5vdCBzYWZlIHRvIGRvIERPTSB0cmFuc2Zvcm1hdGlvbiBzaW5jZSB0aGVcbiAqIGNvbXBpbGVyIGxpbmtpbmcgZnVuY3Rpb24gd2lsbCBmYWlsIHRvIGxvY2F0ZSB0aGUgY29ycmVjdCBlbGVtZW50cyBmb3IgbGlua2luZy5cbiAqXG4gKiAjIyMjIFBvc3QtbGlua2luZyBmdW5jdGlvblxuICpcbiAqIEV4ZWN1dGVkIGFmdGVyIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLlxuICpcbiAqIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZFxuICogYW5kIGxpbmtlZCBzaW5jZSB0aGV5IGFyZSB3YWl0aW5nIGZvciB0aGVpciB0ZW1wbGF0ZSB0byBsb2FkIGFzeW5jaHJvbm91c2x5IGFuZCB0aGVpciBvd25cbiAqIGNvbXBpbGF0aW9uIGFuZCBsaW5raW5nIGhhcyBiZWVuIHN1c3BlbmRlZCB1bnRpbCB0aGF0IG9jY3Vycy5cbiAqXG4gKiBJdCBpcyBzYWZlIHRvIGRvIERPTSB0cmFuc2Zvcm1hdGlvbiBpbiB0aGUgcG9zdC1saW5raW5nIGZ1bmN0aW9uIG9uIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCB3YWl0aW5nXG4gKiBmb3IgdGhlaXIgYXN5bmMgdGVtcGxhdGVzIHRvIGJlIHJlc29sdmVkLlxuICpcbiAqXG4gKiAjIyMgVHJhbnNjbHVzaW9uXG4gKlxuICogVHJhbnNjbHVzaW9uIGlzIHRoZSBwcm9jZXNzIG9mIGV4dHJhY3RpbmcgYSBjb2xsZWN0aW9uIG9mIERPTSBlbGVtZW50cyBmcm9tIG9uZSBwYXJ0IG9mIHRoZSBET00gYW5kXG4gKiBjb3B5aW5nIHRoZW0gdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBET00sIHdoaWxlIG1haW50YWluaW5nIHRoZWlyIGNvbm5lY3Rpb24gdG8gdGhlIG9yaWdpbmFsIEFuZ3VsYXJKU1xuICogc2NvcGUgZnJvbSB3aGVyZSB0aGV5IHdlcmUgdGFrZW4uXG4gKlxuICogVHJhbnNjbHVzaW9uIGlzIHVzZWQgKG9mdGVuIHdpdGgge0BsaW5rIG5nVHJhbnNjbHVkZX0pIHRvIGluc2VydCB0aGVcbiAqIG9yaWdpbmFsIGNvbnRlbnRzIG9mIGEgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbnRvIGEgc3BlY2lmaWVkIHBsYWNlIGluIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGJlbmVmaXQgb2YgdHJhbnNjbHVzaW9uLCBvdmVyIHNpbXBseSBtb3ZpbmcgdGhlIERPTSBlbGVtZW50cyBtYW51YWxseSwgaXMgdGhhdCB0aGUgdHJhbnNjbHVkZWRcbiAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBvbiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdCB3YXMgdGFrZW4sIGV2ZW4gaWYgdGhlIGRpcmVjdGl2ZVxuICogaGFzIGlzb2xhdGVkIHNjb3BlLlxuICogU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI2NyZWF0aW5nLWEtZGlyZWN0aXZlLXRoYXQtd3JhcHMtb3RoZXItZWxlbWVudHMgRGlyZWN0aXZlcyBHdWlkZX0uXG4gKlxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUgZm9yIGl0cyB0ZW1wbGF0ZSwgd2hpbGUgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gaXRzIG9yaWdpbmF0aW5nIHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogV2hlbiB0ZXN0aW5nIGFuIGVsZW1lbnQgdHJhbnNjbHVkZSBkaXJlY3RpdmUgeW91IG11c3Qgbm90IHBsYWNlIHRoZSBkaXJlY3RpdmUgYXQgdGhlIHJvb3Qgb2YgdGhlXG4gKiBET00gZnJhZ21lbnQgdGhhdCBpcyBiZWluZyBjb21waWxlZC4gU2VlIHtAbGluayBndWlkZS91bml0LXRlc3RpbmcjdGVzdGluZy10cmFuc2NsdXNpb24tZGlyZWN0aXZlc1xuICogVGVzdGluZyBUcmFuc2NsdXNpb24gRGlyZWN0aXZlc30uXG4gKiA8L2Rpdj5cbiAqXG4gKiBUaGVyZSBhcmUgdGhyZWUga2luZHMgb2YgdHJhbnNjbHVzaW9uIGRlcGVuZGluZyB1cG9uIHdoZXRoZXIgeW91IHdhbnQgdG8gdHJhbnNjbHVkZSBqdXN0IHRoZSBjb250ZW50cyBvZiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQsIHRoZSBlbnRpcmUgZWxlbWVudCBvciBtdWx0aXBsZSBwYXJ0cyBvZiB0aGUgZWxlbWVudCBjb250ZW50czpcbiAqXG4gKiAqIGB0cnVlYCAtIHRyYW5zY2x1ZGUgdGhlIGNvbnRlbnQgKGkuZS4gdGhlIGNoaWxkIG5vZGVzKSBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cbiAqICogYCdlbGVtZW50J2AgLSB0cmFuc2NsdWRlIHRoZSB3aG9sZSBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbmNsdWRpbmcgYW55IGRpcmVjdGl2ZXMgb24gdGhpc1xuICogICBlbGVtZW50IHRoYXQgZGVmaW5lZCBhdCBhIGxvd2VyIHByaW9yaXR5IHRoYW4gdGhpcyBkaXJlY3RpdmUuIFdoZW4gdXNlZCwgdGhlIGB0ZW1wbGF0ZWBcbiAqICAgcHJvcGVydHkgaXMgaWdub3JlZC5cbiAqICogKipgey4uLn1gIChhbiBvYmplY3QgaGFzaCk6KiogLSBtYXAgZWxlbWVudHMgb2YgdGhlIGNvbnRlbnQgb250byB0cmFuc2NsdXNpb24gXCJzbG90c1wiIGluIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiAqKk11bHQtc2xvdCB0cmFuc2NsdXNpb24qKiBpcyBkZWNsYXJlZCBieSBwcm92aWRpbmcgYW4gb2JqZWN0IGZvciB0aGUgYHRyYW5zY2x1ZGVgIHByb3BlcnR5LlxuICpcbiAqIFRoaXMgb2JqZWN0IGlzIGEgbWFwIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGUgbmFtZSBvZiB0aGUgc2xvdCB0byBmaWxsIGFuZCB0aGUgdmFsdWUgaXMgYW4gZWxlbWVudCBzZWxlY3RvclxuICogdXNlZCB0byBtYXRjaCB0aGUgSFRNTCB0byB0aGUgc2xvdC4gVGhlIGVsZW1lbnQgc2VsZWN0b3Igc2hvdWxkIGJlIGluIG5vcm1hbGl6ZWQgZm9ybSAoZS5nLiBgbXlFbGVtZW50YClcbiAqIGFuZCB3aWxsIG1hdGNoIHRoZSBzdGFuZGFyZCBlbGVtZW50IHZhcmlhbnRzIChlLmcuIGBteS1lbGVtZW50YCwgYG15OmVsZW1lbnRgLCBgZGF0YS1teS1lbGVtZW50YCwgZXRjKS5cbiAqXG4gKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxuICpcbiAqIElmIHRoZSBlbGVtZW50IHNlbGVjdG9yIGlzIHByZWZpeGVkIHdpdGggYSBgP2AgdGhlbiB0aGF0IHNsb3QgaXMgb3B0aW9uYWwuXG4gKlxuICogRm9yIGV4YW1wbGUsIHRoZSB0cmFuc2NsdWRlIG9iamVjdCBgeyBzbG90QTogJz9teUN1c3RvbUVsZW1lbnQnIH1gIG1hcHMgYDxteS1jdXN0b20tZWxlbWVudD5gIGVsZW1lbnRzIHRvXG4gKiB0aGUgYHNsb3RBYCBzbG90LCB3aGljaCBjYW4gYmUgYWNjZXNzZWQgdmlhIHRoZSBgJHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIG9yIHZpYSB0aGUge0BsaW5rIG5nVHJhbnNjbHVkZX0gZGlyZWN0aXZlLlxuICpcbiAqIFNsb3RzIHRoYXQgYXJlIG5vdCBtYXJrZWQgYXMgb3B0aW9uYWwgKGA/YCkgd2lsbCB0cmlnZ2VyIGEgY29tcGlsZSB0aW1lIGVycm9yIGlmIHRoZXJlIGFyZSBubyBtYXRjaGluZyBlbGVtZW50c1xuICogaW4gdGhlIHRyYW5zY2x1ZGUgY29udGVudC4gSWYgeW91IHdpc2ggdG8ga25vdyBpZiBhbiBvcHRpb25hbCBzbG90IHdhcyBmaWxsZWQgd2l0aCBjb250ZW50LCB0aGVuIHlvdSBjYW4gY2FsbFxuICogYCR0cmFuc2NsdWRlLmlzU2xvdEZpbGxlZChzbG90TmFtZSlgIG9uIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHBhc3NlZCB0byB0aGUgZGlyZWN0aXZlJ3MgbGluayBmdW5jdGlvbiBhbmRcbiAqIGluamVjdGFibGUgaW50byB0aGUgZGlyZWN0aXZlJ3MgY29udHJvbGxlci5cbiAqXG4gKlxuICogIyMjIyBUcmFuc2NsdXNpb24gRnVuY3Rpb25zXG4gKlxuICogV2hlbiBhIGRpcmVjdGl2ZSByZXF1ZXN0cyB0cmFuc2NsdXNpb24sIHRoZSBjb21waWxlciBleHRyYWN0cyBpdHMgY29udGVudHMgYW5kIHByb3ZpZGVzIGEgKip0cmFuc2NsdXNpb25cbiAqIGZ1bmN0aW9uKiogdG8gdGhlIGRpcmVjdGl2ZSdzIGBsaW5rYCBmdW5jdGlvbiBhbmQgYGNvbnRyb2xsZXJgLiBUaGlzIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiBpcyBhIHNwZWNpYWxcbiAqICoqbGlua2luZyBmdW5jdGlvbioqIHRoYXQgd2lsbCByZXR1cm4gdGhlIGNvbXBpbGVkIGNvbnRlbnRzIGxpbmtlZCB0byBhIG5ldyB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqIElmIHlvdSBhcmUganVzdCB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0aGVuIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoaXMgZnVuY3Rpb24sIHNpbmNlXG4gKiBuZ1RyYW5zY2x1ZGUgd2lsbCBkZWFsIHdpdGggaXQgZm9yIHVzLlxuICogPC9kaXY+XG4gKlxuICogSWYgeW91IHdhbnQgdG8gbWFudWFsbHkgY29udHJvbCB0aGUgaW5zZXJ0aW9uIGFuZCByZW1vdmFsIG9mIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGluIHlvdXIgZGlyZWN0aXZlXG4gKiB0aGVuIHlvdSBtdXN0IHVzZSB0aGlzIHRyYW5zY2x1ZGUgZnVuY3Rpb24uIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGl0IHJldHVybnMgYSBhIGpxTGl0ZS9KUXVlcnlcbiAqIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBjb21waWxlZCBET00sIHdoaWNoIGlzIGxpbmtlZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKlxuICogV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiB5b3UgY2FuIHBhc3MgaW4gYSAqKmNsb25lIGF0dGFjaCBmdW5jdGlvbioqLiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHNcbiAqIHR3byBwYXJhbWV0ZXJzLCBgZnVuY3Rpb24oY2xvbmUsIHNjb3BlKSB7IC4uLiB9YCwgd2hlcmUgdGhlIGBjbG9uZWAgaXMgYSBmcmVzaCBjb21waWxlZCBjb3B5IG9mIHlvdXIgdHJhbnNjbHVkZWRcbiAqIGNvbnRlbnQgYW5kIHRoZSBgc2NvcGVgIGlzIHRoZSBuZXdseSBjcmVhdGVkIHRyYW5zY2x1c2lvbiBzY29wZSwgdG8gd2hpY2ggdGhlIGNsb25lIGlzIGJvdW5kLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2UqKjogQWx3YXlzIHByb3ZpZGUgYSBgY2xvbmVGbmAgKGNsb25lIGF0dGFjaCBmdW5jdGlvbikgd2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb25cbiAqIHNpbmNlIHlvdSB0aGVuIGdldCBhIGZyZXNoIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBET00gYW5kIGFsc28gaGF2ZSBhY2Nlc3MgdG8gdGhlIG5ldyB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiBJdCBpcyBub3JtYWwgcHJhY3RpY2UgdG8gYXR0YWNoIHlvdXIgdHJhbnNjbHVkZWQgY29udGVudCAoYGNsb25lYCkgdG8gdGhlIERPTSBpbnNpZGUgeW91ciAqKmNsb25lXG4gKiBhdHRhY2ggZnVuY3Rpb24qKjpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHRyYW5zY2x1ZGVkQ29udGVudCwgdHJhbnNjbHVzaW9uU2NvcGU7XG4gKlxuICogJHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUsIHNjb3BlKSB7XG4gKiAgIGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAqICAgdHJhbnNjbHVkZWRDb250ZW50ID0gY2xvbmU7XG4gKiAgIHRyYW5zY2x1c2lvblNjb3BlID0gc2NvcGU7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIExhdGVyLCBpZiB5b3Ugd2FudCB0byByZW1vdmUgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgZnJvbSB5b3VyIERPTSB0aGVuIHlvdSBzaG91bGQgYWxzbyBkZXN0cm95IHRoZVxuICogYXNzb2NpYXRlZCB0cmFuc2NsdXNpb24gc2NvcGU6XG4gKlxuICogYGBganNcbiAqIHRyYW5zY2x1ZGVkQ29udGVudC5yZW1vdmUoKTtcbiAqIHRyYW5zY2x1c2lvblNjb3BlLiRkZXN0cm95KCk7XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogKipCZXN0IFByYWN0aWNlKio6IGlmIHlvdSBpbnRlbmQgdG8gYWRkIGFuZCByZW1vdmUgdHJhbnNjbHVkZWQgY29udGVudCBtYW51YWxseSBpbiB5b3VyIGRpcmVjdGl2ZVxuICogKGJ5IGNhbGxpbmcgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBET00gYW5kIGNhbGxpbmcgYGVsZW1lbnQucmVtb3ZlKClgIHRvIHJlbW92ZSBpdCksXG4gKiB0aGVuIHlvdSBhcmUgYWxzbyByZXNwb25zaWJsZSBmb3IgY2FsbGluZyBgJGRlc3Ryb3lgIG9uIHRoZSB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiBUaGUgYnVpbHQtaW4gRE9NIG1hbmlwdWxhdGlvbiBkaXJlY3RpdmVzLCBzdWNoIGFzIHtAbGluayBuZ0lmfSwge0BsaW5rIG5nU3dpdGNofSBhbmQge0BsaW5rIG5nUmVwZWF0fVxuICogYXV0b21hdGljYWxseSBkZXN0cm95IHRoZWlyIHRyYW5zY2x1ZGVkIGNsb25lcyBhcyBuZWNlc3Nhcnkgc28geW91IGRvIG5vdCBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoaXMgaWZcbiAqIHlvdSBhcmUgc2ltcGx5IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRvIGluamVjdCB0aGUgdHJhbnNjbHVzaW9uIGludG8geW91ciBkaXJlY3RpdmUuXG4gKlxuICpcbiAqICMjIyMgVHJhbnNjbHVzaW9uIFNjb3Blc1xuICpcbiAqIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGl0IHJldHVybnMgYSBET00gZnJhZ21lbnQgdGhhdCBpcyBwcmUtYm91bmQgdG8gYSAqKnRyYW5zY2x1c2lvblxuICogc2NvcGUqKi4gVGhpcyBzY29wZSBpcyBzcGVjaWFsLCBpbiB0aGF0IGl0IGlzIGEgY2hpbGQgb2YgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIChhbmQgc28gZ2V0cyBkZXN0cm95ZWRcbiAqIHdoZW4gdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIGdldHMgZGVzdHJveWVkKSBidXQgaXQgaW5oZXJpdHMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIHNjb3BlIGZyb20gd2hpY2ggaXRcbiAqIHdhcyB0YWtlbi5cbiAqXG4gKiBGb3IgZXhhbXBsZSBjb25zaWRlciBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMgdHJhbnNjbHVzaW9uIGFuZCBpc29sYXRlZCBzY29wZS4gVGhlIERPTSBoaWVyYXJjaHkgbWlnaHQgbG9va1xuICogbGlrZSB0aGlzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctYXBwPlxuICogICA8ZGl2IGlzb2xhdGU+XG4gKiAgICAgPGRpdiB0cmFuc2NsdXNpb24+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBUaGUgYCRwYXJlbnRgIHNjb3BlIGhpZXJhcmNoeSB3aWxsIGxvb2sgbGlrZSB0aGlzOlxuICpcbiAgIGBgYFxuICAgLSAkcm9vdFNjb3BlXG4gICAgIC0gaXNvbGF0ZVxuICAgICAgIC0gdHJhbnNjbHVzaW9uXG4gICBgYGBcbiAqXG4gKiBidXQgdGhlIHNjb3BlcyB3aWxsIGluaGVyaXQgcHJvdG90eXBpY2FsbHkgZnJvbSBkaWZmZXJlbnQgc2NvcGVzIHRvIHRoZWlyIGAkcGFyZW50YC5cbiAqXG4gICBgYGBcbiAgIC0gJHJvb3RTY29wZVxuICAgICAtIHRyYW5zY2x1c2lvblxuICAgLSBpc29sYXRlXG4gICBgYGBcbiAqXG4gKlxuICogIyMjIEF0dHJpYnV0ZXNcbiAqXG4gKiBUaGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIEF0dHJpYnV0ZXN9IG9iamVjdCAtIHBhc3NlZCBhcyBhIHBhcmFtZXRlciBpbiB0aGVcbiAqIGBsaW5rKClgIG9yIGBjb21waWxlKClgIGZ1bmN0aW9ucy4gSXQgaGFzIGEgdmFyaWV0eSBvZiB1c2VzLlxuICpcbiAqICogKkFjY2Vzc2luZyBub3JtYWxpemVkIGF0dHJpYnV0ZSBuYW1lczoqIERpcmVjdGl2ZXMgbGlrZSAnbmdCaW5kJyBjYW4gYmUgZXhwcmVzc2VkIGluIG1hbnkgd2F5czpcbiAqICAgJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuIFRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhbGxvd3MgZm9yIG5vcm1hbGl6ZWQgYWNjZXNzXG4gKiAgIHRvIHRoZSBhdHRyaWJ1dGVzLlxuICpcbiAqICogKkRpcmVjdGl2ZSBpbnRlci1jb21tdW5pY2F0aW9uOiogQWxsIGRpcmVjdGl2ZXMgc2hhcmUgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgdGhlIGF0dHJpYnV0ZXNcbiAqICAgb2JqZWN0IHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGF0dHJpYnV0ZXMgb2JqZWN0IGFzIGludGVyIGRpcmVjdGl2ZVxuICogICBjb21tdW5pY2F0aW9uLlxuICpcbiAqICogKlN1cHBvcnRzIGludGVycG9sYXRpb246KiBJbnRlcnBvbGF0aW9uIGF0dHJpYnV0ZXMgYXJlIGFzc2lnbmVkIHRvIHRoZSBhdHRyaWJ1dGUgb2JqZWN0XG4gKiAgIGFsbG93aW5nIG90aGVyIGRpcmVjdGl2ZXMgdG8gcmVhZCB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlLlxuICpcbiAqICogKk9ic2VydmluZyBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlczoqIFVzZSBgJG9ic2VydmVgIHRvIG9ic2VydmUgdGhlIHZhbHVlIGNoYW5nZXMgb2YgYXR0cmlidXRlc1xuICogICB0aGF0IGNvbnRhaW4gaW50ZXJwb2xhdGlvbiAoZS5nLiBgc3JjPVwie3tiYXJ9fVwiYCkuIE5vdCBvbmx5IGlzIHRoaXMgdmVyeSBlZmZpY2llbnQgYnV0IGl0J3MgYWxzb1xuICogICB0aGUgb25seSB3YXkgdG8gZWFzaWx5IGdldCB0aGUgYWN0dWFsIHZhbHVlIGJlY2F1c2UgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlIHRoZSBpbnRlcnBvbGF0aW9uXG4gKiAgIGhhc24ndCBiZWVuIGV2YWx1YXRlZCB5ZXQgYW5kIHNvIHRoZSB2YWx1ZSBpcyBhdCB0aGlzIHRpbWUgc2V0IHRvIGB1bmRlZmluZWRgLlxuICpcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbiBsaW5raW5nRm4oc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHtcbiAqICAgLy8gZ2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWVcbiAqICAgY29uc29sZS5sb2coYXR0cnMubmdNb2RlbCk7XG4gKlxuICogICAvLyBjaGFuZ2UgdGhlIGF0dHJpYnV0ZVxuICogICBhdHRycy4kc2V0KCduZ01vZGVsJywgJ25ldyB2YWx1ZScpO1xuICpcbiAqICAgLy8gb2JzZXJ2ZSBjaGFuZ2VzIHRvIGludGVycG9sYXRlZCBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJG9ic2VydmUoJ25nTW9kZWwnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIGNvbnNvbGUubG9nKCduZ01vZGVsIGhhcyBjaGFuZ2VkIHZhbHVlIHRvICcgKyB2YWx1ZSk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGUqKjogVHlwaWNhbGx5IGRpcmVjdGl2ZXMgYXJlIHJlZ2lzdGVyZWQgd2l0aCBgbW9kdWxlLmRpcmVjdGl2ZWAuIFRoZSBleGFtcGxlIGJlbG93IGlzXG4gKiB0byBpbGx1c3RyYXRlIGhvdyBgJGNvbXBpbGVgIHdvcmtzLlxuICogPC9kaXY+XG4gKlxuIDxleGFtcGxlIG1vZHVsZT1cImNvbXBpbGVFeGFtcGxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY29tcGlsZUV4YW1wbGUnLCBbXSwgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xuICAgICAgICAvLyBjb25maWd1cmUgbmV3ICdjb21waWxlJyBkaXJlY3RpdmUgYnkgcGFzc2luZyBhIGRpcmVjdGl2ZVxuICAgICAgICAvLyBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBpbmplY3RzIHRoZSAnJGNvbXBpbGUnXG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCdjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgZmFjdG9yeSBjcmVhdGVzIGEgbGluayBmdW5jdGlvblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgLy8gd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzLmNvbXBpbGUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlICdjb21waWxlJyBleHByZXNzaW9uIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gaXQgaW50byB0aGUgY3VycmVudCBET01cbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZSB0aGUgbmV3IERPTSBhbmQgbGluayBpdCB0byB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHNjb3BlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIG9ubHkgY29tcGlsZSAuY2hpbGROb2RlcyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgZ2V0IGludG8gaW5maW5pdGUgbG9vcCBjb21waWxpbmcgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0ZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLm5hbWUgPSAnQW5ndWxhcic7XG4gICAgICAgICRzY29wZS5odG1sID0gJ0hlbGxvIHt7bmFtZX19JztcbiAgICAgIH1dKTtcbiAgICA8L3NjcmlwdD5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHcmVldGVyQ29udHJvbGxlclwiPlxuICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPiA8YnIvPlxuICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiaHRtbFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICA8ZGl2IGNvbXBpbGU9XCJodG1sXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgIGl0KCdzaG91bGQgYXV0byBjb21waWxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgdmFyIHRleHRhcmVhID0gJCgndGV4dGFyZWEnKTtcbiAgICAgICB2YXIgb3V0cHV0ID0gJCgnZGl2W2NvbXBpbGVdJyk7XG4gICAgICAgLy8gVGhlIGluaXRpYWwgc3RhdGUgcmVhZHMgJ0hlbGxvIEFuZ3VsYXInLlxuICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdIZWxsbyBBbmd1bGFyJyk7XG4gICAgICAgdGV4dGFyZWEuY2xlYXIoKTtcbiAgICAgICB0ZXh0YXJlYS5zZW5kS2V5cygne3tuYW1lfX0hJyk7XG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0FuZ3VsYXIhJyk7XG4gICAgIH0pO1xuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cblxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgb3IgSFRNTCBzdHJpbmcgdG8gY29tcGlsZSBpbnRvIGEgdGVtcGxhdGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZSBmdW5jdGlvbiBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcyAtIERFUFJFQ0FURUQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogKipOb3RlOioqIFBhc3NpbmcgYSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdG8gdGhlICRjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XG4gKiAgIGUuZy4gd2lsbCBub3QgdXNlIHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHBhc3MgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gYXMgYVxuICogICBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UHJpb3JpdHkgb25seSBhcHBseSBkaXJlY3RpdmVzIGxvd2VyIHRoYW4gZ2l2ZW4gcHJpb3JpdHkgKE9ubHkgZWZmZWN0cyB0aGVcbiAqICAgICAgICAgICAgICAgICByb290IGVsZW1lbnQocyksIG5vdCB0aGVpciBjaGlsZHJlbilcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzY29wZSwgY2xvbmVBdHRhY2hGbj0sIG9wdGlvbnM9KX0gYSBsaW5rIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gYmluZCB0ZW1wbGF0ZVxuICogKGEgRE9NIGVsZW1lbnQvdHJlZSkgdG8gYSBzY29wZS4gV2hlcmU6XG4gKlxuICogICogYHNjb3BlYCAtIEEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IHRvIGJpbmQgdG8uXG4gKiAgKiBgY2xvbmVBdHRhY2hGbmAgLSBJZiBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQsIHRoZW4gdGhlIGxpbmsgZnVuY3Rpb24gd2lsbCBjbG9uZSB0aGVcbiAqICBgdGVtcGxhdGVgIGFuZCBjYWxsIHRoZSBgY2xvbmVBdHRhY2hGbmAgZnVuY3Rpb24gYWxsb3dpbmcgdGhlIGNhbGxlciB0byBhdHRhY2ggdGhlXG4gKiAgY2xvbmVkIGVsZW1lbnRzIHRvIHRoZSBET00gZG9jdW1lbnQgYXQgdGhlIGFwcHJvcHJpYXRlIHBsYWNlLiBUaGUgYGNsb25lQXR0YWNoRm5gIGlzXG4gKiAgY2FsbGVkIGFzOiA8YnIvPiBgY2xvbmVBdHRhY2hGbihjbG9uZWRFbGVtZW50LCBzY29wZSlgIHdoZXJlOlxuICpcbiAqICAgICAgKiBgY2xvbmVkRWxlbWVudGAgLSBpcyBhIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBgZWxlbWVudGAgcGFzc2VkIGludG8gdGhlIGNvbXBpbGVyLlxuICogICAgICAqIGBzY29wZWAgLSBpcyB0aGUgY3VycmVudCBzY29wZSB3aXRoIHdoaWNoIHRoZSBsaW5raW5nIGZ1bmN0aW9uIGlzIHdvcmtpbmcgd2l0aC5cbiAqXG4gKiAgKiBgb3B0aW9uc2AgLSBBbiBvcHRpb25hbCBvYmplY3QgaGFzaCB3aXRoIGxpbmtpbmcgb3B0aW9ucy4gSWYgYG9wdGlvbnNgIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBmb2xsb3dpbmdcbiAqICBrZXlzIG1heSBiZSB1c2VkIHRvIGNvbnRyb2wgbGlua2luZyBiZWhhdmlvcjpcbiAqXG4gKiAgICAgICogYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCAtIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIG1hZGUgYXZhaWxhYmxlIHRvXG4gKiAgICAgICAgZGlyZWN0aXZlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGxpbmsgZnVuY3Rpb25zIG9mXG4gKiAgICAgICAgZGlyZWN0aXZlcyBmb3VuZCBpbiBgZWxlbWVudGAgZHVyaW5nIGNvbXBpbGF0aW9uLlxuICogICAgICAqIGB0cmFuc2NsdWRlQ29udHJvbGxlcnNgIC0gYW4gb2JqZWN0IGhhc2ggd2l0aCBrZXlzIHRoYXQgbWFwIGNvbnRyb2xsZXIgbmFtZXNcbiAqICAgICAgICB0byBhIGhhc2ggd2l0aCB0aGUga2V5IGBpbnN0YW5jZWAsIHdoaWNoIG1hcHMgdG8gdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2U7XG4gKiAgICAgICAgaWYgZ2l2ZW4sIGl0IHdpbGwgbWFrZSB0aGUgY29udHJvbGxlcnMgYXZhaWxhYmxlIHRvIGRpcmVjdGl2ZXMgb24gdGhlIGNvbXBpbGVOb2RlOlxuICogICAgICAgIGBgYFxuICogICAgICAgIHtcbiAqICAgICAgICAgIHBhcmVudDoge1xuICogICAgICAgICAgICBpbnN0YW5jZTogcGFyZW50Q29udHJvbGxlckluc3RhbmNlXG4gKiAgICAgICAgICB9XG4gKiAgICAgICAgfVxuICogICAgICAgIGBgYFxuICogICAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YCAtIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lQXR0YWNoRm5gIHdpbGwgYWRkXG4gKiAgICAgICAgdGhlIGNsb25lZCBlbGVtZW50czsgb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbFxuICogICAgICAgIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cykuIFNlZSBhbHNvIHRoZSBkaXJlY3RpdmUuY29udHJvbGxlciBwcm9wZXJ0eS5cbiAqXG4gKiBDYWxsaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHJldHVybnMgdGhlIGVsZW1lbnQgb2YgdGhlIHRlbXBsYXRlLiBJdCBpcyBlaXRoZXIgdGhlIG9yaWdpbmFsXG4gKiBlbGVtZW50IHBhc3NlZCBpbiwgb3IgdGhlIGNsb25lIG9mIHRoZSBlbGVtZW50IGlmIHRoZSBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQuXG4gKlxuICogQWZ0ZXIgbGlua2luZyB0aGUgdmlldyBpcyBub3QgdXBkYXRlZCB1bnRpbCBhZnRlciBhIGNhbGwgdG8gJGRpZ2VzdCB3aGljaCB0eXBpY2FsbHkgaXMgZG9uZSBieVxuICogQW5ndWxhciBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIElmIHlvdSBuZWVkIGFjY2VzcyB0byB0aGUgYm91bmQgdmlldywgdGhlcmUgYXJlIHR3byB3YXlzIHRvIGRvIGl0OlxuICpcbiAqIC0gSWYgeW91IGFyZSBub3QgYXNraW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHRvIGNsb25lIHRoZSB0ZW1wbGF0ZSwgY3JlYXRlIHRoZSBET00gZWxlbWVudChzKVxuICogICBiZWZvcmUgeW91IHNlbmQgdGhlbSB0byB0aGUgY29tcGlsZXIgYW5kIGtlZXAgdGhpcyByZWZlcmVuY2UgYXJvdW5kLlxuICogICBgYGBqc1xuICogICAgIHZhciBlbGVtZW50ID0gJGNvbXBpbGUoJzxwPnt7dG90YWx9fTwvcD4nKShzY29wZSk7XG4gKiAgIGBgYFxuICpcbiAqIC0gaWYgb24gdGhlIG90aGVyIGhhbmQsIHlvdSBuZWVkIHRoZSBlbGVtZW50IHRvIGJlIGNsb25lZCwgdGhlIHZpZXcgcmVmZXJlbmNlIGZyb20gdGhlIG9yaWdpbmFsXG4gKiAgIGV4YW1wbGUgd291bGQgbm90IHBvaW50IHRvIHRoZSBjbG9uZSwgYnV0IHJhdGhlciB0byB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB3YXMgY2xvbmVkLiBJblxuICogICB0aGlzIGNhc2UsIHlvdSBjYW4gYWNjZXNzIHRoZSBjbG9uZSB2aWEgdGhlIGNsb25lQXR0YWNoRm46XG4gKiAgIGBgYGpzXG4gKiAgICAgdmFyIHRlbXBsYXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnPHA+e3t0b3RhbH19PC9wPicpLFxuICogICAgICAgICBzY29wZSA9IC4uLi47XG4gKlxuICogICAgIHZhciBjbG9uZWRFbGVtZW50ID0gJGNvbXBpbGUodGVtcGxhdGVFbGVtZW50KShzY29wZSwgZnVuY3Rpb24oY2xvbmVkRWxlbWVudCwgc2NvcGUpIHtcbiAqICAgICAgIC8vYXR0YWNoIHRoZSBjbG9uZSB0byBET00gZG9jdW1lbnQgYXQgdGhlIHJpZ2h0IHBsYWNlXG4gKiAgICAgfSk7XG4gKlxuICogICAgIC8vbm93IHdlIGhhdmUgcmVmZXJlbmNlIHRvIHRoZSBjbG9uZWQgRE9NIHZpYSBgY2xvbmVkRWxlbWVudGBcbiAqICAgYGBgXG4gKlxuICpcbiAqIEZvciBpbmZvcm1hdGlvbiBvbiBob3cgdGhlIGNvbXBpbGVyIHdvcmtzLCBzZWUgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvY29tcGlsZXIgQW5ndWxhciBIVE1MIENvbXBpbGVyfSBzZWN0aW9uIG9mIHRoZSBEZXZlbG9wZXIgR3VpZGUuXG4gKi9cblxudmFyICRjb21waWxlTWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xuXG5mdW5jdGlvbiBVTklOSVRJQUxJWkVEX1ZBTFVFKCkge31cbnZhciBfVU5JTklUSUFMSVpFRF9WQUxVRSA9IG5ldyBVTklOSVRJQUxJWkVEX1ZBTFVFKCk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKi9cbiRDb21waWxlUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnLCAnJCRzYW5pdGl6ZVVyaVByb3ZpZGVyJ107XG5mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCAkJHNhbml0aXplVXJpUHJvdmlkZXIpIHtcbiAgdmFyIGhhc0RpcmVjdGl2ZXMgPSB7fSxcbiAgICAgIFN1ZmZpeCA9ICdEaXJlY3RpdmUnLFxuICAgICAgQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQID0gL15cXHMqZGlyZWN0aXZlXFw6XFxzKihbXFx3XFwtXSspXFxzKyguKikkLyxcbiAgICAgIENMQVNTX0RJUkVDVElWRV9SRUdFWFAgPSAvKChbXFx3XFwtXSspKD86XFw6KFteO10rKSk/Oz8pLyxcbiAgICAgIEFMTF9PUl9OT1RISU5HX0FUVFJTID0gbWFrZU1hcCgnbmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldCcpLFxuICAgICAgUkVRVUlSRV9QUkVGSVhfUkVHRVhQID0gL14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LztcblxuICAvLyBSZWY6IGh0dHA6Ly9kZXZlbG9wZXJzLndoYXR3Zy5vcmcvd2ViYXBwYXBpcy5odG1sI2V2ZW50LWhhbmRsZXItaWRsLWF0dHJpYnV0ZXNcbiAgLy8gVGhlIGFzc3VtcHRpb24gaXMgdGhhdCBmdXR1cmUgRE9NIGV2ZW50IGF0dHJpYnV0ZSBuYW1lcyB3aWxsIGJlZ2luIHdpdGhcbiAgLy8gJ29uJyBhbmQgYmUgY29tcG9zZWQgb2Ygb25seSBFbmdsaXNoIGxldHRlcnMuXG4gIHZhciBFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQID0gL14ob25bYS16XSt8Zm9ybWFjdGlvbikkLztcbiAgdmFyIGJpbmRpbmdDYWNoZSA9IGNyZWF0ZU1hcCgpO1xuXG4gIGZ1bmN0aW9uIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKHNjb3BlLCBkaXJlY3RpdmVOYW1lLCBpc0NvbnRyb2xsZXIpIHtcbiAgICB2YXIgTE9DQUxfUkVHRVhQID0gL15cXHMqKFtAJjxdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLztcblxuICAgIHZhciBiaW5kaW5ncyA9IGNyZWF0ZU1hcCgpO1xuXG4gICAgZm9yRWFjaChzY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XG4gICAgICBpZiAoZGVmaW5pdGlvbiBpbiBiaW5kaW5nQ2FjaGUpIHtcbiAgICAgICAgYmluZGluZ3Nbc2NvcGVOYW1lXSA9IGJpbmRpbmdDYWNoZVtkZWZpbml0aW9uXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG1hdGNoID0gZGVmaW5pdGlvbi5tYXRjaChMT0NBTF9SRUdFWFApO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdpc2NwJyxcbiAgICAgICAgICAgIFwiSW52YWxpZCB7M30gZm9yIGRpcmVjdGl2ZSAnezB9Jy5cIiArXG4gICAgICAgICAgICBcIiBEZWZpbml0aW9uOiB7Li4uIHsxfTogJ3syfScgLi4ufVwiLFxuICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgc2NvcGVOYW1lLCBkZWZpbml0aW9uLFxuICAgICAgICAgICAgKGlzQ29udHJvbGxlciA/IFwiY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uXCIgOlxuICAgICAgICAgICAgXCJpc29sYXRlIHNjb3BlIGRlZmluaXRpb25cIikpO1xuICAgICAgfVxuXG4gICAgICBiaW5kaW5nc1tzY29wZU5hbWVdID0ge1xuICAgICAgICBtb2RlOiBtYXRjaFsxXVswXSxcbiAgICAgICAgY29sbGVjdGlvbjogbWF0Y2hbMl0gPT09ICcqJyxcbiAgICAgICAgb3B0aW9uYWw6IG1hdGNoWzNdID09PSAnPycsXG4gICAgICAgIGF0dHJOYW1lOiBtYXRjaFs0XSB8fCBzY29wZU5hbWVcbiAgICAgIH07XG4gICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgYmluZGluZ0NhY2hlW2RlZmluaXRpb25dID0gYmluZGluZ3Nbc2NvcGVOYW1lXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBiaW5kaW5ncztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRGlyZWN0aXZlQmluZGluZ3MoZGlyZWN0aXZlLCBkaXJlY3RpdmVOYW1lKSB7XG4gICAgdmFyIGJpbmRpbmdzID0ge1xuICAgICAgaXNvbGF0ZVNjb3BlOiBudWxsLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogbnVsbFxuICAgIH07XG4gICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5zY29wZSkpIHtcbiAgICAgIGlmIChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciA9PT0gdHJ1ZSkge1xuICAgICAgICBiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyID0gcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgdHJ1ZSk7XG4gICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmluZGluZ3MuaXNvbGF0ZVNjb3BlID0gcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc09iamVjdChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlcikpIHtcbiAgICAgIGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIgPVxuICAgICAgICAgIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyLCBkaXJlY3RpdmVOYW1lLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIpKSB7XG4gICAgICB2YXIgY29udHJvbGxlciA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xuICAgICAgdmFyIGNvbnRyb2xsZXJBcyA9IGRpcmVjdGl2ZS5jb250cm9sbGVyQXM7XG4gICAgICBpZiAoIWNvbnRyb2xsZXIpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gY29udHJvbGxlciwgdGhlcmUgbWF5IG9yIG1heSBub3QgYmUgYSBjb250cm9sbGVyQXMgcHJvcGVydHlcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vY3RybCcsXG4gICAgICAgICAgICAgIFwiQ2Fubm90IGJpbmQgdG8gY29udHJvbGxlciB3aXRob3V0IGRpcmVjdGl2ZSAnezB9J3MgY29udHJvbGxlci5cIixcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKCFpZGVudGlmaWVyRm9yQ29udHJvbGxlcihjb250cm9sbGVyLCBjb250cm9sbGVyQXMpKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIGEgY29udHJvbGxlciwgYnV0IG5vIGlkZW50aWZpZXIgb3IgY29udHJvbGxlckFzIHByb3BlcnR5XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub2lkZW50JyxcbiAgICAgICAgICAgICAgXCJDYW5ub3QgYmluZCB0byBjb250cm9sbGVyIHdpdGhvdXQgaWRlbnRpZmllciBmb3IgZGlyZWN0aXZlICd7MH0nLlwiLFxuICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJpbmRpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpIHtcbiAgICB2YXIgbGV0dGVyID0gbmFtZS5jaGFyQXQoMCk7XG4gICAgaWYgKCFsZXR0ZXIgfHwgbGV0dGVyICE9PSBsb3dlcmNhc2UobGV0dGVyKSkge1xuICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2JhZGRpcicsIFwiRGlyZWN0aXZlL0NvbXBvbmVudCBuYW1lICd7MH0nIGlzIGludmFsaWQuIFRoZSBmaXJzdCBjaGFyYWN0ZXIgbXVzdCBiZSBhIGxvd2VyY2FzZSBsZXR0ZXJcIiwgbmFtZSk7XG4gICAgfVxuICAgIGlmIChuYW1lICE9PSBuYW1lLnRyaW0oKSkge1xuICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2JhZGRpcicsXG4gICAgICAgICAgICBcIkRpcmVjdGl2ZS9Db21wb25lbnQgbmFtZSAnezB9JyBpcyBpbnZhbGlkLiBUaGUgbmFtZSBzaG91bGQgbm90IGNvbnRhaW4gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlc1wiLFxuICAgICAgICAgICAgbmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aXZlUmVxdWlyZShkaXJlY3RpdmUpIHtcbiAgICB2YXIgcmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlIHx8IChkaXJlY3RpdmUuY29udHJvbGxlciAmJiBkaXJlY3RpdmUubmFtZSk7XG5cbiAgICBpZiAoIWlzQXJyYXkocmVxdWlyZSkgJiYgaXNPYmplY3QocmVxdWlyZSkpIHtcbiAgICAgIGZvckVhY2gocmVxdWlyZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChSRVFVSVJFX1BSRUZJWF9SRUdFWFApO1xuICAgICAgICB2YXIgbmFtZSA9IHZhbHVlLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICBpZiAoIW5hbWUpIHJlcXVpcmVba2V5XSA9IG1hdGNoWzBdICsga2V5O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVpcmU7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZVxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBuZXcgZGlyZWN0aXZlIHdpdGggdGhlIGNvbXBpbGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZGlyZWN0aXZlIGluIGNhbWVsLWNhc2UgKGkuZS4gPGNvZGU+bmdCaW5kPC9jb2RlPiB3aGljaFxuICAgKiAgICB3aWxsIG1hdGNoIGFzIDxjb2RlPm5nLWJpbmQ8L2NvZGU+KSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGVcbiAgICogICAgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmYWN0b3JpZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGRpcmVjdGl2ZUZhY3RvcnkgQW4gaW5qZWN0YWJsZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gU2VlIHRoZVxuICAgKiAgICB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZSBndWlkZX0gYW5kIHRoZSB7QGxpbmsgJGNvbXBpbGUgY29tcGlsZSBBUEl9IGZvciBtb3JlIGluZm8uXG4gICAqIEByZXR1cm5zIHtuZy4kY29tcGlsZVByb3ZpZGVyfSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICovXG4gIHRoaXMuZGlyZWN0aXZlID0gZnVuY3Rpb24gcmVnaXN0ZXJEaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlRmFjdG9yeSkge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdkaXJlY3RpdmUnKTtcbiAgICBpZiAoaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgIGFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgIGFzc2VydEFyZyhkaXJlY3RpdmVGYWN0b3J5LCAnZGlyZWN0aXZlRmFjdG9yeScpO1xuICAgICAgaWYgKCFoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0gPSBbXTtcbiAgICAgICAgJHByb3ZpZGUuZmFjdG9yeShuYW1lICsgU3VmZml4LCBbJyRpbmplY3RvcicsICckZXhjZXB0aW9uSGFuZGxlcicsXG4gICAgICAgICAgZnVuY3Rpb24oJGluamVjdG9yLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvckVhY2goaGFzRGlyZWN0aXZlc1tuYW1lXSwgZnVuY3Rpb24oZGlyZWN0aXZlRmFjdG9yeSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gJGluamVjdG9yLmludm9rZShkaXJlY3RpdmVGYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUgPSB7IGNvbXBpbGU6IHZhbHVlRm4oZGlyZWN0aXZlKSB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRpcmVjdGl2ZS5jb21waWxlICYmIGRpcmVjdGl2ZS5saW5rKSB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUuY29tcGlsZSA9IHZhbHVlRm4oZGlyZWN0aXZlLmxpbmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHkgfHwgMDtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUubmFtZSA9IGRpcmVjdGl2ZS5uYW1lIHx8IG5hbWU7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlcXVpcmUgPSBnZXREaXJlY3RpdmVSZXF1aXJlKGRpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdFQSc7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkbW9kdWxlTmFtZSA9IGRpcmVjdGl2ZUZhY3RvcnkuJCRtb2R1bGVOYW1lO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXM7XG4gICAgICAgICAgfV0pO1xuICAgICAgfVxuICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKG5hbWUsIHJldmVyc2VQYXJhbXMocmVnaXN0ZXJEaXJlY3RpdmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNjb21wb25lbnRcbiAgICogQG1vZHVsZSBuZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgaW4gY2FtZWxDYXNlIChpLmUuIGBteUNvbXBgIHdoaWNoIHdpbGwgbWF0Y2ggYDxteS1jb21wPmApXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdCAoYSBzaW1wbGlmaWVkXG4gICAqICAgIHtAbGluayBuZy4kY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0fSksXG4gICAqICAgIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIChhbGwgb3B0aW9uYWwpOlxuICAgKlxuICAgKiAgICAtIGBjb250cm9sbGVyYCDigJMgYHsoc3RyaW5nfGZ1bmN0aW9uKCk9fWAg4oCTIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmVcbiAgICogICAgICBhc3NvY2lhdGVkIHdpdGggbmV3bHkgY3JlYXRlZCBzY29wZSBvciB0aGUgbmFtZSBvZiBhIHtAbGluayBuZy4kY29tcGlsZSMtY29udHJvbGxlci1cbiAgICogICAgICByZWdpc3RlcmVkIGNvbnRyb2xsZXJ9IGlmIHBhc3NlZCBhcyBhIHN0cmluZy4gQW4gZW1wdHkgYG5vb3BgIGZ1bmN0aW9uIGJ5IGRlZmF1bHQuXG4gICAqICAgIC0gYGNvbnRyb2xsZXJBc2Ag4oCTIGB7c3RyaW5nPX1gIOKAkyBpZGVudGlmaWVyIG5hbWUgZm9yIHRvIHJlZmVyZW5jZSB0aGUgY29udHJvbGxlciBpbiB0aGUgY29tcG9uZW50J3Mgc2NvcGUuXG4gICAqICAgICAgSWYgcHJlc2VudCwgdGhlIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuXG4gICAqICAgICAgSWYgbm90IHByZXNlbnQsIHRoaXMgd2lsbCBkZWZhdWx0IHRvIGJlIGAkY3RybGAuXG4gICAqICAgIC0gYHRlbXBsYXRlYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0XG4gICAqICAgICAgcmV0dXJucyBhbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIHdoaWNoIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBjb250ZW50cyBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICogICAgICBFbXB0eSBzdHJpbmcgYnkgZGVmYXVsdC5cbiAgICpcbiAgICogICAgICBJZiBgdGVtcGxhdGVgIGlzIGEgZnVuY3Rpb24sIHRoZW4gaXQgaXMge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3RlZH0gd2l0aFxuICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICAgKlxuICAgKiAgICAgIC0gYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxuICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxuICAgKlxuICAgKiAgICAtIGB0ZW1wbGF0ZVVybGAg4oCTIGB7c3RyaW5nPXxmdW5jdGlvbigpPX1gIOKAkyBwYXRoIG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHBhdGggdG8gYW4gaHRtbFxuICAgKiAgICAgIHRlbXBsYXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgIGFzIHRoZSBjb250ZW50cyBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICpcbiAgICogICAgICBJZiBgdGVtcGxhdGVVcmxgIGlzIGEgZnVuY3Rpb24sIHRoZW4gaXQgaXMge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3RlZH0gd2l0aFxuICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICAgKlxuICAgKiAgICAgIC0gYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxuICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxuICAgKlxuICAgKiAgICAtIGBiaW5kaW5nc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBkZWZpbmVzIGJpbmRpbmdzIGJldHdlZW4gRE9NIGF0dHJpYnV0ZXMgYW5kIGNvbXBvbmVudCBwcm9wZXJ0aWVzLlxuICAgKiAgICAgIENvbXBvbmVudCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYm91bmQgdG8gdGhlIGNvbXBvbmVudCBjb250cm9sbGVyIGFuZCBub3QgdG8gdGhlIHNjb3BlLlxuICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLWJpbmR0b2NvbnRyb2xsZXItIGBiaW5kVG9Db250cm9sbGVyYH0uXG4gICAqICAgIC0gYHRyYW5zY2x1ZGVgIOKAkyBge2Jvb2xlYW49fWAg4oCTIHdoZXRoZXIge0BsaW5rICRjb21waWxlI3RyYW5zY2x1c2lvbiBjb250ZW50IHRyYW5zY2x1c2lvbn0gaXMgZW5hYmxlZC5cbiAgICogICAgICBEaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgKiAgICAtIGByZXF1aXJlYCAtIGB7T2JqZWN0PHN0cmluZywgc3RyaW5nPj19YCAtIHJlcXVpcmVzIHRoZSBjb250cm9sbGVycyBvZiBvdGhlciBkaXJlY3RpdmVzIGFuZCBiaW5kcyB0aGVtIHRvXG4gICAqICAgICAgdGhpcyBjb21wb25lbnQncyBjb250cm9sbGVyLiBUaGUgb2JqZWN0IGtleXMgc3BlY2lmeSB0aGUgcHJvcGVydHkgbmFtZXMgdW5kZXIgd2hpY2ggdGhlIHJlcXVpcmVkXG4gICAqICAgICAgY29udHJvbGxlcnMgKG9iamVjdCB2YWx1ZXMpIHdpbGwgYmUgYm91bmQuIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLXJlcXVpcmUtIGByZXF1aXJlYH0uXG4gICAqICAgIC0gYCQuLi5gIOKAkyBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYXR0YWNoIHRvIHRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbiBhbmQgdGhlIGNvbnRyb2xsZXJcbiAgICogICAgICBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gKFRoaXMgaXMgdXNlZCBieSB0aGUgY29tcG9uZW50IHJvdXRlciB0byBhbm5vdGF0ZSlcbiAgICpcbiAgICogQHJldHVybnMge25nLiRjb21waWxlUHJvdmlkZXJ9IHRoZSBjb21waWxlIHByb3ZpZGVyIGl0c2VsZiwgZm9yIGNoYWluaW5nIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSAqKmNvbXBvbmVudCBkZWZpbml0aW9uKiogd2l0aCB0aGUgY29tcGlsZXIuIFRoaXMgaXMgYSBzaG9ydGhhbmQgZm9yIHJlZ2lzdGVyaW5nIGEgc3BlY2lhbFxuICAgKiB0eXBlIG9mIGRpcmVjdGl2ZSwgd2hpY2ggcmVwcmVzZW50cyBhIHNlbGYtY29udGFpbmVkIFVJIGNvbXBvbmVudCBpbiB5b3VyIGFwcGxpY2F0aW9uLiBTdWNoIGNvbXBvbmVudHNcbiAgICogYXJlIGFsd2F5cyBpc29sYXRlZCAoaS5lLiBgc2NvcGU6IHt9YCkgYW5kIGFyZSBhbHdheXMgcmVzdHJpY3RlZCB0byBlbGVtZW50cyAoaS5lLiBgcmVzdHJpY3Q6ICdFJ2ApLlxuICAgKlxuICAgKiBDb21wb25lbnQgZGVmaW5pdGlvbnMgYXJlIHZlcnkgc2ltcGxlIGFuZCBkbyBub3QgcmVxdWlyZSBhcyBtdWNoIGNvbmZpZ3VyYXRpb24gYXMgZGVmaW5pbmcgZ2VuZXJhbFxuICAgKiBkaXJlY3RpdmVzLiBDb21wb25lbnQgZGVmaW5pdGlvbnMgdXN1YWxseSBjb25zaXN0IG9ubHkgb2YgYSB0ZW1wbGF0ZSBhbmQgYSBjb250cm9sbGVyIGJhY2tpbmcgaXQuXG4gICAqXG4gICAqIEluIG9yZGVyIHRvIG1ha2UgdGhlIGRlZmluaXRpb24gZWFzaWVyLCBjb21wb25lbnRzIGVuZm9yY2UgYmVzdCBwcmFjdGljZXMgbGlrZSB1c2Ugb2YgYGNvbnRyb2xsZXJBc2AsXG4gICAqIGBiaW5kVG9Db250cm9sbGVyYC4gVGhleSBhbHdheXMgaGF2ZSAqKmlzb2xhdGUgc2NvcGUqKiBhbmQgYXJlIHJlc3RyaWN0ZWQgdG8gZWxlbWVudHMuXG4gICAqXG4gICAqIEhlcmUgYXJlIGEgZmV3IGV4YW1wbGVzIG9mIGhvdyB5b3Ugd291bGQgdXN1YWxseSBkZWZpbmUgY29tcG9uZW50czpcbiAgICpcbiAgICogYGBganNcbiAgICogICB2YXIgbXlNb2QgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xuICAgKiAgICAgdGVtcGxhdGU6ICc8ZGl2Pk15IG5hbWUgaXMge3skY3RybC5uYW1lfX08L2Rpdj4nLFxuICAgKiAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAqICAgICAgIHRoaXMubmFtZSA9ICdzaGFoYXInO1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xuICAgKiAgICAgdGVtcGxhdGU6ICc8ZGl2Pk15IG5hbWUgaXMge3skY3RybC5uYW1lfX08L2Rpdj4nLFxuICAgKiAgICAgYmluZGluZ3M6IHtuYW1lOiAnQCd9XG4gICAqICAgfSk7XG4gICAqXG4gICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XG4gICAqICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL215LWNvbXAuaHRtbCcsXG4gICAqICAgICBjb250cm9sbGVyOiAnTXlDdHJsJyxcbiAgICogICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgKiAgICAgYmluZGluZ3M6IHtuYW1lOiAnQCd9XG4gICAqICAgfSk7XG4gICAqXG4gICAqIGBgYFxuICAgKiBGb3IgbW9yZSBleGFtcGxlcywgYW5kIGFuIGluLWRlcHRoIGd1aWRlLCBzZWUgdGhlIHtAbGluayBndWlkZS9jb21wb25lbnQgY29tcG9uZW50IGd1aWRlfS5cbiAgICpcbiAgICogPGJyIC8+XG4gICAqIFNlZSBhbHNvIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cbiAgICovXG4gIHRoaXMuY29tcG9uZW50ID0gZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnQobmFtZSwgb3B0aW9ucykge1xuICAgIHZhciBjb250cm9sbGVyID0gb3B0aW9ucy5jb250cm9sbGVyIHx8IGZ1bmN0aW9uKCkge307XG5cbiAgICBmdW5jdGlvbiBmYWN0b3J5KCRpbmplY3Rvcikge1xuICAgICAgZnVuY3Rpb24gbWFrZUluamVjdGFibGUoZm4pIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pIHx8IGlzQXJyYXkoZm4pKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKGZuLCB0aGlzLCB7JGVsZW1lbnQ6IHRFbGVtZW50LCAkYXR0cnM6IHRBdHRyc30pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB0ZW1wbGF0ZSA9ICghb3B0aW9ucy50ZW1wbGF0ZSAmJiAhb3B0aW9ucy50ZW1wbGF0ZVVybCA/ICcnIDogb3B0aW9ucy50ZW1wbGF0ZSk7XG4gICAgICB2YXIgZGRvID0ge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxuICAgICAgICBjb250cm9sbGVyQXM6IGlkZW50aWZpZXJGb3JDb250cm9sbGVyKG9wdGlvbnMuY29udHJvbGxlcikgfHwgb3B0aW9ucy5jb250cm9sbGVyQXMgfHwgJyRjdHJsJyxcbiAgICAgICAgdGVtcGxhdGU6IG1ha2VJbmplY3RhYmxlKHRlbXBsYXRlKSxcbiAgICAgICAgdGVtcGxhdGVVcmw6IG1ha2VJbmplY3RhYmxlKG9wdGlvbnMudGVtcGxhdGVVcmwpLFxuICAgICAgICB0cmFuc2NsdWRlOiBvcHRpb25zLnRyYW5zY2x1ZGUsXG4gICAgICAgIHNjb3BlOiB7fSxcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogb3B0aW9ucy5iaW5kaW5ncyB8fCB7fSxcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgcmVxdWlyZTogb3B0aW9ucy5yZXF1aXJlXG4gICAgICB9O1xuXG4gICAgICAvLyBDb3B5IGFubm90YXRpb25zIChzdGFydGluZyB3aXRoICQpIG92ZXIgdG8gdGhlIERET1xuICAgICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSBkZG9ba2V5XSA9IHZhbDtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGRvO1xuICAgIH1cblxuICAgIC8vIFRPRE8ocGV0ZSkgcmVtb3ZlIHRoZSBmb2xsb3dpbmcgYGZvckVhY2hgIGJlZm9yZSB3ZSByZWxlYXNlIDEuNi4wXG4gICAgLy8gVGhlIGNvbXBvbmVudC1yb3V0ZXJAMC4yLjAgbG9va3MgZm9yIHRoZSBhbm5vdGF0aW9ucyBvbiB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvclxuICAgIC8vIE5vdGhpbmcgaW4gQW5ndWxhciBsb29rcyBmb3IgYW5ub3RhdGlvbnMgb24gdGhlIGZhY3RvcnkgZnVuY3Rpb24gYnV0IHdlIGNhbid0IHJlbW92ZVxuICAgIC8vIGl0IGZyb20gMS41LnggeWV0LlxuXG4gICAgLy8gQ29weSBhbnkgYW5ub3RhdGlvbiBwcm9wZXJ0aWVzIChzdGFydGluZyB3aXRoICQpIG92ZXIgdG8gdGhlIGZhY3RvcnkgYW5kIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb25zXG4gICAgLy8gVGhlc2UgY291bGQgYmUgdXNlZCBieSBsaWJyYXJpZXMgc3VjaCBhcyB0aGUgbmV3IGNvbXBvbmVudCByb3V0ZXJcbiAgICBmb3JFYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICAgIGZhY3Rvcnlba2V5XSA9IHZhbDtcbiAgICAgICAgLy8gRG9uJ3QgdHJ5IHRvIGNvcHkgb3ZlciBhbm5vdGF0aW9ucyB0byBuYW1lZCBjb250cm9sbGVyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXIpKSBjb250cm9sbGVyW2tleV0gPSB2YWw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmYWN0b3J5LiRpbmplY3QgPSBbJyRpbmplY3RvciddO1xuXG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0aXZlKG5hbWUsIGZhY3RvcnkpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudGluZyBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KHJlZ2V4cCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICAkY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB1cGRhdGUgdGhlIGRlYnVnSW5mb0VuYWJsZWQgc3RhdGUgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSBqdXN0IHJldHVybiB0aGVcbiAgICogY3VycmVudCBkZWJ1Z0luZm9FbmFibGVkIHN0YXRlXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIGVuYWJsZS9kaXNhYmxlIHZhcmlvdXMgZGVidWcgcnVudGltZSBpbmZvcm1hdGlvbiBpbiB0aGUgY29tcGlsZXIgc3VjaCBhcyBhZGRpbmdcbiAgICogYmluZGluZyBpbmZvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgc2NvcGUgb24gdG8gRE9NIGVsZW1lbnRzLlxuICAgKiBJZiBlbmFibGVkLCB0aGUgY29tcGlsZXIgd2lsbCBhZGQgdGhlIGZvbGxvd2luZyB0byBET00gZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gYm91bmQgdG8gdGhlIHNjb3BlXG4gICAqICogYG5nLWJpbmRpbmdgIENTUyBjbGFzc1xuICAgKiAqIGAkYmluZGluZ2AgZGF0YSBwcm9wZXJ0eSBjb250YWluaW5nIGFuIGFycmF5IG9mIHRoZSBiaW5kaW5nIGV4cHJlc3Npb25zXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byBkaXNhYmxlIHRoaXMgaW4gcHJvZHVjdGlvbiBmb3IgYSBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBib29zdC4gU2VlXG4gICAqIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERpc2FibGluZyBEZWJ1ZyBEYXRhfSBmb3IgbW9yZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHZhciBkZWJ1Z0luZm9FbmFibGVkID0gdHJ1ZTtcbiAgdGhpcy5kZWJ1Z0luZm9FbmFibGVkID0gZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgIGlmIChpc0RlZmluZWQoZW5hYmxlZCkpIHtcbiAgICAgIGRlYnVnSW5mb0VuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBkZWJ1Z0luZm9FbmFibGVkO1xuICB9O1xuXG5cbiAgdmFyIFRUTCA9IDEwO1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI29uQ2hhbmdlc1R0bFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHRpbWVzIGAkb25DaGFuZ2VzYCBob29rcyBjYW4gdHJpZ2dlciBuZXcgY2hhbmdlcyBiZWZvcmUgZ2l2aW5nIHVwIGFuZFxuICAgKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS5cbiAgICpcbiAgICogVGhlIGN1cnJlbnQgZGVmYXVsdCBpcyAxMCBpdGVyYXRpb25zLlxuICAgKlxuICAgKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgZGVwZW5kZW5jaWVzIGJldHdlZW4gYCRvbkNoYW5nZXNgIGhvb2tzIGFuZCBiaW5kaW5ncyB3aWxsIHJlc3VsdFxuICAgKiBpbiBzZXZlcmFsIGl0ZXJhdGlvbnMgb2YgY2FsbHMgdG8gdGhlc2UgaG9va3MuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwXG4gICAqIGl0ZXJhdGlvbnMgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvIGNvbnRpbnVvdXNseSBjaGFuZ2UgZHVyaW5nXG4gICAqIHRoZSBgJG9uQ2hhbmdlc2AgaG9vayBleGVjdXRpb24uXG4gICAqXG4gICAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXQgcHJvcGVyIGp1c3RpZmljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGAkb25DaGFuZ2VzYCBob29rIGl0ZXJhdGlvbnMuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ8b2JqZWN0fSB0aGUgY3VycmVudCBsaW1pdCAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXG4gICAqL1xuICB0aGlzLm9uQ2hhbmdlc1R0bCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIFRUTCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBUVEw7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJyRpbmplY3RvcicsICckaW50ZXJwb2xhdGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckcGFyc2UnLFxuICAgICAgICAgICAgJyRjb250cm9sbGVyJywgJyRyb290U2NvcGUnLCAnJHNjZScsICckYW5pbWF0ZScsICckJHNhbml0aXplVXJpJyxcbiAgICBmdW5jdGlvbigkaW5qZWN0b3IsICAgJGludGVycG9sYXRlLCAgICRleGNlcHRpb25IYW5kbGVyLCAgICR0ZW1wbGF0ZVJlcXVlc3QsICAgJHBhcnNlLFxuICAgICAgICAgICAgICRjb250cm9sbGVyLCAgICRyb290U2NvcGUsICAgJHNjZSwgICAkYW5pbWF0ZSwgICAkJHNhbml0aXplVXJpKSB7XG5cbiAgICB2YXIgU0lNUExFX0FUVFJfTkFNRSA9IC9eXFx3LztcbiAgICB2YXIgc3BlY2lhbEF0dHJIb2xkZXIgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblxuXG4gICAgdmFyIG9uQ2hhbmdlc1R0bCA9IFRUTDtcbiAgICAvLyBUaGUgb25DaGFuZ2VzIGhvb2tzIHNob3VsZCBhbGwgYmUgcnVuIHRvZ2V0aGVyIGluIGEgc2luZ2xlIGRpZ2VzdFxuICAgIC8vIFdoZW4gY2hhbmdlcyBvY2N1ciwgdGhlIGNhbGwgdG8gdHJpZ2dlciB0aGVpciBob29rcyB3aWxsIGJlIGFkZGVkIHRvIHRoaXMgcXVldWVcbiAgICB2YXIgb25DaGFuZ2VzUXVldWU7XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpbiBhICQkcG9zdERpZ2VzdCB0byB0cmlnZ2VyIGFsbCB0aGUgb25DaGFuZ2VzIGhvb2tzIGluIGEgc2luZ2xlIGRpZ2VzdFxuICAgIGZ1bmN0aW9uIGZsdXNoT25DaGFuZ2VzUXVldWUoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoISgtLW9uQ2hhbmdlc1R0bCkpIHtcbiAgICAgICAgICAvLyBXZSBoYXZlIGhpdCB0aGUgVFRMIGxpbWl0IHNvIHJlc2V0IGV2ZXJ5dGhpbmdcbiAgICAgICAgICBvbkNoYW5nZXNRdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignaW5mY2huZycsICd7MH0gJG9uQ2hhbmdlcygpIGl0ZXJhdGlvbnMgcmVhY2hlZC4gQWJvcnRpbmchXFxuJywgVFRMKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBtdXN0IHJ1biB0aGlzIGhvb2sgaW4gYW4gYXBwbHkgc2luY2UgdGhlICQkcG9zdERpZ2VzdCBydW5zIG91dHNpZGUgYXBwbHlcbiAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG9uQ2hhbmdlc1F1ZXVlLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlW2ldKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZXNldCB0aGUgcXVldWUgdG8gdHJpZ2dlciBhIG5ldyBzY2hlZHVsZSBuZXh0IHRpbWUgdGhlcmUgaXMgYSBjaGFuZ2VcbiAgICAgICAgICBvbkNoYW5nZXNRdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3JzO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBvbkNoYW5nZXNUdGwrKztcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlc1RvQ29weSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZXNUb0NvcHkpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzVG9Db3B5KTtcbiAgICAgICAgdmFyIGksIGwsIGtleTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIHRoaXNba2V5XSA9IGF0dHJpYnV0ZXNUb0NvcHlba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kYXR0ciA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLiQkZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgQXR0cmlidXRlcy5wcm90b3R5cGUgPSB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRub3JtYWxpemVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBDb252ZXJ0cyBhbiBhdHRyaWJ1dGUgbmFtZSAoZS5nLiBkYXNoL2NvbG9uL3VuZGVyc2NvcmUtZGVsaW1pdGVkIHN0cmluZywgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGB4LWAgb3JcbiAgICAgICAqIGBkYXRhLWApIHRvIGl0cyBub3JtYWxpemVkLCBjYW1lbENhc2UgZm9ybS5cbiAgICAgICAqXG4gICAgICAgKiBBbHNvIHRoZXJlIGlzIHNwZWNpYWwgY2FzZSBmb3IgTW96IHByZWZpeCBzdGFydGluZyB3aXRoIHVwcGVyIGNhc2UgbGV0dGVyLlxuICAgICAgICpcbiAgICAgICAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uIGNoZWNrIG91dCB0aGUgZ3VpZGUgb24ge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNtYXRjaGluZy1kaXJlY3RpdmVzIE1hdGNoaW5nIERpcmVjdGl2ZXN9XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAgICAgICAqL1xuICAgICAgJG5vcm1hbGl6ZTogZGlyZWN0aXZlTm9ybWFsaXplLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGFkZENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIHRvIHRoZSBlbGVtZW50LiBJZiBhbmltYXRpb25zXG4gICAgICAgKiBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIGFkZGl0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICovXG4gICAgICAkYWRkQ2xhc3M6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7XG4gICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkcmVtb3ZlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZW1vdmVzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgZnJvbSB0aGUgZWxlbWVudC4gSWZcbiAgICAgICAqIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyByZW1vdmFsLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgJHJlbW92ZUNsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHVwZGF0ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyBhbmQgcmVtb3ZlcyB0aGUgYXBwcm9wcmlhdGUgQ1NTIGNsYXNzIHZhbHVlcyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiB0aGUgZGlmZmVyZW5jZVxuICAgICAgICogYmV0d2VlbiB0aGUgbmV3IGFuZCBvbGQgQ1NTIGNsYXNzIHZhbHVlcyAoc3BlY2lmaWVkIGFzIG5ld0NsYXNzZXMgYW5kIG9sZENsYXNzZXMpLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdDbGFzc2VzIFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRDbGFzc2VzIFRoZSBmb3JtZXIgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxuICAgICAgICovXG4gICAgICAkdXBkYXRlQ2xhc3M6IGZ1bmN0aW9uKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpIHtcbiAgICAgICAgdmFyIHRvQWRkID0gdG9rZW5EaWZmZXJlbmNlKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpO1xuICAgICAgICBpZiAodG9BZGQgJiYgdG9BZGQubGVuZ3RoKSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvQWRkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b1JlbW92ZSA9IHRva2VuRGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCB0b1JlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IGEgbm9ybWFsaXplZCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaW4gYSB3YXkgc3VjaCB0aGF0IGFsbCBkaXJlY3RpdmVzXG4gICAgICAgKiBjYW4gc2hhcmUgdGhlIGF0dHJpYnV0ZS4gVGhpcyBmdW5jdGlvbiBwcm9wZXJseSBoYW5kbGVzIGJvb2xlYW4gYXR0cmlidXRlcy5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTm9ybWFsaXplZCBrZXkuIChpZSBuZ0F0dHJpYnV0ZSlcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuIElmIGBudWxsYCBhdHRyaWJ1dGUgd2lsbCBiZSBkZWxldGVkLlxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gd3JpdGVBdHRyIElmIGZhbHNlLCBkb2VzIG5vdCB3cml0ZSB0aGUgdmFsdWUgdG8gRE9NIGVsZW1lbnQgYXR0cmlidXRlLlxuICAgICAgICogICAgIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJOYW1lIE9wdGlvbmFsIG5vbmUgbm9ybWFsaXplZCBuYW1lLiBEZWZhdWx0cyB0byBrZXkuXG4gICAgICAgKi9cbiAgICAgICRzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIHdyaXRlQXR0ciwgYXR0ck5hbWUpIHtcbiAgICAgICAgLy8gVE9ETzogZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIHRocm93IGFuIGVycm9yIGlmIFwiY2xhc3NcIlxuICAgICAgICAvL2lzIHNldCB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc2luY2UgaXQgbWF5IGNhdXNlICR1cGRhdGVDbGFzcyB0b1xuICAgICAgICAvL2JlY29tZSB1bnN0YWJsZS5cblxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuJCRlbGVtZW50WzBdLFxuICAgICAgICAgICAgYm9vbGVhbktleSA9IGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBrZXkpLFxuICAgICAgICAgICAgYWxpYXNlZEtleSA9IGdldEFsaWFzZWRBdHRyTmFtZShrZXkpLFxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBrZXksXG4gICAgICAgICAgICBub2RlTmFtZTtcblxuICAgICAgICBpZiAoYm9vbGVhbktleSkge1xuICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnByb3Aoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYXR0ck5hbWUgPSBib29sZWFuS2V5O1xuICAgICAgICB9IGVsc2UgaWYgKGFsaWFzZWRLZXkpIHtcbiAgICAgICAgICB0aGlzW2FsaWFzZWRLZXldID0gdmFsdWU7XG4gICAgICAgICAgb2JzZXJ2ZXIgPSBhbGlhc2VkS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG5cbiAgICAgICAgLy8gdHJhbnNsYXRlIG5vcm1hbGl6ZWQga2V5IHRvIGFjdHVhbCBrZXlcbiAgICAgICAgaWYgKGF0dHJOYW1lKSB7XG4gICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0ck5hbWUgPSB0aGlzLiRhdHRyW2tleV07XG4gICAgICAgICAgaWYgKCFhdHRyTmFtZSkge1xuICAgICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWUgPSBzbmFrZV9jYXNlKGtleSwgJy0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBub2RlTmFtZSA9IG5vZGVOYW1lXyh0aGlzLiQkZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKChub2RlTmFtZSA9PT0gJ2EnICYmIChrZXkgPT09ICdocmVmJyB8fCBrZXkgPT09ICd4bGlua0hyZWYnKSkgfHxcbiAgICAgICAgICAgIChub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3JjJykpIHtcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBhW2hyZWZdIGFuZCBpbWdbc3JjXSB2YWx1ZXNcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9ICQkc2FuaXRpemVVcmkodmFsdWUsIGtleSA9PT0gJ3NyYycpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmNzZXQnICYmIGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBpbWdbc3Jjc2V0XSB2YWx1ZXNcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHRoZXJlIGFyZSBzcGFjZXMgYmVjYXVzZSBpdCdzIG5vdCB0aGUgc2FtZSBwYXR0ZXJuXG4gICAgICAgICAgdmFyIHRyaW1tZWRTcmNzZXQgPSB0cmltKHZhbHVlKTtcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAoICAgOTk5eCAgICx8ICAgOTk5dyAgICx8ICAgLHwsICAgKVxuICAgICAgICAgIHZhciBzcmNQYXR0ZXJuID0gLyhcXHMrXFxkK3hcXHMqLHxcXHMrXFxkK3dcXHMqLHxcXHMrLHwsXFxzKykvO1xuICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1xccy8udGVzdCh0cmltbWVkU3Jjc2V0KSA/IHNyY1BhdHRlcm4gOiAvKCwpLztcblxuICAgICAgICAgIC8vIHNwbGl0IHNyY3NldCBpbnRvIHR1cGxlIG9mIHVyaSBhbmQgZGVzY3JpcHRvciBleGNlcHQgZm9yIHRoZSBsYXN0IGl0ZW1cbiAgICAgICAgICB2YXIgcmF3VXJpcyA9IHRyaW1tZWRTcmNzZXQuc3BsaXQocGF0dGVybik7XG5cbiAgICAgICAgICAvLyBmb3IgZWFjaCB0dXBsZXNcbiAgICAgICAgICB2YXIgbmJyVXJpc1dpdGgycGFydHMgPSBNYXRoLmZsb29yKHJhd1VyaXMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYnJVcmlzV2l0aDJwYXJ0czsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJJZHggPSBpICogMjtcbiAgICAgICAgICAgIC8vIHNhbml0aXplIHRoZSB1cmlcbiAgICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0ocmF3VXJpc1tpbm5lcklkeF0pLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgZGVzY3JpcHRvclxuICAgICAgICAgICAgcmVzdWx0ICs9IChcIiBcIiArIHRyaW0ocmF3VXJpc1tpbm5lcklkeCArIDFdKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc3BsaXQgdGhlIGxhc3QgaXRlbSBpbnRvIHVyaSBhbmQgZGVzY3JpcHRvclxuICAgICAgICAgIHZhciBsYXN0VHVwbGUgPSB0cmltKHJhd1VyaXNbaSAqIDJdKS5zcGxpdCgvXFxzLyk7XG5cbiAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgbGFzdCB1cmlcbiAgICAgICAgICByZXN1bHQgKz0gJCRzYW5pdGl6ZVVyaSh0cmltKGxhc3RUdXBsZVswXSksIHRydWUpO1xuXG4gICAgICAgICAgLy8gYW5kIGFkZCB0aGUgbGFzdCBkZXNjcmlwdG9yIGlmIGFueVxuICAgICAgICAgIGlmIChsYXN0VHVwbGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gKFwiIFwiICsgdHJpbShsYXN0VHVwbGVbMV0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod3JpdGVBdHRyICE9PSBmYWxzZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoU0lNUExFX0FUVFJfTkFNRS50ZXN0KGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5hdHRyKGF0dHJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRTcGVjaWFsQXR0cih0aGlzLiQkZWxlbWVudFswXSwgYXR0ck5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJlIG9ic2VydmVyc1xuICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSB0aGlzLiQkb2JzZXJ2ZXJzO1xuICAgICAgICAkJG9ic2VydmVycyAmJiBmb3JFYWNoKCQkb2JzZXJ2ZXJzW29ic2VydmVyXSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4odmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xuICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZVxuICAgICAgICogY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW50ZXJwb2xhdGVkVmFsdWUpfSBmbiBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNob3ctdGV4dC1hbmQtYXR0cmlidXRlLWJpbmRpbmdzLXdvcmsgSW50ZXJwb2xhdGlvblxuICAgICAgICogICAgICAgIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cbiAgICAgICAqL1xuICAgICAgJG9ic2VydmU6IGZ1bmN0aW9uKGtleSwgZm4pIHtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcbiAgICAgICAgICAgICQkb2JzZXJ2ZXJzID0gKGF0dHJzLiQkb2JzZXJ2ZXJzIHx8IChhdHRycy4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSAoJCRvYnNlcnZlcnNba2V5XSB8fCAoJCRvYnNlcnZlcnNba2V5XSA9IFtdKSk7XG5cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goZm4pO1xuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1VuZGVmaW5lZChhdHRyc1trZXldKSkge1xuICAgICAgICAgICAgLy8gbm8gb25lIHJlZ2lzdGVyZWQgYXR0cmlidXRlIGludGVycG9sYXRpb24gZnVuY3Rpb24sIHNvIGxldHMgY2FsbCBpdCBtYW51YWxseVxuICAgICAgICAgICAgZm4oYXR0cnNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzLCBmbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldFNwZWNpYWxBdHRyKGVsZW1lbnQsIGF0dHJOYW1lLCB2YWx1ZSkge1xuICAgICAgLy8gQXR0cmlidXRlcyBuYW1lcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIGxldHRlcnMgKHN1Y2ggYXMgYChjbGljaylgKSBjYW5ub3QgYmUgc2V0IHVzaW5nIGBzZXRBdHRyaWJ1dGVgXG4gICAgICAvLyBzbyB3ZSBoYXZlIHRvIGp1bXAgdGhyb3VnaCBzb21lIGhvb3BzIHRvIGdldCBzdWNoIGFuIGF0dHJpYnV0ZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEzMzE4XG4gICAgICBzcGVjaWFsQXR0ckhvbGRlci5pbm5lckhUTUwgPSBcIjxzcGFuIFwiICsgYXR0ck5hbWUgKyBcIj5cIjtcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gc3BlY2lhbEF0dHJIb2xkZXIuZmlyc3RDaGlsZC5hdHRyaWJ1dGVzO1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbMF07XG4gICAgICAvLyBXZSBoYXZlIHRvIHJlbW92ZSB0aGUgYXR0cmlidXRlIGZyb20gaXRzIGNvbnRhaW5lciBlbGVtZW50IGJlZm9yZSB3ZSBjYW4gYWRkIGl0IHRvIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50XG4gICAgICBhdHRyaWJ1dGVzLnJlbW92ZU5hbWVkSXRlbShhdHRyaWJ1dGUubmFtZSk7XG4gICAgICBhdHRyaWJ1dGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW0oYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlLCBzaW5jZSBpdCBtZWFucyB0aGF0IHdlIGFyZSB0cnlpbmcgdG8gc2V0IGNsYXNzIG9uXG4gICAgICAgIC8vIFNWRyBlbGVtZW50LCB3aGVyZSBjbGFzcyBuYW1lIGlzIHJlYWQtb25seS5cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIHZhciBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxuICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXG4gICAgICAgIGRlbm9ybWFsaXplVGVtcGxhdGUgPSAoc3RhcnRTeW1ib2wgPT0gJ3t7JyAmJiBlbmRTeW1ib2wgID09ICd9fScpXG4gICAgICAgICAgICA/IGlkZW50aXR5XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIGRlbm9ybWFsaXplVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcey9nLCBzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZywgZW5kU3ltYm9sKTtcbiAgICAgICAgfSxcbiAgICAgICAgTkdfQVRUUl9CSU5ESU5HID0gL15uZ0F0dHJbQS1aXS87XG4gICAgdmFyIE1VTFRJX0VMRU1FTlRfRElSX1JFID0gL14oLispU3RhcnQkLztcblxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdJbmZvKCRlbGVtZW50LCBiaW5kaW5nKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSAkZWxlbWVudC5kYXRhKCckYmluZGluZycpIHx8IFtdO1xuXG4gICAgICBpZiAoaXNBcnJheShiaW5kaW5nKSkge1xuICAgICAgICBiaW5kaW5ncyA9IGJpbmRpbmdzLmNvbmNhdChiaW5kaW5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbmRpbmdzLnB1c2goYmluZGluZyk7XG4gICAgICB9XG5cbiAgICAgICRlbGVtZW50LmRhdGEoJyRiaW5kaW5nJywgYmluZGluZ3MpO1xuICAgIH0gOiBub29wO1xuXG4gICAgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdDbGFzcygkZWxlbWVudCkge1xuICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCAnbmctYmluZGluZycpO1xuICAgIH0gOiBub29wO1xuXG4gICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlSW5mbygkZWxlbWVudCwgc2NvcGUsIGlzb2xhdGVkLCBub1RlbXBsYXRlKSB7XG4gICAgICB2YXIgZGF0YU5hbWUgPSBpc29sYXRlZCA/IChub1RlbXBsYXRlID8gJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyA6ICckaXNvbGF0ZVNjb3BlJykgOiAnJHNjb3BlJztcbiAgICAgICRlbGVtZW50LmRhdGEoZGF0YU5hbWUsIHNjb3BlKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQpIHtcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQgPyAnbmctaXNvbGF0ZS1zY29wZScgOiAnbmctc2NvcGUnKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRjcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oZGlyZWN0aXZlTmFtZSwgY29tbWVudCkge1xuICAgICAgdmFyIGNvbnRlbnQgPSAnJztcbiAgICAgIGlmIChkZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAgIGNvbnRlbnQgPSAnICcgKyAoZGlyZWN0aXZlTmFtZSB8fCAnJykgKyAnOiAnO1xuICAgICAgICBpZiAoY29tbWVudCkgY29udGVudCArPSBjb21tZW50ICsgJyAnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gY29tcGlsZTtcblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHtcbiAgICAgICAgLy8ganF1ZXJ5IGFsd2F5cyByZXdyYXBzLCB3aGVyZWFzIHdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIHNlbGVjdG9yIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgIC8vIG1vZGlmeSBpdC5cbiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIE5PVF9FTVBUWSA9IC9cXFMrLztcblxuICAgICAgLy8gV2UgY2FuIG5vdCBjb21waWxlIHRvcCBsZXZlbCB0ZXh0IGVsZW1lbnRzIHNpbmNlIHRleHQgbm9kZXMgY2FuIGJlIG1lcmdlZCBhbmQgd2Ugd2lsbFxuICAgICAgLy8gbm90IGJlIGFibGUgdG8gYXR0YWNoIHNjb3BlIGRhdGEgdG8gdGhlbSwgc28gd2Ugd2lsbCB3cmFwIHRoZW0gaW4gPHNwYW4+XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGNvbXBpbGVOb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZG9tTm9kZSA9ICRjb21waWxlTm9kZXNbaV07XG5cbiAgICAgICAgaWYgKGRvbU5vZGUubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUICYmIGRvbU5vZGUubm9kZVZhbHVlLm1hdGNoKE5PVF9FTVBUWSkgLyogbm9uLWVtcHR5ICovKSB7XG4gICAgICAgICAganFMaXRlV3JhcE5vZGUoZG9tTm9kZSwgJGNvbXBpbGVOb2Rlc1tpXSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjb21wb3NpdGVMaW5rRm4gPVxuICAgICAgICAgICAgICBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkY29tcGlsZU5vZGVzKTtcbiAgICAgIHZhciBuYW1lc3BhY2UgPSBudWxsO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHB1YmxpY0xpbmtGbihzY29wZSwgY2xvbmVDb25uZWN0Rm4sIG9wdGlvbnMpIHtcbiAgICAgICAgYXNzZXJ0QXJnKHNjb3BlLCAnc2NvcGUnKTtcblxuICAgICAgICBpZiAocHJldmlvdXNDb21waWxlQ29udGV4dCAmJiBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5lZWRzTmV3U2NvcGUpIHtcbiAgICAgICAgICAvLyBBIHBhcmVudCBkaXJlY3RpdmUgZGlkIGEgcmVwbGFjZSBhbmQgYSBkaXJlY3RpdmUgb24gdGhpcyBlbGVtZW50IGFza2VkXG4gICAgICAgICAgLy8gZm9yIHRyYW5zY2x1c2lvbiwgd2hpY2ggY2F1c2VkIHVzIHRvIGxvc2UgYSBsYXllciBvZiBlbGVtZW50IG9uIHdoaWNoXG4gICAgICAgICAgLy8gd2UgY291bGQgaG9sZCB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZSwgc28gd2Ugd2lsbCBjcmVhdGUgaXQgbWFudWFsbHlcbiAgICAgICAgICAvLyBoZXJlLlxuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudC4kbmV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuID0gb3B0aW9ucy5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixcbiAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnMgPSBvcHRpb25zLnRyYW5zY2x1ZGVDb250cm9sbGVycyxcbiAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gb3B0aW9ucy5mdXR1cmVQYXJlbnRFbGVtZW50O1xuXG4gICAgICAgIC8vIFdoZW4gYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCBpcyBwYXNzZWQsIGl0IGlzIGFcbiAgICAgICAgLy8gYGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlYCBmdW5jdGlvbiAoaXQgd2FzIHByZXZpb3VzbHkgcGFzc2VkXG4gICAgICAgIC8vIGFzIGB0cmFuc2NsdWRlYCB0byBkaXJlY3RpdmUubGluaykgc28gd2UgbXVzdCB1bndyYXAgaXQgdG8gZ2V0XG4gICAgICAgIC8vIGl0cyBgYm91bmRUcmFuc2NsdWRlRm5gXG4gICAgICAgIGlmIChwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZSkge1xuICAgICAgICAgIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgIG5hbWVzcGFjZSA9IGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMoZnV0dXJlUGFyZW50RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRsaW5rTm9kZTtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSAhPT0gJ2h0bWwnKSB7XG4gICAgICAgICAgLy8gV2hlbiB1c2luZyBhIGRpcmVjdGl2ZSB3aXRoIHJlcGxhY2U6dHJ1ZSBhbmQgdGVtcGxhdGVVcmwgdGhlICRjb21waWxlTm9kZXNcbiAgICAgICAgICAvLyAob3IgYSBjaGlsZCBlbGVtZW50IGluc2lkZSBvZiB0aGVtKVxuICAgICAgICAgIC8vIG1pZ2h0IGNoYW5nZSwgc28gd2UgbmVlZCB0byByZWNyZWF0ZSB0aGUgbmFtZXNwYWNlIGFkYXB0ZWQgY29tcGlsZU5vZGVzXG4gICAgICAgICAgLy8gZm9yIGNhbGwgdG8gdGhlIGxpbmsgZnVuY3Rpb24uXG4gICAgICAgICAgLy8gTm90ZTogVGhpcyB3aWxsIGFscmVhZHkgY2xvbmUgdGhlIG5vZGVzLi4uXG4gICAgICAgICAgJGxpbmtOb2RlID0ganFMaXRlKFxuICAgICAgICAgICAgd3JhcFRlbXBsYXRlKG5hbWVzcGFjZSwganFMaXRlKCc8ZGl2PicpLmFwcGVuZCgkY29tcGlsZU5vZGVzKS5odG1sKCkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbG9uZUNvbm5lY3RGbikge1xuICAgICAgICAgIC8vIGltcG9ydGFudCEhOiB3ZSBtdXN0IGNhbGwgb3VyIGpxTGl0ZS5jbG9uZSgpIHNpbmNlIHRoZSBqUXVlcnkgb25lIGlzIHRyeWluZyB0byBiZSBzbWFydFxuICAgICAgICAgIC8vIGFuZCBzb21ldGltZXMgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBET00uXG4gICAgICAgICAgJGxpbmtOb2RlID0gSlFMaXRlUHJvdG90eXBlLmNsb25lLmNhbGwoJGNvbXBpbGVOb2Rlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2NsdWRlQ29udHJvbGxlcnMpIHtcbiAgICAgICAgICBmb3IgKHZhciBjb250cm9sbGVyTmFtZSBpbiB0cmFuc2NsdWRlQ29udHJvbGxlcnMpIHtcbiAgICAgICAgICAgICRsaW5rTm9kZS5kYXRhKCckJyArIGNvbnRyb2xsZXJOYW1lICsgJ0NvbnRyb2xsZXInLCB0cmFuc2NsdWRlQ29udHJvbGxlcnNbY29udHJvbGxlck5hbWVdLmluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRsaW5rTm9kZSwgc2NvcGUpO1xuXG4gICAgICAgIGlmIChjbG9uZUNvbm5lY3RGbikgY2xvbmVDb25uZWN0Rm4oJGxpbmtOb2RlLCBzY29wZSk7XG4gICAgICAgIGlmIChjb21wb3NpdGVMaW5rRm4pIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgJGxpbmtOb2RlLCAkbGlua05vZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgcmV0dXJuICRsaW5rTm9kZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyhwYXJlbnRFbGVtZW50KSB7XG4gICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgZGV0ZWN0IE1hdGhNTCBhcyB3ZWxsLi4uXG4gICAgICB2YXIgbm9kZSA9IHBhcmVudEVsZW1lbnQgJiYgcGFyZW50RWxlbWVudFswXTtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICByZXR1cm4gJ2h0bWwnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5vZGVOYW1lXyhub2RlKSAhPT0gJ2ZvcmVpZ25vYmplY3QnICYmIHRvU3RyaW5nLmNhbGwobm9kZSkubWF0Y2goL1NWRy8pID8gJ3N2ZycgOiAnaHRtbCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSBmdW5jdGlvbiBtYXRjaGVzIGVhY2ggbm9kZSBpbiBub2RlTGlzdCBhZ2FpbnN0IHRoZSBkaXJlY3RpdmVzLiBPbmNlIGFsbCBkaXJlY3RpdmVzXG4gICAgICogZm9yIGEgcGFydGljdWxhciBub2RlIGFyZSBjb2xsZWN0ZWQgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGUgY29tcGlsZVxuICAgICAqIGZ1bmN0aW9ucyByZXR1cm4gdmFsdWVzIC0gdGhlIGxpbmtpbmcgZnVuY3Rpb25zIC0gYXJlIGNvbWJpbmVkIGludG8gYSBjb21wb3NpdGUgbGlua2luZ1xuICAgICAqIGZ1bmN0aW9uLCB3aGljaCBpcyB0aGUgYSBsaW5raW5nIGZ1bmN0aW9uIGZvciB0aGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Tm9kZUxpc3R9IG5vZGVMaXN0IGFuIGFycmF5IG9mIG5vZGVzIG9yIE5vZGVMaXN0IHRvIGNvbXBpbGVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXG4gICAgICogICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXcgY2hpbGQgb2YgdGhlIHRyYW5zY2x1ZGVkIHBhcmVudCBzY29wZS5cbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSAkcm9vdEVsZW1lbnQgSWYgdGhlIG5vZGVMaXN0IGlzIHRoZSByb290IG9mIHRoZSBjb21waWxhdGlvbiB0cmVlIHRoZW5cbiAgICAgKiAgICAgICAgdGhlIHJvb3RFbGVtZW50IG11c3QgYmUgc2V0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBvZiB0aGUgY29tcGlsZSByb290LiBUaGlzIGlzXG4gICAgICogICAgICAgIG5lZWRlZCBzbyB0aGF0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBpdGVtcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCB3aWRnZXRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29tcG9zaXRlIGxpbmtpbmcgZnVuY3Rpb24gb2YgYWxsIG9mIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb3IgbnVsbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlTm9kZXMobm9kZUxpc3QsIHRyYW5zY2x1ZGVGbiwgJHJvb3RFbGVtZW50LCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBsaW5rRm5zID0gW10sXG4gICAgICAgICAgYXR0cnMsIGRpcmVjdGl2ZXMsIG5vZGVMaW5rRm4sIGNoaWxkTm9kZXMsIGNoaWxkTGlua0ZuLCBsaW5rRm5Gb3VuZCwgbm9kZUxpbmtGbkZvdW5kO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGF0dHJzID0gbmV3IEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyB3ZSBtdXN0IGFsd2F5cyByZWZlciB0byBub2RlTGlzdFtpXSBzaW5jZSB0aGUgbm9kZXMgY2FuIGJlIHJlcGxhY2VkIHVuZGVybmVhdGggdXMuXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhub2RlTGlzdFtpXSwgW10sIGF0dHJzLCBpID09PSAwID8gbWF4UHJpb3JpdHkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlRGlyZWN0aXZlKTtcblxuICAgICAgICBub2RlTGlua0ZuID0gKGRpcmVjdGl2ZXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgbm9kZUxpc3RbaV0sIGF0dHJzLCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgW10sIFtdLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KVxuICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgIGlmIChub2RlTGlua0ZuICYmIG5vZGVMaW5rRm4uc2NvcGUpIHtcbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyhhdHRycy4kJGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGRMaW5rRm4gPSAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnRlcm1pbmFsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIShjaGlsZE5vZGVzID0gbm9kZUxpc3RbaV0uY2hpbGROb2RlcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAhY2hpbGROb2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogY29tcGlsZU5vZGVzKGNoaWxkTm9kZXMsXG4gICAgICAgICAgICAgICAgIG5vZGVMaW5rRm4gPyAoXG4gICAgICAgICAgICAgICAgICAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCB8fCAhbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAmJiBub2RlTGlua0ZuLnRyYW5zY2x1ZGUpIDogdHJhbnNjbHVkZUZuKTtcblxuICAgICAgICBpZiAobm9kZUxpbmtGbiB8fCBjaGlsZExpbmtGbikge1xuICAgICAgICAgIGxpbmtGbnMucHVzaChpLCBub2RlTGlua0ZuLCBjaGlsZExpbmtGbik7XG4gICAgICAgICAgbGlua0ZuRm91bmQgPSB0cnVlO1xuICAgICAgICAgIG5vZGVMaW5rRm5Gb3VuZCA9IG5vZGVMaW5rRm5Gb3VuZCB8fCBub2RlTGlua0ZuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy91c2UgdGhlIHByZXZpb3VzIGNvbnRleHQgb25seSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHZpcnR1YWwgZ3JvdXBcbiAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHJldHVybiBhIGxpbmtpbmcgZnVuY3Rpb24gaWYgd2UgaGF2ZSBmb3VuZCBhbnl0aGluZywgbnVsbCBvdGhlcndpc2VcbiAgICAgIHJldHVybiBsaW5rRm5Gb3VuZCA/IGNvbXBvc2l0ZUxpbmtGbiA6IG51bGw7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgbm9kZUxpc3QsICRyb290RWxlbWVudCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgdmFyIG5vZGVMaW5rRm4sIGNoaWxkTGlua0ZuLCBub2RlLCBjaGlsZFNjb3BlLCBpLCBpaSwgaWR4LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICB2YXIgc3RhYmxlTm9kZUxpc3Q7XG5cblxuICAgICAgICBpZiAobm9kZUxpbmtGbkZvdW5kKSB7XG4gICAgICAgICAgLy8gY29weSBub2RlTGlzdCBzbyB0aGF0IGlmIGEgbm9kZUxpbmtGbiByZW1vdmVzIG9yIGFkZHMgYW4gZWxlbWVudCBhdCB0aGlzIERPTSBsZXZlbCBvdXJcbiAgICAgICAgICAvLyBvZmZzZXRzIGRvbid0IGdldCBzY3Jld2VkIHVwXG4gICAgICAgICAgdmFyIG5vZGVMaXN0TGVuZ3RoID0gbm9kZUxpc3QubGVuZ3RoO1xuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKTtcblxuICAgICAgICAgIC8vIGNyZWF0ZSBhIHNwYXJzZSBhcnJheSBieSBvbmx5IGNvcHlpbmcgdGhlIGVsZW1lbnRzIHdoaWNoIGhhdmUgYSBsaW5rRm5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlua0Zucy5sZW5ndGg7IGkrPTMpIHtcbiAgICAgICAgICAgIGlkeCA9IGxpbmtGbnNbaV07XG4gICAgICAgICAgICBzdGFibGVOb2RlTGlzdFtpZHhdID0gbm9kZUxpc3RbaWR4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhYmxlTm9kZUxpc3QgPSBub2RlTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbGlua0Zucy5sZW5ndGg7IGkgPCBpaTspIHtcbiAgICAgICAgICBub2RlID0gc3RhYmxlTm9kZUxpc3RbbGlua0Zuc1tpKytdXTtcbiAgICAgICAgICBub2RlTGlua0ZuID0gbGlua0Zuc1tpKytdO1xuICAgICAgICAgIGNoaWxkTGlua0ZuID0gbGlua0Zuc1tpKytdO1xuXG4gICAgICAgICAgaWYgKG5vZGVMaW5rRm4pIHtcbiAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnNjb3BlKSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oanFMaXRlKG5vZGUpLCBjaGlsZFNjb3BlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKFxuICAgICAgICAgICAgICAgICAgc2NvcGUsIG5vZGVMaW5rRm4udHJhbnNjbHVkZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBjaGlsZFNjb3BlLCBub2RlLCAkcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChjaGlsZExpbmtGbikge1xuICAgICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGUsIG5vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbiwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgZnVuY3Rpb24gYm91bmRUcmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwgY29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIGNvbnRhaW5pbmdTY29wZSkge1xuXG4gICAgICAgIGlmICghdHJhbnNjbHVkZWRTY29wZSkge1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUgPSBzY29wZS4kbmV3KGZhbHNlLCBjb250YWluaW5nU2NvcGUpO1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUuJCR0cmFuc2NsdWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNjbHVkZUZuKHRyYW5zY2x1ZGVkU2NvcGUsIGNsb25lRm4sIHtcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjogcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbixcbiAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnM6IGNvbnRyb2xsZXJzLFxuICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQ6IGZ1dHVyZVBhcmVudEVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIG5lZWQgIHRvIGF0dGFjaCB0aGUgdHJhbnNjbHVzaW9uIHNsb3RzIG9udG8gdGhlIGBib3VuZFRyYW5zY2x1ZGVGbmBcbiAgICAgIC8vIHNvIHRoYXQgdGhleSBhcmUgYXZhaWxhYmxlIGluc2lkZSB0aGUgYGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlYCBmdW5jdGlvblxuICAgICAgdmFyIGJvdW5kU2xvdHMgPSBib3VuZFRyYW5zY2x1ZGVGbi4kJHNsb3RzID0gY3JlYXRlTWFwKCk7XG4gICAgICBmb3IgKHZhciBzbG90TmFtZSBpbiB0cmFuc2NsdWRlRm4uJCRzbG90cykge1xuICAgICAgICBpZiAodHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdKSB7XG4gICAgICAgICAgYm91bmRTbG90c1tzbG90TmFtZV0gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgdHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdLCBwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib3VuZFNsb3RzW3Nsb3ROYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvb2tzIGZvciBkaXJlY3RpdmVzIG9uIHRoZSBnaXZlbiBub2RlIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRpcmVjdGl2ZSBjb2xsZWN0aW9uIHdoaWNoIGlzXG4gICAgICogc29ydGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGUgTm9kZSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIGRpcmVjdGl2ZXMgQW4gYXJyYXkgdG8gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFkZGVkIHRvLiBUaGlzIGFycmF5IGlzIHNvcnRlZCBiZWZvcmVcbiAgICAgKiAgICAgICAgdGhlIGZ1bmN0aW9uIHJldHVybnMuXG4gICAgICogQHBhcmFtIGF0dHJzIFRoZSBzaGFyZWQgYXR0cnMgb2JqZWN0IHdoaWNoIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIG5vcm1hbGl6ZWQgYXR0cmlidXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29sbGVjdERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHtcbiAgICAgIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGUsXG4gICAgICAgICAgYXR0cnNNYXAgPSBhdHRycy4kYXR0cixcbiAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICBjbGFzc05hbWU7XG5cbiAgICAgIHN3aXRjaCAobm9kZVR5cGUpIHtcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfRUxFTUVOVDogLyogRWxlbWVudCAqL1xuICAgICAgICAgIC8vIHVzZSB0aGUgbm9kZSBuYW1lOiA8ZGlyZWN0aXZlPlxuICAgICAgICAgIGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLFxuICAgICAgICAgICAgICBkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpKSwgJ0UnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKTtcblxuICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgYXR0cmlidXRlc1xuICAgICAgICAgIGZvciAodmFyIGF0dHIsIG5hbWUsIG5OYW1lLCBuZ0F0dHJOYW1lLCB2YWx1ZSwgaXNOZ0F0dHIsIG5BdHRycyA9IG5vZGUuYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICBqID0gMCwgamogPSBuQXR0cnMgJiYgbkF0dHJzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyU3RhcnROYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgYXR0ckVuZE5hbWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgYXR0ciA9IG5BdHRyc1tqXTtcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHRyaW0oYXR0ci52YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIHN1cHBvcnQgbmdBdHRyIGF0dHJpYnV0ZSBiaW5kaW5nXG4gICAgICAgICAgICBuZ0F0dHJOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpO1xuICAgICAgICAgICAgaWYgKGlzTmdBdHRyID0gTkdfQVRUUl9CSU5ESU5HLnRlc3QobmdBdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJylcbiAgICAgICAgICAgICAgICAuc3Vic3RyKDgpLnJlcGxhY2UoL18oLikvZywgZnVuY3Rpb24obWF0Y2gsIGxldHRlcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbXVsdGlFbGVtZW50TWF0Y2ggPSBuZ0F0dHJOYW1lLm1hdGNoKE1VTFRJX0VMRU1FTlRfRElSX1JFKTtcbiAgICAgICAgICAgIGlmIChtdWx0aUVsZW1lbnRNYXRjaCAmJiBkaXJlY3RpdmVJc011bHRpRWxlbWVudChtdWx0aUVsZW1lbnRNYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgYXR0clN0YXJ0TmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgIGF0dHJFbmROYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA1KSArICdlbmQnO1xuICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA2KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGF0dHJzTWFwW25OYW1lXSA9IG5hbWU7XG4gICAgICAgICAgICBpZiAoaXNOZ0F0dHIgfHwgIWF0dHJzLmhhc093blByb3BlcnR5KG5OYW1lKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwgbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cnVlOyAvLyBwcmVzZW5jZSBtZWFucyB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsIGRpcmVjdGl2ZXMsIHZhbHVlLCBuTmFtZSwgaXNOZ0F0dHIpO1xuICAgICAgICAgICAgYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIGF0dHJTdGFydE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJFbmROYW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB1c2UgY2xhc3MgYXMgZGlyZWN0aXZlXG4gICAgICAgICAgY2xhc3NOYW1lID0gbm9kZS5jbGFzc05hbWU7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgLy8gTWF5YmUgU1ZHQW5pbWF0ZWRTdHJpbmdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLmFuaW1WYWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1N0cmluZyhjbGFzc05hbWUpICYmIGNsYXNzTmFtZSAhPT0gJycpIHtcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IENMQVNTX0RJUkVDVElWRV9SRUdFWFAuZXhlYyhjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ0MnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbM10pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5zdWJzdHIobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfVEVYVDogLyogVGV4dCBOb2RlICovXG4gICAgICAgICAgaWYgKG1zaWUgPT09IDExKSB7XG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciAjMTE3ODFcbiAgICAgICAgICAgIHdoaWxlIChub2RlLnBhcmVudE5vZGUgJiYgbm9kZS5uZXh0U2libGluZyAmJiBub2RlLm5leHRTaWJsaW5nLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkge1xuICAgICAgICAgICAgICBub2RlLm5vZGVWYWx1ZSA9IG5vZGUubm9kZVZhbHVlICsgbm9kZS5uZXh0U2libGluZy5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfQ09NTUVOVDogLyogQ29tbWVudCAqL1xuICAgICAgICAgIGNvbGxlY3RDb21tZW50RGlyZWN0aXZlcyhub2RlLCBkaXJlY3RpdmVzLCBhdHRycywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KTtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RDb21tZW50RGlyZWN0aXZlcyhub2RlLCBkaXJlY3RpdmVzLCBhdHRycywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkge1xuICAgICAgLy8gZnVuY3Rpb24gY3JlYXRlZCBiZWNhdXNlIG9mIHBlcmZvcm1hbmNlLCB0cnkvY2F0Y2ggZGlzYWJsZXNcbiAgICAgIC8vIHRoZSBvcHRpbWl6YXRpb24gb2YgdGhlIHdob2xlIGZ1bmN0aW9uICMxNDg0OFxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICB2YXIgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMV0pO1xuICAgICAgICAgIGlmIChhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdNJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkpIHtcbiAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyB0dXJucyBvdXQgdGhhdCB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMgSUU5IHRocm93cyBlcnJvcnMgd2hlbiBvbmUgYXR0ZW1wdHMgdG8gcmVhZFxuICAgICAgICAvLyBjb21tZW50J3Mgbm9kZSB2YWx1ZS5cbiAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG5vZGUgd2l0aCBhbiBkaXJlY3RpdmUtc3RhcnQgaXQgY29sbGVjdHMgYWxsIG9mIHRoZSBzaWJsaW5ncyB1bnRpbCBpdCBmaW5kc1xuICAgICAqIGRpcmVjdGl2ZS1lbmQuXG4gICAgICogQHBhcmFtIG5vZGVcbiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0XG4gICAgICogQHBhcmFtIGF0dHJFbmRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBncm91cFNjYW4obm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICAgIHZhciBkZXB0aCA9IDA7XG4gICAgICBpZiAoYXR0clN0YXJ0ICYmIG5vZGUuaGFzQXR0cmlidXRlICYmIG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3V0ZXJkaXInLFxuICAgICAgICAgICAgICAgICAgICAgIFwiVW50ZXJtaW5hdGVkIGF0dHJpYnV0ZSwgZm91bmQgJ3swfScgYnV0IG5vIG1hdGNoaW5nICd7MX0nIGZvdW5kLlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkgZGVwdGgrKztcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyRW5kKSkgZGVwdGgtLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfSB3aGlsZSAoZGVwdGggPiAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBqcUxpdGUobm9kZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyYXBwZXIgZm9yIGxpbmtpbmcgZnVuY3Rpb24gd2hpY2ggY29udmVydHMgbm9ybWFsIGxpbmtpbmcgZnVuY3Rpb24gaW50byBhIGdyb3VwZWRcbiAgICAgKiBsaW5raW5nIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSBsaW5rRm5cbiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0XG4gICAgICogQHBhcmFtIGF0dHJFbmRcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIobGlua0ZuLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBncm91cGVkRWxlbWVudHNMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICBlbGVtZW50ID0gZ3JvdXBTY2FuKGVsZW1lbnRbMF0sIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiBnZW5lcmF0b3IgdGhhdCBpcyB1c2VkIHRvIHN1cHBvcnQgYm90aCBlYWdlciBhbmQgbGF6eSBjb21waWxhdGlvblxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIGVhZ2VyXG4gICAgICogQHBhcmFtICRjb21waWxlTm9kZXNcbiAgICAgKiBAcGFyYW0gdHJhbnNjbHVkZUZuXG4gICAgICogQHBhcmFtIG1heFByaW9yaXR5XG4gICAgICogQHBhcmFtIGlnbm9yZURpcmVjdGl2ZVxuICAgICAqIEBwYXJhbSBwcmV2aW91c0NvbXBpbGVDb250ZXh0XG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGF0aW9uR2VuZXJhdG9yKGVhZ2VyLCAkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBjb21waWxlZDtcblxuICAgICAgaWYgKGVhZ2VyKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGF6eUNvbXBpbGF0aW9uKCkge1xuICAgICAgICBpZiAoIWNvbXBpbGVkKSB7XG4gICAgICAgICAgY29tcGlsZWQgPSBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG5cbiAgICAgICAgICAvLyBOdWxsIG91dCBhbGwgb2YgdGhlc2UgcmVmZXJlbmNlcyBpbiBvcmRlciB0byBtYWtlIHRoZW0gZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvblxuICAgICAgICAgIC8vIHNpbmNlIHRoaXMgaXMgYSBwb3RlbnRpYWxseSBsb25nIGxpdmVkIGNsb3N1cmVcbiAgICAgICAgICAkY29tcGlsZU5vZGVzID0gdHJhbnNjbHVkZUZuID0gcHJldmlvdXNDb21waWxlQ29udGV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBpbGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uY2UgdGhlIGRpcmVjdGl2ZXMgaGF2ZSBiZWVuIGNvbGxlY3RlZCwgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGlzIG1ldGhvZFxuICAgICAqIGlzIHJlc3BvbnNpYmxlIGZvciBpbmxpbmluZyBkaXJlY3RpdmUgdGVtcGxhdGVzIGFzIHdlbGwgYXMgdGVybWluYXRpbmcgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogb2YgdGhlIGRpcmVjdGl2ZXMgaWYgdGhlIHRlcm1pbmFsIGRpcmVjdGl2ZSBoYXMgYmVlbiByZWFjaGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGlyZWN0aXZlcyBBcnJheSBvZiBjb2xsZWN0ZWQgZGlyZWN0aXZlcyB0byBleGVjdXRlIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb24uXG4gICAgICogICAgICAgIHRoaXMgbmVlZHMgdG8gYmUgcHJlLXNvcnRlZCBieSBwcmlvcml0eSBvcmRlci5cbiAgICAgKiBAcGFyYW0ge05vZGV9IGNvbXBpbGVOb2RlIFRoZSByYXcgRE9NIG5vZGUgdG8gYXBwbHkgdGhlIGNvbXBpbGUgZnVuY3Rpb25zIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRlbXBsYXRlQXR0cnMgVGhlIHNoYXJlZCBhdHRyaWJ1dGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXdcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgb2YgdGhlIHRyYW5zY2x1ZGVkIHBhcmVudCBzY29wZS5cbiAgICAgKiBAcGFyYW0ge0pRTGl0ZX0ganFDb2xsZWN0aW9uIElmIHdlIGFyZSB3b3JraW5nIG9uIHRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUgdGhlbiB0aGlzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCBoYXMgdGhlIHJvb3QganFMaXRlIGFycmF5IHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uIGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIEFuIG9wdGlvbmFsIGRpcmVjdGl2ZSB0aGF0IHdpbGwgYmUgaWdub3JlZCB3aGVuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsaW5nIHRoZSB0cmFuc2NsdXNpb24uXG4gICAgICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBwcmVMaW5rRm5zXG4gICAgICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBwb3N0TGlua0Zuc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IENvbnRleHQgdXNlZCBmb3IgcHJldmlvdXMgY29tcGlsYXRpb24gb2YgdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBsaW5rRm5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMsIHRyYW5zY2x1ZGVGbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganFDb2xsZWN0aW9uLCBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUsIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gcHJldmlvdXNDb21waWxlQ29udGV4dCB8fCB7fTtcblxuICAgICAgdmFyIHRlcm1pbmFsUHJpb3JpdHkgPSAtTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubmV3U2NvcGVEaXJlY3RpdmUsXG4gICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXMgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LmNvbnRyb2xsZXJEaXJlY3RpdmVzLFxuICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLFxuICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC50ZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBmYWxzZSxcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IGZhbHNlLFxuICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9IGpxTGl0ZShjb21waWxlTm9kZSksXG4gICAgICAgICAgZGlyZWN0aXZlLFxuICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsXG4gICAgICAgICAgJHRlbXBsYXRlLFxuICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUsXG4gICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlRm4sXG4gICAgICAgICAgbGlua0ZuLFxuICAgICAgICAgIGRpZFNjYW5Gb3JNdWx0aXBsZVRyYW5zY2x1c2lvbiA9IGZhbHNlLFxuICAgICAgICAgIG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IgPSBmYWxzZSxcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZTtcblxuICAgICAgLy8gZXhlY3V0ZXMgYWxsIGRpcmVjdGl2ZXMgb24gdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgIHZhciBhdHRyU3RhcnQgPSBkaXJlY3RpdmUuJCRzdGFydDtcbiAgICAgICAgdmFyIGF0dHJFbmQgPSBkaXJlY3RpdmUuJCRlbmQ7XG5cbiAgICAgICAgLy8gY29sbGVjdCBtdWx0aWJsb2NrIHNlY3Rpb25zXG4gICAgICAgIGlmIChhdHRyU3RhcnQpIHtcbiAgICAgICAgICAkY29tcGlsZU5vZGUgPSBncm91cFNjYW4oY29tcGlsZU5vZGUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgJHRlbXBsYXRlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0ZXJtaW5hbFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSB7XG4gICAgICAgICAgYnJlYWs7IC8vIHByZXZlbnQgZnVydGhlciBwcm9jZXNzaW5nIG9mIGRpcmVjdGl2ZXNcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5zY29wZSkge1xuXG4gICAgICAgICAgLy8gc2tpcCB0aGUgY2hlY2sgZm9yIGRpcmVjdGl2ZXMgd2l0aCBhc3luYyB0ZW1wbGF0ZXMsIHdlJ2xsIGNoZWNrIHRoZSBkZXJpdmVkIHN5bmNcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgd2hlbiB0aGUgdGVtcGxhdGUgYXJyaXZlc1xuICAgICAgICAgIGlmICghZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYW4gaXNvbGF0ZWQgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gc2NvcGUgb2YgYW55IGtpbmQgYWxyZWFkeVxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IG5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYSBjaGlsZCBzY29wZS5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGVyZSBpcyBubyBpc29sYXRlZCBzY29wZSBhbHJlYWR5XG4gICAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZSA9IG5ld1Njb3BlRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmUubmFtZTtcblxuICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYSBjb25kaXRpb24gdGhhdCBjYW4gcmVzdWx0IGluIHRyYW5zY2x1c2lvbiBvbiB0aGUgZGlyZWN0aXZlLFxuICAgICAgICAvLyB0aGVuIHNjYW4gYWhlYWQgaW4gdGhlIHJlbWFpbmluZyBkaXJlY3RpdmVzIGZvciBvdGhlcnMgdGhhdCBtYXkgY2F1c2UgYSBtdWx0aXBsZVxuICAgICAgICAvLyB0cmFuc2NsdXNpb24gZXJyb3IgdG8gYmUgdGhyb3duIGR1cmluZyB0aGUgY29tcGlsYXRpb24gcHJvY2Vzcy4gIElmIGEgbWF0Y2hpbmcgZGlyZWN0aXZlXG4gICAgICAgIC8vIGlzIGZvdW5kLCB0aGVuIHdlIGtub3cgdGhhdCB3aGVuIHdlIGVuY291bnRlciBhIHRyYW5zY2x1ZGVkIGRpcmVjdGl2ZSwgd2UgbmVlZCB0byBlYWdlcmx5XG4gICAgICAgIC8vIGNvbXBpbGUgdGhlIGB0cmFuc2NsdWRlYCBmdW5jdGlvbiByYXRoZXIgdGhhbiBkb2luZyBpdCBsYXppbHkgaW4gb3JkZXIgdG8gdGhyb3dcbiAgICAgICAgLy8gZXhjZXB0aW9ucyBhdCB0aGUgY29ycmVjdCB0aW1lXG4gICAgICAgIGlmICghZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uICYmICgoZGlyZWN0aXZlLnJlcGxhY2UgJiYgKGRpcmVjdGl2ZS50ZW1wbGF0ZVVybCB8fCBkaXJlY3RpdmUudGVtcGxhdGUpKVxuICAgICAgICAgICAgfHwgKGRpcmVjdGl2ZS50cmFuc2NsdWRlICYmICFkaXJlY3RpdmUuJCR0bGIpKSkge1xuICAgICAgICAgICAgICAgIHZhciBjYW5kaWRhdGVEaXJlY3RpdmU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzY2FubmluZ0luZGV4ID0gaSArIDE7IGNhbmRpZGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbc2Nhbm5pbmdJbmRleCsrXTspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjYW5kaWRhdGVEaXJlY3RpdmUudHJhbnNjbHVkZSAmJiAhY2FuZGlkYXRlRGlyZWN0aXZlLiQkdGxiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGNhbmRpZGF0ZURpcmVjdGl2ZS5yZXBsYWNlICYmIChjYW5kaWRhdGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgfHwgY2FuZGlkYXRlRGlyZWN0aXZlLnRlbXBsYXRlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gY29udHJvbGxlckRpcmVjdGl2ZXMgfHwgY3JlYXRlTWFwKCk7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoXCInXCIgKyBkaXJlY3RpdmVOYW1lICsgXCInIGNvbnRyb2xsZXJcIixcbiAgICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0sIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS50cmFuc2NsdWRlKSB7XG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgbmdJZiBhbmQgbmdSZXBlYXQgc28gdGhhdCB3ZSBkb24ndCBjb21wbGFpbiBhYm91dCBkdXBsaWNhdGUgdHJhbnNjbHVzaW9uLlxuICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgZGlyZWN0aXZlcyB0aGF0IGtub3cgaG93IHRvIHNhZmVseSBoYW5kbGUgZWxlbWVudCB0cmFuc2NsdXNpb24sXG4gICAgICAgICAgLy8gd2hlcmUgdGhlIHRyYW5zY2x1ZGVkIG5vZGVzIGFyZSBhZGRlZCBvciByZXBsYWNlZCBhZnRlciBsaW5raW5nLlxuICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkdGxiKSB7XG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndHJhbnNjbHVzaW9uJywgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPT0gJ2VsZW1lbnQnKSB7XG4gICAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5O1xuICAgICAgICAgICAgJHRlbXBsYXRlID0gJGNvbXBpbGVOb2RlO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPVxuICAgICAgICAgICAgICAgIGpxTGl0ZShjb21waWxlLiQkY3JlYXRlQ29tbWVudChkaXJlY3RpdmVOYW1lLCB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdKSk7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgc2xpY2VBcmdzKCR0ZW1wbGF0ZSksIGNvbXBpbGVOb2RlKTtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDwgNTBcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MDQxXG5cbiAgICAgICAgICAgIC8vIEluIHRoZSB2ZXJzaW9ucyBvZiBWOCBwcmlvciB0byBDaHJvbWUgNTAsIHRoZSBkb2N1bWVudCBmcmFnbWVudCB0aGF0IGlzIGNyZWF0ZWRcbiAgICAgICAgICAgIC8vIGluIHRoZSBgcmVwbGFjZVdpdGhgIGZ1bmN0aW9uIGlzIGltcHJvcGVybHkgZ2FyYmFnZSBjb2xsZWN0ZWQgZGVzcGl0ZSBzdGlsbFxuICAgICAgICAgICAgLy8gYmVpbmcgcmVmZXJlbmNlZCBieSB0aGUgYHBhcmVudE5vZGVgIHByb3BlcnR5IG9mIGFsbCBvZiB0aGUgY2hpbGQgbm9kZXMuICBCeSBhZGRpbmdcbiAgICAgICAgICAgIC8vIGEgcmVmZXJlbmNlIHRvIHRoZSBmcmFnbWVudCB2aWEgYSBkaWZmZXJlbnQgcHJvcGVydHksIHdlIGNhbiBhdm9pZCB0aGF0IGluY29ycmVjdFxuICAgICAgICAgICAgLy8gYmVoYXZpb3IuXG4gICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBsaW5lIGFmdGVyIENocm9tZSA1MCBoYXMgYmVlbiByZWxlYXNlZFxuICAgICAgICAgICAgJHRlbXBsYXRlWzBdLiQkcGFyZW50Tm9kZSA9ICR0ZW1wbGF0ZVswXS5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIGluOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBjb250cm9sbGVyRGlyZWN0aXZlcyAtIG90aGVyd2lzZSB3ZSdsbCBjcmVhdGUgZHVwbGljYXRlcyBjb250cm9sbGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWxlbWVudCB0cmFuc2NsdXNpb24gZG9lc24ndCBtYWtlIHNlbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB2YXIgc2xvdHMgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xuXG4gICAgICAgICAgICAgIC8vIFdlIGhhdmUgdHJhbnNjbHVzaW9uIHNsb3RzLFxuICAgICAgICAgICAgICAvLyBjb2xsZWN0IHRoZW0gdXAsIGNvbXBpbGUgdGhlbSBhbmQgc3RvcmUgdGhlaXIgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBbXTtcblxuICAgICAgICAgICAgICB2YXIgc2xvdE1hcCA9IGNyZWF0ZU1hcCgpO1xuICAgICAgICAgICAgICB2YXIgZmlsbGVkU2xvdHMgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZWxlbWVudCBzZWxlY3RvcnNcbiAgICAgICAgICAgICAgZm9yRWFjaChkaXJlY3RpdmVWYWx1ZSwgZnVuY3Rpb24oZWxlbWVudFNlbGVjdG9yLCBzbG90TmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgc2VsZWN0b3Igc3RhcnRzIHdpdGggYSA/IHRoZW4gaXQgaXMgb3B0aW9uYWxcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uYWwgPSAoZWxlbWVudFNlbGVjdG9yLmNoYXJBdCgwKSA9PT0gJz8nKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50U2VsZWN0b3IgPSBvcHRpb25hbCA/IGVsZW1lbnRTZWxlY3Rvci5zdWJzdHJpbmcoMSkgOiBlbGVtZW50U2VsZWN0b3I7XG5cbiAgICAgICAgICAgICAgICBzbG90TWFwW2VsZW1lbnRTZWxlY3Rvcl0gPSBzbG90TmFtZTtcblxuICAgICAgICAgICAgICAgIC8vIFdlIGV4cGxpY2l0bHkgYXNzaWduIGBudWxsYCBzaW5jZSB0aGlzIGltcGxpZXMgdGhhdCBhIHNsb3Qgd2FzIGRlZmluZWQgYnV0IG5vdCBmaWxsZWQuXG4gICAgICAgICAgICAgICAgLy8gTGF0ZXIgd2hlbiBjYWxsaW5nIGJvdW5kVHJhbnNjbHVzaW9uIGZ1bmN0aW9ucyB3aXRoIGEgc2xvdCBuYW1lIHdlIG9ubHkgZXJyb3IgaWYgdGhlXG4gICAgICAgICAgICAgICAgLy8gc2xvdCBpcyBgdW5kZWZpbmVkYFxuICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWxsZWRTbG90cyBjb250YWlucyBgdHJ1ZWAgZm9yIGFsbCBzbG90cyB0aGF0IGFyZSBlaXRoZXIgb3B0aW9uYWwgb3IgaGF2ZSBiZWVuXG4gICAgICAgICAgICAgICAgLy8gZmlsbGVkLiBUaGlzIGlzIHVzZWQgdG8gY2hlY2sgdGhhdCB3ZSBoYXZlIG5vdCBtaXNzZWQgYW55IHJlcXVpcmVkIHNsb3RzXG4gICAgICAgICAgICAgICAgZmlsbGVkU2xvdHNbc2xvdE5hbWVdID0gb3B0aW9uYWw7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8vIEFkZCB0aGUgbWF0Y2hpbmcgZWxlbWVudHMgaW50byB0aGVpciBzbG90XG4gICAgICAgICAgICAgIGZvckVhY2goJGNvbXBpbGVOb2RlLmNvbnRlbnRzKCksIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2xvdE5hbWUgPSBzbG90TWFwW2RpcmVjdGl2ZU5vcm1hbGl6ZShub2RlTmFtZV8obm9kZSkpXTtcbiAgICAgICAgICAgICAgICBpZiAoc2xvdE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIGZpbGxlZFNsb3RzW3Nsb3ROYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzbG90c1tzbG90TmFtZV0gPSBzbG90c1tzbG90TmFtZV0gfHwgW107XG4gICAgICAgICAgICAgICAgICBzbG90c1tzbG90TmFtZV0ucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgJHRlbXBsYXRlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVxdWlyZWQgc2xvdHMgdGhhdCB3ZXJlIG5vdCBmaWxsZWRcbiAgICAgICAgICAgICAgZm9yRWFjaChmaWxsZWRTbG90cywgZnVuY3Rpb24oZmlsbGVkLCBzbG90TmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICghZmlsbGVkKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigncmVxc2xvdCcsICdSZXF1aXJlZCB0cmFuc2NsdXNpb24gc2xvdCBgezB9YCB3YXMgbm90IGZpbGxlZC4nLCBzbG90TmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBzbG90TmFtZSBpbiBzbG90cykge1xuICAgICAgICAgICAgICAgIGlmIChzbG90c1tzbG90TmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZGVmaW5lIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlmIHRoZSBzbG90IHdhcyBmaWxsZWRcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsIHNsb3RzW3Nsb3ROYW1lXSwgdHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7IC8vIGNsZWFyIGNvbnRlbnRzXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLCB7IG5lZWRzTmV3U2NvcGU6IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSB8fCBkaXJlY3RpdmUuJCRuZXdTY29wZX0pO1xuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4uJCRzbG90cyA9IHNsb3RzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gKGlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKSlcbiAgICAgICAgICAgICAgPyBkaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzKVxuICAgICAgICAgICAgICA6IGRpcmVjdGl2ZS50ZW1wbGF0ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSk7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShkaXJlY3RpdmVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUoZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlLCB0cmltKGRpcmVjdGl2ZVZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkdGVtcGxhdGVbMF07XG5cbiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXG4gICAgICAgICAgICAgICAgICBcIlRlbXBsYXRlIGZvciBkaXJlY3RpdmUgJ3swfScgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9XCIsXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdUZW1wbGF0ZUF0dHJzID0geyRhdHRyOiB7fX07XG5cbiAgICAgICAgICAgIC8vIGNvbWJpbmUgZGlyZWN0aXZlcyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIGFuZCBmcm9tIHRoZSB0ZW1wbGF0ZTpcbiAgICAgICAgICAgIC8vIC0gdGFrZSB0aGUgYXJyYXkgb2YgZGlyZWN0aXZlcyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAvLyAtIHNwbGl0IGl0IGludG8gdHdvIHBhcnRzLCB0aG9zZSB0aGF0IGFscmVhZHkgYXBwbGllZCAocHJvY2Vzc2VkKSBhbmQgdGhvc2UgdGhhdCB3ZXJlbid0ICh1bnByb2Nlc3NlZClcbiAgICAgICAgICAgIC8vIC0gY29sbGVjdCBkaXJlY3RpdmVzIGZyb20gdGhlIHRlbXBsYXRlIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcbiAgICAgICAgICAgIC8vIC0gY29tYmluZSBkaXJlY3RpdmVzIGFzOiBwcm9jZXNzZWQgKyB0ZW1wbGF0ZSArIHVucHJvY2Vzc2VkXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCBuZXdUZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgICAgIHZhciB1bnByb2Nlc3NlZERpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLnNwbGljZShpICsgMSwgZGlyZWN0aXZlcy5sZW5ndGggLSAoaSArIDEpKTtcblxuICAgICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgICAgICAvLyBUaGUgb3JpZ2luYWwgZGlyZWN0aXZlIGNhdXNlZCB0aGUgY3VycmVudCBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ1dCB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAgICAgLy8gYWxzbyBuZWVkcyB0byBoYXZlIGEgbmV3IHNjb3BlLCBzbyB3ZSBuZWVkIHRvIHRlbGwgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZXNcbiAgICAgICAgICAgICAgLy8gdGhhdCB0aGV5IHdvdWxkIG5lZWQgdG8gZ2V0IHRoZWlyIHNjb3BlIGZyb20gZnVydGhlciB1cCwgaWYgdGhleSByZXF1aXJlIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlU2NvcGUodGVtcGxhdGVEaXJlY3RpdmVzLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIG5ld1Njb3BlRGlyZWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLmNvbmNhdCh0ZW1wbGF0ZURpcmVjdGl2ZXMpLmNvbmNhdCh1bnByb2Nlc3NlZERpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModGVtcGxhdGVBdHRycywgbmV3VGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGRpcmVjdGl2ZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoganNoaW50IC1XMDIxICovXG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLCBkaXJlY3RpdmVzLmxlbmd0aCAtIGkpLCAkY29tcGlsZU5vZGUsXG4gICAgICAgICAgLyoganNoaW50ICtXMDIxICovXG4gICAgICAgICAgICAgIHRlbXBsYXRlQXR0cnMsIGpxQ29sbGVjdGlvbiwgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSAmJiBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlczogY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmU6IChuZXdTY29wZURpcmVjdGl2ZSAhPT0gZGlyZWN0aXZlKSAmJiBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZTogdGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGl2ZS5jb21waWxlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpbmtGbiA9IGRpcmVjdGl2ZS5jb21waWxlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBkaXJlY3RpdmUuJCRvcmlnaW5hbERpcmVjdGl2ZSB8fCBkaXJlY3RpdmU7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaW5rRm4pKSB7XG4gICAgICAgICAgICAgIGFkZExpbmtGbnMobnVsbCwgYmluZChjb250ZXh0LCBsaW5rRm4pLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rRm4pIHtcbiAgICAgICAgICAgICAgYWRkTGlua0ZucyhiaW5kKGNvbnRleHQsIGxpbmtGbi5wcmUpLCBiaW5kKGNvbnRleHQsIGxpbmtGbi5wb3N0KSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlLCBzdGFydGluZ1RhZygkY29tcGlsZU5vZGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlcm1pbmFsKSB7XG4gICAgICAgICAgbm9kZUxpbmtGbi50ZXJtaW5hbCA9IHRydWU7XG4gICAgICAgICAgdGVybWluYWxQcmlvcml0eSA9IE1hdGgubWF4KHRlcm1pbmFsUHJpb3JpdHksIGRpcmVjdGl2ZS5wcmlvcml0eSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICBub2RlTGlua0ZuLnNjb3BlID0gbmV3U2NvcGVEaXJlY3RpdmUgJiYgbmV3U2NvcGVEaXJlY3RpdmUuc2NvcGUgPT09IHRydWU7XG4gICAgICBub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50ID0gaGFzVHJhbnNjbHVkZURpcmVjdGl2ZTtcbiAgICAgIG5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50ID0gaGFzVGVtcGxhdGU7XG4gICAgICBub2RlTGlua0ZuLnRyYW5zY2x1ZGUgPSBjaGlsZFRyYW5zY2x1ZGVGbjtcblxuICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlO1xuXG4gICAgICAvLyBtaWdodCBiZSBub3JtYWwgb3IgZGVsYXllZCBub2RlTGlua0ZuIGRlcGVuZGluZyBvbiBpZiB0ZW1wbGF0ZVVybCBpcyBwcmVzZW50XG4gICAgICByZXR1cm4gbm9kZUxpbmtGbjtcblxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgZnVuY3Rpb24gYWRkTGlua0ZucyhwcmUsIHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCkge1xuICAgICAgICBpZiAocHJlKSB7XG4gICAgICAgICAgaWYgKGF0dHJTdGFydCkgcHJlID0gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIocHJlLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgIHByZS5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XG4gICAgICAgICAgcHJlLmRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOYW1lO1xuICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPT09IGRpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUpIHtcbiAgICAgICAgICAgIHByZSA9IGNsb25lQW5kQW5ub3RhdGVGbihwcmUsIHtpc29sYXRlU2NvcGU6IHRydWV9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJlTGlua0Zucy5wdXNoKHByZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc3QpIHtcbiAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwb3N0ID0gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIocG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICBwb3N0LnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcbiAgICAgICAgICBwb3N0LmRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOYW1lO1xuICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPT09IGRpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUpIHtcbiAgICAgICAgICAgIHBvc3QgPSBjbG9uZUFuZEFubm90YXRlRm4ocG9zdCwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwb3N0TGlua0Zucy5wdXNoKHBvc3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG5vZGVMaW5rRm4oY2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICB2YXIgaSwgaWksIGxpbmtGbiwgaXNvbGF0ZVNjb3BlLCBjb250cm9sbGVyU2NvcGUsIGVsZW1lbnRDb250cm9sbGVycywgdHJhbnNjbHVkZUZuLCAkZWxlbWVudCxcbiAgICAgICAgICAgIGF0dHJzLCBzY29wZUJpbmRpbmdJbmZvO1xuXG4gICAgICAgIGlmIChjb21waWxlTm9kZSA9PT0gbGlua05vZGUpIHtcbiAgICAgICAgICBhdHRycyA9IHRlbXBsYXRlQXR0cnM7XG4gICAgICAgICAgJGVsZW1lbnQgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZWxlbWVudCA9IGpxTGl0ZShsaW5rTm9kZSk7XG4gICAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygkZWxlbWVudCwgdGVtcGxhdGVBdHRycyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250cm9sbGVyU2NvcGUgPSBzY29wZTtcbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgIGlzb2xhdGVTY29wZSA9IHNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3U2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICBjb250cm9sbGVyU2NvcGUgPSBzY29wZS4kcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgICAgLy8gdHJhY2sgYGJvdW5kVHJhbnNjbHVkZUZuYCBzbyBpdCBjYW4gYmUgdW53cmFwcGVkIGlmIGB0cmFuc2NsdWRlRm5gXG4gICAgICAgICAgLy8gaXMgbGF0ZXIgcGFzc2VkIGFzIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gYHB1YmxpY0xpbmtGbmBcbiAgICAgICAgICB0cmFuc2NsdWRlRm4gPSBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZTtcbiAgICAgICAgICB0cmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGUgPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgICAvLyBleHBvc2UgdGhlIHNsb3RzIG9uIHRoZSBgJHRyYW5zY2x1ZGVgIGZ1bmN0aW9uXG4gICAgICAgICAgdHJhbnNjbHVkZUZuLmlzU2xvdEZpbGxlZCA9IGZ1bmN0aW9uKHNsb3ROYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gISFib3VuZFRyYW5zY2x1ZGVGbi4kJHNsb3RzW3Nsb3ROYW1lXTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRyb2xsZXJEaXJlY3RpdmVzKSB7XG4gICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzID0gc2V0dXBDb250cm9sbGVycygkZWxlbWVudCwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgY29udHJvbGxlckRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgc2NvcGUsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIGZvciBuZXcgaXNvbGF0ZSBzY29wZSBkaXJlY3RpdmUuXG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbygkZWxlbWVudCwgaXNvbGF0ZVNjb3BlLCB0cnVlLCAhKHRlbXBsYXRlRGlyZWN0aXZlICYmICh0ZW1wbGF0ZURpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8XG4gICAgICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRvcmlnaW5hbERpcmVjdGl2ZSkpKTtcbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzID1cbiAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzO1xuICAgICAgICAgIHNjb3BlQmluZGluZ0luZm8gPSBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3Moc2NvcGUsIGF0dHJzLCBpc29sYXRlU2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSk7XG4gICAgICAgICAgaWYgKHNjb3BlQmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcykge1xuICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiRvbignJGRlc3Ryb3knLCBzY29wZUJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYmluZFRvQ29udHJvbGxlciBiaW5kaW5nc1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIGVsZW1lbnRDb250cm9sbGVycykge1xuICAgICAgICAgIHZhciBjb250cm9sbGVyRGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XG4gICAgICAgICAgdmFyIGJpbmRpbmdzID0gY29udHJvbGxlckRpcmVjdGl2ZS4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXI7XG5cbiAgICAgICAgICBpZiAoY29udHJvbGxlci5pZGVudGlmaWVyICYmIGJpbmRpbmdzKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID1cbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9IHt9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjb250cm9sbGVyUmVzdWx0ID0gY29udHJvbGxlcigpO1xuICAgICAgICAgIGlmIChjb250cm9sbGVyUmVzdWx0ICE9PSBjb250cm9sbGVyLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciBoYXMgYSByZXR1cm4gdmFsdWUsIG92ZXJ3cml0ZSB0aGUgaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGZyb20gc2V0dXBDb250cm9sbGVyc1xuICAgICAgICAgICAgY29udHJvbGxlci5pbnN0YW5jZSA9IGNvbnRyb2xsZXJSZXN1bHQ7XG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGNvbnRyb2xsZXJEaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlclJlc3VsdCk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMgJiYgY29udHJvbGxlci5iaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKCk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID1cbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCaW5kIHRoZSByZXF1aXJlZCBjb250cm9sbGVycyB0byB0aGUgY29udHJvbGxlciwgaWYgYHJlcXVpcmVgIGlzIGFuIG9iamVjdCBhbmQgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydXRoeVxuICAgICAgICBmb3JFYWNoKGNvbnRyb2xsZXJEaXJlY3RpdmVzLCBmdW5jdGlvbihjb250cm9sbGVyRGlyZWN0aXZlLCBuYW1lKSB7XG4gICAgICAgICAgdmFyIHJlcXVpcmUgPSBjb250cm9sbGVyRGlyZWN0aXZlLnJlcXVpcmU7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXJEaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciAmJiAhaXNBcnJheShyZXF1aXJlKSAmJiBpc09iamVjdChyZXF1aXJlKSkge1xuICAgICAgICAgICAgZXh0ZW5kKGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXS5pbnN0YW5jZSwgZ2V0Q29udHJvbGxlcnMobmFtZSwgcmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSGFuZGxlIHRoZSBpbml0IGFuZCBkZXN0cm95IGxpZmVjeWNsZSBob29rcyBvbiBhbGwgY29udHJvbGxlcnMgdGhhdCBoYXZlIHRoZW1cbiAgICAgICAgZm9yRWFjaChlbGVtZW50Q29udHJvbGxlcnMsIGZ1bmN0aW9uKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gY29udHJvbGxlci5pbnN0YW5jZTtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kb25DaGFuZ2VzKGNvbnRyb2xsZXIuYmluZGluZ0luZm8uaW5pdGlhbENoYW5nZXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRkb0NoZWNrKSkge1xuICAgICAgICAgICAgY29udHJvbGxlclNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgY29udHJvbGxlckluc3RhbmNlLiRkb0NoZWNrKCk7IH0pO1xuICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRkb0NoZWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KSkge1xuICAgICAgICAgICAgY29udHJvbGxlclNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiBjYWxsT25EZXN0cm95SG9vaygpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRvbkRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUFJFTElOS0lOR1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZUxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIGxpbmtGbiA9IHByZUxpbmtGbnNbaV07XG4gICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbixcbiAgICAgICAgICAgICAgbGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxuICAgICAgICAgICAgICAkZWxlbWVudCxcbiAgICAgICAgICAgICAgYXR0cnMsXG4gICAgICAgICAgICAgIGxpbmtGbi5yZXF1aXJlICYmIGdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLCBsaW5rRm4ucmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyksXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSRUNVUlNJT05cbiAgICAgICAgLy8gV2Ugb25seSBwYXNzIHRoZSBpc29sYXRlIHNjb3BlLCBpZiB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUgaGFzIGEgdGVtcGxhdGUsXG4gICAgICAgIC8vIG90aGVyd2lzZSB0aGUgY2hpbGQgZWxlbWVudHMgZG8gbm90IGJlbG9uZyB0byB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUuXG4gICAgICAgIHZhciBzY29wZVRvQ2hpbGQgPSBzY29wZTtcbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSAmJiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlIHx8IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZVVybCA9PT0gbnVsbCkpIHtcbiAgICAgICAgICBzY29wZVRvQ2hpbGQgPSBpc29sYXRlU2NvcGU7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRMaW5rRm4gJiYgY2hpbGRMaW5rRm4oc2NvcGVUb0NoaWxkLCBsaW5rTm9kZS5jaGlsZE5vZGVzLCB1bmRlZmluZWQsIGJvdW5kVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAvLyBQT1NUTElOS0lOR1xuICAgICAgICBmb3IgKGkgPSBwb3N0TGlua0Zucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGxpbmtGbiA9IHBvc3RMaW5rRm5zW2ldO1xuICAgICAgICAgIGludm9rZUxpbmtGbihsaW5rRm4sXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgICAgIGF0dHJzLFxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJpZ2dlciAkcG9zdExpbmsgbGlmZWN5Y2xlIGhvb2tzXG4gICAgICAgIGZvckVhY2goZWxlbWVudENvbnRyb2xsZXJzLCBmdW5jdGlvbihjb250cm9sbGVyKSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRwb3N0TGluaykpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kcG9zdExpbmsoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC5cbiAgICAgICAgLy8gTm90ZTogYWxsIGFyZ3VtZW50cyBhcmUgb3B0aW9uYWwhXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzbG90TmFtZSkge1xuICAgICAgICAgIHZhciB0cmFuc2NsdWRlQ29udHJvbGxlcnM7XG4gICAgICAgICAgLy8gTm8gc2NvcGUgcGFzc2VkIGluOlxuICAgICAgICAgIGlmICghaXNTY29wZShzY29wZSkpIHtcbiAgICAgICAgICAgIHNsb3ROYW1lID0gZnV0dXJlUGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBjbG9uZUF0dGFjaEZuO1xuICAgICAgICAgICAgY2xvbmVBdHRhY2hGbiA9IHNjb3BlO1xuICAgICAgICAgICAgc2NvcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnMgPSBlbGVtZW50Q29udHJvbGxlcnM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZnV0dXJlUGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID8gJGVsZW1lbnQucGFyZW50KCkgOiAkZWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XG4gICAgICAgICAgICAvLyBzbG90VHJhbnNjbHVkZUZuIGNhbiBiZSBvbmUgb2YgdGhyZWUgdGhpbmdzOlxuICAgICAgICAgICAgLy8gICogYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIC0gYSBmaWxsZWQgc2xvdFxuICAgICAgICAgICAgLy8gICogYG51bGxgIC0gYW4gb3B0aW9uYWwgc2xvdCB0aGF0IHdhcyBub3QgZmlsbGVkXG4gICAgICAgICAgICAvLyAgKiBgdW5kZWZpbmVkYCAtIGEgc2xvdCB0aGF0IHdhcyBub3QgZGVjbGFyZWQgKGkuZS4gaW52YWxpZClcbiAgICAgICAgICAgIHZhciBzbG90VHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV07XG4gICAgICAgICAgICBpZiAoc2xvdFRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICByZXR1cm4gc2xvdFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1VuZGVmaW5lZChzbG90VHJhbnNjbHVkZUZuKSkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9zbG90JyxcbiAgICAgICAgICAgICAgICdObyBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgcmVxdWlyZXMgYSB0cmFuc2NsdXNpb24gd2l0aCBzbG90IG5hbWUgXCJ7MH1cIi4gJyArXG4gICAgICAgICAgICAgICAnRWxlbWVudDogezF9JyxcbiAgICAgICAgICAgICAgIHNsb3ROYW1lLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGNsb25lQXR0YWNoRm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgc2NvcGVUb0NoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7XG4gICAgICB2YXIgdmFsdWU7XG5cbiAgICAgIGlmIChpc1N0cmluZyhyZXF1aXJlKSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZXF1aXJlLm1hdGNoKFJFUVVJUkVfUFJFRklYX1JFR0VYUCk7XG4gICAgICAgIHZhciBuYW1lID0gcmVxdWlyZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgdmFyIGluaGVyaXRUeXBlID0gbWF0Y2hbMV0gfHwgbWF0Y2hbM107XG4gICAgICAgIHZhciBvcHRpb25hbCA9IG1hdGNoWzJdID09PSAnPyc7XG5cbiAgICAgICAgLy9JZiBvbmx5IHBhcmVudHMgdGhlbiBzdGFydCBhdCB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgaWYgKGluaGVyaXRUeXBlID09PSAnXl4nKSB7XG4gICAgICAgICAgJGVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgLy9PdGhlcndpc2UgYXR0ZW1wdCBnZXR0aW5nIHRoZSBjb250cm9sbGVyIGZyb20gZWxlbWVudENvbnRyb2xsZXJzIGluIGNhc2VcbiAgICAgICAgLy90aGUgZWxlbWVudCBpcyB0cmFuc2NsdWRlZCAoYW5kIGhhcyBubyBkYXRhKSBhbmQgdG8gYXZvaWQgLmRhdGEgaWYgcG9zc2libGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnRDb250cm9sbGVycyAmJiBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS5pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICB2YXIgZGF0YU5hbWUgPSAnJCcgKyBuYW1lICsgJ0NvbnRyb2xsZXInO1xuICAgICAgICAgIHZhbHVlID0gaW5oZXJpdFR5cGUgPyAkZWxlbWVudC5pbmhlcml0ZWREYXRhKGRhdGFOYW1lKSA6ICRlbGVtZW50LmRhdGEoZGF0YU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWx1ZSAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignY3RyZXEnLFxuICAgICAgICAgICAgICBcIkNvbnRyb2xsZXIgJ3swfScsIHJlcXVpcmVkIGJ5IGRpcmVjdGl2ZSAnezF9JywgY2FuJ3QgYmUgZm91bmQhXCIsXG4gICAgICAgICAgICAgIG5hbWUsIGRpcmVjdGl2ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkocmVxdWlyZSkpIHtcbiAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVxdWlyZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFsdWVbaV0gPSBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlW2ldLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChyZXF1aXJlKSkge1xuICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgICBmb3JFYWNoKHJlcXVpcmUsIGZ1bmN0aW9uKGNvbnRyb2xsZXIsIHByb3BlcnR5KSB7XG4gICAgICAgICAgdmFsdWVbcHJvcGVydHldID0gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgY29udHJvbGxlciwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUgfHwgbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XG4gICAgICB2YXIgZWxlbWVudENvbnRyb2xsZXJzID0gY3JlYXRlTWFwKCk7XG4gICAgICBmb3IgKHZhciBjb250cm9sbGVyS2V5IGluIGNvbnRyb2xsZXJEaXJlY3RpdmVzKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSBjb250cm9sbGVyRGlyZWN0aXZlc1tjb250cm9sbGVyS2V5XTtcbiAgICAgICAgdmFyIGxvY2FscyA9IHtcbiAgICAgICAgICAkc2NvcGU6IGRpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxuICAgICAgICAgICRlbGVtZW50OiAkZWxlbWVudCxcbiAgICAgICAgICAkYXR0cnM6IGF0dHJzLFxuICAgICAgICAgICR0cmFuc2NsdWRlOiB0cmFuc2NsdWRlRm5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgY29udHJvbGxlciA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xuICAgICAgICBpZiAoY29udHJvbGxlciA9PSAnQCcpIHtcbiAgICAgICAgICBjb250cm9sbGVyID0gYXR0cnNbZGlyZWN0aXZlLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9ICRjb250cm9sbGVyKGNvbnRyb2xsZXIsIGxvY2FscywgdHJ1ZSwgZGlyZWN0aXZlLmNvbnRyb2xsZXJBcyk7XG5cbiAgICAgICAgLy8gRm9yIGRpcmVjdGl2ZXMgd2l0aCBlbGVtZW50IHRyYW5zY2x1c2lvbiB0aGUgZWxlbWVudCBpcyBhIGNvbW1lbnQuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSAuZGF0YSB3aWxsIG5vdCBhdHRhY2ggYW55IGRhdGEuXG4gICAgICAgIC8vIEluc3RlYWQsIHdlIHNhdmUgdGhlIGNvbnRyb2xsZXJzIGZvciB0aGUgZWxlbWVudCBpbiBhIGxvY2FsIGhhc2ggYW5kIGF0dGFjaCB0byAuZGF0YVxuICAgICAgICAvLyBsYXRlciwgb25jZSB3ZSBoYXZlIHRoZSBhY3R1YWwgZWxlbWVudC5cbiAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgJGVsZW1lbnQuZGF0YSgnJCcgKyBkaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlckluc3RhbmNlLmluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50Q29udHJvbGxlcnM7XG4gICAgfVxuXG4gICAgLy8gRGVwZW5kaW5nIHVwb24gdGhlIGNvbnRleHQgaW4gd2hpY2ggYSBkaXJlY3RpdmUgZmluZHMgaXRzZWxmIGl0IG1pZ2h0IG5lZWQgdG8gaGF2ZSBhIG5ldyBpc29sYXRlZFxuICAgIC8vIG9yIGNoaWxkIHNjb3BlIGNyZWF0ZWQuIEZvciBpbnN0YW5jZTpcbiAgICAvLyAqIGlmIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gcHVsbGVkIGludG8gYSB0ZW1wbGF0ZSBiZWNhdXNlIGFub3RoZXIgZGlyZWN0aXZlIHdpdGggYSBoaWdoZXIgcHJpb3JpdHlcbiAgICAvLyBhc2tlZCBmb3IgZWxlbWVudCB0cmFuc2NsdXNpb25cbiAgICAvLyAqIGlmIHRoZSBkaXJlY3RpdmUgaXRzZWxmIGFza3MgZm9yIHRyYW5zY2x1c2lvbiBidXQgaXQgaXMgYXQgdGhlIHJvb3Qgb2YgYSB0ZW1wbGF0ZSBhbmQgdGhlIG9yaWdpbmFsXG4gICAgLy8gZWxlbWVudCB3YXMgcmVwbGFjZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMjkzNlxuICAgIGZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVTY29wZShkaXJlY3RpdmVzLCBpc29sYXRlU2NvcGUsIG5ld1Njb3BlKSB7XG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBkaXJlY3RpdmVzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgZGlyZWN0aXZlc1tqXSA9IGluaGVyaXQoZGlyZWN0aXZlc1tqXSwgeyQkaXNvbGF0ZVNjb3BlOiBpc29sYXRlU2NvcGUsICQkbmV3U2NvcGU6IG5ld1Njb3BlfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgZGVjb3JhdGVzIGl0IHdpdGggZXhjZXB0aW9uIGhhbmRsaW5nIGFuZCBwcm9wZXIgcGFyYW1ldGVycy4gV2VcbiAgICAgKiBjYWxsIHRoaXMgdGhlIGJvdW5kRGlyZWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIFRoZSBkaXJlY3RpdmUgbXVzdCBiZSBmb3VuZCBpbiBzcGVjaWZpYyBmb3JtYXQuXG4gICAgICogICBTdHJpbmcgY29udGFpbmluZyBhbnkgb2YgdGhlc2VzIGNoYXJhY3RlcnM6XG4gICAgICpcbiAgICAgKiAgICogYEVgOiBlbGVtZW50IG5hbWVcbiAgICAgKiAgICogYEEnOiBhdHRyaWJ1dGVcbiAgICAgKiAgICogYENgOiBjbGFzc1xuICAgICAqICAgKiBgTWA6IGNvbW1lbnRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcywgbmFtZSwgbG9jYXRpb24sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHN0YXJ0QXR0ck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEF0dHJOYW1lKSB7XG4gICAgICBpZiAobmFtZSA9PT0gaWdub3JlRGlyZWN0aXZlKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBtYXRjaCA9IG51bGw7XG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBkaXJlY3RpdmUsIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBTdWZmaXgpLFxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgICAgICBpZiAoKGlzVW5kZWZpbmVkKG1heFByaW9yaXR5KSB8fCBtYXhQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkgJiZcbiAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0LmluZGV4T2YobG9jYXRpb24pICE9IC0xKSB7XG4gICAgICAgICAgICAgIGlmIChzdGFydEF0dHJOYW1lKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS4kJGJpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gZGlyZWN0aXZlLiQkYmluZGluZ3MgPVxuICAgICAgICAgICAgICAgICAgICBwYXJzZURpcmVjdGl2ZUJpbmRpbmdzKGRpcmVjdGl2ZSwgZGlyZWN0aXZlLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChiaW5kaW5ncy5pc29sYXRlU2NvcGUpKSB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MgPSBiaW5kaW5ncy5pc29sYXRlU2NvcGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHREaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgbWF0Y2ggPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCByZXR1cm5zIHRydWUgaWYgaXQgaXMgYSBtdWx0aS1lbGVtZW50IGRpcmVjdGl2ZSxcbiAgICAgKiBhbmQgdGhlcmVmb3JlIHJlcXVpcmVzIERPTSBub2RlcyBiZXR3ZWVuIC1zdGFydCBhbmQgLWVuZCBtYXJrZXJzIHRvIGJlIGdyb3VwZWRcbiAgICAgKiB0b2dldGhlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBsb29rIHVwLlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgZGlyZWN0aXZlIHdhcyByZWdpc3RlcmVkIGFzIG11bHRpLWVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQobmFtZSkge1xuICAgICAgaWYgKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSxcbiAgICAgICAgICAgIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5tdWx0aUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgcmVwbGFjZWQgd2l0aCBIVE1MIHRlbXBsYXRlIHRoZW4gdGhlIG5ldyBhdHRyaWJ1dGVzXG4gICAgICogb24gdGhlIHRlbXBsYXRlIG5lZWQgdG8gYmUgbWVyZ2VkIHdpdGggdGhlIGV4aXN0aW5nIGF0dHJpYnV0ZXMgaW4gdGhlIERPTS5cbiAgICAgKiBUaGUgZGVzaXJlZCBlZmZlY3QgaXMgdG8gaGF2ZSBib3RoIG9mIHRoZSBhdHRyaWJ1dGVzIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZHN0IGRlc3RpbmF0aW9uIGF0dHJpYnV0ZXMgKG9yaWdpbmFsIERPTSlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3JjIHNvdXJjZSBhdHRyaWJ1dGVzIChmcm9tIHRoZSBkaXJlY3RpdmUgdGVtcGxhdGUpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXMoZHN0LCBzcmMpIHtcbiAgICAgIHZhciBzcmNBdHRyID0gc3JjLiRhdHRyLFxuICAgICAgICAgIGRzdEF0dHIgPSBkc3QuJGF0dHIsXG4gICAgICAgICAgJGVsZW1lbnQgPSBkc3QuJCRlbGVtZW50O1xuXG4gICAgICAvLyByZWFwcGx5IHRoZSBvbGQgYXR0cmlidXRlcyB0byB0aGUgbmV3IGVsZW1lbnRcbiAgICAgIGZvckVhY2goZHN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApICE9ICckJykge1xuICAgICAgICAgIGlmIChzcmNba2V5XSAmJiBzcmNba2V5XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IChrZXkgPT09ICdzdHlsZScgPyAnOycgOiAnICcpICsgc3JjW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGRzdC4kc2V0KGtleSwgdmFsdWUsIHRydWUsIHNyY0F0dHJba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBjb3B5IHRoZSBuZXcgYXR0cmlidXRlcyBvbiB0aGUgb2xkIGF0dHJzIG9iamVjdFxuICAgICAgZm9yRWFjaChzcmMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBzZXQgdGhpcyBhdHRyaWJ1dGUgaW4gdGhlIGxvb3AgYWJvdmUuXG4gICAgICAgIC8vIGBkc3RgIHdpbGwgbmV2ZXIgY29udGFpbiBoYXNPd25Qcm9wZXJ0eSBhcyBET00gcGFyc2VyIHdvbid0IGxldCBpdC5cbiAgICAgICAgLy8gWW91IHdpbGwgZ2V0IGFuIFwiSW52YWxpZENoYXJhY3RlckVycm9yOiBET00gRXhjZXB0aW9uIDVcIiBlcnJvciBpZiB5b3VcbiAgICAgICAgLy8gaGF2ZSBhbiBhdHRyaWJ1dGUgbGlrZSBcImhhcy1vd24tcHJvcGVydHlcIiBvciBcImRhdGEtaGFzLW93bi1wcm9wZXJ0eVwiLCBldGMuXG4gICAgICAgIGlmICghZHN0Lmhhc093blByb3BlcnR5KGtleSkgJiYga2V5LmNoYXJBdCgwKSAhPT0gJyQnKSB7XG4gICAgICAgICAgZHN0W2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgIGlmIChrZXkgIT09ICdjbGFzcycgJiYga2V5ICE9PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICBkc3RBdHRyW2tleV0gPSBzcmNBdHRyW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCAkY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgJHJvb3RFbGVtZW50LCBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBsaW5rUXVldWUgPSBbXSxcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbixcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sXG4gICAgICAgICAgYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXSxcbiAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUgPSBkaXJlY3RpdmVzLnNoaWZ0KCksXG4gICAgICAgICAgZGVyaXZlZFN5bmNEaXJlY3RpdmUgPSBpbmhlcml0KG9yaWdBc3luY0RpcmVjdGl2ZSwge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IG51bGwsIHRyYW5zY2x1ZGU6IG51bGwsIHJlcGxhY2U6IG51bGwsICQkb3JpZ2luYWxEaXJlY3RpdmU6IG9yaWdBc3luY0RpcmVjdGl2ZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRlbXBsYXRlVXJsID0gKGlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSlcbiAgICAgICAgICAgICAgPyBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwoJGNvbXBpbGVOb2RlLCB0QXR0cnMpXG4gICAgICAgICAgICAgIDogb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsLFxuICAgICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlID0gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlO1xuXG4gICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTtcblxuICAgICAgJHRlbXBsYXRlUmVxdWVzdCh0ZW1wbGF0ZVVybClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oY29udGVudCkge1xuICAgICAgICAgIHZhciBjb21waWxlTm9kZSwgdGVtcFRlbXBsYXRlQXR0cnMsICR0ZW1wbGF0ZSwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtcblxuICAgICAgICAgIGNvbnRlbnQgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGNvbnRlbnQpO1xuXG4gICAgICAgICAgaWYgKG9yaWdBc3luY0RpcmVjdGl2ZS5yZXBsYWNlKSB7XG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShjb250ZW50KSkge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWVzcGFjZSwgdHJpbShjb250ZW50KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkdGVtcGxhdGVbMF07XG5cbiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXG4gICAgICAgICAgICAgICAgICBcIlRlbXBsYXRlIGZvciBkaXJlY3RpdmUgJ3swfScgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9XCIsXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUubmFtZSwgdGVtcGxhdGVVcmwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wVGVtcGxhdGVBdHRycyA9IHskYXR0cjoge319O1xuICAgICAgICAgICAgcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LCAkY29tcGlsZU5vZGUsIGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZURpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhjb21waWxlTm9kZSwgW10sIHRlbXBUZW1wbGF0ZUF0dHJzKTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9yaWdBc3luY0RpcmVjdGl2ZS5zY29wZSkpIHtcbiAgICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIGRpcmVjdGl2ZSB0aGF0IGNhdXNlZCB0aGUgdGVtcGxhdGUgdG8gYmUgbG9hZGVkIGFzeW5jIHJlcXVpcmVkXG4gICAgICAgICAgICAgIC8vIGFuIGlzb2xhdGUgc2NvcGVcbiAgICAgICAgICAgICAgbWFya0RpcmVjdGl2ZVNjb3BlKHRlbXBsYXRlRGlyZWN0aXZlcywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gdGVtcGxhdGVEaXJlY3RpdmVzLmNvbmNhdChkaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycywgdGVtcFRlbXBsYXRlQXR0cnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpO1xuXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4gPSBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4sICRjb21waWxlTm9kZSwgb3JpZ0FzeW5jRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICAgICAgZm9yRWFjaCgkcm9vdEVsZW1lbnQsIGZ1bmN0aW9uKG5vZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChub2RlID09IGNvbXBpbGVOb2RlKSB7XG4gICAgICAgICAgICAgICRyb290RWxlbWVudFtpXSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgIHdoaWxlIChsaW5rUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgbGlua1Jvb3RFbGVtZW50ID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgYm91bmRUcmFuc2NsdWRlRm4gPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTtcblxuICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGJlZm9yZVRlbXBsYXRlTGlua05vZGUgIT09IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtcblxuICAgICAgICAgICAgICBpZiAoIShwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlICYmXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY2xvbmVkIHRoZXJlZm9yZSB3ZSBoYXZlIHRvIGNsb25lIGFzIHdlbGwuXG4gICAgICAgICAgICAgICAgbGlua05vZGUgPSBqcUxpdGVDbG9uZShjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTtcblxuICAgICAgICAgICAgICAvLyBDb3B5IGluIENTUyBjbGFzc2VzIGZyb20gb3JpZ2luYWwgbm9kZVxuICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlua1F1ZXVlID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxheWVkTm9kZUxpbmtGbihpZ25vcmVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGxpbmtRdWV1ZSkge1xuICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU29ydGluZyBmdW5jdGlvbiBmb3IgYm91bmQgZGlyZWN0aXZlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBieVByaW9yaXR5KGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XG4gICAgICBpZiAoZGlmZiAhPT0gMCkgcmV0dXJuIGRpZmY7XG4gICAgICBpZiAoYS5uYW1lICE9PSBiLm5hbWUpIHJldHVybiAoYS5uYW1lIDwgYi5uYW1lKSA/IC0xIDogMTtcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhc3NlcnROb0R1cGxpY2F0ZSh3aGF0LCBwcmV2aW91c0RpcmVjdGl2ZSwgZGlyZWN0aXZlLCBlbGVtZW50KSB7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBNb2R1bGVOYW1lSWZEZWZpbmVkKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZU5hbWUgP1xuICAgICAgICAgICgnIChtb2R1bGU6ICcgKyBtb2R1bGVOYW1lICsgJyknKSA6XG4gICAgICAgICAgJyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2aW91c0RpcmVjdGl2ZSkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9ezF9LCB7Mn17M31dIGFza2luZyBmb3IgezR9IG9uOiB7NX0nLFxuICAgICAgICAgICAgcHJldmlvdXNEaXJlY3RpdmUubmFtZSwgd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQocHJldmlvdXNEaXJlY3RpdmUuJCRtb2R1bGVOYW1lKSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZS5uYW1lLCB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChkaXJlY3RpdmUuJCRtb2R1bGVOYW1lKSwgd2hhdCwgc3RhcnRpbmdUYWcoZWxlbWVudCkpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIHRleHQpIHtcbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHRleHQsIHRydWUpO1xuICAgICAgaWYgKGludGVycG9sYXRlRm4pIHtcbiAgICAgICAgZGlyZWN0aXZlcy5wdXNoKHtcbiAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVDb21waWxlRm4odGVtcGxhdGVOb2RlKSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVOb2RlUGFyZW50ID0gdGVtcGxhdGVOb2RlLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgIGhhc0NvbXBpbGVQYXJlbnQgPSAhIXRlbXBsYXRlTm9kZVBhcmVudC5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIFdoZW4gdHJhbnNjbHVkaW5nIGEgdGVtcGxhdGUgdGhhdCBoYXMgYmluZGluZ3MgaW4gdGhlIHJvb3RcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGhhdmUgYSBwYXJlbnQgYW5kIHRodXMgbmVlZCB0byBhZGQgdGhlIGNsYXNzIGR1cmluZyBsaW5raW5nIGZuLlxuICAgICAgICAgICAgaWYgKGhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVOb2RlUGFyZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRleHRJbnRlcnBvbGF0ZUxpbmtGbihzY29wZSwgbm9kZSkge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgaWYgKCFoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHBhcmVudCk7XG4gICAgICAgICAgICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhwYXJlbnQsIGludGVycG9sYXRlRm4uZXhwcmVzc2lvbnMpO1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbm9kZVswXS5ub2RlVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiB3cmFwVGVtcGxhdGUodHlwZSwgdGVtcGxhdGUpIHtcbiAgICAgIHR5cGUgPSBsb3dlcmNhc2UodHlwZSB8fCAnaHRtbCcpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdzdmcnOlxuICAgICAgY2FzZSAnbWF0aCc6XG4gICAgICAgIHZhciB3cmFwcGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8JyArIHR5cGUgKyAnPicgKyB0ZW1wbGF0ZSArICc8LycgKyB0eXBlICsgJz4nO1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNkb2NcIikge1xuICAgICAgICByZXR1cm4gJHNjZS5IVE1MO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IG5vZGVOYW1lXyhub2RlKTtcbiAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi5cbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJ4bGlua0hyZWZcIiB8fFxuICAgICAgICAgICh0YWcgPT0gXCJmb3JtXCIgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09IFwiYWN0aW9uXCIpIHx8XG4gICAgICAgICAgKHRhZyAhPSBcImltZ1wiICYmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcIm5nU3JjXCIpKSkge1xuICAgICAgICByZXR1cm4gJHNjZS5SRVNPVVJDRV9VUkw7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5hbWUsIGFsbE9yTm90aGluZykge1xuICAgICAgdmFyIHRydXN0ZWRDb250ZXh0ID0gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgbmFtZSk7XG4gICAgICBhbGxPck5vdGhpbmcgPSBBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXSB8fCBhbGxPck5vdGhpbmc7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcblxuICAgICAgLy8gbm8gaW50ZXJwb2xhdGlvbiBmb3VuZCAtPiBpZ25vcmVcbiAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xuXG5cbiAgICAgIGlmIChuYW1lID09PSBcIm11bHRpcGxlXCIgJiYgbm9kZU5hbWVfKG5vZGUpID09PSBcInNlbGVjdFwiKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKFwic2VsbXVsdGlcIixcbiAgICAgICAgICAgIFwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9XCIsXG4gICAgICAgICAgICBzdGFydGluZ1RhZyhub2RlKSk7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVQcmVMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSAoYXR0ci4kJG9ic2VydmVycyB8fCAoYXR0ci4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUC50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLFxuICAgICAgICAgICAgICAgICAgICAgIFwiSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibmctIHZlcnNpb25zIChzdWNoIGFzIG5nLWNsaWNrIGluc3RlYWQgb2Ygb25jbGljaykgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0ICRpbnRlcnBvbGF0ZSgpZWRcbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBhdHRyW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaW50ZXJwb2xhdGUgYWdhaW4gc2luY2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBhbm90aGVyIGRpcmVjdGl2ZSdzIGNvbXBpbGUgZnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdW5zZXQvZW1wdHkgdmFsdWVzIG1ha2UgaW50ZXJwb2xhdGVGbiBmYWxzeVxuICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGbiA9IG5ld1ZhbHVlICYmICRpbnRlcnBvbGF0ZShuZXdWYWx1ZSwgdHJ1ZSwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIGF0dHJpYnV0ZSB3YXMgdXBkYXRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24gZ29pbmcgb24gd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGFueSBvYnNlcnZlcnNcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYXR0ciBvYmplY3Qgc28gdGhhdCBpdCdzIHJlYWR5IGluIGNhc2Ugd2UgbmVlZCB0aGUgdmFsdWUgZm9yIGlzb2xhdGVcbiAgICAgICAgICAgICAgICAvLyBzY29wZSBpbml0aWFsaXphdGlvbiwgb3RoZXJ3aXNlIHRoZSB2YWx1ZSB3b3VsZCBub3QgYmUgYXZhaWxhYmxlIGZyb20gaXNvbGF0ZVxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSdzIGxpbmtpbmcgZm4gZHVyaW5nIGxpbmtpbmcgcGhhc2VcbiAgICAgICAgICAgICAgICBhdHRyW25hbWVdID0gaW50ZXJwb2xhdGVGbihzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAoJCRvYnNlcnZlcnNbbmFtZV0gfHwgKCQkb2JzZXJ2ZXJzW25hbWVdID0gW10pKS4kJGludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLlxuICAgICAgICAgICAgICAgICAgJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9zcGVjaWFsIGNhc2UgZm9yIGNsYXNzIGF0dHJpYnV0ZSBhZGRpdGlvbiArIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy9ob29rcyBwcm92aWRlZCBieSB0aGUgJGFuaW1hdGUgc2VydmljZS4gQmUgc3VyZSB0b1xuICAgICAgICAgICAgICAgICAgICAvL3NraXAgYW5pbWF0aW9ucyB3aGVuIHRoZSBmaXJzdCBkaWdlc3Qgb2NjdXJzICh3aGVuXG4gICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIENTUyBjbGFzc2VzIGFyZSB0aGUgbm9uLWludGVycG9sYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjbGFzcycgJiYgbmV3VmFsdWUgIT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHNwZWNpYWwganFMaXRlLnJlcGxhY2VXaXRoLCB3aGljaCBjYW4gcmVwbGFjZSBpdGVtcyB3aGljaFxuICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SnFMaXRlPX0gJHJvb3RFbGVtZW50IFRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUuIFVzZWQgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzaGVsbCwgYnV0IHJlcGxhY2UgaXRzIERPTSBub2RlIHJlZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsIGVsZW1lbnRzVG9SZW1vdmUsIG5ld05vZGUpIHtcbiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sXG4gICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcbiAgICAgICAgICBwYXJlbnQgPSBmaXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlLFxuICAgICAgICAgIGksIGlpO1xuXG4gICAgICBpZiAoJHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50W2ldID09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICBqIDwgamo7IGorKywgajIrKykge1xuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xuICAgICAgICAgICAgICAgICRyb290RWxlbWVudFtqXSA9ICRyb290RWxlbWVudFtqMl07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXBsYWNlZCBlbGVtZW50IGlzIGFsc28gdGhlIGpRdWVyeSAuY29udGV4dCB0aGVuIHJlcGxhY2UgaXRcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XG4gICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cbiAgICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnQuY29udGV4dCA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwcGVuZCBhbGwgdGhlIGBlbGVtZW50c1RvUmVtb3ZlYCB0byBhIGZyYWdtZW50LiBUaGlzIHdpbGwuLi5cbiAgICAgIC8vIC0gcmVtb3ZlIHRoZW0gZnJvbSB0aGUgRE9NXG4gICAgICAvLyAtIGFsbG93IHRoZW0gdG8gc3RpbGwgYmUgdHJhdmVyc2VkIHdpdGggLm5leHRTaWJsaW5nXG4gICAgICAvLyAtIGFsbG93IGEgc2luZ2xlIGZyYWdtZW50LnFTQSB0byBmZXRjaCBhbGwgZWxlbWVudHMgYmVpbmcgcmVtb3ZlZFxuICAgICAgdmFyIGZyYWdtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCByZW1vdmVDb3VudDsgaSsrKSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnRzVG9SZW1vdmVbaV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoanFMaXRlLmhhc0RhdGEoZmlyc3RFbGVtZW50VG9SZW1vdmUpKSB7XG4gICAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXG4gICAgICAgIC8vIGRhdGEgaGVyZSBiZWNhdXNlIHRoZXJlJ3Mgbm8gcHVibGljIGludGVyZmFjZSBpbiBqUXVlcnkgdG8gZG8gdGhhdCBhbmQgY29weWluZyBvdmVyXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVycyAod2hpY2ggaXMgdGhlIG1haW4gdXNlIG9mIHByaXZhdGUgZGF0YSkgd291bGRuJ3Qgd29yayBhbnl3YXkuXG4gICAgICAgIGpxTGl0ZS5kYXRhKG5ld05vZGUsIGpxTGl0ZS5kYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlICRkZXN0cm95IGV2ZW50IGxpc3RlbmVycyBmcm9tIGBmaXJzdEVsZW1lbnRUb1JlbW92ZWBcbiAgICAgICAganFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5vZmYoJyRkZXN0cm95Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgYW55IGRhdGEvbGlzdGVuZXJzIG9uIHRoZSBlbGVtZW50cyBhbmQgY2hpbGRyZW4uXG4gICAgICAvLyBUaGlzIGluY2x1ZGVzIGludm9raW5nIHRoZSAkZGVzdHJveSBldmVudCBvbiBhbnkgZWxlbWVudHMgd2l0aCBsaXN0ZW5lcnMuXG4gICAgICBqcUxpdGUuY2xlYW5EYXRhKGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUganFMaXRlIGNvbGxlY3Rpb24gdG8gb25seSBjb250YWluIHRoZSBgbmV3Tm9kZWBcbiAgICAgIGZvciAoaSA9IDE7IGkgPCByZW1vdmVDb3VudDsgaSsrKSB7XG4gICAgICAgIGRlbGV0ZSBlbGVtZW50c1RvUmVtb3ZlW2ldO1xuICAgICAgfVxuICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7XG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5rRm4oc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBTZXQgdXAgJHdhdGNoZXMgZm9yIGlzb2xhdGUgc2NvcGUgYW5kIGNvbnRyb2xsZXIgYmluZGluZ3MuIFRoaXMgcHJvY2Vzc1xuICAgIC8vIG9ubHkgb2NjdXJzIGZvciBpc29sYXRlIHNjb3BlcyBhbmQgbmV3IHNjb3BlcyB3aXRoIGNvbnRyb2xsZXJBcy5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3Moc2NvcGUsIGF0dHJzLCBkZXN0aW5hdGlvbiwgYmluZGluZ3MsIGRpcmVjdGl2ZSkge1xuICAgICAgdmFyIHJlbW92ZVdhdGNoQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgdmFyIGluaXRpYWxDaGFuZ2VzID0ge307XG4gICAgICB2YXIgY2hhbmdlcztcbiAgICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uIGluaXRpYWxpemVCaW5kaW5nKGRlZmluaXRpb24sIHNjb3BlTmFtZSkge1xuICAgICAgICB2YXIgYXR0ck5hbWUgPSBkZWZpbml0aW9uLmF0dHJOYW1lLFxuICAgICAgICBvcHRpb25hbCA9IGRlZmluaXRpb24ub3B0aW9uYWwsXG4gICAgICAgIG1vZGUgPSBkZWZpbml0aW9uLm1vZGUsIC8vIEAsID0sIDwsIG9yICZcbiAgICAgICAgbGFzdFZhbHVlLFxuICAgICAgICBwYXJlbnRHZXQsIHBhcmVudFNldCwgY29tcGFyZSwgcmVtb3ZlV2F0Y2g7XG5cbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XG5cbiAgICAgICAgICBjYXNlICdAJzpcbiAgICAgICAgICAgIGlmICghb3B0aW9uYWwgJiYgIWhhc093blByb3BlcnR5LmNhbGwoYXR0cnMsIGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gYXR0cnNbYXR0ck5hbWVdID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV07XG4gICAgICAgICAgICAgICAgcmVjb3JkQ2hhbmdlcyhzY29wZU5hbWUsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF0dHJzLiQkb2JzZXJ2ZXJzW2F0dHJOYW1lXS4kJHNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBhdHRyc1thdHRyTmFtZV07XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobGFzdFZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBiZWVuIHByb3ZpZGVkIHRoZW4gd2UgdHJpZ2dlciBhbiBpbnRlcnBvbGF0aW9uIHRvIGVuc3VyZVxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgaXMgdGhlcmUgZm9yIHVzZSBpbiB0aGUgbGluayBmblxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gJGludGVycG9sYXRlKGxhc3RWYWx1ZSkoc2NvcGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Jvb2xlYW4obGFzdFZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlcyBpcyBvbmUgb2YgdGhlIEJPT0xFQU5fQVRUUiB0aGVuIEFuZ3VsYXIgd2lsbCBoYXZlIGNvbnZlcnRlZFxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgdG8gYm9vbGVhbiByYXRoZXIgdGhhbiBhIHN0cmluZywgc28gd2Ugc3BlY2lhbCBjYXNlIHRoaXMgc2l0dWF0aW9uXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbml0aWFsQ2hhbmdlc1tzY29wZU5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShfVU5JTklUSUFMSVpFRF9WQUxVRSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJz0nOlxuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSBicmVhaztcbiAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xuXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkge1xuICAgICAgICAgICAgICBjb21wYXJlID0gZXF1YWxzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29tcGFyZSA9IGZ1bmN0aW9uIHNpbXBsZUNvbXBhcmUoYSwgYikgeyByZXR1cm4gYSA9PT0gYiB8fCAoYSAhPT0gYSAmJiBiICE9PSBiKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudFNldCA9IHBhcmVudEdldC5hc3NpZ24gfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjaGFuZ2UsIG9yIHdlIHdpbGwgdGhyb3cgdGhpcyBleGNlcHRpb24gb24gZXZlcnkgJGRpZ2VzdFxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vbmFzc2lnbicsXG4gICAgICAgICAgICAgICAgICBcIkV4cHJlc3Npb24gJ3swfScgaW4gYXR0cmlidXRlICd7MX0nIHVzZWQgd2l0aCBkaXJlY3RpdmUgJ3syfScgaXMgbm9uLWFzc2lnbmFibGUhXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyc1thdHRyTmFtZV0sIGF0dHJOYW1lLCBkaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XG4gICAgICAgICAgICB2YXIgcGFyZW50VmFsdWVXYXRjaCA9IGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2gocGFyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBkZXN0aW5hdGlvbltzY29wZU5hbWVdKSkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBvdXQgb2Ygc3luYyBhbmQgbmVlZCB0byBjb3B5XG4gICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgY2hhbmdlZCBhbmQgaXQgaGFzIHByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmVudCBjYW4gYmUgYXNzaWduZWQgdGhlbiBkbyBzb1xuICAgICAgICAgICAgICAgICAgcGFyZW50U2V0KHNjb3BlLCBwYXJlbnRWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlID0gcGFyZW50VmFsdWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFyZW50VmFsdWVXYXRjaC4kc3RhdGVmdWwgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gc2NvcGUuJHdhdGNoKCRwYXJzZShhdHRyc1thdHRyTmFtZV0sIHBhcmVudFZhbHVlV2F0Y2gpLCBudWxsLCBwYXJlbnRHZXQubGl0ZXJhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSBicmVhaztcbiAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xuXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcblxuICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xuICAgICAgICAgICAgaW5pdGlhbENoYW5nZXNbc2NvcGVOYW1lXSA9IG5ldyBTaW1wbGVDaGFuZ2UoX1VOSU5JVElBTElaRURfVkFMVUUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xuXG4gICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaChwYXJlbnRHZXQsIGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAob2xkVmFsdWUgPT09IGluaXRpYWxWYWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlY29yZENoYW5nZXMoc2NvcGVOYW1lLCBuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9LCBwYXJlbnRHZXQubGl0ZXJhbCk7XG5cbiAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5wdXNoKHJlbW92ZVdhdGNoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnJic6XG4gICAgICAgICAgICAvLyBEb24ndCBhc3NpZ24gT2JqZWN0LnByb3RvdHlwZSBtZXRob2QgdG8gc2NvcGVcbiAgICAgICAgICAgIHBhcmVudEdldCA9IGF0dHJzLmhhc093blByb3BlcnR5KGF0dHJOYW1lKSA/ICRwYXJzZShhdHRyc1thdHRyTmFtZV0pIDogbm9vcDtcblxuICAgICAgICAgICAgLy8gRG9uJ3QgYXNzaWduIG5vb3AgdG8gZGVzdGluYXRpb24gaWYgZXhwcmVzc2lvbiBpcyBub3QgdmFsaWRcbiAgICAgICAgICAgIGlmIChwYXJlbnRHZXQgPT09IG5vb3AgJiYgb3B0aW9uYWwpIGJyZWFrO1xuXG4gICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJlbnRHZXQoc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiByZWNvcmRDaGFuZ2VzKGtleSwgY3VycmVudFZhbHVlLCBwcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGRlc3RpbmF0aW9uLiRvbkNoYW5nZXMpICYmIGN1cnJlbnRWYWx1ZSAhPT0gcHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgc2NoZWR1bGVkIHRoZSB0b3AgbGV2ZWwgb25DaGFuZ2VzUXVldWUgaGFuZGxlciB0aGVuIGRvIHNvIG5vd1xuICAgICAgICAgIGlmICghb25DaGFuZ2VzUXVldWUpIHtcbiAgICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmbHVzaE9uQ2hhbmdlc1F1ZXVlKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgcXVldWVkIGEgdHJpZ2dlciBvZiBvbkNoYW5nZXMgZm9yIHRoaXMgY29udHJvbGxlciB0aGVuIGRvIHNvIG5vd1xuICAgICAgICAgIGlmICghY2hhbmdlcykge1xuICAgICAgICAgICAgY2hhbmdlcyA9IHt9O1xuICAgICAgICAgICAgb25DaGFuZ2VzUXVldWUucHVzaCh0cmlnZ2VyT25DaGFuZ2VzSG9vayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHRoZSBoYXMgYmVlbiBhIGNoYW5nZSBvbiB0aGlzIHByb3BlcnR5IGFscmVhZHkgdGhlbiB3ZSBuZWVkIHRvIHJldXNlIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgIGlmIChjaGFuZ2VzW2tleV0pIHtcbiAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSBjaGFuZ2VzW2tleV0ucHJldmlvdXNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gU3RvcmUgdGhpcyBjaGFuZ2VcbiAgICAgICAgICBjaGFuZ2VzW2tleV0gPSBuZXcgU2ltcGxlQ2hhbmdlKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJpZ2dlck9uQ2hhbmdlc0hvb2soKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uLiRvbkNoYW5nZXMoY2hhbmdlcyk7XG4gICAgICAgIC8vIE5vdyBjbGVhciB0aGUgY2hhbmdlcyBzbyB0aGF0IHdlIHNjaGVkdWxlIG9uQ2hhbmdlcyB3aGVuIG1vcmUgY2hhbmdlcyBhcnJpdmVcbiAgICAgICAgY2hhbmdlcyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGlhbENoYW5nZXM6IGluaXRpYWxDaGFuZ2VzLFxuICAgICAgICByZW1vdmVXYXRjaGVzOiByZW1vdmVXYXRjaENvbGxlY3Rpb24ubGVuZ3RoICYmIGZ1bmN0aW9uIHJlbW92ZVdhdGNoZXMoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbltpXSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBTaW1wbGVDaGFuZ2UocHJldmlvdXMsIGN1cnJlbnQpIHtcbiAgdGhpcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXM7XG4gIHRoaXMuY3VycmVudFZhbHVlID0gY3VycmVudDtcbn1cblNpbXBsZUNoYW5nZS5wcm90b3R5cGUuaXNGaXJzdENoYW5nZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wcmV2aW91c1ZhbHVlID09PSBfVU5JTklUSUFMSVpFRF9WQUxVRTsgfTtcblxuXG52YXIgUFJFRklYX1JFR0VYUCA9IC9eKCg/Onh8ZGF0YSlbXFw6XFwtX10pL2k7XG4vKipcbiAqIENvbnZlcnRzIGFsbCBhY2NlcHRlZCBkaXJlY3RpdmVzIGZvcm1hdCBpbnRvIHByb3BlciBkaXJlY3RpdmUgbmFtZS5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKSB7XG4gIHJldHVybiBjYW1lbENhc2UobmFtZS5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKSk7XG59XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHNoYXJlZCBvYmplY3QgYmV0d2VlbiBkaXJlY3RpdmUgY29tcGlsZSAvIGxpbmtpbmcgZnVuY3Rpb25zIHdoaWNoIGNvbnRhaW5zIG5vcm1hbGl6ZWQgRE9NXG4gKiBlbGVtZW50IGF0dHJpYnV0ZXMuIFRoZSB2YWx1ZXMgcmVmbGVjdCBjdXJyZW50IGJpbmRpbmcgc3RhdGUgYHt7IH19YC4gVGhlIG5vcm1hbGl6YXRpb24gaXNcbiAqIG5lZWRlZCBzaW5jZSBhbGwgb2YgdGhlc2UgYXJlIHRyZWF0ZWQgYXMgZXF1aXZhbGVudCBpbiBBbmd1bGFyOlxuICpcbiAqIGBgYFxuICogICAgPHNwYW4gbmc6YmluZD1cImFcIiBuZy1iaW5kPVwiYVwiIGRhdGEtbmctYmluZD1cImFcIiB4LW5nLWJpbmQ9XCJhXCI+XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm9wZXJ0eVxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGF0dHJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgbWFwIG9mIERPTSBlbGVtZW50IGF0dHJpYnV0ZSBuYW1lcyB0byB0aGUgbm9ybWFsaXplZCBuYW1lLiBUaGlzIGlzXG4gKiBuZWVkZWQgdG8gZG8gcmV2ZXJzZSBsb29rdXAgZnJvbSBub3JtYWxpemVkIG5hbWUgYmFjayB0byBhY3R1YWwgbmFtZS5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHNldFxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNldCBET00gZWxlbWVudCBhdHRyaWJ1dGUgdmFsdWUuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5vcm1hbGl6ZWQgZWxlbWVudCBhdHRyaWJ1dGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gbW9kaWZ5LiBUaGUgbmFtZSBpc1xuICogICAgICAgICAgcmV2ZXJzZS10cmFuc2xhdGVkIHVzaW5nIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGF0dHIgJGF0dHJ9XG4gKiAgICAgICAgICBwcm9wZXJ0eSB0byB0aGUgb3JpZ2luYWwgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZSB0by4gVGhlIHZhbHVlIGNhbiBiZSBhbiBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICovXG5cblxuXG4vKipcbiAqIENsb3N1cmUgY29tcGlsZXIgdHlwZSBpbmZvcm1hdGlvblxuICovXG5cbmZ1bmN0aW9uIG5vZGVzZXRMaW5raW5nRm4oXG4gIC8qIGFuZ3VsYXIuU2NvcGUgKi8gc2NvcGUsXG4gIC8qIE5vZGVMaXN0ICovIG5vZGVMaXN0LFxuICAvKiBFbGVtZW50ICovIHJvb3RFbGVtZW50LFxuICAvKiBmdW5jdGlvbihGdW5jdGlvbikgKi8gYm91bmRUcmFuc2NsdWRlRm5cbikge31cblxuZnVuY3Rpb24gZGlyZWN0aXZlTGlua2luZ0ZuKFxuICAvKiBub2Rlc2V0TGlua2luZ0ZuICovIG5vZGVzZXRMaW5raW5nRm4sXG4gIC8qIGFuZ3VsYXIuU2NvcGUgKi8gc2NvcGUsXG4gIC8qIE5vZGUgKi8gbm9kZSxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIHRva2VuRGlmZmVyZW5jZShzdHIxLCBzdHIyKSB7XG4gIHZhciB2YWx1ZXMgPSAnJyxcbiAgICAgIHRva2VuczEgPSBzdHIxLnNwbGl0KC9cXHMrLyksXG4gICAgICB0b2tlbnMyID0gc3RyMi5zcGxpdCgvXFxzKy8pO1xuXG4gIG91dGVyOlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMxW2ldO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKHRva2VuID09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xuICAgIH1cbiAgICB2YWx1ZXMgKz0gKHZhbHVlcy5sZW5ndGggPiAwID8gJyAnIDogJycpICsgdG9rZW47XG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ29tbWVudHMoanFOb2Rlcykge1xuICBqcU5vZGVzID0ganFMaXRlKGpxTm9kZXMpO1xuICB2YXIgaSA9IGpxTm9kZXMubGVuZ3RoO1xuXG4gIGlmIChpIDw9IDEpIHtcbiAgICByZXR1cm4ganFOb2RlcztcbiAgfVxuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIgbm9kZSA9IGpxTm9kZXNbaV07XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XG4gICAgICBzcGxpY2UuY2FsbChqcU5vZGVzLCBpLCAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGpxTm9kZXM7XG59XG5cbnZhciAkY29udHJvbGxlck1pbkVyciA9IG1pbkVycignJGNvbnRyb2xsZXInKTtcblxuXG52YXIgQ05UUkxfUkVHID0gL14oXFxTKykoXFxzK2FzXFxzKyhbXFx3JF0rKSk/JC87XG5mdW5jdGlvbiBpZGVudGlmaWVyRm9yQ29udHJvbGxlcihjb250cm9sbGVyLCBpZGVudCkge1xuICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSByZXR1cm4gaWRlbnQ7XG4gIGlmIChpc1N0cmluZyhjb250cm9sbGVyKSkge1xuICAgIHZhciBtYXRjaCA9IENOVFJMX1JFRy5leGVjKGNvbnRyb2xsZXIpO1xuICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoWzNdO1xuICB9XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIHtAbGluayBuZy4kY29udHJvbGxlciAkY29udHJvbGxlciBzZXJ2aWNlfSBpcyB1c2VkIGJ5IEFuZ3VsYXIgdG8gY3JlYXRlIG5ld1xuICogY29udHJvbGxlcnMuXG4gKlxuICogVGhpcyBwcm92aWRlciBhbGxvd3MgY29udHJvbGxlciByZWdpc3RyYXRpb24gdmlhIHRoZVxuICoge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgcmVnaXN0ZXJ9IG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gJENvbnRyb2xsZXJQcm92aWRlcigpIHtcbiAgdmFyIGNvbnRyb2xsZXJzID0ge30sXG4gICAgICBnbG9iYWxzID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNoYXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQ29udHJvbGxlciBuYW1lIHRvIGNoZWNrLlxuICAgKi9cbiAgdGhpcy5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIGNvbnRyb2xsZXJzLmhhc093blByb3BlcnR5KG5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIENvbnRyb2xsZXIgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb250cm9sbGVycyB3aGVyZSB0aGUga2V5cyBhcmVcbiAgICogICAgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZuIChvcHRpb25hbGx5IGRlY29yYXRlZCB3aXRoIERJXG4gICAqICAgIGFubm90YXRpb25zIGluIHRoZSBhcnJheSBub3RhdGlvbikuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29udHJvbGxlcicpO1xuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgZXh0ZW5kKGNvbnRyb2xsZXJzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udHJvbGxlcnNbbmFtZV0gPSBjb25zdHJ1Y3RvcjtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHNcbiAgICogQGRlc2NyaXB0aW9uIElmIGNhbGxlZCwgYWxsb3dzIGAkY29udHJvbGxlcmAgdG8gZmluZCBjb250cm9sbGVyIGNvbnN0cnVjdG9ycyBvbiBgd2luZG93YFxuICAgKi9cbiAgdGhpcy5hbGxvd0dsb2JhbHMgPSBmdW5jdGlvbigpIHtcbiAgICBnbG9iYWxzID0gdHJ1ZTtcbiAgfTtcblxuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkaW5qZWN0b3IsICR3aW5kb3cpIHtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGNvbnRyb2xsZXJcbiAgICAgKiBAcmVxdWlyZXMgJGluamVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gY29uc3RydWN0b3IgSWYgY2FsbGVkIHdpdGggYSBmdW5jdGlvbiB0aGVuIGl0J3MgY29uc2lkZXJlZCB0byBiZSB0aGVcbiAgICAgKiAgICBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBPdGhlcndpc2UgaXQncyBjb25zaWRlcmVkIHRvIGJlIGEgc3RyaW5nIHdoaWNoIGlzIHVzZWRcbiAgICAgKiAgICB0byByZXRyaWV2ZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciB1c2luZyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxuICAgICAqXG4gICAgICogICAgKiBjaGVjayBpZiBhIGNvbnRyb2xsZXIgd2l0aCBnaXZlbiBuYW1lIGlzIHJlZ2lzdGVyZWQgdmlhIGAkY29udHJvbGxlclByb3ZpZGVyYFxuICAgICAqICAgICogY2hlY2sgaWYgZXZhbHVhdGluZyB0aGUgc3RyaW5nIG9uIHRoZSBjdXJyZW50IHNjb3BlIHJldHVybnMgYSBjb25zdHJ1Y3RvclxuICAgICAqICAgICogaWYgJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMsIGNoZWNrIGB3aW5kb3dbY29uc3RydWN0b3JdYCBvbiB0aGUgZ2xvYmFsXG4gICAgICogICAgICBgd2luZG93YCBvYmplY3QgKG5vdCByZWNvbW1lbmRlZClcbiAgICAgKlxuICAgICAqICAgIFRoZSBzdHJpbmcgY2FuIHVzZSB0aGUgYGNvbnRyb2xsZXIgYXMgcHJvcGVydHlgIHN5bnRheCwgd2hlcmUgdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2UgaXMgcHVibGlzaGVkXG4gICAgICogICAgYXMgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSBvbiB0aGUgYHNjb3BlYDsgdGhlIGBzY29wZWAgbXVzdCBiZSBpbmplY3RlZCBpbnRvIGBsb2NhbHNgIHBhcmFtIGZvciB0aGlzXG4gICAgICogICAgdG8gd29yayBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYWxzIEluamVjdGlvbiBsb2NhbHMgZm9yIENvbnRyb2xsZXIuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBJbnN0YW5jZSBvZiBnaXZlbiBjb250cm9sbGVyLlxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogYCRjb250cm9sbGVyYCBzZXJ2aWNlIGlzIHJlc3BvbnNpYmxlIGZvciBpbnN0YW50aWF0aW5nIGNvbnRyb2xsZXJzLlxuICAgICAqXG4gICAgICogSXQncyBqdXN0IGEgc2ltcGxlIGNhbGwgdG8ge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIGJ1dCBleHRyYWN0ZWQgaW50b1xuICAgICAqIGEgc2VydmljZSwgc28gdGhhdCBvbmUgY2FuIG92ZXJyaWRlIHRoaXMgc2VydmljZSB3aXRoIFtCQyB2ZXJzaW9uXShodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNjQ5Nzg4KS5cbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gJGNvbnRyb2xsZXIoZXhwcmVzc2lvbiwgbG9jYWxzLCBsYXRlciwgaWRlbnQpIHtcbiAgICAgIC8vIFBSSVZBVEUgQVBJOlxuICAgICAgLy8gICBwYXJhbSBgbGF0ZXJgIC0tLSBpbmRpY2F0ZXMgdGhhdCB0aGUgY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGlzIGludm9rZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBJZiB0cnVlLCAkY29udHJvbGxlciB3aWxsIGFsbG9jYXRlIHRoZSBvYmplY3Qgd2l0aCB0aGUgY29ycmVjdFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwcm90b3R5cGUgY2hhaW4sIGJ1dCB3aWxsIG5vdCBpbnZva2UgdGhlIGNvbnRyb2xsZXIgdW50aWwgYSByZXR1cm5lZFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayBpcyBpbnZva2VkLlxuICAgICAgLy8gICBwYXJhbSBgaWRlbnRgIC0tLSBBbiBvcHRpb25hbCBsYWJlbCB3aGljaCBvdmVycmlkZXMgdGhlIGxhYmVsIHBhcnNlZCBmcm9tIHRoZSBjb250cm9sbGVyXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24sIGlmIGFueS5cbiAgICAgIHZhciBpbnN0YW5jZSwgbWF0Y2gsIGNvbnN0cnVjdG9yLCBpZGVudGlmaWVyO1xuICAgICAgbGF0ZXIgPSBsYXRlciA9PT0gdHJ1ZTtcbiAgICAgIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHtcbiAgICAgICAgaWRlbnRpZmllciA9IGlkZW50O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNTdHJpbmcoZXhwcmVzc2lvbikpIHtcbiAgICAgICAgbWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKENOVFJMX1JFRyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICB0aHJvdyAkY29udHJvbGxlck1pbkVycignY3RybGZtdCcsXG4gICAgICAgICAgICBcIkJhZGx5IGZvcm1lZCBjb250cm9sbGVyIHN0cmluZyAnezB9Jy4gXCIgK1xuICAgICAgICAgICAgXCJNdXN0IG1hdGNoIGBfX25hbWVfXyBhcyBfX2lkX19gIG9yIGBfX25hbWVfX2AuXCIsIGV4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0cnVjdG9yID0gbWF0Y2hbMV0sXG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyIHx8IG1hdGNoWzNdO1xuICAgICAgICBleHByZXNzaW9uID0gY29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkoY29uc3RydWN0b3IpXG4gICAgICAgICAgICA/IGNvbnRyb2xsZXJzW2NvbnN0cnVjdG9yXVxuICAgICAgICAgICAgOiBnZXR0ZXIobG9jYWxzLiRzY29wZSwgY29uc3RydWN0b3IsIHRydWUpIHx8XG4gICAgICAgICAgICAgICAgKGdsb2JhbHMgPyBnZXR0ZXIoJHdpbmRvdywgY29uc3RydWN0b3IsIHRydWUpIDogdW5kZWZpbmVkKTtcblxuICAgICAgICBhc3NlcnRBcmdGbihleHByZXNzaW9uLCBjb25zdHJ1Y3RvciwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXRlcikge1xuICAgICAgICAvLyBJbnN0YW50aWF0ZSBjb250cm9sbGVyIGxhdGVyOlxuICAgICAgICAvLyBUaGlzIG1hY2hpbmVyeSBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgb2JqZWN0IGJlZm9yZSBjYWxsaW5nIHRoZVxuICAgICAgICAvLyBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXRzZWxmLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGFsbG93cyBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVyIGJlZm9yZSB0aGUgY29uc3RydWN0b3IgaXNcbiAgICAgICAgLy8gaW52b2tlZC4gUHJpbWFyaWx5LCB0aGlzIGlzIHVzZWQgZm9yIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgaW4gJGNvbXBpbGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZmVhdHVyZSBpcyBub3QgaW50ZW5kZWQgZm9yIHVzZSBieSBhcHBsaWNhdGlvbnMsIGFuZCBpcyB0aHVzIG5vdCBkb2N1bWVudGVkXG4gICAgICAgIC8vIHB1YmxpY2x5LlxuICAgICAgICAvLyBPYmplY3QgY3JlYXRpb246IGh0dHA6Ly9qc3BlcmYuY29tL2NyZWF0ZS1jb25zdHJ1Y3Rvci8yXG4gICAgICAgIHZhciBjb250cm9sbGVyUHJvdG90eXBlID0gKGlzQXJyYXkoZXhwcmVzc2lvbikgP1xuICAgICAgICAgIGV4cHJlc3Npb25bZXhwcmVzc2lvbi5sZW5ndGggLSAxXSA6IGV4cHJlc3Npb24pLnByb3RvdHlwZTtcbiAgICAgICAgaW5zdGFuY2UgPSBPYmplY3QuY3JlYXRlKGNvbnRyb2xsZXJQcm90b3R5cGUgfHwgbnVsbCk7XG5cbiAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5zdGFudGlhdGU7XG4gICAgICAgIHJldHVybiBpbnN0YW50aWF0ZSA9IGV4dGVuZChmdW5jdGlvbiAkY29udHJvbGxlckluaXQoKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9ICRpbmplY3Rvci5pbnZva2UoZXhwcmVzc2lvbiwgaW5zdGFuY2UsIGxvY2FscywgY29uc3RydWN0b3IpO1xuICAgICAgICAgIGlmIChyZXN1bHQgIT09IGluc3RhbmNlICYmIChpc09iamVjdChyZXN1bHQpIHx8IGlzRnVuY3Rpb24ocmVzdWx0KSkpIHtcbiAgICAgICAgICAgIGluc3RhbmNlID0gcmVzdWx0O1xuICAgICAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgLy8gSWYgcmVzdWx0IGNoYW5nZWQsIHJlLWFzc2lnbiBjb250cm9sbGVyQXMgdmFsdWUgdG8gc2NvcGUuXG4gICAgICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGluc3RhbmNlID0gJGluamVjdG9yLmluc3RhbnRpYXRlKGV4cHJlc3Npb24sIGxvY2FscywgY29uc3RydWN0b3IpO1xuXG4gICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBuYW1lKSB7XG4gICAgICBpZiAoIShsb2NhbHMgJiYgaXNPYmplY3QobG9jYWxzLiRzY29wZSkpKSB7XG4gICAgICAgIHRocm93IG1pbkVycignJGNvbnRyb2xsZXInKSgnbm9zY3AnLFxuICAgICAgICAgIFwiQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyICd7MH0nIGFzICd7MX0nISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC5cIixcbiAgICAgICAgICBuYW1lLCBpZGVudGlmaWVyKTtcbiAgICAgIH1cblxuICAgICAgbG9jYWxzLiRzY29wZVtpZGVudGlmaWVyXSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRkb2N1bWVudFxuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEge0BsaW5rIGFuZ3VsYXIuZWxlbWVudCBqUXVlcnkgb3IganFMaXRlfSB3cmFwcGVyIGZvciB0aGUgYnJvd3NlcidzIGB3aW5kb3cuZG9jdW1lbnRgIG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiZG9jdW1lbnRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwPiRkb2N1bWVudCB0aXRsZTogPGIgbmctYmluZD1cInRpdGxlXCI+PC9iPjwvcD5cbiAgICAgICAgIDxwPndpbmRvdy5kb2N1bWVudCB0aXRsZTogPGIgbmctYmluZD1cIndpbmRvd1RpdGxlXCI+PC9iPjwvcD5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2RvY3VtZW50RXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJHNjb3BlLCAkZG9jdW1lbnQpIHtcbiAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gJGRvY3VtZW50WzBdLnRpdGxlO1xuICAgICAgICAgICAkc2NvcGUud2luZG93VGl0bGUgPSBhbmd1bGFyLmVsZW1lbnQod2luZG93LmRvY3VtZW50KVswXS50aXRsZTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkRG9jdW1lbnRQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24od2luZG93KSB7XG4gICAgcmV0dXJuIGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQpO1xuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGV4Y2VwdGlvbkhhbmRsZXJcbiAqIEByZXF1aXJlcyBuZy4kbG9nXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbnkgdW5jYXVnaHQgZXhjZXB0aW9uIGluIGFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGVsZWdhdGVkIHRvIHRoaXMgc2VydmljZS5cbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNpbXBseSBkZWxlZ2F0ZXMgdG8gYCRsb2cuZXJyb3JgIHdoaWNoIGxvZ3MgaXQgaW50b1xuICogdGhlIGJyb3dzZXIgY29uc29sZS5cbiAqXG4gKiBJbiB1bml0IHRlc3RzLCBpZiBgYW5ndWxhci1tb2Nrcy5qc2AgaXMgbG9hZGVkLCB0aGlzIHNlcnZpY2UgaXMgb3ZlcnJpZGRlbiBieVxuICoge0BsaW5rIG5nTW9jay4kZXhjZXB0aW9uSGFuZGxlciBtb2NrICRleGNlcHRpb25IYW5kbGVyfSB3aGljaCBhaWRzIGluIHRlc3RpbmcuXG4gKlxuICogIyMgRXhhbXBsZTpcbiAqXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyB3aWxsIG92ZXJ3cml0ZSB0aGUgZGVmYXVsdCBgJGV4Y2VwdGlvbkhhbmRsZXJgIGluIG9yZGVyIHRvIChhKSBsb2cgdW5jYXVnaHRcbiAqIGVycm9ycyB0byB0aGUgYmFja2VuZCBmb3IgbGF0ZXIgaW5zcGVjdGlvbiBieSB0aGUgZGV2ZWxvcGVycyBhbmQgKGIpIHRvIHVzZSBgJGxvZy53YXJuKClgIGluc3RlYWRcbiAqIG9mIGAkbG9nLmVycm9yKClgLlxuICpcbiAqIGBgYGpzXG4gKiAgIGFuZ3VsYXIuXG4gKiAgICAgbW9kdWxlKCdleGNlcHRpb25PdmVyd3JpdGUnLCBbXSkuXG4gKiAgICAgZmFjdG9yeSgnJGV4Y2VwdGlvbkhhbmRsZXInLCBbJyRsb2cnLCAnbG9nRXJyb3JzVG9CYWNrZW5kJywgZnVuY3Rpb24oJGxvZywgbG9nRXJyb3JzVG9CYWNrZW5kKSB7XG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24gbXlFeGNlcHRpb25IYW5kbGVyKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAqICAgICAgICAgbG9nRXJyb3JzVG9CYWNrZW5kKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICogICAgICAgICAkbG9nLndhcm4oZXhjZXB0aW9uLCBjYXVzZSk7XG4gKiAgICAgICB9O1xuICogICAgIH1dKTtcbiAqIGBgYFxuICpcbiAqIDxociAvPlxuICogTm90ZSwgdGhhdCBjb2RlIGV4ZWN1dGVkIGluIGV2ZW50LWxpc3RlbmVycyAoZXZlbiB0aG9zZSByZWdpc3RlcmVkIHVzaW5nIGpxTGl0ZSdzIGBvbmAvYGJpbmRgXG4gKiBtZXRob2RzKSBkb2VzIG5vdCBkZWxlZ2F0ZSBleGNlcHRpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9XG4gKiAodW5sZXNzIGV4ZWN1dGVkIGR1cmluZyBhIGRpZ2VzdCkuXG4gKlxuICogSWYgeW91IHdpc2gsIHlvdSBjYW4gbWFudWFsbHkgZGVsZWdhdGUgZXhjZXB0aW9ucywgZS5nLlxuICogYHRyeSB7IC4uLiB9IGNhdGNoKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH1gXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXhjZXB0aW9uIEV4Y2VwdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxuICogQHBhcmFtIHtzdHJpbmc9fSBjYXVzZSBPcHRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29udGV4dCBpbiB3aGljaFxuICogICAgICAgdGhlIGVycm9yIHdhcyB0aHJvd24uXG4gKlxuICovXG5mdW5jdGlvbiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRsb2cnLCBmdW5jdGlvbigkbG9nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAgICAgICRsb2cuZXJyb3IuYXBwbHkoJGxvZywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XTtcbn1cblxudmFyICQkRm9yY2VSZWZsb3dQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLiRnZXQgPSBbJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRkb2N1bWVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbihkb21Ob2RlKSB7XG4gICAgICAvL3RoZSBsaW5lIGJlbG93IHdpbGwgZm9yY2UgdGhlIGJyb3dzZXIgdG8gcGVyZm9ybSBhIHJlcGFpbnQgc29cbiAgICAgIC8vdGhhdCBhbGwgdGhlIGFuaW1hdGVkIGVsZW1lbnRzIHdpdGhpbiB0aGUgYW5pbWF0aW9uIGZyYW1lIHdpbGxcbiAgICAgIC8vYmUgcHJvcGVybHkgdXBkYXRlZCBhbmQgZHJhd24gb24gc2NyZWVuLiBUaGlzIGlzIHJlcXVpcmVkIHRvXG4gICAgICAvL2Vuc3VyZSB0aGF0IHRoZSBwcmVwYXJhdGlvbiBhbmltYXRpb24gaXMgcHJvcGVybHkgZmx1c2hlZCBzbyB0aGF0XG4gICAgICAvL3RoZSBhY3RpdmUgc3RhdGUgcGlja3MgdXAgZnJvbSB0aGVyZS4gRE8gTk9UIFJFTU9WRSBUSElTIExJTkUuXG4gICAgICAvL0RPIE5PVCBPUFRJTUlaRSBUSElTIExJTkUuIFRIRSBNSU5JRklFUiBXSUxMIFJFTU9WRSBJVCBPVEhFUldJU0UgV0hJQ0hcbiAgICAgIC8vV0lMTCBSRVNVTFQgSU4gQU4gVU5QUkVESUNUQUJMRSBCVUcgVEhBVCBJUyBWRVJZIEhBUkQgVE8gVFJBQ0sgRE9XTiBBTkRcbiAgICAgIC8vV0lMTCBUQUtFIFlFQVJTIEFXQVkgRlJPTSBZT1VSIExJRkUuXG4gICAgICBpZiAoZG9tTm9kZSkge1xuICAgICAgICBpZiAoIWRvbU5vZGUubm9kZVR5cGUgJiYgZG9tTm9kZSBpbnN0YW5jZW9mIGpxTGl0ZSkge1xuICAgICAgICAgIGRvbU5vZGUgPSBkb21Ob2RlWzBdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb21Ob2RlID0gJGRvY3VtZW50WzBdLmJvZHk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9tTm9kZS5vZmZzZXRXaWR0aCArIDE7XG4gICAgfTtcbiAgfV07XG59O1xuXG52YXIgQVBQTElDQVRJT05fSlNPTiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbnZhciBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsnQ29udGVudC1UeXBlJzogQVBQTElDQVRJT05fSlNPTiArICc7Y2hhcnNldD11dGYtOCd9O1xudmFyIEpTT05fU1RBUlQgPSAvXlxcW3xeXFx7KD8hXFx7KS87XG52YXIgSlNPTl9FTkRTID0ge1xuICAnWyc6IC9dJC8sXG4gICd7JzogL30kL1xufTtcbnZhciBKU09OX1BST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xudmFyICRodHRwTWluRXJyID0gbWluRXJyKCckaHR0cCcpO1xudmFyICRodHRwTWluRXJyTGVnYWN5Rm4gPSBmdW5jdGlvbihtZXRob2QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRocm93ICRodHRwTWluRXJyKCdsZWdhY3knLCAnVGhlIG1ldGhvZCBgezB9YCBvbiB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGAkaHR0cGAgaGFzIGJlZW4gZGlzYWJsZWQuJywgbWV0aG9kKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVZhbHVlKHYpIHtcbiAgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgcmV0dXJuIGlzRGF0ZSh2KSA/IHYudG9JU09TdHJpbmcoKSA6IHRvSnNvbih2KTtcbiAgfVxuICByZXR1cm4gdjtcbn1cblxuXG5mdW5jdGlvbiAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGh0dHBQYXJhbVNlcmlhbGl6ZXJcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmF1bHQge0BsaW5rICRodHRwIGAkaHR0cGB9IHBhcmFtcyBzZXJpYWxpemVyIHRoYXQgY29udmVydHMgb2JqZWN0cyB0byBzdHJpbmdzXG4gICAqIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIHJ1bGVzOlxuICAgKlxuICAgKiAqIGB7J2Zvbyc6ICdiYXInfWAgcmVzdWx0cyBpbiBgZm9vPWJhcmBcbiAgICogKiBgeydmb28nOiBEYXRlLm5vdygpfWAgcmVzdWx0cyBpbiBgZm9vPTIwMTUtMDQtMDFUMDklM0E1MCUzQTQ5LjI2MlpgIChgdG9JU09TdHJpbmcoKWAgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYSBEYXRlIG9iamVjdClcbiAgICogKiBgeydmb28nOiBbJ2JhcicsICdiYXonXX1gIHJlc3VsdHMgaW4gYGZvbz1iYXImZm9vPWJhemAgKHJlcGVhdGVkIGtleSBmb3IgZWFjaCBhcnJheSBlbGVtZW50KVxuICAgKiAqIGB7J2Zvbyc6IHsnYmFyJzonYmF6J319YCByZXN1bHRzIGluIGBmb289JTdCJTIyYmFyJTIyJTNBJTIyYmF6JTIyJTdEYCAoc3RyaW5naWZpZWQgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0KVxuICAgKlxuICAgKiBOb3RlIHRoYXQgc2VyaWFsaXplciB3aWxsIHNvcnQgdGhlIHJlcXVlc3QgcGFyYW1ldGVycyBhbHBoYWJldGljYWxseS5cbiAgICogKi9cblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmdQYXJhbVNlcmlhbGl6ZXIocGFyYW1zKSB7XG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSAgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEFsdGVybmF0aXZlIHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGZvbGxvd3NcbiAgICogalF1ZXJ5J3MgW2BwYXJhbSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pxdWVyeS5wYXJhbS8pIG1ldGhvZCBsb2dpYy5cbiAgICogVGhlIHNlcmlhbGl6ZXIgd2lsbCBhbHNvIHNvcnQgdGhlIHBhcmFtcyBhbHBoYWJldGljYWxseS5cbiAgICpcbiAgICogVG8gdXNlIGl0IGZvciBzZXJpYWxpemluZyBgJGh0dHBgIHJlcXVlc3QgcGFyYW1ldGVycywgc2V0IGl0IGFzIHRoZSBgcGFyYW1TZXJpYWxpemVyYCBwcm9wZXJ0eTpcbiAgICpcbiAgICogYGBganNcbiAgICogJGh0dHAoe1xuICAgKiAgIHVybDogbXlVcmwsXG4gICAqICAgbWV0aG9kOiAnR0VUJyxcbiAgICogICBwYXJhbXM6IG15UGFyYW1zLFxuICAgKiAgIHBhcmFtU2VyaWFsaXplcjogJyRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlJ1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGl0IGFzIHRoZSBkZWZhdWx0IGBwYXJhbVNlcmlhbGl6ZXJgIGluIHRoZVxuICAgKiB7QGxpbmsgJGh0dHBQcm92aWRlciNkZWZhdWx0cyBgJGh0dHBQcm92aWRlcmB9LlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gaW5qZWN0IHRoZSBzZXJpYWxpemVyIGFuZCB1c2UgaXQgZXhwbGljaXRseSwgZm9yIGV4YW1wbGUgdG8gc2VyaWFsaXplXG4gICAqIGZvcm0gZGF0YSBmb3Igc3VibWlzc2lvbjpcbiAgICpcbiAgICogYGBganNcbiAgICogLmNvbnRyb2xsZXIoZnVuY3Rpb24oJGh0dHAsICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlKSB7XG4gICAqICAgLy8uLi5cbiAgICpcbiAgICogICAkaHR0cCh7XG4gICAqICAgICB1cmw6IG15VXJsLFxuICAgKiAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAqICAgICBkYXRhOiAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZShteURhdGEpLFxuICAgKiAgICAgaGVhZGVyczoge1xuICAgKiAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICogICAgIH1cbiAgICogICB9KTtcbiAgICpcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiAqL1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24galF1ZXJ5TGlrZVBhcmFtU2VyaWFsaXplcihwYXJhbXMpIHtcbiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gJyc7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgIHNlcmlhbGl6ZShwYXJhbXMsICcnLCB0cnVlKTtcbiAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh0b1NlcmlhbGl6ZSwgcHJlZml4LCB0b3BMZXZlbCkge1xuICAgICAgICBpZiAodG9TZXJpYWxpemUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodG9TZXJpYWxpemUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHRvU2VyaWFsaXplKSkge1xuICAgICAgICAgIGZvckVhY2godG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBwcmVmaXggKyAnWycgKyAoaXNPYmplY3QodmFsdWUpID8gaW5kZXggOiAnJykgKyAnXScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRvU2VyaWFsaXplKSAmJiAhaXNEYXRlKHRvU2VyaWFsaXplKSkge1xuICAgICAgICAgIGZvckVhY2hTb3J0ZWQodG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICtcbiAgICAgICAgICAgICAgICAodG9wTGV2ZWwgPyAnJyA6ICdbJykgK1xuICAgICAgICAgICAgICAgIGtleSArXG4gICAgICAgICAgICAgICAgKHRvcExldmVsID8gJycgOiAnXScpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KHByZWZpeCkgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh0b1NlcmlhbGl6ZSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0oZGF0YSwgaGVhZGVycykge1xuICBpZiAoaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAvLyBTdHJpcCBqc29uIHZ1bG5lcmFiaWxpdHkgcHJvdGVjdGlvbiBwcmVmaXggYW5kIHRyaW0gd2hpdGVzcGFjZVxuICAgIHZhciB0ZW1wRGF0YSA9IGRhdGEucmVwbGFjZShKU09OX1BST1RFQ1RJT05fUFJFRklYLCAnJykudHJpbSgpO1xuXG4gICAgaWYgKHRlbXBEYXRhKSB7XG4gICAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzKCdDb250ZW50LVR5cGUnKTtcbiAgICAgIGlmICgoY29udGVudFR5cGUgJiYgKGNvbnRlbnRUeXBlLmluZGV4T2YoQVBQTElDQVRJT05fSlNPTikgPT09IDApKSB8fCBpc0pzb25MaWtlKHRlbXBEYXRhKSkge1xuICAgICAgICBkYXRhID0gZnJvbUpzb24odGVtcERhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBpc0pzb25MaWtlKHN0cikge1xuICAgIHZhciBqc29uU3RhcnQgPSBzdHIubWF0Y2goSlNPTl9TVEFSVCk7XG4gICAgcmV0dXJuIGpzb25TdGFydCAmJiBKU09OX0VORFNbanNvblN0YXJ0WzBdXS50ZXN0KHN0cik7XG59XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGtleSB2YWx1ZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVhZGVycyBSYXcgaGVhZGVycyBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge09iamVjdH0gUGFyc2VkIGhlYWRlcnMgYXMga2V5IHZhbHVlIG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0gY3JlYXRlTWFwKCksIGk7XG5cbiAgZnVuY3Rpb24gZmlsbEluUGFyc2VkKGtleSwgdmFsKSB7XG4gICAgaWYgKGtleSkge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoaGVhZGVycykpIHtcbiAgICBmb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKHRyaW0obGluZS5zdWJzdHIoMCwgaSkpKSwgdHJpbShsaW5lLnN1YnN0cihpICsgMSkpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChoZWFkZXJzKSkge1xuICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyVmFsLCBoZWFkZXJLZXkpIHtcbiAgICAgIGZpbGxJblBhcnNlZChsb3dlcmNhc2UoaGVhZGVyS2V5KSwgdHJpbShoZWFkZXJWYWwpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gcGFyc2VkIGhlYWRlcnMuXG4gKlxuICogSGVhZGVycyBhcmUgbGF6eSBwYXJzZWQgd2hlbiBmaXJzdCByZXF1ZXN0ZWQuXG4gKiBAc2VlIHBhcnNlSGVhZGVyc1xuICpcbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBoZWFkZXJzIEhlYWRlcnMgdG8gcHJvdmlkZSBhY2Nlc3MgdG8uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nPSl9IFJldHVybnMgYSBnZXR0ZXIgZnVuY3Rpb24gd2hpY2ggaWYgY2FsbGVkIHdpdGg6XG4gKlxuICogICAtIGlmIGNhbGxlZCB3aXRoIHNpbmdsZSBhbiBhcmd1bWVudCByZXR1cm5zIGEgc2luZ2xlIGhlYWRlciB2YWx1ZSBvciBudWxsXG4gKiAgIC0gaWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIGhlYWRlcnMuXG4gKi9cbmZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycykge1xuICB2YXIgaGVhZGVyc09iajtcblxuICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgIGlmICghaGVhZGVyc09iaikgaGVhZGVyc09iaiA9ICBwYXJzZUhlYWRlcnMoaGVhZGVycyk7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gaGVhZGVyc09ialtsb3dlcmNhc2UobmFtZSldO1xuICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzT2JqO1xuICB9O1xufVxuXG5cbi8qKlxuICogQ2hhaW4gYWxsIGdpdmVuIGZ1bmN0aW9uc1xuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgYm90aCByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1pbmdcbiAqXG4gKiBAcGFyYW0geyp9IGRhdGEgRGF0YSB0byB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZz0pfSBoZWFkZXJzIEhUVFAgaGVhZGVycyBnZXR0ZXIgZm4uXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuXG4gKiBAcmV0dXJucyB7Kn0gVHJhbnNmb3JtZWQgZGF0YS5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBzdGF0dXMsIGZucykge1xuICBpZiAoaXNGdW5jdGlvbihmbnMpKSB7XG4gICAgcmV0dXJuIGZucyhkYXRhLCBoZWFkZXJzLCBzdGF0dXMpO1xuICB9XG5cbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5cbmZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpIHtcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSBgJGh0dHBQcm92aWRlcmAgdG8gY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IHNlcnZpY2UuXG4gKiAqL1xuZnVuY3Rpb24gJEh0dHBQcm92aWRlcigpIHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gcmVxdWVzdHMuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMuY2FjaGVgKiogLSB7Ym9vbGVhbnxPYmplY3R9IC0gQSBib29sZWFuIHZhbHVlIG9yIG9iamVjdCBjcmVhdGVkIHdpdGhcbiAgICoge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSB0byBlbmFibGUgb3IgZGlzYWJsZSBjYWNoaW5nIG9mIEhUVFAgcmVzcG9uc2VzXG4gICAqIGJ5IGRlZmF1bHQuIFNlZSB7QGxpbmsgJGh0dHAjY2FjaGluZyAkaHR0cCBDYWNoaW5nfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmQ29va2llTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBjb29raWUgY29udGFpbmluZyB0aGUgWFNSRiB0b2tlbi5cbiAgICogRGVmYXVsdHMgdmFsdWUgaXMgYCdYU1JGLVRPS0VOJ2AuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMueHNyZkhlYWRlck5hbWVgKiogLSB7c3RyaW5nfSAtIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGVcbiAgICogWFNSRiB0b2tlbi4gRGVmYXVsdHMgdmFsdWUgaXMgYCdYLVhTUkYtVE9LRU4nYC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5oZWFkZXJzYCoqIC0ge09iamVjdH0gLSBEZWZhdWx0IGhlYWRlcnMgZm9yIGFsbCAkaHR0cCByZXF1ZXN0cy5cbiAgICogUmVmZXIgdG8ge0BsaW5rIG5nLiRodHRwI3NldHRpbmctaHR0cC1oZWFkZXJzICRodHRwfSBmb3IgZG9jdW1lbnRhdGlvbiBvblxuICAgKiBzZXR0aW5nIGRlZmF1bHQgaGVhZGVycy5cbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5jb21tb25gKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wb3N0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucHV0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucGF0Y2hgKipcbiAgICpcbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXJgKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvblxuICAgKiAgdXNlZCB0byB0aGUgcHJlcGFyZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cbiAgICogIElmIHNwZWNpZmllZCBhcyBzdHJpbmcsIGl0IGlzIGludGVycHJldGVkIGFzIGEgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAgICogIERlZmF1bHRzIHRvIHtAbGluayBuZy4kaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn0uXG4gICAqXG4gICAqKi9cbiAgdmFyIGRlZmF1bHRzID0gdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAvLyB0cmFuc2Zvcm0gaW5jb21pbmcgcmVzcG9uc2UgZGF0YVxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBbZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybV0sXG5cbiAgICAvLyB0cmFuc2Zvcm0gb3V0Z29pbmcgcmVxdWVzdCBkYXRhXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBpc09iamVjdChkKSAmJiAhaXNGaWxlKGQpICYmICFpc0Jsb2IoZCkgJiYgIWlzRm9ybURhdGEoZCkgPyB0b0pzb24oZCkgOiBkO1xuICAgIH1dLFxuXG4gICAgLy8gZGVmYXVsdCBoZWFkZXJzXG4gICAgaGVhZGVyczoge1xuICAgICAgY29tbW9uOiB7XG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgICAgfSxcbiAgICAgIHBvc3Q6ICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLFxuICAgICAgcHV0OiAgICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiksXG4gICAgICBwYXRjaDogIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKVxuICAgIH0sXG5cbiAgICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICAgIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICAgIHBhcmFtU2VyaWFsaXplcjogJyRodHRwUGFyYW1TZXJpYWxpemVyJ1xuICB9O1xuXG4gIHZhciB1c2VBcHBseUFzeW5jID0gZmFsc2U7XG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjdXNlQXBwbHlBc3luY1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQ29uZmlndXJlICRodHRwIHNlcnZpY2UgdG8gY29tYmluZSBwcm9jZXNzaW5nIG9mIG11bHRpcGxlIGh0dHAgcmVzcG9uc2VzIHJlY2VpdmVkIGF0IGFyb3VuZFxuICAgKiB0aGUgc2FtZSB0aW1lIHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luYyAkcm9vdFNjb3BlLiRhcHBseUFzeW5jfS4gVGhpcyBjYW4gcmVzdWx0IGluXG4gICAqIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGltcHJvdmVtZW50IGZvciBiaWdnZXIgYXBwbGljYXRpb25zIHRoYXQgbWFrZSBtYW55IEhUVFAgcmVxdWVzdHNcbiAgICogY29uY3VycmVudGx5IChjb21tb24gZHVyaW5nIGFwcGxpY2F0aW9uIGJvb3RzdHJhcCkuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgd2hlbiByZXF1ZXN0cyBhcmUgbG9hZGVkLCB0aGV5IHdpbGwgc2NoZWR1bGUgYSBkZWZlcnJlZFxuICAgKiAgICBcImFwcGx5XCIgb24gdGhlIG5leHQgdGljaywgZ2l2aW5nIHRpbWUgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHMgaW4gYSByb3VnaGx5IH4xMG1zIHdpbmRvd1xuICAgKiAgICB0byBsb2FkIGFuZCBzaGFyZSB0aGUgc2FtZSBkaWdlc3QgY3ljbGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufE9iamVjdH0gSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlICRodHRwUHJvdmlkZXIgZm9yIGNoYWluaW5nLlxuICAgKiAgICBvdGhlcndpc2UsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICoqL1xuICB0aGlzLnVzZUFwcGx5QXN5bmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICB1c2VBcHBseUFzeW5jID0gISF2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdXNlQXBwbHlBc3luYztcbiAgfTtcblxuICB2YXIgdXNlTGVnYWN5UHJvbWlzZSA9IHRydWU7XG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjdXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENvbmZpZ3VyZSBgJGh0dHBgIHNlcnZpY2UgdG8gcmV0dXJuIHByb21pc2VzIHdpdGhvdXQgdGhlIHNob3J0aGFuZCBtZXRob2RzIGBzdWNjZXNzYCBhbmQgYGVycm9yYC5cbiAgICogVGhpcyBzaG91bGQgYmUgdXNlZCB0byBtYWtlIHN1cmUgdGhhdCBhcHBsaWNhdGlvbnMgd29yayB3aXRob3V0IHRoZXNlIG1ldGhvZHMuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIHRydWUuIElmIG5vIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiB0cnVlLCBgJGh0dHBgIHdpbGwgcmV0dXJuIGEgcHJvbWlzZSB3aXRoIHRoZSBkZXByZWNhdGVkIGxlZ2FjeSBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAgbWV0aG9kcy5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW58T2JqZWN0fSBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgJGh0dHBQcm92aWRlciBmb3IgY2hhaW5pbmcuXG4gICAqICAgIG90aGVyd2lzZSwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxuICAgKiovXG4gIHRoaXMudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICB1c2VMZWdhY3lQcm9taXNlID0gISF2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdXNlTGVnYWN5UHJvbWlzZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjaW50ZXJjZXB0b3JzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBBcnJheSBjb250YWluaW5nIHNlcnZpY2UgZmFjdG9yaWVzIGZvciBhbGwgc3luY2hyb25vdXMgb3IgYXN5bmNocm9ub3VzIHtAbGluayBuZy4kaHR0cCAkaHR0cH1cbiAgICogcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMuXG4gICAqXG4gICAqIFRoZXNlIHNlcnZpY2UgZmFjdG9yaWVzIGFyZSBvcmRlcmVkIGJ5IHJlcXVlc3QsIGkuZS4gdGhleSBhcmUgYXBwbGllZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbiAgICogYXJyYXksIG9uIHJlcXVlc3QsIGJ1dCByZXZlcnNlIG9yZGVyLCBvbiByZXNwb25zZS5cbiAgICpcbiAgICoge0BsaW5rIG5nLiRodHRwI2ludGVyY2VwdG9ycyBJbnRlcmNlcHRvcnMgZGV0YWlsZWQgaW5mb31cbiAgICoqL1xuICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJGh0dHBCYWNrZW5kJywgJyQkY29va2llUmVhZGVyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLFxuICAgICAgZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCAkJGNvb2tpZVJlYWRlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3Rvcikge1xuXG4gICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgdGhhdCBkZWZhdWx0IHBhcmFtIHNlcmlhbGl6ZXIgaXMgZXhwb3NlZCBhcyBhIGZ1bmN0aW9uXG4gICAgICovXG4gICAgZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA/XG4gICAgICAkaW5qZWN0b3IuZ2V0KGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcikgOiBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXI7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxuICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlXG4gICAgICogc2VydmVyIHJlcXVlc3QuXG4gICAgICovXG4gICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107XG5cbiAgICBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnkpIHtcbiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KVxuICAgICAgICAgID8gJGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSAkaHR0cFxuICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcbiAgICAgKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAgICogQHJlcXVpcmVzICRxXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGNvcmUgQW5ndWxhciBzZXJ2aWNlIHRoYXQgZmFjaWxpdGF0ZXMgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSByZW1vdGVcbiAgICAgKiBIVFRQIHNlcnZlcnMgdmlhIHRoZSBicm93c2VyJ3MgW1hNTEh0dHBSZXF1ZXN0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdClcbiAgICAgKiBvYmplY3Qgb3IgdmlhIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkuXG4gICAgICpcbiAgICAgKiBGb3IgdW5pdCB0ZXN0aW5nIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBgJGh0dHBgIHNlcnZpY2UsIHNlZVxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cbiAgICAgKlxuICAgICAqIEZvciBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgcGxlYXNlIGNoZWNrIG91dCB0aGUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlXG4gICAgICogJHJlc291cmNlfSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogVGhlICRodHRwIEFQSSBpcyBiYXNlZCBvbiB0aGUge0BsaW5rIG5nLiRxIGRlZmVycmVkL3Byb21pc2UgQVBJc30gZXhwb3NlZCBieVxuICAgICAqIHRoZSAkcSBzZXJ2aWNlLiBXaGlsZSBmb3Igc2ltcGxlIHVzYWdlIHBhdHRlcm5zIHRoaXMgZG9lc24ndCBtYXR0ZXIgbXVjaCwgZm9yIGFkdmFuY2VkIHVzYWdlXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIGZhbWlsaWFyaXplIHlvdXJzZWxmIHdpdGggdGhlc2UgQVBJcyBhbmQgdGhlIGd1YXJhbnRlZXMgdGhleSBwcm92aWRlLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBHZW5lcmFsIHVzYWdlXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50IOKAlCBhIHtAbGluayAkaHR0cCN1c2FnZSBjb25maWd1cmF0aW9uIG9iamVjdH0g4oCUXG4gICAgICogdGhhdCBpcyB1c2VkIHRvIGdlbmVyYXRlIGFuIEhUVFAgcmVxdWVzdCBhbmQgcmV0dXJucyAgYSB7QGxpbmsgbmcuJHEgcHJvbWlzZX0uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gU2ltcGxlIEdFVCByZXF1ZXN0IGV4YW1wbGU6XG4gICAgICogICAkaHR0cCh7XG4gICAgICogICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICogICAgIHVybDogJy9zb21lVXJsJ1xuICAgICAqICAgfSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XG4gICAgICogICAgICAgLy8gd2hlbiB0aGUgcmVzcG9uc2UgaXMgYXZhaWxhYmxlXG4gICAgICogICAgIH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAvLyBjYWxsZWQgYXN5bmNocm9ub3VzbHkgaWYgYW4gZXJyb3Igb2NjdXJzXG4gICAgICogICAgICAgLy8gb3Igc2VydmVyIHJldHVybnMgcmVzcG9uc2Ugd2l0aCBhbiBlcnJvciBzdGF0dXMuXG4gICAgICogICAgIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdGhlc2UgcHJvcGVydGllczpcbiAgICAgKlxuICAgICAqICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIFRoZSByZXNwb25zZSBib2R5IHRyYW5zZm9ybWVkIHdpdGggdGhlIHRyYW5zZm9ybVxuICAgICAqICAgICBmdW5jdGlvbnMuXG4gICAgICogICAtICoqc3RhdHVzKiog4oCTIGB7bnVtYmVyfWAg4oCTIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqICAgLSAqKmhlYWRlcnMqKiDigJMgYHtmdW5jdGlvbihbaGVhZGVyTmFtZV0pfWAg4oCTIEhlYWRlciBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICogICAtICoqY29uZmlnKiog4oCTIGB7T2JqZWN0fWAg4oCTIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0LlxuICAgICAqICAgLSAqKnN0YXR1c1RleHQqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBzdGF0dXMgdGV4dCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBBIHJlc3BvbnNlIHN0YXR1cyBjb2RlIGJldHdlZW4gMjAwIGFuZCAyOTkgaXMgY29uc2lkZXJlZCBhIHN1Y2Nlc3Mgc3RhdHVzIGFuZCB3aWxsIHJlc3VsdCBpblxuICAgICAqIHRoZSBzdWNjZXNzIGNhbGxiYWNrIGJlaW5nIGNhbGxlZC4gQW55IHJlc3BvbnNlIHN0YXR1cyBjb2RlIG91dHNpZGUgb2YgdGhhdCByYW5nZSBpc1xuICAgICAqIGNvbnNpZGVyZWQgYW4gZXJyb3Igc3RhdHVzIGFuZCB3aWxsIHJlc3VsdCBpbiB0aGUgZXJyb3IgY2FsbGJhY2sgYmVpbmcgY2FsbGVkLlxuICAgICAqIEFsc28sIHN0YXR1cyBjb2RlcyBsZXNzIHRoYW4gLTEgYXJlIG5vcm1hbGl6ZWQgdG8gemVyby4gLTEgdXN1YWxseSBtZWFucyB0aGUgcmVxdWVzdCB3YXNcbiAgICAgKiBhYm9ydGVkLCBlLmcuIHVzaW5nIGEgYGNvbmZpZy50aW1lb3V0YC5cbiAgICAgKiBOb3RlIHRoYXQgaWYgdGhlIHJlc3BvbnNlIGlzIGEgcmVkaXJlY3QsIFhNTEh0dHBSZXF1ZXN0IHdpbGwgdHJhbnNwYXJlbnRseSBmb2xsb3cgaXQsIG1lYW5pbmdcbiAgICAgKiB0aGF0IHRoZSBvdXRjb21lIChzdWNjZXNzIG9yIGVycm9yKSB3aWxsIGJlIGRldGVybWluZWQgYnkgdGhlIGZpbmFsIHJlc3BvbnNlIHN0YXR1cyBjb2RlLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBTaG9ydGN1dCBtZXRob2RzXG4gICAgICpcbiAgICAgKiBTaG9ydGN1dCBtZXRob2RzIGFyZSBhbHNvIGF2YWlsYWJsZS4gQWxsIHNob3J0Y3V0IG1ldGhvZHMgcmVxdWlyZSBwYXNzaW5nIGluIHRoZSBVUkwsIGFuZFxuICAgICAqIHJlcXVlc3QgZGF0YSBtdXN0IGJlIHBhc3NlZCBpbiBmb3IgUE9TVC9QVVQgcmVxdWVzdHMuIEFuIG9wdGlvbmFsIGNvbmZpZyBjYW4gYmUgcGFzc2VkIGFzIHRoZVxuICAgICAqIGxhc3QgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgJGh0dHAuZ2V0KCcvc29tZVVybCcsIGNvbmZpZykudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCBkYXRhLCBjb25maWcpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIENvbXBsZXRlIGxpc3Qgb2Ygc2hvcnRjdXQgbWV0aG9kczpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2dldCAkaHR0cC5nZXR9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjaGVhZCAkaHR0cC5oZWFkfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3Bvc3QgJGh0dHAucG9zdH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwdXQgJGh0dHAucHV0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2RlbGV0ZSAkaHR0cC5kZWxldGV9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjanNvbnAgJGh0dHAuanNvbnB9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcGF0Y2ggJGh0dHAucGF0Y2h9XG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIFdyaXRpbmcgVW5pdCBUZXN0cyB0aGF0IHVzZSAkaHR0cFxuICAgICAqIFdoZW4gdW5pdCB0ZXN0aW5nICh1c2luZyB7QGxpbmsgbmdNb2NrIG5nTW9ja30pLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbFxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kI2ZsdXNoICRodHRwQmFja2VuZC5mbHVzaCgpfSB0byBmbHVzaCBlYWNoIHBlbmRpbmdcbiAgICAgKiByZXF1ZXN0IHVzaW5nIHRyYWluZWQgcmVzcG9uc2VzLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogJGh0dHBCYWNrZW5kLmV4cGVjdEdFVCguLi4pO1xuICAgICAqICRodHRwLmdldCguLi4pO1xuICAgICAqICRodHRwQmFja2VuZC5mbHVzaCgpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgRGVwcmVjYXRpb24gTm90aWNlXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICAgICAqICAgVGhlIGAkaHR0cGAgbGVnYWN5IHByb21pc2UgbWV0aG9kcyBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuXG4gICAgICogICBVc2UgdGhlIHN0YW5kYXJkIGB0aGVuYCBtZXRob2QgaW5zdGVhZC5cbiAgICAgKiAgIElmIHtAbGluayAkaHR0cFByb3ZpZGVyI3VzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zIGAkaHR0cFByb3ZpZGVyLnVzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zYH0gaXMgc2V0IHRvXG4gICAgICogICBgZmFsc2VgIHRoZW4gdGhlc2UgbWV0aG9kcyB3aWxsIHRocm93IHtAbGluayAkaHR0cDpsZWdhY3kgYCRodHRwL2xlZ2FjeWB9IGVycm9yLlxuICAgICAqIDwvZGl2PlxuICAgICAqXG4gICAgICogIyMgU2V0dGluZyBIVFRQIEhlYWRlcnNcbiAgICAgKlxuICAgICAqIFRoZSAkaHR0cCBzZXJ2aWNlIHdpbGwgYXV0b21hdGljYWxseSBhZGQgY2VydGFpbiBIVFRQIGhlYWRlcnMgdG8gYWxsIHJlcXVlc3RzLiBUaGVzZSBkZWZhdWx0c1xuICAgICAqIGNhbiBiZSBmdWxseSBjb25maWd1cmVkIGJ5IGFjY2Vzc2luZyB0aGUgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVyc2AgY29uZmlndXJhdGlvblxuICAgICAqIG9iamVjdCwgd2hpY2ggY3VycmVudGx5IGNvbnRhaW5zIHRoaXMgZGVmYXVsdCBjb25maWd1cmF0aW9uOlxuICAgICAqXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAgKGhlYWRlcnMgdGhhdCBhcmUgY29tbW9uIGZvciBhbGwgcmVxdWVzdHMpOlxuICAgICAqICAgLSBgQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqIC8gKmBcbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMucG9zdGA6IChoZWFkZXIgZGVmYXVsdHMgZm9yIFBPU1QgcmVxdWVzdHMpXG4gICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnB1dGAgKGhlYWRlciBkZWZhdWx0cyBmb3IgUFVUIHJlcXVlc3RzKVxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqXG4gICAgICogVG8gYWRkIG9yIG92ZXJ3cml0ZSB0aGVzZSBkZWZhdWx0cywgc2ltcGx5IGFkZCBvciByZW1vdmUgYSBwcm9wZXJ0eSBmcm9tIHRoZXNlIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBvYmplY3RzLiBUbyBhZGQgaGVhZGVycyBmb3IgYW4gSFRUUCBtZXRob2Qgb3RoZXIgdGhhbiBQT1NUIG9yIFBVVCwgc2ltcGx5IGFkZCBhIG5ldyBvYmplY3RcbiAgICAgKiB3aXRoIHRoZSBsb3dlcmNhc2VkIEhUVFAgbWV0aG9kIG5hbWUgYXMgdGhlIGtleSwgZS5nLlxuICAgICAqIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0ID0geyAnTXktSGVhZGVyJyA6ICd2YWx1ZScgfWAuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxuICAgICAqIGZhc2hpb24uIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogbW9kdWxlLnJ1bihmdW5jdGlvbigkaHR0cCkge1xuICAgICAqICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyBZbVZsY0RwaWIyOXcnO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24sIHlvdSBjYW4gc3VwcGx5IGEgYGhlYWRlcnNgIHByb3BlcnR5IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB3aGVuXG4gICAgICogY2FsbGluZyBgJGh0dHAoY29uZmlnKWAsIHdoaWNoIG92ZXJyaWRlcyB0aGUgZGVmYXVsdHMgd2l0aG91dCBjaGFuZ2luZyB0aGVtIGdsb2JhbGx5LlxuICAgICAqXG4gICAgICogVG8gZXhwbGljaXRseSByZW1vdmUgYSBoZWFkZXIgYXV0b21hdGljYWxseSBhZGRlZCB2aWEgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzIG9uIGEgcGVyIHJlcXVlc3QgYmFzaXMsXG4gICAgICogVXNlIHRoZSBgaGVhZGVyc2AgcHJvcGVydHksIHNldHRpbmcgdGhlIGRlc2lyZWQgaGVhZGVyIHRvIGB1bmRlZmluZWRgLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJlcSA9IHtcbiAgICAgKiAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICogIHVybDogJ2h0dHA6Ly9leGFtcGxlLmNvbScsXG4gICAgICogIGhlYWRlcnM6IHtcbiAgICAgKiAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgICogIH0sXG4gICAgICogIGRhdGE6IHsgdGVzdDogJ3Rlc3QnIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAkaHR0cChyZXEpLnRoZW4oZnVuY3Rpb24oKXsuLi59LCBmdW5jdGlvbigpey4uLn0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcbiAgICAgKlxuICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcbiAgICAgKiBhbmQgYHRyYW5zZm9ybVJlc3BvbnNlYC4gVGhlc2UgcHJvcGVydGllcyBjYW4gYmUgYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHRyYW5zZm9ybWVkIHZhbHVlIChgZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKWApIG9yIGFuIGFycmF5IG9mIHN1Y2ggdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLFxuICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cbiAgICAgKlxuICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAgICogKipOb3RlOioqIEFuZ3VsYXIgZG9lcyBub3QgbWFrZSBhIGNvcHkgb2YgdGhlIGBkYXRhYCBwYXJhbWV0ZXIgYmVmb3JlIGl0IGlzIHBhc3NlZCBpbnRvIHRoZSBgdHJhbnNmb3JtUmVxdWVzdGAgcGlwZWxpbmUuXG4gICAgICogVGhhdCBtZWFucyBjaGFuZ2VzIHRvIHRoZSBwcm9wZXJ0aWVzIG9mIGBkYXRhYCBhcmUgbm90IGxvY2FsIHRvIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKHNpbmNlIEphdmFzY3JpcHQgcGFzc2VzIG9iamVjdHMgYnkgcmVmZXJlbmNlKS5cbiAgICAgKiBGb3IgZXhhbXBsZSwgd2hlbiBjYWxsaW5nIGAkaHR0cC5nZXQodXJsLCAkc2NvcGUubXlPYmplY3QpYCwgbW9kaWZpY2F0aW9ucyB0byB0aGUgb2JqZWN0J3MgcHJvcGVydGllcyBpbiBhIHRyYW5zZm9ybVJlcXVlc3RcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGJlIHJlZmxlY3RlZCBvbiB0aGUgc2NvcGUgYW5kIGluIGFueSB0ZW1wbGF0ZXMgd2hlcmUgdGhlIG9iamVjdCBpcyBkYXRhLWJvdW5kLlxuICAgICAqIFRvIHByZXZlbnQgdGhpcywgdHJhbnNmb3JtIGZ1bmN0aW9ucyBzaG91bGQgaGF2ZSBubyBzaWRlLWVmZmVjdHMuXG4gICAgICogSWYgeW91IG5lZWQgdG8gbW9kaWZ5IHByb3BlcnRpZXMsIGl0IGlzIHJlY29tbWVuZGVkIHRvIG1ha2UgYSBjb3B5IG9mIHRoZSBkYXRhLCBvciBjcmVhdGUgbmV3IG9iamVjdCB0byByZXR1cm4uXG4gICAgICogPC9kaXY+XG4gICAgICpcbiAgICAgKiAjIyMgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnNcbiAgICAgKlxuICAgICAqIFRoZSBgJGh0dHBQcm92aWRlcmAgcHJvdmlkZXIgYW5kIGAkaHR0cGAgc2VydmljZSBleHBvc2UgYGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZFxuICAgICAqIGBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcy4gSWYgYSByZXF1ZXN0IGRvZXMgbm90IHByb3ZpZGUgaXRzIG93biB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiB0aGVuIHRoZXNlIHdpbGwgYmUgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYXVnbWVudCBvciByZXBsYWNlIHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyBieSBtb2RpZnlpbmcgdGhlc2UgcHJvcGVydGllcyBieSBhZGRpbmcgdG8gb3JcbiAgICAgKiByZXBsYWNpbmcgdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQW5ndWxhciBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zOlxuICAgICAqXG4gICAgICogUmVxdWVzdCB0cmFuc2Zvcm1hdGlvbnMgKGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZCBgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGApOlxuICAgICAqXG4gICAgICogLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0XG4gICAgICogICBpbnRvIEpTT04gZm9ybWF0LlxuICAgICAqXG4gICAgICogUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWApOlxuICAgICAqXG4gICAgICogIC0gSWYgWFNSRiBwcmVmaXggaXMgZGV0ZWN0ZWQsIHN0cmlwIGl0IChzZWUgU2VjdXJpdHkgQ29uc2lkZXJhdGlvbnMgc2VjdGlvbiBiZWxvdykuXG4gICAgICogIC0gSWYgSlNPTiByZXNwb25zZSBpcyBkZXRlY3RlZCwgZGVzZXJpYWxpemUgaXQgdXNpbmcgYSBKU09OIHBhcnNlci5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zIFBlciBSZXF1ZXN0XG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgcmVxdWVzdC9yZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMgb25seSBmb3IgYSBzaW5nbGUgcmVxdWVzdCB0aGVuIHByb3ZpZGVcbiAgICAgKiBgdHJhbnNmb3JtUmVxdWVzdGAgYW5kL29yIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkXG4gICAgICogaW50byBgJGh0dHBgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGlmIHlvdSBwcm92aWRlIHRoZXNlIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZyBvYmplY3QgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHdpbGwgYmVcbiAgICAgKiBvdmVyd3JpdHRlbi4gSWYgeW91IHdpc2ggdG8gYXVnbWVudCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgdGhlbiB5b3UgbXVzdCBpbmNsdWRlIHRoZW0gaW4geW91clxuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uIGFycmF5LlxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBjb2RlIGRlbW9uc3RyYXRlcyBhZGRpbmcgYSBuZXcgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb24gdG8gYmUgcnVuIGFmdGVyIHRoZSBkZWZhdWx0IHJlc3BvbnNlXG4gICAgICogdHJhbnNmb3JtYXRpb25zIGhhdmUgYmVlbiBydW4uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGZ1bmN0aW9uIGFwcGVuZFRyYW5zZm9ybShkZWZhdWx0cywgdHJhbnNmb3JtKSB7XG4gICAgICpcbiAgICAgKiAgIC8vIFdlIGNhbid0IGd1YXJhbnRlZSB0aGF0IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9uIGlzIGFuIGFycmF5XG4gICAgICogICBkZWZhdWx0cyA9IGFuZ3VsYXIuaXNBcnJheShkZWZhdWx0cykgPyBkZWZhdWx0cyA6IFtkZWZhdWx0c107XG4gICAgICpcbiAgICAgKiAgIC8vIEFwcGVuZCB0aGUgbmV3IHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBkZWZhdWx0c1xuICAgICAqICAgcmV0dXJuIGRlZmF1bHRzLmNvbmNhdCh0cmFuc2Zvcm0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqICRodHRwKHtcbiAgICAgKiAgIHVybDogJy4uLicsXG4gICAgICogICBtZXRob2Q6ICdHRVQnLFxuICAgICAqICAgdHJhbnNmb3JtUmVzcG9uc2U6IGFwcGVuZFRyYW5zZm9ybSgkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICAgcmV0dXJuIGRvVHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgKiAgIH0pXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIENhY2hpbmdcbiAgICAgKlxuICAgICAqIHtAbGluayBuZy4kaHR0cCBgJGh0dHBgfSByZXNwb25zZXMgYXJlIG5vdCBjYWNoZWQgYnkgZGVmYXVsdC4gVG8gZW5hYmxlIGNhY2hpbmcsIHlvdSBtdXN0XG4gICAgICogc2V0IHRoZSBjb25maWcuY2FjaGUgdmFsdWUgb3IgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdCAoY3JlYXRlZFxuICAgICAqIHdpdGgge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkuIElmIGRlZmluZWQsIHRoZSB2YWx1ZSBvZiBjb25maWcuY2FjaGUgdGFrZXNcbiAgICAgKiBwcmVjZWRlbmNlIG92ZXIgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUuXG4gICAgICpcbiAgICAgKiBJbiBvcmRlciB0bzpcbiAgICAgKiAgICogY2FjaGUgYWxsIHJlc3BvbnNlcyAtIHNldCB0aGUgZGVmYXVsdCBjYWNoZSB2YWx1ZSB0byBUUlVFIG9yIHRvIGEgY2FjaGUgb2JqZWN0XG4gICAgICogICAqIGNhY2hlIGEgc3BlY2lmaWMgcmVzcG9uc2UgLSBzZXQgY29uZmlnLmNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIElmIGNhY2hpbmcgaXMgZW5hYmxlZCwgYnV0IG5laXRoZXIgdGhlIGRlZmF1bHQgY2FjaGUgbm9yIGNvbmZpZy5jYWNoZSBhcmUgc2V0IHRvIGEgY2FjaGUgb2JqZWN0LFxuICAgICAqIHRoZW4gdGhlIGRlZmF1bHQgYCRjYWNoZUZhY3RvcnkoXCIkaHR0cFwiKWAgb2JqZWN0IGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBjYWNoZSB2YWx1ZSBjYW4gYmUgc2V0IGJ5IHVwZGF0aW5nIHRoZVxuICAgICAqIHtAbGluayBuZy4kaHR0cCNkZWZhdWx0cyBgJGh0dHAuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eSBvciB0aGVcbiAgICAgKiB7QGxpbmsgJGh0dHBQcm92aWRlciNkZWZhdWx0cyBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5jYWNoZWB9IHByb3BlcnR5LlxuICAgICAqXG4gICAgICogV2hlbiBjYWNoaW5nIGlzIGVuYWJsZWQsIHtAbGluayBuZy4kaHR0cCBgJGh0dHBgfSBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciB1c2luZ1xuICAgICAqIHRoZSByZWxldmFudCBjYWNoZSBvYmplY3QuIFRoZSBuZXh0IHRpbWUgdGhlIHNhbWUgcmVxdWVzdCBpcyBtYWRlLCB0aGUgcmVzcG9uc2UgaXMgcmV0dXJuZWRcbiAgICAgKiBmcm9tIHRoZSBjYWNoZSB3aXRob3V0IHNlbmRpbmcgYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBUYWtlIG5vdGUgdGhhdDpcbiAgICAgKlxuICAgICAqICAgKiBPbmx5IEdFVCBhbmQgSlNPTlAgcmVxdWVzdHMgYXJlIGNhY2hlZC5cbiAgICAgKiAgICogVGhlIGNhY2hlIGtleSBpcyB0aGUgcmVxdWVzdCBVUkwgaW5jbHVkaW5nIHNlYXJjaCBwYXJhbWV0ZXJzOyBoZWFkZXJzIGFyZSBub3QgY29uc2lkZXJlZC5cbiAgICAgKiAgICogQ2FjaGVkIHJlc3BvbnNlcyBhcmUgcmV0dXJuZWQgYXN5bmNocm9ub3VzbHksIGluIHRoZSBzYW1lIHdheSBhcyByZXNwb25zZXMgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqICAgKiBJZiBtdWx0aXBsZSBpZGVudGljYWwgcmVxdWVzdHMgYXJlIG1hZGUgdXNpbmcgdGhlIHNhbWUgY2FjaGUsIHdoaWNoIGlzIG5vdCB5ZXQgcG9wdWxhdGVkLFxuICAgICAqICAgICBvbmUgcmVxdWVzdCB3aWxsIGJlIG1hZGUgdG8gdGhlIHNlcnZlciBhbmQgcmVtYWluaW5nIHJlcXVlc3RzIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHJlc3BvbnNlLlxuICAgICAqICAgKiBBIGNhY2hlLWNvbnRyb2wgaGVhZGVyIG9uIHRoZSByZXNwb25zZSBkb2VzIG5vdCBhZmZlY3QgaWYgb3IgaG93IHJlc3BvbnNlcyBhcmUgY2FjaGVkLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBJbnRlcmNlcHRvcnNcbiAgICAgKlxuICAgICAqIEJlZm9yZSB5b3Ugc3RhcnQgY3JlYXRpbmcgaW50ZXJjZXB0b3JzLCBiZSBzdXJlIHRvIHVuZGVyc3RhbmQgdGhlXG4gICAgICoge0BsaW5rIG5nLiRxICRxIGFuZCBkZWZlcnJlZC9wcm9taXNlIEFQSXN9LlxuICAgICAqXG4gICAgICogRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yXG4gICAgICogYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLCBpdCBpcyBkZXNpcmFibGUgdG8gYmVcbiAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXG4gICAgICogcmVzcG9uc2VzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgb3ZlciB0byB0aGUgYXBwbGljYXRpb24gY29kZSB0aGF0XG4gICAgICogaW5pdGlhdGVkIHRoZXNlIHJlcXVlc3RzLiBUaGUgaW50ZXJjZXB0b3JzIGxldmVyYWdlIHRoZSB7QGxpbmsgbmcuJHFcbiAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgaW50ZXJjZXB0b3JzIGFyZSBzZXJ2aWNlIGZhY3RvcmllcyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIGAkaHR0cFByb3ZpZGVyYCBieVxuICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXG4gICAgICogaW5qZWN0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgKGlmIHNwZWNpZmllZCkgYW5kIHJldHVybnMgdGhlIGludGVyY2VwdG9yLlxuICAgICAqXG4gICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XG4gICAgICpcbiAgICAgKiAgICogYHJlcXVlc3RgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGEgaHR0cCB7QGxpbmsgJGh0dHAjdXNhZ2UgY29uZmlnfSBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXG4gICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGBjb25maWdgIG9yIGEgbmV3IGBjb25maWdgIG9iamVjdC5cbiAgICAgKiAgICogYHJlcXVlc3RFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqICAgKiBgcmVzcG9uc2VgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGh0dHAgYHJlc3BvbnNlYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYHJlc3BvbnNlYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYHJlc3BvbnNlYFxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxuICAgICAqICAgKiBgcmVzcG9uc2VFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxuICAgICAqICAgJHByb3ZpZGUuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXG4gICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xuICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2VcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xuICAgICAqICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICpcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7XG4gICAgICpcbiAgICAgKlxuICAgICAqICAgLy8gYWx0ZXJuYXRpdmVseSwgcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIHZpYSBhbiBhbm9ueW1vdXMgZmFjdG9yeVxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xuICAgICAqXG4gICAgICogV2hlbiBkZXNpZ25pbmcgd2ViIGFwcGxpY2F0aW9ucywgY29uc2lkZXIgc2VjdXJpdHkgdGhyZWF0cyBmcm9tOlxuICAgICAqXG4gICAgICogLSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXG4gICAgICogLSBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSlcbiAgICAgKlxuICAgICAqIEJvdGggc2VydmVyIGFuZCB0aGUgY2xpZW50IG11c3QgY29vcGVyYXRlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGVzZSB0aHJlYXRzLiBBbmd1bGFyIGNvbWVzXG4gICAgICogcHJlLWNvbmZpZ3VyZWQgd2l0aCBzdHJhdGVnaWVzIHRoYXQgYWRkcmVzcyB0aGVzZSBpc3N1ZXMsIGJ1dCBmb3IgdGhpcyB0byB3b3JrIGJhY2tlbmQgc2VydmVyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiAjIyMgSlNPTiBWdWxuZXJhYmlsaXR5IFByb3RlY3Rpb25cbiAgICAgKlxuICAgICAqIEEgW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIGFsbG93cyB0aGlyZCBwYXJ0eSB3ZWJzaXRlIHRvIHR1cm4geW91ciBKU09OIHJlc291cmNlIFVSTCBpbnRvXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cbiAgICAgKiBjb3VudGVyIHRoaXMgeW91ciBzZXJ2ZXIgY2FuIHByZWZpeCBhbGwgSlNPTiByZXF1ZXN0cyB3aXRoIGZvbGxvd2luZyBzdHJpbmcgYFwiKV19JyxcXG5cImAuXG4gICAgICogQW5ndWxhciB3aWxsIGF1dG9tYXRpY2FsbHkgc3RyaXAgdGhlIHByZWZpeCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBhcyBKU09OLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUgaWYgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gcmV0dXJuOlxuICAgICAqIGBgYGpzXG4gICAgICogWydvbmUnLCd0d28nXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XG4gICAgICogYGBganNcbiAgICAgKiApXX0nLFxuICAgICAqIFsnb25lJywndHdvJ11cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXG4gICAgICpcbiAgICAgKiBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSkgaXMgYW4gYXR0YWNrIHRlY2huaXF1ZSBieVxuICAgICAqIHdoaWNoIHRoZSBhdHRhY2tlciBjYW4gdHJpY2sgYW4gYXV0aGVudGljYXRlZCB1c2VyIGludG8gdW5rbm93aW5nbHkgZXhlY3V0aW5nIGFjdGlvbnMgb24geW91clxuICAgICAqIHdlYnNpdGUuIEFuZ3VsYXIgcHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gY291bnRlciBYU1JGLiBXaGVuIHBlcmZvcm1pbmcgWEhSIHJlcXVlc3RzLCB0aGVcbiAgICAgKiAkaHR0cCBzZXJ2aWNlIHJlYWRzIGEgdG9rZW4gZnJvbSBhIGNvb2tpZSAoYnkgZGVmYXVsdCwgYFhTUkYtVE9LRU5gKSBhbmQgc2V0cyBpdCBhcyBhbiBIVFRQXG4gICAgICogaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHkgSmF2YVNjcmlwdCB0aGF0IHJ1bnMgb24geW91ciBkb21haW4gY291bGQgcmVhZCB0aGVcbiAgICAgKiBjb29raWUsIHlvdXIgc2VydmVyIGNhbiBiZSBhc3N1cmVkIHRoYXQgdGhlIFhIUiBjYW1lIGZyb20gSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluLlxuICAgICAqIFRoZSBoZWFkZXIgd2lsbCBub3QgYmUgc2V0IGZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMuXG4gICAgICpcbiAgICAgKiBUbyB0YWtlIGFkdmFudGFnZSBvZiB0aGlzLCB5b3VyIHNlcnZlciBuZWVkcyB0byBzZXQgYSB0b2tlbiBpbiBhIEphdmFTY3JpcHQgcmVhZGFibGUgc2Vzc2lvblxuICAgICAqIGNvb2tpZSBjYWxsZWQgYFhTUkYtVE9LRU5gIG9uIHRoZSBmaXJzdCBIVFRQIEdFVCByZXF1ZXN0LiBPbiBzdWJzZXF1ZW50IFhIUiByZXF1ZXN0cyB0aGVcbiAgICAgKiBzZXJ2ZXIgY2FuIHZlcmlmeSB0aGF0IHRoZSBjb29raWUgbWF0Y2hlcyBgWC1YU1JGLVRPS0VOYCBIVFRQIGhlYWRlciwgYW5kIHRoZXJlZm9yZSBiZSBzdXJlXG4gICAgICogdGhhdCBvbmx5IEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbiBjb3VsZCBoYXZlIHNlbnQgdGhlIHJlcXVlc3QuIFRoZSB0b2tlbiBtdXN0IGJlXG4gICAgICogdW5pcXVlIGZvciBlYWNoIHVzZXIgYW5kIG11c3QgYmUgdmVyaWZpYWJsZSBieSB0aGUgc2VydmVyICh0byBwcmV2ZW50IHRoZSBKYXZhU2NyaXB0IGZyb21cbiAgICAgKiBtYWtpbmcgdXAgaXRzIG93biB0b2tlbnMpLiBXZSByZWNvbW1lbmQgdGhhdCB0aGUgdG9rZW4gaXMgYSBkaWdlc3Qgb2YgeW91ciBzaXRlJ3NcbiAgICAgKiBhdXRoZW50aWNhdGlvbiBjb29raWUgd2l0aCBhIFtzYWx0XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TYWx0XyhjcnlwdG9ncmFwaHkmIzQxOylcbiAgICAgKiBmb3IgYWRkZWQgc2VjdXJpdHkuXG4gICAgICpcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaGVhZGVycyBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIHRoZSB4c3JmSGVhZGVyTmFtZSBhbmQgeHNyZkNvb2tpZU5hbWVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGVpdGhlciAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzIGF0IGNvbmZpZy10aW1lLCAkaHR0cC5kZWZhdWx0cyBhdCBydW4tdGltZSxcbiAgICAgKiBvciB0aGUgcGVyLXJlcXVlc3QgY29uZmlnIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgY29sbGlzaW9ucyBpbiBlbnZpcm9ubWVudHMgd2hlcmUgbXVsdGlwbGUgQW5ndWxhciBhcHBzIHNoYXJlIHRoZVxuICAgICAqIHNhbWUgZG9tYWluIG9yIHN1YmRvbWFpbiwgd2UgcmVjb21tZW5kIHRoYXQgZWFjaCBhcHBsaWNhdGlvbiB1c2VzIHVuaXF1ZSBjb29raWUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgT2JqZWN0IGRlc2NyaWJpbmcgdGhlIHJlcXVlc3QgdG8gYmUgbWFkZSBhbmQgaG93IGl0IHNob3VsZCBiZVxuICAgICAqICAgIHByb2Nlc3NlZC4gVGhlIG9iamVjdCBoYXMgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICpcbiAgICAgKiAgICAtICoqbWV0aG9kKiog4oCTIGB7c3RyaW5nfWAg4oCTIEhUVFAgbWV0aG9kIChlLmcuICdHRVQnLCAnUE9TVCcsIGV0YylcbiAgICAgKiAgICAtICoqdXJsKiog4oCTIGB7c3RyaW5nfWAg4oCTIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyBiZWluZyByZXF1ZXN0ZWQuXG4gICAgICogICAgLSAqKnBhcmFtcyoqIOKAkyBge09iamVjdC48c3RyaW5nfE9iamVjdD59YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB3aGljaCB3aWxsIGJlIHNlcmlhbGl6ZWRcbiAgICAgKiAgICAgIHdpdGggdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIGFuZCBhcHBlbmRlZCBhcyBHRVQgcGFyYW1ldGVycy5cbiAgICAgKiAgICAtICoqZGF0YSoqIOKAkyBge3N0cmluZ3xPYmplY3R9YCDigJMgRGF0YSB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0IG1lc3NhZ2UgZGF0YS5cbiAgICAgKiAgICAtICoqaGVhZGVycyoqIOKAkyBge09iamVjdH1gIOKAkyBNYXAgb2Ygc3RyaW5ncyBvciBmdW5jdGlvbnMgd2hpY2ggcmV0dXJuIHN0cmluZ3MgcmVwcmVzZW50aW5nXG4gICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlXG4gICAgICogICAgICBoZWFkZXIgd2lsbCBub3QgYmUgc2VudC4gRnVuY3Rpb25zIGFjY2VwdCBhIGNvbmZpZyBvYmplY3QgYXMgYW4gYXJndW1lbnQuXG4gICAgICogICAgLSAqKmV2ZW50SGFuZGxlcnMqKiAtIGB7T2JqZWN0fWAgLSBFdmVudCBsaXN0ZW5lcnMgdG8gYmUgYm91bmQgdG8gdGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC5cbiAgICAgKiAgICAgIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCB1cGxvYWQgb2JqZWN0LCB1c2UgYHVwbG9hZEV2ZW50SGFuZGxlcnNgLlxuICAgICAqICAgICAgVGhlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBgJGFwcGx5YCBibG9jay5cbiAgICAgKiAgICAtICoqdXBsb2FkRXZlbnRIYW5kbGVycyoqIC0gYHtPYmplY3R9YCAtIEV2ZW50IGxpc3RlbmVycyB0byBiZSBib3VuZCB0byB0aGUgWE1MSHR0cFJlcXVlc3QgdXBsb2FkXG4gICAgICogICAgICBvYmplY3QuIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QsIHVzZSBgZXZlbnRIYW5kbGVyc2AuXG4gICAgICogICAgICBUaGUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgY29udGV4dCBvZiBhIGAkYXBwbHlgIGJsb2NrLlxuICAgICAqICAgIC0gKip4c3JmSGVhZGVyTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIEhUVFAgaGVhZGVyIHRvIHBvcHVsYXRlIHdpdGggdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnhzcmZDb29raWVOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlcXVlc3QqKiDigJNcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcil8QXJyYXkuPGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXF1ZXN0IGJvZHkgYW5kIGhlYWRlcnMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgc2VyaWFsaXplZCkgdmVyc2lvbi5cbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXNwb25zZSoqIOKAk1xuICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXNwb25zZSBib2R5LCBoZWFkZXJzIGFuZCBzdGF0dXMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgZGVzZXJpYWxpemVkKSB2ZXJzaW9uLlxuICAgICAqICAgICAgU2VlIHtAbGluayBuZy4kaHR0cCNvdmVycmlkaW5nLXRoZS1kZWZhdWx0LXRyYW5zZm9ybWF0aW9ucy1wZXItcmVxdWVzdFxuICAgICAqICAgICAgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnN9XG4gICAgICogICAgLSAqKnBhcmFtU2VyaWFsaXplcioqIC0gYHtzdHJpbmd8ZnVuY3Rpb24oT2JqZWN0PHN0cmluZyxzdHJpbmc+KTpzdHJpbmd9YCAtIEEgZnVuY3Rpb24gdXNlZCB0b1xuICAgICAqICAgICAgcHJlcGFyZSB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHJlcXVlc3QgcGFyYW1ldGVycyAoc3BlY2lmaWVkIGFzIGFuIG9iamVjdCkuXG4gICAgICogICAgICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlXG4gICAgICogICAgICB7QGxpbmsgJGluamVjdG9yICRpbmplY3Rvcn0sIHdoaWNoIG1lYW5zIHlvdSBjYW4gY3JlYXRlIHlvdXIgb3duIHNlcmlhbGl6ZXJcbiAgICAgKiAgICAgIGJ5IHJlZ2lzdGVyaW5nIGl0IGFzIGEge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSBzZXJ2aWNlfS5cbiAgICAgKiAgICAgIFRoZSBkZWZhdWx0IHNlcmlhbGl6ZXIgaXMgdGhlIHtAbGluayAkaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn07XG4gICAgICogICAgICBhbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSB0aGUge0BsaW5rICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlfVxuICAgICAqICAgIC0gKipjYWNoZSoqIOKAkyBge2Jvb2xlYW58T2JqZWN0fWAg4oCTIEEgYm9vbGVhbiB2YWx1ZSBvciBvYmplY3QgY3JlYXRlZCB3aXRoXG4gICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgdGhlIEhUVFAgcmVzcG9uc2UuXG4gICAgICogICAgICBTZWUge0BsaW5rICRodHRwI2NhY2hpbmcgJGh0dHAgQ2FjaGluZ30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogICAgLSAqKnRpbWVvdXQqKiDigJMgYHtudW1iZXJ8UHJvbWlzZX1gIOKAkyB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgb3Ige0BsaW5rIG5nLiRxIHByb21pc2V9XG4gICAgICogICAgICB0aGF0IHNob3VsZCBhYm9ydCB0aGUgcmVxdWVzdCB3aGVuIHJlc29sdmVkLlxuICAgICAqICAgIC0gKip3aXRoQ3JlZGVudGlhbHMqKiAtIGB7Ym9vbGVhbn1gIC0gd2hldGhlciB0byBzZXQgdGhlIGB3aXRoQ3JlZGVudGlhbHNgIGZsYWcgb24gdGhlXG4gICAgICogICAgICBYSFIgb2JqZWN0LiBTZWUgW3JlcXVlc3RzIHdpdGggY3JlZGVudGlhbHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0hUVFAvQWNjZXNzX2NvbnRyb2xfQ09SUyNSZXF1ZXN0c193aXRoX2NyZWRlbnRpYWxzKVxuICAgICAqICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogICAgLSAqKnJlc3BvbnNlVHlwZSoqIC0gYHtzdHJpbmd9YCAtIHNlZVxuICAgICAqICAgICAgW1hNTEh0dHBSZXF1ZXN0LnJlc3BvbnNlVHlwZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0I3htbGh0dHByZXF1ZXN0LXJlc3BvbnNldHlwZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IFJldHVybnMgYSB7QGxpbmsgbmcuJHEgYFByb21pc2V9YCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSByZXNwb25zZSBvYmplY3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdGhlIHJlcXVlc3Qgc3VjY2VlZHMgb3IgZmFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPE9iamVjdD59IHBlbmRpbmdSZXF1ZXN0cyBBcnJheSBvZiBjb25maWcgb2JqZWN0cyBmb3IgY3VycmVudGx5IHBlbmRpbmdcbiAgICAgKiAgIHJlcXVlc3RzLiBUaGlzIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJodHRwRXhhbXBsZVwiPlxuPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgPGRpdiBuZy1jb250cm9sbGVyPVwiRmV0Y2hDb250cm9sbGVyXCI+XG4gICAgPHNlbGVjdCBuZy1tb2RlbD1cIm1ldGhvZFwiIGFyaWEtbGFiZWw9XCJSZXF1ZXN0IG1ldGhvZFwiPlxuICAgICAgPG9wdGlvbj5HRVQ8L29wdGlvbj5cbiAgICAgIDxvcHRpb24+SlNPTlA8L29wdGlvbj5cbiAgICA8L3NlbGVjdD5cbiAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVybFwiIHNpemU9XCI4MFwiIGFyaWEtbGFiZWw9XCJVUkxcIiAvPlxuICAgIDxidXR0b24gaWQ9XCJmZXRjaGJ0blwiIG5nLWNsaWNrPVwiZmV0Y2goKVwiPmZldGNoPC9idXR0b24+PGJyPlxuICAgIDxidXR0b24gaWQ9XCJzYW1wbGVnZXRidG5cIiBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdHRVQnLCAnaHR0cC1oZWxsby5odG1sJylcIj5TYW1wbGUgR0VUPC9idXR0b24+XG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWpzb25wYnRuXCJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJyxcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9ncmVldC5waHA/Y2FsbGJhY2s9SlNPTl9DQUxMQkFDSyZuYW1lPVN1cGVyJTIwSGVybycpXCI+XG4gICAgICBTYW1wbGUgSlNPTlBcbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwiaW52YWxpZGpzb25wYnRuXCJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJywgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9kb2VzbnRleGlzdCZjYWxsYmFjaz1KU09OX0NBTExCQUNLJylcIj5cbiAgICAgICAgSW52YWxpZCBKU09OUFxuICAgICAgPC9idXR0b24+XG4gICAgPHByZT5odHRwIHN0YXR1cyBjb2RlOiB7e3N0YXR1c319PC9wcmU+XG4gICAgPHByZT5odHRwIHJlc3BvbnNlIGRhdGE6IHt7ZGF0YX19PC9wcmU+XG4gIDwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICBhbmd1bGFyLm1vZHVsZSgnaHR0cEV4YW1wbGUnLCBbXSlcbiAgICAuY29udHJvbGxlcignRmV0Y2hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLFxuICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgICAgJHNjb3BlLm1ldGhvZCA9ICdHRVQnO1xuICAgICAgICAkc2NvcGUudXJsID0gJ2h0dHAtaGVsbG8uaHRtbCc7XG5cbiAgICAgICAgJHNjb3BlLmZldGNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmNvZGUgPSBudWxsO1xuICAgICAgICAgICRzY29wZS5yZXNwb25zZSA9IG51bGw7XG5cbiAgICAgICAgICAkaHR0cCh7bWV0aG9kOiAkc2NvcGUubWV0aG9kLCB1cmw6ICRzY29wZS51cmwsIGNhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLlxuICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGEgfHwgXCJSZXF1ZXN0IGZhaWxlZFwiO1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgJHNjb3BlLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAkc2NvcGUudXJsID0gdXJsO1xuICAgICAgICB9O1xuICAgICAgfV0pO1xuPC9maWxlPlxuPGZpbGUgbmFtZT1cImh0dHAtaGVsbG8uaHRtbFwiPlxuICBIZWxsbywgJGh0dHAhXG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIHZhciBzdGF0dXMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3N0YXR1cycpKTtcbiAgdmFyIGRhdGEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2RhdGEnKSk7XG4gIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xuICB2YXIgc2FtcGxlR2V0QnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlZ2V0YnRuJykpO1xuICB2YXIgc2FtcGxlSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVqc29ucGJ0bicpKTtcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcblxuICBpdCgnc2hvdWxkIG1ha2UgYW4geGhyIEdFVCByZXF1ZXN0JywgZnVuY3Rpb24oKSB7XG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcbiAgfSk7XG5cbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcbi8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xuLy8gICBzYW1wbGVKc29ucEJ0bi5jbGljaygpO1xuLy8gICBmZXRjaEJ0bi5jbGljaygpO1xuLy8gICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4vLyAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvU3VwZXIgSGVybyEvKTtcbi8vIH0pO1xuXG4gIGl0KCdzaG91bGQgbWFrZSBKU09OUCByZXF1ZXN0IHRvIGludmFsaWQgVVJMIGFuZCBpbnZva2UgdGhlIGVycm9yIGhhbmRsZXInLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgaW52YWxpZEpzb25wQnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgnUmVxdWVzdCBmYWlsZWQnKTtcbiAgfSk7XG48L2ZpbGU+XG48L2V4YW1wbGU+XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykge1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KHJlcXVlc3RDb25maWcpKSB7XG4gICAgICAgIHRocm93IG1pbkVycignJGh0dHAnKSgnYmFkcmVxJywgJ0h0dHAgcmVxdWVzdCBjb25maWd1cmF0aW9uIG11c3QgYmUgYW4gb2JqZWN0LiAgUmVjZWl2ZWQ6IHswfScsIHJlcXVlc3RDb25maWcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzU3RyaW5nKHJlcXVlc3RDb25maWcudXJsKSkge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRodHRwJykoJ2JhZHJlcScsICdIdHRwIHJlcXVlc3QgY29uZmlndXJhdGlvbiB1cmwgbXVzdCBiZSBhIHN0cmluZy4gIFJlY2VpdmVkOiB7MH0nLCByZXF1ZXN0Q29uZmlnLnVybCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSBleHRlbmQoe1xuICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LFxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgIHBhcmFtU2VyaWFsaXplcjogZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyXG4gICAgICB9LCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgY29uZmlnLmhlYWRlcnMgPSBtZXJnZUhlYWRlcnMocmVxdWVzdENvbmZpZyk7XG4gICAgICBjb25maWcubWV0aG9kID0gdXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpO1xuICAgICAgY29uZmlnLnBhcmFtU2VyaWFsaXplciA9IGlzU3RyaW5nKGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpID9cbiAgICAgICAgICAkaW5qZWN0b3IuZ2V0KGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpIDogY29uZmlnLnBhcmFtU2VyaWFsaXplcjtcblxuICAgICAgdmFyIHJlcXVlc3RJbnRlcmNlcHRvcnMgPSBbXTtcbiAgICAgIHZhciByZXNwb25zZUludGVyY2VwdG9ycyA9IFtdO1xuICAgICAgdmFyIHByb21pc2UgPSAkcS53aGVuKGNvbmZpZyk7XG5cbiAgICAgIC8vIGFwcGx5IGludGVyY2VwdG9yc1xuICAgICAgZm9yRWFjaChyZXZlcnNlZEludGVyY2VwdG9ycywgZnVuY3Rpb24oaW50ZXJjZXB0b3IpIHtcbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlcXVlc3QgfHwgaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSB7XG4gICAgICAgICAgcmVxdWVzdEludGVyY2VwdG9ycy51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICByZXNwb25zZUludGVyY2VwdG9ycy5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHByb21pc2UgPSBjaGFpbkludGVyY2VwdG9ycyhwcm9taXNlLCByZXF1ZXN0SW50ZXJjZXB0b3JzKTtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oc2VydmVyUmVxdWVzdCk7XG4gICAgICBwcm9taXNlID0gY2hhaW5JbnRlcmNlcHRvcnMocHJvbWlzZSwgcmVzcG9uc2VJbnRlcmNlcHRvcnMpO1xuXG4gICAgICBpZiAodXNlTGVnYWN5UHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlLnN1Y2Nlc3MgPSBmdW5jdGlvbihmbikge1xuICAgICAgICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nKTtcblxuICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHByb21pc2UuZXJyb3IgPSBmdW5jdGlvbihmbikge1xuICAgICAgICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nKTtcblxuICAgICAgICAgIHByb21pc2UudGhlbihudWxsLCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZS5zdWNjZXNzID0gJGh0dHBNaW5FcnJMZWdhY3lGbignc3VjY2VzcycpO1xuICAgICAgICBwcm9taXNlLmVycm9yID0gJGh0dHBNaW5FcnJMZWdhY3lGbignZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG5cblxuICAgICAgZnVuY3Rpb24gY2hhaW5JbnRlcmNlcHRvcnMocHJvbWlzZSwgaW50ZXJjZXB0b3JzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGludGVyY2VwdG9ycy5sZW5ndGg7IGkgPCBpaTspIHtcbiAgICAgICAgICB2YXIgdGhlbkZuID0gaW50ZXJjZXB0b3JzW2krK107XG4gICAgICAgICAgdmFyIHJlamVjdEZuID0gaW50ZXJjZXB0b3JzW2krK107XG5cbiAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHRoZW5GbiwgcmVqZWN0Rm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJjZXB0b3JzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGV4ZWN1dGVIZWFkZXJGbnMoaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIHZhciBoZWFkZXJDb250ZW50LCBwcm9jZXNzZWRIZWFkZXJzID0ge307XG5cbiAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJGbiwgaGVhZGVyKSB7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGVhZGVyRm4pKSB7XG4gICAgICAgICAgICBoZWFkZXJDb250ZW50ID0gaGVhZGVyRm4oY29uZmlnKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyQ29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyRm47XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkSGVhZGVycztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWVyZ2VIZWFkZXJzKGNvbmZpZykge1xuICAgICAgICB2YXIgZGVmSGVhZGVycyA9IGRlZmF1bHRzLmhlYWRlcnMsXG4gICAgICAgICAgICByZXFIZWFkZXJzID0gZXh0ZW5kKHt9LCBjb25maWcuaGVhZGVycyksXG4gICAgICAgICAgICBkZWZIZWFkZXJOYW1lLCBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lLCByZXFIZWFkZXJOYW1lO1xuXG4gICAgICAgIGRlZkhlYWRlcnMgPSBleHRlbmQoe30sIGRlZkhlYWRlcnMuY29tbW9uLCBkZWZIZWFkZXJzW2xvd2VyY2FzZShjb25maWcubWV0aG9kKV0pO1xuXG4gICAgICAgIC8vIHVzaW5nIGZvci1pbiBpbnN0ZWFkIG9mIGZvckVhY2ggdG8gYXZvaWQgdW5uZWNlc3NhcnkgaXRlcmF0aW9uIGFmdGVyIGhlYWRlciBoYXMgYmVlbiBmb3VuZFxuICAgICAgICBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjpcbiAgICAgICAgZm9yIChkZWZIZWFkZXJOYW1lIGluIGRlZkhlYWRlcnMpIHtcbiAgICAgICAgICBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lID0gbG93ZXJjYXNlKGRlZkhlYWRlck5hbWUpO1xuXG4gICAgICAgICAgZm9yIChyZXFIZWFkZXJOYW1lIGluIHJlcUhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSkgPT09IGxvd2VyY2FzZURlZkhlYWRlck5hbWUpIHtcbiAgICAgICAgICAgICAgY29udGludWUgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVxSGVhZGVyc1tkZWZIZWFkZXJOYW1lXSA9IGRlZkhlYWRlcnNbZGVmSGVhZGVyTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleGVjdXRlIGlmIGhlYWRlciB2YWx1ZSBpcyBhIGZ1bmN0aW9uIGZvciBtZXJnZWQgaGVhZGVyc1xuICAgICAgICByZXR1cm4gZXhlY3V0ZUhlYWRlckZucyhyZXFIZWFkZXJzLCBzaGFsbG93Q29weShjb25maWcpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2VydmVyUmVxdWVzdChjb25maWcpIHtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgICAgICAgdmFyIHJlcURhdGEgPSB0cmFuc2Zvcm1EYXRhKGNvbmZpZy5kYXRhLCBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLCB1bmRlZmluZWQsIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0KTtcblxuICAgICAgICAvLyBzdHJpcCBjb250ZW50LXR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHJlcURhdGEpKSB7XG4gICAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwgaGVhZGVyKSB7XG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlKGhlYWRlcikgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICAvLyBtYWtlIGEgY29weSBzaW5jZSB0aGUgcmVzcG9uc2UgbXVzdCBiZSBjYWNoZWFibGVcbiAgICAgICAgdmFyIHJlc3AgPSBleHRlbmQoe30sIHJlc3BvbnNlKTtcbiAgICAgICAgcmVzcC5kYXRhID0gdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIChpc1N1Y2Nlc3MocmVzcG9uc2Uuc3RhdHVzKSlcbiAgICAgICAgICA/IHJlc3BcbiAgICAgICAgICA6ICRxLnJlamVjdChyZXNwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNnZXRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBHRVRgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjZGVsZXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgREVMRVRFYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2hlYWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBIRUFEYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2pzb25wXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgSlNPTlBgIHJlcXVlc3QuXG4gICAgICogSWYgeW91IHdvdWxkIGxpa2UgdG8gY3VzdG9taXNlIHdoZXJlIGFuZCBob3cgdGhlIGNhbGxiYWNrcyBhcmUgc3RvcmVkIHRoZW4gdHJ5IG92ZXJyaWRpbmdcbiAgICAgKiBvciBkZWNvcmF0aW5nIHRoZSB7QGxpbmsgJGpzb25wQ2FsbGJhY2tzfSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3QuXG4gICAgICogICAgICAgICAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgY2FsbGJhY2sgc2hvdWxkIGJlIHRoZSBzdHJpbmcgYEpTT05fQ0FMTEJBQ0tgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzKCdnZXQnLCAnZGVsZXRlJywgJ2hlYWQnLCAnanNvbnAnKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNwb3N0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUE9TVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjcHV0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUFVUYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkaHR0cCNwYXRjaFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBBVENIYCByZXF1ZXN0LlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAgKi9cbiAgICBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSgncG9zdCcsICdwdXQnLCAncGF0Y2gnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAqIEBuYW1lICRodHRwI2RlZmF1bHRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSdW50aW1lIGVxdWl2YWxlbnQgb2YgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzYCBwcm9wZXJ0eS4gQWxsb3dzIGNvbmZpZ3VyYXRpb24gb2ZcbiAgICAgICAgICogZGVmYXVsdCBoZWFkZXJzLCB3aXRoQ3JlZGVudGlhbHMgYXMgd2VsbCBhcyByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNlZSBcIlNldHRpbmcgSFRUUCBIZWFkZXJzXCIgYW5kIFwiVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcIiBzZWN0aW9ucyBhYm92ZS5cbiAgICAgICAgICovXG4gICAgJGh0dHAuZGVmYXVsdHMgPSBkZWZhdWx0cztcblxuXG4gICAgcmV0dXJuICRodHRwO1xuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHMobmFtZXMpIHtcbiAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICAgICAgICByZXR1cm4gJGh0dHAoZXh0ZW5kKHt9LCBjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YShuYW1lKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZCh7fSwgY29uZmlnIHx8IHt9LCB7XG4gICAgICAgICAgICBtZXRob2Q6IG5hbWUsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogISEhIEFDQ0VTU0VTIENMT1NVUkUgVkFSUzpcbiAgICAgKiAkaHR0cEJhY2tlbmQsIGRlZmF1bHRzLCAkbG9nLCAkcm9vdFNjb3BlLCBkZWZhdWx0Q2FjaGUsICRodHRwLnBlbmRpbmdSZXF1ZXN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLCByZXFEYXRhKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgIGNhY2hlLFxuICAgICAgICAgIGNhY2hlZFJlc3AsXG4gICAgICAgICAgcmVxSGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgIHVybCA9IGJ1aWxkVXJsKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIoY29uZmlnLnBhcmFtcykpO1xuXG4gICAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMucHVzaChjb25maWcpO1xuICAgICAgcHJvbWlzZS50aGVuKHJlbW92ZVBlbmRpbmdSZXEsIHJlbW92ZVBlbmRpbmdSZXEpO1xuXG5cbiAgICAgIGlmICgoY29uZmlnLmNhY2hlIHx8IGRlZmF1bHRzLmNhY2hlKSAmJiBjb25maWcuY2FjaGUgIT09IGZhbHNlICYmXG4gICAgICAgICAgKGNvbmZpZy5tZXRob2QgPT09ICdHRVQnIHx8IGNvbmZpZy5tZXRob2QgPT09ICdKU09OUCcpKSB7XG4gICAgICAgIGNhY2hlID0gaXNPYmplY3QoY29uZmlnLmNhY2hlKSA/IGNvbmZpZy5jYWNoZVxuICAgICAgICAgICAgICA6IGlzT2JqZWN0KGRlZmF1bHRzLmNhY2hlKSA/IGRlZmF1bHRzLmNhY2hlXG4gICAgICAgICAgICAgIDogZGVmYXVsdENhY2hlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgY2FjaGVkUmVzcCA9IGNhY2hlLmdldCh1cmwpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgICAgIC8vIGNhY2hlZCByZXF1ZXN0IGhhcyBhbHJlYWR5IGJlZW4gc2VudCwgYnV0IHRoZXJlIGlzIG5vIHJlc3BvbnNlIHlldFxuICAgICAgICAgICAgY2FjaGVkUmVzcC50aGVuKHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCwgcmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2VydmluZyBmcm9tIGNhY2hlXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjYWNoZWRSZXNwKSkge1xuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLCBjYWNoZWRSZXNwWzBdLCBzaGFsbG93Q29weShjYWNoZWRSZXNwWzJdKSwgY2FjaGVkUmVzcFszXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwLCAyMDAsIHt9LCAnT0snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHV0IHRoZSBwcm9taXNlIGZvciB0aGUgbm9uLXRyYW5zZm9ybWVkIHJlc3BvbnNlIGludG8gY2FjaGUgYXMgYSBwbGFjZWhvbGRlclxuICAgICAgICAgIGNhY2hlLnB1dCh1cmwsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLy8gaWYgd2Ugd29uJ3QgaGF2ZSB0aGUgcmVzcG9uc2UgaW4gY2FjaGUsIHNldCB0aGUgeHNyZiBoZWFkZXJzIGFuZFxuICAgICAgLy8gc2VuZCB0aGUgcmVxdWVzdCB0byB0aGUgYmFja2VuZFxuICAgICAgaWYgKGlzVW5kZWZpbmVkKGNhY2hlZFJlc3ApKSB7XG4gICAgICAgIHZhciB4c3JmVmFsdWUgPSB1cmxJc1NhbWVPcmlnaW4oY29uZmlnLnVybClcbiAgICAgICAgICAgID8gJCRjb29raWVSZWFkZXIoKVtjb25maWcueHNyZkNvb2tpZU5hbWUgfHwgZGVmYXVsdHMueHNyZkNvb2tpZU5hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICAgIHJlcUhlYWRlcnNbKGNvbmZpZy54c3JmSGVhZGVyTmFtZSB8fCBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZSldID0geHNyZlZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgJGh0dHBCYWNrZW5kKGNvbmZpZy5tZXRob2QsIHVybCwgcmVxRGF0YSwgZG9uZSwgcmVxSGVhZGVycywgY29uZmlnLnRpbWVvdXQsXG4gICAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzLCBjb25maWcucmVzcG9uc2VUeXBlLFxuICAgICAgICAgICAgY3JlYXRlQXBwbHlIYW5kbGVycyhjb25maWcuZXZlbnRIYW5kbGVycyksXG4gICAgICAgICAgICBjcmVhdGVBcHBseUhhbmRsZXJzKGNvbmZpZy51cGxvYWRFdmVudEhhbmRsZXJzKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVBcHBseUhhbmRsZXJzKGV2ZW50SGFuZGxlcnMpIHtcbiAgICAgICAgaWYgKGV2ZW50SGFuZGxlcnMpIHtcbiAgICAgICAgICB2YXIgYXBwbHlIYW5kbGVycyA9IHt9O1xuICAgICAgICAgIGZvckVhY2goZXZlbnRIYW5kbGVycywgZnVuY3Rpb24oZXZlbnRIYW5kbGVyLCBrZXkpIHtcbiAgICAgICAgICAgIGFwcGx5SGFuZGxlcnNba2V5XSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmICh1c2VBcHBseUFzeW5jKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhjYWxsRXZlbnRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICBjYWxsRXZlbnRIYW5kbGVyKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoY2FsbEV2ZW50SGFuZGxlcik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmdW5jdGlvbiBjYWxsRXZlbnRIYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGFwcGx5SGFuZGxlcnM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxiYWNrIHJlZ2lzdGVyZWQgdG8gJGh0dHBCYWNrZW5kKCk6XG4gICAgICAgKiAgLSBjYWNoZXMgdGhlIHJlc3BvbnNlIGlmIGRlc2lyZWRcbiAgICAgICAqICAtIHJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZVxuICAgICAgICogIC0gY2FsbHMgJGFwcGx5XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGRvbmUoc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCkge1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICBpZiAoaXNTdWNjZXNzKHN0YXR1cykpIHtcbiAgICAgICAgICAgIGNhY2hlLnB1dCh1cmwsIFtzdGF0dXMsIHJlc3BvbnNlLCBwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksIHN0YXR1c1RleHRdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHByb21pc2UgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgIGNhY2hlLnJlbW92ZSh1cmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVIdHRwUHJvbWlzZSgpIHtcbiAgICAgICAgICByZXNvbHZlUHJvbWlzZShyZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VBcHBseUFzeW5jKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhyZXNvbHZlSHR0cFByb21pc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmVIdHRwUHJvbWlzZSgpO1xuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBSZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2UuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMsIHN0YXR1c1RleHQpIHtcbiAgICAgICAgLy9zdGF0dXM6IEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUsIDAsIC0xIChhYm9ydGVkIGJ5IHRpbWVvdXQgLyBwcm9taXNlKVxuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgPj0gLTEgPyBzdGF0dXMgOiAwO1xuXG4gICAgICAgIChpc1N1Y2Nlc3Moc3RhdHVzKSA/IGRlZmVycmVkLnJlc29sdmUgOiBkZWZlcnJlZC5yZWplY3QpKHtcbiAgICAgICAgICBkYXRhOiByZXNwb25zZSxcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLFxuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHN0YXR1c1RleHRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LmRhdGEsIHJlc3VsdC5zdGF0dXMsIHNoYWxsb3dDb3B5KHJlc3VsdC5oZWFkZXJzKCkpLCByZXN1bHQuc3RhdHVzVGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlbmRpbmdSZXEoKSB7XG4gICAgICAgIHZhciBpZHggPSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMuaW5kZXhPZihjb25maWcpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYnVpbGRVcmwodXJsLCBzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgICBpZiAoc2VyaWFsaXplZFBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVybCArPSAoKHVybC5pbmRleE9mKCc/JykgPT0gLTEpID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR4aHJGYWN0b3J5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHVzZWQgdG8gY3JlYXRlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdHMuXG4gKlxuICogUmVwbGFjZSBvciBkZWNvcmF0ZSB0aGlzIHNlcnZpY2UgdG8gY3JlYXRlIHlvdXIgb3duIGN1c3RvbSBYTUxIdHRwUmVxdWVzdCBvYmplY3RzLlxuICpcbiAqIGBgYFxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW10pXG4gKiAuZmFjdG9yeSgnJHhockZhY3RvcnknLCBmdW5jdGlvbigpIHtcbiAqICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVhocihtZXRob2QsIHVybCkge1xuICogICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KHttb3pTeXN0ZW06IHRydWV9KTtcbiAqICAgfTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZCBvZiB0aGUgcmVxdWVzdCAoR0VULCBQT1NULCBQVVQsIC4uKVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgb2YgdGhlIHJlcXVlc3QuXG4gKi9cbmZ1bmN0aW9uICR4aHJGYWN0b3J5UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVYaHIoKSB7XG4gICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRodHRwQmFja2VuZFxuICogQHJlcXVpcmVzICRqc29ucENhbGxiYWNrc1xuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICogQHJlcXVpcmVzICR4aHJGYWN0b3J5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVFRQIGJhY2tlbmQgdXNlZCBieSB0aGUge0BsaW5rIG5nLiRodHRwIHNlcnZpY2V9IHRoYXQgZGVsZWdhdGVzIHRvXG4gKiBYTUxIdHRwUmVxdWVzdCBvYmplY3Qgb3IgSlNPTlAgYW5kIGRlYWxzIHdpdGggYnJvd3NlciBpbmNvbXBhdGliaWxpdGllcy5cbiAqXG4gKiBZb3Ugc2hvdWxkIG5ldmVyIG5lZWQgdG8gdXNlIHRoaXMgc2VydmljZSBkaXJlY3RseSwgaW5zdGVhZCB1c2UgdGhlIGhpZ2hlci1sZXZlbCBhYnN0cmFjdGlvbnM6XG4gKiB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IG9yIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZSAkcmVzb3VyY2V9LlxuICpcbiAqIER1cmluZyB0ZXN0aW5nIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgc3dhcHBlZCB3aXRoIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kIG1vY2tcbiAqICRodHRwQmFja2VuZH0gd2hpY2ggY2FuIGJlIHRyYWluZWQgd2l0aCByZXNwb25zZXMuXG4gKi9cbmZ1bmN0aW9uICRIdHRwQmFja2VuZFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRqc29ucENhbGxiYWNrcycsICckZG9jdW1lbnQnLCAnJHhockZhY3RvcnknLCBmdW5jdGlvbigkYnJvd3NlciwgJGpzb25wQ2FsbGJhY2tzLCAkZG9jdW1lbnQsICR4aHJGYWN0b3J5KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLCAkeGhyRmFjdG9yeSwgJGJyb3dzZXIuZGVmZXIsICRqc29ucENhbGxiYWNrcywgJGRvY3VtZW50WzBdKTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLCBjcmVhdGVYaHIsICRicm93c2VyRGVmZXIsIGNhbGxiYWNrcywgcmF3RG9jdW1lbnQpIHtcbiAgLy8gVE9ETyh2b2p0YSk6IGZpeCB0aGUgc2lnbmF0dXJlXG4gIHJldHVybiBmdW5jdGlvbihtZXRob2QsIHVybCwgcG9zdCwgY2FsbGJhY2ssIGhlYWRlcnMsIHRpbWVvdXQsIHdpdGhDcmVkZW50aWFscywgcmVzcG9uc2VUeXBlLCBldmVudEhhbmRsZXJzLCB1cGxvYWRFdmVudEhhbmRsZXJzKSB7XG4gICAgJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO1xuICAgIHVybCA9IHVybCB8fCAkYnJvd3Nlci51cmwoKTtcblxuICAgIGlmIChsb3dlcmNhc2UobWV0aG9kKSA9PT0gJ2pzb25wJykge1xuICAgICAgdmFyIGNhbGxiYWNrUGF0aCA9IGNhbGxiYWNrcy5jcmVhdGVDYWxsYmFjayh1cmwpO1xuICAgICAgdmFyIGpzb25wRG9uZSA9IGpzb25wUmVxKHVybCwgY2FsbGJhY2tQYXRoLCBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHtcbiAgICAgICAgLy8ganNvbnBSZXEgb25seSBldmVyIHNldHMgc3RhdHVzIHRvIDIwMCAoT0spLCA0MDQgKEVSUk9SKSBvciAtMSAoV0FJVElORylcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gKHN0YXR1cyA9PT0gMjAwKSAmJiBjYWxsYmFja3MuZ2V0UmVzcG9uc2UoY2FsbGJhY2tQYXRoKTtcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIHJlc3BvbnNlLCBcIlwiLCB0ZXh0KTtcbiAgICAgICAgY2FsbGJhY2tzLnJlbW92ZUNhbGxiYWNrKGNhbGxiYWNrUGF0aCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICB2YXIgeGhyID0gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKTtcblxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOSlcbiAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFhIUiBMZXZlbDIgc3BlYyAoc3VwcG9ydGVkIGJ5IElFMTApXG4gICAgICAgIHZhciByZXNwb25zZSA9ICgncmVzcG9uc2UnIGluIHhocikgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBJRTkgYnVnIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwKVxuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXM7XG5cbiAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgLy8gT2NjdXJzIHdoZW4gYWNjZXNzaW5nIGZpbGUgcmVzb3VyY2VzIG9yIG9uIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXJcbiAgICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLlxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2UgPyAyMDAgOiB1cmxSZXNvbHZlKHVybCkucHJvdG9jb2wgPT0gJ2ZpbGUnID8gNDA0IDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjayxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLFxuICAgICAgICAgICAgc3RhdHVzVGV4dCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVxdWVzdEVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRoZSByZXNwb25zZSBpcyBhbHdheXMgZW1wdHlcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy8jcmVxdWVzdC1lcnJvci1zdGVwcyBhbmQgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtbmV0d29yay1lcnJvclxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIC0xLCBudWxsLCBudWxsLCAnJyk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IHJlcXVlc3RFcnJvcjtcbiAgICAgIHhoci5vbmFib3J0ID0gcmVxdWVzdEVycm9yO1xuXG4gICAgICBmb3JFYWNoKGV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3JFYWNoKHVwbG9hZEV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh3aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZVR5cGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gV2ViS2l0IGFkZGVkIHN1cHBvcnQgZm9yIHRoZSBqc29uIHJlc3BvbnNlVHlwZSB2YWx1ZSBvbiAwOS8wMy8yMDEzXG4gICAgICAgICAgLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTczNjQ4LiBWZXJzaW9ucyBvZiBTYWZhcmkgcHJpb3IgdG8gNyBhcmVcbiAgICAgICAgICAvLyBrbm93biB0byB0aHJvdyB3aGVuIHNldHRpbmcgdGhlIHZhbHVlIFwianNvblwiIGFzIHRoZSByZXNwb25zZSB0eXBlLiBPdGhlciBvbGRlclxuICAgICAgICAgIC8vIGJyb3dzZXJzIGltcGxlbWVudGluZyB0aGUgcmVzcG9uc2VUeXBlXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBUaGUganNvbiByZXNwb25zZSB0eXBlIGNhbiBiZSBpZ25vcmVkIGlmIG5vdCBzdXBwb3J0ZWQsIGJlY2F1c2UgSlNPTiBwYXlsb2FkcyBhcmVcbiAgICAgICAgICAvLyBwYXJzZWQgb24gdGhlIGNsaWVudC1zaWRlIHJlZ2FyZGxlc3MuXG4gICAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZChpc1VuZGVmaW5lZChwb3N0KSA/IG51bGwgOiBwb3N0KTtcbiAgICB9XG5cbiAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgIHZhciB0aW1lb3V0SWQgPSAkYnJvd3NlckRlZmVyKHRpbWVvdXRSZXF1ZXN0LCB0aW1lb3V0KTtcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZUxpa2UodGltZW91dCkpIHtcbiAgICAgIHRpbWVvdXQudGhlbih0aW1lb3V0UmVxdWVzdCk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiB0aW1lb3V0UmVxdWVzdCgpIHtcbiAgICAgIGpzb25wRG9uZSAmJiBqc29ucERvbmUoKTtcbiAgICAgIHhociAmJiB4aHIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpIHtcbiAgICAgIC8vIGNhbmNlbCB0aW1lb3V0IGFuZCBzdWJzZXF1ZW50IHRpbWVvdXQgcHJvbWlzZSByZXNvbHV0aW9uXG4gICAgICBpZiAoaXNEZWZpbmVkKHRpbWVvdXRJZCkpIHtcbiAgICAgICAgJGJyb3dzZXJEZWZlci5jYW5jZWwodGltZW91dElkKTtcbiAgICAgIH1cbiAgICAgIGpzb25wRG9uZSA9IHhociA9IG51bGw7XG5cbiAgICAgIGNhbGxiYWNrKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xuICAgICAgJGJyb3dzZXIuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24ganNvbnBSZXEodXJsLCBjYWxsYmFja1BhdGgsIGRvbmUpIHtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgnSlNPTl9DQUxMQkFDSycsIGNhbGxiYWNrUGF0aCk7XG4gICAgLy8gd2UgY2FuJ3QgdXNlIGpRdWVyeS9qcUxpdGUgaGVyZSBiZWNhdXNlIGpRdWVyeSBkb2VzIGNyYXp5IHN0dWZmIHdpdGggc2NyaXB0IGVsZW1lbnRzLCBlLmcuOlxuICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cbiAgICAvLyAtIGFkZHMgYW5kIGltbWVkaWF0ZWx5IHJlbW92ZXMgc2NyaXB0IGVsZW1lbnRzIGZyb20gdGhlIGRvY3VtZW50XG4gICAgdmFyIHNjcmlwdCA9IHJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLCBjYWxsYmFjayA9IG51bGw7XG4gICAgc2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuICAgIHNjcmlwdC5zcmMgPSB1cmw7XG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcblxuICAgIGNhbGxiYWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwibG9hZFwiLCBjYWxsYmFjayk7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImVycm9yXCIsIGNhbGxiYWNrKTtcbiAgICAgIHJhd0RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICB2YXIgc3RhdHVzID0gLTE7XG4gICAgICB2YXIgdGV4dCA9IFwidW5rbm93blwiO1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwibG9hZFwiICYmICFjYWxsYmFja3Mud2FzQ2FsbGVkKGNhbGxiYWNrUGF0aCkpIHtcbiAgICAgICAgICBldmVudCA9IHsgdHlwZTogXCJlcnJvclwiIH07XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGV2ZW50LnR5cGU7XG4gICAgICAgIHN0YXR1cyA9IGV2ZW50LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgZG9uZShzdGF0dXMsIHRleHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImxvYWRcIiwgY2FsbGJhY2spO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwiZXJyb3JcIiwgY2FsbGJhY2spO1xuICAgIHJhd0RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cbn1cblxudmFyICRpbnRlcnBvbGF0ZU1pbkVyciA9IGFuZ3VsYXIuJGludGVycG9sYXRlTWluRXJyID0gbWluRXJyKCckaW50ZXJwb2xhdGUnKTtcbiRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoJ25vY29uY2F0JyxcbiAgICAgIFwiRXJyb3Igd2hpbGUgaW50ZXJwb2xhdGluZzogezB9XFxuU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZGlzYWxsb3dzIFwiICtcbiAgICAgIFwiaW50ZXJwb2xhdGlvbnMgdGhhdCBjb25jYXRlbmF0ZSBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGVuIGEgdHJ1c3RlZCB2YWx1ZSBpcyBcIiArXG4gICAgICBcInJlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2VcIiwgdGV4dCk7XG59O1xuXG4kaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyID0gZnVuY3Rpb24odGV4dCwgZXJyKSB7XG4gIHJldHVybiAkaW50ZXJwb2xhdGVNaW5FcnIoJ2ludGVycicsIFwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxcbnsxfVwiLCB0ZXh0LCBlcnIudG9TdHJpbmcoKSk7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2VkIGZvciBjb25maWd1cmluZyB0aGUgaW50ZXJwb2xhdGlvbiBtYXJrdXAuIERlZmF1bHRzIHRvIGB7e2AgYW5kIGB9fWAuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogVGhpcyBmZWF0dXJlIGlzIHNvbWV0aW1lcyB1c2VkIHRvIG1peCBkaWZmZXJlbnQgbWFya3VwIGxhbmd1YWdlcywgZS5nLiB0byB3cmFwIGFuIEFuZ3VsYXJcbiAqIHRlbXBsYXRlIHdpdGhpbiBhIFB5dGhvbiBKaW5qYSB0ZW1wbGF0ZSAob3IgYW55IG90aGVyIHRlbXBsYXRlIGxhbmd1YWdlKS4gTWl4aW5nIHRlbXBsYXRpbmdcbiAqIGxhbmd1YWdlcyBpcyAqKnZlcnkgZGFuZ2Vyb3VzKiouIFRoZSBlbWJlZGRpbmcgdGVtcGxhdGUgbGFuZ3VhZ2Ugd2lsbCBub3Qgc2FmZWx5IGVzY2FwZSBBbmd1bGFyXG4gKiBleHByZXNzaW9ucywgc28gYW55IHVzZXItY29udHJvbGxlZCB2YWx1ZXMgaW4gdGhlIHRlbXBsYXRlIHdpbGwgY2F1c2UgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmcgKFhTUylcbiAqIHNlY3VyaXR5IGJ1Z3MhXG4gKiA8L2Rpdj5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbmFtZT1cImN1c3RvbS1pbnRlcnBvbGF0aW9uLW1hcmt1cFwiIG1vZHVsZT1cImN1c3RvbUludGVycG9sYXRpb25BcHBcIj5cbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48c2NyaXB0PlxuICB2YXIgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcCA9IGFuZ3VsYXIubW9kdWxlKCdjdXN0b21JbnRlcnBvbGF0aW9uQXBwJywgW10pO1xuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29uZmlnKGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZVByb3ZpZGVyKSB7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2woJy8vJyk7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sKCcvLycpO1xuICB9KTtcblxuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29udHJvbGxlcignRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubGFiZWwgPSBcIlRoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuXCI7XG4gIH0pO1xuPC9zY3JpcHQ+XG48ZGl2IG5nLWNvbnRyb2xsZXI9XCJEZW1vQ29udHJvbGxlciBhcyBkZW1vXCI+XG4gICAgLy9kZW1vLmxhYmVsLy9cbjwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICBpdCgnc2hvdWxkIGludGVycG9sYXRlIGJpbmRpbmcgd2l0aCBjdXN0b20gc3ltYm9scycsIGZ1bmN0aW9uKCkge1xuICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2RlbW8ubGFiZWwnKSkuZ2V0VGV4dCgpKS50b0JlKCdUaGlzIGJpbmRpbmcgaXMgYnJvdWdodCB5b3UgYnkgLy8gaW50ZXJwb2xhdGlvbiBzeW1ib2xzLicpO1xuICB9KTtcbjwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJEludGVycG9sYXRlUHJvdmlkZXIoKSB7XG4gIHZhciBzdGFydFN5bWJvbCA9ICd7eyc7XG4gIHZhciBlbmRTeW1ib2wgPSAnfX0nO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgc3RhcnRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBzdGFydFN5bWJvbCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBlbmRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5lbmRTeW1ib2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZW5kU3ltYm9sID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcbiAgICB9XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckc2NlJywgZnVuY3Rpb24oJHBhcnNlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHNjZSkge1xuICAgIHZhciBzdGFydFN5bWJvbExlbmd0aCA9IHN0YXJ0U3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZW5kU3ltYm9sTGVuZ3RoID0gZW5kU3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZXNjYXBlZFN0YXJ0UmVnZXhwID0gbmV3IFJlZ0V4cChzdGFydFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyksXG4gICAgICAgIGVzY2FwZWRFbmRSZWdleHAgPSBuZXcgUmVnRXhwKGVuZFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGUoY2gpIHtcbiAgICAgIHJldHVybiAnXFxcXFxcXFxcXFxcJyArIGNoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKGVzY2FwZWRTdGFydFJlZ2V4cCwgc3RhcnRTeW1ib2wpLlxuICAgICAgICByZXBsYWNlKGVzY2FwZWRFbmRSZWdleHAsIGVuZFN5bWJvbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsIHx8IHVuZGVmaW5lZFxuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB2YWx1ZSA9IHRvSnNvbih2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvL1RPRE86IHRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZSBpbiBwYXJzZS5qc1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBjb25zdGFudEludGVycCkge1xuICAgICAgdmFyIHVud2F0Y2g7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudEludGVycG9sYXRlV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgdW53YXRjaCgpO1xuICAgICAgICByZXR1cm4gY29uc3RhbnRJbnRlcnAoc2NvcGUpO1xuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZVxuICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgJHBhcnNlXG4gICAgICogQHJlcXVpcmVzICRzY2VcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogQ29tcGlsZXMgYSBzdHJpbmcgd2l0aCBtYXJrdXAgaW50byBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBUaGlzIHNlcnZpY2UgaXMgdXNlZCBieSB0aGVcbiAgICAgKiBIVE1MIHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0gc2VydmljZSBmb3IgZGF0YSBiaW5kaW5nLiBTZWVcbiAgICAgKiB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIgJGludGVycG9sYXRlUHJvdmlkZXJ9IGZvciBjb25maWd1cmluZyB0aGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uIG1hcmt1cC5cbiAgICAgKlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCdIZWxsbyB7e25hbWUgfCB1cHBlcmNhc2V9fSEnKTtcbiAgICAgKiAgIGV4cGVjdChleHAoe25hbWU6J0FuZ3VsYXInfSkpLnRvRXF1YWwoJ0hlbGxvIEFOR1VMQVIhJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgJGludGVycG9sYXRlYCB0YWtlcyBhbiBvcHRpb25hbCBmb3VydGggYXJndW1lbnQsIGBhbGxPck5vdGhpbmdgLiBJZiBgYWxsT3JOb3RoaW5nYCBpc1xuICAgICAqIGB0cnVlYCwgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9uc1xuICAgICAqIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxuICAgICAqICAgdmFyIGNvbnRleHQgPSB7Z3JlZXRpbmc6ICdIZWxsbycsIG5hbWU6IHVuZGVmaW5lZCB9O1xuICAgICAqXG4gICAgICogICAvLyBkZWZhdWx0IFwiZm9yZ2l2aW5nXCIgbW9kZVxuICAgICAqICAgdmFyIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gIScpO1xuICAgICAqXG4gICAgICogICAvLyBcImFsbE9yTm90aGluZ1wiIG1vZGVcbiAgICAgKiAgIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScsIGZhbHNlLCBudWxsLCB0cnVlKTtcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgKiAgIGNvbnRleHQubmFtZSA9ICdBbmd1bGFyJztcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvIEFuZ3VsYXIhJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgYWxsT3JOb3RoaW5nYCBpcyB1c2VmdWwgZm9yIGludGVycG9sYXRpbmcgVVJMcy4gYG5nU3JjYCBhbmQgYG5nU3Jjc2V0YCB1c2UgdGhpcyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqICMjIyMgRXNjYXBlZCBJbnRlcnBvbGF0aW9uXG4gICAgICogJGludGVycG9sYXRlIHByb3ZpZGVzIGEgbWVjaGFuaXNtIGZvciBlc2NhcGluZyBpbnRlcnBvbGF0aW9uIG1hcmtlcnMuIFN0YXJ0IGFuZCBlbmQgbWFya2Vyc1xuICAgICAqIGNhbiBiZSBlc2NhcGVkIGJ5IHByZWNlZGluZyBlYWNoIG9mIHRoZWlyIGNoYXJhY3RlcnMgd2l0aCBhIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaCkuXG4gICAgICogSXQgd2lsbCBiZSByZW5kZXJlZCBhcyBhIHJlZ3VsYXIgc3RhcnQvZW5kIG1hcmtlciwgYW5kIHdpbGwgbm90IGJlIGludGVycHJldGVkIGFzIGFuIGV4cHJlc3Npb25cbiAgICAgKiBvciBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBlbmFibGVzIHdlYi1zZXJ2ZXJzIHRvIHByZXZlbnQgc2NyaXB0IGluamVjdGlvbiBhdHRhY2tzIGFuZCBkZWZhY2luZyBhdHRhY2tzLCB0byBzb21lXG4gICAgICogZGVncmVlLCB3aGlsZSBhbHNvIGVuYWJsaW5nIGNvZGUgZXhhbXBsZXMgdG8gd29yayB3aXRob3V0IHJlbHlpbmcgb24gdGhlXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ05vbkJpbmRhYmxlIG5nTm9uQmluZGFibGV9IGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqICoqRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCBpdCBpcyBzdHJvbmdseSBlbmNvdXJhZ2VkIHRoYXQgd2ViIHNlcnZlcnMgZXNjYXBlIHVzZXItc3VwcGxpZWQgZGF0YSxcbiAgICAgKiByZXBsYWNpbmcgYW5nbGUgYnJhY2tldHMgKCZsdDssICZndDspIHdpdGggJmFtcDtsdDsgYW5kICZhbXA7Z3Q7IHJlc3BlY3RpdmVseSwgYW5kIHJlcGxhY2luZyBhbGxcbiAgICAgKiBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggdGhlaXIgZXNjYXBlZCBjb3VudGVycGFydHMuKipcbiAgICAgKlxuICAgICAqIEVzY2FwZWQgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGFyZSBvbmx5IHJlcGxhY2VkIHdpdGggdGhlIGFjdHVhbCBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgaW4gcmVuZGVyZWRcbiAgICAgKiBvdXRwdXQgd2hlbiB0aGUgJGludGVycG9sYXRlIHNlcnZpY2UgcHJvY2Vzc2VzIHRoZSB0ZXh0LiBTbywgZm9yIEhUTUwgZWxlbWVudHMgaW50ZXJwb2xhdGVkXG4gICAgICogYnkge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSwgb3Igb3RoZXJ3aXNlIGludGVycG9sYXRlZCB3aXRoIHRoZSBgbXVzdEhhdmVFeHByZXNzaW9uYCBwYXJhbWV0ZXJcbiAgICAgKiBzZXQgdG8gYHRydWVgLCB0aGUgaW50ZXJwb2xhdGVkIHRleHQgbXVzdCBjb250YWluIGFuIHVuZXNjYXBlZCBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24uIEFzIHN1Y2gsXG4gICAgICogdGhpcyBpcyB0eXBpY2FsbHkgdXNlZnVsIG9ubHkgd2hlbiB1c2VyLWRhdGEgaXMgdXNlZCBpbiByZW5kZXJpbmcgYSB0ZW1wbGF0ZSBmcm9tIHRoZSBzZXJ2ZXIsIG9yXG4gICAgICogd2hlbiBvdGhlcndpc2UgdW50cnVzdGVkIGRhdGEgaXMgdXNlZCBieSBhIGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIDxleGFtcGxlPlxuICAgICAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAqICAgIDxkaXYgbmctaW5pdD1cInVzZXJuYW1lPSdBIHVzZXInXCI+XG4gICAgICogICAgICA8cCBuZy1pbml0PVwiYXBwdGl0bGU9J0VzY2FwaW5nIGRlbW8nXCI+e3thcHB0aXRsZX19OiBcXHtcXHsgdXNlcm5hbWUgPSBcImRlZmFjZWQgdmFsdWVcIjsgXFx9XFx9XG4gICAgICogICAgICAgIDwvcD5cbiAgICAgKiAgICAgIDxwPjxzdHJvbmc+e3t1c2VybmFtZX19PC9zdHJvbmc+IGF0dGVtcHRzIHRvIGluamVjdCBjb2RlIHdoaWNoIHdpbGwgZGVmYWNlIHRoZVxuICAgICAqICAgICAgICBhcHBsaWNhdGlvbiwgYnV0IGZhaWxzIHRvIGFjY29tcGxpc2ggdGhlaXIgdGFzaywgYmVjYXVzZSB0aGUgc2VydmVyIGhhcyBjb3JyZWN0bHlcbiAgICAgKiAgICAgICAgZXNjYXBlZCB0aGUgaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaClcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycy48L3A+XG4gICAgICogICAgICA8cD5JbnN0ZWFkLCB0aGUgcmVzdWx0IG9mIHRoZSBhdHRlbXB0ZWQgc2NyaXB0IGluamVjdGlvbiBpcyB2aXNpYmxlLCBhbmQgY2FuIGJlIHJlbW92ZWRcbiAgICAgKiAgICAgICAgZnJvbSB0aGUgZGF0YWJhc2UgYnkgYW4gYWRtaW5pc3RyYXRvci48L3A+XG4gICAgICogICAgPC9kaXY+XG4gICAgICogIDwvZmlsZT5cbiAgICAgKiA8L2V4YW1wbGU+XG4gICAgICpcbiAgICAgKiBAa25vd25Jc3N1ZVxuICAgICAqIEl0IGlzIGN1cnJlbnRseSBub3QgcG9zc2libGUgZm9yIGFuIGludGVycG9sYXRlZCBleHByZXNzaW9uIHRvIGNvbnRhaW4gdGhlIGludGVycG9sYXRpb24gZW5kXG4gICAgICogc3ltYm9sLiBGb3IgZXhhbXBsZSwgYHt7ICd9fScgfX1gIHdpbGwgYmUgaW5jb3JyZWN0bHkgaW50ZXJwcmV0ZWQgYXMgYHt7ICcgfX1gICsgYCcgfX1gLCBpLmUuXG4gICAgICogYW4gaW50ZXJwb2xhdGVkIGV4cHJlc3Npb24gY29uc2lzdGluZyBvZiBhIHNpbmdsZS1xdW90ZSAoYCdgKSBhbmQgdGhlIGAnIH19YCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAa25vd25Jc3N1ZVxuICAgICAqIEFsbCBkaXJlY3RpdmVzIGFuZCBjb21wb25lbnRzIG11c3QgdXNlIHRoZSBzdGFuZGFyZCBge3tgIGB9fWAgaW50ZXJwb2xhdGlvbiBzeW1ib2xzXG4gICAgICogaW4gdGhlaXIgdGVtcGxhdGVzLiBJZiB5b3UgY2hhbmdlIHRoZSBhcHBsaWNhdGlvbiBpbnRlcnBvbGF0aW9uIHN5bWJvbHMgdGhlIHtAbGluayAkY29tcGlsZX1cbiAgICAgKiBzZXJ2aWNlIHdpbGwgYXR0ZW1wdCB0byBkZW5vcm1hbGl6ZSB0aGUgc3RhbmRhcmQgc3ltYm9scyB0byB0aGUgY3VzdG9tIHN5bWJvbHMuXG4gICAgICogVGhlIGRlbm9ybWFsaXphdGlvbiBwcm9jZXNzIGlzIG5vdCBjbGV2ZXIgZW5vdWdoIHRvIGtub3cgbm90IHRvIHJlcGxhY2UgaW5zdGFuY2VzIG9mIHRoZSBzdGFuZGFyZFxuICAgICAqIHN5bWJvbHMgd2hlcmUgdGhleSB3b3VsZCBub3Qgbm9ybWFsbHkgYmUgdHJlYXRlZCBhcyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuIEZvciBleGFtcGxlIGluIHRoZSBmb2xsb3dpbmdcbiAgICAgKiBjb2RlIHNuaXBwZXQgdGhlIGNsb3NpbmcgYnJhY2VzIG9mIHRoZSBsaXRlcmFsIG9iamVjdCB3aWxsIGdldCBpbmNvcnJlY3RseSBkZW5vcm1hbGl6ZWQ6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiA8ZGl2IGRhdGEtY29udGV4dD0ne1wiY29udGV4dFwiOntcImlkXCI6MyxcInR5cGVcIjpcInBhZ2VcIn19XCI+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgd29ya2Fyb3VuZCBpcyB0byBlbnN1cmUgdGhhdCBzdWNoIGluc3RhbmNlcyBhcmUgc2VwYXJhdGVkIGJ5IHdoaXRlc3BhY2U6XG4gICAgICogYGBgXG4gICAgICogPGRpdiBkYXRhLWNvbnRleHQ9J3tcImNvbnRleHRcIjp7XCJpZFwiOjMsXCJ0eXBlXCI6XCJwYWdlXCJ9IH1cIj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTQ2MTAjaXNzdWVjb21tZW50LTIxOTQwMTA5OSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHdpdGggbWFya3VwIHRvIGludGVycG9sYXRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG11c3RIYXZlRXhwcmVzc2lvbiBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBpbnRlcnBvbGF0aW9uIHN0cmluZyBtdXN0IGhhdmVcbiAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIGluIG9yZGVyIHRvIHJldHVybiBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBTdHJpbmdzIHdpdGggbm9cbiAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIHdpbGwgcmV0dXJuIG51bGwgZm9yIHRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHJ1c3RlZENvbnRleHQgd2hlbiBwcm92aWRlZCwgdGhlIHJldHVybmVkIGZ1bmN0aW9uIHBhc3NlcyB0aGUgaW50ZXJwb2xhdGVkXG4gICAgICogICAgcmVzdWx0IHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoaW50ZXJwb2xhdGVkUmVzdWx0LFxuICAgICAqICAgIHRydXN0ZWRDb250ZXh0KX0gYmVmb3JlIHJldHVybmluZyBpdC4gIFJlZmVyIHRvIHRoZSB7QGxpbmsgbmcuJHNjZSAkc2NlfSBzZXJ2aWNlIHRoYXRcbiAgICAgKiAgICBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBmb3IgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBhbGxPck5vdGhpbmcgaWYgYHRydWVgLCB0aGVuIHRoZSByZXR1cm5lZCBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZFxuICAgICAqICAgIHVubGVzcyBhbGwgZW1iZWRkZWQgZXhwcmVzc2lvbnMgZXZhbHVhdGUgdG8gYSB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0KX0gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXG4gICAgICogICAgaW50ZXJwb2xhdGVkIHN0cmluZy4gVGhlIGZ1bmN0aW9uIGhhcyB0aGVzZSBwYXJhbWV0ZXJzOlxuICAgICAqXG4gICAgICogLSBgY29udGV4dGA6IGV2YWx1YXRpb24gY29udGV4dCBmb3IgYWxsIGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uICRpbnRlcnBvbGF0ZSh0ZXh0LCBtdXN0SGF2ZUV4cHJlc3Npb24sIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpIHtcbiAgICAgIC8vIFByb3ZpZGUgYSBxdWljayBleGl0IGFuZCBzaW1wbGlmaWVkIHJlc3VsdCBmdW5jdGlvbiBmb3IgdGV4dCB3aXRoIG5vIGludGVycG9sYXRpb25cbiAgICAgIGlmICghdGV4dC5sZW5ndGggfHwgdGV4dC5pbmRleE9mKHN0YXJ0U3ltYm9sKSA9PT0gLTEpIHtcbiAgICAgICAgdmFyIGNvbnN0YW50SW50ZXJwO1xuICAgICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbikge1xuICAgICAgICAgIHZhciB1bmVzY2FwZWRUZXh0ID0gdW5lc2NhcGVUZXh0KHRleHQpO1xuICAgICAgICAgIGNvbnN0YW50SW50ZXJwID0gdmFsdWVGbih1bmVzY2FwZWRUZXh0KTtcbiAgICAgICAgICBjb25zdGFudEludGVycC5leHAgPSB0ZXh0O1xuICAgICAgICAgIGNvbnN0YW50SW50ZXJwLmV4cHJlc3Npb25zID0gW107XG4gICAgICAgICAgY29uc3RhbnRJbnRlcnAuJCR3YXRjaERlbGVnYXRlID0gY29uc3RhbnRXYXRjaERlbGVnYXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25zdGFudEludGVycDtcbiAgICAgIH1cblxuICAgICAgYWxsT3JOb3RoaW5nID0gISFhbGxPck5vdGhpbmc7XG4gICAgICB2YXIgc3RhcnRJbmRleCxcbiAgICAgICAgICBlbmRJbmRleCxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgZXhwcmVzc2lvbnMgPSBbXSxcbiAgICAgICAgICBwYXJzZUZucyA9IFtdLFxuICAgICAgICAgIHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgICBleHAsXG4gICAgICAgICAgY29uY2F0ID0gW10sXG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucyA9IFtdO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgIGlmICgoKHN0YXJ0SW5kZXggPSB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsIGluZGV4KSkgIT0gLTEpICYmXG4gICAgICAgICAgICAgKChlbmRJbmRleCA9IHRleHQuaW5kZXhPZihlbmRTeW1ib2wsIHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCkpICE9IC0xKSkge1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gc3RhcnRJbmRleCkge1xuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4LCBzdGFydEluZGV4KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHAgPSB0ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgsIGVuZEluZGV4KTtcbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cCk7XG4gICAgICAgICAgcGFyc2VGbnMucHVzaCgkcGFyc2UoZXhwLCBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKSk7XG4gICAgICAgICAgaW5kZXggPSBlbmRJbmRleCArIGVuZFN5bWJvbExlbmd0aDtcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zLnB1c2goY29uY2F0Lmxlbmd0aCk7XG4gICAgICAgICAgY29uY2F0LnB1c2goJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIGRpZCBub3QgZmluZCBhbiBpbnRlcnBvbGF0aW9uLCBzbyB3ZSBoYXZlIHRvIGFkZCB0aGUgcmVtYWluZGVyIHRvIHRoZSBzZXBhcmF0b3JzIGFycmF5XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmNhdGVuYXRpbmcgZXhwcmVzc2lvbnMgbWFrZXMgaXQgaGFyZCB0byByZWFzb24gYWJvdXQgd2hldGhlciBzb21lIGNvbWJpbmF0aW9uIG9mXG4gICAgICAvLyBjb25jYXRlbmF0ZWQgdmFsdWVzIGFyZSB1bnNhZmUgdG8gdXNlIGFuZCBjb3VsZCBlYXNpbHkgbGVhZCB0byBYU1MuICBCeSByZXF1aXJpbmcgdGhhdCBhXG4gICAgICAvLyBzaW5nbGUgZXhwcmVzc2lvbiBiZSB1c2VkIGZvciBpZnJhbWVbc3JjXSwgb2JqZWN0W3NyY10sIGV0Yy4sIHdlIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZVxuICAgICAgLy8gdGhhdCdzIHVzZWQgaXMgYXNzaWduZWQgb3IgY29uc3RydWN0ZWQgYnkgc29tZSBKUyBjb2RlIHNvbWV3aGVyZSB0aGF0IGlzIG1vcmUgdGVzdGFibGUgb3JcbiAgICAgIC8vIG1ha2UgaXQgb2J2aW91cyB0aGF0IHlvdSBib3VuZCB0aGUgdmFsdWUgdG8gc29tZSB1c2VyIGNvbnRyb2xsZWQgdmFsdWUuICBUaGlzIGhlbHBzIHJlZHVjZVxuICAgICAgLy8gdGhlIGxvYWQgd2hlbiBhdWRpdGluZyBmb3IgWFNTIGlzc3Vlcy5cbiAgICAgIGlmICh0cnVzdGVkQ29udGV4dCAmJiBjb25jYXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0KHRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGNvbXB1dGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsT3JOb3RoaW5nICYmIGlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVzdGVkQ29udGV4dCA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHZhbHVlKSA6XG4gICAgICAgICAgICAkc2NlLnZhbHVlT2YodmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gaW50ZXJwb2xhdGlvbkZuKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHZhciBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoaWkpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBwYXJzZUZuc1tpXShjb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAvLyBhbGwgb2YgdGhlc2UgcHJvcGVydGllcyBhcmUgdW5kb2N1bWVudGVkIGZvciBub3dcbiAgICAgICAgICBleHA6IHRleHQsIC8vanVzdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHJlZ3VsYXIgd2F0Y2hlcnMgY3JlYXRlZCB2aWEgJHdhdGNoXG4gICAgICAgICAgZXhwcmVzc2lvbnM6IGV4cHJlc3Npb25zLFxuICAgICAgICAgICQkd2F0Y2hEZWxlZ2F0ZTogZnVuY3Rpb24oc2NvcGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaEdyb3VwKHBhcnNlRm5zLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hlcih2YWx1ZXMsIG9sZFZhbHVlcykge1xuICAgICAgICAgICAgICB2YXIgY3VyclZhbHVlID0gY29tcHV0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGN1cnJWYWx1ZSwgdmFsdWVzICE9PSBvbGRWYWx1ZXMgPyBsYXN0VmFsdWUgOiBjdXJyVmFsdWUsIHNjb3BlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBjdXJyVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsdWUgPSBnZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIGFsbE9yTm90aGluZyAmJiAhaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZSNzdGFydFN5bWJvbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbGB9IHRvIGNoYW5nZVxuICAgICAqIHRoZSBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdGFydCBzeW1ib2wuXG4gICAgICovXG4gICAgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3RhcnRTeW1ib2w7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZSNlbmRTeW1ib2xcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2xgfSB0byBjaGFuZ2VcbiAgICAgKiB0aGUgc3ltYm9sLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gZW5kIHN5bWJvbC5cbiAgICAgKi9cbiAgICAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZW5kU3ltYm9sO1xuICAgIH07XG5cbiAgICByZXR1cm4gJGludGVycG9sYXRlO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJEludGVydmFsUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckd2luZG93JywgJyRxJywgJyQkcScsICckYnJvd3NlcicsXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkd2luZG93LCAgICRxLCAgICQkcSwgICAkYnJvd3Nlcikge1xuICAgIHZhciBpbnRlcnZhbHMgPSB7fTtcblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgKiBAbmFtZSAkaW50ZXJ2YWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldEludGVydmFsYC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgYGRlbGF5YFxuICAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICAqXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgcmVnaXN0ZXJpbmcgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gaXMgYSBwcm9taXNlLiBUaGlzIHByb21pc2Ugd2lsbCBiZVxuICAgICAgKiBub3RpZmllZCB1cG9uIGVhY2ggdGljayBvZiB0aGUgaW50ZXJ2YWwsIGFuZCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGBjb3VudGAgaXRlcmF0aW9ucywgb3JcbiAgICAgICogcnVuIGluZGVmaW5pdGVseSBpZiBgY291bnRgIGlzIG5vdCBkZWZpbmVkLiBUaGUgdmFsdWUgb2YgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHRoZVxuICAgICAgKiBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGF0IGhhdmUgcnVuLlxuICAgICAgKiBUbyBjYW5jZWwgYW4gaW50ZXJ2YWwsIGNhbGwgYCRpbnRlcnZhbC5jYW5jZWwocHJvbWlzZSlgLlxuICAgICAgKlxuICAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiRpbnRlcnZhbCNmbHVzaCBgJGludGVydmFsLmZsdXNoKG1pbGxpcylgfSB0b1xuICAgICAgKiBtb3ZlIGZvcndhcmQgYnkgYG1pbGxpc2AgbWlsbGlzZWNvbmRzIGFuZCB0cmlnZ2VyIGFueSBmdW5jdGlvbnMgc2NoZWR1bGVkIHRvIHJ1biBpbiB0aGF0XG4gICAgICAqIHRpbWUuXG4gICAgICAqXG4gICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAgICAqICoqTm90ZSoqOiBJbnRlcnZhbHMgY3JlYXRlZCBieSB0aGlzIHNlcnZpY2UgbXVzdCBiZSBleHBsaWNpdGx5IGRlc3Ryb3llZCB3aGVuIHlvdSBhcmUgZmluaXNoZWRcbiAgICAgICogd2l0aCB0aGVtLiAgSW4gcGFydGljdWxhciB0aGV5IGFyZSBub3QgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlbiBhIGNvbnRyb2xsZXIncyBzY29wZSBvciBhXG4gICAgICAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgYXJlIGRlc3Ryb3llZC5cbiAgICAgICogWW91IHNob3VsZCB0YWtlIHRoaXMgaW50byBjb25zaWRlcmF0aW9uIGFuZCBtYWtlIHN1cmUgdG8gYWx3YXlzIGNhbmNlbCB0aGUgaW50ZXJ2YWwgYXQgdGhlXG4gICAgICAqIGFwcHJvcHJpYXRlIG1vbWVudC4gIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyBhbmQgd2hlbiB0byBkbyB0aGlzLlxuICAgICAgKiA8L2Rpdj5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCByZXBlYXRlZGx5LlxuICAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggZnVuY3Rpb24gY2FsbC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbY291bnQ9MF0gTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdC4gSWYgbm90IHNldCwgb3IgMCwgd2lsbCByZXBlYXRcbiAgICAgICogICBpbmRlZmluaXRlbHkuXG4gICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXG4gICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxuICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi5cbiAgICAgICpcbiAgICAgICogQGV4YW1wbGVcbiAgICAgICogPGV4YW1wbGUgbW9kdWxlPVwiaW50ZXJ2YWxFeGFtcGxlXCI+XG4gICAgICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAqICAgPHNjcmlwdD5cbiAgICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdpbnRlcnZhbEV4YW1wbGUnLCBbXSlcbiAgICAgICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJyxcbiAgICAgICogICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCkge1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZvcm1hdCA9ICdNL2QveXkgaDptbTpzcyBhJztcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICB2YXIgc3RvcDtcbiAgICAgICogICAgICAgICAgICRzY29wZS5maWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAvLyBEb24ndCBzdGFydCBhIG5ldyBmaWdodCBpZiB3ZSBhcmUgYWxyZWFkeSBmaWdodGluZ1xuICAgICAgKiAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApICkgcmV0dXJuO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICBzdG9wID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYmxvb2RfMSA+IDAgJiYgJHNjb3BlLmJsb29kXzIgPiAwKSB7XG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9ICRzY29wZS5ibG9vZF8xIC0gMztcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gJHNjb3BlLmJsb29kXzIgLSA0O1xuICAgICAgKiAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XG4gICAgICAqICAgICAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgKiAgICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApKSB7XG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wKTtcbiAgICAgICogICAgICAgICAgICAgICBzdG9wID0gdW5kZWZpbmVkO1xuICAgICAgKiAgICAgICAgICAgICB9XG4gICAgICAqICAgICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnJlc2V0RmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xuICAgICAgKiAgICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcbiAgICAgICogICAgICAgICAgIH0pO1xuICAgICAgKiAgICAgICAgIH1dKVxuICAgICAgKiAgICAgICAvLyBSZWdpc3RlciB0aGUgJ215Q3VycmVudFRpbWUnIGRpcmVjdGl2ZSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgICogICAgICAgLy8gV2UgaW5qZWN0ICRpbnRlcnZhbCBhbmQgZGF0ZUZpbHRlciBzZXJ2aWNlIHNpbmNlIHRoZSBmYWN0b3J5IG1ldGhvZCBpcyBESS5cbiAgICAgICogICAgICAgLmRpcmVjdGl2ZSgnbXlDdXJyZW50VGltZScsIFsnJGludGVydmFsJywgJ2RhdGVGaWx0ZXInLFxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xuICAgICAgKiAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBkaXJlY3RpdmUgbGluayBmdW5jdGlvbi4gKGNvbXBpbGUgZnVuY3Rpb24gbm90IG5lZWRlZClcbiAgICAgICogICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICogICAgICAgICAgICAgdmFyIGZvcm1hdCwgIC8vIGRhdGUgZm9ybWF0XG4gICAgICAqICAgICAgICAgICAgICAgICBzdG9wVGltZTsgLy8gc28gdGhhdCB3ZSBjYW4gY2FuY2VsIHRoZSB0aW1lIHVwZGF0ZXNcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJXG4gICAgICAqICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0KGRhdGVGaWx0ZXIobmV3IERhdGUoKSwgZm9ybWF0KSk7XG4gICAgICAqICAgICAgICAgICAgIH1cbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gd2F0Y2ggdGhlIGV4cHJlc3Npb24sIGFuZCB1cGRhdGUgdGhlIFVJIG9uIGNoYW5nZS5cbiAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZm9ybWF0ID0gdmFsdWU7XG4gICAgICAqICAgICAgICAgICAgICAgdXBkYXRlVGltZSgpO1xuICAgICAgKiAgICAgICAgICAgICB9KTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgc3RvcFRpbWUgPSAkaW50ZXJ2YWwodXBkYXRlVGltZSwgMTAwMCk7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIC8vIGxpc3RlbiBvbiBET00gZGVzdHJveSAocmVtb3ZhbCkgZXZlbnQsIGFuZCBjYW5jZWwgdGhlIG5leHQgVUkgdXBkYXRlXG4gICAgICAqICAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgdXBkYXRpbmcgdGltZSBhZnRlciB0aGUgRE9NIGVsZW1lbnQgd2FzIHJlbW92ZWQuXG4gICAgICAqICAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XG4gICAgICAqICAgICAgICAgICAgIH0pO1xuICAgICAgKiAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgIH1dKTtcbiAgICAgICogICA8L3NjcmlwdD5cbiAgICAgICpcbiAgICAgICogICA8ZGl2PlxuICAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICogICAgICAgPGxhYmVsPkRhdGUgZm9ybWF0OiA8aW5wdXQgbmctbW9kZWw9XCJmb3JtYXRcIj48L2xhYmVsPiA8aHIvPlxuICAgICAgKiAgICAgICBDdXJyZW50IHRpbWUgaXM6IDxzcGFuIG15LWN1cnJlbnQtdGltZT1cImZvcm1hdFwiPjwvc3Bhbj5cbiAgICAgICogICAgICAgPGhyLz5cbiAgICAgICogICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PlxuICAgICAgKiAgICAgICBCbG9vZCAyIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8yfX08L2ZvbnQ+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJmaWdodCgpXCI+RmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInN0b3BGaWdodCgpXCI+U3RvcEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJyZXNldEZpZ2h0KClcIj5yZXNldEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICA8L2Rpdj5cbiAgICAgICogICA8L2Rpdj5cbiAgICAgICpcbiAgICAgICogPC9maWxlPlxuICAgICAgKiA8L2V4YW1wbGU+XG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGludGVydmFsKGZuLCBkZWxheSwgY291bnQsIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgaGFzUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQsXG4gICAgICAgICAgYXJncyA9IGhhc1BhcmFtcyA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDQpIDogW10sXG4gICAgICAgICAgc2V0SW50ZXJ2YWwgPSAkd2luZG93LnNldEludGVydmFsLFxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwgPSAkd2luZG93LmNsZWFySW50ZXJ2YWwsXG4gICAgICAgICAgaXRlcmF0aW9uID0gMCxcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICBjb3VudCA9IGlzRGVmaW5lZChjb3VudCkgPyBjb3VudCA6IDA7XG5cbiAgICAgIHByb21pc2UuJCRpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgaWYgKHNraXBBcHBseSkge1xuICAgICAgICAgICRicm93c2VyLmRlZmVyKGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGRlZmVycmVkLm5vdGlmeShpdGVyYXRpb24rKyk7XG5cbiAgICAgICAgaWYgKGNvdW50ID4gMCAmJiBpdGVyYXRpb24gPj0gY291bnQpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZXJhdGlvbik7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBBcHBseSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcblxuICAgICAgfSwgZGVsYXkpO1xuXG4gICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdID0gZGVmZXJyZWQ7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG4gICAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgaWYgKCFoYXNQYXJhbXMpIHtcbiAgICAgICAgICBmbihpdGVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJGludGVydmFsI2NhbmNlbFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogQ2FuY2VscyBhIHRhc2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvbWlzZWAuXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkaW50ZXJ2YWxgIGZ1bmN0aW9uLlxuICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgd2FzIHN1Y2Nlc3NmdWxseSBjYW5jZWxlZC5cbiAgICAgICovXG4gICAgaW50ZXJ2YWwuY2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzKSB7XG4gICAgICAgIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xuICAgICAgICAkd2luZG93LmNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpO1xuICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBpbnRlcnZhbDtcbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRqc29ucENhbGxiYWNrc1xuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzZXJ2aWNlIGhhbmRsZXMgdGhlIGxpZmVjeWNsZSBvZiBjYWxsYmFja3MgdG8gaGFuZGxlIEpTT05QIHJlcXVlc3RzLlxuICogT3ZlcnJpZGUgdGhpcyBzZXJ2aWNlIGlmIHlvdSB3aXNoIHRvIGN1c3RvbWlzZSB3aGVyZSB0aGUgY2FsbGJhY2tzIGFyZSBzdG9yZWQgYW5kXG4gKiBob3cgdGhleSB2YXJ5IGNvbXBhcmVkIHRvIHRoZSByZXF1ZXN0ZWQgdXJsLlxuICovXG52YXIgJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgIHZhciBjYWxsYmFja3MgPSAkd2luZG93LmFuZ3VsYXIuY2FsbGJhY2tzO1xuICAgIHZhciBjYWxsYmFja01hcCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2tJZCkge1xuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjYWxsYmFjay5kYXRhID0gZGF0YTtcbiAgICAgICAgY2FsbGJhY2suY2FsbGVkID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgICBjYWxsYmFjay5pZCA9IGNhbGxiYWNrSWQ7XG4gICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGpzb25wQ2FsbGJhY2tzI2NyZWF0ZUNhbGxiYWNrXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIHRoZSB1cmwgb2YgdGhlIEpTT05QIHJlcXVlc3RcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBjYWxsYmFjayBwYXRoIHRvIHNlbmQgdG8gdGhlIHNlcnZlciBhcyBwYXJ0IG9mIHRoZSBKU09OUCByZXF1ZXN0XG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIGNyZWF0ZSBhIGNhbGxiYWNrIGFuZCBnZXQgaG9sZCBvZiB0aGUgcGF0aCB0byB0aGUgY2FsbGJhY2tcbiAgICAgICAqIHRvIHBhc3MgdG8gdGhlIHNlcnZlciwgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGNhbGwgdGhlIGNhbGxiYWNrIHdpdGggaXRzIHBheWxvYWQgaW4gdGhlIEpTT05QIHJlc3BvbnNlLlxuICAgICAgICovXG4gICAgICBjcmVhdGVDYWxsYmFjazogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIHZhciBjYWxsYmFja0lkID0gJ18nICsgKGNhbGxiYWNrcy4kJGNvdW50ZXIrKykudG9TdHJpbmcoMzYpO1xuICAgICAgICB2YXIgY2FsbGJhY2tQYXRoID0gJ2FuZ3VsYXIuY2FsbGJhY2tzLicgKyBjYWxsYmFja0lkO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFja0lkKTtcbiAgICAgICAgY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXSA9IGNhbGxiYWNrc1tjYWxsYmFja0lkXSA9IGNhbGxiYWNrO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tQYXRoO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGpzb25wQ2FsbGJhY2tzI3dhc0NhbGxlZFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNhbGxiYWNrUGF0aCB0aGUgcGF0aCB0byB0aGUgY2FsbGJhY2sgdGhhdCB3YXMgc2VudCBpbiB0aGUgSlNPTlAgcmVxdWVzdFxuICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGhlIGNhbGxiYWNrIGhhcyBiZWVuIGNhbGxlZCwgYXMgYSByZXN1bHQgb2YgdGhlIEpTT05QIHJlc3BvbnNlXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIGZpbmQgb3V0IHdoZXRoZXIgdGhlIEpTT05QIHJlc3BvbnNlIGFjdHVhbGx5IGNhbGxlZCB0aGVcbiAgICAgICAqIGNhbGxiYWNrIHRoYXQgd2FzIHBhc3NlZCBpbiB0aGUgcmVxdWVzdC5cbiAgICAgICAqL1xuICAgICAgd2FzQ2FsbGVkOiBmdW5jdGlvbihjYWxsYmFja1BhdGgpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrTWFwW2NhbGxiYWNrUGF0aF0uY2FsbGVkO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGpzb25wQ2FsbGJhY2tzI2dldFJlc3BvbnNlXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tQYXRoIHRoZSBwYXRoIHRvIHRoZSBjYWxsYmFjayB0aGF0IHdhcyBzZW50IGluIHRoZSBKU09OUCByZXF1ZXN0XG4gICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgcmVzcG9uc2UgdmlhIHRoZSByZWdpc3RlcmVkIGNhbGxiYWNrXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIGdldCBob2xkIG9mIHRoZSBkYXRhIHRoYXQgd2FzIHByb3ZpZGVkIHRvIHRoZSBjYWxsYmFja1xuICAgICAgICogaW4gdGhlIEpTT05QIHJlc3BvbnNlLlxuICAgICAgICovXG4gICAgICBnZXRSZXNwb25zZTogZnVuY3Rpb24oY2FsbGJhY2tQYXRoKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdLmRhdGE7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkanNvbnBDYWxsYmFja3MjcmVtb3ZlQ2FsbGJhY2tcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja1BhdGggdGhlIHBhdGggdG8gdGhlIGNhbGxiYWNrIHRoYXQgd2FzIHNlbnQgaW4gdGhlIEpTT05QIHJlcXVlc3RcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICoge0BsaW5rICRodHRwQmFja2VuZH0gY2FsbHMgdGhpcyBtZXRob2QgdG8gcmVtb3ZlIHRoZSBjYWxsYmFjayBhZnRlciB0aGUgSlNPTlAgcmVxdWVzdCBoYXNcbiAgICAgICAqIGNvbXBsZXRlZCBvciB0aW1lZC1vdXQuXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZUNhbGxiYWNrOiBmdW5jdGlvbihjYWxsYmFja1BhdGgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXTtcbiAgICAgICAgZGVsZXRlIGNhbGxiYWNrc1tjYWxsYmFjay5pZF07XG4gICAgICAgIGRlbGV0ZSBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdO1xuICAgICAgfVxuICAgIH07XG4gIH1dO1xufTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2FsZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogJGxvY2FsZSBzZXJ2aWNlIHByb3ZpZGVzIGxvY2FsaXphdGlvbiBydWxlcyBmb3IgdmFyaW91cyBBbmd1bGFyIGNvbXBvbmVudHMuIEFzIG9mIHJpZ2h0IG5vdyB0aGVcbiAqIG9ubHkgcHVibGljIGFwaSBpczpcbiAqXG4gKiAqIGBpZGAg4oCTIGB7c3RyaW5nfWAg4oCTIGxvY2FsZSBpZCBmb3JtYXR0ZWQgYXMgYGxhbmd1YWdlSWQtY291bnRyeUlkYCAoZS5nLiBgZW4tdXNgKVxuICovXG5cbnZhciBQQVRIX01BVENIID0gL14oW15cXD8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8sXG4gICAgREVGQVVMVF9QT1JUUyA9IHsnaHR0cCc6IDgwLCAnaHR0cHMnOiA0NDMsICdmdHAnOiAyMX07XG52YXIgJGxvY2F0aW9uTWluRXJyID0gbWluRXJyKCckbG9jYXRpb24nKTtcblxuXG4vKipcbiAqIEVuY29kZSBwYXRoIHVzaW5nIGVuY29kZVVyaVNlZ21lbnQsIGlnbm9yaW5nIGZvcndhcmQgc2xhc2hlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdG8gZW5jb2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcbiAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLycpLFxuICAgICAgaSA9IHNlZ21lbnRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgc2VnbWVudHNbaV0gPSBlbmNvZGVVcmlTZWdtZW50KHNlZ21lbnRzW2ldKTtcbiAgfVxuXG4gIHJldHVybiBzZWdtZW50cy5qb2luKCcvJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQWJzb2x1dGVVcmwoYWJzb2x1dGVVcmwsIGxvY2F0aW9uT2JqKSB7XG4gIHZhciBwYXJzZWRVcmwgPSB1cmxSZXNvbHZlKGFic29sdXRlVXJsKTtcblxuICBsb2NhdGlvbk9iai4kJHByb3RvY29sID0gcGFyc2VkVXJsLnByb3RvY29sO1xuICBsb2NhdGlvbk9iai4kJGhvc3QgPSBwYXJzZWRVcmwuaG9zdG5hbWU7XG4gIGxvY2F0aW9uT2JqLiQkcG9ydCA9IHRvSW50KHBhcnNlZFVybC5wb3J0KSB8fCBERUZBVUxUX1BPUlRTW3BhcnNlZFVybC5wcm90b2NvbF0gfHwgbnVsbDtcbn1cblxuXG5mdW5jdGlvbiBwYXJzZUFwcFVybChyZWxhdGl2ZVVybCwgbG9jYXRpb25PYmopIHtcbiAgdmFyIHByZWZpeGVkID0gKHJlbGF0aXZlVXJsLmNoYXJBdCgwKSAhPT0gJy8nKTtcbiAgaWYgKHByZWZpeGVkKSB7XG4gICAgcmVsYXRpdmVVcmwgPSAnLycgKyByZWxhdGl2ZVVybDtcbiAgfVxuICB2YXIgbWF0Y2ggPSB1cmxSZXNvbHZlKHJlbGF0aXZlVXJsKTtcbiAgbG9jYXRpb25PYmouJCRwYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeGVkICYmIG1hdGNoLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID9cbiAgICAgIG1hdGNoLnBhdGhuYW1lLnN1YnN0cmluZygxKSA6IG1hdGNoLnBhdGhuYW1lKTtcbiAgbG9jYXRpb25PYmouJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKG1hdGNoLnNlYXJjaCk7XG4gIGxvY2F0aW9uT2JqLiQkaGFzaCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaC5oYXNoKTtcblxuICAvLyBtYWtlIHN1cmUgcGF0aCBzdGFydHMgd2l0aCAnLyc7XG4gIGlmIChsb2NhdGlvbk9iai4kJHBhdGggJiYgbG9jYXRpb25PYmouJCRwYXRoLmNoYXJBdCgwKSAhPSAnLycpIHtcbiAgICBsb2NhdGlvbk9iai4kJHBhdGggPSAnLycgKyBsb2NhdGlvbk9iai4kJHBhdGg7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRzV2l0aChoYXlzdGFjaywgbmVlZGxlKSB7XG4gIHJldHVybiBoYXlzdGFjay5sYXN0SW5kZXhPZihuZWVkbGUsIDApID09PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge3N0cmluZ30gcmV0dXJucyB0ZXh0IGZyb20gYHVybGAgYWZ0ZXIgYGJhc2VgIG9yIGB1bmRlZmluZWRgIGlmIGl0IGRvZXMgbm90IGJlZ2luIHdpdGhcbiAqICAgICAgICAgICAgICAgICAgIHRoZSBleHBlY3RlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHN0cmlwQmFzZVVybChiYXNlLCB1cmwpIHtcbiAgaWYgKHN0YXJ0c1dpdGgodXJsLCBiYXNlKSkge1xuICAgIHJldHVybiB1cmwuc3Vic3RyKGJhc2UubGVuZ3RoKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpIHtcbiAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgcmV0dXJuIGluZGV4ID09IC0xID8gdXJsIDogdXJsLnN1YnN0cigwLCBpbmRleCk7XG59XG5cbmZ1bmN0aW9uIHRyaW1FbXB0eUhhc2godXJsKSB7XG4gIHJldHVybiB1cmwucmVwbGFjZSgvKCMuKyl8IyQvLCAnJDEnKTtcbn1cblxuXG5mdW5jdGlvbiBzdHJpcEZpbGUodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyKDAsIHN0cmlwSGFzaCh1cmwpLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbn1cblxuLyogcmV0dXJuIHRoZSBzZXJ2ZXIgb25seSAoc2NoZW1lOi8vaG9zdDpwb3J0KSAqL1xuZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpIHtcbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoJy8nLCB1cmwuaW5kZXhPZignLy8nKSArIDIpKTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSHRtbDVVcmwgcmVwcmVzZW50cyBhbiB1cmxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBIVE1MNSBtb2RlIGlzIGVuYWJsZWQgYW5kIHN1cHBvcnRlZFxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VQcmVmaXggdXJsIHBhdGggcHJlZml4XG4gKi9cbmZ1bmN0aW9uIExvY2F0aW9uSHRtbDVVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgYmFzZVByZWZpeCkge1xuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xuICBiYXNlUHJlZml4ID0gYmFzZVByZWZpeCB8fCAnJztcbiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcblxuXG4gIC8qKlxuICAgKiBQYXJzZSBnaXZlbiBodG1sNSAocmVndWxhcikgdXJsIHN0cmluZyBpbnRvIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIVE1MNSB1cmxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciBwYXRoVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2VOb0ZpbGUsIHVybCk7XG4gICAgaWYgKCFpc1N0cmluZyhwYXRoVXJsKSkge1xuICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdpcHRocHJmeCcsICdJbnZhbGlkIHVybCBcInswfVwiLCBtaXNzaW5nIHBhdGggcHJlZml4IFwiezF9XCIuJywgdXJsLFxuICAgICAgICAgIGFwcEJhc2VOb0ZpbGUpO1xuICAgIH1cblxuICAgIHBhcnNlQXBwVXJsKHBhdGhVcmwsIHRoaXMpO1xuXG4gICAgaWYgKCF0aGlzLiQkcGF0aCkge1xuICAgICAgdGhpcy4kJHBhdGggPSAnLyc7XG4gICAgfVxuXG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29tcG9zZSB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcbiAgICAgICAgaGFzaCA9IHRoaXMuJCRoYXNoID8gJyMnICsgZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCkgOiAnJztcblxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlTm9GaWxlICsgdGhpcy4kJHVybC5zdWJzdHIoMSk7IC8vIGZpcnN0IGNoYXIgaXMgYWx3YXlzICcvJ1xuICB9O1xuXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcbiAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbGlua3MgdG8gaGFzaCBmcmFnbWVudHM6XG4gICAgICAvLyBrZWVwIHRoZSBvbGQgdXJsIGFuZCBvbmx5IHJlcGxhY2UgdGhlIGhhc2ggZnJhZ21lbnRcbiAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgYXBwVXJsLCBwcmV2QXBwVXJsO1xuICAgIHZhciByZXdyaXR0ZW5Vcmw7XG5cbiAgICBpZiAoaXNEZWZpbmVkKGFwcFVybCA9IHN0cmlwQmFzZVVybChhcHBCYXNlLCB1cmwpKSkge1xuICAgICAgcHJldkFwcFVybCA9IGFwcFVybDtcbiAgICAgIGlmIChpc0RlZmluZWQoYXBwVXJsID0gc3RyaXBCYXNlVXJsKGJhc2VQcmVmaXgsIGFwcFVybCkpKSB7XG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyAoc3RyaXBCYXNlVXJsKCcvJywgYXBwVXJsKSB8fCBhcHBVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZSArIHByZXZBcHBVcmw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQoYXBwVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PSB1cmwgKyAnLycpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGU7XG4gICAgfVxuICAgIGlmIChyZXdyaXR0ZW5VcmwpIHtcbiAgICAgIHRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpO1xuICAgIH1cbiAgICByZXR1cm4gISFyZXdyaXR0ZW5Vcmw7XG4gIH07XG59XG5cblxuLyoqXG4gKiBMb2NhdGlvbkhhc2hiYW5nVXJsIHJlcHJlc2VudHMgdXJsXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gZGV2ZWxvcGVyIGRvZXNuJ3Qgb3B0IGludG8gaHRtbDUgbW9kZS5cbiAqIEl0IGFsc28gc2VydmVzIGFzIHRoZSBiYXNlIGNsYXNzIGZvciBodG1sNSBtb2RlIGZhbGxiYWNrIG9uIGxlZ2FjeSBicm93c2Vycy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nVXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGhhc2hQcmVmaXgpIHtcblxuICBwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsIHRoaXMpO1xuXG5cbiAgLyoqXG4gICAqIFBhcnNlIGdpdmVuIGhhc2hiYW5nIHVybCBpbnRvIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIYXNoYmFuZyB1cmxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciB3aXRob3V0QmFzZVVybCA9IHN0cmlwQmFzZVVybChhcHBCYXNlLCB1cmwpIHx8IHN0cmlwQmFzZVVybChhcHBCYXNlTm9GaWxlLCB1cmwpO1xuICAgIHZhciB3aXRob3V0SGFzaFVybDtcblxuICAgIGlmICghaXNVbmRlZmluZWQod2l0aG91dEJhc2VVcmwpICYmIHdpdGhvdXRCYXNlVXJsLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG5cbiAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSB1cmwgc3RhcnRzIHdpdGggYSBoYXNoIHNvIHdlIGhhdmVcbiAgICAgIC8vIGdvdCBlaXRoZXIgYSBoYXNoYmFuZyBwYXRoIG9yIGEgcGxhaW4gaGFzaCBmcmFnbWVudFxuICAgICAgd2l0aG91dEhhc2hVcmwgPSBzdHJpcEJhc2VVcmwoaGFzaFByZWZpeCwgd2l0aG91dEJhc2VVcmwpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRIYXNoVXJsKSkge1xuICAgICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcHJlZml4IHNvIHdlIGp1c3QgaGF2ZSBhIGhhc2ggZnJhZ21lbnRcbiAgICAgICAgd2l0aG91dEhhc2hVcmwgPSB3aXRob3V0QmFzZVVybDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcGF0aCBub3IgaGFzaCBmcmFnbWVudDpcbiAgICAgIC8vIElmIHdlIGFyZSBpbiBIVE1MNSBtb2RlIHdlIHVzZSB3aGF0IGlzIGxlZnQgYXMgdGhlIHBhdGg7XG4gICAgICAvLyBPdGhlcndpc2Ugd2UgaWdub3JlIHdoYXQgaXMgbGVmdFxuICAgICAgaWYgKHRoaXMuJCRodG1sNSkge1xuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2l0aG91dEhhc2hVcmwgPSAnJztcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRCYXNlVXJsKSkge1xuICAgICAgICAgIGFwcEJhc2UgPSB1cmw7XG4gICAgICAgICAgdGhpcy5yZXBsYWNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJzZUFwcFVybCh3aXRob3V0SGFzaFVybCwgdGhpcyk7XG5cbiAgICB0aGlzLiQkcGF0aCA9IHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUodGhpcy4kJHBhdGgsIHdpdGhvdXRIYXNoVXJsLCBhcHBCYXNlKTtcblxuICAgIHRoaXMuJCRjb21wb3NlKCk7XG5cbiAgICAvKlxuICAgICAqIEluIFdpbmRvd3MsIG9uIGFuIGFuY2hvciBub2RlIG9uIGRvY3VtZW50cyBsb2FkZWQgZnJvbVxuICAgICAqIHRoZSBmaWxlc3lzdGVtLCB0aGUgYnJvd3NlciB3aWxsIHJldHVybiBhIHBhdGhuYW1lXG4gICAgICogcHJlZml4ZWQgd2l0aCB0aGUgZHJpdmUgbmFtZSAoJy9DOi9wYXRoJykgd2hlbiBhXG4gICAgICogcGF0aG5hbWUgd2l0aG91dCBhIGRyaXZlIGlzIHNldDpcbiAgICAgKiAgKiBhLnNldEF0dHJpYnV0ZSgnaHJlZicsICcvZm9vJylcbiAgICAgKiAgICogYS5wYXRobmFtZSA9PT0gJy9DOi9mb28nIC8vdHJ1ZVxuICAgICAqXG4gICAgICogSW5zaWRlIG9mIEFuZ3VsYXIsIHdlJ3JlIGFsd2F5cyB1c2luZyBwYXRobmFtZXMgdGhhdFxuICAgICAqIGRvIG5vdCBpbmNsdWRlIGRyaXZlIG5hbWVzIGZvciByb3V0aW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUocGF0aCwgdXJsLCBiYXNlKSB7XG4gICAgICAvKlxuICAgICAgTWF0Y2hlcyBwYXRocyBmb3IgZmlsZSBwcm90b2NvbCBvbiB3aW5kb3dzLFxuICAgICAgc3VjaCBhcyAvQzovZm9vL2JhciwgYW5kIGNhcHR1cmVzIG9ubHkgL2Zvby9iYXIuXG4gICAgICAqL1xuICAgICAgdmFyIHdpbmRvd3NGaWxlUGF0aEV4cCA9IC9eXFwvW0EtWl06KFxcLy4qKS87XG5cbiAgICAgIHZhciBmaXJzdFBhdGhTZWdtZW50TWF0Y2g7XG5cbiAgICAgIC8vR2V0IHRoZSByZWxhdGl2ZSBwYXRoIGZyb20gdGhlIGlucHV0IFVSTC5cbiAgICAgIGlmIChzdGFydHNXaXRoKHVybCwgYmFzZSkpIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYmFzZSwgJycpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW5wdXQgVVJMIGludGVudGlvbmFsbHkgY29udGFpbnMgYSBmaXJzdCBwYXRoIHNlZ21lbnQgdGhhdCBlbmRzIHdpdGggYSBjb2xvbi5cbiAgICAgIGlmICh3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyh1cmwpKSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfVxuXG4gICAgICBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPSB3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyhwYXRoKTtcbiAgICAgIHJldHVybiBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPyBmaXJzdFBhdGhTZWdtZW50TWF0Y2hbMV0gOiBwYXRoO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ29tcG9zZSBoYXNoYmFuZyB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcbiAgICAgICAgaGFzaCA9IHRoaXMuJCRoYXNoID8gJyMnICsgZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCkgOiAnJztcblxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgKHRoaXMuJCR1cmwgPyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybCA6ICcnKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHN0cmlwSGFzaChhcHBCYXNlKSA9PSBzdHJpcEhhc2godXJsKSkge1xuICAgICAgdGhpcy4kJHBhcnNlKHVybCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG5cbi8qKlxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIHVybFxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGh0bWw1IGhpc3RvcnkgYXBpIGlzIGVuYWJsZWQgYnV0IHRoZSBicm93c2VyXG4gKiBkb2VzIG5vdCBzdXBwb3J0IGl0LlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2hQcmVmaXggaGFzaGJhbmcgcHJlZml4XG4gKi9cbmZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGhhc2hQcmVmaXgpIHtcbiAgdGhpcy4kJGh0bWw1ID0gdHJ1ZTtcbiAgTG9jYXRpb25IYXNoYmFuZ1VybC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcbiAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbGlua3MgdG8gaGFzaCBmcmFnbWVudHM6XG4gICAgICAvLyBrZWVwIHRoZSBvbGQgdXJsIGFuZCBvbmx5IHJlcGxhY2UgdGhlIGhhc2ggZnJhZ21lbnRcbiAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciByZXdyaXR0ZW5Vcmw7XG4gICAgdmFyIGFwcFVybDtcblxuICAgIGlmIChhcHBCYXNlID09IHN0cmlwSGFzaCh1cmwpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSB1cmw7XG4gICAgfSBlbHNlIGlmICgoYXBwVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIGFwcFVybDtcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT09IHVybCArICcvJykge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcbiAgICB9XG4gICAgaWYgKHJld3JpdHRlblVybCkge1xuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XG4gICAgfVxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcbiAgfTtcblxuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgLy8gaW5jbHVkZSBoYXNoUHJlZml4IGluICQkYWJzVXJsIHdoZW4gJCR1cmwgaXMgZW1wdHkgc28gSUU5IGRvZXMgbm90IHJlbG9hZCBwYWdlIGJlY2F1c2Ugb2YgcmVtb3ZhbCBvZiAnIydcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZSArIGhhc2hQcmVmaXggKyB0aGlzLiQkdXJsO1xuICB9O1xuXG59XG5cblxudmFyIGxvY2F0aW9uUHJvdG90eXBlID0ge1xuXG4gIC8qKlxuICAgKiBFbnN1cmUgYWJzb2x1dGUgdXJsIGlzIGluaXRpYWxpemVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRhYnNVcmw6JycsXG5cbiAgLyoqXG4gICAqIEFyZSB3ZSBpbiBodG1sNSBtb2RlP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRodG1sNTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEhhcyBhbnkgY2hhbmdlIGJlZW4gcmVwbGFjaW5nP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRyZXBsYWNlOiBmYWxzZSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jYWJzVXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIGZ1bGwgdXJsIHJlcHJlc2VudGF0aW9uIHdpdGggYWxsIHNlZ21lbnRzIGVuY29kZWQgYWNjb3JkaW5nIHRvIHJ1bGVzIHNwZWNpZmllZCBpblxuICAgKiBbUkZDIDM5ODZdKGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0KS5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBhYnNVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAqIC8vID0+IFwiaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBmdWxsIHVybFxuICAgKi9cbiAgYWJzVXJsOiBsb2NhdGlvbkdldHRlcignJCRhYnNVcmwnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jdXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiB1cmwgKGUuZy4gYC9wYXRoP2E9YiNoYXNoYCkgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgcGF0aCwgc2VhcmNoIGFuZCBoYXNoLCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHVybCA9ICRsb2NhdGlvbi51cmwoKTtcbiAgICogLy8gPT4gXCIvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB1cmwgTmV3IHVybCB3aXRob3V0IGJhc2UgcHJlZml4IChlLmcuIGAvcGF0aD9hPWIjaGFzaGApXG4gICAqIEByZXR1cm4ge3N0cmluZ30gdXJsXG4gICAqL1xuICB1cmw6IGZ1bmN0aW9uKHVybCkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh1cmwpKSB7XG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2ggPSBQQVRIX01BVENILmV4ZWModXJsKTtcbiAgICBpZiAobWF0Y2hbMV0gfHwgdXJsID09PSAnJykgdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpO1xuICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnNlYXJjaChtYXRjaFszXSB8fCAnJyk7XG4gICAgdGhpcy5oYXNoKG1hdGNoWzVdIHx8ICcnKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwcm90b2NvbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBwcm90b2NvbCBvZiBjdXJyZW50IHVybC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBwcm90b2NvbCA9ICRsb2NhdGlvbi5wcm90b2NvbCgpO1xuICAgKiAvLyA9PiBcImh0dHBcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBwcm90b2NvbCBvZiBjdXJyZW50IHVybFxuICAgKi9cbiAgcHJvdG9jb2w6IGxvY2F0aW9uR2V0dGVyKCckJHByb3RvY29sJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hvc3RcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gaG9zdCBvZiBjdXJyZW50IHVybC5cbiAgICpcbiAgICogTm90ZTogY29tcGFyZWQgdG8gdGhlIG5vbi1hbmd1bGFyIHZlcnNpb24gYGxvY2F0aW9uLmhvc3RgIHdoaWNoIHJldHVybnMgYGhvc3RuYW1lOnBvcnRgLCB0aGlzIHJldHVybnMgdGhlIGBob3N0bmFtZWAgcG9ydGlvbiBvbmx5LlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tXCJcbiAgICpcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly91c2VyOnBhc3N3b3JkQGV4YW1wbGUuY29tOjgwODAvIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiBob3N0ID0gJGxvY2F0aW9uLmhvc3QoKTtcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXG4gICAqIGhvc3QgPSBsb2NhdGlvbi5ob3N0O1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tOjgwODBcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBob3N0IG9mIGN1cnJlbnQgdXJsLlxuICAgKi9cbiAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwb3J0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIHBvcnQgb2YgY3VycmVudCB1cmwuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgcG9ydCA9ICRsb2NhdGlvbi5wb3J0KCk7XG4gICAqIC8vID0+IDgwXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnRcbiAgICovXG4gIHBvcnQ6IGxvY2F0aW9uR2V0dGVyKCckJHBvcnQnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gcGF0aCBvZiBjdXJyZW50IHVybCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBwYXRoIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaFxuICAgKiBpZiBpdCBpcyBtaXNzaW5nLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xuICAgKiAvLyA9PiBcIi9zb21lL3BhdGhcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBwYXRoIE5ldyBwYXRoXG4gICAqIEByZXR1cm4geyhzdHJpbmd8b2JqZWN0KX0gcGF0aCBpZiBjYWxsZWQgd2l0aCBubyBwYXJhbWV0ZXJzLCBvciBgJGxvY2F0aW9uYCBpZiBjYWxsZWQgd2l0aCBhIHBhcmFtZXRlclxuICAgKi9cbiAgcGF0aDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkcGF0aCcsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBwYXRoID0gcGF0aCAhPT0gbnVsbCA/IHBhdGgudG9TdHJpbmcoKSA6ICcnO1xuICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbiAgfSksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3NlYXJjaFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gc2VhcmNoIHBhcnQgKGFzIG9iamVjdCkgb2YgY3VycmVudCB1cmwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2Ugc2VhcmNoIHBhcnQgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBzZWFyY2hPYmplY3QgPSAkbG9jYXRpb24uc2VhcmNoKCk7XG4gICAqIC8vID0+IHtmb286ICdiYXInLCBiYXo6ICd4b3hvJ31cbiAgICpcbiAgICogLy8gc2V0IGZvbyB0byAneWlwZWUnXG4gICAqICRsb2NhdGlvbi5zZWFyY2goJ2ZvbycsICd5aXBlZScpO1xuICAgKiAvLyAkbG9jYXRpb24uc2VhcmNoKCkgPT4ge2ZvbzogJ3lpcGVlJywgYmF6OiAneG94byd9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3QuPHN0cmluZz58T2JqZWN0LjxBcnJheS48c3RyaW5nPj59IHNlYXJjaCBOZXcgc2VhcmNoIHBhcmFtcyAtIHN0cmluZyBvclxuICAgKiBoYXNoIG9iamVjdC5cbiAgICpcbiAgICogV2hlbiBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCB0aGUgbWV0aG9kIGFjdHMgYXMgYSBzZXR0ZXIsIHNldHRpbmcgdGhlIGBzZWFyY2hgIGNvbXBvbmVudFxuICAgKiBvZiBgJGxvY2F0aW9uYCB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxuICAgKlxuICAgKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBoYXNoIG9iamVjdCBjb250YWluaW5nIGFuIGFycmF5IG9mIHZhbHVlcywgdGhlc2UgdmFsdWVzIHdpbGwgYmUgZW5jb2RlZFxuICAgKiBhcyBkdXBsaWNhdGUgc2VhcmNoIHBhcmFtZXRlcnMgaW4gdGhlIHVybC5cbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfE51bWJlcnxBcnJheTxzdHJpbmc+fGJvb2xlYW4pPX0gcGFyYW1WYWx1ZSBJZiBgc2VhcmNoYCBpcyBhIHN0cmluZyBvciBudW1iZXIsIHRoZW4gYHBhcmFtVmFsdWVgXG4gICAqIHdpbGwgb3ZlcnJpZGUgb25seSBhIHNpbmdsZSBzZWFyY2ggcHJvcGVydHkuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBhbiBhcnJheSwgaXQgd2lsbCBvdmVycmlkZSB0aGUgcHJvcGVydHkgb2YgdGhlIGBzZWFyY2hgIGNvbXBvbmVudCBvZlxuICAgKiBgJGxvY2F0aW9uYCBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAgICpcbiAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGBudWxsYCwgdGhlIHByb3BlcnR5IHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYmUgZGVsZXRlZC5cbiAgICpcbiAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGB0cnVlYCwgdGhlIHByb3BlcnR5IHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYmUgYWRkZWQgd2l0aCBub1xuICAgKiB2YWx1ZSBub3IgdHJhaWxpbmcgZXF1YWwgc2lnbi5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSBJZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyB0aGUgcGFyc2VkIGBzZWFyY2hgIG9iamVjdC4gSWYgY2FsbGVkIHdpdGhcbiAgICogb25lIG9yIG1vcmUgYXJndW1lbnRzIHJldHVybnMgYCRsb2NhdGlvbmAgb2JqZWN0IGl0c2VsZi5cbiAgICovXG4gIHNlYXJjaDogZnVuY3Rpb24oc2VhcmNoLCBwYXJhbVZhbHVlKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB0aGlzLiQkc2VhcmNoO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBpZiAoaXNTdHJpbmcoc2VhcmNoKSB8fCBpc051bWJlcihzZWFyY2gpKSB7XG4gICAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgdGhpcy4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUoc2VhcmNoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzZWFyY2gpKSB7XG4gICAgICAgICAgc2VhcmNoID0gY29weShzZWFyY2gsIHt9KTtcbiAgICAgICAgICAvLyByZW1vdmUgb2JqZWN0IHVuZGVmaW5lZCBvciBudWxsIHByb3BlcnRpZXNcbiAgICAgICAgICBmb3JFYWNoKHNlYXJjaCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIGRlbGV0ZSBzZWFyY2hba2V5XTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBzZWFyY2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdpc3JjaGFyZycsXG4gICAgICAgICAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGAkbG9jYXRpb24jc2VhcmNoKClgIGNhbGwgbXVzdCBiZSBhIHN0cmluZyBvciBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoaXNVbmRlZmluZWQocGFyYW1WYWx1ZSkgfHwgcGFyYW1WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLiQkc2VhcmNoW3NlYXJjaF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kJHNlYXJjaFtzZWFyY2hdID0gcGFyYW1WYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuJCRjb21wb3NlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hhc2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJucyB0aGUgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBDaGFuZ2VzIHRoZSBoYXNoIGZyYWdtZW50IHdoZW4gY2FsbGVkIHdpdGggYSBwYXJhbWV0ZXIgYW5kIHJldHVybnMgYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94byNoYXNoVmFsdWVcbiAgICogdmFyIGhhc2ggPSAkbG9jYXRpb24uaGFzaCgpO1xuICAgKiAvLyA9PiBcImhhc2hWYWx1ZVwiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IGhhc2ggTmV3IGhhc2ggZnJhZ21lbnRcbiAgICogQHJldHVybiB7c3RyaW5nfSBoYXNoXG4gICAqL1xuICBoYXNoOiBsb2NhdGlvbkdldHRlclNldHRlcignJCRoYXNoJywgZnVuY3Rpb24oaGFzaCkge1xuICAgIHJldHVybiBoYXNoICE9PSBudWxsID8gaGFzaC50b1N0cmluZygpIDogJyc7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNyZXBsYWNlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBjYWxsZWQsIGFsbCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBkdXJpbmcgdGhlIGN1cnJlbnQgYCRkaWdlc3RgIHdpbGwgcmVwbGFjZSB0aGUgY3VycmVudCBoaXN0b3J5XG4gICAqIHJlY29yZCwgaW5zdGVhZCBvZiBhZGRpbmcgYSBuZXcgb25lLlxuICAgKi9cbiAgcmVwbGFjZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kJHJlcGxhY2UgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5mb3JFYWNoKFtMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCwgTG9jYXRpb25IYXNoYmFuZ1VybCwgTG9jYXRpb25IdG1sNVVybF0sIGZ1bmN0aW9uKExvY2F0aW9uKSB7XG4gIExvY2F0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobG9jYXRpb25Qcm90b3R5cGUpO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzdGF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gdGhlIGhpc3Rvcnkgc3RhdGUgb2JqZWN0IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRoIG9uZSBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICogVGhlIHN0YXRlIG9iamVjdCBpcyBsYXRlciBwYXNzZWQgdG8gYHB1c2hTdGF0ZWAgb3IgYHJlcGxhY2VTdGF0ZWAuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIHN1cHBvcnRlZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZ1xuICAgKiB0aGUgSFRNTDUgSGlzdG9yeSBBUEkgKGkuZS4gbWV0aG9kcyBgcHVzaFN0YXRlYCBhbmQgYHJlcGxhY2VTdGF0ZWApLiBJZiB5b3UgbmVlZCB0byBzdXBwb3J0XG4gICAqIG9sZGVyIGJyb3dzZXJzIChsaWtlIElFOSBvciBBbmRyb2lkIDwgNC4wKSwgZG9uJ3QgdXNlIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIFN0YXRlIG9iamVjdCBmb3IgcHVzaFN0YXRlIG9yIHJlcGxhY2VTdGF0ZVxuICAgKiBAcmV0dXJuIHtvYmplY3R9IHN0YXRlXG4gICAqL1xuICBMb2NhdGlvbi5wcm90b3R5cGUuc3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuJCRzdGF0ZTtcbiAgICB9XG5cbiAgICBpZiAoTG9jYXRpb24gIT09IExvY2F0aW9uSHRtbDVVcmwgfHwgIXRoaXMuJCRodG1sNSkge1xuICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub3N0YXRlJywgJ0hpc3RvcnkgQVBJIHN0YXRlIHN1cHBvcnQgaXMgYXZhaWxhYmxlIG9ubHkgJyArXG4gICAgICAgICdpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmcgSFRNTDUgSGlzdG9yeSBBUEknKTtcbiAgICB9XG4gICAgLy8gVGhlIHVzZXIgbWlnaHQgbW9kaWZ5IGBzdGF0ZU9iamVjdGAgYWZ0ZXIgaW52b2tpbmcgYCRsb2NhdGlvbi5zdGF0ZShzdGF0ZU9iamVjdClgXG4gICAgLy8gYnV0IHdlJ3JlIGNoYW5naW5nIHRoZSAkJHN0YXRlIHJlZmVyZW5jZSB0byAkYnJvd3Nlci5zdGF0ZSgpIGR1cmluZyB0aGUgJGRpZ2VzdFxuICAgIC8vIHNvIHRoZSBtb2RpZmljYXRpb24gd2luZG93IGlzIG5hcnJvdy5cbiAgICB0aGlzLiQkc3RhdGUgPSBpc1VuZGVmaW5lZChzdGF0ZSkgPyBudWxsIDogc3RhdGU7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gIH07XG59XG5cblxuZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXJTZXR0ZXIocHJvcGVydHksIHByZXByb2Nlc3MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICAgIH1cblxuICAgIHRoaXNbcHJvcGVydHldID0gcHJlcHJvY2Vzcyh2YWx1ZSk7XG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2NhdGlvblxuICpcbiAqIEByZXF1aXJlcyAkcm9vdEVsZW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSAkbG9jYXRpb24gc2VydmljZSBwYXJzZXMgdGhlIFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciAoYmFzZWQgb24gdGhlXG4gKiBbd2luZG93LmxvY2F0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi93aW5kb3cubG9jYXRpb24pKSBhbmQgbWFrZXMgdGhlIFVSTFxuICogYXZhaWxhYmxlIHRvIHlvdXIgYXBwbGljYXRpb24uIENoYW5nZXMgdG8gdGhlIFVSTCBpbiB0aGUgYWRkcmVzcyBiYXIgYXJlIHJlZmxlY3RlZCBpbnRvXG4gKiAkbG9jYXRpb24gc2VydmljZSBhbmQgY2hhbmdlcyB0byAkbG9jYXRpb24gYXJlIHJlZmxlY3RlZCBpbnRvIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLlxuICpcbiAqICoqVGhlICRsb2NhdGlvbiBzZXJ2aWNlOioqXG4gKlxuICogLSBFeHBvc2VzIHRoZSBjdXJyZW50IFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciwgc28geW91IGNhblxuICogICAtIFdhdGNoIGFuZCBvYnNlcnZlIHRoZSBVUkwuXG4gKiAgIC0gQ2hhbmdlIHRoZSBVUkwuXG4gKiAtIFN5bmNocm9uaXplcyB0aGUgVVJMIHdpdGggdGhlIGJyb3dzZXIgd2hlbiB0aGUgdXNlclxuICogICAtIENoYW5nZXMgdGhlIGFkZHJlc3MgYmFyLlxuICogICAtIENsaWNrcyB0aGUgYmFjayBvciBmb3J3YXJkIGJ1dHRvbiAob3IgY2xpY2tzIGEgSGlzdG9yeSBsaW5rKS5cbiAqICAgLSBDbGlja3Mgb24gYSBsaW5rLlxuICogLSBSZXByZXNlbnRzIHRoZSBVUkwgb2JqZWN0IGFzIGEgc2V0IG9mIG1ldGhvZHMgKHByb3RvY29sLCBob3N0LCBwb3J0LCBwYXRoLCBzZWFyY2gsIGhhc2gpLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB7QGxpbmsgZ3VpZGUvJGxvY2F0aW9uIERldmVsb3BlciBHdWlkZTogVXNpbmcgJGxvY2F0aW9ufVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9jYXRpb25Qcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gZGVlcCBsaW5raW5nIHBhdGhzIGFyZSBzdG9yZWQuXG4gKi9cbmZ1bmN0aW9uICRMb2NhdGlvblByb3ZpZGVyKCkge1xuICB2YXIgaGFzaFByZWZpeCA9ICcnLFxuICAgICAgaHRtbDVNb2RlID0ge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IHRydWUsXG4gICAgICAgIHJld3JpdGVMaW5rczogdHJ1ZVxuICAgICAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlciNoYXNoUHJlZml4XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZz19IHByZWZpeCBQcmVmaXggZm9yIGhhc2ggcGFydCAoY29udGFpbmluZyBwYXRoIGFuZCBzZWFyY2gpXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqL1xuICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHByZWZpeCkpIHtcbiAgICAgIGhhc2hQcmVmaXggPSBwcmVmaXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhhc2hQcmVmaXg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHsoYm9vbGVhbnxPYmplY3QpPX0gbW9kZSBJZiBib29sZWFuLCBzZXRzIGBodG1sNU1vZGUuZW5hYmxlZGAgdG8gdmFsdWUuXG4gICAqICAgSWYgb2JqZWN0LCBzZXRzIGBlbmFibGVkYCwgYHJlcXVpcmVCYXNlYCBhbmQgYHJld3JpdGVMaW5rc2AgdG8gcmVzcGVjdGl2ZSB2YWx1ZXMuIFN1cHBvcnRlZFxuICAgKiAgIHByb3BlcnRpZXM6XG4gICAqICAgLSAqKmVuYWJsZWQqKiDigJMgYHtib29sZWFufWAg4oCTIChkZWZhdWx0OiBmYWxzZSkgSWYgdHJ1ZSwgd2lsbCByZWx5IG9uIGBoaXN0b3J5LnB1c2hTdGF0ZWAgdG9cbiAgICogICAgIGNoYW5nZSB1cmxzIHdoZXJlIHN1cHBvcnRlZC4gV2lsbCBmYWxsIGJhY2sgdG8gaGFzaC1wcmVmaXhlZCBwYXRocyBpbiBicm93c2VycyB0aGF0IGRvIG5vdFxuICAgKiAgICAgc3VwcG9ydCBgcHVzaFN0YXRlYC5cbiAgICogICAtICoqcmVxdWlyZUJhc2UqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCwgc3BlY2lmaWVzXG4gICAqICAgICB3aGV0aGVyIG9yIG5vdCBhIDxiYXNlPiB0YWcgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC4gSWYgYGVuYWJsZWRgIGFuZCBgcmVxdWlyZUJhc2VgIGFyZVxuICAgKiAgICAgdHJ1ZSwgYW5kIGEgYmFzZSB0YWcgaXMgbm90IHByZXNlbnQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIHdoZW4gYCRsb2NhdGlvbmAgaXMgaW5qZWN0ZWQuXG4gICAqICAgICBTZWUgdGhlIHtAbGluayBndWlkZS8kbG9jYXRpb24gJGxvY2F0aW9uIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuICAgKiAgIC0gKipyZXdyaXRlTGlua3MqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCxcbiAgICogICAgIGVuYWJsZXMvZGlzYWJsZXMgdXJsIHJld3JpdGluZyBmb3IgcmVsYXRpdmUgbGlua3MuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGh0bWw1TW9kZSBvYmplY3QgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICovXG4gIHRoaXMuaHRtbDVNb2RlID0gZnVuY3Rpb24obW9kZSkge1xuICAgIGlmIChpc0Jvb2xlYW4obW9kZSkpIHtcbiAgICAgIGh0bWw1TW9kZS5lbmFibGVkID0gbW9kZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QobW9kZSkpIHtcblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLmVuYWJsZWQpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5lbmFibGVkID0gbW9kZS5lbmFibGVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmVxdWlyZUJhc2UpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXF1aXJlQmFzZSA9IG1vZGUucmVxdWlyZUJhc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXdyaXRlTGlua3MpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXdyaXRlTGlua3MgPSBtb2RlLnJld3JpdGVMaW5rcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBodG1sNU1vZGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZXZlbnRcbiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN0YXJ0XG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIFVSTCB3aWxsIGNoYW5nZS5cbiAgICpcbiAgICogVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nXG4gICAqIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kIG9mIHRoZSBldmVudC4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gZm9yIG1vcmVcbiAgICogZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuIFVwb24gc3VjY2Vzc2Z1bCBjaGFuZ2VcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3N9IGlzIGZpcmVkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIGV2ZW50XG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGFmdGVyIGEgVVJMIHdhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RFbGVtZW50JywgJyR3aW5kb3cnLFxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQsICR3aW5kb3cpIHtcbiAgICB2YXIgJGxvY2F0aW9uLFxuICAgICAgICBMb2NhdGlvbk1vZGUsXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXG4gICAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSxcbiAgICAgICAgYXBwQmFzZTtcblxuICAgIGlmIChodG1sNU1vZGUuZW5hYmxlZCkge1xuICAgICAgaWYgKCFiYXNlSHJlZiAmJiBodG1sNU1vZGUucmVxdWlyZUJhc2UpIHtcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxuICAgICAgICAgIFwiJGxvY2F0aW9uIGluIEhUTUw1IG1vZGUgcmVxdWlyZXMgYSA8YmFzZT4gdGFnIHRvIGJlIHByZXNlbnQhXCIpO1xuICAgICAgfVxuICAgICAgYXBwQmFzZSA9IHNlcnZlckJhc2UoaW5pdGlhbFVybCkgKyAoYmFzZUhyZWYgfHwgJy8nKTtcbiAgICAgIExvY2F0aW9uTW9kZSA9ICRzbmlmZmVyLmhpc3RvcnkgPyBMb2NhdGlvbkh0bWw1VXJsIDogTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcEJhc2UgPSBzdHJpcEhhc2goaW5pdGlhbFVybCk7XG4gICAgICBMb2NhdGlvbk1vZGUgPSBMb2NhdGlvbkhhc2hiYW5nVXJsO1xuICAgIH1cbiAgICB2YXIgYXBwQmFzZU5vRmlsZSA9IHN0cmlwRmlsZShhcHBCYXNlKTtcblxuICAgICRsb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGUoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgJyMnICsgaGFzaFByZWZpeCk7XG4gICAgJGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGluaXRpYWxVcmwsIGluaXRpYWxVcmwpO1xuXG4gICAgJGxvY2F0aW9uLiQkc3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuXG4gICAgdmFyIElHTk9SRV9VUklfUkVHRVhQID0gL15cXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTtcblxuICAgIGZ1bmN0aW9uIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sodXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi51cmwoKTtcbiAgICAgIHZhciBvbGRTdGF0ZSA9ICRsb2NhdGlvbi4kJHN0YXRlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgJGJyb3dzZXIudXJsKHVybCwgcmVwbGFjZSwgc3RhdGUpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSAkbG9jYXRpb24uc3RhdGUoKSByZXR1cm5zIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsIChub3QganVzdCBkZWVwbHkgZXF1YWwpXG4gICAgICAgIC8vIHN0YXRlIG9iamVjdDsgdGhpcyBtYWtlcyBwb3NzaWJsZSBxdWljayBjaGVja2luZyBpZiB0aGUgc3RhdGUgY2hhbmdlZCBpbiB0aGUgZGlnZXN0XG4gICAgICAgIC8vIGxvb3AuIENoZWNraW5nIGRlZXAgZXF1YWxpdHkgd291bGQgYmUgdG9vIGV4cGVuc2l2ZS5cbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBSZXN0b3JlIG9sZCB2YWx1ZXMgaWYgcHVzaFN0YXRlIGZhaWxzXG4gICAgICAgICRsb2NhdGlvbi51cmwob2xkVXJsKTtcbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcblxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cblxuICAgICRyb290RWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgLy8gVE9ETyh2b2p0YSk6IHJld3JpdGUgbGluayB3aGVuIG9wZW5pbmcgaW4gbmV3IHRhYi93aW5kb3cgKGluIGxlZ2FjeSBicm93c2VyKVxuICAgICAgLy8gY3VycmVudGx5IHdlIG9wZW4gbmljZSB1cmwgbGluayBhbmQgcmVkaXJlY3QgdGhlblxuXG4gICAgICBpZiAoIWh0bWw1TW9kZS5yZXdyaXRlTGlua3MgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LndoaWNoID09IDIgfHwgZXZlbnQuYnV0dG9uID09IDIpIHJldHVybjtcblxuICAgICAgdmFyIGVsbSA9IGpxTGl0ZShldmVudC50YXJnZXQpO1xuXG4gICAgICAvLyB0cmF2ZXJzZSB0aGUgRE9NIHVwIHRvIGZpbmQgZmlyc3QgQSB0YWdcbiAgICAgIHdoaWxlIChub2RlTmFtZV8oZWxtWzBdKSAhPT0gJ2EnKSB7XG4gICAgICAgIC8vIGlnbm9yZSByZXdyaXRpbmcgaWYgbm8gQSB0YWcgKHJlYWNoZWQgcm9vdCBlbGVtZW50LCBvciBubyBwYXJlbnQgLSByZW1vdmVkIGZyb20gZG9jdW1lbnQpXG4gICAgICAgIGlmIChlbG1bMF0gPT09ICRyb290RWxlbWVudFswXSB8fCAhKGVsbSA9IGVsbS5wYXJlbnQoKSlbMF0pIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFic0hyZWYgPSBlbG0ucHJvcCgnaHJlZicpO1xuICAgICAgLy8gZ2V0IHRoZSBhY3R1YWwgaHJlZiBhdHRyaWJ1dGUgLSBzZWVcbiAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kZDM0NzE0OCh2PXZzLjg1KS5hc3B4XG4gICAgICB2YXIgcmVsSHJlZiA9IGVsbS5hdHRyKCdocmVmJykgfHwgZWxtLmF0dHIoJ3hsaW5rOmhyZWYnKTtcblxuICAgICAgaWYgKGlzT2JqZWN0KGFic0hyZWYpICYmIGFic0hyZWYudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJykge1xuICAgICAgICAvLyBTVkdBbmltYXRlZFN0cmluZy5hbmltVmFsIHNob3VsZCBiZSBpZGVudGljYWwgdG8gU1ZHQW5pbWF0ZWRTdHJpbmcuYmFzZVZhbCwgdW5sZXNzIGR1cmluZ1xuICAgICAgICAvLyBhbiBhbmltYXRpb24uXG4gICAgICAgIGFic0hyZWYgPSB1cmxSZXNvbHZlKGFic0hyZWYuYW5pbVZhbCkuaHJlZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWdub3JlIHdoZW4gdXJsIGlzIHN0YXJ0ZWQgd2l0aCBqYXZhc2NyaXB0OiBvciBtYWlsdG86XG4gICAgICBpZiAoSUdOT1JFX1VSSV9SRUdFWFAudGVzdChhYnNIcmVmKSkgcmV0dXJuO1xuXG4gICAgICBpZiAoYWJzSHJlZiAmJiAhZWxtLmF0dHIoJ3RhcmdldCcpICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICBpZiAoJGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGFic0hyZWYsIHJlbEhyZWYpKSB7XG4gICAgICAgICAgLy8gV2UgZG8gYSBwcmV2ZW50RGVmYXVsdCBmb3IgYWxsIHVybHMgdGhhdCBhcmUgcGFydCBvZiB0aGUgYW5ndWxhciBhcHBsaWNhdGlvbixcbiAgICAgICAgICAvLyBpbiBodG1sNW1vZGUgYW5kIGFsc28gd2l0aG91dCwgc28gdGhhdCB3ZSBhcmUgYWJsZSB0byBhYm9ydCBuYXZpZ2F0aW9uIHdpdGhvdXRcbiAgICAgICAgICAvLyBnZXR0aW5nIGRvdWJsZSBlbnRyaWVzIGluIHRoZSBsb2NhdGlvbiBoaXN0b3J5LlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgLy8gdXBkYXRlIGxvY2F0aW9uIG1hbnVhbGx5XG4gICAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPSAkYnJvd3Nlci51cmwoKSkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgIC8vIGhhY2sgdG8gd29yayBhcm91bmQgRkY2IGJ1ZyA2ODQyMDggd2hlbiBzY2VuYXJpbyBydW5uZXIgY2xpY2tzIG9uIGxpbmtzXG4gICAgICAgICAgICAkd2luZG93LmFuZ3VsYXJbJ2ZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdCddID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgLy8gcmV3cml0ZSBoYXNoYmFuZyB1cmwgPD4gaHRtbDUgdXJsXG4gICAgaWYgKHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKSAhPSB0cmltRW1wdHlIYXNoKGluaXRpYWxVcmwpKSB7XG4gICAgICAkYnJvd3Nlci51cmwoJGxvY2F0aW9uLmFic1VybCgpLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcblxuICAgIC8vIHVwZGF0ZSAkbG9jYXRpb24gd2hlbiAkYnJvd3NlciB1cmwgY2hhbmdlc1xuICAgICRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCwgbmV3U3RhdGUpIHtcblxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHN0cmlwQmFzZVVybChhcHBCYXNlTm9GaWxlLCBuZXdVcmwpKSkge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbmF2aWdhdGluZyBvdXRzaWRlIG9mIHRoZSBhcHAgdGhlbiBmb3JjZSBhIHJlbG9hZFxuICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSBuZXdVcmw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb2xkVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xuICAgICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgIG5ld1VybCA9IHRyaW1FbXB0eUhhc2gobmV3VXJsKTtcbiAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2UobmV3VXJsKTtcbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBuZXdTdGF0ZTtcblxuICAgICAgICBkZWZhdWx0UHJldmVudGVkID0gJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIG5ld1VybCwgb2xkVXJsLFxuICAgICAgICAgICAgbmV3U3RhdGUsIG9sZFN0YXRlKS5kZWZhdWx0UHJldmVudGVkO1xuXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcbiAgICAgICAgLy8gcHJvY2Vzc2luZyB0aGlzIGxvY2F0aW9uIGNoYW5nZVxuICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSBuZXdVcmwpIHJldHVybjtcblxuICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCk7XG4gICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcbiAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG9sZFVybCwgZmFsc2UsIG9sZFN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSBicm93c2VyXG4gICAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gJGxvY2F0aW9uV2F0Y2goKSB7XG4gICAgICB2YXIgb2xkVXJsID0gdHJpbUVtcHR5SGFzaCgkYnJvd3Nlci51cmwoKSk7XG4gICAgICB2YXIgbmV3VXJsID0gdHJpbUVtcHR5SGFzaCgkbG9jYXRpb24uYWJzVXJsKCkpO1xuICAgICAgdmFyIG9sZFN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgIHZhciBjdXJyZW50UmVwbGFjZSA9ICRsb2NhdGlvbi4kJHJlcGxhY2U7XG4gICAgICB2YXIgdXJsT3JTdGF0ZUNoYW5nZWQgPSBvbGRVcmwgIT09IG5ld1VybCB8fFxuICAgICAgICAoJGxvY2F0aW9uLiQkaHRtbDUgJiYgJHNuaWZmZXIuaGlzdG9yeSAmJiBvbGRTdGF0ZSAhPT0gJGxvY2F0aW9uLiQkc3RhdGUpO1xuXG4gICAgICBpZiAoaW5pdGlhbGl6aW5nIHx8IHVybE9yU3RhdGVDaGFuZ2VkKSB7XG4gICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xuXG4gICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbmV3VXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xuICAgICAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkID0gJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIG5ld1VybCwgb2xkVXJsLFxuICAgICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XG5cbiAgICAgICAgICAvLyBpZiB0aGUgbG9jYXRpb24gd2FzIGNoYW5nZWQgYnkgYSBgJGxvY2F0aW9uQ2hhbmdlU3RhcnRgIGhhbmRsZXIgdGhlbiBzdG9wXG4gICAgICAgICAgLy8gcHJvY2Vzc2luZyB0aGlzIGxvY2F0aW9uIGNoYW5nZVxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IG5ld1VybCkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCk7XG4gICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodXJsT3JTdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhuZXdVcmwsIGN1cnJlbnRSZXBsYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSAkbG9jYXRpb24uJCRzdGF0ZSA/IG51bGwgOiAkbG9jYXRpb24uJCRzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRsb2NhdGlvbi4kJHJlcGxhY2UgPSBmYWxzZTtcblxuICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byByZXR1cm4gYW55dGhpbmcgYmVjYXVzZSAkZXZhbEFzeW5jIHdpbGwgbWFrZSB0aGUgZGlnZXN0IGxvb3AgZGlydHkgd2hlblxuICAgICAgLy8gdGhlcmUgaXMgYSBjaGFuZ2VcbiAgICB9KTtcblxuICAgIHJldHVybiAkbG9jYXRpb247XG5cbiAgICBmdW5jdGlvbiBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpIHtcbiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsICRsb2NhdGlvbi5hYnNVcmwoKSwgb2xkVXJsLFxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpO1xuICAgIH1cbn1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbG9nXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2ltcGxlIHNlcnZpY2UgZm9yIGxvZ2dpbmcuIERlZmF1bHQgaW1wbGVtZW50YXRpb24gc2FmZWx5IHdyaXRlcyB0aGUgbWVzc2FnZVxuICogaW50byB0aGUgYnJvd3NlcidzIGNvbnNvbGUgKGlmIHByZXNlbnQpLlxuICpcbiAqIFRoZSBtYWluIHB1cnBvc2Ugb2YgdGhpcyBzZXJ2aWNlIGlzIHRvIHNpbXBsaWZ5IGRlYnVnZ2luZyBhbmQgdHJvdWJsZXNob290aW5nLlxuICpcbiAqIFRoZSBkZWZhdWx0IGlzIHRvIGxvZyBgZGVidWdgIG1lc3NhZ2VzLiBZb3UgY2FuIHVzZVxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkfSB0byBjaGFuZ2UgdGhpcy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibG9nRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2xvZ0V4YW1wbGUnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdMb2dDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvZycsIGZ1bmN0aW9uKCRzY29wZSwgJGxvZykge1xuICAgICAgICAgICAkc2NvcGUuJGxvZyA9ICRsb2c7XG4gICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gJ0hlbGxvIFdvcmxkISc7XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJMb2dDb250cm9sbGVyXCI+XG4gICAgICAgICA8cD5SZWxvYWQgdGhpcyBwYWdlIHdpdGggb3BlbiBjb25zb2xlLCBlbnRlciB0ZXh0IGFuZCBoaXQgdGhlIGxvZyBidXR0b24uLi48L3A+XG4gICAgICAgICA8bGFiZWw+TWVzc2FnZTpcbiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibWVzc2FnZVwiIC8+PC9sYWJlbD5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmxvZyhtZXNzYWdlKVwiPmxvZzwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cud2FybihtZXNzYWdlKVwiPndhcm48L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmluZm8obWVzc2FnZSlcIj5pbmZvPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5lcnJvcihtZXNzYWdlKVwiPmVycm9yPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5kZWJ1ZyhtZXNzYWdlKVwiPmRlYnVnPC9idXR0b24+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGxvZ1Byb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGUgYCRsb2dQcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gbG9ncyBtZXNzYWdlc1xuICovXG5mdW5jdGlvbiAkTG9nUHJvdmlkZXIoKSB7XG4gIHZhciBkZWJ1ZyA9IHRydWUsXG4gICAgICBzZWxmID0gdGhpcztcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBmbGFnIGVuYWJsZSBvciBkaXNhYmxlIGRlYnVnIGxldmVsIG1lc3NhZ2VzXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqL1xuICB0aGlzLmRlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uKGZsYWcpIHtcbiAgICBpZiAoaXNEZWZpbmVkKGZsYWcpKSB7XG4gICAgICBkZWJ1ZyA9IGZsYWc7XG4gICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkZWJ1ZztcbiAgICB9XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjbG9nXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIGxvZyBtZXNzYWdlXG4gICAgICAgKi9cbiAgICAgIGxvZzogY29uc29sZUxvZygnbG9nJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNpbmZvXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhbiBpbmZvcm1hdGlvbiBtZXNzYWdlXG4gICAgICAgKi9cbiAgICAgIGluZm86IGNvbnNvbGVMb2coJ2luZm8nKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI3dhcm5cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGEgd2FybmluZyBtZXNzYWdlXG4gICAgICAgKi9cbiAgICAgIHdhcm46IGNvbnNvbGVMb2coJ3dhcm4nKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2Vycm9yXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhbiBlcnJvciBtZXNzYWdlXG4gICAgICAgKi9cbiAgICAgIGVycm9yOiBjb25zb2xlTG9nKCdlcnJvcicpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjZGVidWdcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGEgZGVidWcgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBkZWJ1ZzogKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZm4gPSBjb25zb2xlTG9nKCdkZWJ1ZycpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgIGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSgpKVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBmb3JtYXRFcnJvcihhcmcpIHtcbiAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoYXJnLnN0YWNrKSB7XG4gICAgICAgICAgYXJnID0gKGFyZy5tZXNzYWdlICYmIGFyZy5zdGFjay5pbmRleE9mKGFyZy5tZXNzYWdlKSA9PT0gLTEpXG4gICAgICAgICAgICAgID8gJ0Vycm9yOiAnICsgYXJnLm1lc3NhZ2UgKyAnXFxuJyArIGFyZy5zdGFja1xuICAgICAgICAgICAgICA6IGFyZy5zdGFjaztcbiAgICAgICAgfSBlbHNlIGlmIChhcmcuc291cmNlVVJMKSB7XG4gICAgICAgICAgYXJnID0gYXJnLm1lc3NhZ2UgKyAnXFxuJyArIGFyZy5zb3VyY2VVUkwgKyAnOicgKyBhcmcubGluZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFyZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25zb2xlTG9nKHR5cGUpIHtcbiAgICAgIHZhciBjb25zb2xlID0gJHdpbmRvdy5jb25zb2xlIHx8IHt9LFxuICAgICAgICAgIGxvZ0ZuID0gY29uc29sZVt0eXBlXSB8fCBjb25zb2xlLmxvZyB8fCBub29wLFxuICAgICAgICAgIGhhc0FwcGx5ID0gZmFsc2U7XG5cbiAgICAgIC8vIE5vdGU6IHJlYWRpbmcgbG9nRm4uYXBwbHkgdGhyb3dzIGFuIGVycm9yIGluIElFMTEgaW4gSUU4IGRvY3VtZW50IG1vZGUuXG4gICAgICAvLyBUaGUgcmVhc29uIGJlaGluZCB0aGlzIGlzIHRoYXQgY29uc29sZS5sb2cgaGFzIHR5cGUgXCJvYmplY3RcIiBpbiBJRTguLi5cbiAgICAgIHRyeSB7XG4gICAgICAgIGhhc0FwcGx5ID0gISFsb2dGbi5hcHBseTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIGlmIChoYXNBcHBseSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goZm9ybWF0RXJyb3IoYXJnKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGxvZ0ZuLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyB3ZSBhcmUgSUUgd2hpY2ggZWl0aGVyIGRvZXNuJ3QgaGF2ZSB3aW5kb3cuY29uc29sZSA9PiB0aGlzIGlzIG5vb3AgYW5kIHdlIGRvIG5vdGhpbmcsXG4gICAgICAvLyBvciB3ZSBhcmUgSUUgd2hlcmUgY29uc29sZS5sb2cgZG9lc24ndCBoYXZlIGFwcGx5IHNvIHdlIGxvZyBhdCBsZWFzdCBmaXJzdCAyIGFyZ3NcbiAgICAgIHJldHVybiBmdW5jdGlvbihhcmcxLCBhcmcyKSB7XG4gICAgICAgIGxvZ0ZuKGFyZzEsIGFyZzIgPT0gbnVsbCA/ICcnIDogYXJnMik7XG4gICAgICB9O1xuICAgIH1cbiAgfV07XG59XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXG5cbnZhciAkcGFyc2VNaW5FcnIgPSBtaW5FcnIoJyRwYXJzZScpO1xuXG4vLyBTYW5kYm94aW5nIEFuZ3VsYXIgRXhwcmVzc2lvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQW5ndWxhciBleHByZXNzaW9ucyBhcmUgZ2VuZXJhbGx5IGNvbnNpZGVyZWQgc2FmZSBiZWNhdXNlIHRoZXNlIGV4cHJlc3Npb25zIG9ubHkgaGF2ZSBkaXJlY3Rcbi8vIGFjY2VzcyB0byBgJHNjb3BlYCBhbmQgbG9jYWxzLiBIb3dldmVyLCBvbmUgY2FuIG9idGFpbiB0aGUgYWJpbGl0eSB0byBleGVjdXRlIGFyYml0cmFyeSBKUyBjb2RlIGJ5XG4vLyBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gbmF0aXZlIEpTIGZ1bmN0aW9ucyBzdWNoIGFzIHRoZSBGdW5jdGlvbiBjb25zdHJ1Y3Rvci5cbi8vXG4vLyBBcyBhbiBleGFtcGxlLCBjb25zaWRlciB0aGUgZm9sbG93aW5nIEFuZ3VsYXIgZXhwcmVzc2lvbjpcbi8vXG4vLyAgIHt9LnRvU3RyaW5nLmNvbnN0cnVjdG9yKCdhbGVydChcImV2aWwgSlMgY29kZVwiKScpXG4vL1xuLy8gVGhpcyBzYW5kYm94aW5nIHRlY2huaXF1ZSBpcyBub3QgcGVyZmVjdCBhbmQgZG9lc24ndCBhaW0gdG8gYmUuIFRoZSBnb2FsIGlzIHRvIHByZXZlbnQgZXhwbG9pdHNcbi8vIGFnYWluc3QgdGhlIGV4cHJlc3Npb24gbGFuZ3VhZ2UsIGJ1dCBub3QgdG8gcHJldmVudCBleHBsb2l0cyB0aGF0IHdlcmUgZW5hYmxlZCBieSBleHBvc2luZ1xuLy8gc2Vuc2l0aXZlIEphdmFTY3JpcHQgb3IgYnJvd3NlciBBUElzIG9uIFNjb3BlLiBFeHBvc2luZyBzdWNoIG9iamVjdHMgb24gYSBTY29wZSBpcyBuZXZlciBhIGdvb2Rcbi8vIHByYWN0aWNlIGFuZCB0aGVyZWZvcmUgd2UgYXJlIG5vdCBldmVuIHRyeWluZyB0byBwcm90ZWN0IGFnYWluc3QgaW50ZXJhY3Rpb24gd2l0aCBhbiBvYmplY3Rcbi8vIGV4cGxpY2l0bHkgZXhwb3NlZCBpbiB0aGlzIHdheS5cbi8vXG4vLyBJbiBnZW5lcmFsLCBpdCBpcyBub3QgcG9zc2libGUgdG8gYWNjZXNzIGEgV2luZG93IG9iamVjdCBmcm9tIGFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB1bmxlc3MgYVxuLy8gd2luZG93IG9yIHNvbWUgRE9NIG9iamVjdCB0aGF0IGhhcyBhIHJlZmVyZW5jZSB0byB3aW5kb3cgaXMgcHVibGlzaGVkIG9udG8gYSBTY29wZS5cbi8vIFNpbWlsYXJseSB3ZSBwcmV2ZW50IGludm9jYXRpb25zIG9mIGZ1bmN0aW9uIGtub3duIHRvIGJlIGRhbmdlcm91cywgYXMgd2VsbCBhcyBhc3NpZ25tZW50cyB0b1xuLy8gbmF0aXZlIG9iamVjdHMuXG4vL1xuLy8gU2VlIGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2d1aWRlL3NlY3VyaXR5XG5cblxuZnVuY3Rpb24gZW5zdXJlU2FmZU1lbWJlck5hbWUobmFtZSwgZnVsbEV4cHJlc3Npb24pIHtcbiAgaWYgKG5hbWUgPT09IFwiX19kZWZpbmVHZXR0ZXJfX1wiIHx8IG5hbWUgPT09IFwiX19kZWZpbmVTZXR0ZXJfX1wiXG4gICAgICB8fCBuYW1lID09PSBcIl9fbG9va3VwR2V0dGVyX19cIiB8fCBuYW1lID09PSBcIl9fbG9va3VwU2V0dGVyX19cIlxuICAgICAgfHwgbmFtZSA9PT0gXCJfX3Byb3RvX19cIikge1xuICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZsZCcsXG4gICAgICAgICdBdHRlbXB0aW5nIHRvIGFjY2VzcyBhIGRpc2FsbG93ZWQgZmllbGQgaW4gQW5ndWxhciBleHByZXNzaW9ucyEgJ1xuICAgICAgICArICdFeHByZXNzaW9uOiB7MH0nLCBmdWxsRXhwcmVzc2lvbik7XG4gIH1cbiAgcmV0dXJuIG5hbWU7XG59XG5cbmZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKG5hbWUpIHtcbiAgLy8gUHJvcGVydHkgbmFtZXMgbXVzdCBiZSBzdHJpbmdzLiBUaGlzIG1lYW5zIHRoYXQgbm9uLXN0cmluZyBvYmplY3RzIGNhbm5vdCBiZSB1c2VkXG4gIC8vIGFzIGtleXMgaW4gYW4gb2JqZWN0LiBBbnkgbm9uLXN0cmluZyBvYmplY3QsIGluY2x1ZGluZyBhIG51bWJlciwgaXMgdHlwZWNhc3RlZFxuICAvLyBpbnRvIGEgc3RyaW5nIHZpYSB0aGUgdG9TdHJpbmcgbWV0aG9kLlxuICAvLyAtLSBNRE4sIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9Qcm9wZXJ0eV9hY2Nlc3NvcnMjUHJvcGVydHlfbmFtZXNcbiAgLy9cbiAgLy8gU28sIHRvIGVuc3VyZSB0aGF0IHdlIGFyZSBjaGVja2luZyB0aGUgc2FtZSBgbmFtZWAgdGhhdCBKYXZhU2NyaXB0IHdvdWxkIHVzZSwgd2UgY2FzdCBpdFxuICAvLyB0byBhIHN0cmluZy4gSXQncyBub3QgYWx3YXlzIHBvc3NpYmxlLiBJZiBgbmFtZWAgaXMgYW4gb2JqZWN0IGFuZCBpdHMgYHRvU3RyaW5nYCBtZXRob2QgaXNcbiAgLy8gJ2Jyb2tlbicgKGRvZXNuJ3QgcmV0dXJuIGEgc3RyaW5nLCBpc24ndCBhIGZ1bmN0aW9uLCBldGMuKSwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd246XG4gIC8vXG4gIC8vIFR5cGVFcnJvcjogQ2Fubm90IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVxuICAvL1xuICAvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2UgZG9uJ3QgY2F0Y2ggdGhpcyBlcnJvciBoZXJlIGFuZCBhbGxvdyBpdCB0byBwcm9wYWdhdGUgdXAgdGhlIGNhbGxcbiAgLy8gc3RhY2suIE5vdGUgdGhhdCB5b3UnbGwgZ2V0IHRoZSBzYW1lIGVycm9yIGluIEphdmFTY3JpcHQgaWYgeW91IHRyeSB0byBhY2Nlc3MgYSBwcm9wZXJ0eSB1c2luZ1xuICAvLyBzdWNoIGEgJ2Jyb2tlbicgb2JqZWN0IGFzIGEga2V5LlxuICByZXR1cm4gbmFtZSArICcnO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcbiAgLy8gbmlmdHkgY2hlY2sgaWYgb2JqIGlzIEZ1bmN0aW9uIHRoYXQgaXMgZmFzdCBhbmQgd29ya3MgYWNyb3NzIGlmcmFtZXMgYW5kIG90aGVyIGNvbnRleHRzXG4gIGlmIChvYmopIHtcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBvYmopIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZuJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKC8vIGlzV2luZG93KG9iailcbiAgICAgICAgb2JqLndpbmRvdyA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWN3aW5kb3cnLFxuICAgICAgICAgICdSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBpc0VsZW1lbnQob2JqKVxuICAgICAgICBvYmouY2hpbGRyZW4gJiYgKG9iai5ub2RlTmFtZSB8fCAob2JqLnByb3AgJiYgb2JqLmF0dHIgJiYgb2JqLmZpbmQpKSkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZG9tJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRE9NIG5vZGVzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBibG9jayBPYmplY3Qgc28gdGhhdCB3ZSBjYW4ndCBnZXQgaG9sZCBvZiBkYW5nZXJvdXMgT2JqZWN0LiogbWV0aG9kc1xuICAgICAgICBvYmogPT09IE9iamVjdCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjb2JqJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBDQUxMID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG52YXIgQVBQTFkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgQklORCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuXG5mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAob2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsXG4gICAgICAgICdSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gQ0FMTCB8fCBvYmogPT09IEFQUExZIHx8IG9iaiA9PT0gQklORCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmYnLFxuICAgICAgICAnUmVmZXJlbmNpbmcgY2FsbCwgYXBwbHkgb3IgYmluZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQob2JqLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gKDApLmNvbnN0cnVjdG9yIHx8IG9iaiA9PT0gKGZhbHNlKS5jb25zdHJ1Y3RvciB8fCBvYmogPT09ICcnLmNvbnN0cnVjdG9yIHx8XG4gICAgICAgIG9iaiA9PT0ge30uY29uc3RydWN0b3IgfHwgb2JqID09PSBbXS5jb25zdHJ1Y3RvciB8fCBvYmogPT09IEZ1bmN0aW9uLmNvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNhZicsXG4gICAgICAgICdBc3NpZ25pbmcgdG8gYSBjb25zdHJ1Y3RvciBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLCBmdWxsRXhwcmVzc2lvbik7XG4gICAgfVxuICB9XG59XG5cbnZhciBPUEVSQVRPUlMgPSBjcmVhdGVNYXAoKTtcbmZvckVhY2goJysgLSAqIC8gJSA9PT0gIT09ID09ICE9IDwgPiA8PSA+PSAmJiB8fCAhID0gfCcuc3BsaXQoJyAnKSwgZnVuY3Rpb24ob3BlcmF0b3IpIHsgT1BFUkFUT1JTW29wZXJhdG9yXSA9IHRydWU7IH0pO1xudmFyIEVTQ0FQRSA9IHtcIm5cIjpcIlxcblwiLCBcImZcIjpcIlxcZlwiLCBcInJcIjpcIlxcclwiLCBcInRcIjpcIlxcdFwiLCBcInZcIjpcIlxcdlwiLCBcIidcIjpcIidcIiwgJ1wiJzonXCInfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBMZXhlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbn07XG5cbkxleGVyLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IExleGVyLFxuXG4gIGxleDogZnVuY3Rpb24odGV4dCkge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy50b2tlbnMgPSBbXTtcblxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIGlmIChjaCA9PT0gJ1wiJyB8fCBjaCA9PT0gXCInXCIpIHtcbiAgICAgICAgdGhpcy5yZWFkU3RyaW5nKGNoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc051bWJlcihjaCkgfHwgY2ggPT09ICcuJyAmJiB0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSkge1xuICAgICAgICB0aGlzLnJlYWROdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lkZW50aWZpZXJTdGFydCh0aGlzLnBlZWtNdWx0aWNoYXIoKSkpIHtcbiAgICAgICAgdGhpcy5yZWFkSWRlbnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcyhjaCwgJygpe31bXS4sOzo/JykpIHtcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IGNofSk7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1doaXRlc3BhY2UoY2gpKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaDIgPSBjaCArIHRoaXMucGVlaygpO1xuICAgICAgICB2YXIgY2gzID0gY2gyICsgdGhpcy5wZWVrKDIpO1xuICAgICAgICB2YXIgb3AxID0gT1BFUkFUT1JTW2NoXTtcbiAgICAgICAgdmFyIG9wMiA9IE9QRVJBVE9SU1tjaDJdO1xuICAgICAgICB2YXIgb3AzID0gT1BFUkFUT1JTW2NoM107XG4gICAgICAgIGlmIChvcDEgfHwgb3AyIHx8IG9wMykge1xuICAgICAgICAgIHZhciB0b2tlbiA9IG9wMyA/IGNoMyA6IChvcDIgPyBjaDIgOiBjaCk7XG4gICAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IHRva2VuLCBvcGVyYXRvcjogdHJ1ZX0pO1xuICAgICAgICAgIHRoaXMuaW5kZXggKz0gdG9rZW4ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciAnLCB0aGlzLmluZGV4LCB0aGlzLmluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zO1xuICB9LFxuXG4gIGlzOiBmdW5jdGlvbihjaCwgY2hhcnMpIHtcbiAgICByZXR1cm4gY2hhcnMuaW5kZXhPZihjaCkgIT09IC0xO1xuICB9LFxuXG4gIHBlZWs6IGZ1bmN0aW9uKGkpIHtcbiAgICB2YXIgbnVtID0gaSB8fCAxO1xuICAgIHJldHVybiAodGhpcy5pbmRleCArIG51bSA8IHRoaXMudGV4dC5sZW5ndGgpID8gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4ICsgbnVtKSA6IGZhbHNlO1xuICB9LFxuXG4gIGlzTnVtYmVyOiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoJzAnIDw9IGNoICYmIGNoIDw9ICc5JykgJiYgdHlwZW9mIGNoID09PSBcInN0cmluZ1wiO1xuICB9LFxuXG4gIGlzV2hpdGVzcGFjZTogZnVuY3Rpb24oY2gpIHtcbiAgICAvLyBJRSB0cmVhdHMgbm9uLWJyZWFraW5nIHNwYWNlIGFzIFxcdTAwQTBcbiAgICByZXR1cm4gKGNoID09PSAnICcgfHwgY2ggPT09ICdcXHInIHx8IGNoID09PSAnXFx0JyB8fFxuICAgICAgICAgICAgY2ggPT09ICdcXG4nIHx8IGNoID09PSAnXFx2JyB8fCBjaCA9PT0gJ1xcdTAwQTAnKTtcbiAgfSxcblxuICBpc0lkZW50aWZpZXJTdGFydDogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0ID9cbiAgICAgICAgdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0KGNoLCB0aGlzLmNvZGVQb2ludEF0KGNoKSkgOlxuICAgICAgICB0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoY2gpO1xuICB9LFxuXG4gIGlzVmFsaWRJZGVudGlmaWVyU3RhcnQ6IGZ1bmN0aW9uKGNoKSB7XG4gICAgcmV0dXJuICgnYScgPD0gY2ggJiYgY2ggPD0gJ3onIHx8XG4gICAgICAgICAgICAnQScgPD0gY2ggJiYgY2ggPD0gJ1onIHx8XG4gICAgICAgICAgICAnXycgPT09IGNoIHx8IGNoID09PSAnJCcpO1xuICB9LFxuXG4gIGlzSWRlbnRpZmllckNvbnRpbnVlOiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUgP1xuICAgICAgICB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUoY2gsIHRoaXMuY29kZVBvaW50QXQoY2gpKSA6XG4gICAgICAgIHRoaXMuaXNWYWxpZElkZW50aWZpZXJDb250aW51ZShjaCk7XG4gIH0sXG5cbiAgaXNWYWxpZElkZW50aWZpZXJDb250aW51ZTogZnVuY3Rpb24oY2gsIGNwKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZElkZW50aWZpZXJTdGFydChjaCwgY3ApIHx8IHRoaXMuaXNOdW1iZXIoY2gpO1xuICB9LFxuXG4gIGNvZGVQb2ludEF0OiBmdW5jdGlvbihjaCkge1xuICAgIGlmIChjaC5sZW5ndGggPT09IDEpIHJldHVybiBjaC5jaGFyQ29kZUF0KDApO1xuICAgIC8qanNoaW50IGJpdHdpc2U6IGZhbHNlKi9cbiAgICByZXR1cm4gKGNoLmNoYXJDb2RlQXQoMCkgPDwgMTApICsgY2guY2hhckNvZGVBdCgxKSAtIDB4MzVGREMwMDtcbiAgICAvKmpzaGludCBiaXR3aXNlOiB0cnVlKi9cbiAgfSxcblxuICBwZWVrTXVsdGljaGFyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgIHZhciBwZWVrID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKCFwZWVrKSB7XG4gICAgICByZXR1cm4gY2g7XG4gICAgfVxuICAgIHZhciBjcDEgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBjcDIgPSBwZWVrLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKGNwMSA+PSAweEQ4MDAgJiYgY3AxIDw9IDB4REJGRiAmJiBjcDIgPj0gMHhEQzAwICYmIGNwMiA8PSAweERGRkYpIHtcbiAgICAgIHJldHVybiBjaCArIHBlZWs7XG4gICAgfVxuICAgIHJldHVybiBjaDtcbiAgfSxcblxuICBpc0V4cE9wZXJhdG9yOiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnIHx8IHRoaXMuaXNOdW1iZXIoY2gpKTtcbiAgfSxcblxuICB0aHJvd0Vycm9yOiBmdW5jdGlvbihlcnJvciwgc3RhcnQsIGVuZCkge1xuICAgIGVuZCA9IGVuZCB8fCB0aGlzLmluZGV4O1xuICAgIHZhciBjb2xTdHIgPSAoaXNEZWZpbmVkKHN0YXJ0KVxuICAgICAgICAgICAgPyAncyAnICsgc3RhcnQgKyAgJy0nICsgdGhpcy5pbmRleCArICcgWycgKyB0aGlzLnRleHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpICsgJ10nXG4gICAgICAgICAgICA6ICcgJyArIGVuZCk7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsZXhlcnInLCAnTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4nLFxuICAgICAgICBlcnJvciwgY29sU3RyLCB0aGlzLnRleHQpO1xuICB9LFxuXG4gIHJlYWROdW1iZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBudW1iZXIgPSAnJztcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gbG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO1xuICAgICAgaWYgKGNoID09ICcuJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSkge1xuICAgICAgICBudW1iZXIgKz0gY2g7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGVla0NoID0gdGhpcy5wZWVrKCk7XG4gICAgICAgIGlmIChjaCA9PSAnZScgJiYgdGhpcy5pc0V4cE9wZXJhdG9yKHBlZWtDaCkpIHtcbiAgICAgICAgICBudW1iZXIgKz0gY2g7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSAmJlxuICAgICAgICAgICAgcGVla0NoICYmIHRoaXMuaXNOdW1iZXIocGVla0NoKSAmJlxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgICghcGVla0NoIHx8ICF0aGlzLmlzTnVtYmVyKHBlZWtDaCkpICYmXG4gICAgICAgICAgICBudW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGggLSAxKSA9PSAnZScpIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0ludmFsaWQgZXhwb25lbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgIHRleHQ6IG51bWJlcixcbiAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgdmFsdWU6IE51bWJlcihudW1iZXIpXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZElkZW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHRoaXMuaW5kZXggKz0gdGhpcy5wZWVrTXVsdGljaGFyKCkubGVuZ3RoO1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy5wZWVrTXVsdGljaGFyKCk7XG4gICAgICBpZiAoIXRoaXMuaXNJZGVudGlmaWVyQ29udGludWUoY2gpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCArPSBjaC5sZW5ndGg7XG4gICAgfVxuICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgaW5kZXg6IHN0YXJ0LFxuICAgICAgdGV4dDogdGhpcy50ZXh0LnNsaWNlKHN0YXJ0LCB0aGlzLmluZGV4KSxcbiAgICAgIGlkZW50aWZpZXI6IHRydWVcbiAgICB9KTtcbiAgfSxcblxuICByZWFkU3RyaW5nOiBmdW5jdGlvbihxdW90ZSkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgdGhpcy5pbmRleCsrO1xuICAgIHZhciBzdHJpbmcgPSAnJztcbiAgICB2YXIgcmF3U3RyaW5nID0gcXVvdGU7XG4gICAgdmFyIGVzY2FwZSA9IGZhbHNlO1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIHJhd1N0cmluZyArPSBjaDtcbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgaWYgKGNoID09PSAndScpIHtcbiAgICAgICAgICB2YXIgaGV4ID0gdGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4ICsgMSwgdGhpcy5pbmRleCArIDUpO1xuICAgICAgICAgIGlmICghaGV4Lm1hdGNoKC9bXFxkYS1mXXs0fS9pKSkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdScgKyBoZXggKyAnXScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmluZGV4ICs9IDQ7XG4gICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LCAxNikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZXAgPSBFU0NBUEVbY2hdO1xuICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIChyZXAgfHwgY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVzY2FwZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGVzY2FwZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSBxdW90ZSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgICAgICB0ZXh0OiByYXdTdHJpbmcsXG4gICAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgICAgdmFsdWU6IHN0cmluZ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyaW5nICs9IGNoO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLnRocm93RXJyb3IoJ1VudGVybWluYXRlZCBxdW90ZScsIHN0YXJ0KTtcbiAgfVxufTtcblxudmFyIEFTVCA9IGZ1bmN0aW9uKGxleGVyLCBvcHRpb25zKSB7XG4gIHRoaXMubGV4ZXIgPSBsZXhlcjtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbn07XG5cbkFTVC5Qcm9ncmFtID0gJ1Byb2dyYW0nO1xuQVNULkV4cHJlc3Npb25TdGF0ZW1lbnQgPSAnRXhwcmVzc2lvblN0YXRlbWVudCc7XG5BU1QuQXNzaWdubWVudEV4cHJlc3Npb24gPSAnQXNzaWdubWVudEV4cHJlc3Npb24nO1xuQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbiA9ICdDb25kaXRpb25hbEV4cHJlc3Npb24nO1xuQVNULkxvZ2ljYWxFeHByZXNzaW9uID0gJ0xvZ2ljYWxFeHByZXNzaW9uJztcbkFTVC5CaW5hcnlFeHByZXNzaW9uID0gJ0JpbmFyeUV4cHJlc3Npb24nO1xuQVNULlVuYXJ5RXhwcmVzc2lvbiA9ICdVbmFyeUV4cHJlc3Npb24nO1xuQVNULkNhbGxFeHByZXNzaW9uID0gJ0NhbGxFeHByZXNzaW9uJztcbkFTVC5NZW1iZXJFeHByZXNzaW9uID0gJ01lbWJlckV4cHJlc3Npb24nO1xuQVNULklkZW50aWZpZXIgPSAnSWRlbnRpZmllcic7XG5BU1QuTGl0ZXJhbCA9ICdMaXRlcmFsJztcbkFTVC5BcnJheUV4cHJlc3Npb24gPSAnQXJyYXlFeHByZXNzaW9uJztcbkFTVC5Qcm9wZXJ0eSA9ICdQcm9wZXJ0eSc7XG5BU1QuT2JqZWN0RXhwcmVzc2lvbiA9ICdPYmplY3RFeHByZXNzaW9uJztcbkFTVC5UaGlzRXhwcmVzc2lvbiA9ICdUaGlzRXhwcmVzc2lvbic7XG5BU1QuTG9jYWxzRXhwcmVzc2lvbiA9ICdMb2NhbHNFeHByZXNzaW9uJztcblxuLy8gSW50ZXJuYWwgdXNlIG9ubHlcbkFTVC5OR1ZhbHVlUGFyYW1ldGVyID0gJ05HVmFsdWVQYXJhbWV0ZXInO1xuXG5BU1QucHJvdG90eXBlID0ge1xuICBhc3Q6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMudG9rZW5zID0gdGhpcy5sZXhlci5sZXgodGV4dCk7XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb2dyYW0oKTtcblxuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignaXMgYW4gdW5leHBlY3RlZCB0b2tlbicsIHRoaXMudG9rZW5zWzBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgcHJvZ3JhbTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJvZHkgPSBbXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IDAgJiYgIXRoaXMucGVlaygnfScsICcpJywgJzsnLCAnXScpKVxuICAgICAgICBib2R5LnB1c2godGhpcy5leHByZXNzaW9uU3RhdGVtZW50KCkpO1xuICAgICAgaWYgKCF0aGlzLmV4cGVjdCgnOycpKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5Qcm9ncmFtLCBib2R5OiBib2R5fTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZXhwcmVzc2lvblN0YXRlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkV4cHJlc3Npb25TdGF0ZW1lbnQsIGV4cHJlc3Npb246IHRoaXMuZmlsdGVyQ2hhaW4oKSB9O1xuICB9LFxuXG4gIGZpbHRlckNoYWluOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJ3wnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmZpbHRlcihsZWZ0KTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgZXhwcmVzc2lvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudCgpO1xuICB9LFxuXG4gIGFzc2lnbm1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLnRlcm5hcnkoKTtcbiAgICBpZiAodGhpcy5leHBlY3QoJz0nKSkge1xuICAgICAgcmVzdWx0ID0geyB0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IHJlc3VsdCwgcmlnaHQ6IHRoaXMuYXNzaWdubWVudCgpLCBvcGVyYXRvcjogJz0nfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVzdCA9IHRoaXMubG9naWNhbE9SKCk7XG4gICAgdmFyIGFsdGVybmF0ZTtcbiAgICB2YXIgY29uc2VxdWVudDtcbiAgICBpZiAodGhpcy5leHBlY3QoJz8nKSkge1xuICAgICAgYWx0ZXJuYXRlID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICBpZiAodGhpcy5jb25zdW1lKCc6JykpIHtcbiAgICAgICAgY29uc2VxdWVudCA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uLCB0ZXN0OiB0ZXN0LCBhbHRlcm5hdGU6IGFsdGVybmF0ZSwgY29uc2VxdWVudDogY29uc2VxdWVudH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXN0O1xuICB9LFxuXG4gIGxvZ2ljYWxPUjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmxvZ2ljYWxBTkQoKTtcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJ3x8JykpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5Mb2dpY2FsRXhwcmVzc2lvbiwgb3BlcmF0b3I6ICd8fCcsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmxvZ2ljYWxBTkQoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBsb2dpY2FsQU5EOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuZXF1YWxpdHkoKTtcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJyYmJykpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5Mb2dpY2FsRXhwcmVzc2lvbiwgb3BlcmF0b3I6ICcmJicsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmVxdWFsaXR5KCl9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBlcXVhbGl0eTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLnJlbGF0aW9uYWwoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc9PScsJyE9JywnPT09JywnIT09JykpKSB7XG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLnJlbGF0aW9uYWwoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICByZWxhdGlvbmFsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuYWRkaXRpdmUoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc8JywgJz4nLCAnPD0nLCAnPj0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMuYWRkaXRpdmUoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBhZGRpdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsJy0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMubXVsdGlwbGljYXRpdmUoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBtdWx0aXBsaWNhdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLnVuYXJ5KCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKicsJy8nLCclJykpKSB7XG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLnVuYXJ5KCkgfTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgdW5hcnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b2tlbjtcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJysnLCAnLScsICchJykpKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuVW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgcHJlZml4OiB0cnVlLCBhcmd1bWVudDogdGhpcy51bmFyeSgpIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9XG4gIH0sXG5cbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByaW1hcnk7XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XG4gICAgICB0aGlzLmNvbnN1bWUoJyknKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCd7JykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxmUmVmZXJlbnRpYWwuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCkpIHtcbiAgICAgIHByaW1hcnkgPSBjb3B5KHRoaXMuc2VsZlJlZmVyZW50aWFsW3RoaXMuY29uc3VtZSgpLnRleHRdKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5saXRlcmFscy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KSkge1xuICAgICAgcHJpbWFyeSA9IHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0aGlzLm9wdGlvbnMubGl0ZXJhbHNbdGhpcy5jb25zdW1lKCkudGV4dF19O1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllcikge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuaWRlbnRpZmllcigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmNvbnN0YW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignbm90IGEgcHJpbWFyeSBleHByZXNzaW9uJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cblxuICAgIHZhciBuZXh0O1xuICAgIHdoaWxlICgobmV4dCA9IHRoaXMuZXhwZWN0KCcoJywgJ1snLCAnLicpKSkge1xuICAgICAgaWYgKG5leHQudGV4dCA9PT0gJygnKSB7XG4gICAgICAgIHByaW1hcnkgPSB7dHlwZTogQVNULkNhbGxFeHByZXNzaW9uLCBjYWxsZWU6IHByaW1hcnksIGFyZ3VtZW50czogdGhpcy5wYXJzZUFyZ3VtZW50cygpIH07XG4gICAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICdbJykge1xuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5leHByZXNzaW9uKCksIGNvbXB1dGVkOiB0cnVlIH07XG4gICAgICAgIHRoaXMuY29uc3VtZSgnXScpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICcuJykge1xuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5pZGVudGlmaWVyKCksIGNvbXB1dGVkOiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJTVBPU1NJQkxFJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmltYXJ5O1xuICB9LFxuXG4gIGZpbHRlcjogZnVuY3Rpb24oYmFzZUV4cHJlc3Npb24pIHtcbiAgICB2YXIgYXJncyA9IFtiYXNlRXhwcmVzc2lvbl07XG4gICAgdmFyIHJlc3VsdCA9IHt0eXBlOiBBU1QuQ2FsbEV4cHJlc3Npb24sIGNhbGxlZTogdGhpcy5pZGVudGlmaWVyKCksIGFyZ3VtZW50czogYXJncywgZmlsdGVyOiB0cnVlfTtcblxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnOicpKSB7XG4gICAgICBhcmdzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgcGFyc2VBcmd1bWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJyknKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGFyZ3MucHVzaCh0aGlzLmZpbHRlckNoYWluKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHJldHVybiBhcmdzO1xuICB9LFxuXG4gIGlkZW50aWZpZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZSgpO1xuICAgIGlmICghdG9rZW4uaWRlbnRpZmllcikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBub3QgYSB2YWxpZCBpZGVudGlmaWVyJywgdG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBBU1QuSWRlbnRpZmllciwgbmFtZTogdG9rZW4udGV4dCB9O1xuICB9LFxuXG4gIGNvbnN0YW50OiBmdW5jdGlvbigpIHtcbiAgICAvLyBUT0RPIGNoZWNrIHRoYXQgaXQgaXMgYSBjb25zdGFudFxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogdGhpcy5jb25zdW1lKCkudmFsdWUgfTtcbiAgfSxcblxuICBhcnJheURlY2xhcmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnXScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnXScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnXScpO1xuXG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkFycmF5RXhwcmVzc2lvbiwgZWxlbWVudHM6IGVsZW1lbnRzIH07XG4gIH0sXG5cbiAgb2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdLCBwcm9wZXJ0eTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnfScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnfScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHByb3BlcnR5ID0ge3R5cGU6IEFTVC5Qcm9wZXJ0eSwga2luZDogJ2luaXQnfTtcbiAgICAgICAgaWYgKHRoaXMucGVlaygpLmNvbnN0YW50KSB7XG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5jb25zdGFudCgpO1xuICAgICAgICAgIHByb3BlcnR5LmNvbXB1dGVkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XG4gICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5pZGVudGlmaWVyKSB7XG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5pZGVudGlmaWVyKCk7XG4gICAgICAgICAgcHJvcGVydHkuY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAodGhpcy5wZWVrKCc6JykpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgnOicpO1xuICAgICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvcGVydHkudmFsdWUgPSBwcm9wZXJ0eS5rZXk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygnWycpKSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCdbJyk7XG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCddJyk7XG4gICAgICAgICAgcHJvcGVydHkuY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgnOicpO1xuICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIiwgdGhpcy5wZWVrKCkpO1xuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcbiAgICB9XG4gICAgdGhpcy5jb25zdW1lKCd9Jyk7XG5cbiAgICByZXR1cm4ge3R5cGU6IEFTVC5PYmplY3RFeHByZXNzaW9uLCBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIH07XG4gIH0sXG5cbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24obXNnLCB0b2tlbikge1xuICAgIHRocm93ICRwYXJzZU1pbkVycignc3ludGF4JyxcbiAgICAgICAgJ1N5bnRheCBFcnJvcjogVG9rZW4gXFwnezB9XFwnIHsxfSBhdCBjb2x1bW4gezJ9IG9mIHRoZSBleHByZXNzaW9uIFt7M31dIHN0YXJ0aW5nIGF0IFt7NH1dLicsXG4gICAgICAgICAgdG9rZW4udGV4dCwgbXNnLCAodG9rZW4uaW5kZXggKyAxKSwgdGhpcy50ZXh0LCB0aGlzLnRleHQuc3Vic3RyaW5nKHRva2VuLmluZGV4KSk7XG4gIH0sXG5cbiAgY29uc3VtZTogZnVuY3Rpb24oZTEpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdChlMSk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG5cbiAgcGVla1Rva2VuOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zWzBdO1xuICB9LFxuXG4gIHBlZWs6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgcmV0dXJuIHRoaXMucGVla0FoZWFkKDAsIGUxLCBlMiwgZTMsIGU0KTtcbiAgfSxcblxuICBwZWVrQWhlYWQ6IGZ1bmN0aW9uKGksIGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IGkpIHtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xuICAgICAgdmFyIHQgPSB0b2tlbi50ZXh0O1xuICAgICAgaWYgKHQgPT09IGUxIHx8IHQgPT09IGUyIHx8IHQgPT09IGUzIHx8IHQgPT09IGU0IHx8XG4gICAgICAgICAgKCFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgZXhwZWN0OiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMucGVlayhlMSwgZTIsIGUzLCBlNCk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgc2VsZlJlZmVyZW50aWFsOiB7XG4gICAgJ3RoaXMnOiB7dHlwZTogQVNULlRoaXNFeHByZXNzaW9uIH0sXG4gICAgJyRsb2NhbHMnOiB7dHlwZTogQVNULkxvY2Fsc0V4cHJlc3Npb24gfVxuICB9XG59O1xuXG5mdW5jdGlvbiBpZkRlZmluZWQodiwgZCkge1xuICByZXR1cm4gdHlwZW9mIHYgIT09ICd1bmRlZmluZWQnID8gdiA6IGQ7XG59XG5cbmZ1bmN0aW9uIHBsdXNGbihsLCByKSB7XG4gIGlmICh0eXBlb2YgbCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiByO1xuICBpZiAodHlwZW9mIHIgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbDtcbiAgcmV0dXJuIGwgKyByO1xufVxuXG5mdW5jdGlvbiBpc1N0YXRlbGVzcygkZmlsdGVyLCBmaWx0ZXJOYW1lKSB7XG4gIHZhciBmbiA9ICRmaWx0ZXIoZmlsdGVyTmFtZSk7XG4gIHJldHVybiAhZm4uJHN0YXRlZnVsO1xufVxuXG5mdW5jdGlvbiBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgJGZpbHRlcikge1xuICB2YXIgYWxsQ29uc3RhbnRzO1xuICB2YXIgYXJnc1RvV2F0Y2g7XG4gIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgY2FzZSBBU1QuUHJvZ3JhbTpcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwci5leHByZXNzaW9uLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmV4cHJlc3Npb24uY29uc3RhbnQ7XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgIGFzdC5jb25zdGFudCA9IHRydWU7XG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFyZ3VtZW50LCAkZmlsdGVyKTtcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QuYXJndW1lbnQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuYXJndW1lbnQudG9XYXRjaDtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmxlZnQudG9XYXRjaC5jb25jYXQoYXN0LnJpZ2h0LnRvV2F0Y2gpO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmNvbnN0YW50ID8gW10gOiBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnRlc3QsICRmaWx0ZXIpO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFsdGVybmF0ZSwgJGZpbHRlcik7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QuY29uc2VxdWVudCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LnRlc3QuY29uc3RhbnQgJiYgYXN0LmFsdGVybmF0ZS5jb25zdGFudCAmJiBhc3QuY29uc2VxdWVudC5jb25zdGFudDtcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULklkZW50aWZpZXI6XG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5vYmplY3QsICRmaWx0ZXIpO1xuICAgIGlmIChhc3QuY29tcHV0ZWQpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnByb3BlcnR5LCAkZmlsdGVyKTtcbiAgICB9XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0Lm9iamVjdC5jb25zdGFudCAmJiAoIWFzdC5jb21wdXRlZCB8fCBhc3QucHJvcGVydHkuY29uc3RhbnQpO1xuICAgIGFzdC50b1dhdGNoID0gW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IGFzdC5maWx0ZXIgPyBpc1N0YXRlbGVzcygkZmlsdGVyLCBhc3QuY2FsbGVlLm5hbWUpIDogZmFsc2U7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwciwgJGZpbHRlcik7XG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5jb25zdGFudDtcbiAgICAgIGlmICghZXhwci5jb25zdGFudCkge1xuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5maWx0ZXIgJiYgaXNTdGF0ZWxlc3MoJGZpbHRlciwgYXN0LmNhbGxlZS5uYW1lKSA/IGFyZ3NUb1dhdGNoIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnJpZ2h0LCAkZmlsdGVyKTtcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QubGVmdC5jb25zdGFudCAmJiBhc3QucmlnaHQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmNvbnN0YW50O1xuICAgICAgaWYgKCFleHByLmNvbnN0YW50KSB7XG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIGV4cHIudG9XYXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGFzdC50b1dhdGNoID0gYXJnc1RvV2F0Y2g7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgYWxsQ29uc3RhbnRzID0gdHJ1ZTtcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xuICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKHByb3BlcnR5LnZhbHVlLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBwcm9wZXJ0eS52YWx1ZS5jb25zdGFudCAmJiAhcHJvcGVydHkuY29tcHV0ZWQ7XG4gICAgICBpZiAoIXByb3BlcnR5LnZhbHVlLmNvbnN0YW50KSB7XG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIHByb3BlcnR5LnZhbHVlLnRvV2F0Y2gpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICBhc3QuY29uc3RhbnQgPSBmYWxzZTtcbiAgICBhc3QudG9XYXRjaCA9IFtdO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5Mb2NhbHNFeHByZXNzaW9uOlxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xuICAgIGFzdC50b1dhdGNoID0gW107XG4gICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SW5wdXRzKGJvZHkpIHtcbiAgaWYgKGJvZHkubGVuZ3RoICE9IDEpIHJldHVybjtcbiAgdmFyIGxhc3RFeHByZXNzaW9uID0gYm9keVswXS5leHByZXNzaW9uO1xuICB2YXIgY2FuZGlkYXRlID0gbGFzdEV4cHJlc3Npb24udG9XYXRjaDtcbiAgaWYgKGNhbmRpZGF0ZS5sZW5ndGggIT09IDEpIHJldHVybiBjYW5kaWRhdGU7XG4gIHJldHVybiBjYW5kaWRhdGVbMF0gIT09IGxhc3RFeHByZXNzaW9uID8gY2FuZGlkYXRlIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0Fzc2lnbmFibGUoYXN0KSB7XG4gIHJldHVybiBhc3QudHlwZSA9PT0gQVNULklkZW50aWZpZXIgfHwgYXN0LnR5cGUgPT09IEFTVC5NZW1iZXJFeHByZXNzaW9uO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25hYmxlQVNUKGFzdCkge1xuICBpZiAoYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIGlzQXNzaWduYWJsZShhc3QuYm9keVswXS5leHByZXNzaW9uKSkge1xuICAgIHJldHVybiB7dHlwZTogQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uLCBsZWZ0OiBhc3QuYm9keVswXS5leHByZXNzaW9uLCByaWdodDoge3R5cGU6IEFTVC5OR1ZhbHVlUGFyYW1ldGVyfSwgb3BlcmF0b3I6ICc9J307XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMaXRlcmFsKGFzdCkge1xuICByZXR1cm4gYXN0LmJvZHkubGVuZ3RoID09PSAwIHx8XG4gICAgICBhc3QuYm9keS5sZW5ndGggPT09IDEgJiYgKFxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuTGl0ZXJhbCB8fFxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuQXJyYXlFeHByZXNzaW9uIHx8XG4gICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5PYmplY3RFeHByZXNzaW9uKTtcbn1cblxuZnVuY3Rpb24gaXNDb25zdGFudChhc3QpIHtcbiAgcmV0dXJuIGFzdC5jb25zdGFudDtcbn1cblxuZnVuY3Rpb24gQVNUQ29tcGlsZXIoYXN0QnVpbGRlciwgJGZpbHRlcikge1xuICB0aGlzLmFzdEJ1aWxkZXIgPSBhc3RCdWlsZGVyO1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xufVxuXG5BU1RDb21waWxlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGV4cHJlc3Npb24sIGV4cGVuc2l2ZUNoZWNrcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV4dElkOiAwLFxuICAgICAgZmlsdGVyczoge30sXG4gICAgICBleHBlbnNpdmVDaGVja3M6IGV4cGVuc2l2ZUNoZWNrcyxcbiAgICAgIGZuOiB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fSxcbiAgICAgIGFzc2lnbjoge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX0sXG4gICAgICBpbnB1dHM6IFtdXG4gICAgfTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgc2VsZi4kZmlsdGVyKTtcbiAgICB2YXIgZXh0cmEgPSAnJztcbiAgICB2YXIgYXNzaWduYWJsZTtcbiAgICB0aGlzLnN0YWdlID0gJ2Fzc2lnbic7XG4gICAgaWYgKChhc3NpZ25hYmxlID0gYXNzaWduYWJsZUFTVChhc3QpKSkge1xuICAgICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnYXNzaWduJztcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLm5leHRJZCgpO1xuICAgICAgdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUsIHJlc3VsdCk7XG4gICAgICB0aGlzLnJldHVybl8ocmVzdWx0KTtcbiAgICAgIGV4dHJhID0gJ2ZuLmFzc2lnbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdhc3NpZ24nLCAncyx2LGwnKTtcbiAgICB9XG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xuICAgIHNlbGYuc3RhZ2UgPSAnaW5wdXRzJztcbiAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcbiAgICAgIHZhciBmbktleSA9ICdmbicgKyBrZXk7XG4gICAgICBzZWxmLnN0YXRlW2ZuS2V5XSA9IHt2YXJzOiBbXSwgYm9keTogW10sIG93bjoge319O1xuICAgICAgc2VsZi5zdGF0ZS5jb21wdXRpbmcgPSBmbktleTtcbiAgICAgIHZhciBpbnRvSWQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKHdhdGNoLCBpbnRvSWQpO1xuICAgICAgc2VsZi5yZXR1cm5fKGludG9JZCk7XG4gICAgICBzZWxmLnN0YXRlLmlucHV0cy5wdXNoKGZuS2V5KTtcbiAgICAgIHdhdGNoLndhdGNoSWQgPSBrZXk7XG4gICAgfSk7XG4gICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnZm4nO1xuICAgIHRoaXMuc3RhZ2UgPSAnbWFpbic7XG4gICAgdGhpcy5yZWN1cnNlKGFzdCk7XG4gICAgdmFyIGZuU3RyaW5nID1cbiAgICAgIC8vIFRoZSBidWlsZCBhbmQgbWluaWZpY2F0aW9uIHN0ZXBzIHJlbW92ZSB0aGUgc3RyaW5nIFwidXNlIHN0cmljdFwiIGZyb20gdGhlIGNvZGUsIGJ1dCB0aGlzIGlzIGRvbmUgdXNpbmcgYSByZWdleC5cbiAgICAgIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciB0aGlzIHVudGlsIHdlIGRvIGEgYmV0dGVyIGpvYiBhdCBvbmx5IHJlbW92aW5nIHRoZSBwcmVmaXggb25seSB3aGVuIHdlIHNob3VsZC5cbiAgICAgICdcIicgKyB0aGlzLlVTRSArICcgJyArIHRoaXMuU1RSSUNUICsgJ1wiO1xcbicgK1xuICAgICAgdGhpcy5maWx0ZXJQcmVmaXgoKSArXG4gICAgICAndmFyIGZuPScgKyB0aGlzLmdlbmVyYXRlRnVuY3Rpb24oJ2ZuJywgJ3MsbCxhLGknKSArXG4gICAgICBleHRyYSArXG4gICAgICB0aGlzLndhdGNoRm5zKCkgK1xuICAgICAgJ3JldHVybiBmbjsnO1xuXG4gICAgLyoganNoaW50IC1XMDU0ICovXG4gICAgdmFyIGZuID0gKG5ldyBGdW5jdGlvbignJGZpbHRlcicsXG4gICAgICAgICdlbnN1cmVTYWZlTWVtYmVyTmFtZScsXG4gICAgICAgICdlbnN1cmVTYWZlT2JqZWN0JyxcbiAgICAgICAgJ2Vuc3VyZVNhZmVGdW5jdGlvbicsXG4gICAgICAgICdnZXRTdHJpbmdWYWx1ZScsXG4gICAgICAgICdlbnN1cmVTYWZlQXNzaWduQ29udGV4dCcsXG4gICAgICAgICdpZkRlZmluZWQnLFxuICAgICAgICAncGx1cycsXG4gICAgICAgICd0ZXh0JyxcbiAgICAgICAgZm5TdHJpbmcpKShcbiAgICAgICAgICB0aGlzLiRmaWx0ZXIsXG4gICAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUsXG4gICAgICAgICAgZW5zdXJlU2FmZU9iamVjdCxcbiAgICAgICAgICBlbnN1cmVTYWZlRnVuY3Rpb24sXG4gICAgICAgICAgZ2V0U3RyaW5nVmFsdWUsXG4gICAgICAgICAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQsXG4gICAgICAgICAgaWZEZWZpbmVkLFxuICAgICAgICAgIHBsdXNGbixcbiAgICAgICAgICBleHByZXNzaW9uKTtcbiAgICAvKiBqc2hpbnQgK1cwNTQgKi9cbiAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFnZSA9IHVuZGVmaW5lZDtcbiAgICBmbi5saXRlcmFsID0gaXNMaXRlcmFsKGFzdCk7XG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdCk7XG4gICAgcmV0dXJuIGZuO1xuICB9LFxuXG4gIFVTRTogJ3VzZScsXG5cbiAgU1RSSUNUOiAnc3RyaWN0JyxcblxuICB3YXRjaEZuczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBmbnMgPSB0aGlzLnN0YXRlLmlucHV0cztcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKCd2YXIgJyArIG5hbWUgKyAnPScgKyBzZWxmLmdlbmVyYXRlRnVuY3Rpb24obmFtZSwgJ3MnKSk7XG4gICAgfSk7XG4gICAgaWYgKGZucy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKCdmbi5pbnB1dHM9WycgKyBmbnMuam9pbignLCcpICsgJ107Jyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XG4gIH0sXG5cbiAgZ2VuZXJhdGVGdW5jdGlvbjogZnVuY3Rpb24obmFtZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgcGFyYW1zICsgJyl7JyArXG4gICAgICAgIHRoaXMudmFyc1ByZWZpeChuYW1lKSArXG4gICAgICAgIHRoaXMuYm9keShuYW1lKSArXG4gICAgICAgICd9Oyc7XG4gIH0sXG5cbiAgZmlsdGVyUHJlZml4OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yRWFjaCh0aGlzLnN0YXRlLmZpbHRlcnMsIGZ1bmN0aW9uKGlkLCBmaWx0ZXIpIHtcbiAgICAgIHBhcnRzLnB1c2goaWQgKyAnPSRmaWx0ZXIoJyArIHNlbGYuZXNjYXBlKGZpbHRlcikgKyAnKScpO1xuICAgIH0pO1xuICAgIGlmIChwYXJ0cy5sZW5ndGgpIHJldHVybiAndmFyICcgKyBwYXJ0cy5qb2luKCcsJykgKyAnOyc7XG4gICAgcmV0dXJuICcnO1xuICB9LFxuXG4gIHZhcnNQcmVmaXg6IGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVtzZWN0aW9uXS52YXJzLmxlbmd0aCA/ICd2YXIgJyArIHRoaXMuc3RhdGVbc2VjdGlvbl0udmFycy5qb2luKCcsJykgKyAnOycgOiAnJztcbiAgfSxcblxuICBib2R5OiBmdW5jdGlvbihzZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0uYm9keS5qb2luKCcnKTtcbiAgfSxcblxuICByZWN1cnNlOiBmdW5jdGlvbihhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKSB7XG4gICAgdmFyIGxlZnQsIHJpZ2h0LCBzZWxmID0gdGhpcywgYXJncywgZXhwcmVzc2lvbiwgY29tcHV0ZWQ7XG4gICAgcmVjdXJzaW9uRm4gPSByZWN1cnNpb25GbiB8fCBub29wO1xuICAgIGlmICghc2tpcFdhdGNoSWRDaGVjayAmJiBpc0RlZmluZWQoYXN0LndhdGNoSWQpKSB7XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIHRoaXMuaWZfKCdpJyxcbiAgICAgICAgdGhpcy5sYXp5QXNzaWduKGludG9JZCwgdGhpcy5jb21wdXRlZE1lbWJlcignaScsIGFzdC53YXRjaElkKSksXG4gICAgICAgIHRoaXMubGF6eVJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgdHJ1ZSlcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICBjYXNlIEFTVC5Qcm9ncmFtOlxuICAgICAgZm9yRWFjaChhc3QuYm9keSwgZnVuY3Rpb24oZXhwcmVzc2lvbiwgcG9zKSB7XG4gICAgICAgIHNlbGYucmVjdXJzZShleHByZXNzaW9uLmV4cHJlc3Npb24sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IHJpZ2h0ID0gZXhwcjsgfSk7XG4gICAgICAgIGlmIChwb3MgIT09IGFzdC5ib2R5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBzZWxmLmN1cnJlbnQoKS5ib2R5LnB1c2gocmlnaHQsICc7Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5yZXR1cm5fKHJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgICAgZXhwcmVzc2lvbiA9IHRoaXMuZXNjYXBlKGFzdC52YWx1ZSk7XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmFyZ3VtZW50LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xuICAgICAgZXhwcmVzc2lvbiA9IGFzdC5vcGVyYXRvciArICcoJyArIHRoaXMuaWZEZWZpbmVkKHJpZ2h0LCAwKSArICcpJztcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IGxlZnQgPSBleHByOyB9KTtcbiAgICAgIHRoaXMucmVjdXJzZShhc3QucmlnaHQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IHJpZ2h0ID0gZXhwcjsgfSk7XG4gICAgICBpZiAoYXN0Lm9wZXJhdG9yID09PSAnKycpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMucGx1cyhsZWZ0LCByaWdodCk7XG4gICAgICB9IGVsc2UgaWYgKGFzdC5vcGVyYXRvciA9PT0gJy0nKSB7XG4gICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmlmRGVmaW5lZChsZWZ0LCAwKSArIGFzdC5vcGVyYXRvciArIHRoaXMuaWZEZWZpbmVkKHJpZ2h0LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cHJlc3Npb24gPSAnKCcgKyBsZWZ0ICsgJyknICsgYXN0Lm9wZXJhdG9yICsgJygnICsgcmlnaHQgKyAnKSc7XG4gICAgICB9XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKGFzdC5sZWZ0LCBpbnRvSWQpO1xuICAgICAgc2VsZi5pZl8oYXN0Lm9wZXJhdG9yID09PSAnJiYnID8gaW50b0lkIDogc2VsZi5ub3QoaW50b0lkKSwgc2VsZi5sYXp5UmVjdXJzZShhc3QucmlnaHQsIGludG9JZCkpO1xuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKGFzdC50ZXN0LCBpbnRvSWQpO1xuICAgICAgc2VsZi5pZl8oaW50b0lkLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5hbHRlcm5hdGUsIGludG9JZCksIHNlbGYubGF6eVJlY3Vyc2UoYXN0LmNvbnNlcXVlbnQsIGludG9JZCkpO1xuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULklkZW50aWZpZXI6XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIGlmIChuYW1lSWQpIHtcbiAgICAgICAgbmFtZUlkLmNvbnRleHQgPSBzZWxmLnN0YWdlID09PSAnaW5wdXRzJyA/ICdzJyA6IHRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksIHRoaXMuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkgKyAnP2w6cycpO1xuICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgICAgbmFtZUlkLm5hbWUgPSBhc3QubmFtZTtcbiAgICAgIH1cbiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGFzdC5uYW1lKTtcbiAgICAgIHNlbGYuaWZfKHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnIHx8IHNlbGYubm90KHNlbGYuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkpLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmlmXyhzZWxmLnN0YWdlID09PSAnaW5wdXRzJyB8fCAncycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgc2VsZi5pZl8oXG4gICAgICAgICAgICAgICAgc2VsZi5ub3Qoc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSksXG4gICAgICAgICAgICAgICAgc2VsZi5sYXp5QXNzaWduKHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIoJ3MnLCBhc3QubmFtZSksICd7fScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIGludG9JZCAmJiBzZWxmLmxhenlBc3NpZ24oaW50b0lkLCBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdsJywgYXN0Lm5hbWUpKVxuICAgICAgICApO1xuICAgICAgaWYgKHNlbGYuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGFzdC5uYW1lKSkge1xuICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVPYmplY3QoaW50b0lkKTtcbiAgICAgIH1cbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IG5hbWVJZCAmJiAobmFtZUlkLmNvbnRleHQgPSB0aGlzLm5leHRJZCgpKSB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0Lm9iamVjdCwgbGVmdCwgdW5kZWZpbmVkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3ROdWxsKGxlZnQpLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dChsZWZ0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFzdC5jb21wdXRlZCkge1xuICAgICAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5wcm9wZXJ0eSwgcmlnaHQpO1xuICAgICAgICAgICAgc2VsZi5nZXRTdHJpbmdWYWx1ZShyaWdodCk7XG4gICAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lKHJpZ2h0KTtcbiAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XG4gICAgICAgICAgICAgIHNlbGYuaWZfKHNlbGYubm90KHNlbGYuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpKSwgc2VsZi5sYXp5QXNzaWduKHNlbGYuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpLCAne30nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5lbnN1cmVTYWZlT2JqZWN0KHNlbGYuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBpZiAobmFtZUlkKSB7XG4gICAgICAgICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIG5hbWVJZC5uYW1lID0gcmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGFzdC5wcm9wZXJ0eS5uYW1lKTtcbiAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XG4gICAgICAgICAgICAgIHNlbGYuaWZfKHNlbGYubm90KHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgYXN0LnByb3BlcnR5Lm5hbWUpKSwgc2VsZi5sYXp5QXNzaWduKHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgYXN0LnByb3BlcnR5Lm5hbWUpLCAne30nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSk7XG4gICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZS5leHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoYXN0LnByb3BlcnR5Lm5hbWUpKSB7XG4gICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLmVuc3VyZVNhZmVPYmplY3QoZXhwcmVzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbmFtZUlkLm5hbWUgPSBhc3QucHJvcGVydHkubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIH0sICEhY3JlYXRlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBpZiAoYXN0LmZpbHRlcikge1xuICAgICAgICByaWdodCA9IHNlbGYuZmlsdGVyKGFzdC5jYWxsZWUubmFtZSk7XG4gICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgICAgdmFyIGFyZ3VtZW50ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgYXJndW1lbnQpO1xuICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBleHByZXNzaW9uID0gcmlnaHQgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgbGVmdCA9IHt9O1xuICAgICAgICBhcmdzID0gW107XG4gICAgICAgIHNlbGYucmVjdXJzZShhc3QuY2FsbGVlLCByaWdodCwgbGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3ROdWxsKHJpZ2h0KSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVGdW5jdGlvbihyaWdodCk7XG4gICAgICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGFyZ3VtZW50KSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lKSB7XG4gICAgICAgICAgICAgIGlmICghc2VsZi5zdGF0ZS5leHBlbnNpdmVDaGVja3MpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVPYmplY3QobGVmdC5jb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5tZW1iZXIobGVmdC5jb250ZXh0LCBsZWZ0Lm5hbWUsIGxlZnQuY29tcHV0ZWQpICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHByZXNzaW9uID0gcmlnaHQgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLmVuc3VyZVNhZmVPYmplY3QoZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCAndW5kZWZpbmVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbjpcbiAgICAgIHJpZ2h0ID0gdGhpcy5uZXh0SWQoKTtcbiAgICAgIGxlZnQgPSB7fTtcbiAgICAgIGlmICghaXNBc3NpZ25hYmxlKGFzdC5sZWZ0KSkge1xuICAgICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2x2YWwnLCAnVHJ5aW5nIHRvIGFzc2lnbiBhIHZhbHVlIHRvIGEgbm9uIGwtdmFsdWUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVjdXJzZShhc3QubGVmdCwgdW5kZWZpbmVkLCBsZWZ0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3ROdWxsKGxlZnQuY29udGV4dCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYucmVjdXJzZShhc3QucmlnaHQsIHJpZ2h0KTtcbiAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVPYmplY3Qoc2VsZi5tZW1iZXIobGVmdC5jb250ZXh0LCBsZWZ0Lm5hbWUsIGxlZnQuY29tcHV0ZWQpKTtcbiAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGxlZnQuY29udGV4dCk7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSArIGFzdC5vcGVyYXRvciArIHJpZ2h0O1xuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8IGV4cHJlc3Npb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxuICAgICAgYXJncyA9IFtdO1xuICAgICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZXhwcmVzc2lvbiA9ICdbJyArIGFyZ3Muam9pbignLCcpICsgJ10nO1xuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuT2JqZWN0RXhwcmVzc2lvbjpcbiAgICAgIGFyZ3MgPSBbXTtcbiAgICAgIGNvbXB1dGVkID0gZmFsc2U7XG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICBpZiAocHJvcGVydHkuY29tcHV0ZWQpIHtcbiAgICAgICAgICBjb21wdXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICd7fScpO1xuICAgICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eS5jb21wdXRlZCkge1xuICAgICAgICAgICAgbGVmdCA9IHNlbGYubmV4dElkKCk7XG4gICAgICAgICAgICBzZWxmLnJlY3Vyc2UocHJvcGVydHkua2V5LCBsZWZ0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVmdCA9IHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/XG4gICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS5uYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSwgcmlnaHQpO1xuICAgICAgICAgIHNlbGYuYXNzaWduKHNlbGYubWVtYmVyKGludG9JZCwgbGVmdCwgcHJvcGVydHkuY29tcHV0ZWQpLCByaWdodCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUsIGFzdC5jb25zdGFudCA/IHVuZGVmaW5lZCA6IHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICAgICAgYXJncy5wdXNoKHNlbGYuZXNjYXBlKFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/IHByb3BlcnR5LmtleS5uYW1lIDpcbiAgICAgICAgICAgICAgICAgICgnJyArIHByb3BlcnR5LmtleS52YWx1ZSkpICtcbiAgICAgICAgICAgICAgICAnOicgKyBleHByKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cHJlc3Npb24gPSAneycgKyBhcmdzLmpvaW4oJywnKSArICd9JztcbiAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIH1cbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULlRoaXNFeHByZXNzaW9uOlxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAncycpO1xuICAgICAgcmVjdXJzaW9uRm4oJ3MnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICdsJyk7XG4gICAgICByZWN1cnNpb25GbignbCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTkdWYWx1ZVBhcmFtZXRlcjpcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3YnKTtcbiAgICAgIHJlY3Vyc2lvbkZuKCd2Jyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SGFzT3duUHJvcGVydHk6IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gICAgdmFyIGtleSA9IGVsZW1lbnQgKyAnLicgKyBwcm9wZXJ0eTtcbiAgICB2YXIgb3duID0gdGhpcy5jdXJyZW50KCkub3duO1xuICAgIGlmICghb3duLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIG93bltrZXldID0gdGhpcy5uZXh0SWQoZmFsc2UsIGVsZW1lbnQgKyAnJiYoJyArIHRoaXMuZXNjYXBlKHByb3BlcnR5KSArICcgaW4gJyArIGVsZW1lbnQgKyAnKScpO1xuICAgIH1cbiAgICByZXR1cm4gb3duW2tleV07XG4gIH0sXG5cbiAgYXNzaWduOiBmdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgICBpZiAoIWlkKSByZXR1cm47XG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKGlkLCAnPScsIHZhbHVlLCAnOycpO1xuICAgIHJldHVybiBpZDtcbiAgfSxcblxuICBmaWx0ZXI6IGZ1bmN0aW9uKGZpbHRlck5hbWUpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eShmaWx0ZXJOYW1lKSkge1xuICAgICAgdGhpcy5zdGF0ZS5maWx0ZXJzW2ZpbHRlck5hbWVdID0gdGhpcy5uZXh0SWQodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV07XG4gIH0sXG5cbiAgaWZEZWZpbmVkOiBmdW5jdGlvbihpZCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuICdpZkRlZmluZWQoJyArIGlkICsgJywnICsgdGhpcy5lc2NhcGUoZGVmYXVsdFZhbHVlKSArICcpJztcbiAgfSxcblxuICBwbHVzOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAncGx1cygnICsgbGVmdCArICcsJyArIHJpZ2h0ICsgJyknO1xuICB9LFxuXG4gIHJldHVybl86IGZ1bmN0aW9uKGlkKSB7XG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKCdyZXR1cm4gJywgaWQsICc7Jyk7XG4gIH0sXG5cbiAgaWZfOiBmdW5jdGlvbih0ZXN0LCBhbHRlcm5hdGUsIGNvbnNlcXVlbnQpIHtcbiAgICBpZiAodGVzdCA9PT0gdHJ1ZSkge1xuICAgICAgYWx0ZXJuYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBib2R5ID0gdGhpcy5jdXJyZW50KCkuYm9keTtcbiAgICAgIGJvZHkucHVzaCgnaWYoJywgdGVzdCwgJyl7Jyk7XG4gICAgICBhbHRlcm5hdGUoKTtcbiAgICAgIGJvZHkucHVzaCgnfScpO1xuICAgICAgaWYgKGNvbnNlcXVlbnQpIHtcbiAgICAgICAgYm9keS5wdXNoKCdlbHNleycpO1xuICAgICAgICBjb25zZXF1ZW50KCk7XG4gICAgICAgIGJvZHkucHVzaCgnfScpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBub3Q6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gJyEoJyArIGV4cHJlc3Npb24gKyAnKSc7XG4gIH0sXG5cbiAgbm90TnVsbDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBleHByZXNzaW9uICsgJyE9bnVsbCc7XG4gIH0sXG5cbiAgbm9uQ29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgdmFyIFNBRkVfSURFTlRJRklFUiA9IC9bJF9hLXpBLVpdWyRfYS16QS1aMC05XSovO1xuICAgIHZhciBVTlNBRkVfQ0hBUkFDVEVSUyA9IC9bXiRfYS16QS1aMC05XS9nO1xuICAgIGlmIChTQUZFX0lERU5USUZJRVIudGVzdChyaWdodCkpIHtcbiAgICAgIHJldHVybiBsZWZ0ICsgJy4nICsgcmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsZWZ0ICArICdbXCInICsgcmlnaHQucmVwbGFjZShVTlNBRkVfQ0hBUkFDVEVSUywgdGhpcy5zdHJpbmdFc2NhcGVGbikgKyAnXCJdJztcbiAgICB9XG4gIH0sXG5cbiAgY29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgKyAnWycgKyByaWdodCArICddJztcbiAgfSxcblxuICBtZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb21wdXRlZCkge1xuICAgIGlmIChjb21wdXRlZCkgcmV0dXJuIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xuICAgIHJldHVybiB0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcbiAgfSxcblxuICBhZGRFbnN1cmVTYWZlT2JqZWN0OiBmdW5jdGlvbihpdGVtKSB7XG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZU9iamVjdChpdGVtKSwgJzsnKTtcbiAgfSxcblxuICBhZGRFbnN1cmVTYWZlTWVtYmVyTmFtZTogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVNZW1iZXJOYW1lKGl0ZW0pLCAnOycpO1xuICB9LFxuXG4gIGFkZEVuc3VyZVNhZmVGdW5jdGlvbjogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVGdW5jdGlvbihpdGVtKSwgJzsnKTtcbiAgfSxcblxuICBhZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dDogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGl0ZW0pLCAnOycpO1xuICB9LFxuXG4gIGVuc3VyZVNhZmVPYmplY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gJ2Vuc3VyZVNhZmVPYmplY3QoJyArIGl0ZW0gKyAnLHRleHQpJztcbiAgfSxcblxuICBlbnN1cmVTYWZlTWVtYmVyTmFtZTogZnVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiAnZW5zdXJlU2FmZU1lbWJlck5hbWUoJyArIGl0ZW0gKyAnLHRleHQpJztcbiAgfSxcblxuICBlbnN1cmVTYWZlRnVuY3Rpb246IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gJ2Vuc3VyZVNhZmVGdW5jdGlvbignICsgaXRlbSArICcsdGV4dCknO1xuICB9LFxuXG4gIGdldFN0cmluZ1ZhbHVlOiBmdW5jdGlvbihpdGVtKSB7XG4gICAgdGhpcy5hc3NpZ24oaXRlbSwgJ2dldFN0cmluZ1ZhbHVlKCcgKyBpdGVtICsgJyknKTtcbiAgfSxcblxuICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dDogZnVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiAnZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoJyArIGl0ZW0gKyAnLHRleHQpJztcbiAgfSxcblxuICBsYXp5UmVjdXJzZTogZnVuY3Rpb24oYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjayk7XG4gICAgfTtcbiAgfSxcblxuICBsYXp5QXNzaWduOiBmdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hc3NpZ24oaWQsIHZhbHVlKTtcbiAgICB9O1xuICB9LFxuXG4gIHN0cmluZ0VzY2FwZVJlZ2V4OiAvW14gYS16QS1aMC05XS9nLFxuXG4gIHN0cmluZ0VzY2FwZUZuOiBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuICdcXFxcdScgKyAoJzAwMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICB9LFxuXG4gIGVzY2FwZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gXCInXCIgKyB2YWx1ZS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsIHRoaXMuc3RyaW5nRXNjYXBlRm4pICsgXCInXCI7XG4gICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gJ3RydWUnO1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHJldHVybiAnZmFsc2UnO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO1xuXG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdlc2MnLCAnSU1QT1NTSUJMRScpO1xuICB9LFxuXG4gIG5leHRJZDogZnVuY3Rpb24oc2tpcCwgaW5pdCkge1xuICAgIHZhciBpZCA9ICd2JyArICh0aGlzLnN0YXRlLm5leHRJZCsrKTtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChpZCArIChpbml0ID8gJz0nICsgaW5pdCA6ICcnKSk7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfSxcblxuICBjdXJyZW50OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ107XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gQVNUSW50ZXJwcmV0ZXIoYXN0QnVpbGRlciwgJGZpbHRlcikge1xuICB0aGlzLmFzdEJ1aWxkZXIgPSBhc3RCdWlsZGVyO1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xufVxuXG5BU1RJbnRlcnByZXRlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGV4cHJlc3Npb24sIGV4cGVuc2l2ZUNoZWNrcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcbiAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgIHRoaXMuZXhwZW5zaXZlQ2hlY2tzID0gZXhwZW5zaXZlQ2hlY2tzO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCBzZWxmLiRmaWx0ZXIpO1xuICAgIHZhciBhc3NpZ25hYmxlO1xuICAgIHZhciBhc3NpZ247XG4gICAgaWYgKChhc3NpZ25hYmxlID0gYXNzaWduYWJsZUFTVChhc3QpKSkge1xuICAgICAgYXNzaWduID0gdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUpO1xuICAgIH1cbiAgICB2YXIgdG9XYXRjaCA9IGdldElucHV0cyhhc3QuYm9keSk7XG4gICAgdmFyIGlucHV0cztcbiAgICBpZiAodG9XYXRjaCkge1xuICAgICAgaW5wdXRzID0gW107XG4gICAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gc2VsZi5yZWN1cnNlKHdhdGNoKTtcbiAgICAgICAgd2F0Y2guaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgaW5wdXRzLnB1c2goaW5wdXQpO1xuICAgICAgICB3YXRjaC53YXRjaElkID0ga2V5O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICAgIGV4cHJlc3Npb25zLnB1c2goc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbikpO1xuICAgIH0pO1xuICAgIHZhciBmbiA9IGFzdC5ib2R5Lmxlbmd0aCA9PT0gMCA/IG5vb3AgOlxuICAgICAgICAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSA/IGV4cHJlc3Npb25zWzBdIDpcbiAgICAgICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xuICAgICAgICAgICAgICAgZm9yRWFjaChleHByZXNzaW9ucywgZnVuY3Rpb24oZXhwKSB7XG4gICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGV4cChzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICB9O1xuICAgIGlmIChhc3NpZ24pIHtcbiAgICAgIGZuLmFzc2lnbiA9IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiBhc3NpZ24oc2NvcGUsIGxvY2FscywgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlucHV0cykge1xuICAgICAgZm4uaW5wdXRzID0gaW5wdXRzO1xuICAgIH1cbiAgICBmbi5saXRlcmFsID0gaXNMaXRlcmFsKGFzdCk7XG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdCk7XG4gICAgcmV0dXJuIGZuO1xuICB9LFxuXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XG4gICAgdmFyIGxlZnQsIHJpZ2h0LCBzZWxmID0gdGhpcywgYXJncywgZXhwcmVzc2lvbjtcbiAgICBpZiAoYXN0LmlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XG4gICAgfVxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgICAgcmV0dXJuIHRoaXMudmFsdWUoYXN0LnZhbHVlLCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ3VuYXJ5JyArIGFzdC5vcGVyYXRvcl0ocmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3QubGVmdCk7XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XG4gICAgICByZXR1cm4gdGhpc1sndGVybmFyeT86J10oXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QudGVzdCksXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QuYWx0ZXJuYXRlKSxcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5jb25zZXF1ZW50KSxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxuICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0Lm5hbWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICByZXR1cm4gc2VsZi5pZGVudGlmaWVyKGFzdC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShhc3QubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKTtcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3Qub2JqZWN0LCBmYWxzZSwgISFjcmVhdGUpO1xuICAgICAgaWYgKCFhc3QuY29tcHV0ZWQpIHtcbiAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0LnByb3BlcnR5Lm5hbWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICAgIHJpZ2h0ID0gYXN0LnByb3BlcnR5Lm5hbWU7XG4gICAgICB9XG4gICAgICBpZiAoYXN0LmNvbXB1dGVkKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucHJvcGVydHkpO1xuICAgICAgcmV0dXJuIGFzdC5jb21wdXRlZCA/XG4gICAgICAgIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKSA6XG4gICAgICAgIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIHNlbGYuZXhwZW5zaXZlQ2hlY2tzLCBjb250ZXh0LCBjcmVhdGUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMuJGZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xuICAgICAgaWYgKCFhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuY2FsbGVlLCB0cnVlKTtcbiAgICAgIHJldHVybiBhc3QuZmlsdGVyID9cbiAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWx1ZSA9IHJpZ2h0LmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzLCBpbnB1dHMpO1xuICAgICAgICAgIHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgIGlmIChyaHMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZW5zdXJlU2FmZU9iamVjdChyaHMuY29udGV4dCwgc2VsZi5leHByZXNzaW9uKTtcbiAgICAgICAgICAgIGVuc3VyZVNhZmVGdW5jdGlvbihyaHMudmFsdWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2goZW5zdXJlU2FmZU9iamVjdChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSwgc2VsZi5leHByZXNzaW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IGVuc3VyZVNhZmVPYmplY3QocmhzLnZhbHVlLmFwcGx5KHJocy5jb250ZXh0LCB2YWx1ZXMpLCBzZWxmLmV4cHJlc3Npb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH07XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KGxocy52YWx1ZSwgc2VsZi5leHByZXNzaW9uKTtcbiAgICAgICAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQobGhzLmNvbnRleHQpO1xuICAgICAgICBsaHMuY29udGV4dFtsaHMubmFtZV0gPSByaHM7XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiByaHN9IDogcmhzO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5BcnJheUV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICBhcmdzLnB1c2goc2VsZi5yZWN1cnNlKGV4cHIpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB2YWx1ZS5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICBpZiAocHJvcGVydHkuY29tcHV0ZWQpIHtcbiAgICAgICAgICBhcmdzLnB1c2goe2tleTogc2VsZi5yZWN1cnNlKHByb3BlcnR5LmtleSksXG4gICAgICAgICAgICAgICAgICAgICBjb21wdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJncy5wdXNoKHtrZXk6IHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS5uYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBpZiAoYXJnc1tpXS5jb21wdXRlZCkge1xuICAgICAgICAgICAgdmFsdWVbYXJnc1tpXS5rZXkoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpXSA9IGFyZ3NbaV0udmFsdWUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZVthcmdzW2ldLmtleV0gPSBhcmdzW2ldLnZhbHVlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkge1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogc2NvcGV9IDogc2NvcGU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogbG9jYWxzfSA6IGxvY2FscztcbiAgICAgIH07XG4gICAgY2FzZSBBU1QuTkdWYWx1ZVBhcmFtZXRlcjpcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFzc2lnbn0gOiBhc3NpZ247XG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAndW5hcnkrJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gK2FyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndW5hcnktJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gLWFyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndW5hcnkhJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSAhYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeSsnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciBhcmcgPSBwbHVzRm4obGhzLCByaHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeS0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciBhcmcgPSAoaXNEZWZpbmVkKGxocykgPyBsaHMgOiAwKSAtIChpc0RlZmluZWQocmhzKSA/IHJocyA6IDApO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeSonOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICogcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeS8nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIC8gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeSUnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICUgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT09PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPT09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkhPT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5PT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkhPSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgIT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeTwnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIDwgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT4nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID4gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeTw9JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5Pj0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID49IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkmJic6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgJiYgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeXx8JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB8fCByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndGVybmFyeT86JzogZnVuY3Rpb24odGVzdCwgYWx0ZXJuYXRlLCBjb25zZXF1ZW50LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gdGVzdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPyBhbHRlcm5hdGUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIDogY29uc2VxdWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICB2YWx1ZTogZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7IH07XG4gIH0sXG4gIGlkZW50aWZpZXI6IGZ1bmN0aW9uKG5hbWUsIGV4cGVuc2l2ZUNoZWNrcywgY29udGV4dCwgY3JlYXRlLCBleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYmFzZSA9IGxvY2FscyAmJiAobmFtZSBpbiBsb2NhbHMpID8gbG9jYWxzIDogc2NvcGU7XG4gICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSAmJiBiYXNlICYmICEoYmFzZVtuYW1lXSkpIHtcbiAgICAgICAgYmFzZVtuYW1lXSA9IHt9O1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYmFzZSA/IGJhc2VbbmFtZV0gOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICAgIGVuc3VyZVNhZmVPYmplY3QodmFsdWUsIGV4cHJlc3Npb24pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBiYXNlLCBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlLCBleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgcmhzO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgaWYgKGxocyAhPSBudWxsKSB7XG4gICAgICAgIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgcmhzID0gZ2V0U3RyaW5nVmFsdWUocmhzKTtcbiAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUocmhzLCBleHByZXNzaW9uKTtcbiAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dChsaHMpO1xuICAgICAgICAgIGlmIChsaHMgJiYgIShsaHNbcmhzXSkpIHtcbiAgICAgICAgICAgIGxoc1tyaHNdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gbGhzW3Joc107XG4gICAgICAgIGVuc3VyZVNhZmVPYmplY3QodmFsdWUsIGV4cHJlc3Npb24pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBsaHMsIG5hbWU6IHJocywgdmFsdWU6IHZhbHVlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBub25Db21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGV4cGVuc2l2ZUNoZWNrcywgY29udGV4dCwgY3JlYXRlLCBleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dChsaHMpO1xuICAgICAgICBpZiAobGhzICYmICEobGhzW3JpZ2h0XSkpIHtcbiAgICAgICAgICBsaHNbcmlnaHRdID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGxocyAhPSBudWxsID8gbGhzW3JpZ2h0XSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChleHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUocmlnaHQpKSB7XG4gICAgICAgIGVuc3VyZVNhZmVPYmplY3QodmFsdWUsIGV4cHJlc3Npb24pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBsaHMsIG5hbWU6IHJpZ2h0LCB2YWx1ZTogdmFsdWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGlucHV0czogZnVuY3Rpb24oaW5wdXQsIHdhdGNoSWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIHZhbHVlLCBsb2NhbHMsIGlucHV0cykge1xuICAgICAgaWYgKGlucHV0cykgcmV0dXJuIGlucHV0c1t3YXRjaElkXTtcbiAgICAgIHJldHVybiBpbnB1dChzY29wZSwgdmFsdWUsIGxvY2Fscyk7XG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFBhcnNlciA9IGZ1bmN0aW9uKGxleGVyLCAkZmlsdGVyLCBvcHRpb25zKSB7XG4gIHRoaXMubGV4ZXIgPSBsZXhlcjtcbiAgdGhpcy4kZmlsdGVyID0gJGZpbHRlcjtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5hc3QgPSBuZXcgQVNUKGxleGVyLCBvcHRpb25zKTtcbiAgdGhpcy5hc3RDb21waWxlciA9IG9wdGlvbnMuY3NwID8gbmV3IEFTVEludGVycHJldGVyKHRoaXMuYXN0LCAkZmlsdGVyKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBU1RDb21waWxlcih0aGlzLmFzdCwgJGZpbHRlcik7XG59O1xuXG5QYXJzZXIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUGFyc2VyLFxuXG4gIHBhcnNlOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuYXN0Q29tcGlsZXIuY29tcGlsZSh0ZXh0LCB0aGlzLm9wdGlvbnMuZXhwZW5zaXZlQ2hlY2tzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUobmFtZSkge1xuICByZXR1cm4gbmFtZSA9PSAnY29uc3RydWN0b3InO1xufVxuXG52YXIgb2JqZWN0VmFsdWVPZiA9IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZjtcblxuZnVuY3Rpb24gZ2V0VmFsdWVPZih2YWx1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZS52YWx1ZU9mKSA/IHZhbHVlLnZhbHVlT2YoKSA6IG9iamVjdFZhbHVlT2YuY2FsbCh2YWx1ZSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwYXJzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogICB2YXIgZ2V0dGVyID0gJHBhcnNlKCd1c2VyLm5hbWUnKTtcbiAqICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XG4gKiAgIHZhciBjb250ZXh0ID0ge3VzZXI6e25hbWU6J2FuZ3VsYXInfX07XG4gKiAgIHZhciBsb2NhbHMgPSB7dXNlcjp7bmFtZTonbG9jYWwnfX07XG4gKlxuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdhbmd1bGFyJyk7XG4gKiAgIHNldHRlcihjb250ZXh0LCAnbmV3VmFsdWUnKTtcbiAqICAgZXhwZWN0KGNvbnRleHQudXNlci5uYW1lKS50b0VxdWFsKCduZXdWYWx1ZScpO1xuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQsIGxvY2FscykpLnRvRXF1YWwoJ2xvY2FsJyk7XG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gKlxuICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gKiAgICAgIGBjb250ZXh0YC5cbiAqXG4gKiAgICBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAgICAqIGBsaXRlcmFsYCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24ncyB0b3AtbGV2ZWwgbm9kZSBpcyBhIEphdmFTY3JpcHRcbiAqICAgICAgICBsaXRlcmFsLlxuICogICAgICAqIGBjb25zdGFudGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIG1hZGUgZW50aXJlbHkgb2YgSmF2YVNjcmlwdFxuICogICAgICAgIGNvbnN0YW50IGxpdGVyYWxzLlxuICogICAgICAqIGBhc3NpZ25gIOKAkyBgez9mdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl9YCDigJMgaWYgdGhlIGV4cHJlc3Npb24gaXMgYXNzaWduYWJsZSwgdGhpcyB3aWxsIGJlXG4gKiAgICAgICAgc2V0IHRvIGEgZnVuY3Rpb24gdG8gY2hhbmdlIGl0cyB2YWx1ZSBvbiB0aGUgZ2l2ZW4gY29udGV4dC5cbiAqXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHBhcnNlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkcGFyc2VQcm92aWRlcmAgY2FuIGJlIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJHBhcnNlICRwYXJzZX1cbiAqICBzZXJ2aWNlLlxuICovXG5mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpIHtcbiAgdmFyIGNhY2hlRGVmYXVsdCA9IGNyZWF0ZU1hcCgpO1xuICB2YXIgY2FjaGVFeHBlbnNpdmUgPSBjcmVhdGVNYXAoKTtcbiAgdmFyIGxpdGVyYWxzID0ge1xuICAgICd0cnVlJzogdHJ1ZSxcbiAgICAnZmFsc2UnOiBmYWxzZSxcbiAgICAnbnVsbCc6IG51bGwsXG4gICAgJ3VuZGVmaW5lZCc6IHVuZGVmaW5lZFxuICB9O1xuICB2YXIgaWRlbnRTdGFydCwgaWRlbnRDb250aW51ZTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcGFyc2VQcm92aWRlciNhZGRMaXRlcmFsXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBDb25maWd1cmUgJHBhcnNlIHNlcnZpY2UgdG8gYWRkIGxpdGVyYWwgdmFsdWVzIHRoYXQgd2lsbCBiZSBwcmVzZW50IGFzIGxpdGVyYWwgYXQgZXhwcmVzc2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaXRlcmFsTmFtZSBUb2tlbiBmb3IgdGhlIGxpdGVyYWwgdmFsdWUuIFRoZSBsaXRlcmFsIG5hbWUgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGxpdGVyYWwgbmFtZS5cbiAgICogQHBhcmFtIHsqfSBsaXRlcmFsVmFsdWUgVmFsdWUgZm9yIHRoaXMgbGl0ZXJhbC4gQWxsIGxpdGVyYWwgdmFsdWVzIG11c3QgYmUgcHJpbWl0aXZlcyBvciBgdW5kZWZpbmVkYC5cbiAgICpcbiAgICoqL1xuICB0aGlzLmFkZExpdGVyYWwgPSBmdW5jdGlvbihsaXRlcmFsTmFtZSwgbGl0ZXJhbFZhbHVlKSB7XG4gICAgbGl0ZXJhbHNbbGl0ZXJhbE5hbWVdID0gbGl0ZXJhbFZhbHVlO1xuICB9O1xuXG4gLyoqXG4gICogQG5nZG9jIG1ldGhvZFxuICAqIEBuYW1lICRwYXJzZVByb3ZpZGVyI3NldElkZW50aWZpZXJGbnNcbiAgKiBAZGVzY3JpcHRpb25cbiAgKlxuICAqIEFsbG93cyBkZWZpbmluZyB0aGUgc2V0IG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zLiBUaGUgZnVuY3Rpb25cbiAgKiBgaWRlbnRpZmllclN0YXJ0YCB3aWxsIGdldCBjYWxsZWQgdG8ga25vdyBpZiBhIGdpdmVuIGNoYXJhY3RlciBpcyBhIHZhbGlkIGNoYXJhY3RlciB0byBiZSB0aGVcbiAgKiBmaXJzdCBjaGFyYWN0ZXIgZm9yIGFuIGlkZW50aWZpZXIuIFRoZSBmdW5jdGlvbiBgaWRlbnRpZmllckNvbnRpbnVlYCB3aWxsIGdldCBjYWxsZWQgdG8ga25vdyBpZlxuICAqIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIGEgZm9sbG93LXVwIGlkZW50aWZpZXIgY2hhcmFjdGVyLiBUaGUgZnVuY3Rpb25zXG4gICogYGlkZW50aWZpZXJTdGFydGAgYW5kIGBpZGVudGlmaWVyQ29udGludWVgIHdpbGwgcmVjZWl2ZSBhcyBhcmd1bWVudHMgdGhlIHNpbmdsZSBjaGFyYWN0ZXIgdG8gYmVcbiAgKiBpZGVudGlmaWVyIGFuZCB0aGUgY2hhcmFjdGVyIGNvZGUgcG9pbnQuIFRoZXNlIGFyZ3VtZW50cyB3aWxsIGJlIGBzdHJpbmdgIGFuZCBgbnVtZXJpY2AuIEtlZXAgaW5cbiAgKiBtaW5kIHRoYXQgdGhlIGBzdHJpbmdgIHBhcmFtZXRlciBjYW4gYmUgdHdvIGNoYXJhY3RlcnMgbG9uZyBkZXBlbmRpbmcgb24gdGhlIGNoYXJhY3RlclxuICAqIHJlcHJlc2VudGF0aW9uLiBJdCBpcyBleHBlY3RlZCBmb3IgdGhlIGZ1bmN0aW9uIHRvIHJldHVybiBgdHJ1ZWAgb3IgYGZhbHNlYCwgd2hldGhlciB0aGF0XG4gICogY2hhcmFjdGVyIGlzIGFsbG93ZWQgb3Igbm90LlxuICAqXG4gICogU2luY2UgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBleHRlbnNpdmVsbHksIGtlZXAgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZXNlIGZ1bmN0aW9ucyBmYXN0LFxuICAqIGFzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGVzZSBmdW5jdGlvbnMgaGF2ZSBhIGRpcmVjdCBpbXBhY3Qgb24gdGhlIGV4cHJlc3Npb25zIHBhcnNpbmcgc3BlZWQuXG4gICpcbiAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gaWRlbnRpZmllclN0YXJ0IFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgZGVjaWRlIHdoZXRoZXIgdGhlIGdpdmVuIGNoYXJhY3RlciBpc1xuICAqICAgYSB2YWxpZCBpZGVudGlmaWVyIHN0YXJ0IGNoYXJhY3Rlci5cbiAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gaWRlbnRpZmllckNvbnRpbnVlIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgZGVjaWRlIHdoZXRoZXIgdGhlIGdpdmVuIGNoYXJhY3RlciBpc1xuICAqICAgYSB2YWxpZCBpZGVudGlmaWVyIGNvbnRpbnVlIGNoYXJhY3Rlci5cbiAgKi9cbiAgdGhpcy5zZXRJZGVudGlmaWVyRm5zID0gZnVuY3Rpb24oaWRlbnRpZmllclN0YXJ0LCBpZGVudGlmaWVyQ29udGludWUpIHtcbiAgICBpZGVudFN0YXJ0ID0gaWRlbnRpZmllclN0YXJ0O1xuICAgIGlkZW50Q29udGludWUgPSBpZGVudGlmaWVyQ29udGludWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckZmlsdGVyJywgZnVuY3Rpb24oJGZpbHRlcikge1xuICAgIHZhciBub1Vuc2FmZUV2YWwgPSBjc3AoKS5ub1Vuc2FmZUV2YWw7XG4gICAgdmFyICRwYXJzZU9wdGlvbnMgPSB7XG4gICAgICAgICAgY3NwOiBub1Vuc2FmZUV2YWwsXG4gICAgICAgICAgZXhwZW5zaXZlQ2hlY2tzOiBmYWxzZSxcbiAgICAgICAgICBsaXRlcmFsczogY29weShsaXRlcmFscyksXG4gICAgICAgICAgaXNJZGVudGlmaWVyU3RhcnQ6IGlzRnVuY3Rpb24oaWRlbnRTdGFydCkgJiYgaWRlbnRTdGFydCxcbiAgICAgICAgICBpc0lkZW50aWZpZXJDb250aW51ZTogaXNGdW5jdGlvbihpZGVudENvbnRpbnVlKSAmJiBpZGVudENvbnRpbnVlXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgPSB7XG4gICAgICAgICAgY3NwOiBub1Vuc2FmZUV2YWwsXG4gICAgICAgICAgZXhwZW5zaXZlQ2hlY2tzOiB0cnVlLFxuICAgICAgICAgIGxpdGVyYWxzOiBjb3B5KGxpdGVyYWxzKSxcbiAgICAgICAgICBpc0lkZW50aWZpZXJTdGFydDogaXNGdW5jdGlvbihpZGVudFN0YXJ0KSAmJiBpZGVudFN0YXJ0LFxuICAgICAgICAgIGlzSWRlbnRpZmllckNvbnRpbnVlOiBpc0Z1bmN0aW9uKGlkZW50Q29udGludWUpICYmIGlkZW50Q29udGludWVcbiAgICAgICAgfTtcbiAgICB2YXIgcnVubmluZ0NoZWNrc0VuYWJsZWQgPSBmYWxzZTtcblxuICAgICRwYXJzZS4kJHJ1bm5pbmdFeHBlbnNpdmVDaGVja3MgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBydW5uaW5nQ2hlY2tzRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgcmV0dXJuICRwYXJzZTtcblxuICAgIGZ1bmN0aW9uICRwYXJzZShleHAsIGludGVyY2VwdG9yRm4sIGV4cGVuc2l2ZUNoZWNrcykge1xuICAgICAgdmFyIHBhcnNlZEV4cHJlc3Npb24sIG9uZVRpbWUsIGNhY2hlS2V5O1xuXG4gICAgICBleHBlbnNpdmVDaGVja3MgPSBleHBlbnNpdmVDaGVja3MgfHwgcnVubmluZ0NoZWNrc0VuYWJsZWQ7XG5cbiAgICAgIHN3aXRjaCAodHlwZW9mIGV4cCkge1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGV4cCA9IGV4cC50cmltKCk7XG4gICAgICAgICAgY2FjaGVLZXkgPSBleHA7XG5cbiAgICAgICAgICB2YXIgY2FjaGUgPSAoZXhwZW5zaXZlQ2hlY2tzID8gY2FjaGVFeHBlbnNpdmUgOiBjYWNoZURlZmF1bHQpO1xuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBjYWNoZVtjYWNoZUtleV07XG5cbiAgICAgICAgICBpZiAoIXBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGlmIChleHAuY2hhckF0KDApID09PSAnOicgJiYgZXhwLmNoYXJBdCgxKSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgIG9uZVRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICBleHAgPSBleHAuc3Vic3RyaW5nKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhcnNlT3B0aW9ucyA9IGV4cGVuc2l2ZUNoZWNrcyA/ICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgOiAkcGFyc2VPcHRpb25zO1xuICAgICAgICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKHBhcnNlT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihsZXhlciwgJGZpbHRlciwgcGFyc2VPcHRpb25zKTtcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLmNvbnN0YW50KSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gY29uc3RhbnRXYXRjaERlbGVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvbmVUaW1lKSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsID9cbiAgICAgICAgICAgICAgICAgIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSA6IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBleHBlbnNpdmVDaGVja3NJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IHBhcnNlZEV4cHJlc3Npb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKTtcblxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKGV4cCwgaW50ZXJjZXB0b3JGbik7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3Iobm9vcCwgaW50ZXJjZXB0b3JGbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwZW5zaXZlQ2hlY2tzSW50ZXJjZXB0b3IoZm4pIHtcbiAgICAgIGlmICghZm4pIHJldHVybiBmbjtcbiAgICAgIGV4cGVuc2l2ZUNoZWNrRm4uJCR3YXRjaERlbGVnYXRlID0gZm4uJCR3YXRjaERlbGVnYXRlO1xuICAgICAgZXhwZW5zaXZlQ2hlY2tGbi5hc3NpZ24gPSBleHBlbnNpdmVDaGVja3NJbnRlcmNlcHRvcihmbi5hc3NpZ24pO1xuICAgICAgZXhwZW5zaXZlQ2hlY2tGbi5jb25zdGFudCA9IGZuLmNvbnN0YW50O1xuICAgICAgZXhwZW5zaXZlQ2hlY2tGbi5saXRlcmFsID0gZm4ubGl0ZXJhbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBmbi5pbnB1dHMgJiYgaSA8IGZuLmlucHV0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBmbi5pbnB1dHNbaV0gPSBleHBlbnNpdmVDaGVja3NJbnRlcmNlcHRvcihmbi5pbnB1dHNbaV0pO1xuICAgICAgfVxuICAgICAgZXhwZW5zaXZlQ2hlY2tGbi5pbnB1dHMgPSBmbi5pbnB1dHM7XG5cbiAgICAgIHJldHVybiBleHBlbnNpdmVDaGVja0ZuO1xuXG4gICAgICBmdW5jdGlvbiBleHBlbnNpdmVDaGVja0ZuKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciBleHBlbnNpdmVDaGVja09sZFZhbHVlID0gcnVubmluZ0NoZWNrc0VuYWJsZWQ7XG4gICAgICAgIHJ1bm5pbmdDaGVja3NFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZm4oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHJ1bm5pbmdDaGVja3NFbmFibGVkID0gZXhwZW5zaXZlQ2hlY2tPbGRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3VmFsdWUsIG9sZFZhbHVlT2ZWYWx1ZSkge1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBvbGRWYWx1ZU9mVmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsL3VuZGVmaW5lZFxuICAgICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAvLyBhdHRlbXB0IHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgcHJpbWl0aXZlIHR5cGVcbiAgICAgICAgLy8gVE9ETyhkb2NzKTogYWRkIGEgbm90ZSB0byBkb2NzIHRoYXQgYnkgaW1wbGVtZW50aW5nIHZhbHVlT2YgZXZlbiBvYmplY3RzIGFuZCBhcnJheXMgY2FuXG4gICAgICAgIC8vICAgICAgICAgICAgIGJlIGNoZWFwbHkgZGlydHktY2hlY2tlZFxuICAgICAgICBuZXdWYWx1ZSA9IGdldFZhbHVlT2YobmV3VmFsdWUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gb2JqZWN0cy9hcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgLSBkZWVwLXdhdGNoaW5nIHRoZW0gd291bGQgYmUgdG9vIGV4cGVuc2l2ZVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwtdGhyb3VnaCB0byB0aGUgcHJpbWl0aXZlIGVxdWFsaXR5IGNoZWNrXG4gICAgICB9XG5cbiAgICAgIC8vUHJpbWl0aXZlIG9yIE5hTlxuICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSBvbGRWYWx1ZU9mVmFsdWUgfHwgKG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAmJiBvbGRWYWx1ZU9mVmFsdWUgIT09IG9sZFZhbHVlT2ZWYWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XG4gICAgICB2YXIgbGFzdFJlc3VsdDtcblxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2YgPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcbiAgICAgICAgaW5wdXRFeHByZXNzaW9ucyA9IGlucHV0RXhwcmVzc2lvbnNbMF07XG4gICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0V2F0Y2goc2NvcGUpIHtcbiAgICAgICAgICB2YXIgbmV3SW5wdXRWYWx1ZSA9IGlucHV0RXhwcmVzc2lvbnMoc2NvcGUpO1xuICAgICAgICAgIGlmICghZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2YpKSB7XG4gICAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFtuZXdJbnB1dFZhbHVlXSk7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2YgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMgPSBbXTtcbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7IC8vIGluaXQgdG8gc29tZXRoaW5nIHVuaXF1ZSBzbyB0aGF0IGVxdWFscyBjaGVjayBmYWlsc1xuICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSB7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWU7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZElucHV0VmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uZVRpbWVXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBvbmVUaW1lV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHVud2F0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgdW53YXRjaCwgbGFzdFZhbHVlO1xuICAgICAgcmV0dXJuIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gb25lVGltZVdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIG9uZVRpbWVMaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSkge1xuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCB2YWx1ZSwgb2xkLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQWxsRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKGxhc3RWYWx1ZSkpIHVud2F0Y2goKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xuXG4gICAgICBmdW5jdGlvbiBpc0FsbERlZmluZWQodmFsdWUpIHtcbiAgICAgICAgdmFyIGFsbERlZmluZWQgPSB0cnVlO1xuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICBpZiAoIWlzRGVmaW5lZCh2YWwpKSBhbGxEZWZpbmVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWxsRGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgdmFyIHVud2F0Y2g7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudFdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHVud2F0Y2goKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XG4gICAgICBpZiAoIWludGVyY2VwdG9yRm4pIHJldHVybiBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgdmFyIHdhdGNoRGVsZWdhdGUgPSBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZTtcbiAgICAgIHZhciB1c2VJbnB1dHMgPSBmYWxzZTtcblxuICAgICAgdmFyIHJlZ3VsYXJXYXRjaCA9XG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlICYmXG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZVdhdGNoRGVsZWdhdGU7XG5cbiAgICAgIHZhciBmbiA9IHJlZ3VsYXJXYXRjaCA/IGZ1bmN0aW9uIHJlZ3VsYXJJbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdXNlSW5wdXRzICYmIGlucHV0cyA/IGlucHV0c1swXSA6IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3JGbih2YWx1ZSwgc2NvcGUsIGxvY2Fscyk7XG4gICAgICB9IDogZnVuY3Rpb24gb25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGludGVyY2VwdG9yRm4odmFsdWUsIHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAvLyB3ZSBvbmx5IHJldHVybiB0aGUgaW50ZXJjZXB0b3IncyByZXN1bHQgaWYgdGhlXG4gICAgICAgIC8vIGluaXRpYWwgdmFsdWUgaXMgZGVmaW5lZCAoZm9yIGJpbmQtb25jZSlcbiAgICAgICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyByZXN1bHQgOiB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFByb3BhZ2F0ZSAkJHdhdGNoRGVsZWdhdGVzIG90aGVyIHRoZW4gaW5wdXRzV2F0Y2hEZWxlZ2F0ZVxuICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICYmXG4gICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgIT09IGlucHV0c1dhdGNoRGVsZWdhdGUpIHtcbiAgICAgICAgZm4uJCR3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XG4gICAgICB9IGVsc2UgaWYgKCFpbnRlcmNlcHRvckZuLiRzdGF0ZWZ1bCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBpbnRlcmNlcHRvciwgYnV0IG5vIHdhdGNoRGVsZWdhdGUgdGhlbiB0cmVhdCB0aGUgaW50ZXJjZXB0b3IgbGlrZVxuICAgICAgICAvLyB3ZSB0cmVhdCBmaWx0ZXJzIC0gaXQgaXMgYXNzdW1lZCB0byBiZSBhIHB1cmUgZnVuY3Rpb24gdW5sZXNzIGZsYWdnZWQgd2l0aCAkc3RhdGVmdWxcbiAgICAgICAgZm4uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcbiAgICAgICAgdXNlSW5wdXRzID0gIXBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xuICAgICAgICBmbi5pbnB1dHMgPSBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyA/IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzIDogW3BhcnNlZEV4cHJlc3Npb25dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHFcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHNlcnZpY2UgdGhhdCBoZWxwcyB5b3UgcnVuIGZ1bmN0aW9ucyBhc3luY2hyb25vdXNseSwgYW5kIHVzZSB0aGVpciByZXR1cm4gdmFsdWVzIChvciBleGNlcHRpb25zKVxuICogd2hlbiB0aGV5IGFyZSBkb25lIHByb2Nlc3NpbmcuXG4gKlxuICogVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBwcm9taXNlcy9kZWZlcnJlZCBvYmplY3RzIGluc3BpcmVkIGJ5XG4gKiBbS3JpcyBLb3dhbCdzIFFdKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkuXG4gKlxuICogJHEgY2FuIGJlIHVzZWQgaW4gdHdvIGZhc2hpb25zIC0tLSBvbmUgd2hpY2ggaXMgbW9yZSBzaW1pbGFyIHRvIEtyaXMgS293YWwncyBRIG9yIGpRdWVyeSdzIERlZmVycmVkXG4gKiBpbXBsZW1lbnRhdGlvbnMsIGFuZCB0aGUgb3RoZXIgd2hpY2ggcmVzZW1ibGVzIEVTNiAoRVMyMDE1KSBwcm9taXNlcyB0byBzb21lIGRlZ3JlZS5cbiAqXG4gKiAjICRxIGNvbnN0cnVjdG9yXG4gKlxuICogVGhlIHN0cmVhbWxpbmVkIEVTNiBzdHlsZSBwcm9taXNlIGlzIGVzc2VudGlhbGx5IGp1c3QgdXNpbmcgJHEgYXMgYSBjb25zdHJ1Y3RvciB3aGljaCB0YWtlcyBhIGByZXNvbHZlcmBcbiAqIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhpcyBpcyBzaW1pbGFyIHRvIHRoZSBuYXRpdmUgUHJvbWlzZSBpbXBsZW1lbnRhdGlvbiBmcm9tIEVTNixcbiAqIHNlZSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlKS5cbiAqXG4gKiBXaGlsZSB0aGUgY29uc3RydWN0b3Itc3R5bGUgdXNlIGlzIHN1cHBvcnRlZCwgbm90IGFsbCBvZiB0aGUgc3VwcG9ydGluZyBtZXRob2RzIGZyb20gRVM2IHByb21pc2VzIGFyZVxuICogYXZhaWxhYmxlIHlldC5cbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCBsaWtlIHNvOlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIGZvciB0aGUgcHVycG9zZSBvZiB0aGlzIGV4YW1wbGUgbGV0J3MgYXNzdW1lIHRoYXQgdmFyaWFibGVzIGAkcWAgYW5kIGBva1RvR3JlZXRgXG4gKiAgIC8vIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbGV4aWNhbCBzY29wZSAodGhleSBjb3VsZCBoYXZlIGJlZW4gaW5qZWN0ZWQgb3IgcGFzc2VkIGluKS5cbiAqXG4gKiAgIGZ1bmN0aW9uIGFzeW5jR3JlZXQobmFtZSkge1xuICogICAgIC8vIHBlcmZvcm0gc29tZSBhc3luY2hyb25vdXMgb3BlcmF0aW9uLCByZXNvbHZlIG9yIHJlamVjdCB0aGUgcHJvbWlzZSB3aGVuIGFwcHJvcHJpYXRlLlxuICogICAgIHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAqICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgIGlmIChva1RvR3JlZXQobmFtZSkpIHtcbiAqICAgICAgICAgICByZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xuICogICAgICAgICB9IGVsc2Uge1xuICogICAgICAgICAgIHJlamVjdCgnR3JlZXRpbmcgJyArIG5hbWUgKyAnIGlzIG5vdCBhbGxvd2VkLicpO1xuICogICAgICAgICB9XG4gKiAgICAgICB9LCAxMDAwKTtcbiAqICAgICB9KTtcbiAqICAgfVxuICpcbiAqICAgdmFyIHByb21pc2UgPSBhc3luY0dyZWV0KCdSb2JpbiBIb29kJyk7XG4gKiAgIHByb21pc2UudGhlbihmdW5jdGlvbihncmVldGluZykge1xuICogICAgIGFsZXJ0KCdTdWNjZXNzOiAnICsgZ3JlZXRpbmcpO1xuICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAqICAgICBhbGVydCgnRmFpbGVkOiAnICsgcmVhc29uKTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBOb3RlOiBwcm9ncmVzcy9ub3RpZnkgY2FsbGJhY2tzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCB2aWEgdGhlIEVTNi1zdHlsZSBpbnRlcmZhY2UuXG4gKlxuICogTm90ZTogdW5saWtlIEVTNiBiZWhhdmlvciwgYW4gZXhjZXB0aW9uIHRocm93biBpbiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gd2lsbCBOT1QgaW1wbGljaXRseSByZWplY3QgdGhlIHByb21pc2UuXG4gKlxuICogSG93ZXZlciwgdGhlIG1vcmUgdHJhZGl0aW9uYWwgQ29tbW9uSlMtc3R5bGUgdXNhZ2UgaXMgc3RpbGwgYXZhaWxhYmxlLCBhbmQgZG9jdW1lbnRlZCBiZWxvdy5cbiAqXG4gKiBbVGhlIENvbW1vbkpTIFByb21pc2UgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1Byb21pc2VzKSBkZXNjcmliZXMgYSBwcm9taXNlIGFzIGFuXG4gKiBpbnRlcmZhY2UgZm9yIGludGVyYWN0aW5nIHdpdGggYW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgcmVzdWx0IG9mIGFuIGFjdGlvbiB0aGF0IGlzXG4gKiBwZXJmb3JtZWQgYXN5bmNocm9ub3VzbHksIGFuZCBtYXkgb3IgbWF5IG5vdCBiZSBmaW5pc2hlZCBhdCBhbnkgZ2l2ZW4gcG9pbnQgaW4gdGltZS5cbiAqXG4gKiBGcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiBkZWFsaW5nIHdpdGggZXJyb3IgaGFuZGxpbmcsIGRlZmVycmVkIGFuZCBwcm9taXNlIEFQSXMgYXJlIHRvXG4gKiBhc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcgd2hhdCBgdHJ5YCwgYGNhdGNoYCBhbmQgYHRocm93YCBrZXl3b3JkcyBhcmUgdG8gc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcuXG4gKlxuICogYGBganNcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxuICpcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XG4gKiAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAqXG4gKiAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgIGRlZmVycmVkLm5vdGlmeSgnQWJvdXQgdG8gZ3JlZXQgJyArIG5hbWUgKyAnLicpO1xuICpcbiAqICAgICAgIGlmIChva1RvR3JlZXQobmFtZSkpIHtcbiAqICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgnSGVsbG8sICcgKyBuYW1lICsgJyEnKTtcbiAqICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnR3JlZXRpbmcgJyArIG5hbWUgKyAnIGlzIG5vdCBhbGxvd2VkLicpO1xuICogICAgICAgfVxuICogICAgIH0sIDEwMDApO1xuICpcbiAqICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAqICAgfVxuICpcbiAqICAgdmFyIHByb21pc2UgPSBhc3luY0dyZWV0KCdSb2JpbiBIb29kJyk7XG4gKiAgIHByb21pc2UudGhlbihmdW5jdGlvbihncmVldGluZykge1xuICogICAgIGFsZXJ0KCdTdWNjZXNzOiAnICsgZ3JlZXRpbmcpO1xuICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAqICAgICBhbGVydCgnRmFpbGVkOiAnICsgcmVhc29uKTtcbiAqICAgfSwgZnVuY3Rpb24odXBkYXRlKSB7XG4gKiAgICAgYWxlcnQoJ0dvdCBub3RpZmljYXRpb246ICcgKyB1cGRhdGUpO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIEF0IGZpcnN0IGl0IG1pZ2h0IG5vdCBiZSBvYnZpb3VzIHdoeSB0aGlzIGV4dHJhIGNvbXBsZXhpdHkgaXMgd29ydGggdGhlIHRyb3VibGUuIFRoZSBwYXlvZmZcbiAqIGNvbWVzIGluIHRoZSB3YXkgb2YgZ3VhcmFudGVlcyB0aGF0IHByb21pc2UgYW5kIGRlZmVycmVkIEFQSXMgbWFrZSwgc2VlXG4gKiBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3VuY29tbW9uanMvYmxvYi9tYXN0ZXIvcHJvbWlzZXMvc3BlY2lmaWNhdGlvbi5tZC5cbiAqXG4gKiBBZGRpdGlvbmFsbHkgdGhlIHByb21pc2UgYXBpIGFsbG93cyBmb3IgY29tcG9zaXRpb24gdGhhdCBpcyB2ZXJ5IGhhcmQgdG8gZG8gd2l0aCB0aGVcbiAqIHRyYWRpdGlvbmFsIGNhbGxiYWNrIChbQ1BTXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbnRpbnVhdGlvbi1wYXNzaW5nX3N0eWxlKSkgYXBwcm9hY2guXG4gKiBGb3IgbW9yZSBvbiB0aGlzIHBsZWFzZSBzZWUgdGhlIFtRIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkgZXNwZWNpYWxseSB0aGVcbiAqIHNlY3Rpb24gb24gc2VyaWFsIG9yIHBhcmFsbGVsIGpvaW5pbmcgb2YgcHJvbWlzZXMuXG4gKlxuICogIyBUaGUgRGVmZXJyZWQgQVBJXG4gKlxuICogQSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQgaXMgY29uc3RydWN0ZWQgYnkgY2FsbGluZyBgJHEuZGVmZXIoKWAuXG4gKlxuICogVGhlIHB1cnBvc2Ugb2YgdGhlIGRlZmVycmVkIG9iamVjdCBpcyB0byBleHBvc2UgdGhlIGFzc29jaWF0ZWQgUHJvbWlzZSBpbnN0YW5jZSBhcyB3ZWxsIGFzIEFQSXNcbiAqIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHNpZ25hbGluZyB0aGUgc3VjY2Vzc2Z1bCBvciB1bnN1Y2Nlc3NmdWwgY29tcGxldGlvbiwgYXMgd2VsbCBhcyB0aGUgc3RhdHVzXG4gKiBvZiB0aGUgdGFzay5cbiAqXG4gKiAqKk1ldGhvZHMqKlxuICpcbiAqIC0gYHJlc29sdmUodmFsdWUpYCDigJMgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgdmFsdWVgLiBJZiB0aGUgdmFsdWUgaXMgYSByZWplY3Rpb25cbiAqICAgY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIGluc3RlYWQuXG4gKiAtIGByZWplY3QocmVhc29uKWAg4oCTIHJlamVjdHMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgcmVhc29uYC4gVGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gKiAgIHJlc29sdmluZyBpdCB3aXRoIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YC5cbiAqIC0gYG5vdGlmeSh2YWx1ZSlgIC0gcHJvdmlkZXMgdXBkYXRlcyBvbiB0aGUgc3RhdHVzIG9mIHRoZSBwcm9taXNlJ3MgZXhlY3V0aW9uLiBUaGlzIG1heSBiZSBjYWxsZWRcbiAqICAgbXVsdGlwbGUgdGltZXMgYmVmb3JlIHRoZSBwcm9taXNlIGlzIGVpdGhlciByZXNvbHZlZCBvciByZWplY3RlZC5cbiAqXG4gKiAqKlByb3BlcnRpZXMqKlxuICpcbiAqIC0gcHJvbWlzZSDigJMgYHtQcm9taXNlfWAg4oCTIHByb21pc2Ugb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRlZmVycmVkLlxuICpcbiAqXG4gKiAjIFRoZSBQcm9taXNlIEFQSVxuICpcbiAqIEEgbmV3IHByb21pc2UgaW5zdGFuY2UgaXMgY3JlYXRlZCB3aGVuIGEgZGVmZXJyZWQgaW5zdGFuY2UgaXMgY3JlYXRlZCBhbmQgY2FuIGJlIHJldHJpZXZlZCBieVxuICogY2FsbGluZyBgZGVmZXJyZWQucHJvbWlzZWAuXG4gKlxuICogVGhlIHB1cnBvc2Ugb2YgdGhlIHByb21pc2Ugb2JqZWN0IGlzIHRvIGFsbG93IGZvciBpbnRlcmVzdGVkIHBhcnRpZXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcmVzdWx0XG4gKiBvZiB0aGUgZGVmZXJyZWQgdGFzayB3aGVuIGl0IGNvbXBsZXRlcy5cbiAqXG4gKiAqKk1ldGhvZHMqKlxuICpcbiAqIC0gYHRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBbZXJyb3JDYWxsYmFja10sIFtub3RpZnlDYWxsYmFja10pYCDigJMgcmVnYXJkbGVzcyBvZiB3aGVuIHRoZSBwcm9taXNlIHdhcyBvclxuICogICB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkLCBgdGhlbmAgY2FsbHMgb25lIG9mIHRoZSBzdWNjZXNzIG9yIGVycm9yIGNhbGxiYWNrcyBhc3luY2hyb25vdXNseVxuICogICBhcyBzb29uIGFzIHRoZSByZXN1bHQgaXMgYXZhaWxhYmxlLiBUaGUgY2FsbGJhY2tzIGFyZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudDogdGhlIHJlc3VsdFxuICogICBvciByZWplY3Rpb24gcmVhc29uLiBBZGRpdGlvbmFsbHksIHRoZSBub3RpZnkgY2FsbGJhY2sgbWF5IGJlIGNhbGxlZCB6ZXJvIG9yIG1vcmUgdGltZXMgdG9cbiAqICAgcHJvdmlkZSBhIHByb2dyZXNzIGluZGljYXRpb24sIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCBvciByZWplY3RlZC5cbiAqXG4gKiAgIFRoaXMgbWV0aG9kICpyZXR1cm5zIGEgbmV3IHByb21pc2UqIHdoaWNoIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZVxuICogICBgc3VjY2Vzc0NhbGxiYWNrYCwgYGVycm9yQ2FsbGJhY2tgICh1bmxlc3MgdGhhdCB2YWx1ZSBpcyBhIHByb21pc2UsIGluIHdoaWNoIGNhc2UgaXQgaXMgcmVzb2x2ZWRcbiAqICAgd2l0aCB0aGUgdmFsdWUgd2hpY2ggaXMgcmVzb2x2ZWQgaW4gdGhhdCBwcm9taXNlIHVzaW5nXG4gKiAgIFtwcm9taXNlIGNoYWluaW5nXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9lczYvcHJvbWlzZXMvI3RvYy1wcm9taXNlcy1xdWV1ZXMpKS5cbiAqICAgSXQgYWxzbyBub3RpZmllcyB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYG5vdGlmeUNhbGxiYWNrYCBtZXRob2QuIFRoZSBwcm9taXNlIGNhbm5vdCBiZVxuICogICByZXNvbHZlZCBvciByZWplY3RlZCBmcm9tIHRoZSBub3RpZnlDYWxsYmFjayBtZXRob2QuIFRoZSBlcnJvckNhbGxiYWNrIGFuZCBub3RpZnlDYWxsYmFja1xuICogICBhcmd1bWVudHMgYXJlIG9wdGlvbmFsLlxuICpcbiAqIC0gYGNhdGNoKGVycm9yQ2FsbGJhY2spYCDigJMgc2hvcnRoYW5kIGZvciBgcHJvbWlzZS50aGVuKG51bGwsIGVycm9yQ2FsbGJhY2spYFxuICpcbiAqIC0gYGZpbmFsbHkoY2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIGFsbG93cyB5b3UgdG8gb2JzZXJ2ZSBlaXRoZXIgdGhlIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBvZiBhIHByb21pc2UsXG4gKiAgIGJ1dCB0byBkbyBzbyB3aXRob3V0IG1vZGlmeWluZyB0aGUgZmluYWwgdmFsdWUuIFRoaXMgaXMgdXNlZnVsIHRvIHJlbGVhc2UgcmVzb3VyY2VzIG9yIGRvIHNvbWVcbiAqICAgY2xlYW4tdXAgdGhhdCBuZWVkcyB0byBiZSBkb25lIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlamVjdGVkIG9yIHJlc29sdmVkLiBTZWUgdGhlIFtmdWxsXG4gKiAgIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS93aWtpL0FQSS1SZWZlcmVuY2UjcHJvbWlzZWZpbmFsbHljYWxsYmFjaykgZm9yXG4gKiAgIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogIyBDaGFpbmluZyBwcm9taXNlc1xuICpcbiAqIEJlY2F1c2UgY2FsbGluZyB0aGUgYHRoZW5gIG1ldGhvZCBvZiBhIHByb21pc2UgcmV0dXJucyBhIG5ldyBkZXJpdmVkIHByb21pc2UsIGl0IGlzIGVhc2lseVxuICogcG9zc2libGUgdG8gY3JlYXRlIGEgY2hhaW4gb2YgcHJvbWlzZXM6XG4gKlxuICogYGBganNcbiAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICogICAgIHJldHVybiByZXN1bHQgKyAxO1xuICogICB9KTtcbiAqXG4gKiAgIC8vIHByb21pc2VCIHdpbGwgYmUgcmVzb2x2ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgcHJvbWlzZUEgaXMgcmVzb2x2ZWQgYW5kIGl0cyB2YWx1ZVxuICogICAvLyB3aWxsIGJlIHRoZSByZXN1bHQgb2YgcHJvbWlzZUEgaW5jcmVtZW50ZWQgYnkgMVxuICogYGBgXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gY3JlYXRlIGNoYWlucyBvZiBhbnkgbGVuZ3RoIGFuZCBzaW5jZSBhIHByb21pc2UgY2FuIGJlIHJlc29sdmVkIHdpdGggYW5vdGhlclxuICogcHJvbWlzZSAod2hpY2ggd2lsbCBkZWZlciBpdHMgcmVzb2x1dGlvbiBmdXJ0aGVyKSwgaXQgaXMgcG9zc2libGUgdG8gcGF1c2UvZGVmZXIgcmVzb2x1dGlvbiBvZlxuICogdGhlIHByb21pc2VzIGF0IGFueSBwb2ludCBpbiB0aGUgY2hhaW4uIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgdG8gaW1wbGVtZW50IHBvd2VyZnVsIEFQSXMgbGlrZVxuICogJGh0dHAncyByZXNwb25zZSBpbnRlcmNlcHRvcnMuXG4gKlxuICpcbiAqICMgRGlmZmVyZW5jZXMgYmV0d2VlbiBLcmlzIEtvd2FsJ3MgUSBhbmQgJHFcbiAqXG4gKiAgVGhlcmUgYXJlIHR3byBtYWluIGRpZmZlcmVuY2VzOlxuICpcbiAqIC0gJHEgaXMgaW50ZWdyYXRlZCB3aXRoIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZX0gU2NvcGUgbW9kZWwgb2JzZXJ2YXRpb25cbiAqICAgbWVjaGFuaXNtIGluIGFuZ3VsYXIsIHdoaWNoIG1lYW5zIGZhc3RlciBwcm9wYWdhdGlvbiBvZiByZXNvbHV0aW9uIG9yIHJlamVjdGlvbiBpbnRvIHlvdXJcbiAqICAgbW9kZWxzIGFuZCBhdm9pZGluZyB1bm5lY2Vzc2FyeSBicm93c2VyIHJlcGFpbnRzLCB3aGljaCB3b3VsZCByZXN1bHQgaW4gZmxpY2tlcmluZyBVSS5cbiAqIC0gUSBoYXMgbWFueSBtb3JlIGZlYXR1cmVzIHRoYW4gJHEsIGJ1dCB0aGF0IGNvbWVzIGF0IGEgY29zdCBvZiBieXRlcy4gJHEgaXMgdGlueSwgYnV0IGNvbnRhaW5zXG4gKiAgIGFsbCB0aGUgaW1wb3J0YW50IGZ1bmN0aW9uYWxpdHkgbmVlZGVkIGZvciBjb21tb24gYXN5bmMgdGFza3MuXG4gKlxuICogIyBUZXN0aW5nXG4gKlxuICogIGBgYGpzXG4gKiAgICBpdCgnc2hvdWxkIHNpbXVsYXRlIHByb21pc2UnLCBpbmplY3QoZnVuY3Rpb24oJHEsICRyb290U2NvcGUpIHtcbiAqICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAqICAgICAgdmFyIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICogICAgICB2YXIgcmVzb2x2ZWRWYWx1ZTtcbiAqXG4gKiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkgeyByZXNvbHZlZFZhbHVlID0gdmFsdWU7IH0pO1xuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xuICpcbiAqICAgICAgLy8gU2ltdWxhdGUgcmVzb2x2aW5nIG9mIHByb21pc2VcbiAqICAgICAgZGVmZXJyZWQucmVzb2x2ZSgxMjMpO1xuICogICAgICAvLyBOb3RlIHRoYXQgdGhlICd0aGVuJyBmdW5jdGlvbiBkb2VzIG5vdCBnZXQgY2FsbGVkIHN5bmNocm9ub3VzbHkuXG4gKiAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSB3YW50IHRoZSBwcm9taXNlIEFQSSB0byBhbHdheXMgYmUgYXN5bmMsIHdoZXRoZXIgb3Igbm90XG4gKiAgICAgIC8vIGl0IGdvdCBjYWxsZWQgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTtcbiAqXG4gKiAgICAgIC8vIFByb3BhZ2F0ZSBwcm9taXNlIHJlc29sdXRpb24gdG8gJ3RoZW4nIGZ1bmN0aW9ucyB1c2luZyAkYXBwbHkoKS5cbiAqICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvRXF1YWwoMTIzKTtcbiAqICAgIH0pKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uLCBmdW5jdGlvbil9IHJlc29sdmVyIEZ1bmN0aW9uIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciByZXNvbHZpbmcgb3JcbiAqICAgcmVqZWN0aW5nIHRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZXNvbHZlcyB0aGVcbiAqICAgcHJvbWlzZSwgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZWplY3RzIHRoZSBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLlxuICovXG5mdW5jdGlvbiAkUVByb3ZpZGVyKCkge1xuXG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICQkUVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oJGJyb3dzZXIsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XG4gICAgfSwgJGV4Y2VwdGlvbkhhbmRsZXIpO1xuICB9XTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBtYW5hZ2VyLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24pfSBuZXh0VGljayBGdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGZ1bmN0aW9ucyBpbiB0aGUgbmV4dCB0dXJuLlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKX0gZXhjZXB0aW9uSGFuZGxlciBGdW5jdGlvbiBpbnRvIHdoaWNoIHVuZXhwZWN0ZWQgZXhjZXB0aW9ucyBhcmUgcGFzc2VkIGZvclxuICogICAgIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgbWFuYWdlci5cbiAqL1xuZnVuY3Rpb24gcUZhY3RvcnkobmV4dFRpY2ssIGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgdmFyICRxTWluRXJyID0gbWluRXJyKCckcScsIFR5cGVFcnJvcik7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmcuJHEjZGVmZXJcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBgRGVmZXJyZWRgIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGEgdGFzayB3aGljaCB3aWxsIGZpbmlzaCBpbiB0aGUgZnV0dXJlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RGVmZXJyZWR9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQuXG4gICAqL1xuICB2YXIgZGVmZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIC8vTmVjZXNzYXJ5IHRvIHN1cHBvcnQgdW5ib3VuZCBleGVjdXRpb24gOi9cbiAgICBkLnJlc29sdmUgPSBzaW1wbGVCaW5kKGQsIGQucmVzb2x2ZSk7XG4gICAgZC5yZWplY3QgPSBzaW1wbGVCaW5kKGQsIGQucmVqZWN0KTtcbiAgICBkLm5vdGlmeSA9IHNpbXBsZUJpbmQoZCwgZC5ub3RpZnkpO1xuICAgIHJldHVybiBkO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFByb21pc2UoKSB7XG4gICAgdGhpcy4kJHN0YXRlID0geyBzdGF0dXM6IDAgfTtcbiAgfVxuXG4gIGV4dGVuZChQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9ncmVzc0JhY2spIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChvbkZ1bGZpbGxlZCkgJiYgaXNVbmRlZmluZWQob25SZWplY3RlZCkgJiYgaXNVbmRlZmluZWQocHJvZ3Jlc3NCYWNrKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcblxuICAgICAgdGhpcy4kJHN0YXRlLnBlbmRpbmcgPSB0aGlzLiQkc3RhdGUucGVuZGluZyB8fCBbXTtcbiAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nLnB1c2goW3Jlc3VsdCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFja10pO1xuICAgICAgaWYgKHRoaXMuJCRzdGF0ZS5zdGF0dXMgPiAwKSBzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLiQkc3RhdGUpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICBcImZpbmFsbHlcIjogZnVuY3Rpb24oY2FsbGJhY2ssIHByb2dyZXNzQmFjaykge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2sodmFsdWUsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayhlcnJvciwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgIH0sIHByb2dyZXNzQmFjayk7XG4gICAgfVxuICB9KTtcblxuICAvL0Zhc3RlciwgbW9yZSBiYXNpYyB0aGFuIGFuZ3VsYXIuYmluZCBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyLWJpbmQtdnMtY3VzdG9tLXZzLW5hdGl2ZVxuICBmdW5jdGlvbiBzaW1wbGVCaW5kKGNvbnRleHQsIGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmbi5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XG4gICAgdmFyIGZuLCBkZWZlcnJlZCwgcGVuZGluZztcblxuICAgIHBlbmRpbmcgPSBzdGF0ZS5wZW5kaW5nO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBzdGF0ZS5wZW5kaW5nID0gdW5kZWZpbmVkO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBlbmRpbmcubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgZGVmZXJyZWQgPSBwZW5kaW5nW2ldWzBdO1xuICAgICAgZm4gPSBwZW5kaW5nW2ldW3N0YXRlLnN0YXR1c107XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZuKHN0YXRlLnZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc3RhdHVzID09PSAxKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHN0YXRlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7XG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVQcm9jZXNzUXVldWUoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSB0cnVlO1xuICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgeyBwcm9jZXNzUXVldWUoc3RhdGUpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIERlZmVycmVkKCkge1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XG4gIH1cblxuICBleHRlbmQoRGVmZXJyZWQucHJvdG90eXBlLCB7XG4gICAgcmVzb2x2ZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgICBpZiAodmFsID09PSB0aGlzLnByb21pc2UpIHtcbiAgICAgICAgdGhpcy4kJHJlamVjdCgkcU1pbkVycihcbiAgICAgICAgICAncWN5Y2xlJyxcbiAgICAgICAgICBcIkV4cGVjdGVkIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCB2YWx1ZSBvdGhlciB0aGFuIGl0c2VsZiAnezB9J1wiLFxuICAgICAgICAgIHZhbCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kJHJlc29sdmUodmFsKTtcbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICAkJHJlc29sdmU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFyIHRoZW47XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkpIHRoZW4gPSB2YWwgJiYgdmFsLnRoZW47XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gLTE7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbCwgcmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UsIHNpbXBsZUJpbmQodGhpcywgdGhpcy5ub3RpZnkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAxO1xuICAgICAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3RQcm9taXNlKGUpO1xuICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWwpIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHRoYXQuJCRyZXNvbHZlKHZhbCk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWplY3RQcm9taXNlKHZhbCkge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgdGhhdC4kJHJlamVjdCh2YWwpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWplY3Q6IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgaWYgKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cykgcmV0dXJuO1xuICAgICAgdGhpcy4kJHJlamVjdChyZWFzb24pO1xuICAgIH0sXG5cbiAgICAkJHJlamVjdDogZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHJlYXNvbjtcbiAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IDI7XG4gICAgICBzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSk7XG4gICAgfSxcblxuICAgIG5vdGlmeTogZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLnByb21pc2UuJCRzdGF0ZS5wZW5kaW5nO1xuXG4gICAgICBpZiAoKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA8PSAwKSAmJiBjYWxsYmFja3MgJiYgY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBuZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2ssIHJlc3VsdDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2tzW2ldWzBdO1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaV1bM107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXN1bHQubm90aWZ5KGlzRnVuY3Rpb24oY2FsbGJhY2spID8gY2FsbGJhY2socHJvZ3Jlc3MpIDogcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNyZWplY3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGByZWFzb25gLiBUaGlzIGFwaSBzaG91bGQgYmVcbiAgICogdXNlZCB0byBmb3J3YXJkIHJlamVjdGlvbiBpbiBhIGNoYWluIG9mIHByb21pc2VzLiBJZiB5b3UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgbGFzdCBwcm9taXNlIGluXG4gICAqIGEgcHJvbWlzZSBjaGFpbiwgeW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaXQuXG4gICAqXG4gICAqIFdoZW4gY29tcGFyaW5nIGRlZmVycmVkcy9wcm9taXNlcyB0byB0aGUgZmFtaWxpYXIgYmVoYXZpb3Igb2YgdHJ5L2NhdGNoL3Rocm93LCB0aGluayBvZlxuICAgKiBgcmVqZWN0YCBhcyB0aGUgYHRocm93YCBrZXl3b3JkIGluIEphdmFTY3JpcHQuIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSBcImNhdGNoXCIgYW4gZXJyb3IgdmlhXG4gICAqIGEgcHJvbWlzZSBlcnJvciBjYWxsYmFjayBhbmQgeW91IHdhbnQgdG8gZm9yd2FyZCB0aGUgZXJyb3IgdG8gdGhlIHByb21pc2UgZGVyaXZlZCBmcm9tIHRoZVxuICAgKiBjdXJyZW50IHByb21pc2UsIHlvdSBoYXZlIHRvIFwicmV0aHJvd1wiIHRoZSBlcnJvciBieSByZXR1cm5pbmcgYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhXG4gICAqIGByZWplY3RgLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHByb21pc2VCID0gcHJvbWlzZUEudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICogICAgIC8vIHN1Y2Nlc3M6IGRvIHNvbWV0aGluZyBhbmQgcmVzb2x2ZSBwcm9taXNlQlxuICAgKiAgICAgLy8gICAgICAgICAgd2l0aCB0aGUgb2xkIG9yIGEgbmV3IHJlc3VsdFxuICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICogICAgIC8vIGVycm9yOiBoYW5kbGUgdGhlIGVycm9yIGlmIHBvc3NpYmxlIGFuZFxuICAgKiAgICAgLy8gICAgICAgIHJlc29sdmUgcHJvbWlzZUIgd2l0aCBuZXdQcm9taXNlT3JWYWx1ZSxcbiAgICogICAgIC8vICAgICAgICBvdGhlcndpc2UgZm9yd2FyZCB0aGUgcmVqZWN0aW9uIHRvIHByb21pc2VCXG4gICAqICAgICBpZiAoY2FuSGFuZGxlKHJlYXNvbikpIHtcbiAgICogICAgICAvLyBoYW5kbGUgdGhlIGVycm9yIGFuZCByZWNvdmVyXG4gICAqICAgICAgcmV0dXJuIG5ld1Byb21pc2VPclZhbHVlO1xuICAgKiAgICAgfVxuICAgKiAgICAgcmV0dXJuICRxLnJlamVjdChyZWFzb24pO1xuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsqfSByZWFzb24gQ29uc3RhbnQsIG1lc3NhZ2UsIGV4Y2VwdGlvbiBvciBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZWplY3Rpb24gcmVhc29uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCB3YXMgYWxyZWFkeSByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBgcmVhc29uYC5cbiAgICovXG4gIHZhciByZWplY3QgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XG4gICAgcmVzdWx0LnJlamVjdChyZWFzb24pO1xuICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcbiAgfTtcblxuICB2YXIgbWFrZVByb21pc2UgPSBmdW5jdGlvbiBtYWtlUHJvbWlzZSh2YWx1ZSwgcmVzb2x2ZWQpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XG4gICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICByZXN1bHQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5yZWplY3QodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUNhbGxiYWNrID0gZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2sodmFsdWUsIGlzUmVzb2x2ZWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGNhbGxiYWNrT3V0cHV0ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSBjYWxsYmFja091dHB1dCA9IGNhbGxiYWNrKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKGUsIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FsbGJhY2tPdXRwdXQpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2tPdXRwdXQudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKHZhbHVlLCBpc1Jlc29sdmVkKTtcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBtYWtlUHJvbWlzZShlcnJvciwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtYWtlUHJvbWlzZSh2YWx1ZSwgaXNSZXNvbHZlZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI3doZW5cbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFdyYXBzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGJlIGEgdmFsdWUgb3IgYSAoM3JkIHBhcnR5KSB0aGVuLWFibGUgcHJvbWlzZSBpbnRvIGEgJHEgcHJvbWlzZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiB5b3UgYXJlIGRlYWxpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCBtaWdodCBvciBtaWdodCBub3QgYmUgYSBwcm9taXNlLCBvciBpZlxuICAgKiB0aGUgcHJvbWlzZSBjb21lcyBmcm9tIGEgc291cmNlIHRoYXQgY2FuJ3QgYmUgdHJ1c3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvciBhIHByb21pc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHN1Y2Nlc3NDYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZXJyb3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gcHJvZ3Jlc3NDYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXG4gICAqL1xuXG5cbiAgdmFyIHdoZW4gPSBmdW5jdGlvbih2YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjaykge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICByZXN1bHQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlLnRoZW4oY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjcmVzb2x2ZVxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWxpYXMgb2Yge0BsaW5rIG5nLiRxI3doZW4gd2hlbn0gdG8gbWFpbnRhaW4gbmFtaW5nIGNvbnNpc3RlbmN5IHdpdGggRVM2LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9yIGEgcHJvbWlzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gc3VjY2Vzc0NhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcnJvckNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBwcm9ncmVzc0NhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSBvZiB0aGUgcGFzc2VkIHZhbHVlIG9yIHByb21pc2VcbiAgICovXG4gIHZhciByZXNvbHZlID0gd2hlbjtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNhbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbWJpbmVzIG11bHRpcGxlIHByb21pc2VzIGludG8gYSBzaW5nbGUgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gYWxsIG9mIHRoZSBpbnB1dFxuICAgKiBwcm9taXNlcyBhcmUgcmVzb2x2ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgc2luZ2xlIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYW4gYXJyYXkvaGFzaCBvZiB2YWx1ZXMsXG4gICAqICAgZWFjaCB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9taXNlIGF0IHRoZSBzYW1lIGluZGV4L2tleSBpbiB0aGUgYHByb21pc2VzYCBhcnJheS9oYXNoLlxuICAgKiAgIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgaXMgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbiwgdGhpcyByZXN1bHRpbmcgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkXG4gICAqICAgd2l0aCB0aGUgc2FtZSByZWplY3Rpb24gdmFsdWUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgIHZhciBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpLFxuICAgICAgICBjb3VudGVyID0gMCxcbiAgICAgICAgcmVzdWx0cyA9IGlzQXJyYXkocHJvbWlzZXMpID8gW10gOiB7fTtcblxuICAgIGZvckVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uKHByb21pc2UsIGtleSkge1xuICAgICAgY291bnRlcisrO1xuICAgICAgd2hlbihwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXN1bHRzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjtcbiAgICAgICAgcmVzdWx0c1trZXldID0gdmFsdWU7XG4gICAgICAgIGlmICghKC0tY291bnRlcikpIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKHJlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNyYWNlXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9yIHJlamVjdHMgYXMgc29vbiBhcyBvbmUgb2YgdGhvc2UgcHJvbWlzZXNcbiAgICogcmVzb2x2ZXMgb3IgcmVqZWN0cywgd2l0aCB0aGUgdmFsdWUgb3IgcmVhc29uIGZyb20gdGhhdCBwcm9taXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9taXNlPnxPYmplY3QuPFByb21pc2U+fSBwcm9taXNlcyBBbiBhcnJheSBvciBoYXNoIG9mIHByb21pc2VzLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb3IgcmVqZWN0cyBhcyBzb29uIGFzIG9uZSBvZiB0aGUgYHByb21pc2VzYFxuICAgKiByZXNvbHZlcyBvciByZWplY3RzLCB3aXRoIHRoZSB2YWx1ZSBvciByZWFzb24gZnJvbSB0aGF0IHByb21pc2UuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJhY2UocHJvbWlzZXMpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuXG4gICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgd2hlbihwcm9taXNlKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIHZhciAkUSA9IGZ1bmN0aW9uIFEocmVzb2x2ZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICB0aHJvdyAkcU1pbkVycignbm9yc2x2cicsIFwiRXhwZWN0ZWQgcmVzb2x2ZXJGbiwgZ290ICd7MH0nXCIsIHJlc29sdmVyKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVGbih2YWx1ZSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVqZWN0Rm4ocmVhc29uKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICB9XG5cbiAgICByZXNvbHZlcihyZXNvbHZlRm4sIHJlamVjdEZuKTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gIC8vIExldCdzIG1ha2UgdGhlIGluc3RhbmNlb2Ygb3BlcmF0b3Igd29yayBmb3IgcHJvbWlzZXMsIHNvIHRoYXRcbiAgLy8gYG5ldyAkcShmbikgaW5zdGFuY2VvZiAkcWAgd291bGQgZXZhbHVhdGUgdG8gdHJ1ZS5cbiAgJFEucHJvdG90eXBlID0gUHJvbWlzZS5wcm90b3R5cGU7XG5cbiAgJFEuZGVmZXIgPSBkZWZlcjtcbiAgJFEucmVqZWN0ID0gcmVqZWN0O1xuICAkUS53aGVuID0gd2hlbjtcbiAgJFEucmVzb2x2ZSA9IHJlc29sdmU7XG4gICRRLmFsbCA9IGFsbDtcbiAgJFEucmFjZSA9IHJhY2U7XG5cbiAgcmV0dXJuICRRO1xufVxuXG5mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCkgeyAvL3JBRlxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkd2luZG93LCAkdGltZW91dCkge1xuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgcmFmU3VwcG9ydGVkID0gISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikge1xuICAgICAgICAgIHZhciBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgcmFmLnN1cHBvcnRlZCA9IHJhZlN1cHBvcnRlZDtcblxuICAgIHJldHVybiByYWY7XG4gIH1dO1xufVxuXG4vKipcbiAqIERFU0lHTiBOT1RFU1xuICpcbiAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cbiAqXG4gKiBUaGUgdHlwaWNhbCB1c2Ugb2Ygc2NvcGUgaXMgdG8gd2F0Y2ggdGhlIGV4cHJlc3Npb25zLCB3aGljaCBtb3N0IG9mIHRoZSB0aW1lIHJldHVybiB0aGUgc2FtZVxuICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXG4gKlxuICogQ2xvc3VyZXMgY29uc3RydWN0aW9uIGlzIGV4cGVuc2l2ZSBpbiB0ZXJtcyBvZiBzcGVlZCBhcyB3ZWxsIGFzIG1lbW9yeTpcbiAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcbiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpc1xuICogICAgIGV4cG9zZWQgYXMgJCRfX19fIHByb3BlcnRpZXNcbiAqXG4gKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9XG4gKiAgIC0gVGhpcyBtZWFucyB0aGF0IGluIG9yZGVyIHRvIGtlZXAgdGhlIHNhbWUgb3JkZXIgb2YgZXhlY3V0aW9uIGFzIGFkZGl0aW9uIHdlIGhhdmUgdG8gYWRkXG4gKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcbiAqXG4gKiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgYW5kIHJlbW92ZWQgb2Z0ZW5cbiAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gdGhlIG1pZGRsZSBhcmUgZXhwZW5zaXZlOyBzbyB3ZSB1c2UgbGlua2VkIGxpc3RzXG4gKlxuICogVGhlcmUgYXJlIGZld2VyIHdhdGNoZXMgdGhhbiBvYnNlcnZlcnMuIFRoaXMgaXMgd2h5IHlvdSBkb24ndCB3YW50IHRoZSBvYnNlcnZlciB0byBiZSBpbXBsZW1lbnRlZFxuICogaW4gdGhlIHNhbWUgd2F5IGFzIHdhdGNoLiBXYXRjaCByZXF1aXJlcyByZXR1cm4gb2YgdGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIGV4cGVuc2l2ZVxuICogdG8gY29uc3RydWN0LlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUHJvdmlkZXIgZm9yIHRoZSAkcm9vdFNjb3BlIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXIjZGlnZXN0VHRsXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBTZXRzIHRoZSBudW1iZXIgb2YgYCRkaWdlc3RgIGl0ZXJhdGlvbnMgdGhlIHNjb3BlIHNob3VsZCBhdHRlbXB0IHRvIGV4ZWN1dGUgYmVmb3JlIGdpdmluZyB1cCBhbmRcbiAqIGFzc3VtaW5nIHRoYXQgdGhlIG1vZGVsIGlzIHVuc3RhYmxlLlxuICpcbiAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cbiAqXG4gKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkd2F0Y2hgcyB3aWxsIHJlc3VsdCBpblxuICogc2V2ZXJhbCBkaWdlc3QgaXRlcmF0aW9ucy4gSG93ZXZlciBpZiBhbiBhcHBsaWNhdGlvbiBuZWVkcyBtb3JlIHRoYW4gdGhlIGRlZmF1bHQgMTAgZGlnZXN0XG4gKiBpdGVyYXRpb25zIGZvciBpdHMgbW9kZWwgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvXG4gKiBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZyB0aGUgZGlnZXN0LlxuICpcbiAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXRcbiAqIHByb3BlciBqdXN0aWZpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGRpZ2VzdCBpdGVyYXRpb25zLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHJvb3RTY29wZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRXZlcnkgYXBwbGljYXRpb24gaGFzIGEgc2luZ2xlIHJvb3Qge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICogQWxsIG90aGVyIHNjb3BlcyBhcmUgZGVzY2VuZGFudCBzY29wZXMgb2YgdGhlIHJvb3Qgc2NvcGUuIFNjb3BlcyBwcm92aWRlIHNlcGFyYXRpb25cbiAqIGJldHdlZW4gdGhlIG1vZGVsIGFuZCB0aGUgdmlldywgdmlhIGEgbWVjaGFuaXNtIGZvciB3YXRjaGluZyB0aGUgbW9kZWwgZm9yIGNoYW5nZXMuXG4gKiBUaGV5IGFsc28gcHJvdmlkZSBldmVudCBlbWlzc2lvbi9icm9hZGNhc3QgYW5kIHN1YnNjcmlwdGlvbiBmYWNpbGl0eS4gU2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL3Njb3BlIGRldmVsb3BlciBndWlkZSBvbiBzY29wZXN9LlxuICovXG5mdW5jdGlvbiAkUm9vdFNjb3BlUHJvdmlkZXIoKSB7XG4gIHZhciBUVEwgPSAxMDtcbiAgdmFyICRyb290U2NvcGVNaW5FcnIgPSBtaW5FcnIoJyRyb290U2NvcGUnKTtcbiAgdmFyIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcbiAgdmFyIGFwcGx5QXN5bmNJZCA9IG51bGw7XG5cbiAgdGhpcy5kaWdlc3RUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBUVEwgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFRUTDtcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZFNjb3BlQ2xhc3MocGFyZW50KSB7XG4gICAgZnVuY3Rpb24gQ2hpbGRTY29wZSgpIHtcbiAgICAgIHRoaXMuJCR3YXRjaGVycyA9IHRoaXMuJCRuZXh0U2libGluZyA9XG4gICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcbiAgICAgIHRoaXMuJCR3YXRjaGVyc0NvdW50ID0gMDtcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xuICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBudWxsO1xuICAgIH1cbiAgICBDaGlsZFNjb3BlLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgICByZXR1cm4gQ2hpbGRTY29wZTtcbiAgfVxuXG4gIHRoaXMuJGdldCA9IFsnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHBhcnNlJywgJyRicm93c2VyJyxcbiAgICAgIGZ1bmN0aW9uKCRleGNlcHRpb25IYW5kbGVyLCAkcGFyc2UsICRicm93c2VyKSB7XG5cbiAgICBmdW5jdGlvbiBkZXN0cm95Q2hpbGRTY29wZSgkZXZlbnQpIHtcbiAgICAgICAgJGV2ZW50LmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW5VcFNjb3BlKCRzY29wZSkge1xuXG4gICAgICBpZiAobXNpZSA9PT0gOSkge1xuICAgICAgICAvLyBUaGVyZSBpcyBhIG1lbW9yeSBsZWFrIGluIElFOSBpZiBhbGwgY2hpbGQgc2NvcGVzIGFyZSBub3QgZGlzY29ubmVjdGVkXG4gICAgICAgIC8vIGNvbXBsZXRlbHkgd2hlbiBhIHNjb3BlIGlzIGRlc3Ryb3llZC4gU28gdGhpcyBjb2RlIHdpbGwgcmVjdXJzZSB1cCB0aHJvdWdoXG4gICAgICAgIC8vIGFsbCB0aGlzIHNjb3BlcyBjaGlsZHJlblxuICAgICAgICAvL1xuICAgICAgICAvLyBTZWUgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTA3MDZcbiAgICAgICAgJHNjb3BlLiQkY2hpbGRIZWFkICYmIGNsZWFuVXBTY29wZSgkc2NvcGUuJCRjaGlsZEhlYWQpO1xuICAgICAgICAkc2NvcGUuJCRuZXh0U2libGluZyAmJiBjbGVhblVwU2NvcGUoJHNjb3BlLiQkbmV4dFNpYmxpbmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29kZSBiZWxvdyB3b3JrcyBhcm91bmQgSUU5IGFuZCBWOCdzIG1lbW9yeSBsZWFrc1xuICAgICAgLy9cbiAgICAgIC8vIFNlZTpcbiAgICAgIC8vIC0gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzMjYzI2XG4gICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzY3OTQjaXNzdWVjb21tZW50LTM4NjQ4OTA5XG4gICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEzMTMjaXNzdWVjb21tZW50LTEwMzc4NDUxXG5cbiAgICAgICRzY29wZS4kcGFyZW50ID0gJHNjb3BlLiQkbmV4dFNpYmxpbmcgPSAkc2NvcGUuJCRwcmV2U2libGluZyA9ICRzY29wZS4kJGNoaWxkSGVhZCA9XG4gICAgICAgICAgJHNjb3BlLiQkY2hpbGRUYWlsID0gJHNjb3BlLiRyb290ID0gJHNjb3BlLiQkd2F0Y2hlcnMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZVxuICAgICAqIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgdXNpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxuICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKSBTZWUgYWxzbyB0aGUge0BsaW5rIGd1aWRlL3Njb3BlIFNjb3BlcyBndWlkZX0gZm9yXG4gICAgICogYW4gaW4tZGVwdGggaW50cm9kdWN0aW9uIGFuZCB1c2FnZSBleGFtcGxlcy5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyBJbmhlcml0YW5jZVxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICAgICB2YXIgcGFyZW50ID0gJHJvb3RTY29wZTtcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XG5cbiAgICAgICAgIHBhcmVudC5zYWx1dGF0aW9uID0gXCJIZWxsb1wiO1xuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG5cbiAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSBcIldlbGNvbWVcIjtcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XG4gICAgICAgICBleHBlY3QocGFyZW50LnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBXaGVuIGludGVyYWN0aW5nIHdpdGggYFNjb3BlYCBpbiB0ZXN0cywgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlIG9uIHRoZVxuICAgICAqIGluc3RhbmNlcyBvZiBgU2NvcGVgIHR5cGUuIFNlZSB7QGxpbmsgbmdNb2NrLiRyb290U2NvcGUuU2NvcGUgbmdNb2NrIFNjb3BlfSBmb3IgYWRkaXRpb25hbFxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsICo+PX0gaW5zdGFuY2VDYWNoZSBQcm92aWRlcyBwcmUtaW5zdGFudGlhdGVkIHNlcnZpY2VzIHdoaWNoIHNob3VsZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcbiAgICAgIHRoaXMuJCRwaGFzZSA9IHRoaXMuJHBhcmVudCA9IHRoaXMuJCR3YXRjaGVycyA9XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kcm9vdCA9IHRoaXM7XG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xuICAgICAgdGhpcy4kJGlzb2xhdGVCaW5kaW5ncyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHBhcmVudFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgc2NvcGUuXG4gICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxuICAgICAgICovXG5cbiAgICBTY29wZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ld1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBldmVudC5cbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXG4gICAgICAgKlxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxuICAgICAgICogdGh1cyBzdG9wIHBhcnRpY2lwYXRpbmcgaW4gbW9kZWwgY2hhbmdlIGRldGVjdGlvbiBhbmQgbGlzdGVuZXIgbm90aWZpY2F0aW9uIGJ5IGludm9raW5nLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXG4gICAgICAgKiAgICAgICAgIHBhcmVudCBzY29wZS4gVGhlIHNjb3BlIGlzIGlzb2xhdGVkLCBhcyBpdCBjYW4gbm90IHNlZSBwYXJlbnQgc2NvcGUgcHJvcGVydGllcy5cbiAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudFxuICAgICAgICogICAgICAgICBzdGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1Njb3BlfSBbcGFyZW50PXRoaXNdIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgU2NvcGVgfSB0aGF0IHdpbGwgYmUgdGhlIGAkcGFyZW50YFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VkIHdoZW4gY3JlYXRpbmcgYSB0cmFuc2NsdWRlIHNjb3BlIHRvIGNvcnJlY3RseSBwbGFjZSBpdFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgc2NvcGUgaGllcmFyY2h5IHdoaWxlIG1haW50YWluaW5nIHRoZSBjb3JyZWN0IHByb3RvdHlwaWNhbFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRuZXc6IGZ1bmN0aW9uKGlzb2xhdGUsIHBhcmVudCkge1xuICAgICAgICB2YXIgY2hpbGQ7XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzb2xhdGUpIHtcbiAgICAgICAgICBjaGlsZCA9IG5ldyBTY29wZSgpO1xuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIGNoaWxkIHNjb3BlIGNsYXNzIGlmIHNvbWVib2R5IGFza3MgZm9yIG9uZSxcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXG4gICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBjcmVhdGVDaGlsZFNjb3BlQ2xhc3ModGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRDaGlsZFNjb3BlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQuJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCkge1xuICAgICAgICAgIHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRIZWFkID0gcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxuICAgICAgICAvLyB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZCwgdGhlIHByb3BlcnR5IGAkJGRlc3Ryb3llZGAgaXMgaW5oZXJpdGVkXG4gICAgICAgIC8vIHByb3RvdHlwaWNhbGx5LiBJbiBhbGwgb3RoZXIgY2FzZXMsIHRoaXMgcHJvcGVydHkgbmVlZHMgdG8gYmUgc2V0XG4gICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgIC8vIFRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZSBhZGRlZCBhZnRlciB0aGUgcGFyZW50IGlzIHNldFxuICAgICAgICBpZiAoaXNvbGF0ZSB8fCBwYXJlbnQgIT0gdGhpcykgY2hpbGQuJG9uKCckZGVzdHJveScsIGRlc3Ryb3lDaGlsZFNjb3BlKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVnaXN0ZXJzIGEgYGxpc3RlbmVyYCBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuZXZlciB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiAtIFRoZSBgd2F0Y2hFeHByZXNzaW9uYCBpcyBjYWxsZWQgb24gZXZlcnkgY2FsbCB0byB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0XG4gICAgICAgKiAgICRkaWdlc3QoKX0gYW5kIHNob3VsZCByZXR1cm4gdGhlIHZhbHVlIHRoYXQgd2lsbCBiZSB3YXRjaGVkLiAoYHdhdGNoRXhwcmVzc2lvbmAgc2hvdWxkIG5vdCBjaGFuZ2VcbiAgICAgICAqICAgaXRzIHZhbHVlIHdoZW4gZXhlY3V0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCB0aGUgc2FtZSBpbnB1dCBiZWNhdXNlIGl0IG1heSBiZSBleGVjdXRlZCBtdWx0aXBsZVxuICAgICAgICogICB0aW1lcyBieSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0uIFRoYXQgaXMsIGB3YXRjaEV4cHJlc3Npb25gIHNob3VsZCBiZVxuICAgICAgICogICBbaWRlbXBvdGVudF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JZGVtcG90ZW5jZSkuXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYHdhdGNoRXhwcmVzc2lvbmAgYW5kIHRoZVxuICAgICAgICogICBwcmV2aW91cyBjYWxsIHRvIGB3YXRjaEV4cHJlc3Npb25gIGFyZSBub3QgZXF1YWwgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgaW5pdGlhbCBydW4sXG4gICAgICAgKiAgIHNlZSBiZWxvdykuIEluZXF1YWxpdHkgaXMgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gcmVmZXJlbmNlIGluZXF1YWxpdHksXG4gICAgICAgKiAgIFtzdHJpY3QgY29tcGFyaXNvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL0NvbXBhcmlzb25fT3BlcmF0b3JzKVxuICAgICAgICogICAgdmlhIHRoZSBgIT09YCBKYXZhc2NyaXB0IG9wZXJhdG9yLCB1bmxlc3MgYG9iamVjdEVxdWFsaXR5ID09IHRydWVgXG4gICAgICAgKiAgIChzZWUgbmV4dCBwb2ludClcbiAgICAgICAqIC0gV2hlbiBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWAsIGluZXF1YWxpdHkgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGRldGVybWluZWRcbiAgICAgICAqICAgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGZ1bmN0aW9uLiBUbyBzYXZlIHRoZSB2YWx1ZSBvZiB0aGUgb2JqZWN0IGZvclxuICAgICAgICogICBsYXRlciBjb21wYXJpc29uLCB0aGUge0BsaW5rIGFuZ3VsYXIuY29weX0gZnVuY3Rpb24gaXMgdXNlZC4gVGhpcyB0aGVyZWZvcmUgbWVhbnMgdGhhdFxuICAgICAgICogICB3YXRjaGluZyBjb21wbGV4IG9iamVjdHMgd2lsbCBoYXZlIGFkdmVyc2UgbWVtb3J5IGFuZCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLlxuICAgICAgICogICBUaGlzIGlzIGFjaGlldmVkIGJ5IHJlcnVubmluZyB0aGUgd2F0Y2hlcnMgdW50aWwgbm8gY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuIFRoZSByZXJ1blxuICAgICAgICogICBpdGVyYXRpb24gbGltaXQgaXMgMTAgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIGRlYWRsb2NrLlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGlzIGNhbGxlZCxcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChCZSBwcmVwYXJlZCBmb3JcbiAgICAgICAqIG11bHRpcGxlIGNhbGxzIHRvIHlvdXIgYHdhdGNoRXhwcmVzc2lvbmAgYmVjYXVzZSBpdCB3aWxsIGV4ZWN1dGUgbXVsdGlwbGUgdGltZXMgaW4gYVxuICAgICAgICogc2luZ2xlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUgaWYgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQuKVxuICAgICAgICpcbiAgICAgICAqIEFmdGVyIGEgd2F0Y2hlciBpcyByZWdpc3RlcmVkIHdpdGggdGhlIHNjb3BlLCB0aGUgYGxpc3RlbmVyYCBmbiBpcyBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAqICh2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luYyAkZXZhbEFzeW5jfSkgdG8gaW5pdGlhbGl6ZSB0aGVcbiAgICAgICAqIHdhdGNoZXIuIEluIHJhcmUgY2FzZXMsIHRoaXMgaXMgdW5kZXNpcmFibGUgYmVjYXVzZSB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHJlc3VsdFxuICAgICAgICogb2YgYHdhdGNoRXhwcmVzc2lvbmAgZGlkbid0IGNoYW5nZS4gVG8gZGV0ZWN0IHRoaXMgc2NlbmFyaW8gd2l0aGluIHRoZSBgbGlzdGVuZXJgIGZuLCB5b3VcbiAgICAgICAqIGNhbiBjb21wYXJlIHRoZSBgbmV3VmFsYCBhbmQgYG9sZFZhbGAuIElmIHRoZXNlIHR3byB2YWx1ZXMgYXJlIGlkZW50aWNhbCAoYD09PWApIHRoZW4gdGhlXG4gICAgICAgKiBsaXN0ZW5lciB3YXMgY2FsbGVkIGR1ZSB0byBpbml0aWFsaXphdGlvbi5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcbiAgICAgICAgICAgdmFyIHNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG5cblxuXG4gICAgICAgICAgIC8vIFVzaW5nIGEgZnVuY3Rpb24gYXMgYSB3YXRjaEV4cHJlc3Npb25cbiAgICAgICAgICAgdmFyIGZvb2Q7XG4gICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gMDtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBiZWluZyB3YXRjaGVkLiBJdCBpcyBjYWxsZWQgZm9yIGVhY2ggdHVybiBvZiB0aGUgJGRpZ2VzdCBsb29wXG4gICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBmb29kOyB9LFxuICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNoYW5nZSBsaXN0ZW5lciwgY2FsbGVkIHdoZW4gdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGFib3ZlIGZ1bmN0aW9uIGNoYW5nZXNcbiAgICAgICAgICAgICBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkge1xuICAgICAgICAgICAgICAgICAvLyBPbmx5IGluY3JlbWVudCB0aGUgY291bnRlciBpZiB0aGUgdmFsdWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IHNjb3BlLmZvb2RDb3VudGVyICsgMTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICk7XG4gICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICAvLyBSdW4gdGhlIGRpZ2VzdCBidXQgc2luY2UgZm9vZCBoYXMgbm90IGNoYW5nZWQgY291bnQgd2lsbCBzdGlsbCBiZSB6ZXJvXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIC8vIFVwZGF0ZSBmb29kIGFuZCBydW4gZGlnZXN0LiAgTm93IHRoZSBjb3VudGVyIHdpbGwgaW5jcmVtZW50XG4gICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoZnVuY3Rpb24oKXxzdHJpbmcpfSB3YXRjaEV4cHJlc3Npb24gRXhwcmVzc2lvbiB0aGF0IGlzIGV2YWx1YXRlZCBvbiBlYWNoXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBIGNoYW5nZSBpbiB0aGUgcmV0dXJuIHZhbHVlIHRyaWdnZXJzXG4gICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgdmFsdWVcbiAgICAgICAqICAgIG9mIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgbmV3VmFsYCBjb250YWlucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIC0gYG9sZFZhbGAgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgLSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZVxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW29iamVjdEVxdWFsaXR5PWZhbHNlXSBDb21wYXJlIGZvciBvYmplY3QgZXF1YWxpdHkgdXNpbmcge0BsaW5rIGFuZ3VsYXIuZXF1YWxzfSBpbnN0ZWFkIG9mXG4gICAgICAgKiAgICAgY29tcGFyaW5nIGZvciByZWZlcmVuY2UgZXF1YWxpdHkuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICovXG4gICAgICAkd2F0Y2g6IGZ1bmN0aW9uKHdhdGNoRXhwLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbikge1xuICAgICAgICB2YXIgZ2V0ID0gJHBhcnNlKHdhdGNoRXhwKTtcblxuICAgICAgICBpZiAoZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSkge1xuICAgICAgICAgIHJldHVybiBnZXQuJCR3YXRjaERlbGVnYXRlKHRoaXMsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgZ2V0LCB3YXRjaEV4cCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcyxcbiAgICAgICAgICAgIGFycmF5ID0gc2NvcGUuJCR3YXRjaGVycyxcbiAgICAgICAgICAgIHdhdGNoZXIgPSB7XG4gICAgICAgICAgICAgIGZuOiBsaXN0ZW5lcixcbiAgICAgICAgICAgICAgbGFzdDogaW5pdFdhdGNoVmFsLFxuICAgICAgICAgICAgICBnZXQ6IGdldCxcbiAgICAgICAgICAgICAgZXhwOiBwcmV0dHlQcmludEV4cHJlc3Npb24gfHwgd2F0Y2hFeHAsXG4gICAgICAgICAgICAgIGVxOiAhIW9iamVjdEVxdWFsaXR5XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcblxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgd2F0Y2hlci5mbiA9IG5vb3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgdXNlIHVuc2hpZnQgc2luY2Ugd2UgdXNlIGEgd2hpbGUgbG9vcCBpbiAkZGlnZXN0IGZvciBzcGVlZC5cbiAgICAgICAgLy8gdGhlIHdoaWxlIGxvb3AgcmVhZHMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgICAgYXJyYXkudW5zaGlmdCh3YXRjaGVyKTtcbiAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudCh0aGlzLCAxKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoKCkge1xuICAgICAgICAgIGlmIChhcnJheVJlbW92ZShhcnJheSwgd2F0Y2hlcikgPj0gMCkge1xuICAgICAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudChzY29wZSwgLTEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoR3JvdXBcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBIHZhcmlhbnQgb2Yge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aGVyZSBpdCB3YXRjaGVzIGFuIGFycmF5IG9mIGB3YXRjaEV4cHJlc3Npb25zYC5cbiAgICAgICAqIElmIGFueSBvbmUgZXhwcmVzc2lvbiBpbiB0aGUgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBgbGlzdGVuZXJgIGlzIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGl0ZW1zIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgYXJlIG9ic2VydmVkIHZpYSBzdGFuZGFyZCAkd2F0Y2ggb3BlcmF0aW9uIGFuZCBhcmUgZXhhbWluZWQgb24gZXZlcnlcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBjaGFuZ2VzLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55IGV4cHJlc3Npb24gaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbihzY29wZSk+fSB3YXRjaEV4cHJlc3Npb25zIEFycmF5IG9mIGV4cHJlc3Npb25zIHRoYXQgd2lsbCBiZSBpbmRpdmlkdWFsbHlcbiAgICAgICAqIHdhdGNoZWQgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNjb3BlKX0gbGlzdGVuZXIgQ2FsbGJhY2sgY2FsbGVkIHdoZW5ldmVyIHRoZSByZXR1cm4gdmFsdWUgb2YgYW55XG4gICAgICAgKiAgICBleHByZXNzaW9uIGluIGB3YXRjaEV4cHJlc3Npb25zYCBjaGFuZ2VzXG4gICAgICAgKiAgICBUaGUgYG5ld1ZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICBhbmQgdGhlIGBvbGRWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25zYCwgd2l0aCB0aGUgaW5kZXhlcyBtYXRjaGluZ1xuICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIFRoZSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciBhbGwgbGlzdGVuZXJzLlxuICAgICAgICovXG4gICAgICAkd2F0Y2hHcm91cDogZnVuY3Rpb24od2F0Y2hFeHByZXNzaW9ucywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlcyA9IG5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCk7XG4gICAgICAgIHZhciBuZXdWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xuICAgICAgICB2YXIgZGVyZWdpc3RlckZucyA9IFtdO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZmlyc3RSdW4gPSB0cnVlO1xuXG4gICAgICAgIGlmICghd2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBObyBleHByZXNzaW9ucyBtZWFucyB3ZSBjYWxsIHRoZSBsaXN0ZW5lciBBU0FQXG4gICAgICAgICAgdmFyIHNob3VsZENhbGwgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRDYWxsKSBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgICAgc2hvdWxkQ2FsbCA9IGZhbHNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2Ugc2l6ZSBvZiBvbmVcbiAgICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2god2F0Y2hFeHByZXNzaW9uc1swXSwgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbih2YWx1ZSwgb2xkVmFsdWUsIHNjb3BlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbMF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIG9sZFZhbHVlc1swXSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCAodmFsdWUgPT09IG9sZFZhbHVlKSA/IG5ld1ZhbHVlcyA6IG9sZFZhbHVlcywgc2NvcGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yRWFjaCh3YXRjaEV4cHJlc3Npb25zLCBmdW5jdGlvbihleHByLCBpKSB7XG4gICAgICAgICAgdmFyIHVud2F0Y2hGbiA9IHNlbGYuJHdhdGNoKGV4cHIsIGZ1bmN0aW9uIHdhdGNoR3JvdXBTdWJBY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIG9sZFZhbHVlc1tpXSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyh3YXRjaEdyb3VwQWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZXJlZ2lzdGVyRm5zLnB1c2godW53YXRjaEZuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbigpIHtcbiAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKGZpcnN0UnVuKSB7XG4gICAgICAgICAgICBmaXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG9sZFZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgIHdoaWxlIChkZXJlZ2lzdGVyRm5zLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVyZWdpc3RlckZucy5zaGlmdCgpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNoYWxsb3cgd2F0Y2hlcyB0aGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kIGZpcmVzIHdoZW5ldmVyIGFueSBvZiB0aGUgcHJvcGVydGllcyBjaGFuZ2VcbiAgICAgICAqIChmb3IgYXJyYXlzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmcgdGhlIGFycmF5IGl0ZW1zOyBmb3Igb2JqZWN0IG1hcHMsIHRoaXMgaW1wbGllcyB3YXRjaGluZ1xuICAgICAgICogdGhlIHByb3BlcnRpZXMpLiBJZiBhIGNoYW5nZSBpcyBkZXRlY3RlZCwgdGhlIGBsaXN0ZW5lcmAgY2FsbGJhY2sgaXMgZmlyZWQuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYG9iamAgY29sbGVjdGlvbiBpcyBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgaXMgZXhhbWluZWQgb24gZXZlcnlcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBoYXZlIGJlZW4gYWRkZWQsIHJlbW92ZWQsIG9yIG1vdmVkLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55dGhpbmcgd2l0aGluIHRoZSBgb2JqYCBoYXMgY2hhbmdlZC4gRXhhbXBsZXMgaW5jbHVkZVxuICAgICAgICogICBhZGRpbmcsIHJlbW92aW5nLCBhbmQgbW92aW5nIGl0ZW1zIGJlbG9uZ2luZyB0byBhbiBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ2lnb3InLCAnbWF0aWFzJywgJ21pc2tvJywgJ2phbWVzJ107XG4gICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IDQ7XG5cbiAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbmFtZXMnLCBmdW5jdGlvbihuZXdOYW1lcywgb2xkTmFtZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSBuZXdOYW1lcy5sZW5ndGg7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcbiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgLy9zdGlsbCBhdCA0IC4uLiBubyBjaGFuZ2VzXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XG5cbiAgICAgICAgICAkc2NvcGUubmFtZXMucG9wKCk7XG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIC8vbm93IHRoZXJlJ3MgYmVlbiBhIGNoYW5nZVxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDMpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uKHNjb3BlKX0gb2JqIEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS4gVGhlXG4gICAgICAgKiAgICBleHByZXNzaW9uIHZhbHVlIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3Qgb3IgYW4gYXJyYXkgd2hpY2ggaXMgb2JzZXJ2ZWQgb24gZWFjaFxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQW55IHNoYWxsb3cgY2hhbmdlIHdpdGhpbiB0aGVcbiAgICAgICAqICAgIGNvbGxlY3Rpb24gd2lsbCB0cmlnZ2VyIGEgY2FsbCB0byB0aGUgYGxpc3RlbmVyYC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld0NvbGxlY3Rpb24sIG9sZENvbGxlY3Rpb24sIHNjb3BlKX0gbGlzdGVuZXIgYSBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWRcbiAgICAgICAqICAgIHdoZW4gYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQuXG4gICAgICAgKiAgICAtIFRoZSBgbmV3Q29sbGVjdGlvbmAgb2JqZWN0IGlzIHRoZSBuZXdseSBtb2RpZmllZCBkYXRhIG9idGFpbmVkIGZyb20gdGhlIGBvYmpgIGV4cHJlc3Npb25cbiAgICAgICAqICAgIC0gVGhlIGBvbGRDb2xsZWN0aW9uYCBvYmplY3QgaXMgYSBjb3B5IG9mIHRoZSBmb3JtZXIgY29sbGVjdGlvbiBkYXRhLlxuICAgICAgICogICAgICBEdWUgdG8gcGVyZm9ybWFuY2UgY29uc2lkZXJhdGlvbnMsIHRoZWBvbGRDb2xsZWN0aW9uYCB2YWx1ZSBpcyBjb21wdXRlZCBvbmx5IGlmIHRoZVxuICAgICAgICogICAgICBgbGlzdGVuZXJgIGZ1bmN0aW9uIGRlY2xhcmVzIHR3byBvciBtb3JlIGFyZ3VtZW50cy5cbiAgICAgICAqICAgIC0gVGhlIGBzY29wZWAgYXJndW1lbnQgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLiBXaGVuIHRoZVxuICAgICAgICogICAgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkLCB0aGUgaW50ZXJuYWwgd2F0Y2ggb3BlcmF0aW9uIGlzIHRlcm1pbmF0ZWQuXG4gICAgICAgKi9cbiAgICAgICR3YXRjaENvbGxlY3Rpb246IGZ1bmN0aW9uKG9iaiwgbGlzdGVuZXIpIHtcbiAgICAgICAgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yLiRzdGF0ZWZ1bCA9IHRydWU7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyB0aGUgY3VycmVudCB2YWx1ZSwgdXBkYXRlZCBvbiBlYWNoIGRpcnR5LWNoZWNrIHJ1blxuICAgICAgICB2YXIgbmV3VmFsdWU7XG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHRoZSBsYXN0IGRpcnR5LWNoZWNrIHJ1bixcbiAgICAgICAgLy8gdXBkYXRlZCB0byBtYXRjaCBuZXdWYWx1ZSBkdXJpbmcgZGlydHktY2hlY2sgcnVuXG4gICAgICAgIHZhciBvbGRWYWx1ZTtcbiAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gd2hlbiB0aGUgbGFzdCBjaGFuZ2UgaGFwcGVuZWRcbiAgICAgICAgdmFyIHZlcnlPbGRWYWx1ZTtcbiAgICAgICAgLy8gb25seSB0cmFjayB2ZXJ5T2xkVmFsdWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFza2luZyBmb3IgaXRcbiAgICAgICAgdmFyIHRyYWNrVmVyeU9sZFZhbHVlID0gKGxpc3RlbmVyLmxlbmd0aCA+IDEpO1xuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0ZWQgPSAwO1xuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0b3IgPSAkcGFyc2Uob2JqLCAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IpO1xuICAgICAgICB2YXIgaW50ZXJuYWxBcnJheSA9IFtdO1xuICAgICAgICB2YXIgaW50ZXJuYWxPYmplY3QgPSB7fTtcbiAgICAgICAgdmFyIGluaXRSdW4gPSB0cnVlO1xuICAgICAgICB2YXIgb2xkTGVuZ3RoID0gMDtcblxuICAgICAgICBmdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IoX3ZhbHVlKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBfdmFsdWU7XG4gICAgICAgICAgdmFyIG5ld0xlbmd0aCwga2V5LCBib3RoTmFOLCBuZXdJdGVtLCBvbGRJdGVtO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZW4gcmV0dXJuIHVuZGVmaW5lZCBhcyB0aGUgd2F0Y2ggbWF5IGJlIGEgb25lLXRpbWUgd2F0Y2hcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQobmV3VmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkgeyAvLyBpZiBwcmltaXRpdmVcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbEFycmF5KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gYXJyYXkgaW50byBhcnJheS5cbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbnRlcm5hbEFycmF5O1xuICAgICAgICAgICAgICBvbGRMZW5ndGggPSBvbGRWYWx1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggIT09IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBpZiBsZW5ndGhzIGRvIG5vdCBtYXRjaCB3ZSBuZWVkIHRvIHRyaWdnZXIgY2hhbmdlIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICBvbGRWYWx1ZS5sZW5ndGggPSBvbGRMZW5ndGggPSBuZXdMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2ldO1xuICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3VmFsdWVbaV07XG5cbiAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlW2ldID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsT2JqZWN0KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xuICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtrZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgrKztcbiAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gd2UgdXNlZCB0byBoYXZlIG1vcmUga2V5cywgbmVlZCB0byBmaW5kIHRoZW0gYW5kIGRlc3Ryb3kgdGhlbS5cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGluaXRSdW4pIHtcbiAgICAgICAgICAgIGluaXRSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCBuZXdWYWx1ZSwgc2VsZik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCB2ZXJ5T2xkVmFsdWUsIHNlbGYpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IGZvciB0aGUgbmV4dCB0aW1lIGEgY29sbGVjdGlvbiBpcyBjaGFuZ2VkXG4gICAgICAgICAgaWYgKHRyYWNrVmVyeU9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICAvL3ByaW1pdGl2ZVxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ldyBBcnJheShuZXdWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2ldID0gbmV3VmFsdWVbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG9iamVjdFxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtrZXldID0gbmV3VmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2goY2hhbmdlRGV0ZWN0b3IsICR3YXRjaENvbGxlY3Rpb25BY3Rpb24pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBQcm9jZXNzZXMgYWxsIG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9IG9mIHRoZSBjdXJyZW50IHNjb3BlIGFuZFxuICAgICAgICogaXRzIGNoaWxkcmVuLiBCZWNhdXNlIGEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJ9J3MgbGlzdGVuZXIgY2FuIGNoYW5nZVxuICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfVxuICAgICAgICogdW50aWwgbm8gbW9yZSBsaXN0ZW5lcnMgYXJlIGZpcmluZy4gVGhpcyBtZWFucyB0aGF0IGl0IGlzIHBvc3NpYmxlIHRvIGdldCBpbnRvIGFuIGluZmluaXRlXG4gICAgICAgKiBsb29wLiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYCdNYXhpbXVtIGl0ZXJhdGlvbiBsaW1pdCBleGNlZWRlZC4nYCBpZiB0aGUgbnVtYmVyIG9mXG4gICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuXG4gICAgICAgKlxuICAgICAgICogVXN1YWxseSwgeW91IGRvbid0IGNhbGwgYCRkaWdlc3QoKWAgZGlyZWN0bHkgaW5cbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpblxuICAgICAgICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICAgICAgICogSW5zdGVhZCwgeW91IHNob3VsZCBjYWxsIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHkoKX0gKHR5cGljYWxseSBmcm9tIHdpdGhpblxuICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlfSksIHdoaWNoIHdpbGwgZm9yY2UgYSBgJGRpZ2VzdCgpYC5cbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciBgJGRpZ2VzdCgpYCBpcyBjYWxsZWQsXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aXRoIG5vIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogSW4gdW5pdCB0ZXN0cywgeW91IG1heSBuZWVkIHRvIGNhbGwgYCRkaWdlc3QoKWAgdG8gc2ltdWxhdGUgdGhlIHNjb3BlIGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogIyBFeGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICB2YXIgc2NvcGUgPSAuLi47XG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcblxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICAkZGlnZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdhdGNoLCB2YWx1ZSwgbGFzdCwgZm4sIGdldCxcbiAgICAgICAgICAgIHdhdGNoZXJzLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgZGlydHksIHR0bCA9IFRUTCxcbiAgICAgICAgICAgIG5leHQsIGN1cnJlbnQsIHRhcmdldCA9IHRoaXMsXG4gICAgICAgICAgICB3YXRjaExvZyA9IFtdLFxuICAgICAgICAgICAgbG9nSWR4LCBhc3luY1Rhc2s7XG5cbiAgICAgICAgYmVnaW5QaGFzZSgnJGRpZ2VzdCcpO1xuICAgICAgICAvLyBDaGVjayBmb3IgY2hhbmdlcyB0byBicm93c2VyIHVybCB0aGF0IGhhcHBlbmVkIGluIHN5bmMgYmVmb3JlIHRoZSBjYWxsIHRvICRkaWdlc3RcbiAgICAgICAgJGJyb3dzZXIuJCRjaGVja1VybENoYW5nZSgpO1xuXG4gICAgICAgIGlmICh0aGlzID09PSAkcm9vdFNjb3BlICYmIGFwcGx5QXN5bmNJZCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIHJvb3Qgc2NvcGUsIGFuZCAkYXBwbHlBc3luYyBoYXMgc2NoZWR1bGVkIGEgZGVmZXJyZWQgJGFwcGx5KCksIHRoZW5cbiAgICAgICAgICAvLyBjYW5jZWwgdGhlIHNjaGVkdWxlZCAkYXBwbHkgYW5kIGZsdXNoIHRoZSBxdWV1ZSBvZiBleHByZXNzaW9ucyB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgICAgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKGFwcGx5QXN5bmNJZCk7XG4gICAgICAgICAgZmx1c2hBcHBseUFzeW5jKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG5cbiAgICAgICAgZG8geyAvLyBcIndoaWxlIGRpcnR5XCIgbG9vcFxuICAgICAgICAgIGRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgY3VycmVudCA9IHRhcmdldDtcblxuICAgICAgICAgIC8vIEl0J3Mgc2FmZSBmb3IgYXN5bmNRdWV1ZVBvc2l0aW9uIHRvIGJlIGEgbG9jYWwgdmFyaWFibGUgaGVyZSBiZWNhdXNlIHRoaXMgbG9vcCBjYW4ndFxuICAgICAgICAgIC8vIGJlIHJlZW50ZXJlZCByZWN1cnNpdmVseS4gQ2FsbGluZyAkZGlnZXN0IGZyb20gYSBmdW5jdGlvbiBwYXNzZWQgdG8gJGFwcGx5QXN5bmMgd291bGRcbiAgICAgICAgICAvLyBsZWFkIHRvIGEgJyRkaWdlc3QgYWxyZWFkeSBpbiBwcm9ncmVzcycgZXJyb3IuXG4gICAgICAgICAgZm9yICh2YXIgYXN5bmNRdWV1ZVBvc2l0aW9uID0gMDsgYXN5bmNRdWV1ZVBvc2l0aW9uIDwgYXN5bmNRdWV1ZS5sZW5ndGg7IGFzeW5jUXVldWVQb3NpdGlvbisrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhc3luY1Rhc2sgPSBhc3luY1F1ZXVlW2FzeW5jUXVldWVQb3NpdGlvbl07XG4gICAgICAgICAgICAgIGFzeW5jVGFzay5zY29wZS4kZXZhbChhc3luY1Rhc2suZXhwcmVzc2lvbiwgYXN5bmNUYXNrLmxvY2Fscyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3luY1F1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICB0cmF2ZXJzZVNjb3Blc0xvb3A6XG4gICAgICAgICAgZG8geyAvLyBcInRyYXZlcnNlIHRoZSBzY29wZXNcIiBsb29wXG4gICAgICAgICAgICBpZiAoKHdhdGNoZXJzID0gY3VycmVudC4kJHdhdGNoZXJzKSkge1xuICAgICAgICAgICAgICAvLyBwcm9jZXNzIG91ciB3YXRjaGVzXG4gICAgICAgICAgICAgIGxlbmd0aCA9IHdhdGNoZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHdhdGNoID0gd2F0Y2hlcnNbbGVuZ3RoXTtcbiAgICAgICAgICAgICAgICAgIC8vIE1vc3QgY29tbW9uIHdhdGNoZXMgYXJlIG9uIHByaW1pdGl2ZXMsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHNob3J0XG4gICAgICAgICAgICAgICAgICAvLyBjaXJjdWl0IGl0IHdpdGggPT09IG9wZXJhdG9yLCBvbmx5IHdoZW4gPT09IGZhaWxzIGRvIHdlIHVzZSAuZXF1YWxzXG4gICAgICAgICAgICAgICAgICBpZiAod2F0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0ID0gd2F0Y2guZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID0gZ2V0KGN1cnJlbnQpKSAhPT0gKGxhc3QgPSB3YXRjaC5sYXN0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgISh3YXRjaC5lcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXF1YWxzKHZhbHVlLCBsYXN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGxhc3QgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgaXNOYU4odmFsdWUpICYmIGlzTmFOKGxhc3QpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSB3YXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5sYXN0ID0gd2F0Y2guZXEgPyBjb3B5KHZhbHVlLCBudWxsKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIGZuID0gd2F0Y2guZm47XG4gICAgICAgICAgICAgICAgICAgICAgZm4odmFsdWUsICgobGFzdCA9PT0gaW5pdFdhdGNoVmFsKSA/IHZhbHVlIDogbGFzdCksIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dGwgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dJZHggPSA0IC0gdHRsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXRjaExvZ1tsb2dJZHhdKSB3YXRjaExvZ1tsb2dJZHhdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaExvZ1tsb2dJZHhdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGlzRnVuY3Rpb24od2F0Y2guZXhwKSA/ICdmbjogJyArICh3YXRjaC5leHAubmFtZSB8fCB3YXRjaC5leHAudG9TdHJpbmcoKSkgOiB3YXRjaC5leHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbDogbGFzdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdhdGNoID09PSBsYXN0RGlydHlXYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBtb3N0IHJlY2VudGx5IGRpcnR5IHdhdGNoZXIgaXMgbm93IGNsZWFuLCBzaG9ydCBjaXJjdWl0IHNpbmNlIHRoZSByZW1haW5pbmcgd2F0Y2hlcnNcbiAgICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIGFscmVhZHkgYmVlbiB0ZXN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXG4gICAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxuICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkYnJvYWRjYXN0XG4gICAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkd2F0Y2hlcnNDb3VudCAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxuICAgICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlICgoY3VycmVudCA9IG5leHQpKTtcblxuICAgICAgICAgIC8vIGBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7YCB0YWtlcyB1cyB0byBoZXJlXG5cbiAgICAgICAgICBpZiAoKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKSAmJiAhKHR0bC0tKSkge1xuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xuICAgICAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5mZGlnJyxcbiAgICAgICAgICAgICAgICAnezB9ICRkaWdlc3QoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxcbicgK1xuICAgICAgICAgICAgICAgICdXYXRjaGVycyBmaXJlZCBpbiB0aGUgbGFzdCA1IGl0ZXJhdGlvbnM6IHsxfScsXG4gICAgICAgICAgICAgICAgVFRMLCB3YXRjaExvZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gd2hpbGUgKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKTtcblxuICAgICAgICBjbGVhclBoYXNlKCk7XG5cbiAgICAgICAgLy8gcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24gaXNuJ3QgbG9jYWwgaGVyZSBiZWNhdXNlIHRoaXMgbG9vcCBjYW4gYmUgcmVlbnRlcmVkIHJlY3Vyc2l2ZWx5LlxuICAgICAgICB3aGlsZSAocG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24gPCBwb3N0RGlnZXN0UXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBvc3REaWdlc3RRdWV1ZVtwb3N0RGlnZXN0UXVldWVQb3NpdGlvbisrXSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3N0RGlnZXN0UXVldWUubGVuZ3RoID0gcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24gPSAwO1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxuICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBzY29wZSAoYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4pIGZyb20gdGhlIHBhcmVudCBzY29wZS4gUmVtb3ZhbCBpbXBsaWVzXG4gICAgICAgKiB0aGF0IGNhbGxzIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSB3aWxsIG5vIGxvbmdlclxuICAgICAgICogcHJvcGFnYXRlIHRvIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uIFJlbW92YWwgYWxzbyBpbXBsaWVzIHRoYXQgdGhlIGN1cnJlbnRcbiAgICAgICAqIHNjb3BlIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogVGhlIGAkZGVzdHJveSgpYCBpcyB1c3VhbGx5IHVzZWQgYnkgZGlyZWN0aXZlcyBzdWNoIGFzXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBmb3IgbWFuYWdpbmcgdGhlXG4gICAgICAgKiB1bnJvbGxpbmcgb2YgdGhlIGxvb3AuXG4gICAgICAgKlxuICAgICAgICogSnVzdCBiZWZvcmUgYSBzY29wZSBpcyBkZXN0cm95ZWQsIGEgYCRkZXN0cm95YCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGlzIHNjb3BlLlxuICAgICAgICogQXBwbGljYXRpb24gY29kZSBjYW4gcmVnaXN0ZXIgYSBgJGRlc3Ryb3lgIGV2ZW50IGhhbmRsZXIgdGhhdCB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG9cbiAgICAgICAqIHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cbiAgICAgICRkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gV2UgY2FuJ3QgZGVzdHJveSBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWQuXG4gICAgICAgIGlmICh0aGlzLiQkZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLiRwYXJlbnQ7XG5cbiAgICAgICAgdGhpcy4kYnJvYWRjYXN0KCckZGVzdHJveScpO1xuICAgICAgICB0aGlzLiQkZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSkge1xuICAgICAgICAgIC8vUmVtb3ZlIGhhbmRsZXJzIGF0dGFjaGVkIHRvIHdpbmRvdyB3aGVuICRyb290U2NvcGUgaXMgcmVtb3ZlZFxuICAgICAgICAgICRicm93c2VyLiQkYXBwbGljYXRpb25EZXN0cm95ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluY3JlbWVudFdhdGNoZXJzQ291bnQodGhpcywgLXRoaXMuJCR3YXRjaGVyc0NvdW50KTtcbiAgICAgICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHRoaXMuJCRsaXN0ZW5lckNvdW50KSB7XG4gICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudCh0aGlzLCB0aGlzLiQkbGlzdGVuZXJDb3VudFtldmVudE5hbWVdLCBldmVudE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V2ZXIgYWxsIHRoZSByZWZlcmVuY2VzIHRvIHBhcmVudCBzY29wZXMgKGFmdGVyIHRoaXMgY2xlYW51cCwgdGhlIGN1cnJlbnQgc2NvcGUgc2hvdWxkXG4gICAgICAgIC8vIG5vdCBiZSByZXRhaW5lZCBieSBhbnkgb2Ygb3VyIHJlZmVyZW5jZXMgYW5kIHNob3VsZCBiZSBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uKVxuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC4kJGNoaWxkSGVhZCA9PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LiQkY2hpbGRUYWlsID09IHRoaXMpIHBhcmVudC4kJGNoaWxkVGFpbCA9IHRoaXMuJCRwcmV2U2libGluZztcbiAgICAgICAgaWYgKHRoaXMuJCRwcmV2U2libGluZykgdGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICh0aGlzLiQkbmV4dFNpYmxpbmcpIHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nO1xuXG4gICAgICAgIC8vIERpc2FibGUgbGlzdGVuZXJzLCB3YXRjaGVycyBhbmQgYXBwbHkvZGlnZXN0IG1ldGhvZHNcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IHRoaXMuJGRpZ2VzdCA9IHRoaXMuJGFwcGx5ID0gdGhpcy4kZXZhbEFzeW5jID0gdGhpcy4kYXBwbHlBc3luYyA9IG5vb3A7XG4gICAgICAgIHRoaXMuJG9uID0gdGhpcy4kd2F0Y2ggPSB0aGlzLiR3YXRjaEdyb3VwID0gZnVuY3Rpb24oKSB7IHJldHVybiBub29wOyB9O1xuICAgICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgbmV4dCBzaWJsaW5nIHRvIHByZXZlbnQgYGNsZWFuVXBTY29wZWAgZGVzdHJveWluZyB0aG9zZSB0b29cbiAgICAgICAgdGhpcy4kJG5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgY2xlYW5VcFNjb3BlKHRoaXMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRldmFsXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpblxuICAgICAgICogdGhlIGV4cHJlc3Npb24gYXJlIHByb3BhZ2F0ZWQgKHVuY2F1Z2h0KS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBldmFsdWF0aW5nIEFuZ3VsYXJcbiAgICAgICAqIGV4cHJlc3Npb25zLlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpO1xuICAgICAgICAgICBzY29wZS5hID0gMTtcbiAgICAgICAgICAgc2NvcGUuYiA9IDI7XG5cbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKCdhK2InKSkudG9FcXVhbCgzKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKGZ1bmN0aW9uKHNjb3BlKXsgcmV0dXJuIHNjb3BlLmEgKyBzY29wZS5iOyB9KSkudG9FcXVhbCgzKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4gIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhvYmplY3QpPX0gbG9jYWxzIExvY2FsIHZhcmlhYmxlcyBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4gc2NvcGUuXG4gICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAgICovXG4gICAgICAkZXZhbDogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiAkcGFyc2UoZXhwcikodGhpcywgbG9jYWxzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gb24gdGhlIGN1cnJlbnQgc2NvcGUgYXQgYSBsYXRlciBwb2ludCBpbiB0aW1lLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGV2YWxBc3luY2AgbWFrZXMgbm8gZ3VhcmFudGVlcyBhcyB0byB3aGVuIHRoZSBgZXhwcmVzc2lvbmAgd2lsbCBiZSBleGVjdXRlZCwgb25seVxuICAgICAgICogdGhhdDpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gaXQgd2lsbCBleGVjdXRlIGFmdGVyIHRoZSBmdW5jdGlvbiB0aGF0IHNjaGVkdWxlZCB0aGUgZXZhbHVhdGlvbiAocHJlZmVyYWJseSBiZWZvcmUgRE9NXG4gICAgICAgKiAgICAgcmVuZGVyaW5nKS5cbiAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlclxuICAgICAgICogICAgIGBleHByZXNzaW9uYCBleGVjdXRpb24uXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZVxuICAgICAgICogd2lsbCBiZSBzY2hlZHVsZWQuIEhvd2V2ZXIsIGl0IGlzIGVuY291cmFnZWQgdG8gYWx3YXlzIGNhbGwgY29kZSB0aGF0IGNoYW5nZXMgdGhlIG1vZGVsXG4gICAgICAgKiBmcm9tIHdpdGhpbiBhbiBgJGFwcGx5YCBjYWxsLiBUaGF0IGluY2x1ZGVzIGNvZGUgZXZhbHVhdGVkIHZpYSBgJGV2YWxBc3luY2AuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwcmVzc2lvbiBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICovXG4gICAgICAkZXZhbEFzeW5jOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG91dHNpZGUgb2YgYW4gJGRpZ2VzdCBsb29wIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBzY2hlZHVsaW5nIGFzeW5jXG4gICAgICAgIC8vIHRhc2sgYWxzbyBzY2hlZHVsZSBhc3luYyBhdXRvLWZsdXNoXG4gICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlICYmICFhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTogdGhpcywgZXhwcmVzc2lvbjogJHBhcnNlKGV4cHIpLCBsb2NhbHM6IGxvY2Fsc30pO1xuICAgICAgfSxcblxuICAgICAgJCRwb3N0RGlnZXN0OiBmdW5jdGlvbihmbikge1xuICAgICAgICBwb3N0RGlnZXN0UXVldWUucHVzaChmbik7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogYCRhcHBseSgpYCBpcyB1c2VkIHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiBhbmd1bGFyIGZyb20gb3V0c2lkZSBvZiB0aGUgYW5ndWxhclxuICAgICAgICogZnJhbWV3b3JrLiAoRm9yIGV4YW1wbGUgZnJvbSBicm93c2VyIERPTSBldmVudHMsIHNldFRpbWVvdXQsIFhIUiBvciB0aGlyZCBwYXJ0eSBsaWJyYXJpZXMpLlxuICAgICAgICogQmVjYXVzZSB3ZSBhcmUgY2FsbGluZyBpbnRvIHRoZSBhbmd1bGFyIGZyYW1ld29yayB3ZSBuZWVkIHRvIHBlcmZvcm0gcHJvcGVyIHNjb3BlIGxpZmVcbiAgICAgICAqIGN5Y2xlIG9mIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciBleGNlcHRpb24gaGFuZGxpbmd9LFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCBleGVjdXRpbmcgd2F0Y2hlc30uXG4gICAgICAgKlxuICAgICAgICogIyMgTGlmZSBjeWNsZVxuICAgICAgICpcbiAgICAgICAqICMgUHNldWRvLUNvZGUgb2YgYCRhcHBseSgpYFxuICAgICAgICogYGBganNcbiAgICAgICAgICAgZnVuY3Rpb24gJGFwcGx5KGV4cHIpIHtcbiAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgcmV0dXJuICRldmFsKGV4cHIpO1xuICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAkcm9vdC4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICB9XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogU2NvcGUncyBgJGFwcGx5KClgIG1ldGhvZCB0cmFuc2l0aW9ucyB0aHJvdWdoIHRoZSBmb2xsb3dpbmcgc3RhZ2VzOlxuICAgICAgICpcbiAgICAgICAqIDEuIFRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyBleGVjdXRlZCB1c2luZyB0aGVcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsICRldmFsKCl9IG1ldGhvZC5cbiAgICAgICAqIDIuIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZVxuICAgICAgICogICAge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICogMy4gVGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaH0gbGlzdGVuZXJzIGFyZSBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAgICAgICAqICAgIGV4cHJlc3Npb24gd2FzIGV4ZWN1dGVkIHVzaW5nIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gbWV0aG9kLlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cbiAgICAgICAqL1xuICAgICAgJGFwcGx5OiBmdW5jdGlvbihleHByKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYmVnaW5QaGFzZSgnJGFwcGx5Jyk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRldmFsKGV4cHIpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBjbGVhclBoYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luY1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNjaGVkdWxlIHRoZSBpbnZvY2F0aW9uIG9mICRhcHBseSB0byBvY2N1ciBhdCBhIGxhdGVyIHRpbWUuIFRoZSBhY3R1YWwgdGltZSBkaWZmZXJlbmNlXG4gICAgICAgKiB2YXJpZXMgYWNyb3NzIGJyb3dzZXJzLCBidXQgaXMgdHlwaWNhbGx5IGFyb3VuZCB+MTAgbWlsbGlzZWNvbmRzLlxuICAgICAgICpcbiAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcXVldWUgdXAgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hpY2ggbmVlZCB0byBiZSBldmFsdWF0ZWQgaW4gdGhlIHNhbWVcbiAgICAgICAqIGRpZ2VzdC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKi9cbiAgICAgICRhcHBseUFzeW5jOiBmdW5jdGlvbihleHByKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXM7XG4gICAgICAgIGV4cHIgJiYgYXBwbHlBc3luY1F1ZXVlLnB1c2goJGFwcGx5QXN5bmNFeHByZXNzaW9uKTtcbiAgICAgICAgZXhwciA9ICRwYXJzZShleHByKTtcbiAgICAgICAgc2NoZWR1bGVBcHBseUFzeW5jKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gJGFwcGx5QXN5bmNFeHByZXNzaW9uKCkge1xuICAgICAgICAgIHNjb3BlLiRldmFsKGV4cHIpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG9uXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogTGlzdGVucyBvbiBldmVudHMgb2YgYSBnaXZlbiB0eXBlLiBTZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGVtaXQgJGVtaXR9IGZvclxuICAgICAgICogZGlzY3Vzc2lvbiBvZiBldmVudCBsaWZlIGN5Y2xlLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBmb3JtYXQgaXM6IGBmdW5jdGlvbihldmVudCwgYXJncy4uLilgLiBUaGUgYGV2ZW50YCBvYmplY3RcbiAgICAgICAqIHBhc3NlZCBpbnRvIHRoZSBsaXN0ZW5lciBoYXMgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxuICAgICAgICpcbiAgICAgICAqICAgLSBgdGFyZ2V0U2NvcGVgIC0gYHtTY29wZX1gOiB0aGUgc2NvcGUgb24gd2hpY2ggdGhlIGV2ZW50IHdhcyBgJGVtaXRgLWVkIG9yXG4gICAgICAgKiAgICAgYCRicm9hZGNhc3RgLWVkLlxuICAgICAgICogICAtIGBjdXJyZW50U2NvcGVgIC0gYHtTY29wZX1gOiB0aGUgc2NvcGUgdGhhdCBpcyBjdXJyZW50bHkgaGFuZGxpbmcgdGhlIGV2ZW50LiBPbmNlIHRoZVxuICAgICAgICogICAgIGV2ZW50IHByb3BhZ2F0ZXMgdGhyb3VnaCB0aGUgc2NvcGUgaGllcmFyY2h5LCB0aGlzIHByb3BlcnR5IGlzIHNldCB0byBudWxsLlxuICAgICAgICogICAtIGBuYW1lYCAtIGB7c3RyaW5nfWA6IG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAgICogICAtIGBzdG9wUHJvcGFnYXRpb25gIC0gYHtmdW5jdGlvbj19YDogY2FsbGluZyBgc3RvcFByb3BhZ2F0aW9uYCBmdW5jdGlvbiB3aWxsIGNhbmNlbFxuICAgICAgICogICAgIGZ1cnRoZXIgZXZlbnQgcHJvcGFnYXRpb24gKGF2YWlsYWJsZSBvbmx5IGZvciBldmVudHMgdGhhdCB3ZXJlIGAkZW1pdGAtZWQpLlxuICAgICAgICogICAtIGBwcmV2ZW50RGVmYXVsdGAgLSBge2Z1bmN0aW9ufWA6IGNhbGxpbmcgYHByZXZlbnREZWZhdWx0YCBzZXRzIGBkZWZhdWx0UHJldmVudGVkYCBmbGFnXG4gICAgICAgKiAgICAgdG8gdHJ1ZS5cbiAgICAgICAqICAgLSBgZGVmYXVsdFByZXZlbnRlZGAgLSBge2Jvb2xlYW59YDogdHJ1ZSBpZiBgcHJldmVudERlZmF1bHRgIHdhcyBjYWxsZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBsaXN0ZW4gb24uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50LCAuLi5hcmdzKX0gbGlzdGVuZXIgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAqL1xuICAgICAgJG9uOiBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgbmFtZWRMaXN0ZW5lcnMgPSB0aGlzLiQkbGlzdGVuZXJzW25hbWVdO1xuICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzKSB7XG4gICAgICAgICAgdGhpcy4kJGxpc3RlbmVyc1tuYW1lXSA9IG5hbWVkTGlzdGVuZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbmFtZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKCFjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSkge1xuICAgICAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSsrO1xuICAgICAgICB9IHdoaWxlICgoY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudCkpO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBpbmRleE9mTGlzdGVuZXIgPSBuYW1lZExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgICBpZiAoaW5kZXhPZkxpc3RlbmVyICE9PSAtMSkge1xuICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnNbaW5kZXhPZkxpc3RlbmVyXSA9IG51bGw7XG4gICAgICAgICAgICBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHNlbGYsIDEsIG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRlbWl0XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBgbmFtZWAgdXB3YXJkcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHkgbm90aWZ5aW5nIHRoZVxuICAgICAgICogcmVnaXN0ZXJlZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGxpc3RlbmVycy5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgZXZlbnQgbGlmZSBjeWNsZSBzdGFydHMgYXQgdGhlIHNjb3BlIG9uIHdoaWNoIGAkZW1pdGAgd2FzIGNhbGxlZC4gQWxsXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSBsaXN0ZW5pbmcgZm9yIGBuYW1lYCBldmVudCBvbiB0aGlzIHNjb3BlIGdldFxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCB0cmF2ZXJzZXMgdXB3YXJkcyB0b3dhcmQgdGhlIHJvb3Qgc2NvcGUgYW5kIGNhbGxzIGFsbFxuICAgICAgICogcmVnaXN0ZXJlZCBsaXN0ZW5lcnMgYWxvbmcgdGhlIHdheS4gVGhlIGV2ZW50IHdpbGwgc3RvcCBwcm9wYWdhdGluZyBpZiBvbmUgb2YgdGhlIGxpc3RlbmVyc1xuICAgICAgICogY2FuY2VscyBpdC5cbiAgICAgICAqXG4gICAgICAgKiBBbnkgZXhjZXB0aW9uIGVtaXR0ZWQgZnJvbSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gd2lsbCBiZSBwYXNzZWRcbiAgICAgICAqIG9udG8gdGhlIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGVtaXQuXG4gICAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgb25lIG9yIG1vcmUgYXJndW1lbnRzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIG9udG8gdGhlIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0IChzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSkuXG4gICAgICAgKi9cbiAgICAgICRlbWl0OiBmdW5jdGlvbihuYW1lLCBhcmdzKSB7XG4gICAgICAgIHZhciBlbXB0eSA9IFtdLFxuICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnMsXG4gICAgICAgICAgICBzY29wZSA9IHRoaXMsXG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb24gPSBmYWxzZSxcbiAgICAgICAgICAgIGV2ZW50ID0ge1xuICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICB0YXJnZXRTY29wZTogc2NvcGUsXG4gICAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7c3RvcFByb3BhZ2F0aW9uID0gdHJ1ZTt9LFxuICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlzdGVuZXJBcmdzID0gY29uY2F0KFtldmVudF0sIGFyZ3VtZW50cywgMSksXG4gICAgICAgICAgICBpLCBsZW5ndGg7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIG5hbWVkTGlzdGVuZXJzID0gc2NvcGUuJCRsaXN0ZW5lcnNbbmFtZV0gfHwgZW1wdHk7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZWRMaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgLy8gaWYgbGlzdGVuZXJzIHdlcmUgZGVyZWdpc3RlcmVkLCBkZWZyYWdtZW50IHRoZSBhcnJheVxuICAgICAgICAgICAgaWYgKCFuYW1lZExpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICBuYW1lZExpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy9hbGxvdyBhbGwgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIHRoZSBjdXJyZW50IHNjb3BlIHRvIHJ1blxuICAgICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpXS5hcHBseShudWxsLCBsaXN0ZW5lckFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy9pZiBhbnkgbGlzdGVuZXIgb24gdGhlIGN1cnJlbnQgc2NvcGUgc3RvcHMgcHJvcGFnYXRpb24sIHByZXZlbnQgYnViYmxpbmdcbiAgICAgICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL3RyYXZlcnNlIHVwd2FyZHNcbiAgICAgICAgICBzY29wZSA9IHNjb3BlLiRwYXJlbnQ7XG4gICAgICAgIH0gd2hpbGUgKHNjb3BlKTtcblxuICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRicm9hZGNhc3RcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGBuYW1lYCBkb3dud2FyZHMgdG8gYWxsIGNoaWxkIHNjb3BlcyAoYW5kIHRoZWlyIGNoaWxkcmVuKSBub3RpZnlpbmcgdGhlXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBldmVudCBsaWZlIGN5Y2xlIHN0YXJ0cyBhdCB0aGUgc2NvcGUgb24gd2hpY2ggYCRicm9hZGNhc3RgIHdhcyBjYWxsZWQuIEFsbFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gbGlzdGVuaW5nIGZvciBgbmFtZWAgZXZlbnQgb24gdGhpcyBzY29wZSBnZXRcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgcHJvcGFnYXRlcyB0byBhbGwgZGlyZWN0IGFuZCBpbmRpcmVjdCBzY29wZXMgb2YgdGhlIGN1cnJlbnRcbiAgICAgICAqIHNjb3BlIGFuZCBjYWxscyBhbGwgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMgYWxvbmcgdGhlIHdheS4gVGhlIGV2ZW50IGNhbm5vdCBiZSBjYW5jZWxlZC5cbiAgICAgICAqXG4gICAgICAgKiBBbnkgZXhjZXB0aW9uIGVtaXR0ZWQgZnJvbSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gd2lsbCBiZSBwYXNzZWRcbiAgICAgICAqIG9udG8gdGhlIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGJyb2FkY2FzdC5cbiAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QsIHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259XG4gICAgICAgKi9cbiAgICAgICRicm9hZGNhc3Q6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMsXG4gICAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0LFxuICAgICAgICAgICAgbmV4dCA9IHRhcmdldCxcbiAgICAgICAgICAgIGV2ZW50ID0ge1xuICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICB0YXJnZXRTY29wZTogdGFyZ2V0LFxuICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGFyZ2V0LiQkbGlzdGVuZXJDb3VudFtuYW1lXSkgcmV0dXJuIGV2ZW50O1xuXG4gICAgICAgIHZhciBsaXN0ZW5lckFyZ3MgPSBjb25jYXQoW2V2ZW50XSwgYXJndW1lbnRzLCAxKSxcbiAgICAgICAgICAgIGxpc3RlbmVycywgaSwgbGVuZ3RoO1xuXG4gICAgICAgIC8vZG93biB3aGlsZSB5b3UgY2FuLCB0aGVuIHVwIGFuZCBuZXh0IHNpYmxpbmcgb3IgdXAgYW5kIG5leHQgc2libGluZyB1bnRpbCBiYWNrIGF0IHJvb3RcbiAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpIHtcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBjdXJyZW50O1xuICAgICAgICAgIGxpc3RlbmVycyA9IGN1cnJlbnQuJCRsaXN0ZW5lcnNbbmFtZV0gfHwgW107XG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEluc2FuaXR5IFdhcm5pbmc6IHNjb3BlIGRlcHRoLWZpcnN0IHRyYXZlcnNhbFxuICAgICAgICAgIC8vIHllcywgdGhpcyBjb2RlIGlzIGEgYml0IGNyYXp5LCBidXQgaXQgd29ya3MgYW5kIHdlIGhhdmUgdGVzdHMgdG8gcHJvdmUgaXQhXG4gICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkZGlnZXN0XG4gICAgICAgICAgLy8gKHRob3VnaCBpdCBkaWZmZXJzIGR1ZSB0byBoYXZpbmcgdGhlIGV4dHJhIGNoZWNrIGZvciAkJGxpc3RlbmVyQ291bnQpXG4gICAgICAgICAgaWYgKCEobmV4dCA9ICgoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gJiYgY3VycmVudC4kJGNoaWxkSGVhZCkgfHxcbiAgICAgICAgICAgICAgKGN1cnJlbnQgIT09IHRhcmdldCAmJiBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSkpIHtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC4kcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyICRyb290U2NvcGUgPSBuZXcgU2NvcGUoKTtcblxuICAgIC8vVGhlIGludGVybmFsIHF1ZXVlcy4gRXhwb3NlIHRoZW0gb24gdGhlICRyb290U2NvcGUgZm9yIGRlYnVnZ2luZy90ZXN0aW5nIHB1cnBvc2VzLlxuICAgIHZhciBhc3luY1F1ZXVlID0gJHJvb3RTY29wZS4kJGFzeW5jUXVldWUgPSBbXTtcbiAgICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gJHJvb3RTY29wZS4kJHBvc3REaWdlc3RRdWV1ZSA9IFtdO1xuICAgIHZhciBhcHBseUFzeW5jUXVldWUgPSAkcm9vdFNjb3BlLiQkYXBwbHlBc3luY1F1ZXVlID0gW107XG5cbiAgICB2YXIgcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24gPSAwO1xuXG4gICAgcmV0dXJuICRyb290U2NvcGU7XG5cblxuICAgIGZ1bmN0aW9uIGJlZ2luUGhhc2UocGhhc2UpIHtcbiAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5wcm9nJywgJ3swfSBhbHJlYWR5IGluIHByb2dyZXNzJywgJHJvb3RTY29wZS4kJHBoYXNlKTtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gcGhhc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJQaGFzZSgpIHtcbiAgICAgICRyb290U2NvcGUuJCRwaGFzZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5jcmVtZW50V2F0Y2hlcnNDb3VudChjdXJyZW50LCBjb3VudCkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkd2F0Y2hlcnNDb3VudCArPSBjb3VudDtcbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVjcmVtZW50TGlzdGVuZXJDb3VudChjdXJyZW50LCBjb3VudCwgbmFtZSkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAtPSBjb3VudDtcblxuICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdXNlZCBhcyBhbiBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycy5cbiAgICAgKiBiZWNhdXNlIGl0J3MgdW5pcXVlIHdlIGNhbiBlYXNpbHkgdGVsbCBpdCBhcGFydCBmcm9tIG90aGVyIHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpIHt9XG5cbiAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XG4gICAgICB3aGlsZSAoYXBwbHlBc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwbHlBc3luY0lkID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUFwcGx5QXN5bmMoKSB7XG4gICAgICBpZiAoYXBwbHlBc3luY0lkID09PSBudWxsKSB7XG4gICAgICAgIGFwcGx5QXN5bmNJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZsdXNoQXBwbHlBc3luYyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRyb290RWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIHJvb3QgZWxlbWVudCBvZiBBbmd1bGFyIGFwcGxpY2F0aW9uLiBUaGlzIGlzIGVpdGhlciB0aGUgZWxlbWVudCB3aGVyZSB7QGxpbmtcbiAqIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gd2FzIGRlY2xhcmVkIG9yIHRoZSBlbGVtZW50IHBhc3NlZCBpbnRvXG4gKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9LiBUaGUgZWxlbWVudCByZXByZXNlbnRzIHRoZSByb290IGVsZW1lbnQgb2YgYXBwbGljYXRpb24uIEl0IGlzIGFsc28gdGhlXG4gKiBsb2NhdGlvbiB3aGVyZSB0aGUgYXBwbGljYXRpb24ncyB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBzZXJ2aWNlIGdldHNcbiAqIHB1Ymxpc2hlZCwgYW5kIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgYCRyb290RWxlbWVudC5pbmplY3RvcigpYC5cbiAqL1xuXG5cbi8vIHRoZSBpbXBsZW1lbnRhdGlvbiBpcyBpbiBhbmd1bGFyLmJvb3RzdHJhcFxuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogUHJpdmF0ZSBzZXJ2aWNlIHRvIHNhbml0aXplIHVyaXMgZm9yIGxpbmtzIGFuZCBpbWFnZXMuIFVzZWQgYnkgJGNvbXBpbGUgYW5kICRzYW5pdGl6ZS5cbiAqL1xuZnVuY3Rpb24gJCRTYW5pdGl6ZVVyaVByb3ZpZGVyKCkge1xuICB2YXIgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxccyooaHR0cHM/fGZ0cHxtYWlsdG98dGVsfGZpbGUpOi8sXG4gICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBzYW5pdGl6ZVVyaSh1cmksIGlzSW1hZ2UpIHtcbiAgICAgIHZhciByZWdleCA9IGlzSW1hZ2UgPyBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgOiBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdDtcbiAgICAgIHZhciBub3JtYWxpemVkVmFsO1xuICAgICAgbm9ybWFsaXplZFZhbCA9IHVybFJlc29sdmUodXJpKS5ocmVmO1xuICAgICAgaWYgKG5vcm1hbGl6ZWRWYWwgIT09ICcnICYmICFub3JtYWxpemVkVmFsLm1hdGNoKHJlZ2V4KSkge1xuICAgICAgICByZXR1cm4gJ3Vuc2FmZTonICsgbm9ybWFsaXplZFZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cmk7XG4gICAgfTtcbiAgfTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxudmFyICRzY2VNaW5FcnIgPSBtaW5FcnIoJyRzY2UnKTtcblxudmFyIFNDRV9DT05URVhUUyA9IHtcbiAgSFRNTDogJ2h0bWwnLFxuICBDU1M6ICdjc3MnLFxuICBVUkw6ICd1cmwnLFxuICAvLyBSRVNPVVJDRV9VUkwgaXMgYSBzdWJ0eXBlIG9mIFVSTCB1c2VkIGluIGNvbnRleHRzIHdoZXJlIGEgcHJpdmlsZWdlZCByZXNvdXJjZSBpcyBzb3VyY2VkIGZyb20gYVxuICAvLyB1cmwuICAoZS5nLiBuZy1pbmNsdWRlLCBzY3JpcHQgc3JjLCB0ZW1wbGF0ZVVybClcbiAgUkVTT1VSQ0VfVVJMOiAncmVzb3VyY2VVcmwnLFxuICBKUzogJ2pzJ1xufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb2xsb3cuXG5cbmZ1bmN0aW9uIGFkanVzdE1hdGNoZXIobWF0Y2hlcikge1xuICBpZiAobWF0Y2hlciA9PT0gJ3NlbGYnKSB7XG4gICAgcmV0dXJuIG1hdGNoZXI7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcobWF0Y2hlcikpIHtcbiAgICAvLyBTdHJpbmdzIG1hdGNoIGV4YWN0bHkgZXhjZXB0IGZvciAyIHdpbGRjYXJkcyAtICcqJyBhbmQgJyoqJy5cbiAgICAvLyAnKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIGV4Y2VwdCB0aG9zZSBmcm9tIHRoZSBzZXQgJzovLj8mJy5cbiAgICAvLyAnKionIG1hdGNoZXMgYW55IGNoYXJhY3RlciAobGlrZSAuKiBpbiBhIFJlZ0V4cCkuXG4gICAgLy8gTW9yZSB0aGFuIDIgKidzIHJhaXNlcyBhbiBlcnJvciBhcyBpdCdzIGlsbCBkZWZpbmVkLlxuICAgIGlmIChtYXRjaGVyLmluZGV4T2YoJyoqKicpID4gLTEpIHtcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l3Y2FyZCcsXG4gICAgICAgICAgJ0lsbGVnYWwgc2VxdWVuY2UgKioqIGluIHN0cmluZyBtYXRjaGVyLiAgU3RyaW5nOiB7MH0nLCBtYXRjaGVyKTtcbiAgICB9XG4gICAgbWF0Y2hlciA9IGVzY2FwZUZvclJlZ2V4cChtYXRjaGVyKS5cbiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoJ1xcXFwqXFxcXConLCAnLionKS5cbiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoJ1xcXFwqJywgJ1teOi8uPyY7XSonKTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyICsgJyQnKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChtYXRjaGVyKSkge1xuICAgIC8vIFRoZSBvbmx5IG90aGVyIHR5cGUgb2YgbWF0Y2hlciBhbGxvd2VkIGlzIGEgUmVnZXhwLlxuICAgIC8vIE1hdGNoIGVudGlyZSBVUkwgLyBkaXNhbGxvdyBwYXJ0aWFsIG1hdGNoZXMuXG4gICAgLy8gRmxhZ3MgYXJlIHJlc2V0IChpLmUuIG5vIGdsb2JhbCwgaWdub3JlQ2FzZSBvciBtdWx0aWxpbmUpXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlci5zb3VyY2UgKyAnJCcpO1xuICB9IGVsc2Uge1xuICAgIHRocm93ICRzY2VNaW5FcnIoJ2ltYXRjaGVyJyxcbiAgICAgICAgJ01hdGNoZXJzIG1heSBvbmx5IGJlIFwic2VsZlwiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGFkanVzdE1hdGNoZXJzKG1hdGNoZXJzKSB7XG4gIHZhciBhZGp1c3RlZE1hdGNoZXJzID0gW107XG4gIGlmIChpc0RlZmluZWQobWF0Y2hlcnMpKSB7XG4gICAgZm9yRWFjaChtYXRjaGVycywgZnVuY3Rpb24obWF0Y2hlcikge1xuICAgICAgYWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBhZGp1c3RlZE1hdGNoZXJzO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VEZWxlZ2F0ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgJHNjZURlbGVnYXRlYCBpcyBhIHNlcnZpY2UgdGhhdCBpcyB1c2VkIGJ5IHRoZSBgJHNjZWAgc2VydmljZSB0byBwcm92aWRlIHtAbGluayBuZy4kc2NlIFN0cmljdFxuICogQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0gc2VydmljZXMgdG8gQW5ndWxhckpTLlxuICpcbiAqIFR5cGljYWxseSwgeW91IHdvdWxkIGNvbmZpZ3VyZSBvciBvdmVycmlkZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSAkc2NlRGVsZWdhdGV9IGluc3RlYWQgb2ZcbiAqIHRoZSBgJHNjZWAgc2VydmljZSB0byBjdXN0b21pemUgdGhlIHdheSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyB3b3JrcyBpbiBBbmd1bGFySlMuICBUaGlzIGlzXG4gKiBiZWNhdXNlLCB3aGlsZSB0aGUgYCRzY2VgIHByb3ZpZGVzIG51bWVyb3VzIHNob3J0aGFuZCBtZXRob2RzLCBldGMuLCB5b3UgcmVhbGx5IG9ubHkgbmVlZCB0b1xuICogb3ZlcnJpZGUgMyBjb3JlIGZ1bmN0aW9ucyAoYHRydXN0QXNgLCBgZ2V0VHJ1c3RlZGAgYW5kIGB2YWx1ZU9mYCkgdG8gcmVwbGFjZSB0aGUgd2F5IHRoaW5nc1xuICogd29yayBiZWNhdXNlIGAkc2NlYCBkZWxlZ2F0ZXMgdG8gYCRzY2VEZWxlZ2F0ZWAgZm9yIHRoZXNlIG9wZXJhdGlvbnMuXG4gKlxuICogUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSB0byBjb25maWd1cmUgdGhpcyBzZXJ2aWNlLlxuICpcbiAqIFRoZSBkZWZhdWx0IGluc3RhbmNlIG9mIGAkc2NlRGVsZWdhdGVgIHNob3VsZCB3b3JrIG91dCBvZiB0aGUgYm94IHdpdGggbGl0dGxlIHBhaW4uICBXaGlsZSB5b3VcbiAqIGNhbiBvdmVycmlkZSBpdCBjb21wbGV0ZWx5IHRvIGNoYW5nZSB0aGUgYmVoYXZpb3Igb2YgYCRzY2VgLCB0aGUgY29tbW9uIGNhc2Ugd291bGRcbiAqIGludm9sdmUgY29uZmlndXJpbmcgdGhlIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gaW5zdGVhZCBieSBzZXR0aW5nXG4gKiB5b3VyIG93biB3aGl0ZWxpc3RzIGFuZCBibGFja2xpc3RzIGZvciB0cnVzdGluZyBVUkxzIHVzZWQgZm9yIGxvYWRpbmcgQW5ndWxhckpTIHJlc291cmNlcyBzdWNoIGFzXG4gKiB0ZW1wbGF0ZXMuICBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3RcbiAqICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fSBhbmQge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybEJsYWNrbGlzdH1cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgJHNjZURlbGVnYXRlUHJvdmlkZXJgIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVxuICogJHNjZURlbGVnYXRlfSBzZXJ2aWNlLiAgVGhpcyBhbGxvd3Mgb25lIHRvIGdldC9zZXQgdGhlIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgdXNlZCB0byBlbnN1cmVcbiAqIHRoYXQgdGhlIFVSTHMgdXNlZCBmb3Igc291cmNpbmcgQW5ndWxhciB0ZW1wbGF0ZXMgYXJlIHNhZmUuICBSZWZlciB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fSBhbmRcbiAqIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybEJsYWNrbGlzdH1cbiAqXG4gKiBGb3IgdGhlIGdlbmVyYWwgZGV0YWlscyBhYm91dCB0aGlzIHNlcnZpY2UgaW4gQW5ndWxhciwgcmVhZCB0aGUgbWFpbiBwYWdlIGZvciB7QGxpbmsgbmcuJHNjZVxuICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSl9LlxuICpcbiAqICoqRXhhbXBsZSoqOiAgQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlLiA8YSBuYW1lPVwiZXhhbXBsZVwiPjwvYT5cbiAqXG4gKiAtIHlvdXIgYXBwIGlzIGhvc3RlZCBhdCB1cmwgYGh0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9gXG4gKiAtIGJ1dCBzb21lIG9mIHlvdXIgdGVtcGxhdGVzIGFyZSBob3N0ZWQgb24gb3RoZXIgZG9tYWlucyB5b3UgY29udHJvbCBzdWNoIGFzXG4gKiAgIGBodHRwOi8vc3J2MDEuYXNzZXRzLmV4YW1wbGUuY29tL2AswqAgYGh0dHA6Ly9zcnYwMi5hc3NldHMuZXhhbXBsZS5jb20vYCwgZXRjLlxuICogLSBhbmQgeW91IGhhdmUgYW4gb3BlbiByZWRpcmVjdCBhdCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2NsaWNrVGhydT8uLi5gLlxuICpcbiAqIEhlcmUgaXMgd2hhdCBhIHNlY3VyZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIHNjZW5hcmlvIG1pZ2h0IGxvb2sgbGlrZTpcbiAqXG4gKiBgYGBcbiAqICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VEZWxlZ2F0ZVByb3ZpZGVyKSB7XG4gKiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXG4gKiAgICAgIC8vIEFsbG93IHNhbWUgb3JpZ2luIHJlc291cmNlIGxvYWRzLlxuICogICAgICAnc2VsZicsXG4gKiAgICAgIC8vIEFsbG93IGxvYWRpbmcgZnJvbSBvdXIgYXNzZXRzIGRvbWFpbi4gIE5vdGljZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuICogYW5kICoqLlxuICogICAgICAnaHR0cDovL3NydiouYXNzZXRzLmV4YW1wbGUuY29tLyoqJ1xuICogICAgXSk7XG4gKlxuICogICAgLy8gVGhlIGJsYWNrbGlzdCBvdmVycmlkZXMgdGhlIHdoaXRlbGlzdCBzbyB0aGUgb3BlbiByZWRpcmVjdCBoZXJlIGlzIGJsb2NrZWQuXG4gKiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybEJsYWNrbGlzdChbXG4gKiAgICAgICdodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1KionXG4gKiAgICBdKTtcbiAqICB9KTtcbiAqIGBgYFxuICovXG5cbmZ1bmN0aW9uICRTY2VEZWxlZ2F0ZVByb3ZpZGVyKCkge1xuICB0aGlzLlNDRV9DT05URVhUUyA9IFNDRV9DT05URVhUUztcblxuICAvLyBSZXNvdXJjZSBVUkxzIGNhbiBhbHNvIGJlIHRydXN0ZWQgYnkgcG9saWN5LlxuICB2YXIgcmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBbJ3NlbGYnXSxcbiAgICAgIHJlc291cmNlVXJsQmxhY2tsaXN0ID0gW107XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheT19IHdoaXRlbGlzdCBXaGVuIHByb3ZpZGVkLCByZXBsYWNlcyB0aGUgcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2l0aCB0aGUgdmFsdWVcbiAgICogICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcbiAgICogICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgIEZvbGxvdyB7QGxpbmsgbmcuJHNjZSNyZXNvdXJjZVVybFBhdHRlcm5JdGVtIHRoaXMgbGlua30gZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGl0ZW1zXG4gICAqICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cbiAgICpcbiAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogICAgKipOb3RlOioqIGFuIGVtcHR5IHdoaXRlbGlzdCBhcnJheSB3aWxsIGJsb2NrIGFsbCBVUkxzIVxuICAgKiAgICA8L2Rpdj5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICovXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgIHByb3ZpZGVkLiAgVGhpcyBtdXN0IGJlIGFuIGFycmF5IG9yIG51bGwuICBBIHNuYXBzaG90IG9mIHRoaXMgYXJyYXkgaXMgdXNlZCBzbyBmdXJ0aGVyXG4gICAqICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxuICAgKlxuICAgKiAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICBhbGxvd2VkIGluIHRoaXMgYXJyYXkuXG4gICAqXG4gICAqICAgIFRoZSB0eXBpY2FsIHVzYWdlIGZvciB0aGUgYmxhY2tsaXN0IGlzIHRvICoqYmxvY2tcbiAgICogICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xuICAgKiAgICB0aGVzZSB3b3VsZCBvdGhlcndpc2UgYmUgdHJ1c3RlZCBidXQgYWN0dWFsbHkgcmV0dXJuIGNvbnRlbnQgZnJvbSB0aGUgcmVkaXJlY3RlZCBkb21haW4uXG4gICAqXG4gICAqICAgIEZpbmFsbHksICoqdGhlIGJsYWNrbGlzdCBvdmVycmlkZXMgdGhlIHdoaXRlbGlzdCoqIGFuZCBoYXMgdGhlIGZpbmFsIHNheS5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IGJsYWNrbGlzdCBhcnJheS5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIHRoZSBlbXB0eSBhcnJheSAoaS5lLiB0aGVyZVxuICAgKiBpcyBubyBibGFja2xpc3QuKVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cy9HZXRzIHRoZSBibGFja2xpc3Qgb2YgdHJ1c3RlZCByZXNvdXJjZSBVUkxzLlxuICAgKi9cblxuICB0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBhZGp1c3RNYXRjaGVycyh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXNvdXJjZVVybEJsYWNrbGlzdDtcbiAgfTtcblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuXG4gICAgdmFyIGh0bWxTYW5pdGl6ZXIgPSBmdW5jdGlvbiBodG1sU2FuaXRpemVyKGh0bWwpIHtcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XG4gICAgfTtcblxuICAgIGlmICgkaW5qZWN0b3IuaGFzKCckc2FuaXRpemUnKSkge1xuICAgICAgaHRtbFNhbml0aXplciA9ICRpbmplY3Rvci5nZXQoJyRzYW5pdGl6ZScpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbWF0Y2hVcmwobWF0Y2hlciwgcGFyc2VkVXJsKSB7XG4gICAgICBpZiAobWF0Y2hlciA9PT0gJ3NlbGYnKSB7XG4gICAgICAgIHJldHVybiB1cmxJc1NhbWVPcmlnaW4ocGFyc2VkVXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlZmluaXRlbHkgYSByZWdleC4gIFNlZSBhZGp1c3RNYXRjaGVycygpXG4gICAgICAgIHJldHVybiAhIW1hdGNoZXIuZXhlYyhwYXJzZWRVcmwuaHJlZik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSh1cmwpIHtcbiAgICAgIHZhciBwYXJzZWRVcmwgPSB1cmxSZXNvbHZlKHVybC50b1N0cmluZygpKTtcbiAgICAgIHZhciBpLCBuLCBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBhdCBsZWFzdCBvbmUgaXRlbSBmcm9tIHRoZSB3aGl0ZWxpc3QgYWxsb3dzIHRoaXMgdXJsLlxuICAgICAgZm9yIChpID0gMCwgbiA9IHJlc291cmNlVXJsV2hpdGVsaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBpZiAobWF0Y2hVcmwocmVzb3VyY2VVcmxXaGl0ZWxpc3RbaV0sIHBhcnNlZFVybCkpIHtcbiAgICAgICAgICBhbGxvd2VkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgbm8gaXRlbSBmcm9tIHRoZSBibGFja2xpc3QgYmxvY2tlZCB0aGlzIHVybC5cbiAgICAgICAgZm9yIChpID0gMCwgbiA9IHJlc291cmNlVXJsQmxhY2tsaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybEJsYWNrbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xuICAgICAgICAgICAgYWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYWxsb3dlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUhvbGRlclR5cGUoQmFzZSkge1xuICAgICAgdmFyIGhvbGRlclR5cGUgPSBmdW5jdGlvbiBUcnVzdGVkVmFsdWVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZSkge1xuICAgICAgICB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICBpZiAoQmFzZSkge1xuICAgICAgICBob2xkZXJUeXBlLnByb3RvdHlwZSA9IG5ldyBCYXNlKCk7XG4gICAgICB9XG4gICAgICBob2xkZXJUeXBlLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gc2NlVmFsdWVPZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcbiAgICAgIH07XG4gICAgICBob2xkZXJUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHNjZVRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpLnRvU3RyaW5nKCk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGhvbGRlclR5cGU7XG4gICAgfVxuXG4gICAgdmFyIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UgPSBnZW5lcmF0ZUhvbGRlclR5cGUoKSxcbiAgICAgICAgYnlUeXBlID0ge307XG5cbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkhUTUxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuQ1NTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5KU10gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5SRVNPVVJDRV9VUkxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXMgdHJ1c3RlZCBieSBhbmd1bGFyIGZvciB1c2UgaW4gc3BlY2lmaWVkIHN0cmljdFxuICAgICAqIGNvbnRleHR1YWwgZXNjYXBpbmcgY29udGV4dHMgKHN1Y2ggYXMgbmctYmluZC1odG1sLCBuZy1pbmNsdWRlLCBhbnkgc3JjXG4gICAgICogYXR0cmlidXRlIGludGVycG9sYXRpb24sIGFueSBkb20gZXZlbnQgYmluZGluZyBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvblxuICAgICAqIHN1Y2ggYXMgZm9yIG9uY2xpY2ssICBldGMuKSB0aGF0IHVzZXMgdGhlIHByb3ZpZGVkIHZhbHVlLlxuICAgICAqIFNlZSB7QGxpbmsgbmcuJHNjZSAkc2NlfSBmb3IgZW5hYmxpbmcgc3RyaWN0IGNvbnRleHR1YWwgZXNjYXBpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLiAgZS5nLiB1cmwsXG4gICAgICogICByZXNvdXJjZVVybCwgaHRtbCwganMgYW5kIGNzcy5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgdHJ1c3RlZC9zYWZlLlxuICAgICAqIEByZXR1cm5zIHsqfSBBIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgdG8gc3RhbmQgaW4gZm9yIHRoZSBwcm92aWRlZCBgdmFsdWVgIGluIHBsYWNlc1xuICAgICAqIHdoZXJlIEFuZ3VsYXIgZXhwZWN0cyBhICRzY2UudHJ1c3RBcygpIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVzdEFzKHR5cGUsIHRydXN0ZWRWYWx1ZSkge1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gKGJ5VHlwZS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSA/IGJ5VHlwZVt0eXBlXSA6IG51bGwpO1xuICAgICAgaWYgKCFDb25zdHJ1Y3Rvcikge1xuICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpY29udGV4dCcsXG4gICAgICAgICAgICAnQXR0ZW1wdGVkIHRvIHRydXN0IGEgdmFsdWUgaW4gaW52YWxpZCBjb250ZXh0LiBDb250ZXh0OiB7MH07IFZhbHVlOiB7MX0nLFxuICAgICAgICAgICAgdHlwZSwgdHJ1c3RlZFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICh0cnVzdGVkVmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodHJ1c3RlZFZhbHVlKSB8fCB0cnVzdGVkVmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGV4dHMgaW4gU0NFX0NPTlRFWFRTIGhhcHBlbiB0byBiZSBzdHJpbmdzLiAgSW4gb3JkZXIgdG8gYXZvaWQgdHJ1c3RpbmdcbiAgICAgIC8vIG11dGFibGUgb2JqZWN0cywgd2UgZW5zdXJlIGhlcmUgdGhhdCB0aGUgdmFsdWUgcGFzc2VkIGluIGlzIGFjdHVhbGx5IGEgc3RyaW5nLlxuICAgICAgaWYgKHR5cGVvZiB0cnVzdGVkVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l0eXBlJyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfScsXG4gICAgICAgICAgICB0eXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3ZhbHVlT2ZcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhhZCBiZWVuIHJldHVybmVkIGJ5IGEgcHJpb3IgY2FsbCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyB0aGUgdmFsdWUgdGhhdCBoYWQgYmVlbiBwYXNzZWQgdG8ge0BsaW5rXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBpcyBub3QgYSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHJldHVybmVkIGJ5IHtAbGlua1xuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIGl0IGFzLWlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9XG4gICAgICogICAgICBjYWxsIG9yIGFueXRoaW5nIGVsc2UuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xuICAgICAqICAgICBgdmFsdWVgIHVuY2hhbmdlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbCBhbmRcbiAgICAgKiByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIHR5cGUuICBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gICAgICogRGlzYWJsaW5nIGF1dG8tZXNjYXBpbmcgaXMgZXh0cmVtZWx5IGRhbmdlcm91cywgaXQgdXN1YWxseSBjcmVhdGVzIGEgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmdcbiAgICAgKiAoWFNTKSB2dWxuZXJhYmlsaXR5IGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICogPC9kaXY+XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC4gIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZChtYXliZVRydXN0ZWQpIHx8IG1heWJlVHJ1c3RlZCA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IChieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSkgPyBieVR5cGVbdHlwZV0gOiBudWxsKTtcbiAgICAgIGlmIChjb25zdHJ1Y3RvciAmJiBtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiBjb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSBnZXQgaGVyZSwgdGhlbiB3ZSBtYXkgb25seSB0YWtlIG9uZSBvZiB0d28gYWN0aW9ucy5cbiAgICAgIC8vIDEuIHNhbml0aXplIHRoZSB2YWx1ZSBmb3IgdGhlIHJlcXVlc3RlZCB0eXBlLCBvclxuICAgICAgLy8gMi4gdGhyb3cgYW4gZXhjZXB0aW9uLlxuICAgICAgaWYgKHR5cGUgPT09IFNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwpIHtcbiAgICAgICAgaWYgKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSkge1xuICAgICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaW5zZWN1cmwnLFxuICAgICAgICAgICAgICAnQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfScsXG4gICAgICAgICAgICAgIG1heWJlVHJ1c3RlZC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuSFRNTCkge1xuICAgICAgICByZXR1cm4gaHRtbFNhbml0aXplcihtYXliZVRydXN0ZWQpO1xuICAgICAgfVxuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyB0cnVzdEFzOiB0cnVzdEFzLFxuICAgICAgICAgICAgIGdldFRydXN0ZWQ6IGdldFRydXN0ZWQsXG4gICAgICAgICAgICAgdmFsdWVPZjogdmFsdWVPZiB9O1xuICB9XTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHNjZVByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGUgJHNjZVByb3ZpZGVyIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZS5cbiAqIC0gICBlbmFibGUvZGlzYWJsZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKSBpbiBhIG1vZHVsZVxuICogLSAgIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpdGggYSBjdXN0b20gZGVsZWdhdGVcbiAqXG4gKiBSZWFkIG1vcmUgYWJvdXQge0BsaW5rIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSl9LlxuICovXG5cbi8qIGpzaGludCBtYXhsZW46IGZhbHNlKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNjZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgJHNjZWAgaXMgYSBzZXJ2aWNlIHRoYXQgcHJvdmlkZXMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgc2VydmljZXMgdG8gQW5ndWxhckpTLlxuICpcbiAqICMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmdcbiAqXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKSBpcyBhIG1vZGUgaW4gd2hpY2ggQW5ndWxhckpTIHJlcXVpcmVzIGJpbmRpbmdzIGluIGNlcnRhaW5cbiAqIGNvbnRleHRzIHRvIHJlc3VsdCBpbiBhIHZhbHVlIHRoYXQgaXMgbWFya2VkIGFzIHNhZmUgdG8gdXNlIGZvciB0aGF0IGNvbnRleHQuICBPbmUgZXhhbXBsZSBvZlxuICogc3VjaCBhIGNvbnRleHQgaXMgYmluZGluZyBhcmJpdHJhcnkgaHRtbCBjb250cm9sbGVkIGJ5IHRoZSB1c2VyIHZpYSBgbmctYmluZC1odG1sYC4gIFdlIHJlZmVyXG4gKiB0byB0aGVzZSBjb250ZXh0cyBhcyBwcml2aWxlZ2VkIG9yIFNDRSBjb250ZXh0cy5cbiAqXG4gKiBBcyBvZiB2ZXJzaW9uIDEuMiwgQW5ndWxhciBzaGlwcyB3aXRoIFNDRSBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKlxuICogTm90ZTogIFdoZW4gZW5hYmxlZCAodGhlIGRlZmF1bHQpLCBJRTwxMSBpbiBxdWlya3MgbW9kZSBpcyBub3Qgc3VwcG9ydGVkLiAgSW4gdGhpcyBtb2RlLCBJRTwxMSBhbGxvd1xuICogb25lIHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGphdmFzY3JpcHQgYnkgdGhlIHVzZSBvZiB0aGUgZXhwcmVzc2lvbigpIHN5bnRheC4gIFJlZmVyXG4gKiA8aHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWUvYXJjaGl2ZS8yMDA4LzEwLzE2L2VuZGluZy1leHByZXNzaW9ucy5hc3B4PiB0byBsZWFybiBtb3JlIGFib3V0IHRoZW0uXG4gKiBZb3UgY2FuIGVuc3VyZSB5b3VyIGRvY3VtZW50IGlzIGluIHN0YW5kYXJkcyBtb2RlIGFuZCBub3QgcXVpcmtzIG1vZGUgYnkgYWRkaW5nIGA8IWRvY3R5cGUgaHRtbD5gXG4gKiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCBkb2N1bWVudC5cbiAqXG4gKiBTQ0UgYXNzaXN0cyBpbiB3cml0aW5nIGNvZGUgaW4gYSB3YXkgdGhhdCAoYSkgaXMgc2VjdXJlIGJ5IGRlZmF1bHQgYW5kIChiKSBtYWtlcyBhdWRpdGluZyBmb3JcbiAqIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcyBzdWNoIGFzIFhTUywgY2xpY2tqYWNraW5nLCBldGMuIGEgbG90IGVhc2llci5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiBhIGJpbmRpbmcgaW4gYSBwcml2aWxlZ2VkIGNvbnRleHQ6XG4gKlxuICogYGBgXG4gKiA8aW5wdXQgbmctbW9kZWw9XCJ1c2VySHRtbFwiIGFyaWEtbGFiZWw9XCJVc2VyIGlucHV0XCI+XG4gKiA8ZGl2IG5nLWJpbmQtaHRtbD1cInVzZXJIdG1sXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCBgbmctYmluZC1odG1sYCBpcyBib3VuZCB0byBgdXNlckh0bWxgIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIuICBXaXRoIFNDRVxuICogZGlzYWJsZWQsIHRoaXMgYXBwbGljYXRpb24gYWxsb3dzIHRoZSB1c2VyIHRvIHJlbmRlciBhcmJpdHJhcnkgSFRNTCBpbnRvIHRoZSBESVYuXG4gKiBJbiBhIG1vcmUgcmVhbGlzdGljIGV4YW1wbGUsIG9uZSBtYXkgYmUgcmVuZGVyaW5nIHVzZXIgY29tbWVudHMsIGJsb2cgYXJ0aWNsZXMsIGV0Yy4gdmlhXG4gKiBiaW5kaW5ncy4gIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyIGNvbnRyb2xsZWQgaW5wdXQgY3JlYXRlc1xuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcbiAqXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XG4gKiBlbnN1cmUgdGhhdCB5b3UgZGlkbid0IGFjY2lkZW50YWxseSBkZWxldGUgdGhlIGxpbmUgdGhhdCBzYW5pdGl6ZWQgdGhlIHZhbHVlLCBvciByZW5hbWVkIHNvbWVcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XG4gKlxuICogVG8gYmUgc2VjdXJlIGJ5IGRlZmF1bHQsIHlvdSB3YW50IHRvIGVuc3VyZSB0aGF0IGFueSBzdWNoIGJpbmRpbmdzIGFyZSBkaXNhbGxvd2VkIHVubGVzcyB5b3UgY2FuXG4gKiBkZXRlcm1pbmUgdGhhdCBzb21ldGhpbmcgZXhwbGljaXRseSBzYXlzIGl0J3Mgc2FmZSB0byB1c2UgYSB2YWx1ZSBmb3IgYmluZGluZyBpbiB0aGF0XG4gKiBjb250ZXh0LiAgWW91IGNhbiB0aGVuIGF1ZGl0IHlvdXIgY29kZSAoYSBzaW1wbGUgZ3JlcCB3b3VsZCBkbykgdG8gZW5zdXJlIHRoYXQgdGhpcyBpcyBvbmx5IGRvbmVcbiAqIGZvciB0aG9zZSB2YWx1ZXMgdGhhdCB5b3UgY2FuIGVhc2lseSB0ZWxsIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmUgcmVjZWl2ZWQgZnJvbSB5b3VyIHNlcnZlcixcbiAqIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0byBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHNcbiAqIGFsbG93aW5nIG9ubHkgdGhlIGZpbGVzIGluIGEgc3BlY2lmaWMgZGlyZWN0b3J5IHRvIGRvIHRoaXMuICBFbnN1cmluZyB0aGF0IHRoZSBpbnRlcm5hbCBBUElcbiAqIGV4cG9zZWQgYnkgdGhhdCBjb2RlIGRvZXNuJ3QgbWFya3VwIGFyYml0cmFyeSB2YWx1ZXMgYXMgc2FmZSB0aGVuIGJlY29tZXMgYSBtb3JlIG1hbmFnZWFibGUgdGFzay5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBBbmd1bGFySlMnIFNDRSBzZXJ2aWNlLCBvbmUgdXNlcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc31cbiAqIChhbmQgc2hvcnRoYW5kIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfSwgZXRjLikgdG9cbiAqIG9idGFpbiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5IFNDRSAvIHByaXZpbGVnZWQgY29udGV4dHMuXG4gKlxuICpcbiAqICMjIEhvdyBkb2VzIGl0IHdvcms/XG4gKlxuICogSW4gcHJpdmlsZWdlZCBjb250ZXh0cywgZGlyZWN0aXZlcyBhbmQgY29kZSB3aWxsIGJpbmQgdG8gdGhlIHJlc3VsdCBvZiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkXG4gKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBEaXJlY3RpdmVzIHVzZSB7QGxpbmtcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlXG4gKiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0gYmVoaW5kIHRoZSBzY2VuZXMgb24gbm9uLWNvbnN0YW50IGxpdGVyYWxzLlxuICpcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzSHRtbCAkc2NlLnBhcnNlQXNIdG1sKGJpbmRpbmcgZXhwcmVzc2lvbil9LiAgSGVyZSdzIHRoZSBhY3R1YWwgY29kZSAoc2xpZ2h0bHlcbiAqIHNpbXBsaWZpZWQpOlxuICpcbiAqIGBgYFxuICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICogICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNIdG1sKGF0dHIubmdCaW5kSHRtbCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICogICAgIH0pO1xuICogICB9O1xuICogfV07XG4gKiBgYGBcbiAqXG4gKiAjIyBJbXBhY3Qgb24gbG9hZGluZyB0ZW1wbGF0ZXNcbiAqXG4gKiBUaGlzIGFwcGxpZXMgYm90aCB0byB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nLWluY2x1ZGVgfSBkaXJlY3RpdmUgYXMgd2VsbCBhc1xuICogYHRlbXBsYXRlVXJsYCdzIHNwZWNpZmllZCBieSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICpcbiAqIEJ5IGRlZmF1bHQsIEFuZ3VsYXIgb25seSBsb2FkcyB0ZW1wbGF0ZXMgZnJvbSB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZSBhcHBsaWNhdGlvblxuICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxuICogcHJvdG9jb2xzLCB5b3UgbWF5IGVpdGhlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0XG4gKiB0aGVtfSBvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCBpdH0gaW50byBhIHRydXN0ZWQgdmFsdWUuXG4gKlxuICogKlBsZWFzZSBub3RlKjpcbiAqIFRoZSBicm93c2VyJ3NcbiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpXG4gKiBhbmQgW0Nyb3NzLU9yaWdpbiBSZXNvdXJjZSBTaGFyaW5nIChDT1JTKV0oaHR0cDovL3d3dy53My5vcmcvVFIvY29ycy8pXG4gKiBwb2xpY3kgYXBwbHkgaW4gYWRkaXRpb24gdG8gdGhpcyBhbmQgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5XG4gKiBsb2FkZWQuICBUaGlzIG1lYW5zIHRoYXQgd2l0aG91dCB0aGUgcmlnaHQgQ09SUyBwb2xpY3ksIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYSBkaWZmZXJlbnQgZG9tYWluXG4gKiB3b24ndCB3b3JrIG9uIGFsbCBicm93c2Vycy4gIEFsc28sIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYGZpbGU6Ly9gIFVSTCBkb2VzIG5vdCB3b3JrIG9uIHNvbWVcbiAqIGJyb3dzZXJzLlxuICpcbiAqICMjIFRoaXMgZmVlbHMgbGlrZSB0b28gbXVjaCBvdmVyaGVhZFxuICpcbiAqIEl0J3MgaW1wb3J0YW50IHRvIHJlbWVtYmVyIHRoYXQgU0NFIG9ubHkgYXBwbGllcyB0byBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIHlvdXIgZXhwcmVzc2lvbnMgYXJlIGNvbnN0YW50IGxpdGVyYWxzLCB0aGV5J3JlIGF1dG9tYXRpY2FsbHkgdHJ1c3RlZCBhbmQgeW91IGRvbid0IG5lZWQgdG9cbiAqIGNhbGwgYCRzY2UudHJ1c3RBc2Agb24gdGhlbSAocmVtZW1iZXIgdG8gaW5jbHVkZSB0aGUgYG5nU2FuaXRpemVgIG1vZHVsZSkgKGUuZy5cbiAqIGA8ZGl2IG5nLWJpbmQtaHRtbD1cIic8Yj5pbXBsaWNpdGx5IHRydXN0ZWQ8L2I+J1wiPjwvZGl2PmApIGp1c3Qgd29ya3MuXG4gKlxuICogQWRkaXRpb25hbGx5LCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgYXV0b21hdGljYWxseSBzYW5pdGl6ZSB0aGVpciBVUkxzIGFuZCBkbyBub3QgcGFzcyB0aGVtXG4gKiB0aHJvdWdoIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfS4gIFNDRSBkb2Vzbid0IHBsYXkgYSByb2xlIGhlcmUuXG4gKlxuICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWRcbiAqIHRlbXBsYXRlcyBpbiBgbmctaW5jbHVkZWAgZnJvbSB5b3VyIGFwcGxpY2F0aW9uJ3MgZG9tYWluIHdpdGhvdXQgaGF2aW5nIHRvIGV2ZW4ga25vdyBhYm91dCBTQ0UuXG4gKiBJdCBibG9ja3MgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIGxvYWRpbmcgdGVtcGxhdGVzIG92ZXIgaHR0cCBmcm9tIGFuIGh0dHBzXG4gKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdHN9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IGJsYWNrbGlzdHN9IGZvciBtYXRjaGluZyBzdWNoIFVSTHMuXG4gKlxuICogVGhpcyBzaWduaWZpY2FudGx5IHJlZHVjZXMgdGhlIG92ZXJoZWFkLiAgSXQgaXMgZmFyIGVhc2llciB0byBwYXkgdGhlIHNtYWxsIG92ZXJoZWFkIGFuZCBoYXZlIGFuXG4gKiBhcHBsaWNhdGlvbiB0aGF0J3Mgc2VjdXJlIGFuZCBjYW4gYmUgYXVkaXRlZCB0byB2ZXJpZnkgdGhhdCB3aXRoIG11Y2ggbW9yZSBlYXNlIHRoYW4gYm9sdGluZ1xuICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci5cbiAqXG4gKiA8YSBuYW1lPVwiY29udGV4dHNcIj48L2E+XG4gKiAjIyBXaGF0IHRydXN0ZWQgY29udGV4dCB0eXBlcyBhcmUgc3VwcG9ydGVkP1xuICpcbiAqIHwgQ29udGV4dCAgICAgICAgICAgICB8IE5vdGVzICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgYCRzY2UuSFRNTGAgICAgICAgICB8IEZvciBIVE1MIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIFRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQmluZEh0bWwgbmdCaW5kSHRtbH0gZGlyZWN0aXZlIHVzZXMgdGhpcyBjb250ZXh0IGZvciBiaW5kaW5ncy4gSWYgYW4gdW5zYWZlIHZhbHVlIGlzIGVuY291bnRlcmVkIGFuZCB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfSBtb2R1bGUgaXMgcHJlc2VudCB0aGlzIHdpbGwgc2FuaXRpemUgdGhlIHZhbHVlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXJyb3IuIHxcbiAqIHwgYCRzY2UuQ1NTYCAgICAgICAgICB8IEZvciBDU1MgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxuICogfCBgJHNjZS5VUkxgICAgICAgICAgIHwgRm9yIFVSTHMgdGhhdCBhcmUgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MuICBDdXJyZW50bHkgdW51c2VkIChgPGEgaHJlZj1gIGFuZCBgPGltZyBzcmM9YCBzYW5pdGl6ZSB0aGVpciB1cmxzIGFuZCBkb24ndCBjb25zdGl0dXRlIGFuIFNDRSBjb250ZXh0LiB8XG4gKiB8IGAkc2NlLlJFU09VUkNFX1VSTGAgfCBGb3IgVVJMcyB0aGF0IGFyZSBub3Qgb25seSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcywgYnV0IHdob3NlIGNvbnRlbnRzIGFyZSBhbHNvIHNhZmUgdG8gaW5jbHVkZSBpbiB5b3VyIGFwcGxpY2F0aW9uLiAgRXhhbXBsZXMgaW5jbHVkZSBgbmctaW5jbHVkZWAsIGBzcmNgIC8gYG5nU3JjYCBiaW5kaW5ncyBmb3IgdGFncyBvdGhlciB0aGFuIGBJTUdgIChlLmcuIGBJRlJBTUVgLCBgT0JKRUNUYCwgZXRjLikgIDxicj48YnI+Tm90ZSB0aGF0IGAkc2NlLlJFU09VUkNFX1VSTGAgbWFrZXMgYSBzdHJvbmdlciBzdGF0ZW1lbnQgYWJvdXQgdGhlIFVSTCB0aGFuIGAkc2NlLlVSTGAgZG9lcyBhbmQgdGhlcmVmb3JlIGNvbnRleHRzIHJlcXVpcmluZyB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuUkVTT1VSQ0VfVVJMYCBjYW4gYmUgdXNlZCBhbnl3aGVyZSB0aGF0IHZhbHVlcyB0cnVzdGVkIGZvciBgJHNjZS5VUkxgIGFyZSByZXF1aXJlZC4gfFxuICogfCBgJHNjZS5KU2AgICAgICAgICAgIHwgRm9yIEphdmFTY3JpcHQgdGhhdCBpcyBzYWZlIHRvIGV4ZWN1dGUgaW4geW91ciBhcHBsaWNhdGlvbidzIGNvbnRleHQuICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XG4gKlxuICogIyMgRm9ybWF0IG9mIGl0ZW1zIGluIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCByZXNvdXJjZVVybFdoaXRlbGlzdH0ve0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IEJsYWNrbGlzdH0gPGEgbmFtZT1cInJlc291cmNlVXJsUGF0dGVybkl0ZW1cIj48L2E+XG4gKlxuICogIEVhY2ggZWxlbWVudCBpbiB0aGVzZSBhcnJheXMgbXVzdCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgLSAqKidzZWxmJyoqXG4gKiAgICAtIFRoZSBzcGVjaWFsICoqc3RyaW5nKiosIGAnc2VsZidgLCBjYW4gYmUgdXNlZCB0byBtYXRjaCBhZ2FpbnN0IGFsbCBVUkxzIG9mIHRoZSAqKnNhbWVcbiAqICAgICAgZG9tYWluKiogYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IHVzaW5nIHRoZSAqKnNhbWUgcHJvdG9jb2wqKi5cbiAqICAtICoqU3RyaW5nKiogKGV4Y2VwdCB0aGUgc3BlY2lhbCB2YWx1ZSBgJ3NlbGYnYClcbiAqICAgIC0gVGhlIHN0cmluZyBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGZ1bGwgKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZVxuICogICAgICBiZWluZyB0ZXN0ZWQgKHN1YnN0cmluZyBtYXRjaGVzIGFyZSBub3QgZ29vZCBlbm91Z2guKVxuICogICAgLSBUaGVyZSBhcmUgZXhhY3RseSAqKnR3byB3aWxkY2FyZCBzZXF1ZW5jZXMqKiAtIGAqYCBhbmQgYCoqYC4gIEFsbCBvdGhlciBjaGFyYWN0ZXJzXG4gKiAgICAgIG1hdGNoIHRoZW1zZWx2ZXMuXG4gKiAgICAtIGAqYDogbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgb2NjdXJyZW5jZXMgb2YgYW55IGNoYXJhY3RlciBvdGhlciB0aGFuIG9uZSBvZiB0aGUgZm9sbG93aW5nIDZcbiAqICAgICAgY2hhcmFjdGVyczogJ2A6YCcsICdgL2AnLCAnYC5gJywgJ2A/YCcsICdgJmAnIGFuZCAnYDtgJy4gIEl0J3MgYSB1c2VmdWwgd2lsZGNhcmQgZm9yIHVzZVxuICogICAgICBpbiBhIHdoaXRlbGlzdC5cbiAqICAgIC0gYCoqYDogbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgb2NjdXJyZW5jZXMgb2YgKmFueSogY2hhcmFjdGVyLiAgQXMgc3VjaCwgaXQncyBub3RcbiAqICAgICAgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cbiAqICAgICAgaHR0cDovLyoqLmV4YW1wbGUuY29tLyB3b3VsZCBtYXRjaCBodHRwOi8vZXZpbC5jb20vP2lnbm9yZT0uZXhhbXBsZS5jb20vIGFuZCB0aGF0IG1pZ2h0XG4gKiAgICAgIG5vdCBoYXZlIGJlZW4gdGhlIGludGVudGlvbi4pICBJdHMgdXNhZ2UgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBwYXRoIGlzIG9rLiAgKGUuZy5cbiAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxuICogIC0gKipSZWdFeHAqKiAoKnNlZSBjYXZlYXQgYmVsb3cqKVxuICogICAgLSAqQ2F2ZWF0KjogIFdoaWxlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIHBvd2VyZnVsIGFuZCBvZmZlciBncmVhdCBmbGV4aWJpbGl0eSwgIHRoZWlyIHN5bnRheFxuICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xuICogICAgICBhY2NpZGVudGFsbHkgaW50cm9kdWNlIGEgYnVnIHdoZW4gb25lIHVwZGF0ZXMgYSBjb21wbGV4IGV4cHJlc3Npb24gKGltaG8sIGFsbCByZWdleGVzIHNob3VsZFxuICogICAgICBoYXZlIGdvb2QgdGVzdCBjb3ZlcmFnZSkuICBGb3IgaW5zdGFuY2UsIHRoZSB1c2Ugb2YgYC5gIGluIHRoZSByZWdleCBpcyBjb3JyZWN0IG9ubHkgaW4gYVxuICogICAgICBzbWFsbCBudW1iZXIgb2YgY2FzZXMuICBBIGAuYCBjaGFyYWN0ZXIgaW4gdGhlIHJlZ2V4IHVzZWQgd2hlbiBtYXRjaGluZyB0aGUgc2NoZW1lIG9yIGFcbiAqICAgICAgc3ViZG9tYWluIGNvdWxkIGJlIG1hdGNoZWQgYWdhaW5zdCBhIGA6YCBvciBsaXRlcmFsIGAuYCB0aGF0IHdhcyBsaWtlbHkgbm90IGludGVuZGVkLiAgIEl0XG4gKiAgICAgIGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byB1c2UgdGhlIHN0cmluZyBwYXR0ZXJucyBhbmQgb25seSBmYWxsIGJhY2sgdG8gcmVndWxhciBleHByZXNzaW9uc1xuICogICAgICBhcyBhIGxhc3QgcmVzb3J0LlxuICogICAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVnRXhwIChpLmUuIG5vdCBhIHN0cmluZy4pICBJdCBpc1xuICogICAgICBtYXRjaGVkIGFnYWluc3QgdGhlICoqZW50aXJlKiogKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZSBiZWluZyB0ZXN0ZWRcbiAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xuICogICAgICBwcmVzZW50IG9uIHRoZSBSZWdFeHAgKHN1Y2ggYXMgbXVsdGlsaW5lLCBnbG9iYWwsIGlnbm9yZUNhc2UpIGFyZSBpZ25vcmVkLlxuICogICAgLSBJZiB5b3UgYXJlIGdlbmVyYXRpbmcgeW91ciBKYXZhU2NyaXB0IGZyb20gc29tZSBvdGhlciB0ZW1wbGF0aW5nIGVuZ2luZSAobm90XG4gKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxuICogICAgICByZW1lbWJlciB0byBlc2NhcGUgeW91ciByZWd1bGFyIGV4cHJlc3Npb24gKGFuZCBiZSBhd2FyZSB0aGF0IHlvdSBtaWdodCBuZWVkIG1vcmUgdGhhblxuICogICAgICBvbmUgbGV2ZWwgb2YgZXNjYXBpbmcgZGVwZW5kaW5nIG9uIHlvdXIgdGVtcGxhdGluZyBlbmdpbmUgYW5kIHRoZSB3YXkgeW91IGludGVycG9sYXRlZFxuICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXG4gKiAgICAgIGVub3VnaCBiZWZvcmUgY29kaW5nIHlvdXIgb3duLiAgRS5nLiBSdWJ5IGhhc1xuICogICAgICBbUmVnZXhwLmVzY2FwZShzdHIpXShodHRwOi8vd3d3LnJ1YnktZG9jLm9yZy9jb3JlLTIuMC4wL1JlZ2V4cC5odG1sI21ldGhvZC1jLWVzY2FwZSlcbiAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cbiAqICAgICAgSmF2YXNjcmlwdCBsYWNrcyBhIHNpbWlsYXIgYnVpbHQgaW4gZnVuY3Rpb24gZm9yIGVzY2FwaW5nLiAgVGFrZSBhIGxvb2sgYXQgR29vZ2xlXG4gKiAgICAgIENsb3N1cmUgbGlicmFyeSdzIFtnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUocyldKFxuICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxuICpcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gZm9yIGFuIGV4YW1wbGUuXG4gKlxuICogIyMgU2hvdyBtZSBhbiBleGFtcGxlIHVzaW5nIFNDRS5cbiAqXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJBcHBDb250cm9sbGVyIGFzIG15Q3RybFwiPlxuICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxuICogICAgIDxiPlVzZXIgY29tbWVudHM8L2I+PGJyPlxuICogICAgIEJ5IGRlZmF1bHQsIEhUTUwgdGhhdCBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQgKGUuZy4gQWxpY2UncyBjb21tZW50KSBpcyBzYW5pdGl6ZWQgd2hlblxuICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxuICogICAgIGV4cGxvaXQuXG4gKiAgICAgPGRpdiBjbGFzcz1cIndlbGxcIj5cbiAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxuICogICAgICAgICA8Yj57e3VzZXJDb21tZW50Lm5hbWV9fTwvYj46XG4gKiAgICAgICAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cInVzZXJDb21tZW50Lmh0bWxDb21tZW50XCIgY2xhc3M9XCJodG1sQ29tbWVudFwiPjwvc3Bhbj5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ215U2NlQXBwJywgWyduZ1Nhbml0aXplJ10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0FwcENvbnRyb2xsZXInLCBbJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRzY2UnLFxuICogICAgICAgZnVuY3Rpb24oJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7XG4gKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAqICAgICAgICAgJGh0dHAuZ2V0KFwidGVzdF9kYXRhLmpzb25cIiwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlckNvbW1lbnRzKSB7XG4gKiAgICAgICAgICAgc2VsZi51c2VyQ29tbWVudHMgPSB1c2VyQ29tbWVudHM7XG4gKiAgICAgICAgIH0pO1xuICogICAgICAgICBzZWxmLmV4cGxpY2l0bHlUcnVzdGVkSHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoXG4gKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XG4gKiAgICAgICB9XSk7XG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInRlc3RfZGF0YS5qc29uXCI+XG4gKiBbXG4gKiAgIHsgXCJuYW1lXCI6IFwiQWxpY2VcIixcbiAqICAgICBcImh0bWxDb21tZW50XCI6XG4gKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxuICogICB9LFxuICogICB7IFwibmFtZVwiOiBcIkJvYlwiLFxuICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcbiAqICAgfVxuICogXVxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xuICogICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdW50cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnLmh0bWxDb21tZW50JykpLmZpcnN0KCkuZ2V0SW5uZXJIdG1sKCkpXG4gKiAgICAgICAgICAgLnRvQmUoJzxzcGFuPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj4nKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcbiAqICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICpcbiAqICMjIENhbiBJIGRpc2FibGUgU0NFIGNvbXBsZXRlbHk/XG4gKlxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcbiAqIGZvciBsaXR0bGUgY29kaW5nIG92ZXJoZWFkLiAgSXQgd2lsbCBiZSBtdWNoIGhhcmRlciB0byB0YWtlIGFuIFNDRSBkaXNhYmxlZCBhcHBsaWNhdGlvbiBhbmRcbiAqIGVpdGhlciBzZWN1cmUgaXQgb24geW91ciBvd24gb3IgZW5hYmxlIFNDRSBhdCBhIGxhdGVyIHN0YWdlLiAgSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBkaXNhYmxlIFNDRVxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxuICogeW91J3JlIG1pZ3JhdGluZyB0aGVtIGEgbW9kdWxlIGF0IGEgdGltZS5cbiAqXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxuICpcbiAqIGBgYFxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xuICogICAvLyBDb21wbGV0ZWx5IGRpc2FibGUgU0NFLiAgRm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMgb25seSFcbiAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMuXG4gKiAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICovXG4vKiBqc2hpbnQgbWF4bGVuOiAxMDAgKi9cblxuZnVuY3Rpb24gJFNjZVByb3ZpZGVyKCkge1xuICB2YXIgZW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZVByb3ZpZGVyI2VuYWJsZWRcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgcHJvdmlkZWQsIHRoZW4gZW5hYmxlcy9kaXNhYmxlcyBTQ0UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgU0NFIGFuZCByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgKi9cbiAgdGhpcy5lbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9O1xuXG5cbiAgLyogRGVzaWduIG5vdGVzIG9uIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBTQ0UuXG4gICAqXG4gICAqIFRoZSBBUEkgY29udHJhY3QgZm9yIHRoZSBTQ0UgZGVsZWdhdGVcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBUaGUgU0NFIGRlbGVnYXRlIG9iamVjdCBtdXN0IHByb3ZpZGUgdGhlIGZvbGxvd2luZyAzIG1ldGhvZHM6XG4gICAqXG4gICAqIC0gdHJ1c3RBcyhjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHRlbGwgdGhlIFNDRSBzZXJ2aWNlIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIE9LIHRvIHVzZSBpbiB0aGVcbiAgICogICAgIGNvbnRleHRzIHNwZWNpZmllZCBieSBjb250ZXh0RW51bS4gIEl0IG11c3QgcmV0dXJuIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgYWNjZXB0ZWQgYnlcbiAgICogICAgIGdldFRydXN0ZWQoKSBmb3IgYSBjb21wYXRpYmxlIGNvbnRleHRFbnVtIGFuZCByZXR1cm4gdGhpcyB2YWx1ZS5cbiAgICpcbiAgICogLSB2YWx1ZU9mKHZhbHVlKVxuICAgKiAgICAgRm9yIHZhbHVlcyB0aGF0IHdlcmUgbm90IHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZW0gYXMgaXMuICBGb3IgdmFsdWVzIHRoYXQgd2VyZVxuICAgKiAgICAgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgdG8gdHJ1c3RBcy4gIEJhc2ljYWxseSwgaWZcbiAgICogICAgIHRydXN0QXMgaXMgd3JhcHBpbmcgdGhlIGdpdmVuIHZhbHVlcyBpbnRvIHNvbWUgdHlwZSwgdGhpcyBvcGVyYXRpb24gdW53cmFwcyBpdCB3aGVuIGdpdmVuXG4gICAqICAgICBzdWNoIGEgdmFsdWUuXG4gICAqXG4gICAqIC0gZ2V0VHJ1c3RlZChjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcbiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxuICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yXG4gICAqIGluc3RhbmNlLCBhbiBpbXBsZW1lbnRhdGlvbiBjb3VsZCBtYWludGFpbiBhIHJlZ2lzdHJ5IG9mIGFsbCB0cnVzdGVkIG9iamVjdHMgYnkgY29udGV4dC4gIEluXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcbiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvclxuICAgKiB0aHJvdyBhbiBleGNlcHRpb24gb3RoZXJ3aXNlLiAgQW4gaW1wbGVtZW50YXRpb24gbWlnaHQgb25seSB3cmFwIHZhbHVlcyBzb21lIG9mIHRoZSB0aW1lIGJhc2VkXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcbiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuXG4gICAqXG4gICAqXG4gICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcbiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gICAqXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcbiAgICpcbiAgICogICAgIGdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKSBzdWNjZWVkaW5nIGltcGxpZXMgdGhhdCBnZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxuICAgKlxuICAgKiBJbmhlcml0YW5jZSBoYXBwZW5zIHRvIGNhcHR1cmUgdGhpcyBpbiBhIG5hdHVyYWwgd2F5LiAgSW4gc29tZSBmdXR1cmUsIHdlXG4gICAqIG1heSBub3QgdXNlIGluaGVyaXRhbmNlIGFueW1vcmUuICBUaGF0IGlzIE9LIGJlY2F1c2Ugbm8gY29kZSBvdXRzaWRlIG9mXG4gICAqIHNjZS5qcyBhbmQgc2NlU3BlY3MuanMgd291bGQgbmVlZCB0byBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC5cbiAgICovXG5cbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJHNjZURlbGVnYXRlJywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgJHBhcnNlLCAgICRzY2VEZWxlZ2F0ZSkge1xuICAgIC8vIFByZXJlcTogRW5zdXJlIHRoYXQgd2UncmUgbm90IHJ1bm5pbmcgaW4gSUU8MTEgcXVpcmtzIG1vZGUuICBJbiB0aGF0IG1vZGUsIElFIDwgMTEgYWxsb3dcbiAgICAvLyB0aGUgXCJleHByZXNzaW9uKGphdmFzY3JpcHQgZXhwcmVzc2lvbilcIiBzeW50YXggd2hpY2ggaXMgaW5zZWN1cmUuXG4gICAgaWYgKGVuYWJsZWQgJiYgbXNpZSA8IDgpIHtcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2llcXVpcmtzJyxcbiAgICAgICAgJ1N0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDExIGluIHF1aXJrcyAnICtcbiAgICAgICAgJ21vZGUuICBZb3UgY2FuIGZpeCB0aGlzIGJ5IGFkZGluZyB0aGUgdGV4dCA8IWRvY3R5cGUgaHRtbD4gdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgJyArXG4gICAgICAgICdkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjaXNFbmFibGVkXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS4gIElmIHlvdSB3YW50IHRvIHNldCB0aGUgdmFsdWUsIHlvdVxuICAgICAqIGhhdmUgdG8gZG8gaXQgYXQgbW9kdWxlIGNvbmZpZyB0aW1lIG9uIHtAbGluayBuZy4kc2NlUHJvdmlkZXIgJHNjZVByb3ZpZGVyfS5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgU0NFIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfTtcbiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzO1xuICAgIHNjZS5nZXRUcnVzdGVkID0gJHNjZURlbGVnYXRlLmdldFRydXN0ZWQ7XG4gICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcblxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgc2NlLnRydXN0QXMgPSBzY2UuZ2V0VHJ1c3RlZCA9IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXG4gICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXRcbiAgICAgKiB3cmFwcyB0aGUgZXhwcmVzc2lvbiBpbiBhIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoKnR5cGUqLFxuICAgICAqICpyZXN1bHQqKX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIFNDRSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuICAgIHNjZS5wYXJzZUFzID0gZnVuY3Rpb24gc2NlUGFyc2VBcyh0eXBlLCBleHByKSB7XG4gICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xuICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkge1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiAgQXMgc3VjaCxcbiAgICAgKiByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIHRydXN0ZWQgYnkgYW5ndWxhciBmb3IgdXNlIGluIHNwZWNpZmllZCBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nIGNvbnRleHRzIChzdWNoIGFzIG5nLWJpbmQtaHRtbCwgbmctaW5jbHVkZSwgYW55IHNyYyBhdHRyaWJ1dGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24gc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pXG4gICAgICogdGhhdCB1c2VzIHRoZSBwcm92aWRlZCB2YWx1ZS4gIFNlZSAqIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZS4gIGUuZy4gdXJsLFxuICAgICAqICAgcmVzb3VyY2VVcmwsIGh0bWwsIGpzIGFuZCBjc3MuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHRydXN0ZWQvc2FmZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQSB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHN0YW5kIGluIGZvciB0aGUgcHJvdmlkZWQgYHZhbHVlYCBpbiBwbGFjZXNcbiAgICAgKiB3aGVyZSBBbmd1bGFyIGV4cGVjdHMgYSAkc2NlLnRydXN0QXMoKSByZXR1cm4gdmFsdWUuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkSHRtbFxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1VybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkVXJsXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZFVybCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlIHJldHVyblxuICAgICAqICAgICB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0pzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0pzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZEpzXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZEpzKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGB9LiAgQXMgc3VjaCxcbiAgICAgKiB0YWtlcyB0aGUgcmVzdWx0IG9mIGEge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH0oKSBjYWxsIGFuZCByZXR1cm5zIHRoZVxuICAgICAqIG9yaWdpbmFsbHkgc3VwcGxpZWQgdmFsdWUgaWYgdGhlIHF1ZXJpZWQgY29udGV4dCB0eXBlIGlzIGEgc3VwZXJ0eXBlIG9mIHRoZSBjcmVhdGVkIHR5cGUuXG4gICAgICogSWYgdGhpcyBjb25kaXRpb24gaXNuJ3Qgc2F0aXNmaWVkLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHRvIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHsqfSBtYXliZVRydXN0ZWQgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgY2FsbC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoZSB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0b1xuICAgICAqICAgICAgICAgICAgICB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfSBpZiB2YWxpZCBpbiB0aGlzIGNvbnRleHQuXG4gICAgICogICAgICAgICAgICAgIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRIdG1sXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkQ3NzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZENzcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSnNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSnModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuSlMsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNIdG1sXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0h0bWwoZXhwcmVzc2lvbiBzdHJpbmcpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzQ3NzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0Nzcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5DU1MsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1VybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNSZXNvdXJjZVVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0pzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0pzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkpTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8vIFNob3J0aGFuZCBkZWxlZ2F0aW9ucy5cbiAgICB2YXIgcGFyc2UgPSBzY2UucGFyc2VBcyxcbiAgICAgICAgZ2V0VHJ1c3RlZCA9IHNjZS5nZXRUcnVzdGVkLFxuICAgICAgICB0cnVzdEFzID0gc2NlLnRydXN0QXM7XG5cbiAgICBmb3JFYWNoKFNDRV9DT05URVhUUywgZnVuY3Rpb24oZW51bVZhbHVlLCBuYW1lKSB7XG4gICAgICB2YXIgbE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XG4gICAgICBzY2VbY2FtZWxDYXNlKFwicGFyc2VfYXNfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24oZXhwcikge1xuICAgICAgICByZXR1cm4gcGFyc2UoZW51bVZhbHVlLCBleHByKTtcbiAgICAgIH07XG4gICAgICBzY2VbY2FtZWxDYXNlKFwiZ2V0X3RydXN0ZWRfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdldFRydXN0ZWQoZW51bVZhbHVlLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgICAgc2NlW2NhbWVsQ2FzZShcInRydXN0X2FzX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0cnVzdEFzKGVudW1WYWx1ZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzY2U7XG4gIH1dO1xufVxuXG4vKipcbiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBzZXJ2aWNlICEhIVxuICpcbiAqIEBuYW1lICRzbmlmZmVyXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaGlzdG9yeSBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgaHRtbDUgaGlzdG9yeSBhcGkgP1xuICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc2l0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIHRyYW5zaXRpb24gZXZlbnRzID9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW5pbWF0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIGFuaW1hdGlvbiBldmVudHMgP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB2ZXJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0ZXN0aW5nIGJyb3dzZXIncyBmZWF0dXJlcy5cbiAqL1xuZnVuY3Rpb24gJFNuaWZmZXJQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCR3aW5kb3csICRkb2N1bWVudCkge1xuICAgIHZhciBldmVudFN1cHBvcnQgPSB7fSxcbiAgICAgICAgLy8gQ2hyb21lIFBhY2thZ2VkIEFwcHMgYXJlIG5vdCBhbGxvd2VkIHRvIGFjY2VzcyBgaGlzdG9yeS5wdXNoU3RhdGVgLiBUaGV5IGNhbiBiZSBkZXRlY3RlZCBieVxuICAgICAgICAvLyB0aGUgcHJlc2VuY2Ugb2YgYGNocm9tZS5hcHAucnVudGltZWAgKHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2FwcHMvYXBpX2luZGV4KVxuICAgICAgICBpc0Nocm9tZVBhY2thZ2VkQXBwID0gJHdpbmRvdy5jaHJvbWUgJiYgJHdpbmRvdy5jaHJvbWUuYXBwICYmICR3aW5kb3cuY2hyb21lLmFwcC5ydW50aW1lLFxuICAgICAgICBoYXNIaXN0b3J5UHVzaFN0YXRlID0gIWlzQ2hyb21lUGFja2FnZWRBcHAgJiYgJHdpbmRvdy5oaXN0b3J5ICYmICR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUsXG4gICAgICAgIGFuZHJvaWQgPVxuICAgICAgICAgIHRvSW50KCgvYW5kcm9pZCAoXFxkKykvLmV4ZWMobG93ZXJjYXNlKCgkd2luZG93Lm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50KSkgfHwgW10pWzFdKSxcbiAgICAgICAgYm94ZWUgPSAvQm94ZWUvaS50ZXN0KCgkd2luZG93Lm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50KSxcbiAgICAgICAgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF0gfHwge30sXG4gICAgICAgIHZlbmRvclByZWZpeCxcbiAgICAgICAgdmVuZG9yUmVnZXggPSAvXihNb3p8d2Via2l0fG1zKSg/PVtBLVpdKS8sXG4gICAgICAgIGJvZHlTdHlsZSA9IGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5zdHlsZSxcbiAgICAgICAgdHJhbnNpdGlvbnMgPSBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9ucyA9IGZhbHNlLFxuICAgICAgICBtYXRjaDtcblxuICAgIGlmIChib2R5U3R5bGUpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gYm9keVN0eWxlKSB7XG4gICAgICAgIGlmIChtYXRjaCA9IHZlbmRvclJlZ2V4LmV4ZWMocHJvcCkpIHtcbiAgICAgICAgICB2ZW5kb3JQcmVmaXggPSBtYXRjaFswXTtcbiAgICAgICAgICB2ZW5kb3JQcmVmaXggPSB2ZW5kb3JQcmVmaXhbMF0udG9VcHBlckNhc2UoKSArIHZlbmRvclByZWZpeC5zdWJzdHIoMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF2ZW5kb3JQcmVmaXgpIHtcbiAgICAgICAgdmVuZG9yUHJlZml4ID0gKCdXZWJraXRPcGFjaXR5JyBpbiBib2R5U3R5bGUpICYmICd3ZWJraXQnO1xuICAgICAgfVxuXG4gICAgICB0cmFuc2l0aW9ucyA9ICEhKCgndHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSB8fCAodmVuZG9yUHJlZml4ICsgJ1RyYW5zaXRpb24nIGluIGJvZHlTdHlsZSkpO1xuICAgICAgYW5pbWF0aW9ucyAgPSAhISgoJ2FuaW1hdGlvbicgaW4gYm9keVN0eWxlKSB8fCAodmVuZG9yUHJlZml4ICsgJ0FuaW1hdGlvbicgaW4gYm9keVN0eWxlKSk7XG5cbiAgICAgIGlmIChhbmRyb2lkICYmICghdHJhbnNpdGlvbnMgfHwgICFhbmltYXRpb25zKSkge1xuICAgICAgICB0cmFuc2l0aW9ucyA9IGlzU3RyaW5nKGJvZHlTdHlsZS53ZWJraXRUcmFuc2l0aW9uKTtcbiAgICAgICAgYW5pbWF0aW9ucyA9IGlzU3RyaW5nKGJvZHlTdHlsZS53ZWJraXRBbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIEFuZHJvaWQgaGFzIGhpc3RvcnkucHVzaFN0YXRlLCBidXQgaXQgZG9lcyBub3QgdXBkYXRlIGxvY2F0aW9uIGNvcnJlY3RseVxuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYXQgYWxsLlxuICAgICAgLy8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD0xNzQ3MVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvOTA0XG5cbiAgICAgIC8vIG9sZGVyIHdlYmtpdCBicm93c2VyICg1MzMuOSkgb24gQm94ZWUgYm94IGhhcyBleGFjdGx5IHRoZSBzYW1lIHByb2JsZW0gYXMgQW5kcm9pZCBoYXNcbiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGFsc29cbiAgICAgIC8vIFdlIGFyZSBwdXJwb3NlZnVsbHkgdXNpbmcgYCEoYW5kcm9pZCA8IDQpYCB0byBjb3ZlciB0aGUgY2FzZSB3aGVuIGBhbmRyb2lkYCBpcyB1bmRlZmluZWRcbiAgICAgIC8vIGpzaGludCAtVzAxOFxuICAgICAgaGlzdG9yeTogISEoaGFzSGlzdG9yeVB1c2hTdGF0ZSAmJiAhKGFuZHJvaWQgPCA0KSAmJiAhYm94ZWUpLFxuICAgICAgLy8ganNoaW50ICtXMDE4XG4gICAgICBoYXNFdmVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gSUU5IGltcGxlbWVudHMgJ2lucHV0JyBldmVudCBpdCdzIHNvIGZ1YmFyZWQgdGhhdCB3ZSByYXRoZXIgcHJldGVuZCB0aGF0IGl0IGRvZXNuJ3QgaGF2ZVxuICAgICAgICAvLyBpdC4gSW4gcGFydGljdWxhciB0aGUgZXZlbnQgaXMgbm90IGZpcmVkIHdoZW4gYmFja3NwYWNlIG9yIGRlbGV0ZSBrZXkgYXJlIHByZXNzZWQgb3JcbiAgICAgICAgLy8gd2hlbiBjdXQgb3BlcmF0aW9uIGlzIHBlcmZvcm1lZC5cbiAgICAgICAgLy8gSUUxMCsgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGJ1dCBpdCBlcnJvbmVvdXNseSBmaXJlcyB1bmRlciB2YXJpb3VzIHNpdHVhdGlvbnMsXG4gICAgICAgIC8vIGUuZy4gd2hlbiBwbGFjZWhvbGRlciBjaGFuZ2VzLCBvciBhIGZvcm0gaXMgZm9jdXNlZC5cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnaW5wdXQnICYmIG1zaWUgPD0gMTEpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnRTdXBwb3J0W2V2ZW50XSkpIHtcbiAgICAgICAgICB2YXIgZGl2RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZXZlbnRTdXBwb3J0W2V2ZW50XSA9ICdvbicgKyBldmVudCBpbiBkaXZFbG07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnRTdXBwb3J0W2V2ZW50XTtcbiAgICAgIH0sXG4gICAgICBjc3A6IGNzcCgpLFxuICAgICAgdmVuZG9yUHJlZml4OiB2ZW5kb3JQcmVmaXgsXG4gICAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnMsXG4gICAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgICAgYW5kcm9pZDogYW5kcm9pZFxuICAgIH07XG4gIH1dO1xufVxuXG52YXIgJHRlbXBsYXRlUmVxdWVzdE1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2VkIHRvIGNvbmZpZ3VyZSB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIHtAbGluayAkaHR0cH0gc2VydmljZSB3aGVuIG1ha2luZyBhIHRlbXBsYXRlIHJlcXVlc3QuXG4gKlxuICogRm9yIGV4YW1wbGUsIGl0IGNhbiBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBcIkFjY2VwdFwiIGhlYWRlciB0aGF0IGlzIHNlbnQgdG8gdGhlIHNlcnZlciwgd2hlblxuICogcmVxdWVzdGluZyBhIHRlbXBsYXRlLlxuICovXG5mdW5jdGlvbiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIoKSB7XG5cbiAgdmFyIGh0dHBPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlciNodHRwT3B0aW9uc1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIG9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIHRoZSB7QGxpbmsgJGh0dHB9IHNlcnZpY2Ugd2hlbiBtYWtpbmcgdGhlIHJlcXVlc3QuXG4gICAqIFlvdSBjYW4gdXNlIHRoaXMgdG8gb3ZlcnJpZGUgb3B0aW9ucyBzdWNoIGFzIHRoZSBcIkFjY2VwdFwiIGhlYWRlciBmb3IgdGVtcGxhdGUgcmVxdWVzdHMuXG4gICAqXG4gICAqIFRoZSB7QGxpbmsgJHRlbXBsYXRlUmVxdWVzdH0gd2lsbCBzZXQgdGhlIGBjYWNoZWAgYW5kIHRoZSBgdHJhbnNmb3JtUmVzcG9uc2VgIHByb3BlcnRpZXMgb2YgdGhlXG4gICAqIG9wdGlvbnMgaWYgbm90IG92ZXJyaWRkZW4gaGVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgZm9yIHRoZSB7QGxpbmsgJGh0dHB9IG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUge0BsaW5rICRodHRwfSBvcHRpb25zIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXG4gICAqL1xuICB0aGlzLmh0dHBPcHRpb25zID0gZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgaHR0cE9wdGlvbnMgPSB2YWw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGh0dHBPcHRpb25zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgYCR0ZW1wbGF0ZVJlcXVlc3RgIHNlcnZpY2UgcnVucyBzZWN1cml0eSBjaGVja3MgdGhlbiBkb3dubG9hZHMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHVzaW5nXG4gICAqIGAkaHR0cGAgYW5kLCB1cG9uIHN1Y2Nlc3MsIHN0b3JlcyB0aGUgY29udGVudHMgaW5zaWRlIG9mIGAkdGVtcGxhdGVDYWNoZWAuIElmIHRoZSBIVFRQIHJlcXVlc3RcbiAgICogZmFpbHMgb3IgdGhlIHJlc3BvbnNlIGRhdGEgb2YgdGhlIEhUVFAgcmVxdWVzdCBpcyBlbXB0eSwgYSBgJGNvbXBpbGVgIGVycm9yIHdpbGwgYmUgdGhyb3duICh0aGVcbiAgICogZXhjZXB0aW9uIGNhbiBiZSB0aHdhcnRlZCBieSBzZXR0aW5nIHRoZSAybmQgcGFyYW1ldGVyIG9mIHRoZSBmdW5jdGlvbiB0byB0cnVlKS4gTm90ZSB0aGF0IHRoZVxuICAgKiBjb250ZW50cyBvZiBgJHRlbXBsYXRlQ2FjaGVgIGFyZSB0cnVzdGVkLCBzbyB0aGUgY2FsbCB0byBgJHNjZS5nZXRUcnVzdGVkVXJsKHRwbClgIGlzIG9taXR0ZWRcbiAgICogd2hlbiBgdHBsYCBpcyBvZiB0eXBlIHN0cmluZyBhbmQgYCR0ZW1wbGF0ZUNhY2hlYCBoYXMgdGhlIG1hdGNoaW5nIGVudHJ5LlxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBwYXNzIGN1c3RvbSBvcHRpb25zIHRvIHRoZSBgJGh0dHBgIHNlcnZpY2UsIHN1Y2ggYXMgc2V0dGluZyB0aGUgQWNjZXB0IGhlYWRlciB5b3VcbiAgICogY2FuIGNvbmZpZ3VyZSB0aGlzIHZpYSB7QGxpbmsgJHRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyI2h0dHBPcHRpb25zfS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8VHJ1c3RlZFJlc291cmNlVXJsfSB0cGwgVGhlIEhUVFAgcmVxdWVzdCB0ZW1wbGF0ZSBVUkxcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaWdub3JlUmVxdWVzdEVycm9yIFdoZXRoZXIgb3Igbm90IHRvIGlnbm9yZSB0aGUgZXhjZXB0aW9uIHdoZW4gdGhlIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHRlbXBsYXRlIGlzIGVtcHR5XG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIEhUVFAgcmVzcG9uc2UgZGF0YSBvZiB0aGUgZ2l2ZW4gVVJMLlxuICAgKlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxQZW5kaW5nUmVxdWVzdHMgdG90YWwgYW1vdW50IG9mIHBlbmRpbmcgdGVtcGxhdGUgcmVxdWVzdHMgYmVpbmcgZG93bmxvYWRlZC5cbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJHRlbXBsYXRlQ2FjaGUnLCAnJGh0dHAnLCAnJHEnLCAnJHNjZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlLCAkaHR0cCwgJHEsICRzY2UpIHtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RGbih0cGwsIGlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7XG5cbiAgICAgIC8vIFdlIGNvbnNpZGVyIHRoZSB0ZW1wbGF0ZSBjYWNoZSBob2xkcyBvbmx5IHRydXN0ZWQgdGVtcGxhdGVzLCBzb1xuICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIGdvIHRocm91Z2ggd2hpdGVsaXN0aW5nIGFnYWluIGZvciBrZXlzIHRoYXQgYWxyZWFkeVxuICAgICAgLy8gYXJlIGluY2x1ZGVkIGluIHRoZXJlLiBUaGlzIGFsc28gbWFrZXMgQW5ndWxhciBhY2NlcHQgYW55IHNjcmlwdFxuICAgICAgLy8gZGlyZWN0aXZlLCBubyBtYXR0ZXIgaXRzIG5hbWUuIEhvd2V2ZXIsIHdlIHN0aWxsIG5lZWQgdG8gdW53cmFwIHRydXN0ZWRcbiAgICAgIC8vIHR5cGVzLlxuICAgICAgaWYgKCFpc1N0cmluZyh0cGwpIHx8IGlzVW5kZWZpbmVkKCR0ZW1wbGF0ZUNhY2hlLmdldCh0cGwpKSkge1xuICAgICAgICB0cGwgPSAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0cGwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJhbnNmb3JtUmVzcG9uc2UgPSAkaHR0cC5kZWZhdWx0cyAmJiAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTtcblxuICAgICAgaWYgKGlzQXJyYXkodHJhbnNmb3JtUmVzcG9uc2UpKSB7XG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gdHJhbnNmb3JtUmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyICE9PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtUmVzcG9uc2UgPT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0pIHtcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KHRwbCwgZXh0ZW5kKHtcbiAgICAgICAgICBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsXG4gICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IHRyYW5zZm9ybVJlc3BvbnNlXG4gICAgICAgIH0sIGh0dHBPcHRpb25zKSlcbiAgICAgICAgWydmaW5hbGx5J10oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzLS07XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KHRwbCwgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0sIGhhbmRsZUVycm9yKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IocmVzcCkge1xuICAgICAgICBpZiAoIWlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgICAgIHRocm93ICR0ZW1wbGF0ZVJlcXVlc3RNaW5FcnIoJ3RwbG9hZCcsICdGYWlsZWQgdG8gbG9hZCB0ZW1wbGF0ZTogezB9IChIVFRQIHN0YXR1czogezF9IHsyfSknLFxuICAgICAgICAgICAgdHBsLCByZXNwLnN0YXR1cywgcmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cyA9IDA7XG5cbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdEZuO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJCRUZXN0YWJpbGl0eVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJGxvY2F0aW9uJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRsb2NhdGlvbikge1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJHRlc3RhYmlsaXR5XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGUgcHJpdmF0ZSAkJHRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgYSBjb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIHVzZSB3aGVuIGRlYnVnZ2luZ1xuICAgICAqIG9yIGJ5IGF1dG9tYXRlZCB0ZXN0IGFuZCBkZWJ1Z2dpbmcgdG9vbHMuXG4gICAgICovXG4gICAgdmFyIHRlc3RhYmlsaXR5ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRCaW5kaW5nc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCAodmlhIG5nLWJpbmQgb3Ige3t9fSlcbiAgICAgKiB0byBleHByZXNzaW9ucyBtYXRjaGluZyB0aGUgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBUaGUgYmluZGluZyBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLiBGaWx0ZXJzIGFuZCB3aGl0ZXNwYWNlIGFyZSBpZ25vcmVkLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25nLWJpbmRpbmcnKTtcbiAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7XG4gICAgICAgIHZhciBkYXRhQmluZGluZyA9IGFuZ3VsYXIuZWxlbWVudChiaW5kaW5nKS5kYXRhKCckYmluZGluZycpO1xuICAgICAgICBpZiAoZGF0YUJpbmRpbmcpIHtcbiAgICAgICAgICBmb3JFYWNoKGRhdGFCaW5kaW5nLCBmdW5jdGlvbihiaW5kaW5nTmFtZSkge1xuICAgICAgICAgICAgaWYgKG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICAgICAgICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGVzY2FwZUZvclJlZ2V4cChleHByZXNzaW9uKSArICcoXFxcXHN8XFxcXHx8JCknKTtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXIudGVzdChiaW5kaW5nTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChiaW5kaW5nTmFtZS5pbmRleE9mKGV4cHJlc3Npb24pICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZE1vZGVsc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSB0d28td2F5IGZvdW5kIHZpYSBuZy1tb2RlbCB0b1xuICAgICAqIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBtb2RlbCBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRNb2RlbHMgPSBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgdmFyIHByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmdcXFxcOiddO1xuICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7ICsrcCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlRXF1YWxzID0gb3B0X2V4YWN0TWF0Y2ggPyAnPScgOiAnKj0nO1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSAnWycgKyBwcmVmaXhlc1twXSArICdtb2RlbCcgKyBhdHRyaWJ1dGVFcXVhbHMgKyAnXCInICsgZXhwcmVzc2lvbiArICdcIl0nO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZ2V0TG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBsb2NhdGlvbiBpbiBhIGJyb3dzZXIgYWdub3N0aWMgd2F5LiBSZXR1cm5zXG4gICAgICogICAgIHRoZSBwYXRoLCBzZWFyY2gsIGFuZCBoYXNoLiAoZS5nLiAvcGF0aD9hPWIjaGFzaClcbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRsb2NhdGlvbi51cmwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNzZXRMb2NhdGlvblxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgZm9yIG5hdmlnYXRpbmcgdG8gYSBsb2NhdGlvbiB3aXRob3V0IGRvaW5nIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGxvY2F0aW9uIHVybCAocGF0aCwgc2VhcmNoIGFuZCBoYXNoLFxuICAgICAqICAgICBlLmcuIC9wYXRoP2E9YiNoYXNoKSB0byBnbyB0by5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgaWYgKHVybCAhPT0gJGxvY2F0aW9uLnVybCgpKSB7XG4gICAgICAgICRsb2NhdGlvbi51cmwodXJsKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjd2hlblN0YWJsZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gJHRpbWVvdXQgYW5kICRodHRwIHJlcXVlc3RzIGFyZSBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LndoZW5TdGFibGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJGJyb3dzZXIubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyhjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIHJldHVybiB0ZXN0YWJpbGl0eTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckcScsICckJHEnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJHEsICAgJCRxLCAgICRleGNlcHRpb25IYW5kbGVyKSB7XG5cbiAgICB2YXIgZGVmZXJyZWRzID0ge307XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICogQG5hbWUgJHRpbWVvdXRcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldFRpbWVvdXRgLiBUaGUgYGZuYCBmdW5jdGlvbiBpcyB3cmFwcGVkIGludG8gYSB0cnkvY2F0Y2hcbiAgICAgICogYmxvY2sgYW5kIGRlbGVnYXRlcyBhbnkgZXhjZXB0aW9ucyB0b1xuICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAqXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgY2FsbGluZyBgJHRpbWVvdXRgIGlzIGEgcHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCB3aGVuXG4gICAgICAqIHRoZSBkZWxheSBoYXMgcGFzc2VkIGFuZCB0aGUgdGltZW91dCBmdW5jdGlvbiwgaWYgcHJvdmlkZWQsIGlzIGV4ZWN1dGVkLlxuICAgICAgKlxuICAgICAgKiBUbyBjYW5jZWwgYSB0aW1lb3V0IHJlcXVlc3QsIGNhbGwgYCR0aW1lb3V0LmNhbmNlbChwcm9taXNlKWAuXG4gICAgICAqXG4gICAgICAqIEluIHRlc3RzIHlvdSBjYW4gdXNlIHtAbGluayBuZ01vY2suJHRpbWVvdXQgYCR0aW1lb3V0LmZsdXNoKClgfSB0b1xuICAgICAgKiBzeW5jaHJvbm91c2x5IGZsdXNoIHRoZSBxdWV1ZSBvZiBkZWZlcnJlZCBmdW5jdGlvbnMuXG4gICAgICAqXG4gICAgICAqIElmIHlvdSBvbmx5IHdhbnQgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBzb21lIHNwZWNpZmllZCBkZWxheVxuICAgICAgKiB0aGVuIHlvdSBjYW4gY2FsbCBgJHRpbWVvdXRgIHdpdGhvdXQgdGhlIGBmbmAgZnVuY3Rpb24uXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IGZuIEEgZnVuY3Rpb24sIHdob3NlIGV4ZWN1dGlvbiBzaG91bGQgYmUgZGVsYXllZC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gRGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAgICAgICogQHBhcmFtIHsuLi4qPX0gUGFzcyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uLlxuICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGUgdGltZW91dCBpcyByZWFjaGVkLiBUaGUgcHJvbWlzZVxuICAgICAgKiAgIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgZm5gIGZ1bmN0aW9uLlxuICAgICAgKlxuICAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lb3V0KGZuLCBkZWxheSwgaW52b2tlQXBwbHkpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgaW52b2tlQXBwbHkgPSBkZWxheTtcbiAgICAgICAgZGVsYXkgPSBmbjtcbiAgICAgICAgZm4gPSBub29wO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJncyA9IHNsaWNlQXJncyhhcmd1bWVudHMsIDMpLFxuICAgICAgICAgIHNraXBBcHBseSA9IChpc0RlZmluZWQoaW52b2tlQXBwbHkpICYmICFpbnZva2VBcHBseSksXG4gICAgICAgICAgZGVmZXJyZWQgPSAoc2tpcEFwcGx5ID8gJCRxIDogJHEpLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgdGltZW91dElkO1xuXG4gICAgICB0aW1lb3V0SWQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZuLmFwcGx5KG51bGwsIGFyZ3MpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICB9LCBkZWxheSk7XG5cbiAgICAgIHByb21pc2UuJCR0aW1lb3V0SWQgPSB0aW1lb3V0SWQ7XG4gICAgICBkZWZlcnJlZHNbdGltZW91dElkXSA9IGRlZmVycmVkO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkdGltZW91dCNjYW5jZWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLiBBcyBhIHJlc3VsdCBvZiB0aGlzLCB0aGUgcHJvbWlzZSB3aWxsIGJlXG4gICAgICAqIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgUHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCR0aW1lb3V0YCBmdW5jdGlvbi5cbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICAgICogICBjYW5jZWxlZC5cbiAgICAgICovXG4gICAgdGltZW91dC5jYW5jZWwgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLiQkdGltZW91dElkIGluIGRlZmVycmVkcykge1xuICAgICAgICBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xuICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xuICAgICAgICByZXR1cm4gJGJyb3dzZXIuZGVmZXIuY2FuY2VsKHByb21pc2UuJCR0aW1lb3V0SWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGltZW91dDtcbiAgfV07XG59XG5cbi8vIE5PVEU6ICBUaGUgdXNhZ2Ugb2Ygd2luZG93IGFuZCBkb2N1bWVudCBpbnN0ZWFkIG9mICR3aW5kb3cgYW5kICRkb2N1bWVudCBoZXJlIGlzXG4vLyBkZWxpYmVyYXRlLiAgVGhpcyBzZXJ2aWNlIGRlcGVuZHMgb24gdGhlIHNwZWNpZmljIGJlaGF2aW9yIG9mIGFuY2hvciBub2RlcyBjcmVhdGVkIGJ5IHRoZVxuLy8gYnJvd3NlciAocmVzb2x2aW5nIGFuZCBwYXJzaW5nIFVSTHMpIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcHJvdmlkZWQgYnkgbW9jayBvYmplY3RzIGFuZFxuLy8gY2F1c2UgdXMgdG8gYnJlYWsgdGVzdHMuICBJbiBhZGRpdGlvbiwgd2hlbiB0aGUgYnJvd3NlciByZXNvbHZlcyBhIFVSTCBmb3IgWEhSLCBpdFxuLy8gZG9lc24ndCBrbm93IGFib3V0IG1vY2tlZCBsb2NhdGlvbnMgYW5kIHJlc29sdmVzIFVSTHMgdG8gdGhlIHJlYWwgZG9jdW1lbnQgLSB3aGljaCBpc1xuLy8gZXhhY3RseSB0aGUgYmVoYXZpb3IgbmVlZGVkIGhlcmUuICBUaGVyZSBpcyBsaXR0bGUgdmFsdWUgaXMgbW9ja2luZyB0aGVzZSBvdXQgZm9yIHRoaXNcbi8vIHNlcnZpY2UuXG52YXIgdXJsUGFyc2luZ05vZGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG52YXIgb3JpZ2luVXJsID0gdXJsUmVzb2x2ZSh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cblxuLyoqXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2Vyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXNzaWduaW5nIGEgVVJMIHRvIHRoZSBocmVmIHByb3BlcnR5IG9mIGFuIGFuY2hvciBET00gbm9kZSwgZXZlbiBvbmUgYXR0YWNoZWQgdG8gdGhlIERPTSxcbiAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZVxuICogVVJMIHdpbGwgYmUgcmVzb2x2ZWQgaW50byBhbiBhYnNvbHV0ZSBVUkwgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICogUGFyc2luZyBtZWFucyB0aGF0IHRoZSBhbmNob3Igbm9kZSdzIGhvc3QsIGhvc3RuYW1lLCBwcm90b2NvbCwgcG9ydCwgcGF0aG5hbWUgYW5kIHJlbGF0ZWRcbiAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlXG4gKiBjb21wYXRpYmlsaXR5IC0gU2FmYXJpIDErLCBNb3ppbGxhIDErLCBPcGVyYSA3KyxlIGV0Yy4gIFNlZVxuICogaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIElFXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIElFIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlclxuICogYnJvd3NlcnMuICBIb3dldmVyLCB0aGUgcGFyc2VkIGNvbXBvbmVudHMgd2lsbCBub3QgYmUgc2V0IGlmIHRoZSBVUkwgYXNzaWduZWQgZGlkIG5vdCBzcGVjaWZ5XG4gKiB0aGVtLiAgKGUuZy4gaWYgeW91IGFzc2lnbiBhLmhyZWYgPSBcImZvb1wiLCB0aGVuIGEucHJvdG9jb2wsIGEuaG9zdCwgZXRjLiB3aWxsIGJlIGVtcHR5LikgIFdlXG4gKiB3b3JrIGFyb3VuZCB0aGF0IGJ5IHBlcmZvcm1pbmcgdGhlIHBhcnNpbmcgaW4gYSAybmQgc3RlcCBieSB0YWtpbmcgYSBwcmV2aW91c2x5IG5vcm1hbGl6ZWRcbiAqIFVSTCAoZS5nLiBieSBhc3NpZ25pbmcgdG8gYS5ocmVmKSBhbmQgYXNzaWduaW5nIGl0IGEuaHJlZiBhZ2Fpbi4gIFRoaXMgY29ycmVjdGx5IHBvcHVsYXRlcyB0aGVcbiAqIHByb3BlcnRpZXMgc3VjaCBhcyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIGV0Yy5cbiAqXG4gKiBSZWZlcmVuY2VzOlxuICogICBodHRwOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQW5jaG9yRWxlbWVudFxuICogICBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWxcbiAqICAgaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8yOTAyXG4gKiAgIGh0dHA6Ly9qYW1lcy5wYWRvbHNleS5jb20vamF2YXNjcmlwdC9wYXJzaW5nLXVybHMtd2l0aC10aGUtZG9tL1xuICpcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkLlxuICogQGRlc2NyaXB0aW9uIE5vcm1hbGl6ZXMgYW5kIHBhcnNlcyBhIFVSTC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IFJldHVybnMgdGhlIG5vcm1hbGl6ZWQgVVJMIGFzIGEgZGljdGlvbmFyeS5cbiAqXG4gKiAgIHwgbWVtYmVyIG5hbWUgICB8IERlc2NyaXB0aW9uICAgIHxcbiAqICAgfC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tfFxuICogICB8IGhyZWYgICAgICAgICAgfCBBIG5vcm1hbGl6ZWQgdmVyc2lvbiBvZiB0aGUgcHJvdmlkZWQgVVJMIGlmIGl0IHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMIHxcbiAqICAgfCBwcm90b2NvbCAgICAgIHwgVGhlIHByb3RvY29sIGluY2x1ZGluZyB0aGUgdHJhaWxpbmcgY29sb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgIHwgaG9zdCAgICAgICAgICB8IFRoZSBob3N0IGFuZCBwb3J0IChpZiB0aGUgcG9ydCBpcyBub24tZGVmYXVsdCkgb2YgdGhlIG5vcm1hbGl6ZWRVcmwgICAgfFxuICogICB8IHNlYXJjaCAgICAgICAgfCBUaGUgc2VhcmNoIHBhcmFtcywgbWludXMgdGhlIHF1ZXN0aW9uIG1hcmsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfCBoYXNoICAgICAgICAgIHwgVGhlIGhhc2ggc3RyaW5nLCBtaW51cyB0aGUgaGFzaCBzeW1ib2xcbiAqICAgfCBob3N0bmFtZSAgICAgIHwgVGhlIGhvc3RuYW1lXG4gKiAgIHwgcG9ydCAgICAgICAgICB8IFRoZSBwb3J0LCB3aXRob3V0IFwiOlwiXG4gKiAgIHwgcGF0aG5hbWUgICAgICB8IFRoZSBwYXRobmFtZSwgYmVnaW5uaW5nIHdpdGggXCIvXCJcbiAqXG4gKi9cbmZ1bmN0aW9uIHVybFJlc29sdmUodXJsKSB7XG4gIHZhciBocmVmID0gdXJsO1xuXG4gIGlmIChtc2llKSB7XG4gICAgLy8gTm9ybWFsaXplIGJlZm9yZSBwYXJzZS4gIFJlZmVyIEltcGxlbWVudGF0aW9uIE5vdGVzIG9uIHdoeSB0aGlzIGlzXG4gICAgLy8gZG9uZSBpbiB0d28gc3RlcHMgb24gSUUuXG4gICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBocmVmKTtcbiAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgfVxuXG4gIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgcmV0dXJuIHtcbiAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKVxuICAgICAgPyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgOiAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGEgcmVxdWVzdCBVUkwgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoaXMgaXMgYSBzYW1lLW9yaWdpbiByZXF1ZXN0IGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlcXVlc3RVcmwgVGhlIHVybCBvZiB0aGUgcmVxdWVzdCBhcyBhIHN0cmluZyB0aGF0IHdpbGwgYmUgcmVzb2x2ZWRcbiAqIG9yIGEgcGFyc2VkIFVSTCBvYmplY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVxdWVzdCBpcyBmb3IgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAqL1xuZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luKHJlcXVlc3RVcmwpIHtcbiAgdmFyIHBhcnNlZCA9IChpc1N0cmluZyhyZXF1ZXN0VXJsKSkgPyB1cmxSZXNvbHZlKHJlcXVlc3RVcmwpIDogcmVxdWVzdFVybDtcbiAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVybC5wcm90b2NvbCAmJlxuICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VcmwuaG9zdCk7XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR3aW5kb3dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgcmVmZXJlbmNlIHRvIHRoZSBicm93c2VyJ3MgYHdpbmRvd2Agb2JqZWN0LiBXaGlsZSBgd2luZG93YFxuICogaXMgZ2xvYmFsbHkgYXZhaWxhYmxlIGluIEphdmFTY3JpcHQsIGl0IGNhdXNlcyB0ZXN0YWJpbGl0eSBwcm9ibGVtcywgYmVjYXVzZVxuICogaXQgaXMgYSBnbG9iYWwgdmFyaWFibGUuIEluIGFuZ3VsYXIgd2UgYWx3YXlzIHJlZmVyIHRvIGl0IHRocm91Z2ggdGhlXG4gKiBgJHdpbmRvd2Agc2VydmljZSwgc28gaXQgbWF5IGJlIG92ZXJyaWRkZW4sIHJlbW92ZWQgb3IgbW9ja2VkIGZvciB0ZXN0aW5nLlxuICpcbiAqIEV4cHJlc3Npb25zLCBsaWtlIHRoZSBvbmUgZGVmaW5lZCBmb3IgdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmUgaW4gdGhlIGV4YW1wbGVcbiAqIGJlbG93LCBhcmUgZXZhbHVhdGVkIHdpdGggcmVzcGVjdCB0byB0aGUgY3VycmVudCBzY29wZS4gIFRoZXJlZm9yZSwgdGhlcmUgaXNcbiAqIG5vIHJpc2sgb2YgaW5hZHZlcnRlbnRseSBjb2RpbmcgaW4gYSBkZXBlbmRlbmN5IG9uIGEgZ2xvYmFsIHZhbHVlIGluIHN1Y2ggYW5cbiAqIGV4cHJlc3Npb24uXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIndpbmRvd0V4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3dpbmRvd0V4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRzY29wZSwgJHdpbmRvdykge1xuICAgICAgICAgICAgICRzY29wZS5ncmVldGluZyA9ICdIZWxsbywgV29ybGQhJztcbiAgICAgICAgICAgICAkc2NvcGUuZG9HcmVldGluZyA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGdyZWV0aW5nKTtcbiAgICAgICAgICAgICB9O1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiZ3JlZXRpbmdcIiBhcmlhLWxhYmVsPVwiZ3JlZXRpbmdcIiAvPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImRvR3JlZXRpbmcoZ3JlZXRpbmcpXCI+QUxFUlQ8L2J1dHRvbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICBpdCgnc2hvdWxkIGRpc3BsYXkgdGhlIGdyZWV0aW5nIGluIHRoZSBpbnB1dCBib3gnLCBmdW5jdGlvbigpIHtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdncmVldGluZycpKS5zZW5kS2V5cygnSGVsbG8sIEUyRSBUZXN0cycpO1xuICAgICAgIC8vIElmIHdlIGNsaWNrIHRoZSBidXR0b24gaXQgd2lsbCBibG9jayB0aGUgdGVzdCBydW5uZXJcbiAgICAgICAvLyBlbGVtZW50KCc6YnV0dG9uJykuY2xpY2soKTtcbiAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICRXaW5kb3dQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gdmFsdWVGbih3aW5kb3cpO1xufVxuXG4vKipcbiAqIEBuYW1lICQkY29va2llUmVhZGVyXG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGlzIGEgcHJpdmF0ZSBzZXJ2aWNlIGZvciByZWFkaW5nIGNvb2tpZXMgdXNlZCBieSAkaHR0cCBhbmQgbmdDb29raWVzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBhIGtleS92YWx1ZSBtYXAgb2YgdGhlIGN1cnJlbnQgY29va2llc1xuICovXG5mdW5jdGlvbiAkJENvb2tpZVJlYWRlcigkZG9jdW1lbnQpIHtcbiAgdmFyIHJhd0RvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9O1xuICB2YXIgbGFzdENvb2tpZXMgPSB7fTtcbiAgdmFyIGxhc3RDb29raWVTdHJpbmcgPSAnJztcblxuICBmdW5jdGlvbiBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KHN0cikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvb2tpZUFycmF5LCBjb29raWUsIGksIGluZGV4LCBuYW1lO1xuICAgIHZhciBjdXJyZW50Q29va2llU3RyaW5nID0gcmF3RG9jdW1lbnQuY29va2llIHx8ICcnO1xuXG4gICAgaWYgKGN1cnJlbnRDb29raWVTdHJpbmcgIT09IGxhc3RDb29raWVTdHJpbmcpIHtcbiAgICAgIGxhc3RDb29raWVTdHJpbmcgPSBjdXJyZW50Q29va2llU3RyaW5nO1xuICAgICAgY29va2llQXJyYXkgPSBsYXN0Q29va2llU3RyaW5nLnNwbGl0KCc7ICcpO1xuICAgICAgbGFzdENvb2tpZXMgPSB7fTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGNvb2tpZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvb2tpZSA9IGNvb2tpZUFycmF5W2ldO1xuICAgICAgICBpbmRleCA9IGNvb2tpZS5pbmRleE9mKCc9Jyk7XG4gICAgICAgIGlmIChpbmRleCA+IDApIHsgLy9pZ25vcmUgbmFtZWxlc3MgY29va2llc1xuICAgICAgICAgIG5hbWUgPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcbiAgICAgICAgICAvLyB0aGUgZmlyc3QgdmFsdWUgdGhhdCBpcyBzZWVuIGZvciBhIGNvb2tpZSBpcyB0aGUgbW9zdFxuICAgICAgICAgIC8vIHNwZWNpZmljIG9uZS4gIHZhbHVlcyBmb3IgdGhlIHNhbWUgY29va2llIG5hbWUgdGhhdFxuICAgICAgICAgIC8vIGZvbGxvdyBhcmUgZm9yIGxlc3Mgc3BlY2lmaWMgcGF0aHMuXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGxhc3RDb29raWVzW25hbWVdKSkge1xuICAgICAgICAgICAgbGFzdENvb2tpZXNbbmFtZV0gPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoaW5kZXggKyAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsYXN0Q29va2llcztcbiAgfTtcbn1cblxuJCRDb29raWVSZWFkZXIuJGluamVjdCA9IFsnJGRvY3VtZW50J107XG5cbmZ1bmN0aW9uICQkQ29va2llUmVhZGVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9ICQkQ29va2llUmVhZGVyO1xufVxuXG4vKiBnbG9iYWwgY3VycmVuY3lGaWx0ZXI6IHRydWUsXG4gZGF0ZUZpbHRlcjogdHJ1ZSxcbiBmaWx0ZXJGaWx0ZXI6IHRydWUsXG4ganNvbkZpbHRlcjogdHJ1ZSxcbiBsaW1pdFRvRmlsdGVyOiB0cnVlLFxuIGxvd2VyY2FzZUZpbHRlcjogdHJ1ZSxcbiBudW1iZXJGaWx0ZXI6IHRydWUsXG4gb3JkZXJCeUZpbHRlcjogdHJ1ZSxcbiB1cHBlcmNhc2VGaWx0ZXI6IHRydWUsXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRmaWx0ZXJQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRmlsdGVycyBhcmUganVzdCBmdW5jdGlvbnMgd2hpY2ggdHJhbnNmb3JtIGlucHV0IHRvIGFuIG91dHB1dC4gSG93ZXZlciBmaWx0ZXJzIG5lZWQgdG8gYmVcbiAqIERlcGVuZGVuY3kgSW5qZWN0ZWQuIFRvIGFjaGlldmUgdGhpcyBhIGZpbHRlciBkZWZpbml0aW9uIGNvbnNpc3RzIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCBpc1xuICogYW5ub3RhdGVkIHdpdGggZGVwZW5kZW5jaWVzIGFuZCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYSBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXG4gKiBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxuICogeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXG4gKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxuICogPC9kaXY+XG4gKlxuICogYGBganNcbiAqICAgLy8gRmlsdGVyIHJlZ2lzdHJhdGlvblxuICogICBmdW5jdGlvbiBNeU1vZHVsZSgkcHJvdmlkZSwgJGZpbHRlclByb3ZpZGVyKSB7XG4gKiAgICAgLy8gY3JlYXRlIGEgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBpbmplY3Rpb24gKG5vdCBhbHdheXMgbmVlZGVkKVxuICogICAgICRwcm92aWRlLnZhbHVlKCdncmVldCcsIGZ1bmN0aW9uKG5hbWUpe1xuICogICAgICAgcmV0dXJuICdIZWxsbyAnICsgbmFtZSArICchJztcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgLy8gcmVnaXN0ZXIgYSBmaWx0ZXIgZmFjdG9yeSB3aGljaCB1c2VzIHRoZVxuICogICAgIC8vIGdyZWV0IHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgREkuXG4gKiAgICAgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCdncmVldCcsIGZ1bmN0aW9uKGdyZWV0KXtcbiAqICAgICAgIC8vIHJldHVybiB0aGUgZmlsdGVyIGZ1bmN0aW9uIHdoaWNoIHVzZXMgdGhlIGdyZWV0IHNlcnZpY2VcbiAqICAgICAgIC8vIHRvIGdlbmVyYXRlIHNhbHV0YXRpb25cbiAqICAgICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XG4gKiAgICAgICAgIC8vIGZpbHRlcnMgbmVlZCB0byBiZSBmb3JnaXZpbmcgc28gY2hlY2sgaW5wdXQgdmFsaWRpdHlcbiAqICAgICAgICAgcmV0dXJuIHRleHQgJiYgZ3JlZXQodGV4dCkgfHwgdGV4dDtcbiAqICAgICAgIH07XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBmaWx0ZXIgZnVuY3Rpb24gaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGluamVjdG9yYCB1bmRlciB0aGUgZmlsdGVyIG5hbWUgc3VmZml4IHdpdGhcbiAqIGBGaWx0ZXJgLlxuICpcbiAqIGBgYGpzXG4gKiAgIGl0KCdzaG91bGQgYmUgdGhlIHNhbWUgaW5zdGFuY2UnLCBpbmplY3QoXG4gKiAgICAgZnVuY3Rpb24oJGZpbHRlclByb3ZpZGVyKSB7XG4gKiAgICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ3JldmVyc2UnLCBmdW5jdGlvbigpe1xuICogICAgICAgICByZXR1cm4gLi4uO1xuICogICAgICAgfSk7XG4gKiAgICAgfSxcbiAqICAgICBmdW5jdGlvbigkZmlsdGVyLCByZXZlcnNlRmlsdGVyKSB7XG4gKiAgICAgICBleHBlY3QoJGZpbHRlcigncmV2ZXJzZScpKS50b0JlKHJldmVyc2VGaWx0ZXIpO1xuICogICAgIH0pO1xuICogYGBgXG4gKlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGhvdyBhbmd1bGFyIGZpbHRlcnMgd29yaywgYW5kIGhvdyB0byBjcmVhdGUgeW91ciBvd24gZmlsdGVycywgc2VlXG4gKiB7QGxpbmsgZ3VpZGUvZmlsdGVyIEZpbHRlcnN9IGluIHRoZSBBbmd1bGFyIERldmVsb3BlciBHdWlkZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZmlsdGVyXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBGaWx0ZXJzIGFyZSB1c2VkIGZvciBmb3JtYXR0aW5nIGRhdGEgZGlzcGxheWVkIHRvIHRoZSB1c2VyLlxuICpcbiAqIFRoZSBnZW5lcmFsIHN5bnRheCBpbiB0ZW1wbGF0ZXMgaXMgYXMgZm9sbG93czpcbiAqXG4gKiAgICAgICAgIHt7IGV4cHJlc3Npb24gW3wgZmlsdGVyX25hbWVbOnBhcmFtZXRlcl92YWx1ZV0gLi4uIF0gfX1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIgZnVuY3Rpb24gdG8gcmV0cmlldmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIiRmaWx0ZXJcIiBtb2R1bGU9XCJmaWx0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkN0cmxcIj5cbiAgICAgICAgPGgzPnt7IG9yaWdpbmFsVGV4dCB9fTwvaDM+XG4gICAgICAgIDxoMz57eyBmaWx0ZXJlZFRleHQgfX08L2gzPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2ZpbHRlckV4YW1wbGUnLCBbXSlcbiAgICAgIC5jb250cm9sbGVyKCdNYWluQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xuICAgICAgICAkc2NvcGUub3JpZ2luYWxUZXh0ID0gJ2hlbGxvJztcbiAgICAgICAgJHNjb3BlLmZpbHRlcmVkVGV4dCA9ICRmaWx0ZXIoJ3VwcGVyY2FzZScpKCRzY29wZS5vcmlnaW5hbFRleHQpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgKi9cbiRGaWx0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZSddO1xuZnVuY3Rpb24gJEZpbHRlclByb3ZpZGVyKCRwcm92aWRlKSB7XG4gIHZhciBzdWZmaXggPSAnRmlsdGVyJztcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiwgb3IgYW4gb2JqZWN0IG1hcCBvZiBmaWx0ZXJzIHdoZXJlXG4gICAqICAgIHRoZSBrZXlzIGFyZSB0aGUgZmlsdGVyIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmlsdGVyIGZhY3Rvcmllcy5cbiAgICpcbiAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogICAgKipOb3RlOioqIEZpbHRlciBuYW1lcyBtdXN0IGJlIHZhbGlkIGFuZ3VsYXIge0BsaW5rIGV4cHJlc3Npb259IGlkZW50aWZpZXJzLCBzdWNoIGFzIGB1cHBlcmNhc2VgIG9yIGBvcmRlckJ5YC5cbiAgICogICAgTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAgICogICAgeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXG4gICAqICAgIChgbXlhcHBfc3Vic2VjdGlvbl9maWx0ZXJ4YCkuXG4gICAqICAgIDwvZGl2PlxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGEgc3RyaW5nLCBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBmaWx0ZXIgdG8gYmUgcmVnaXN0ZXJlZC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmVnaXN0ZXJlZCBmaWx0ZXIgaW5zdGFuY2UsIG9yIGlmIGEgbWFwIG9mIGZpbHRlcnMgd2FzIHByb3ZpZGVkIHRoZW4gYSBtYXBcbiAgICogICAgb2YgdGhlIHJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIGZhY3RvcnkpIHtcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgIHZhciBmaWx0ZXJzID0ge307XG4gICAgICBmb3JFYWNoKG5hbWUsIGZ1bmN0aW9uKGZpbHRlciwga2V5KSB7XG4gICAgICAgIGZpbHRlcnNba2V5XSA9IHJlZ2lzdGVyKGtleSwgZmlsdGVyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBzdWZmaXgsIGZhY3RvcnkpO1xuICAgIH1cbiAgfVxuICB0aGlzLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuICRpbmplY3Rvci5nZXQobmFtZSArIHN1ZmZpeCk7XG4gICAgfTtcbiAgfV07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qIGdsb2JhbFxuICAgIGN1cnJlbmN5RmlsdGVyOiBmYWxzZSxcbiAgICBkYXRlRmlsdGVyOiBmYWxzZSxcbiAgICBmaWx0ZXJGaWx0ZXI6IGZhbHNlLFxuICAgIGpzb25GaWx0ZXI6IGZhbHNlLFxuICAgIGxpbWl0VG9GaWx0ZXI6IGZhbHNlLFxuICAgIGxvd2VyY2FzZUZpbHRlcjogZmFsc2UsXG4gICAgbnVtYmVyRmlsdGVyOiBmYWxzZSxcbiAgICBvcmRlckJ5RmlsdGVyOiBmYWxzZSxcbiAgICB1cHBlcmNhc2VGaWx0ZXI6IGZhbHNlLFxuICAqL1xuXG4gIHJlZ2lzdGVyKCdjdXJyZW5jeScsIGN1cnJlbmN5RmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2RhdGUnLCBkYXRlRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2ZpbHRlcicsIGZpbHRlckZpbHRlcik7XG4gIHJlZ2lzdGVyKCdqc29uJywganNvbkZpbHRlcik7XG4gIHJlZ2lzdGVyKCdsaW1pdFRvJywgbGltaXRUb0ZpbHRlcik7XG4gIHJlZ2lzdGVyKCdsb3dlcmNhc2UnLCBsb3dlcmNhc2VGaWx0ZXIpO1xuICByZWdpc3RlcignbnVtYmVyJywgbnVtYmVyRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ29yZGVyQnknLCBvcmRlckJ5RmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ3VwcGVyY2FzZScsIHVwcGVyY2FzZUZpbHRlcik7XG59XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgZmlsdGVyXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2VsZWN0cyBhIHN1YnNldCBvZiBpdGVtcyBmcm9tIGBhcnJheWAgYW5kIHJldHVybnMgaXQgYXMgYSBuZXcgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvdXJjZSBhcnJheS5cbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdHxmdW5jdGlvbigpfSBleHByZXNzaW9uIFRoZSBwcmVkaWNhdGUgdG8gYmUgdXNlZCBmb3Igc2VsZWN0aW5nIGl0ZW1zIGZyb21cbiAqICAgYGFycmF5YC5cbiAqXG4gKiAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAtIGBzdHJpbmdgOiBUaGUgc3RyaW5nIGlzIHVzZWQgZm9yIG1hdGNoaW5nIGFnYWluc3QgdGhlIGNvbnRlbnRzIG9mIHRoZSBgYXJyYXlgLiBBbGwgc3RyaW5ncyBvclxuICogICAgIG9iamVjdHMgd2l0aCBzdHJpbmcgcHJvcGVydGllcyBpbiBgYXJyYXlgIHRoYXQgbWF0Y2ggdGhpcyBzdHJpbmcgd2lsbCBiZSByZXR1cm5lZC4gVGhpcyBhbHNvXG4gKiAgICAgYXBwbGllcyB0byBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuXG4gKiAgICAgVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cbiAqXG4gKiAgIC0gYE9iamVjdGA6IEEgcGF0dGVybiBvYmplY3QgY2FuIGJlIHVzZWQgdG8gZmlsdGVyIHNwZWNpZmljIHByb3BlcnRpZXMgb24gb2JqZWN0cyBjb250YWluZWRcbiAqICAgICBieSBgYXJyYXlgLiBGb3IgZXhhbXBsZSBge25hbWU6XCJNXCIsIHBob25lOlwiMVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zXG4gKiAgICAgd2hpY2ggaGF2ZSBwcm9wZXJ0eSBgbmFtZWAgY29udGFpbmluZyBcIk1cIiBhbmQgcHJvcGVydHkgYHBob25lYCBjb250YWluaW5nIFwiMVwiLiBBIHNwZWNpYWxcbiAqICAgICBwcm9wZXJ0eSBuYW1lIChgJGAgYnkgZGVmYXVsdCkgY2FuIGJlIHVzZWQgKGUuZy4gYXMgaW4gYHskOiBcInRleHRcIn1gKSB0byBhY2NlcHQgYSBtYXRjaFxuICogICAgIGFnYWluc3QgYW55IHByb3BlcnR5IG9mIHRoZSBvYmplY3Qgb3IgaXRzIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy4gVGhhdCdzIGVxdWl2YWxlbnQgdG8gdGhlXG4gKiAgICAgc2ltcGxlIHN1YnN0cmluZyBtYXRjaCB3aXRoIGEgYHN0cmluZ2AgYXMgZGVzY3JpYmVkIGFib3ZlLiBUaGUgc3BlY2lhbCBwcm9wZXJ0eSBuYW1lIGNhbiBiZVxuICogICAgIG92ZXJ3cml0dGVuLCB1c2luZyB0aGUgYGFueVByb3BlcnR5S2V5YCBwYXJhbWV0ZXIuXG4gKiAgICAgVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cbiAqICAgICBGb3IgZXhhbXBsZSBge25hbWU6IFwiIU1cIn1gIHByZWRpY2F0ZSB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBpdGVtcyB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYFxuICogICAgIG5vdCBjb250YWluaW5nIFwiTVwiLlxuICpcbiAqICAgICBOb3RlIHRoYXQgYSBuYW1lZCBwcm9wZXJ0eSB3aWxsIG1hdGNoIHByb3BlcnRpZXMgb24gdGhlIHNhbWUgbGV2ZWwgb25seSwgd2hpbGUgdGhlIHNwZWNpYWxcbiAqICAgICBgJGAgcHJvcGVydHkgd2lsbCBtYXRjaCBwcm9wZXJ0aWVzIG9uIHRoZSBzYW1lIGxldmVsIG9yIGRlZXBlci4gRS5nLiBhbiBhcnJheSBpdGVtIGxpa2VcbiAqICAgICBge25hbWU6IHtmaXJzdDogJ0pvaG4nLCBsYXN0OiAnRG9lJ319YCB3aWxsICoqbm90KiogYmUgbWF0Y2hlZCBieSBge25hbWU6ICdKb2huJ31gLCBidXRcbiAqICAgICAqKndpbGwqKiBiZSBtYXRjaGVkIGJ5IGB7JDogJ0pvaG4nfWAuXG4gKlxuICogICAtIGBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGFycmF5KWA6IEEgcHJlZGljYXRlIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHdyaXRlIGFyYml0cmFyeSBmaWx0ZXJzLlxuICogICAgIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXksIHdpdGggdGhlIGVsZW1lbnQsIGl0cyBpbmRleCwgYW5kXG4gKiAgICAgdGhlIGVudGlyZSBhcnJheSBpdHNlbGYgYXMgYXJndW1lbnRzLlxuICpcbiAqICAgICBUaGUgZmluYWwgcmVzdWx0IGlzIGFuIGFycmF5IG9mIHRob3NlIGVsZW1lbnRzIHRoYXQgdGhlIHByZWRpY2F0ZSByZXR1cm5lZCB0cnVlIGZvci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpfHRydWV8dW5kZWZpbmVkfSBjb21wYXJhdG9yIENvbXBhcmF0b3Igd2hpY2ggaXMgdXNlZCBpblxuICogICAgIGRldGVybWluaW5nIGlmIHRoZSBleHBlY3RlZCB2YWx1ZSAoZnJvbSB0aGUgZmlsdGVyIGV4cHJlc3Npb24pIGFuZCBhY3R1YWwgdmFsdWUgKGZyb21cbiAqICAgICB0aGUgb2JqZWN0IGluIHRoZSBhcnJheSkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtYXRjaC5cbiAqXG4gKiAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAtIGBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKWA6XG4gKiAgICAgVGhlIGZ1bmN0aW9uIHdpbGwgYmUgZ2l2ZW4gdGhlIG9iamVjdCB2YWx1ZSBhbmQgdGhlIHByZWRpY2F0ZSB2YWx1ZSB0byBjb21wYXJlIGFuZFxuICogICAgIHNob3VsZCByZXR1cm4gdHJ1ZSBpZiBib3RoIHZhbHVlcyBzaG91bGQgYmUgY29uc2lkZXJlZCBlcXVhbC5cbiAqXG4gKiAgIC0gYHRydWVgOiBBIHNob3J0aGFuZCBmb3IgYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGFjdHVhbCwgZXhwZWN0ZWQpfWAuXG4gKiAgICAgVGhpcyBpcyBlc3NlbnRpYWxseSBzdHJpY3QgY29tcGFyaXNvbiBvZiBleHBlY3RlZCBhbmQgYWN0dWFsLlxuICpcbiAqICAgLSBgZmFsc2V8dW5kZWZpbmVkYDogQSBzaG9ydCBoYW5kIGZvciBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgbG9vayBmb3IgYSBzdWJzdHJpbmcgbWF0Y2ggaW4gY2FzZVxuICogICAgIGluc2Vuc2l0aXZlIHdheS5cbiAqXG4gKiAgICAgUHJpbWl0aXZlIHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZ3MuIE9iamVjdHMgYXJlIG5vdCBjb21wYXJlZCBhZ2FpbnN0IHByaW1pdGl2ZXMsXG4gKiAgICAgdW5sZXNzIHRoZXkgaGF2ZSBhIGN1c3RvbSBgdG9TdHJpbmdgIG1ldGhvZCAoZS5nLiBgRGF0ZWAgb2JqZWN0cykuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBhbnlQcm9wZXJ0eUtleSBUaGUgc3BlY2lhbCBwcm9wZXJ0eSBuYW1lIHRoYXQgbWF0Y2hlcyBhZ2FpbnN0IGFueSBwcm9wZXJ0eS5cbiAqICAgICBCeSBkZWZhdWx0IGAkYC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1pbml0PVwiZnJpZW5kcyA9IFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTI3Nid9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic4MDAtQklHLU1BUlknfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZXR0ZScsIHBob25lOic1NTUtNTY3OCd9XVwiPjwvZGl2PlxuXG4gICAgICAgPGxhYmVsPlNlYXJjaDogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoVGV4dFwiPjwvbGFiZWw+XG4gICAgICAgPHRhYmxlIGlkPVwic2VhcmNoVGV4dFJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaFRleHRcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8aHI+XG4gICAgICAgPGxhYmVsPkFueTogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLiRcIj48L2xhYmVsPiA8YnI+XG4gICAgICAgPGxhYmVsPk5hbWUgb25seSA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2gubmFtZVwiPjwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5QaG9uZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5waG9uZVwiPjwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5FcXVhbGl0eSA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzdHJpY3RcIj48L2xhYmVsPjxicj5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hPYmpSZXN1bHRzXCI+XG4gICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5QaG9uZTwvdGg+PC90cj5cbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0XCI+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5uYW1lfX08L3RkPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoucGhvbmV9fTwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkge1xuICAgICAgICAgZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoa2V5ICsgJyBpbiBmcmllbmRzJykuY29sdW1uKGtleSArICcubmFtZScpKS50aGVuKGZ1bmN0aW9uKGFycikge1xuICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih3ZCwgaSkge1xuICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgfSk7XG4gICAgICAgfTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGFjcm9zcyBhbGwgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTtcbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJ20nKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpO1xuXG4gICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKb2huJywgJ0p1bGllJ10sICdmcmllbmQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGluIHNwZWNpZmljIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgcHJlZGljYXRlIG9iamVjdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaEFueSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC4kJykpO1xuICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hBbnkuc2VuZEtleXMoJ2knKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0p1bGllJywgJ0p1bGlldHRlJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIHVzZSBhIGVxdWFsIGNvbXBhcmlzb24gd2hlbiBjb21wYXJhdG9yIGlzIHRydWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hOYW1lID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLm5hbWUnKSk7XG4gICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpO1xuICAgICAgICAgc2VhcmNoTmFtZS5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoTmFtZS5zZW5kS2V5cygnSnVsaWUnKTtcbiAgICAgICAgIHN0cmljdC5jbGljaygpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKdWxpZSddLCAnZnJpZW5kT2JqJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5mdW5jdGlvbiBmaWx0ZXJGaWx0ZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXkpIHtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xuICAgICAgaWYgKGFycmF5ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCdmaWx0ZXInKSgnbm90YXJyYXknLCAnRXhwZWN0ZWQgYXJyYXkgYnV0IHJlY2VpdmVkOiB7MH0nLCBhcnJheSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYW55UHJvcGVydHlLZXkgPSBhbnlQcm9wZXJ0eUtleSB8fCAnJCc7XG4gICAgdmFyIGV4cHJlc3Npb25UeXBlID0gZ2V0VHlwZUZvckZpbHRlcihleHByZXNzaW9uKTtcbiAgICB2YXIgcHJlZGljYXRlRm47XG4gICAgdmFyIG1hdGNoQWdhaW5zdEFueVByb3A7XG5cbiAgICBzd2l0Y2ggKGV4cHJlc3Npb25UeXBlKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIHByZWRpY2F0ZUZuID0gZXhwcmVzc2lvbjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIG1hdGNoQWdhaW5zdEFueVByb3AgPSB0cnVlO1xuICAgICAgICAvL2pzaGludCAtVzA4NlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgLy9qc2hpbnQgK1cwODZcbiAgICAgICAgcHJlZGljYXRlRm4gPSBjcmVhdGVQcmVkaWNhdGVGbihleHByZXNzaW9uLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyYXksIHByZWRpY2F0ZUZuKTtcbiAgfTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgYGZpbHRlckZpbHRlcmBcbmZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUZuKGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKSB7XG4gIHZhciBzaG91bGRNYXRjaFByaW1pdGl2ZXMgPSBpc09iamVjdChleHByZXNzaW9uKSAmJiAoYW55UHJvcGVydHlLZXkgaW4gZXhwcmVzc2lvbik7XG4gIHZhciBwcmVkaWNhdGVGbjtcblxuICBpZiAoY29tcGFyYXRvciA9PT0gdHJ1ZSkge1xuICAgIGNvbXBhcmF0b3IgPSBlcXVhbHM7XG4gIH0gZWxzZSBpZiAoIWlzRnVuY3Rpb24oY29tcGFyYXRvcikpIHtcbiAgICBjb21wYXJhdG9yID0gZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKGFjdHVhbCkpIHtcbiAgICAgICAgLy8gTm8gc3Vic3RyaW5nIG1hdGNoaW5nIGFnYWluc3QgYHVuZGVmaW5lZGBcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKChhY3R1YWwgPT09IG51bGwpIHx8IChleHBlY3RlZCA9PT0gbnVsbCkpIHtcbiAgICAgICAgLy8gTm8gc3Vic3RyaW5nIG1hdGNoaW5nIGFnYWluc3QgYG51bGxgOyBvbmx5IG1hdGNoIGFnYWluc3QgYG51bGxgXG4gICAgICAgIHJldHVybiBhY3R1YWwgPT09IGV4cGVjdGVkO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KGV4cGVjdGVkKSB8fCAoaXNPYmplY3QoYWN0dWFsKSAmJiAhaGFzQ3VzdG9tVG9TdHJpbmcoYWN0dWFsKSkpIHtcbiAgICAgICAgLy8gU2hvdWxkIG5vdCBjb21wYXJlIHByaW1pdGl2ZXMgYWdhaW5zdCBvYmplY3RzLCB1bmxlc3MgdGhleSBoYXZlIGN1c3RvbSBgdG9TdHJpbmdgIG1ldGhvZFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGFjdHVhbCA9IGxvd2VyY2FzZSgnJyArIGFjdHVhbCk7XG4gICAgICBleHBlY3RlZCA9IGxvd2VyY2FzZSgnJyArIGV4cGVjdGVkKTtcbiAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgIT09IC0xO1xuICAgIH07XG4gIH1cblxuICBwcmVkaWNhdGVGbiA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZiAoc2hvdWxkTWF0Y2hQcmltaXRpdmVzICYmICFpc09iamVjdChpdGVtKSkge1xuICAgICAgcmV0dXJuIGRlZXBDb21wYXJlKGl0ZW0sIGV4cHJlc3Npb25bYW55UHJvcGVydHlLZXldLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICB9O1xuXG4gIHJldHVybiBwcmVkaWNhdGVGbjtcbn1cblxuZnVuY3Rpb24gZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3AsIGRvbnRNYXRjaFdob2xlT2JqZWN0KSB7XG4gIHZhciBhY3R1YWxUeXBlID0gZ2V0VHlwZUZvckZpbHRlcihhY3R1YWwpO1xuICB2YXIgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZUZvckZpbHRlcihleHBlY3RlZCk7XG5cbiAgaWYgKChleHBlY3RlZFR5cGUgPT09ICdzdHJpbmcnKSAmJiAoZXhwZWN0ZWQuY2hhckF0KDApID09PSAnIScpKSB7XG4gICAgcmV0dXJuICFkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLnN1YnN0cmluZygxKSwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoYWN0dWFsKSkge1xuICAgIC8vIEluIGNhc2UgYGFjdHVhbGAgaXMgYW4gYXJyYXksIGNvbnNpZGVyIGl0IGEgbWF0Y2hcbiAgICAvLyBpZiBBTlkgb2YgaXQncyBpdGVtcyBtYXRjaGVzIGBleHBlY3RlZGBcbiAgICByZXR1cm4gYWN0dWFsLnNvbWUoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIGRlZXBDb21wYXJlKGl0ZW0sIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gICAgfSk7XG4gIH1cblxuICBzd2l0Y2ggKGFjdHVhbFR5cGUpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIGtleTtcbiAgICAgIGlmIChtYXRjaEFnYWluc3RBbnlQcm9wKSB7XG4gICAgICAgIGZvciAoa2V5IGluIGFjdHVhbCkge1xuICAgICAgICAgIGlmICgoa2V5LmNoYXJBdCgwKSAhPT0gJyQnKSAmJiBkZWVwQ29tcGFyZShhY3R1YWxba2V5XSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCB0cnVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb250TWF0Y2hXaG9sZU9iamVjdCA/IGZhbHNlIDogZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKGtleSBpbiBleHBlY3RlZCkge1xuICAgICAgICAgIHZhciBleHBlY3RlZFZhbCA9IGV4cGVjdGVkW2tleV07XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRWYWwpIHx8IGlzVW5kZWZpbmVkKGV4cGVjdGVkVmFsKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG1hdGNoQW55UHJvcGVydHkgPSBrZXkgPT09IGFueVByb3BlcnR5S2V5O1xuICAgICAgICAgIHZhciBhY3R1YWxWYWwgPSBtYXRjaEFueVByb3BlcnR5ID8gYWN0dWFsIDogYWN0dWFsW2tleV07XG4gICAgICAgICAgaWYgKCFkZWVwQ29tcGFyZShhY3R1YWxWYWwsIGV4cGVjdGVkVmFsLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBbnlQcm9wZXJ0eSwgbWF0Y2hBbnlQcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XG4gIH1cbn1cblxuLy8gVXNlZCBmb3IgZWFzaWx5IGRpZmZlcmVudGlhdGluZyBiZXR3ZWVuIGBudWxsYCBhbmQgYWN0dWFsIGBvYmplY3RgXG5mdW5jdGlvbiBnZXRUeXBlRm9yRmlsdGVyKHZhbCkge1xuICByZXR1cm4gKHZhbCA9PT0gbnVsbCkgPyAnbnVsbCcgOiB0eXBlb2YgdmFsO1xufVxuXG52YXIgTUFYX0RJR0lUUyA9IDIyO1xudmFyIERFQ0lNQUxfU0VQID0gJy4nO1xudmFyIFpFUk9fQ0hBUiA9ICcwJztcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBjdXJyZW5jeVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgYSBjdXJyZW5jeSAoaWUgJDEsMjM0LjU2KS4gV2hlbiBubyBjdXJyZW5jeSBzeW1ib2wgaXMgcHJvdmlkZWQsIGRlZmF1bHRcbiAqIHN5bWJvbCBmb3IgY3VycmVudCBsb2NhbGUgaXMgdXNlZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IElucHV0IHRvIGZpbHRlci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc3ltYm9sIEN1cnJlbmN5IHN5bWJvbCBvciBpZGVudGlmaWVyIHRvIGJlIGRpc3BsYXllZC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgYW1vdW50IHRvLCBkZWZhdWx0cyB0byBkZWZhdWx0IG1heCBmcmFjdGlvbiBzaXplIGZvciBjdXJyZW50IGxvY2FsZVxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIG51bWJlci5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImN1cnJlbmN5RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFtb3VudCA9IDEyMzQuNTY7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiIGFyaWEtbGFiZWw9XCJhbW91bnRcIj4gPGJyPlxuICAgICAgICAgZGVmYXVsdCBjdXJyZW5jeSBzeW1ib2wgKCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWRlZmF1bHRcIj57e2Ftb3VudCB8IGN1cnJlbmN5fX08L3NwYW4+PGJyPlxuICAgICAgICAgY3VzdG9tIGN1cnJlbmN5IGlkZW50aWZpZXIgKFVTRCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWN1c3RvbVwiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCJ9fTwvc3Bhbj5cbiAgICAgICAgIG5vIGZyYWN0aW9ucyAoMCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktbm8tZnJhY3Rpb25zXCI+e3thbW91bnQgfCBjdXJyZW5jeTpcIlVTRCRcIjowfX08L3NwYW4+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgaW5pdCB3aXRoIDEyMzQuNTYnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnJDEsMjM0LjU2Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktY3VzdG9tJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM0LjU2Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM1Jyk7XG4gICAgICAgfSk7XG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdzYWZhcmknKSB7XG4gICAgICAgICAgIC8vIFNhZmFyaSBkb2VzIG5vdCB1bmRlcnN0YW5kIHRoZSBtaW51cyBrZXkuIFNlZVxuICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy80ODFcbiAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgfVxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuc2VuZEtleXMoJy0xMjM0Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0kMSwyMzQuMDAnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCctVVNEJDEsMjM0LjAwJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnLVVTRCQxLDIzNCcpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmN1cnJlbmN5RmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIGN1cnJlbmN5RmlsdGVyKCRsb2NhbGUpIHtcbiAgdmFyIGZvcm1hdHMgPSAkbG9jYWxlLk5VTUJFUl9GT1JNQVRTO1xuICByZXR1cm4gZnVuY3Rpb24oYW1vdW50LCBjdXJyZW5jeVN5bWJvbCwgZnJhY3Rpb25TaXplKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKGN1cnJlbmN5U3ltYm9sKSkge1xuICAgICAgY3VycmVuY3lTeW1ib2wgPSBmb3JtYXRzLkNVUlJFTkNZX1NZTTtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkge1xuICAgICAgZnJhY3Rpb25TaXplID0gZm9ybWF0cy5QQVRURVJOU1sxXS5tYXhGcmFjO1xuICAgIH1cblxuICAgIC8vIGlmIG51bGwgb3IgdW5kZWZpbmVkIHBhc3MgaXQgdGhyb3VnaFxuICAgIHJldHVybiAoYW1vdW50ID09IG51bGwpXG4gICAgICAgID8gYW1vdW50XG4gICAgICAgIDogZm9ybWF0TnVtYmVyKGFtb3VudCwgZm9ybWF0cy5QQVRURVJOU1sxXSwgZm9ybWF0cy5HUk9VUF9TRVAsIGZvcm1hdHMuREVDSU1BTF9TRVAsIGZyYWN0aW9uU2l6ZSkuXG4gICAgICAgICAgICByZXBsYWNlKC9cXHUwMEE0L2csIGN1cnJlbmN5U3ltYm9sKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBudW1iZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGb3JtYXRzIGEgbnVtYmVyIGFzIHRleHQuXG4gKlxuICogSWYgdGhlIGlucHV0IGlzIG51bGwgb3IgdW5kZWZpbmVkLCBpdCB3aWxsIGp1c3QgYmUgcmV0dXJuZWQuXG4gKiBJZiB0aGUgaW5wdXQgaXMgaW5maW5pdGUgKEluZmluaXR5IG9yIC1JbmZpbml0eSksIHRoZSBJbmZpbml0eSBzeW1ib2wgJ+KInicgb3IgJy3iiJ4nIGlzIHJldHVybmVkLCByZXNwZWN0aXZlbHkuXG4gKiBJZiB0aGUgaW5wdXQgaXMgbm90IGEgbnVtYmVyIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBudW1iZXIgTnVtYmVyIHRvIGZvcm1hdC5cbiAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgbnVtYmVyIHRvLlxuICogSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGUgZnJhY3Rpb24gc2l6ZSBpcyBjb21wdXRlZCBmcm9tIHRoZSBjdXJyZW50IGxvY2FsZSdzIG51bWJlclxuICogZm9ybWF0dGluZyBwYXR0ZXJuLiBJbiB0aGUgY2FzZSBvZiB0aGUgZGVmYXVsdCBsb2NhbGUsIGl0IHdpbGwgYmUgMy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IE51bWJlciByb3VuZGVkIHRvIGBmcmFjdGlvblNpemVgIGFwcHJvcHJpYXRlbHkgZm9ybWF0dGVkIGJhc2VkIG9uIHRoZSBjdXJyZW50XG4gKiAgICAgICAgICAgICAgICAgICBsb2NhbGUgKGUuZy4sIGluIHRoZSBlbl9VUyBsb2NhbGUgaXQgd2lsbCBoYXZlIFwiLlwiIGFzIHRoZSBkZWNpbWFsIHNlcGFyYXRvciBhbmRcbiAqICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgXCIsXCIgZ3JvdXAgc2VwYXJhdG9ycyBhZnRlciBlYWNoIHRoaXJkIGRpZ2l0KS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibnVtYmVyRmlsdGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRmlsdGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS52YWwgPSAxMjM0LjU2Nzg5O1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxsYWJlbD5FbnRlciBudW1iZXI6IDxpbnB1dCBuZy1tb2RlbD0ndmFsJz48L2xhYmVsPjxicj5cbiAgICAgICAgIERlZmF1bHQgZm9ybWF0dGluZzogPHNwYW4gaWQ9J251bWJlci1kZWZhdWx0Jz57e3ZhbCB8IG51bWJlcn19PC9zcGFuPjxicj5cbiAgICAgICAgIE5vIGZyYWN0aW9uczogPHNwYW4+e3t2YWwgfCBudW1iZXI6MH19PC9zcGFuPjxicj5cbiAgICAgICAgIE5lZ2F0aXZlIG51bWJlcjogPHNwYW4+e3stdmFsIHwgbnVtYmVyOjR9fTwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgbnVtYmVycycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ251bWJlci1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnMSwyMzQuNTY4Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd2YWwgfCBudW1iZXI6MCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM1Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMSwyMzQuNTY3OScpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbCcpKS5jbGVhcigpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLnNlbmRLZXlzKCczMzc0LjMzMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ251bWJlci1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnMywzNzQuMzMzJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd2YWwgfCBudW1iZXI6MCcpKS5nZXRUZXh0KCkpLnRvQmUoJzMsMzc0Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMywzNzQuMzMzMCcpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xubnVtYmVyRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKSB7XG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcbiAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgZnJhY3Rpb25TaXplKSB7XG5cbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcbiAgICByZXR1cm4gKG51bWJlciA9PSBudWxsKVxuICAgICAgICA/IG51bWJlclxuICAgICAgICA6IGZvcm1hdE51bWJlcihudW1iZXIsIGZvcm1hdHMuUEFUVEVSTlNbMF0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLFxuICAgICAgICAgICAgICAgICAgICAgICBmcmFjdGlvblNpemUpO1xuICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGEgbnVtYmVyIChhcyBhIHN0cmluZykgaW50byB0aHJlZSBjb21wb25lbnRzIHRoYXQgY2FuIGJlIHVzZWRcbiAqIGZvciBmb3JtYXR0aW5nIHRoZSBudW1iZXIuXG4gKlxuICogKFNpZ25pZmljYW50IGJpdHMgb2YgdGhpcyBwYXJzZSBhbGdvcml0aG0gY2FtZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZy5qcy8pXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBudW1TdHIgVGhlIG51bWJlciB0byBwYXJzZVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgZGVzY3JpYmluZyB0aGlzIG51bWJlciwgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XG4gKiAgLSBkIDogYW4gYXJyYXkgb2YgZGlnaXRzIGNvbnRhaW5pbmcgbGVhZGluZyB6ZXJvcyBhcyBuZWNlc3NhcnlcbiAqICAtIGkgOiB0aGUgbnVtYmVyIG9mIHRoZSBkaWdpdHMgaW4gYGRgIHRoYXQgYXJlIHRvIHRoZSBsZWZ0IG9mIHRoZSBkZWNpbWFsIHBvaW50XG4gKiAgLSBlIDogdGhlIGV4cG9uZW50IGZvciBudW1iZXJzIHRoYXQgd291bGQgbmVlZCBtb3JlIHRoYW4gYE1BWF9ESUdJVFNgIGRpZ2l0cyBpbiBgZGBcbiAqXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKG51bVN0cikge1xuICB2YXIgZXhwb25lbnQgPSAwLCBkaWdpdHMsIG51bWJlck9mSW50ZWdlckRpZ2l0cztcbiAgdmFyIGksIGosIHplcm9zO1xuXG4gIC8vIERlY2ltYWwgcG9pbnQ/XG4gIGlmICgobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gbnVtU3RyLmluZGV4T2YoREVDSU1BTF9TRVApKSA+IC0xKSB7XG4gICAgbnVtU3RyID0gbnVtU3RyLnJlcGxhY2UoREVDSU1BTF9TRVAsICcnKTtcbiAgfVxuXG4gIC8vIEV4cG9uZW50aWFsIGZvcm0/XG4gIGlmICgoaSA9IG51bVN0ci5zZWFyY2goL2UvaSkpID4gMCkge1xuICAgIC8vIFdvcmsgb3V0IHRoZSBleHBvbmVudC5cbiAgICBpZiAobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIDwgMCkgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gaTtcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgKz0gK251bVN0ci5zbGljZShpICsgMSk7XG4gICAgbnVtU3RyID0gbnVtU3RyLnN1YnN0cmluZygwLCBpKTtcbiAgfSBlbHNlIGlmIChudW1iZXJPZkludGVnZXJEaWdpdHMgPCAwKSB7XG4gICAgLy8gVGhlcmUgd2FzIG5vIGRlY2ltYWwgcG9pbnQgb3IgZXhwb25lbnQgc28gaXQgaXMgYW4gaW50ZWdlci5cbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSBudW1TdHIubGVuZ3RoO1xuICB9XG5cbiAgLy8gQ291bnQgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zLlxuICBmb3IgKGkgPSAwOyBudW1TdHIuY2hhckF0KGkpID09IFpFUk9fQ0hBUjsgaSsrKSB7LyoganNoaW50IG5vZW1wdHk6IGZhbHNlICovfVxuXG4gIGlmIChpID09ICh6ZXJvcyA9IG51bVN0ci5sZW5ndGgpKSB7XG4gICAgLy8gVGhlIGRpZ2l0cyBhcmUgYWxsIHplcm8uXG4gICAgZGlnaXRzID0gWzBdO1xuICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IDE7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvc1xuICAgIHplcm9zLS07XG4gICAgd2hpbGUgKG51bVN0ci5jaGFyQXQoemVyb3MpID09IFpFUk9fQ0hBUikgemVyb3MtLTtcblxuICAgIC8vIFRyYWlsaW5nIHplcm9zIGFyZSBpbnNpZ25pZmljYW50IHNvIGlnbm9yZSB0aGVtXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIC09IGk7XG4gICAgZGlnaXRzID0gW107XG4gICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYXJyYXkgb2YgZGlnaXRzIHdpdGhvdXQgbGVhZGluZy90cmFpbGluZyB6ZXJvcy5cbiAgICBmb3IgKGogPSAwOyBpIDw9IHplcm9zOyBpKyssIGorKykge1xuICAgICAgZGlnaXRzW2pdID0gK251bVN0ci5jaGFyQXQoaSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlIG51bWJlciBvdmVyZmxvd3MgdGhlIG1heGltdW0gYWxsb3dlZCBkaWdpdHMgdGhlbiB1c2UgYW4gZXhwb25lbnQuXG4gIGlmIChudW1iZXJPZkludGVnZXJEaWdpdHMgPiBNQVhfRElHSVRTKSB7XG4gICAgZGlnaXRzID0gZGlnaXRzLnNwbGljZSgwLCBNQVhfRElHSVRTIC0gMSk7XG4gICAgZXhwb25lbnQgPSBudW1iZXJPZkludGVnZXJEaWdpdHMgLSAxO1xuICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IDE7XG4gIH1cblxuICByZXR1cm4geyBkOiBkaWdpdHMsIGU6IGV4cG9uZW50LCBpOiBudW1iZXJPZkludGVnZXJEaWdpdHMgfTtcbn1cblxuLyoqXG4gKiBSb3VuZCB0aGUgcGFyc2VkIG51bWJlciB0byB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xuICogVGhpcyBmdW5jdGlvbiBjaGFuZ2VkIHRoZSBwYXJzZWROdW1iZXIgaW4tcGxhY2VcbiAqL1xuZnVuY3Rpb24gcm91bmROdW1iZXIocGFyc2VkTnVtYmVyLCBmcmFjdGlvblNpemUsIG1pbkZyYWMsIG1heEZyYWMpIHtcbiAgICB2YXIgZGlnaXRzID0gcGFyc2VkTnVtYmVyLmQ7XG4gICAgdmFyIGZyYWN0aW9uTGVuID0gZGlnaXRzLmxlbmd0aCAtIHBhcnNlZE51bWJlci5pO1xuXG4gICAgLy8gZGV0ZXJtaW5lIGZyYWN0aW9uU2l6ZSBpZiBpdCBpcyBub3Qgc3BlY2lmaWVkOyBgK2ZyYWN0aW9uU2l6ZWAgY29udmVydHMgaXQgdG8gYSBudW1iZXJcbiAgICBmcmFjdGlvblNpemUgPSAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkgPyBNYXRoLm1pbihNYXRoLm1heChtaW5GcmFjLCBmcmFjdGlvbkxlbiksIG1heEZyYWMpIDogK2ZyYWN0aW9uU2l6ZTtcblxuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZGlnaXQgdG8gd2hlcmUgcm91bmRpbmcgaXMgdG8gb2NjdXJcbiAgICB2YXIgcm91bmRBdCA9IGZyYWN0aW9uU2l6ZSArIHBhcnNlZE51bWJlci5pO1xuICAgIHZhciBkaWdpdCA9IGRpZ2l0c1tyb3VuZEF0XTtcblxuICAgIGlmIChyb3VuZEF0ID4gMCkge1xuICAgICAgLy8gRHJvcCBmcmFjdGlvbmFsIGRpZ2l0cyBiZXlvbmQgYHJvdW5kQXRgXG4gICAgICBkaWdpdHMuc3BsaWNlKE1hdGgubWF4KHBhcnNlZE51bWJlci5pLCByb3VuZEF0KSk7XG5cbiAgICAgIC8vIFNldCBub24tZnJhY3Rpb25hbCBkaWdpdHMgYmV5b25kIGByb3VuZEF0YCB0byAwXG4gICAgICBmb3IgKHZhciBqID0gcm91bmRBdDsgaiA8IGRpZ2l0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkaWdpdHNbal0gPSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSByb3VuZGVkIHRvIHplcm8gc28gcmVzZXQgdGhlIHBhcnNlZE51bWJlclxuICAgICAgZnJhY3Rpb25MZW4gPSBNYXRoLm1heCgwLCBmcmFjdGlvbkxlbik7XG4gICAgICBwYXJzZWROdW1iZXIuaSA9IDE7XG4gICAgICBkaWdpdHMubGVuZ3RoID0gTWF0aC5tYXgoMSwgcm91bmRBdCA9IGZyYWN0aW9uU2l6ZSArIDEpO1xuICAgICAgZGlnaXRzWzBdID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcm91bmRBdDsgaSsrKSBkaWdpdHNbaV0gPSAwO1xuICAgIH1cblxuICAgIGlmIChkaWdpdCA+PSA1KSB7XG4gICAgICBpZiAocm91bmRBdCAtIDEgPCAwKSB7XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrID4gcm91bmRBdDsgay0tKSB7XG4gICAgICAgICAgZGlnaXRzLnVuc2hpZnQoMCk7XG4gICAgICAgICAgcGFyc2VkTnVtYmVyLmkrKztcbiAgICAgICAgfVxuICAgICAgICBkaWdpdHMudW5zaGlmdCgxKTtcbiAgICAgICAgcGFyc2VkTnVtYmVyLmkrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpZ2l0c1tyb3VuZEF0IC0gMV0rKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQYWQgb3V0IHdpdGggemVyb3MgdG8gZ2V0IHRoZSByZXF1aXJlZCBmcmFjdGlvbiBsZW5ndGhcbiAgICBmb3IgKDsgZnJhY3Rpb25MZW4gPCBNYXRoLm1heCgwLCBmcmFjdGlvblNpemUpOyBmcmFjdGlvbkxlbisrKSBkaWdpdHMucHVzaCgwKTtcblxuXG4gICAgLy8gRG8gYW55IGNhcnJ5aW5nLCBlLmcuIGEgZGlnaXQgd2FzIHJvdW5kZWQgdXAgdG8gMTBcbiAgICB2YXIgY2FycnkgPSBkaWdpdHMucmVkdWNlUmlnaHQoZnVuY3Rpb24oY2FycnksIGQsIGksIGRpZ2l0cykge1xuICAgICAgZCA9IGQgKyBjYXJyeTtcbiAgICAgIGRpZ2l0c1tpXSA9IGQgJSAxMDtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGQgLyAxMCk7XG4gICAgfSwgMCk7XG4gICAgaWYgKGNhcnJ5KSB7XG4gICAgICBkaWdpdHMudW5zaGlmdChjYXJyeSk7XG4gICAgICBwYXJzZWROdW1iZXIuaSsrO1xuICAgIH1cbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgaW50byBhIHN0cmluZ1xuICogQHBhcmFtICB7bnVtYmVyfSBudW1iZXIgICAgICAgVGhlIG51bWJlciB0byBmb3JtYXRcbiAqIEBwYXJhbSAge3tcbiAqICAgICAgICAgICBtaW5GcmFjLCAvLyB0aGUgbWluaW11bSBudW1iZXIgb2YgZGlnaXRzIHJlcXVpcmVkIGluIHRoZSBmcmFjdGlvbiBwYXJ0IG9mIHRoZSBudW1iZXJcbiAqICAgICAgICAgICBtYXhGcmFjLCAvLyB0aGUgbWF4aW11bSBudW1iZXIgb2YgZGlnaXRzIHJlcXVpcmVkIGluIHRoZSBmcmFjdGlvbiBwYXJ0IG9mIHRoZSBudW1iZXJcbiAqICAgICAgICAgICBnU2l6ZSwgICAvLyBudW1iZXIgb2YgZGlnaXRzIGluIGVhY2ggZ3JvdXAgb2Ygc2VwYXJhdGVkIGRpZ2l0c1xuICogICAgICAgICAgIGxnU2l6ZSwgIC8vIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGxhc3QgZ3JvdXAgb2YgZGlnaXRzIGJlZm9yZSB0aGUgZGVjaW1hbCBzZXBhcmF0b3JcbiAqICAgICAgICAgICBuZWdQcmUsICAvLyB0aGUgc3RyaW5nIHRvIGdvIGluIGZyb250IG9mIGEgbmVnYXRpdmUgbnVtYmVyIChlLmcuIGAtYCBvciBgKGApKVxuICogICAgICAgICAgIHBvc1ByZSwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gaW4gZnJvbnQgb2YgYSBwb3NpdGl2ZSBudW1iZXJcbiAqICAgICAgICAgICBuZWdTdWYsICAvLyB0aGUgc3RyaW5nIHRvIGdvIGFmdGVyIGEgbmVnYXRpdmUgbnVtYmVyIChlLmcuIGApYClcbiAqICAgICAgICAgICBwb3NTdWYgICAvLyB0aGUgc3RyaW5nIHRvIGdvIGFmdGVyIGEgcG9zaXRpdmUgbnVtYmVyXG4gKiAgICAgICAgIH19IHBhdHRlcm5cbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBTZXAgICAgIFRoZSBzdHJpbmcgdG8gc2VwYXJhdGUgZ3JvdXBzIG9mIG51bWJlciAoZS5nLiBgLGApXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGRlY2ltYWxTZXAgICBUaGUgc3RyaW5nIHRvIGFjdCBhcyB0aGUgZGVjaW1hbCBzZXBhcmF0b3IgKGUuZy4gYC5gKVxuICogQHBhcmFtICB7W3R5cGVdfSBmcmFjdGlvblNpemUgVGhlIHNpemUgb2YgdGhlIGZyYWN0aW9uYWwgcGFydCBvZiB0aGUgbnVtYmVyXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICAgICBUaGUgbnVtYmVyIGZvcm1hdHRlZCBhcyBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLCBwYXR0ZXJuLCBncm91cFNlcCwgZGVjaW1hbFNlcCwgZnJhY3Rpb25TaXplKSB7XG5cbiAgaWYgKCEoaXNTdHJpbmcobnVtYmVyKSB8fCBpc051bWJlcihudW1iZXIpKSB8fCBpc05hTihudW1iZXIpKSByZXR1cm4gJyc7XG5cbiAgdmFyIGlzSW5maW5pdHkgPSAhaXNGaW5pdGUobnVtYmVyKTtcbiAgdmFyIGlzWmVybyA9IGZhbHNlO1xuICB2YXIgbnVtU3RyID0gTWF0aC5hYnMobnVtYmVyKSArICcnLFxuICAgICAgZm9ybWF0dGVkVGV4dCA9ICcnLFxuICAgICAgcGFyc2VkTnVtYmVyO1xuXG4gIGlmIChpc0luZmluaXR5KSB7XG4gICAgZm9ybWF0dGVkVGV4dCA9ICdcXHUyMjFlJztcbiAgfSBlbHNlIHtcbiAgICBwYXJzZWROdW1iZXIgPSBwYXJzZShudW1TdHIpO1xuXG4gICAgcm91bmROdW1iZXIocGFyc2VkTnVtYmVyLCBmcmFjdGlvblNpemUsIHBhdHRlcm4ubWluRnJhYywgcGF0dGVybi5tYXhGcmFjKTtcblxuICAgIHZhciBkaWdpdHMgPSBwYXJzZWROdW1iZXIuZDtcbiAgICB2YXIgaW50ZWdlckxlbiA9IHBhcnNlZE51bWJlci5pO1xuICAgIHZhciBleHBvbmVudCA9IHBhcnNlZE51bWJlci5lO1xuICAgIHZhciBkZWNpbWFscyA9IFtdO1xuICAgIGlzWmVybyA9IGRpZ2l0cy5yZWR1Y2UoZnVuY3Rpb24oaXNaZXJvLCBkKSB7IHJldHVybiBpc1plcm8gJiYgIWQ7IH0sIHRydWUpO1xuXG4gICAgLy8gcGFkIHplcm9zIGZvciBzbWFsbCBudW1iZXJzXG4gICAgd2hpbGUgKGludGVnZXJMZW4gPCAwKSB7XG4gICAgICBkaWdpdHMudW5zaGlmdCgwKTtcbiAgICAgIGludGVnZXJMZW4rKztcbiAgICB9XG5cbiAgICAvLyBleHRyYWN0IGRlY2ltYWxzIGRpZ2l0c1xuICAgIGlmIChpbnRlZ2VyTGVuID4gMCkge1xuICAgICAgZGVjaW1hbHMgPSBkaWdpdHMuc3BsaWNlKGludGVnZXJMZW4sIGRpZ2l0cy5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWNpbWFscyA9IGRpZ2l0cztcbiAgICAgIGRpZ2l0cyA9IFswXTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgdGhlIGludGVnZXIgZGlnaXRzIHdpdGggZ3JvdXBpbmcgc2VwYXJhdG9yc1xuICAgIHZhciBncm91cHMgPSBbXTtcbiAgICBpZiAoZGlnaXRzLmxlbmd0aCA+PSBwYXR0ZXJuLmxnU2l6ZSkge1xuICAgICAgZ3JvdXBzLnVuc2hpZnQoZGlnaXRzLnNwbGljZSgtcGF0dGVybi5sZ1NpemUsIGRpZ2l0cy5sZW5ndGgpLmpvaW4oJycpKTtcbiAgICB9XG4gICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPiBwYXR0ZXJuLmdTaXplKSB7XG4gICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuc3BsaWNlKC1wYXR0ZXJuLmdTaXplLCBkaWdpdHMubGVuZ3RoKS5qb2luKCcnKSk7XG4gICAgfVxuICAgIGlmIChkaWdpdHMubGVuZ3RoKSB7XG4gICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuam9pbignJykpO1xuICAgIH1cbiAgICBmb3JtYXR0ZWRUZXh0ID0gZ3JvdXBzLmpvaW4oZ3JvdXBTZXApO1xuXG4gICAgLy8gYXBwZW5kIHRoZSBkZWNpbWFsIGRpZ2l0c1xuICAgIGlmIChkZWNpbWFscy5sZW5ndGgpIHtcbiAgICAgIGZvcm1hdHRlZFRleHQgKz0gZGVjaW1hbFNlcCArIGRlY2ltYWxzLmpvaW4oJycpO1xuICAgIH1cblxuICAgIGlmIChleHBvbmVudCkge1xuICAgICAgZm9ybWF0dGVkVGV4dCArPSAnZSsnICsgZXhwb25lbnQ7XG4gICAgfVxuICB9XG4gIGlmIChudW1iZXIgPCAwICYmICFpc1plcm8pIHtcbiAgICByZXR1cm4gcGF0dGVybi5uZWdQcmUgKyBmb3JtYXR0ZWRUZXh0ICsgcGF0dGVybi5uZWdTdWY7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhdHRlcm4ucG9zUHJlICsgZm9ybWF0dGVkVGV4dCArIHBhdHRlcm4ucG9zU3VmO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhZE51bWJlcihudW0sIGRpZ2l0cywgdHJpbSwgbmVnV3JhcCkge1xuICB2YXIgbmVnID0gJyc7XG4gIGlmIChudW0gPCAwIHx8IChuZWdXcmFwICYmIG51bSA8PSAwKSkge1xuICAgIGlmIChuZWdXcmFwKSB7XG4gICAgICBudW0gPSAtbnVtICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbnVtID0gLW51bTtcbiAgICAgIG5lZyA9ICctJztcbiAgICB9XG4gIH1cbiAgbnVtID0gJycgKyBudW07XG4gIHdoaWxlIChudW0ubGVuZ3RoIDwgZGlnaXRzKSBudW0gPSBaRVJPX0NIQVIgKyBudW07XG4gIGlmICh0cmltKSB7XG4gICAgbnVtID0gbnVtLnN1YnN0cihudW0ubGVuZ3RoIC0gZGlnaXRzKTtcbiAgfVxuICByZXR1cm4gbmVnICsgbnVtO1xufVxuXG5cbmZ1bmN0aW9uIGRhdGVHZXR0ZXIobmFtZSwgc2l6ZSwgb2Zmc2V0LCB0cmltLCBuZWdXcmFwKSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpO1xuICAgIGlmIChvZmZzZXQgPiAwIHx8IHZhbHVlID4gLW9mZnNldCkge1xuICAgICAgdmFsdWUgKz0gb2Zmc2V0O1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IDAgJiYgb2Zmc2V0ID09IC0xMikgdmFsdWUgPSAxMjtcbiAgICByZXR1cm4gcGFkTnVtYmVyKHZhbHVlLCBzaXplLCB0cmltLCBuZWdXcmFwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0sIHN0YW5kQWxvbmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcbiAgICB2YXIgcHJvcFByZWZpeCA9IChzdGFuZEFsb25lID8gJ1NUQU5EQUxPTkUnIDogJycpICsgKHNob3J0Rm9ybSA/ICdTSE9SVCcgOiAnJyk7XG4gICAgdmFyIGdldCA9IHVwcGVyY2FzZShwcm9wUHJlZml4ICsgbmFtZSk7XG5cbiAgICByZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSwgZm9ybWF0cywgb2Zmc2V0KSB7XG4gIHZhciB6b25lID0gLTEgKiBvZmZzZXQ7XG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyBcIitcIiA6IFwiXCI7XG5cbiAgcGFkZGVkWm9uZSArPSBwYWROdW1iZXIoTWF0aFt6b25lID4gMCA/ICdmbG9vcicgOiAnY2VpbCddKHpvbmUgLyA2MCksIDIpICtcbiAgICAgICAgICAgICAgICBwYWROdW1iZXIoTWF0aC5hYnMoem9uZSAlIDYwKSwgMik7XG5cbiAgcmV0dXJuIHBhZGRlZFpvbmU7XG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhcikge1xuICAgIC8vIDAgPSBpbmRleCBvZiBKYW51YXJ5XG4gICAgdmFyIGRheU9mV2Vla09uRmlyc3QgPSAobmV3IERhdGUoeWVhciwgMCwgMSkpLmdldERheSgpO1xuICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheSAoKzEgdG8gYWNjb3VudCBmb3IgMXN0ID0gNSlcbiAgICAvLyAxMSA9IGluZGV4IG9mICpuZXh0KiBUaHVyc2RheSAoKzEgYWNjb3VudCBmb3IgMXN0ID0gMTIpXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsICgoZGF5T2ZXZWVrT25GaXJzdCA8PSA0KSA/IDUgOiAxMikgLSBkYXlPZldlZWtPbkZpcnN0KTtcbn1cblxuZnVuY3Rpb24gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRldGltZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLCBkYXRldGltZS5nZXRNb250aCgpLFxuICAgICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5XG4gICAgICBkYXRldGltZS5nZXREYXRlKCkgKyAoNCAtIGRhdGV0aW1lLmdldERheSgpKSk7XG59XG5cbmZ1bmN0aW9uIHdlZWtHZXR0ZXIoc2l6ZSkge1xuICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpLFxuICAgICAgICAgdGhpc1RodXJzID0gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRlKTtcblxuICAgICAgdmFyIGRpZmYgPSArdGhpc1RodXJzIC0gK2ZpcnN0VGh1cnMsXG4gICAgICAgICByZXN1bHQgPSAxICsgTWF0aC5yb3VuZChkaWZmIC8gNi4wNDhlOCk7IC8vIDYuMDQ4ZTggbXMgcGVyIHdlZWtcblxuICAgICAgcmV0dXJuIHBhZE51bWJlcihyZXN1bHQsIHNpemUpO1xuICAgfTtcbn1cblxuZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCkgPCAxMiA/IGZvcm1hdHMuQU1QTVNbMF0gOiBmb3JtYXRzLkFNUE1TWzFdO1xufVxuXG5mdW5jdGlvbiBlcmFHZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xuICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDAgPyBmb3JtYXRzLkVSQVNbMF0gOiBmb3JtYXRzLkVSQVNbMV07XG59XG5cbmZ1bmN0aW9uIGxvbmdFcmFHZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xuICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDAgPyBmb3JtYXRzLkVSQU5BTUVTWzBdIDogZm9ybWF0cy5FUkFOQU1FU1sxXTtcbn1cblxudmFyIERBVEVfRk9STUFUUyA9IHtcbiAgeXl5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCA0LCAwLCBmYWxzZSwgdHJ1ZSksXG4gICAgeXk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgMiwgMCwgdHJ1ZSwgdHJ1ZSksXG4gICAgIHk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgMSwgMCwgZmFsc2UsIHRydWUpLFxuICBNTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcpLFxuICAgTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIHRydWUpLFxuICAgIE1NOiBkYXRlR2V0dGVyKCdNb250aCcsIDIsIDEpLFxuICAgICBNOiBkYXRlR2V0dGVyKCdNb250aCcsIDEsIDEpLFxuICBMTExMOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIGZhbHNlLCB0cnVlKSxcbiAgICBkZDogZGF0ZUdldHRlcignRGF0ZScsIDIpLFxuICAgICBkOiBkYXRlR2V0dGVyKCdEYXRlJywgMSksXG4gICAgSEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiksXG4gICAgIEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMSksXG4gICAgaGg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiwgLTEyKSxcbiAgICAgaDogZGF0ZUdldHRlcignSG91cnMnLCAxLCAtMTIpLFxuICAgIG1tOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMiksXG4gICAgIG06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAxKSxcbiAgICBzczogZGF0ZUdldHRlcignU2Vjb25kcycsIDIpLFxuICAgICBzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMSksXG4gICAgIC8vIHdoaWxlIElTTyA4NjAxIHJlcXVpcmVzIGZyYWN0aW9ucyB0byBiZSBwcmVmaXhlZCB3aXRoIGAuYCBvciBgLGBcbiAgICAgLy8gd2UgY2FuIGJlIGp1c3Qgc2FmZWx5IHJlbHkgb24gdXNpbmcgYHNzc2Agc2luY2Ugd2UgY3VycmVudGx5IGRvbid0IHN1cHBvcnQgc2luZ2xlIG9yIHR3byBkaWdpdCBmcmFjdGlvbnNcbiAgIHNzczogZGF0ZUdldHRlcignTWlsbGlzZWNvbmRzJywgMyksXG4gIEVFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScpLFxuICAgRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknLCB0cnVlKSxcbiAgICAgYTogYW1wbUdldHRlcixcbiAgICAgWjogdGltZVpvbmVHZXR0ZXIsXG4gICAgd3c6IHdlZWtHZXR0ZXIoMiksXG4gICAgIHc6IHdlZWtHZXR0ZXIoMSksXG4gICAgIEc6IGVyYUdldHRlcixcbiAgICAgR0c6IGVyYUdldHRlcixcbiAgICAgR0dHOiBlcmFHZXR0ZXIsXG4gICAgIEdHR0c6IGxvbmdFcmFHZXR0ZXJcbn07XG5cbnZhciBEQVRFX0ZPUk1BVFNfU1BMSVQgPSAvKCg/OlteeU1MZEhobXNhWkV3RyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfEwrfGQrfEgrfGgrfG0rfHMrfGF8WnxHK3x3KykpKC4qKS8sXG4gICAgTlVNQkVSX1NUUklORyA9IC9eXFwtP1xcZCskLztcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBkYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBGb3JtYXRzIGBkYXRlYCB0byBhIHN0cmluZyBiYXNlZCBvbiB0aGUgcmVxdWVzdGVkIGBmb3JtYXRgLlxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuICpcbiAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxuICogICAqIGAneXknYDogMiBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBwYWRkZWQgKDAwLTk5KS4gKGUuZy4gQUQgMjAwMSA9PiAwMSwgQUQgMjAxMCA9PiAxMClcbiAqICAgKiBgJ3knYDogMSBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBlLmcuIChBRCAxID0+IDEsIEFEIDE5OSA9PiAxOTkpXG4gKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXG4gKiAgICogYCdNTU0nYDogTW9udGggaW4geWVhciAoSmFuLURlYylcbiAqICAgKiBgJ01NJ2A6IE1vbnRoIGluIHllYXIsIHBhZGRlZCAoMDEtMTIpXG4gKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXG4gKiAgICogYCdMTExMJ2A6IFN0YW5kLWFsb25lIG1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXG4gKiAgICogYCdkZCdgOiBEYXkgaW4gbW9udGgsIHBhZGRlZCAoMDEtMzEpXG4gKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcbiAqICAgKiBgJ0VFRUUnYDogRGF5IGluIFdlZWssKFN1bmRheS1TYXR1cmRheSlcbiAqICAgKiBgJ0VFRSdgOiBEYXkgaW4gV2VlaywgKFN1bi1TYXQpXG4gKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcbiAqICAgKiBgJ0gnYDogSG91ciBpbiBkYXkgKDAtMjMpXG4gKiAgICogYCdoaCdgOiBIb3VyIGluIEFNL1BNLCBwYWRkZWQgKDAxLTEyKVxuICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcbiAqICAgKiBgJ21tJ2A6IE1pbnV0ZSBpbiBob3VyLCBwYWRkZWQgKDAwLTU5KVxuICogICAqIGAnbSdgOiBNaW51dGUgaW4gaG91ciAoMC01OSlcbiAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXG4gKiAgICogYCdzJ2A6IFNlY29uZCBpbiBtaW51dGUgKDAtNTkpXG4gKiAgICogYCdzc3MnYDogTWlsbGlzZWNvbmQgaW4gc2Vjb25kLCBwYWRkZWQgKDAwMC05OTkpXG4gKiAgICogYCdhJ2A6IEFNL1BNIG1hcmtlclxuICogICAqIGAnWidgOiA0IGRpZ2l0ICgrc2lnbikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRpbWV6b25lIG9mZnNldCAoLTEyMDAtKzEyMDApXG4gKiAgICogYCd3dydgOiBXZWVrIG9mIHllYXIsIHBhZGRlZCAoMDAtNTMpLiBXZWVrIDAxIGlzIHRoZSB3ZWVrIHdpdGggdGhlIGZpcnN0IFRodXJzZGF5IG9mIHRoZSB5ZWFyXG4gKiAgICogYCd3J2A6IFdlZWsgb2YgeWVhciAoMC01MykuIFdlZWsgMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxuICogICAqIGAnRydgLCBgJ0dHJ2AsIGAnR0dHJ2A6IFRoZSBhYmJyZXZpYXRlZCBmb3JtIG9mIHRoZSBlcmEgc3RyaW5nIChlLmcuICdBRCcpXG4gKiAgICogYCdHR0dHJ2A6IFRoZSBsb25nIGZvcm0gb2YgdGhlIGVyYSBzdHJpbmcgKGUuZy4gJ0Fubm8gRG9taW5pJylcbiAqXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gYWxzbyBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBwcmVkZWZpbmVkXG4gKiAgIHtAbGluayBndWlkZS9pMThuIGxvY2FsaXphYmxlIGZvcm1hdHN9OlxuICpcbiAqICAgKiBgJ21lZGl1bSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHkgaDptbTpzcyBhJ2AgZm9yIGVuX1VTIGxvY2FsZVxuICogICAgIChlLmcuIFNlcCAzLCAyMDEwIDEyOjA1OjA4IFBNKVxuICogICAqIGAnc2hvcnQnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSBoOm1tIGEnYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiA5LzMvMTAgMTI6MDUgUE0pXG4gKiAgICogYCdmdWxsRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnRUVFRSwgTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGVcbiAqICAgICAoZS5nLiBGcmlkYXksIFNlcHRlbWJlciAzLCAyMDEwKVxuICogICAqIGAnbG9uZ0RhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcHRlbWJlciAzLCAyMDEwKVxuICogICAqIGAnbWVkaXVtRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiBTZXAgMywgMjAxMClcbiAqICAgKiBgJ3Nob3J0RGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTS9kL3l5J2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiA5LzMvMTApXG4gKiAgICogYCdtZWRpdW1UaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1OjA4IFBNKVxuICogICAqIGAnc2hvcnRUaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1IFBNKVxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBjb250YWluIGxpdGVyYWwgdmFsdWVzLiBUaGVzZSBuZWVkIHRvIGJlIGVzY2FwZWQgYnkgc3Vycm91bmRpbmcgd2l0aCBzaW5nbGUgcXVvdGVzIChlLmcuXG4gKiAgIGBcImggJ2luIHRoZSBtb3JuaW5nJ1wiYCkuIEluIG9yZGVyIHRvIG91dHB1dCBhIHNpbmdsZSBxdW90ZSwgZXNjYXBlIGl0IC0gaS5lLiwgdHdvIHNpbmdsZSBxdW90ZXMgaW4gYSBzZXF1ZW5jZVxuICogICAoZS5nLiBgXCJoICdvJydjbG9jaydcImApLlxuICpcbiAqIEBwYXJhbSB7KERhdGV8bnVtYmVyfHN0cmluZyl9IGRhdGUgRGF0ZSB0byBmb3JtYXQgZWl0aGVyIGFzIERhdGUgb2JqZWN0LCBtaWxsaXNlY29uZHMgKHN0cmluZyBvclxuICogICAgbnVtYmVyKSBvciB2YXJpb3VzIElTTyA4NjAxIGRhdGV0aW1lIHN0cmluZyBmb3JtYXRzIChlLmcuIHl5eXktTU0tZGRUSEg6bW06c3Muc3NzWiBhbmQgaXRzXG4gKiAgICBzaG9ydGVyIHZlcnNpb25zIGxpa2UgeXl5eS1NTS1kZFRISDptbVosIHl5eXktTU0tZGQgb3IgeXl5eU1NZGRUSEhtbXNzWikuIElmIG5vIHRpbWV6b25lIGlzXG4gKiAgICBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpbnB1dCwgdGhlIHRpbWUgaXMgY29uc2lkZXJlZCB0byBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKiBAcGFyYW0ge3N0cmluZz19IGZvcm1hdCBGb3JtYXR0aW5nIHJ1bGVzIChzZWUgRGVzY3JpcHRpb24pLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogICAgYG1lZGl1bURhdGVgIGlzIHVzZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRpbWV6b25lIFRpbWV6b25lIHRvIGJlIHVzZWQgZm9yIGZvcm1hdHRpbmcuIEl0IHVuZGVyc3RhbmRzIFVUQy9HTVQgYW5kIHRoZVxuICogICAgY29udGluZW50YWwgVVMgdGltZSB6b25lIGFiYnJldmlhdGlvbnMsIGJ1dCBmb3IgZ2VuZXJhbCB1c2UsIHVzZSBhIHRpbWUgem9uZSBvZmZzZXQsIGZvclxuICogICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcbiAqICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3NlciB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgc3RyaW5nIG9yIHRoZSBpbnB1dCBpZiBpbnB1dCBpcyBub3QgcmVjb2duaXplZCBhcyBkYXRlL21pbGxpcy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj46XG4gICAgICAgICAgIDxzcGFuPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj48YnI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWid9fTwvc3Bhbj46XG4gICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj48YnI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6XCJNTS9kZC95eXl5ICdhdCcgaDptbWFcIn19PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XCJNTS9kZC95eXl5ICdhdCcgaDptbWFcIn19PC9zcGFuPjxicj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvT2N0IDJcXGQsIDIwMTAgXFxkezEsMn06XFxkezJ9OlxcZHsyfSAoQU18UE0pLyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWidcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8yMDEwXFwtMTBcXC0yXFxkIFxcZHsyfTpcXGR7Mn06XFxkezJ9IChcXC18XFwrKT9cXGR7NH0vKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvMTBcXC8yXFxkXFwvMjAxMCBAIFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOlxcXCJNTS9kZC95eXl5ICdhdCcgaDptbWFcXFwiXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvMTBcXC8yXFxkXFwvMjAxMCBhdCBcXGR7MSwyfTpcXGR7Mn0oQU18UE0pLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpIHtcblxuXG4gIHZhciBSX0lTTzg2MDFfU1RSID0gL14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87XG4gICAgICAgICAgICAgICAgICAgICAvLyAxICAgICAgICAyICAgICAgIDMgICAgICAgICA0ICAgICAgICAgIDUgICAgICAgICAgNiAgICAgICAgICA3ICAgICAgICAgIDggIDkgICAgIDEwICAgICAgMTFcbiAgZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2g7XG4gICAgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApLFxuICAgICAgICAgIHR6SG91ciA9IDAsXG4gICAgICAgICAgdHpNaW4gID0gMCxcbiAgICAgICAgICBkYXRlU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0Z1bGxZZWFyIDogZGF0ZS5zZXRGdWxsWWVhcixcbiAgICAgICAgICB0aW1lU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0hvdXJzIDogZGF0ZS5zZXRIb3VycztcblxuICAgICAgaWYgKG1hdGNoWzldKSB7XG4gICAgICAgIHR6SG91ciA9IHRvSW50KG1hdGNoWzldICsgbWF0Y2hbMTBdKTtcbiAgICAgICAgdHpNaW4gPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzExXSk7XG4gICAgICB9XG4gICAgICBkYXRlU2V0dGVyLmNhbGwoZGF0ZSwgdG9JbnQobWF0Y2hbMV0pLCB0b0ludChtYXRjaFsyXSkgLSAxLCB0b0ludChtYXRjaFszXSkpO1xuICAgICAgdmFyIGggPSB0b0ludChtYXRjaFs0XSB8fCAwKSAtIHR6SG91cjtcbiAgICAgIHZhciBtID0gdG9JbnQobWF0Y2hbNV0gfHwgMCkgLSB0ek1pbjtcbiAgICAgIHZhciBzID0gdG9JbnQobWF0Y2hbNl0gfHwgMCk7XG4gICAgICB2YXIgbXMgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoJzAuJyArIChtYXRjaFs3XSB8fCAwKSkgKiAxMDAwKTtcbiAgICAgIHRpbWVTZXR0ZXIuY2FsbChkYXRlLCBoLCBtLCBzLCBtcyk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgdGltZXpvbmUpIHtcbiAgICB2YXIgdGV4dCA9ICcnLFxuICAgICAgICBwYXJ0cyA9IFtdLFxuICAgICAgICBmbiwgbWF0Y2g7XG5cbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJ21lZGl1bURhdGUnO1xuICAgIGZvcm1hdCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdIHx8IGZvcm1hdDtcbiAgICBpZiAoaXNTdHJpbmcoZGF0ZSkpIHtcbiAgICAgIGRhdGUgPSBOVU1CRVJfU1RSSU5HLnRlc3QoZGF0ZSkgPyB0b0ludChkYXRlKSA6IGpzb25TdHJpbmdUb0RhdGUoZGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKGRhdGUpKSB7XG4gICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0RhdGUoZGF0ZSkgfHwgIWlzRmluaXRlKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgd2hpbGUgKGZvcm1hdCkge1xuICAgICAgbWF0Y2ggPSBEQVRFX0ZPUk1BVFNfU1BMSVQuZXhlYyhmb3JtYXQpO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBhcnRzID0gY29uY2F0KHBhcnRzLCBtYXRjaCwgMSk7XG4gICAgICAgIGZvcm1hdCA9IHBhcnRzLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMucHVzaChmb3JtYXQpO1xuICAgICAgICBmb3JtYXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkYXRlVGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgaWYgKHRpbWV6b25lKSB7XG4gICAgICBkYXRlVGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlVGltZXpvbmVPZmZzZXQpO1xuICAgICAgZGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwoZGF0ZSwgdGltZXpvbmUsIHRydWUpO1xuICAgIH1cbiAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZm4gPSBEQVRFX0ZPUk1BVFNbdmFsdWVdO1xuICAgICAgdGV4dCArPSBmbiA/IGZuKGRhdGUsICRsb2NhbGUuREFURVRJTUVfRk9STUFUUywgZGF0ZVRpbWV6b25lT2Zmc2V0KVxuICAgICAgICAgICAgICAgICA6IHZhbHVlID09PSBcIicnXCIgPyBcIidcIiA6IHZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywgJycpLnJlcGxhY2UoLycnL2csIFwiJ1wiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0ZXh0O1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUganNvblxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgQWxsb3dzIHlvdSB0byBjb252ZXJ0IGEgSmF2YVNjcmlwdCBvYmplY3QgaW50byBKU09OIHN0cmluZy5cbiAqXG4gKiAgIFRoaXMgZmlsdGVyIGlzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gV2hlbiB1c2luZyB0aGUgZG91YmxlIGN1cmx5IHt7dmFsdWV9fSBub3RhdGlvblxuICogICB0aGUgYmluZGluZyBpcyBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBKU09OLlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IEFueSBKYXZhU2NyaXB0IG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cyBhbmQgcHJpbWl0aXZlIHR5cGVzKSB0byBmaWx0ZXIuXG4gKiBAcGFyYW0ge251bWJlcj19IHNwYWNpbmcgVGhlIG51bWJlciBvZiBzcGFjZXMgdG8gdXNlIHBlciBpbmRlbnRhdGlvbiwgZGVmYXVsdHMgdG8gMi5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEpTT04gc3RyaW5nLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHByZSBpZD1cImRlZmF1bHQtc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uIH19PC9wcmU+XG4gICAgICAgPHByZSBpZD1cImN1c3RvbS1zcGFjaW5nXCI+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb246NCB9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGpzb25pZnkgZmlsdGVyZWQgb2JqZWN0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RlZmF1bHQtc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiAgXCJuYW1lXCI6ID9cInZhbHVlXCJcXG59Lyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VzdG9tLXNwYWNpbmcnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9cXHtcXG4gICAgXCJuYW1lXCI6ID9cInZhbHVlXCJcXG59Lyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbmZ1bmN0aW9uIGpzb25GaWx0ZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIHNwYWNpbmcpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoc3BhY2luZykpIHtcbiAgICAgICAgc3BhY2luZyA9IDI7XG4gICAgfVxuICAgIHJldHVybiB0b0pzb24ob2JqZWN0LCBzcGFjaW5nKTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGxvd2VyY2FzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydHMgc3RyaW5nIHRvIGxvd2VyY2FzZS5cbiAqIEBzZWUgYW5ndWxhci5sb3dlcmNhc2VcbiAqL1xudmFyIGxvd2VyY2FzZUZpbHRlciA9IHZhbHVlRm4obG93ZXJjYXNlKTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIHVwcGVyY2FzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydHMgc3RyaW5nIHRvIHVwcGVyY2FzZS5cbiAqIEBzZWUgYW5ndWxhci51cHBlcmNhc2VcbiAqL1xudmFyIHVwcGVyY2FzZUZpbHRlciA9IHZhbHVlRm4odXBwZXJjYXNlKTtcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBsaW1pdFRvXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIG5ldyBhcnJheSBvciBzdHJpbmcgY29udGFpbmluZyBvbmx5IGEgc3BlY2lmaWVkIG51bWJlciBvZiBlbGVtZW50cy4gVGhlIGVsZW1lbnRzIGFyZVxuICogdGFrZW4gZnJvbSBlaXRoZXIgdGhlIGJlZ2lubmluZyBvciB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXksIHN0cmluZyBvciBudW1iZXIsIGFzIHNwZWNpZmllZCBieVxuICogdGhlIHZhbHVlIGFuZCBzaWduIChwb3NpdGl2ZSBvciBuZWdhdGl2ZSkgb2YgYGxpbWl0YC4gT3RoZXIgYXJyYXktbGlrZSBvYmplY3RzIGFyZSBhbHNvIHN1cHBvcnRlZFxuICogKGUuZy4gYXJyYXkgc3ViY2xhc3NlcywgTm9kZUxpc3RzLCBqcUxpdGUvalF1ZXJ5IGNvbGxlY3Rpb25zIGV0YykuIElmIGEgbnVtYmVyIGlzIHVzZWQgYXMgaW5wdXQsXG4gKiBpdCBpcyBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheXxBcnJheUxpa2V8c3RyaW5nfG51bWJlcn0gaW5wdXQgLSBBcnJheS9hcnJheS1saWtlLCBzdHJpbmcgb3IgbnVtYmVyIHRvIGJlIGxpbWl0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGxpbWl0IC0gVGhlIGxlbmd0aCBvZiB0aGUgcmV0dXJuZWQgYXJyYXkgb3Igc3RyaW5nLiBJZiB0aGUgYGxpbWl0YCBudW1iZXJcbiAqICAgICBpcyBwb3NpdGl2ZSwgYGxpbWl0YCBudW1iZXIgb2YgaXRlbXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nIGFyZSBjb3BpZWQuXG4gKiAgICAgSWYgdGhlIG51bWJlciBpcyBuZWdhdGl2ZSwgYGxpbWl0YCBudW1iZXIgIG9mIGl0ZW1zIGZyb20gdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZ1xuICogICAgIGFyZSBjb3BpZWQuIFRoZSBgbGltaXRgIHdpbGwgYmUgdHJpbW1lZCBpZiBpdCBleGNlZWRzIGBhcnJheS5sZW5ndGhgLiBJZiBgbGltaXRgIGlzIHVuZGVmaW5lZCxcbiAqICAgICB0aGUgaW5wdXQgd2lsbCBiZSByZXR1cm5lZCB1bmNoYW5nZWQuXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IGJlZ2luIC0gSW5kZXggYXQgd2hpY2ggdG8gYmVnaW4gbGltaXRhdGlvbi4gQXMgYSBuZWdhdGl2ZSBpbmRleCxcbiAqICAgICBgYmVnaW5gIGluZGljYXRlcyBhbiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBpbnB1dGAuIERlZmF1bHRzIHRvIGAwYC5cbiAqIEByZXR1cm5zIHtBcnJheXxzdHJpbmd9IEEgbmV3IHN1Yi1hcnJheSBvciBzdWJzdHJpbmcgb2YgbGVuZ3RoIGBsaW1pdGAgb3IgbGVzcyBpZiB0aGUgaW5wdXQgaGFkXG4gKiAgICAgbGVzcyB0aGFuIGBsaW1pdGAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbWl0VG9FeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXIgPSAyMzQ1NDMyMzQyO1xuICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlckxpbWl0ID0gMztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cIm51bUxpbWl0XCI+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPHA+T3V0cHV0IG51bWJlcnM6IHt7IG51bWJlcnMgfCBsaW1pdFRvOm51bUxpbWl0IH19PC9wPlxuICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgTGltaXQge3tsZXR0ZXJzfX0gdG86XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxuICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDxwPk91dHB1dCBsZXR0ZXJzOiB7eyBsZXR0ZXJzIHwgbGltaXRUbzpsZXR0ZXJMaW1pdCB9fTwvcD5cbiAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgIExpbWl0IHt7bG9uZ051bWJlcn19IHRvOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibG9uZ051bWJlckxpbWl0XCI+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPHA+T3V0cHV0IGxvbmcgbnVtYmVyOiB7eyBsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQgfX08L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbG9uZ051bWJlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsb25nTnVtYmVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTG9uZ051bWJlciA9IGVsZW1lbnQoYnkuYmluZGluZygnbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobnVtTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsM10nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxuICAgICAgIC8vIGl0KCdzaG91bGQgdXBkYXRlIHRoZSBvdXRwdXQgd2hlbiAtMyBpcyBlbnRlcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDM0MicpO1xuICAgICAgIC8vIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHNpemUgb2YgaW5wdXQgYXJyYXknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0NTQzMjM0MicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4qL1xuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBsaW1pdCwgYmVnaW4pIHtcbiAgICBpZiAoTWF0aC5hYnMoTnVtYmVyKGxpbWl0KSkgPT09IEluZmluaXR5KSB7XG4gICAgICBsaW1pdCA9IE51bWJlcihsaW1pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbWl0ID0gdG9JbnQobGltaXQpO1xuICAgIH1cbiAgICBpZiAoaXNOYU4obGltaXQpKSByZXR1cm4gaW5wdXQ7XG5cbiAgICBpZiAoaXNOdW1iZXIoaW5wdXQpKSBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgaWYgKCFpc0FycmF5TGlrZShpbnB1dCkpIHJldHVybiBpbnB1dDtcblxuICAgIGJlZ2luID0gKCFiZWdpbiB8fCBpc05hTihiZWdpbikpID8gMCA6IHRvSW50KGJlZ2luKTtcbiAgICBiZWdpbiA9IChiZWdpbiA8IDApID8gTWF0aC5tYXgoMCwgaW5wdXQubGVuZ3RoICsgYmVnaW4pIDogYmVnaW47XG5cbiAgICBpZiAobGltaXQgPj0gMCkge1xuICAgICAgcmV0dXJuIHNsaWNlRm4oaW5wdXQsIGJlZ2luLCBiZWdpbiArIGxpbWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJlZ2luID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzbGljZUZuKGlucHV0LCBsaW1pdCwgaW5wdXQubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzbGljZUZuKGlucHV0LCBNYXRoLm1heCgwLCBiZWdpbiArIGxpbWl0KSwgYmVnaW4pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2xpY2VGbihpbnB1dCwgYmVnaW4sIGVuZCkge1xuICBpZiAoaXNTdHJpbmcoaW5wdXQpKSByZXR1cm4gaW5wdXQuc2xpY2UoYmVnaW4sIGVuZCk7XG5cbiAgcmV0dXJuIHNsaWNlLmNhbGwoaW5wdXQsIGJlZ2luLCBlbmQpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG9yZGVyQnlcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGl0ZW1zIGZyb20gdGhlIHNwZWNpZmllZCBgY29sbGVjdGlvbmAsIG9yZGVyZWQgYnkgYSBgY29tcGFyYXRvcmBcbiAqIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSB2YWx1ZXMgY29tcHV0ZWQgdXNpbmcgdGhlIGBleHByZXNzaW9uYCBwcmVkaWNhdGUuXG4gKlxuICogRm9yIGV4YW1wbGUsIGBbe2lkOiAnZm9vJ30sIHtpZDogJ2Jhcid9XSB8IG9yZGVyQnk6J2lkJ2Agd291bGQgcmVzdWx0IGluXG4gKiBgW3tpZDogJ2Jhcid9LCB7aWQ6ICdmb28nfV1gLlxuICpcbiAqIFRoZSBgY29sbGVjdGlvbmAgY2FuIGJlIGFuIEFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChlLmcuIE5vZGVMaXN0LCBqUXVlcnkgb2JqZWN0LCBUeXBlZEFycmF5LFxuICogU3RyaW5nLCBldGMpLlxuICpcbiAqIFRoZSBgZXhwcmVzc2lvbmAgY2FuIGJlIGEgc2luZ2xlIHByZWRpY2F0ZSwgb3IgYSBsaXN0IG9mIHByZWRpY2F0ZXMgZWFjaCBzZXJ2aW5nIGFzIGEgdGllLWJyZWFrZXJcbiAqIGZvciB0aGUgcHJlY2VlZGluZyBvbmUuIFRoZSBgZXhwcmVzc2lvbmAgaXMgZXZhbHVhdGVkIGFnYWluc3QgZWFjaCBpdGVtIGFuZCB0aGUgb3V0cHV0IGlzIHVzZWRcbiAqIGZvciBjb21wYXJpbmcgd2l0aCBvdGhlciBpdGVtcy5cbiAqXG4gKiBZb3UgY2FuIGNoYW5nZSB0aGUgc29ydGluZyBvcmRlciBieSBzZXR0aW5nIGByZXZlcnNlYCB0byBgdHJ1ZWAuIEJ5IGRlZmF1bHQsIGl0ZW1zIGFyZSBzb3J0ZWQgaW5cbiAqIGFzY2VuZGluZyBvcmRlci5cbiAqXG4gKiBUaGUgY29tcGFyaXNvbiBpcyBkb25lIHVzaW5nIHRoZSBgY29tcGFyYXRvcmAgZnVuY3Rpb24uIElmIG5vbmUgaXMgc3BlY2lmaWVkLCBhIGRlZmF1bHQsIGJ1aWx0LWluXG4gKiBjb21wYXJhdG9yIGlzIHVzZWQgKHNlZSBiZWxvdyBmb3IgZGV0YWlscyAtIGluIGEgbnV0c2hlbGwsIGl0IGNvbXBhcmVzIG51bWJlcnMgbnVtZXJpY2FsbHkgYW5kXG4gKiBzdHJpbmdzIGFscGhhYmV0aWNhbGx5KS5cbiAqXG4gKiAjIyMgVW5kZXIgdGhlIGhvb2RcbiAqXG4gKiBPcmRlcmluZyB0aGUgc3BlY2lmaWVkIGBjb2xsZWN0aW9uYCBoYXBwZW5zIGluIHR3byBwaGFzZXM6XG4gKlxuICogMS4gQWxsIGl0ZW1zIGFyZSBwYXNzZWQgdGhyb3VnaCB0aGUgcHJlZGljYXRlIChvciBwcmVkaWNhdGVzKSwgYW5kIHRoZSByZXR1cm5lZCB2YWx1ZXMgYXJlIHNhdmVkXG4gKiAgICBhbG9uZyB3aXRoIHRoZWlyIHR5cGUgKGBzdHJpbmdgLCBgbnVtYmVyYCBldGMpLiBGb3IgZXhhbXBsZSwgYW4gaXRlbSBge2xhYmVsOiAnZm9vJ31gLCBwYXNzZWRcbiAqICAgIHRocm91Z2ggYSBwcmVkaWNhdGUgdGhhdCBleHRyYWN0cyB0aGUgdmFsdWUgb2YgdGhlIGBsYWJlbGAgcHJvcGVydHksIHdvdWxkIGJlIHRyYW5zZm9ybWVkIHRvOlxuICogICAgYGBgXG4gKiAgICB7XG4gKiAgICAgIHZhbHVlOiAnZm9vJyxcbiAqICAgICAgdHlwZTogJ3N0cmluZycsXG4gKiAgICAgIGluZGV4OiAuLi5cbiAqICAgIH1cbiAqICAgIGBgYFxuICogMi4gVGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gaXMgdXNlZCB0byBzb3J0IHRoZSBpdGVtcywgYmFzZWQgb24gdGhlIGRlcml2ZWQgdmFsdWVzLCB0eXBlcyBhbmRcbiAqICAgIGluZGljZXMuXG4gKlxuICogSWYgeW91IHVzZSBhIGN1c3RvbSBjb21wYXJhdG9yLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHBhaXJzIG9mIG9iamVjdHMgb2YgdGhlIGZvcm1cbiAqIGB7dmFsdWU6IC4uLiwgdHlwZTogJy4uLicsIGluZGV4OiAuLi59YCBhbmQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGAwYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1YWxcbiAqIChhcyBmYXIgYXMgdGhlIGNvbXBhcmF0b3IgaXMgY29uY2VybmVkKSwgYC0xYCBpZiB0aGUgMXN0IG9uZSBzaG91bGQgYmUgcmFua2VkIGhpZ2hlciB0aGFuIHRoZVxuICogc2Vjb25kLCBvciBgMWAgb3RoZXJ3aXNlLlxuICpcbiAqIEluIG9yZGVyIHRvIGVuc3VyZSB0aGF0IHRoZSBzb3J0aW5nIHdpbGwgYmUgZGV0ZXJtaW5pc3RpYyBhY3Jvc3MgcGxhdGZvcm1zLCBpZiBub25lIG9mIHRoZVxuICogc3BlY2lmaWVkIHByZWRpY2F0ZXMgY2FuIGRpc3Rpbmd1aXNoIGJldHdlZW4gdHdvIGl0ZW1zLCBgb3JkZXJCeWAgd2lsbCBhdXRvbWF0aWNhbGx5IGludHJvZHVjZSBhXG4gKiBkdW1teSBwcmVkaWNhdGUgdGhhdCByZXR1cm5zIHRoZSBpdGVtJ3MgaW5kZXggYXMgYHZhbHVlYC5cbiAqIChJZiB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIGNvbXBhcmF0b3IsIG1ha2Ugc3VyZSBpdCBjYW4gaGFuZGxlIHRoaXMgcHJlZGljYXRlIGFzIHdlbGwuKVxuICpcbiAqIEZpbmFsbHksIGluIGFuIGF0dGVtcHQgdG8gc2ltcGxpZnkgdGhpbmdzLCBpZiBhIHByZWRpY2F0ZSByZXR1cm5zIGFuIG9iamVjdCBhcyB0aGUgZXh0cmFjdGVkXG4gKiB2YWx1ZSBmb3IgYW4gaXRlbSwgYG9yZGVyQnlgIHdpbGwgdHJ5IHRvIGNvbnZlcnQgdGhhdCBvYmplY3QgdG8gYSBwcmltaXRpdmUgdmFsdWUsIGJlZm9yZSBwYXNzaW5nXG4gKiBpdCB0byB0aGUgY29tcGFyYXRvci4gVGhlIGZvbGxvd2luZyBydWxlcyBnb3Zlcm4gdGhlIGNvbnZlcnNpb246XG4gKlxuICogMS4gSWYgdGhlIG9iamVjdCBoYXMgYSBgdmFsdWVPZigpYCBtZXRob2QgdGhhdCByZXR1cm5zIGEgcHJpbWl0aXZlLCBpdHMgcmV0dXJuIHZhbHVlIHdpbGwgYmVcbiAqICAgIHVzZWQgaW5zdGVhZC48YnIgLz5cbiAqICAgIChJZiB0aGUgb2JqZWN0IGhhcyBhIGB2YWx1ZU9mKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYW5vdGhlciBvYmplY3QsIHRoZW4gdGhlIHJldHVybmVkIG9iamVjdFxuICogICAgd2lsbCBiZSB1c2VkIGluIHN1YnNlcXVlbnQgc3RlcHMuKVxuICogMi4gSWYgdGhlIG9iamVjdCBoYXMgYSBjdXN0b20gYHRvU3RyaW5nKClgIG1ldGhvZCAoaS5lLiBub3QgdGhlIG9uZSBpbmhlcml0ZWQgZnJvbSBgT2JqZWN0YCkgdGhhdFxuICogICAgcmV0dXJucyBhIHByaW1pdGl2ZSwgaXRzIHJldHVybiB2YWx1ZSB3aWxsIGJlIHVzZWQgaW5zdGVhZC48YnIgLz5cbiAqICAgIChJZiB0aGUgb2JqZWN0IGhhcyBhIGB0b1N0cmluZygpYCBtZXRob2QgdGhhdCByZXR1cm5zIGFub3RoZXIgb2JqZWN0LCB0aGVuIHRoZSByZXR1cm5lZCBvYmplY3RcbiAqICAgIHdpbGwgYmUgdXNlZCBpbiBzdWJzZXF1ZW50IHN0ZXBzLilcbiAqIDMuIE5vIGNvbnZlcnNpb247IHRoZSBvYmplY3QgaXRzZWxmIGlzIHVzZWQuXG4gKlxuICogIyMjIFRoZSBkZWZhdWx0IGNvbXBhcmF0b3JcbiAqXG4gKiBUaGUgZGVmYXVsdCwgYnVpbHQtaW4gY29tcGFyYXRvciBzaG91bGQgYmUgc3VmZmljaWVudCBmb3IgbW9zdCB1c2VjYXNlcy4gSW4gc2hvcnQsIGl0IGNvbXBhcmVzXG4gKiBudW1iZXJzIG51bWVyaWNhbGx5LCBzdHJpbmdzIGFscGhhYmV0aWNhbGx5IChhbmQgY2FzZS1pbnNlbnNpdGl2ZWx5KSwgZm9yIG9iamVjdHMgZmFsbHMgYmFjayB0b1xuICogdXNpbmcgdGhlaXIgaW5kZXggaW4gdGhlIG9yaWdpbmFsIGNvbGxlY3Rpb24sIGFuZCBzb3J0cyB2YWx1ZXMgb2YgZGlmZmVyZW50IHR5cGVzIGJ5IHR5cGUuXG4gKlxuICogTW9yZSBzcGVjaWZpY2FsbHksIGl0IGZvbGxvd3MgdGhlc2Ugc3RlcHMgdG8gZGV0ZXJtaW5lIHRoZSByZWxhdGl2ZSBvcmRlciBvZiBpdGVtczpcbiAqXG4gKiAxLiBJZiB0aGUgY29tcGFyZWQgdmFsdWVzIGFyZSBvZiBkaWZmZXJlbnQgdHlwZXMsIGNvbXBhcmUgdGhlIHR5cGVzIHRoZW1zZWx2ZXMgYWxwaGFiZXRpY2FsbHkuXG4gKiAyLiBJZiBib3RoIHZhbHVlcyBhcmUgb2YgdHlwZSBgc3RyaW5nYCwgY29tcGFyZSB0aGVtIGFscGhhYmV0aWNhbGx5IGluIGEgY2FzZS0gYW5kXG4gKiAgICBsb2NhbGUtaW5zZW5zaXRpdmUgd2F5LlxuICogMy4gSWYgYm90aCB2YWx1ZXMgYXJlIG9iamVjdHMsIGNvbXBhcmUgdGhlaXIgaW5kaWNlcyBpbnN0ZWFkLlxuICogNC4gT3RoZXJ3aXNlLCByZXR1cm46XG4gKiAgICAtICBgMGAsIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWFsIChieSBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbiwgaS5lLiB1c2luZyBgPT09YCkuXG4gKiAgICAtIGAtMWAsIGlmIHRoZSAxc3QgdmFsdWUgaXMgXCJsZXNzIHRoYW5cIiB0aGUgMm5kIHZhbHVlIChjb21wYXJlZCB1c2luZyB0aGUgYDxgIG9wZXJhdG9yKS5cbiAqICAgIC0gIGAxYCwgb3RoZXJ3aXNlLlxuICpcbiAqICoqTm90ZToqKiBJZiB5b3Ugbm90aWNlIG51bWJlcnMgbm90IGJlaW5nIHNvcnRlZCBhcyBleHBlY3RlZCwgbWFrZSBzdXJlIHRoZXkgYXJlIGFjdHVhbGx5IGJlaW5nXG4gKiAgICAgICAgICAgc2F2ZWQgYXMgbnVtYmVycyBhbmQgbm90IHN0cmluZ3MuXG4gKlxuICogQHBhcmFtIHtBcnJheXxBcnJheUxpa2V9IGNvbGxlY3Rpb24gLSBUaGUgY29sbGVjdGlvbiAoYXJyYXkgb3IgYXJyYXktbGlrZSBvYmplY3QpIHRvIHNvcnQuXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxzdHJpbmd8QXJyYXkuPEZ1bmN0aW9ufHN0cmluZz4pPX0gZXhwcmVzc2lvbiAtIEEgcHJlZGljYXRlIChvciBsaXN0IG9mXG4gKiAgICBwcmVkaWNhdGVzKSB0byBiZSB1c2VkIGJ5IHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXG4gKlxuICogICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgICAtIGBGdW5jdGlvbmA6IEEgZ2V0dGVyIGZ1bmN0aW9uLiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggZWFjaCBpdGVtIGFzIGFyZ3VtZW50IGFuZFxuICogICAgICB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBmb3Igc29ydGluZy5cbiAqICAgIC0gYHN0cmluZ2A6IEFuIEFuZ3VsYXIgZXhwcmVzc2lvbi4gVGhpcyBleHByZXNzaW9uIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgZWFjaCBpdGVtIGFuZCB0aGVcbiAqICAgICAgcmVzdWx0IHdpbGwgYmUgdXNlZCBmb3Igc29ydGluZy4gRm9yIGV4YW1wbGUsIHVzZSBgJ2xhYmVsJ2AgdG8gc29ydCBieSBhIHByb3BlcnR5IGNhbGxlZFxuICogICAgICBgbGFiZWxgIG9yIGAnbGFiZWwuc3Vic3RyaW5nKDAsIDMpJ2AgdG8gc29ydCBieSB0aGUgZmlyc3QgMyBjaGFyYWN0ZXJzIG9mIHRoZSBgbGFiZWxgXG4gKiAgICAgIHByb3BlcnR5LjxiciAvPlxuICogICAgICAoVGhlIHJlc3VsdCBvZiBhIGNvbnN0YW50IGV4cHJlc3Npb24gaXMgaW50ZXJwcmV0ZWQgYXMgYSBwcm9wZXJ0eSBuYW1lIHRvIGJlIHVzZWQgZm9yXG4gKiAgICAgIGNvbXBhcmlzb24uIEZvciBleGFtcGxlLCB1c2UgYCdcInNwZWNpYWwgbmFtZVwiJ2AgKG5vdGUgdGhlIGV4dHJhIHBhaXIgb2YgcXVvdGVzKSB0byBzb3J0IGJ5IGFcbiAqICAgICAgcHJvcGVydHkgY2FsbGVkIGBzcGVjaWFsIG5hbWVgLik8YnIgLz5cbiAqICAgICAgQW4gZXhwcmVzc2lvbiBjYW4gYmUgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGArYCBvciBgLWAgdG8gY29udHJvbCB0aGUgc29ydGluZyBkaXJlY3Rpb24sXG4gKiAgICAgIGFzY2VuZGluZyBvciBkZXNjZW5kaW5nLiBGb3IgZXhhbXBsZSwgYCcrbGFiZWwnYCBvciBgJy1sYWJlbCdgLiBJZiBubyBwcm9wZXJ0eSBpcyBwcm92aWRlZCxcbiAqICAgICAgKGUuZy4gYCcrJ2Agb3IgYCctJ2ApLCB0aGUgY29sbGVjdGlvbiBlbGVtZW50IGl0c2VsZiBpcyB1c2VkIGluIGNvbXBhcmlzb25zLlxuICogICAgLSBgQXJyYXlgOiBBbiBhcnJheSBvZiBmdW5jdGlvbiBhbmQvb3Igc3RyaW5nIHByZWRpY2F0ZXMuIElmIGEgcHJlZGljYXRlIGNhbm5vdCBkZXRlcm1pbmUgdGhlXG4gKiAgICAgIHJlbGF0aXZlIG9yZGVyIG9mIHR3byBpdGVtcywgdGhlIG5leHQgcHJlZGljYXRlIGlzIHVzZWQgYXMgYSB0aWUtYnJlYWtlci5cbiAqXG4gKiAqKk5vdGU6KiogSWYgdGhlIHByZWRpY2F0ZSBpcyBtaXNzaW5nIG9yIGVtcHR5IHRoZW4gaXQgZGVmYXVsdHMgdG8gYCcrJ2AuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gcmV2ZXJzZSAtIElmIGB0cnVlYCwgcmV2ZXJzZSB0aGUgc29ydGluZyBvcmRlci5cbiAqIEBwYXJhbSB7KEZ1bmN0aW9uKT19IGNvbXBhcmF0b3IgLSBUaGUgY29tcGFyYXRvciBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSB0aGUgcmVsYXRpdmUgb3JkZXIgb2ZcbiAqICAgIHZhbHVlIHBhaXJzLiBJZiBvbWl0dGVkLCB0aGUgYnVpbHQtaW4gY29tcGFyYXRvciB3aWxsIGJlIHVzZWQuXG4gKlxuICogQHJldHVybnMge0FycmF5fSAtIFRoZSBzb3J0ZWQgYXJyYXkuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgT3JkZXJpbmcgYSB0YWJsZSB3aXRoIGBuZ1JlcGVhdGBcbiAqXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyBkZW1vbnN0cmF0ZXMgYSBzaW1wbGUge0BsaW5rIG5nUmVwZWF0IG5nUmVwZWF0fSwgd2hlcmUgdGhlIGRhdGEgaXMgc29ydGVkIGJ5XG4gKiBhZ2UgaW4gZGVzY2VuZGluZyBvcmRlciAoZXhwcmVzc2lvbiBpcyBzZXQgdG8gYCctYWdlJ2ApLiBUaGUgYGNvbXBhcmF0b3JgIGlzIG5vdCBzZXQsIHdoaWNoIG1lYW5zXG4gKiBpdCBkZWZhdWx0cyB0byB0aGUgYnVpbHQtaW4gY29tcGFyYXRvci5cbiAqXG4gICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1zdGF0aWNcIiBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZTFcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxuICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgIDx0aD5QaG9uZSBOdW1iZXI8L3RoPlxuICAgICAgICAgICAgIDx0aD5BZ2U8L3RoPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OictYWdlJ1wiPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgPC90YWJsZT5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlMScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXG4gICAgICAgICAgICAge25hbWU6ICdKb2huJywgICBwaG9uZTogJzU1NS0xMjEyJywgIGFnZTogMTB9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWFyeScsICAgcGhvbmU6ICc1NTUtOTg3NicsICBhZ2U6IDE5fSxcbiAgICAgICAgICAgICB7bmFtZTogJ01pa2UnLCAgIHBob25lOiAnNTU1LTQzMjEnLCAgYWdlOiAyMX0sXG4gICAgICAgICAgICAge25hbWU6ICdBZGFtJywgICBwaG9uZTogJzU1NS01Njc4JywgIGFnZTogMzV9LFxuICAgICAgICAgICAgIHtuYW1lOiAnSnVsaWUnLCAgcGhvbmU6ICc1NTUtODc2NScsICBhZ2U6IDI5fVxuICAgICAgICAgICBdO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuZnJpZW5kcyB7XG4gICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgICAgIH1cblxuICAgICAgIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQsIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7XG4gICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQ6Zmlyc3QtY2hpbGQsIC5mcmllbmRzIHRoOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xuICAgICAgIHZhciBuYW1lcyA9IGVsZW1lbnQuYWxsKGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpKTtcblxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IGFnZSBpbiByZXZlcnNlIG9yZGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDApLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnTWlrZScpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ01hcnknKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoNCkuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqIDxociAvPlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQ2hhbmdpbmcgcGFyYW1ldGVycyBkeW5hbWljYWxseVxuICpcbiAqIEFsbCBwYXJhbWV0ZXJzIGNhbiBiZSBjaGFuZ2VkIGR5bmFtaWNhbGx5LiBUaGUgbmV4dCBleGFtcGxlIHNob3dzIGhvdyB5b3UgY2FuIG1ha2UgdGhlIGNvbHVtbnMgb2ZcbiAqIGEgdGFibGUgc29ydGFibGUsIGJ5IGJpbmRpbmcgdGhlIGBleHByZXNzaW9uYCBhbmQgYHJldmVyc2VgIHBhcmFtZXRlcnMgdG8gc2NvcGUgcHJvcGVydGllcy5cbiAqXG4gICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1keW5hbWljXCIgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGUyXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwcmU+U29ydCBieSA9IHt7cHJvcGVydHlOYW1lfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxuICAgICAgICAgPGhyLz5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwcm9wZXJ0eU5hbWUgPSBudWxsOyByZXZlcnNlID0gZmFsc2VcIj5TZXQgdG8gdW5zb3J0ZWQ8L2J1dHRvbj5cbiAgICAgICAgIDxoci8+XG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XG4gICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCduYW1lJylcIj5OYW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICduYW1lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgncGhvbmUnKVwiPlBob25lIE51bWJlcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAncGhvbmUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdhZ2UnKVwiPkFnZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnYWdlJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6cHJvcGVydHlOYW1lOnJldmVyc2VcIj5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZTInLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgIHZhciBmcmllbmRzID0gW1xuICAgICAgICAgICAgIHtuYW1lOiAnSm9obicsICAgcGhvbmU6ICc1NTUtMTIxMicsICBhZ2U6IDEwfSxcbiAgICAgICAgICAgICB7bmFtZTogJ01hcnknLCAgIHBob25lOiAnNTU1LTk4NzYnLCAgYWdlOiAxOX0sXG4gICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBwaG9uZTogJzU1NS00MzIxJywgIGFnZTogMjF9LFxuICAgICAgICAgICAgIHtuYW1lOiAnQWRhbScsICAgcGhvbmU6ICc1NTUtNTY3OCcsICBhZ2U6IDM1fSxcbiAgICAgICAgICAgICB7bmFtZTogJ0p1bGllJywgIHBob25lOiAnNTU1LTg3NjUnLCAgYWdlOiAyOX1cbiAgICAgICAgICAgXTtcblxuICAgICAgICAgICAkc2NvcGUucHJvcGVydHlOYW1lID0gJ2FnZSc7XG4gICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gdHJ1ZTtcbiAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBmcmllbmRzO1xuXG4gICAgICAgICAgICRzY29wZS5zb3J0QnkgPSBmdW5jdGlvbihwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICgkc2NvcGUucHJvcGVydHlOYW1lID09PSBwcm9wZXJ0eU5hbWUpID8gISRzY29wZS5yZXZlcnNlIDogZmFsc2U7XG4gICAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZTtcbiAgICAgICAgICAgfTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLmZyaWVuZHMge1xuICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICAgICB9XG5cbiAgICAgICAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkLCAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xuICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XG4gICAgICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgICB9XG5cbiAgICAgICAuc29ydG9yZGVyOmFmdGVyIHtcbiAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YjInOyAgIC8vIEJMQUNLIFVQLVBPSU5USU5HIFRSSUFOR0xFXG4gICAgICAgfVxuICAgICAgIC5zb3J0b3JkZXIucmV2ZXJzZTphZnRlciB7XG4gICAgICAgICBjb250ZW50OiAnXFwyNWJjJzsgICAvLyBCTEFDSyBET1dOLVBPSU5USU5HIFRSSUFOR0xFXG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAvLyBFbGVtZW50IGxvY2F0b3JzXG4gICAgICAgdmFyIHVuc29ydEJ1dHRvbiA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ3Vuc29ydGVkJykpO1xuICAgICAgIHZhciBuYW1lSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnTmFtZScpKTtcbiAgICAgICB2YXIgcGhvbmVIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdQaG9uZScpKTtcbiAgICAgICB2YXIgYWdlSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnQWdlJykpO1xuICAgICAgIHZhciBmaXJzdE5hbWUgPSBlbGVtZW50KGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpLnJvdygwKSk7XG4gICAgICAgdmFyIGxhc3ROYW1lID0gZWxlbWVudChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKS5yb3coNCkpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgYnkgc29tZSBwcm9wZXJ0eSwgd2hlbiBjbGlja2luZyBvbiB0aGUgY29sdW1uIGhlYWRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcblxuICAgICAgICAgcGhvbmVIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdNYXJ5Jyk7XG5cbiAgICAgICAgIG5hbWVIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdNaWtlJyk7XG5cbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGluIHJldmVyc2Ugb3JkZXIsIHdoZW4gY2xpY2tpbmcgb24gdGhlIHNhbWUgY29sdW1uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG5cbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgcmVzdG9yZSB0aGUgb3JpZ2luYWwgb3JkZXIsIHdoZW4gY2xpY2tpbmcgXCJTZXQgdG8gdW5zb3J0ZWRcIicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcblxuICAgICAgICAgdW5zb3J0QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSnVsaWUnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICogPGhyIC8+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBVc2luZyBgb3JkZXJCeWAgaW5zaWRlIGEgY29udHJvbGxlclxuICpcbiAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gY2FsbCB0aGUgYG9yZGVyQnlgIGZpbHRlciBtYW51YWxseSwgYnkgaW5qZWN0aW5nIGBvcmRlckJ5RmlsdGVyYCwgYW5kXG4gKiBjYWxsaW5nIGl0IHdpdGggdGhlIGRlc2lyZWQgcGFyYW1ldGVycy4gKEFsdGVybmF0aXZlbHksIHlvdSBjb3VsZCBpbmplY3QgdGhlIGAkZmlsdGVyYCBmYWN0b3J5XG4gKiBhbmQgcmV0cmlldmUgdGhlIGBvcmRlckJ5YCBmaWx0ZXIgd2l0aCBgJGZpbHRlcignb3JkZXJCeScpYC4pXG4gKlxuICAgPGV4YW1wbGUgbmFtZT1cIm9yZGVyQnktY2FsbC1tYW51YWxseVwiIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlM1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8cHJlPlNvcnQgYnkgPSB7e3Byb3BlcnR5TmFtZX19OyByZXZlcnNlID0ge3tyZXZlcnNlfX08L3ByZT5cbiAgICAgICAgIDxoci8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KG51bGwpXCI+U2V0IHRvIHVuc29ydGVkPC9idXR0b24+XG4gICAgICAgICA8aHIvPlxuICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxuICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgnbmFtZScpXCI+TmFtZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnbmFtZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ3Bob25lJylcIj5QaG9uZSBOdW1iZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ3Bob25lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgnYWdlJylcIj5BZ2U8L2J1dHRvbj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ2FnZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHNcIj5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZTMnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ29yZGVyQnlGaWx0ZXInLCBmdW5jdGlvbigkc2NvcGUsIG9yZGVyQnkpIHtcbiAgICAgICAgICAgdmFyIGZyaWVuZHMgPSBbXG4gICAgICAgICAgICAge25hbWU6ICdKb2huJywgICBwaG9uZTogJzU1NS0xMjEyJywgIGFnZTogMTB9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWFyeScsICAgcGhvbmU6ICc1NTUtOTg3NicsICBhZ2U6IDE5fSxcbiAgICAgICAgICAgICB7bmFtZTogJ01pa2UnLCAgIHBob25lOiAnNTU1LTQzMjEnLCAgYWdlOiAyMX0sXG4gICAgICAgICAgICAge25hbWU6ICdBZGFtJywgICBwaG9uZTogJzU1NS01Njc4JywgIGFnZTogMzV9LFxuICAgICAgICAgICAgIHtuYW1lOiAnSnVsaWUnLCAgcGhvbmU6ICc1NTUtODc2NScsICBhZ2U6IDI5fVxuICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICRzY29wZS5wcm9wZXJ0eU5hbWUgPSAnYWdlJztcbiAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IG9yZGVyQnkoZnJpZW5kcywgJHNjb3BlLnByb3BlcnR5TmFtZSwgJHNjb3BlLnJldmVyc2UpO1xuXG4gICAgICAgICAgICRzY29wZS5zb3J0QnkgPSBmdW5jdGlvbihwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9IChwcm9wZXJ0eU5hbWUgIT09IG51bGwgJiYgJHNjb3BlLnByb3BlcnR5TmFtZSA9PT0gcHJvcGVydHlOYW1lKVxuICAgICAgICAgICAgICAgICA/ICEkc2NvcGUucmV2ZXJzZSA6IGZhbHNlO1xuICAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBvcmRlckJ5KGZyaWVuZHMsICRzY29wZS5wcm9wZXJ0eU5hbWUsICRzY29wZS5yZXZlcnNlKTtcbiAgICAgICAgICAgfTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLmZyaWVuZHMge1xuICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICAgICB9XG5cbiAgICAgICAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkLCAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xuICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XG4gICAgICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgICB9XG5cbiAgICAgICAuc29ydG9yZGVyOmFmdGVyIHtcbiAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YjInOyAgIC8vIEJMQUNLIFVQLVBPSU5USU5HIFRSSUFOR0xFXG4gICAgICAgfVxuICAgICAgIC5zb3J0b3JkZXIucmV2ZXJzZTphZnRlciB7XG4gICAgICAgICBjb250ZW50OiAnXFwyNWJjJzsgICAvLyBCTEFDSyBET1dOLVBPSU5USU5HIFRSSUFOR0xFXG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAvLyBFbGVtZW50IGxvY2F0b3JzXG4gICAgICAgdmFyIHVuc29ydEJ1dHRvbiA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ3Vuc29ydGVkJykpO1xuICAgICAgIHZhciBuYW1lSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnTmFtZScpKTtcbiAgICAgICB2YXIgcGhvbmVIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdQaG9uZScpKTtcbiAgICAgICB2YXIgYWdlSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnQWdlJykpO1xuICAgICAgIHZhciBmaXJzdE5hbWUgPSBlbGVtZW50KGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpLnJvdygwKSk7XG4gICAgICAgdmFyIGxhc3ROYW1lID0gZWxlbWVudChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKS5yb3coNCkpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgYnkgc29tZSBwcm9wZXJ0eSwgd2hlbiBjbGlja2luZyBvbiB0aGUgY29sdW1uIGhlYWRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcblxuICAgICAgICAgcGhvbmVIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdNYXJ5Jyk7XG5cbiAgICAgICAgIG5hbWVIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdNaWtlJyk7XG5cbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGluIHJldmVyc2Ugb3JkZXIsIHdoZW4gY2xpY2tpbmcgb24gdGhlIHNhbWUgY29sdW1uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG5cbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgcmVzdG9yZSB0aGUgb3JpZ2luYWwgb3JkZXIsIHdoZW4gY2xpY2tpbmcgXCJTZXQgdG8gdW5zb3J0ZWRcIicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcblxuICAgICAgICAgdW5zb3J0QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSnVsaWUnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICogPGhyIC8+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBVc2luZyBhIGN1c3RvbSBjb21wYXJhdG9yXG4gKlxuICogSWYgeW91IGhhdmUgdmVyeSBzcGVjaWZpYyByZXF1aXJlbWVudHMgYWJvdXQgdGhlIHdheSBpdGVtcyBhcmUgc29ydGVkLCB5b3UgY2FuIHBhc3MgeW91ciBvd25cbiAqIGNvbXBhcmF0b3IgZnVuY3Rpb24uIEZvciBleGFtcGxlLCB5b3UgbWlnaHQgbmVlZCB0byBjb21wYXJlIHNvbWUgc3RyaW5ncyBpbiBhIGxvY2FsZS1zZW5zaXRpdmVcbiAqIHdheS4gKFdoZW4gc3BlY2lmeWluZyBhIGN1c3RvbSBjb21wYXJhdG9yLCB5b3UgYWxzbyBuZWVkIHRvIHBhc3MgYSB2YWx1ZSBmb3IgdGhlIGByZXZlcnNlYFxuICogYXJndW1lbnQgLSBwYXNzaW5nIGBmYWxzZWAgcmV0YWlucyB0aGUgZGVmYXVsdCBzb3J0aW5nIG9yZGVyLCBpLmUuIGFzY2VuZGluZy4pXG4gKlxuICAgPGV4YW1wbGUgbmFtZT1cIm9yZGVyQnktY3VzdG9tLWNvbXBhcmF0b3JcIiBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZTRcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImZyaWVuZHMtY29udGFpbmVyIGN1c3RvbS1jb21wYXJhdG9yXCI+XG4gICAgICAgICAgIDxoMz5Mb2NhbGUtc2Vuc2l0aXZlIENvbXBhcmF0b3I8L2gzPlxuICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XG4gICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgICAgPHRoPkZhdm9yaXRlIExldHRlcjwvdGg+XG4gICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OidmYXZvcml0ZUxldHRlcic6ZmFsc2U6bG9jYWxlU2Vuc2l0aXZlQ29tcGFyYXRvclwiPlxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuZmF2b3JpdGVMZXR0ZXJ9fTwvdGQ+XG4gICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPGRpdiBjbGFzcz1cImZyaWVuZHMtY29udGFpbmVyIGRlZmF1bHQtY29tcGFyYXRvclwiPlxuICAgICAgICAgICA8aDM+RGVmYXVsdCBDb21wYXJhdG9yPC9oMz5cbiAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxuICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cbiAgICAgICAgICAgICAgIDx0aD5GYXZvcml0ZSBMZXR0ZXI8L3RoPlxuICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTonZmF2b3JpdGVMZXR0ZXInXCI+XG4gICAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5mYXZvcml0ZUxldHRlcn19PC90ZD5cbiAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZTQnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xuICAgICAgICAgICAgIHtuYW1lOiAnSm9obicsICAgZmF2b3JpdGVMZXR0ZXI6ICfDhCd9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWFyeScsICAgZmF2b3JpdGVMZXR0ZXI6ICfDnCd9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWlrZScsICAgZmF2b3JpdGVMZXR0ZXI6ICfDlid9LFxuICAgICAgICAgICAgIHtuYW1lOiAnQWRhbScsICAgZmF2b3JpdGVMZXR0ZXI6ICdIJ30sXG4gICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBmYXZvcml0ZUxldHRlcjogJ1onfVxuICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICRzY29wZS5sb2NhbGVTZW5zaXRpdmVDb21wYXJhdG9yID0gZnVuY3Rpb24odjEsIHYyKSB7XG4gICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgZ2V0IHN0cmluZ3MsIGp1c3QgY29tcGFyZSBieSBpbmRleFxuICAgICAgICAgICAgIGlmICh2MS50eXBlICE9PSAnc3RyaW5nJyB8fCB2Mi50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgcmV0dXJuICh2MS5pbmRleCA8IHYyLmluZGV4KSA/IC0xIDogMTtcbiAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAvLyBDb21wYXJlIHN0cmluZ3MgYWxwaGFiZXRpY2FsbHksIHRha2luZyBsb2NhbGUgaW50byBhY2NvdW50XG4gICAgICAgICAgICAgcmV0dXJuIHYxLnZhbHVlLmxvY2FsZUNvbXBhcmUodjIudmFsdWUpO1xuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuZnJpZW5kcy1jb250YWluZXIge1xuICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgbWFyZ2luOiAwIDMwcHg7XG4gICAgICAgfVxuXG4gICAgICAgLmZyaWVuZHMge1xuICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICAgICB9XG5cbiAgICAgICAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkLCAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xuICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XG4gICAgICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIC8vIEVsZW1lbnQgbG9jYXRvcnNcbiAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5jc3MoJy5jdXN0b20tY29tcGFyYXRvcicpKTtcbiAgICAgICB2YXIgbmFtZXMgPSBjb250YWluZXIuYWxsKGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpKTtcblxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IGZhdm9yaXRlIGxldHRlciAoaW4gY29ycmVjdCBhbHBoYWJldGljYWwgb3JkZXIpJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDApLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMikuZ2V0VGV4dCgpKS50b0JlKCdNaWtlJyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDMpLmdldFRleHQoKSkudG9CZSgnTWFyeScpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCg0KS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbm9yZGVyQnlGaWx0ZXIuJGluamVjdCA9IFsnJHBhcnNlJ107XG5mdW5jdGlvbiBvcmRlckJ5RmlsdGVyKCRwYXJzZSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHNvcnRQcmVkaWNhdGUsIHJldmVyc2VPcmRlciwgY29tcGFyZUZuKSB7XG5cbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIGFycmF5O1xuICAgIGlmICghaXNBcnJheUxpa2UoYXJyYXkpKSB7XG4gICAgICB0aHJvdyBtaW5FcnIoJ29yZGVyQnknKSgnbm90YXJyYXknLCAnRXhwZWN0ZWQgYXJyYXkgYnV0IHJlY2VpdmVkOiB7MH0nLCBhcnJheSk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0FycmF5KHNvcnRQcmVkaWNhdGUpKSB7IHNvcnRQcmVkaWNhdGUgPSBbc29ydFByZWRpY2F0ZV07IH1cbiAgICBpZiAoc29ydFByZWRpY2F0ZS5sZW5ndGggPT09IDApIHsgc29ydFByZWRpY2F0ZSA9IFsnKyddOyB9XG5cbiAgICB2YXIgcHJlZGljYXRlcyA9IHByb2Nlc3NQcmVkaWNhdGVzKHNvcnRQcmVkaWNhdGUpO1xuXG4gICAgdmFyIGRlc2NlbmRpbmcgPSByZXZlcnNlT3JkZXIgPyAtMSA6IDE7XG5cbiAgICAvLyBEZWZpbmUgdGhlIGBjb21wYXJlKClgIGZ1bmN0aW9uLiBVc2UgYSBkZWZhdWx0IGNvbXBhcmF0b3IgaWYgbm9uZSBpcyBzcGVjaWZpZWQuXG4gICAgdmFyIGNvbXBhcmUgPSBpc0Z1bmN0aW9uKGNvbXBhcmVGbikgPyBjb21wYXJlRm4gOiBkZWZhdWx0Q29tcGFyZTtcblxuICAgIC8vIFRoZSBuZXh0IHRocmVlIGxpbmVzIGFyZSBhIHZlcnNpb24gb2YgYSBTd2FydHppYW4gVHJhbnNmb3JtIGlkaW9tIGZyb20gUGVybFxuICAgIC8vIChzb21ldGltZXMgY2FsbGVkIHRoZSBEZWNvcmF0ZS1Tb3J0LVVuZGVjb3JhdGUgaWRpb20pXG4gICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NjaHdhcnR6aWFuX3RyYW5zZm9ybVxuICAgIHZhciBjb21wYXJlVmFsdWVzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFycmF5LCBnZXRDb21wYXJpc29uT2JqZWN0KTtcbiAgICBjb21wYXJlVmFsdWVzLnNvcnQoZG9Db21wYXJpc29uKTtcbiAgICBhcnJheSA9IGNvbXBhcmVWYWx1ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udmFsdWU7IH0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xuXG4gICAgZnVuY3Rpb24gZ2V0Q29tcGFyaXNvbk9iamVjdCh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIC8vIE5PVEU6IFdlIGFyZSBhZGRpbmcgYW4gZXh0cmEgYHRpZUJyZWFrZXJgIHZhbHVlIGJhc2VkIG9uIHRoZSBlbGVtZW50J3MgaW5kZXguXG4gICAgICAvLyBUaGlzIHdpbGwgYmUgdXNlZCB0byBrZWVwIHRoZSBzb3J0IHN0YWJsZSB3aGVuIG5vbmUgb2YgdGhlIGlucHV0IHByZWRpY2F0ZXMgY2FuXG4gICAgICAvLyBkaXN0aW5ndWlzaCBiZXR3ZWVuIHR3byBlbGVtZW50cy5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdGllQnJlYWtlcjoge3ZhbHVlOiBpbmRleCwgdHlwZTogJ251bWJlcicsIGluZGV4OiBpbmRleH0sXG4gICAgICAgIHByZWRpY2F0ZVZhbHVlczogcHJlZGljYXRlcy5tYXAoZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFByZWRpY2F0ZVZhbHVlKHByZWRpY2F0ZS5nZXQodmFsdWUpLCBpbmRleCk7XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvQ29tcGFyaXNvbih2MSwgdjIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHByZWRpY2F0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZSh2MS5wcmVkaWNhdGVWYWx1ZXNbaV0sIHYyLnByZWRpY2F0ZVZhbHVlc1tpXSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogcHJlZGljYXRlc1tpXS5kZXNjZW5kaW5nICogZGVzY2VuZGluZztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcGFyZSh2MS50aWVCcmVha2VyLCB2Mi50aWVCcmVha2VyKSAqIGRlc2NlbmRpbmc7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHByb2Nlc3NQcmVkaWNhdGVzKHNvcnRQcmVkaWNhdGVzKSB7XG4gICAgcmV0dXJuIHNvcnRQcmVkaWNhdGVzLm1hcChmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBkZXNjZW5kaW5nID0gMSwgZ2V0ID0gaWRlbnRpdHk7XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKHByZWRpY2F0ZSkpIHtcbiAgICAgICAgZ2V0ID0gcHJlZGljYXRlO1xuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhwcmVkaWNhdGUpKSB7XG4gICAgICAgIGlmICgocHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnKycgfHwgcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLScpKSB7XG4gICAgICAgICAgZGVzY2VuZGluZyA9IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT0gJy0nID8gLTEgOiAxO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IHByZWRpY2F0ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWRpY2F0ZSAhPT0gJycpIHtcbiAgICAgICAgICBnZXQgPSAkcGFyc2UocHJlZGljYXRlKTtcbiAgICAgICAgICBpZiAoZ2V0LmNvbnN0YW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gZ2V0KCk7XG4gICAgICAgICAgICBnZXQgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7Z2V0OiBnZXQsIGRlc2NlbmRpbmc6IGRlc2NlbmRpbmd9O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzogLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAnYm9vbGVhbic6IC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9iamVjdFZhbHVlKHZhbHVlKSB7XG4gICAgLy8gSWYgYHZhbHVlT2ZgIGlzIGEgdmFsaWQgZnVuY3Rpb24gdXNlIHRoYXRcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZS52YWx1ZU9mKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7XG4gICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8vIElmIGB0b1N0cmluZ2AgaXMgYSB2YWxpZCBmdW5jdGlvbiBhbmQgbm90IHRoZSBvbmUgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAgdXNlIHRoYXRcbiAgICBpZiAoaGFzQ3VzdG9tVG9TdHJpbmcodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UHJlZGljYXRlVmFsdWUodmFsdWUsIGluZGV4KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICB0eXBlID0gJ3N0cmluZyc7XG4gICAgICB2YWx1ZSA9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IG9iamVjdFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIHR5cGU6IHR5cGUsIGluZGV4OiBpbmRleH07XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyZSh2MSwgdjIpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICB2YXIgdHlwZTEgPSB2MS50eXBlO1xuICAgIHZhciB0eXBlMiA9IHYyLnR5cGU7XG5cbiAgICBpZiAodHlwZTEgPT09IHR5cGUyKSB7XG4gICAgICB2YXIgdmFsdWUxID0gdjEudmFsdWU7XG4gICAgICB2YXIgdmFsdWUyID0gdjIudmFsdWU7XG5cbiAgICAgIGlmICh0eXBlMSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gQ29tcGFyZSBzdHJpbmdzIGNhc2UtaW5zZW5zaXRpdmVseVxuICAgICAgICB2YWx1ZTEgPSB2YWx1ZTEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFsdWUyID0gdmFsdWUyLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUxID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBGb3IgYmFzaWMgb2JqZWN0cywgdXNlIHRoZSBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICAgIC8vIGluIHRoZSBjb2xsZWN0aW9uIGluc3RlYWQgb2YgdGhlIHZhbHVlXG4gICAgICAgIGlmIChpc09iamVjdCh2YWx1ZTEpKSB2YWx1ZTEgPSB2MS5pbmRleDtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlMikpIHZhbHVlMiA9IHYyLmluZGV4O1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWUxICE9PSB2YWx1ZTIpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWUxIDwgdmFsdWUyID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSB0eXBlMSA8IHR5cGUyID8gLTEgOiAxO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICBkaXJlY3RpdmUgPSB7XG4gICAgICBsaW5rOiBkaXJlY3RpdmVcbiAgICB9O1xuICB9XG4gIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnQUMnO1xuICByZXR1cm4gdmFsdWVGbihkaXJlY3RpdmUpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGFcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBNb2RpZmllcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgaHRtbCBBIHRhZyBzbyB0aGF0IHRoZSBkZWZhdWx0IGFjdGlvbiBpcyBwcmV2ZW50ZWQgd2hlblxuICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LlxuICpcbiAqIFRoaXMgY2hhbmdlIHBlcm1pdHMgdGhlIGVhc3kgY3JlYXRpb24gb2YgYWN0aW9uIGxpbmtzIHdpdGggdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmVcbiAqIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGxvY2F0aW9uIG9yIGNhdXNpbmcgcGFnZSByZWxvYWRzLCBlLmcuOlxuICogYDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cImxpc3QuYWRkSXRlbSgpXCI+QWRkIEl0ZW08L2E+YFxuICovXG52YXIgaHRtbEFuY2hvckRpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0UnLFxuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgaWYgKCFhdHRyLmhyZWYgJiYgIWF0dHIueGxpbmtIcmVmKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgLy8gSWYgdGhlIGxpbmtlZCBlbGVtZW50IGlzIG5vdCBhbiBhbmNob3IgdGFnIGFueW1vcmUsIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKGVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2EnKSByZXR1cm47XG5cbiAgICAgICAgLy8gU1ZHQUVsZW1lbnQgZG9lcyBub3QgdXNlIHRoZSBocmVmIGF0dHJpYnV0ZSwgYnV0IHJhdGhlciB0aGUgJ3hsaW5rSHJlZicgYXR0cmlidXRlLlxuICAgICAgICB2YXIgaHJlZiA9IHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nID9cbiAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZicgOiAnaHJlZic7XG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vIGhyZWYgdXJsLCB0aGVuIGRvbid0IG5hdmlnYXRlIGFueXdoZXJlLlxuICAgICAgICAgIGlmICghZWxlbWVudC5hdHRyKGhyZWYpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdIcmVmXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYW4gaHJlZiBhdHRyaWJ1dGUgd2lsbFxuICogbWFrZSB0aGUgbGluayBnbyB0byB0aGUgd3JvbmcgVVJMIGlmIHRoZSB1c2VyIGNsaWNrcyBpdCBiZWZvcmVcbiAqIEFuZ3VsYXIgaGFzIGEgY2hhbmNlIHRvIHJlcGxhY2UgdGhlIGB7e2hhc2h9fWAgbWFya3VwIHdpdGggaXRzXG4gKiB2YWx1ZS4gVW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgbWFya3VwIHRoZSBsaW5rIHdpbGwgYmUgYnJva2VuXG4gKiBhbmQgd2lsbCBtb3N0IGxpa2VseSByZXR1cm4gYSA0MDQgZXJyb3IuIFRoZSBgbmdIcmVmYCBkaXJlY3RpdmVcbiAqIHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogVGhlIHdyb25nIHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxhIGhyZWY9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIj5saW5rMTwvYT5cbiAqIGBgYFxuICpcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxhIG5nLWhyZWY9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIj5saW5rMTwvYT5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IEFcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nSHJlZiBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyB2YXJpb3VzIGNvbWJpbmF0aW9ucyBvZiBgaHJlZmAsIGBuZy1ocmVmYCBhbmQgYG5nLWNsaWNrYCBhdHRyaWJ1dGVzXG4gKiBpbiBsaW5rcyBhbmQgdGhlaXIgZGlmZmVyZW50IGJlaGF2aW9yczpcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbHVlXCIgLz48YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTFcIiBocmVmIG5nLWNsaWNrPVwidmFsdWUgPSAxXCI+bGluayAxPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstMlwiIGhyZWY9XCJcIiBuZy1jbGljaz1cInZhbHVlID0gMlwiPmxpbmsgMjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTNcIiBuZy1ocmVmPVwiL3t7JzEyMyd9fVwiPmxpbmsgMzwvYT4gKGxpbmssIHJlbG9hZCEpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay00XCIgaHJlZj1cIlwiIG5hbWU9XCJ4eFwiIG5nLWNsaWNrPVwidmFsdWUgPSA0XCI+YW5jaG9yPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstNVwiIG5hbWU9XCJ4eHhcIiBuZy1jbGljaz1cInZhbHVlID0gNVwiPmFuY2hvcjwvYT4gKG5vIGxpbmspPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay02XCIgbmctaHJlZj1cInt7dmFsdWV9fVwiPmxpbms8L2E+IChsaW5rLCBjaGFuZ2UgbG9jYXRpb24pXG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgd2l0aG91dCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMScpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzEnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0xJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTInKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcyJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBhbmQgY2hhbmdlIHVybCB3aGVuIG5nLWhyZWYgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMycpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvMTIzJC8pO1xuXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0zJykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gdXNlIGJyb3dzZXIuZHJpdmVyIHRvIGdldCB0aGUgYmFzZSB3ZWJkcml2ZXIuXG5cbiAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cmwubWF0Y2goL1xcLzEyMyQvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvMTIzJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nIGFuZCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay00JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gbm8gaHJlZiBidXQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTUnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc1Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZShudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBvbmx5IGNoYW5nZSB1cmwgd2hlbiBvbmx5IG5nLWhyZWYnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5jbGVhcigpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLnNlbmRLZXlzKCc2Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvNiQvKTtcblxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5jbGljaygpO1xuXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxuICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvNiQvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvNicpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NyY1xuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSA5OVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY2AgYXR0cmlidXRlIGRvZXNuJ3RcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcbiAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBleHByZXNzaW9uIGluc2lkZVxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY2AgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogVGhlIGJ1Z2d5IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIgYWx0PVwiRGVzY3JpcHRpb25cIi8+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIG5nLXNyYz1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiIGFsdD1cIkRlc2NyaXB0aW9uXCIgLz5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IElNR1xuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmMgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTcmNzZXRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNzZXRgIGF0dHJpYnV0ZSBkb2Vzbid0XG4gKiB3b3JrIHJpZ2h0OiBUaGUgYnJvd3NlciB3aWxsIGZldGNoIGZyb20gdGhlIFVSTCB3aXRoIHRoZSBsaXRlcmFsXG4gKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcbiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNzZXRgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxuICpcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIHNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiIGFsdD1cIkRlc2NyaXB0aW9uXCIvPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBuZy1zcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIiBhbHQ9XCJEZXNjcmlwdGlvblwiIC8+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBJTUdcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nU3Jjc2V0IGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRGlzYWJsZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgc2V0cyB0aGUgYGRpc2FibGVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaWYgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnNpZGUgYG5nRGlzYWJsZWRgIGV2YWx1YXRlcyB0byB0cnV0aHkuXG4gKlxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgZGlzYWJsZWRgXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGxhYmVsPkNsaWNrIG1lIHRvIHRvZ2dsZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPGJ1dHRvbiBuZy1tb2RlbD1cImJ1dHRvblwiIG5nLWRpc2FibGVkPVwiY2hlY2tlZFwiPkJ1dHRvbjwvYnV0dG9uPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBidXR0b24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGlzYWJsZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NoZWNrZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXRzIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nQ2hlY2tlZGAgaXMgdHJ1dGh5LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGRpcmVjdGl2ZSBzaG91bGQgbm90IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LFxuICogYXMgdGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLlxuICpcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYGNoZWNrZWRgXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIGNoZWNrIGJvdGg6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cIm1hc3RlclwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPGlucHV0IGlkPVwiY2hlY2tTbGF2ZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLWNoZWNrZWQ9XCJtYXN0ZXJcIiBhcmlhLWxhYmVsPVwiU2xhdmUgaW5wdXRcIj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBib3RoIGNoZWNrQm94ZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnbWFzdGVyJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hlY2tlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdSZWFkb25seVxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBTZXRzIHRoZSBgcmVhZG9ubHlgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ1JlYWRvbmx5YCBpcyB0cnV0aHkuXG4gKiBOb3RlIHRoYXQgYHJlYWRvbmx5YCBhcHBsaWVzIG9ubHkgdG8gYGlucHV0YCBlbGVtZW50cyB3aXRoIHNwZWNpZmljIHR5cGVzLiBbU2VlIHRoZSBpbnB1dCBkb2NzIG9uXG4gKiBNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pbnB1dCNhdHRyLXJlYWRvbmx5KSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGByZWFkb25seWBcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gbWFrZSB0ZXh0IHJlYWRvbmx5OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZWFkb25seT1cImNoZWNrZWRcIiB2YWx1ZT1cIkknbSBBbmd1bGFyXCIgYXJpYS1sYWJlbD1cIlJlYWRvbmx5IGZpZWxkXCIgLz5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgcmVhZG9ubHkgYXR0cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgSU5QVVRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdSZWFkb25seSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJyZWFkb25seVwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU2VsZWN0ZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2V0cyB0aGUgYHNlbGVjdGVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdTZWxlY3RlZGAgaXMgdHJ1dGh5LlxuICpcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYHNlbGVjdGVkYFxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICAgKipOb3RlOioqIGBuZ1NlbGVjdGVkYCBkb2VzIG5vdCBpbnRlcmFjdCB3aXRoIHRoZSBgc2VsZWN0YCBhbmQgYG5nTW9kZWxgIGRpcmVjdGl2ZXMsIGl0IG9ubHlcbiAqICAgc2V0cyB0aGUgYHNlbGVjdGVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQuIElmIHlvdSBhcmUgdXNpbmcgYG5nTW9kZWxgIG9uIHRoZSBzZWxlY3QsIHlvdVxuICogICBzaG91bGQgbm90IHVzZSBgbmdTZWxlY3RlZGAgb24gdGhlIG9wdGlvbnMsIGFzIGBuZ01vZGVsYCB3aWxsIHNldCB0aGUgc2VsZWN0IHZhbHVlIGFuZFxuICogICBzZWxlY3RlZCBvcHRpb25zLlxuICogPC9kaXY+XG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBzZWxlY3Q6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICA8c2VsZWN0IGFyaWEtbGFiZWw9XCJuZ1NlbGVjdGVkIGRlbW9cIj5cbiAgICAgICAgICA8b3B0aW9uPkhlbGxvITwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gaWQ9XCJncmVldFwiIG5nLXNlbGVjdGVkPVwic2VsZWN0ZWRcIj5HcmVldGluZ3MhPC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHNlbGVjdCBHcmVldGluZ3MhJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc2VsZWN0ZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBPUFRJT05cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTZWxlY3RlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJzZWxlY3RlZFwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ09wZW5cbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2V0cyB0aGUgYG9wZW5gIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ09wZW5gIGlzIHRydXRoeS5cbiAqXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBvcGVuYFxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXG4gKlxuICogIyMgQSBub3RlIGFib3V0IGJyb3dzZXIgY29tcGF0aWJpbGl0eVxuICpcbiAqIEVkZ2UsIEZpcmVmb3gsIGFuZCBJbnRlcm5ldCBFeHBsb3JlciBkbyBub3Qgc3VwcG9ydCB0aGUgYGRldGFpbHNgIGVsZW1lbnQsIGl0IGlzXG4gKiByZWNvbW1lbmRlZCB0byB1c2Uge0BsaW5rIG5nLm5nU2hvd30gYW5kIHtAbGluayBuZy5uZ0hpZGV9IGluc3RlYWQuXG4gKlxuICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxsYWJlbD5DaGVjayBtZSBjaGVjayBtdWx0aXBsZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwib3BlblwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgIDxkZXRhaWxzIGlkPVwiZGV0YWlsc1wiIG5nLW9wZW49XCJvcGVuXCI+XG4gICAgICAgICAgICA8c3VtbWFyeT5TaG93L0hpZGUgbWU8L3N1bW1hcnk+XG4gICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdvcGVuJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICB9KTtcbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBERVRBSUxTXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJvcGVuXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG52YXIgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMgPSB7fTtcblxuLy8gYm9vbGVhbiBhdHRycyBhcmUgZXZhbHVhdGVkXG5mb3JFYWNoKEJPT0xFQU5fQVRUUiwgZnVuY3Rpb24ocHJvcE5hbWUsIGF0dHJOYW1lKSB7XG4gIC8vIGJpbmRpbmcgdG8gbXVsdGlwbGUgaXMgbm90IHN1cHBvcnRlZFxuICBpZiAocHJvcE5hbWUgPT0gXCJtdWx0aXBsZVwiKSByZXR1cm47XG5cbiAgZnVuY3Rpb24gZGVmYXVsdExpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgIHNjb3BlLiR3YXRjaChhdHRyW25vcm1hbGl6ZWRdLCBmdW5jdGlvbiBuZ0Jvb2xlYW5BdHRyV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgIGF0dHIuJHNldChhdHRyTmFtZSwgISF2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcbiAgdmFyIGxpbmtGbiA9IGRlZmF1bHRMaW5rRm47XG5cbiAgaWYgKHByb3BOYW1lID09PSAnY2hlY2tlZCcpIHtcbiAgICBsaW5rRm4gPSBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgLy8gZW5zdXJpbmcgbmdDaGVja2VkIGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggbmdNb2RlbCB3aGVuIGJvdGggYXJlIHNldCBvbiB0aGUgc2FtZSBpbnB1dFxuICAgICAgaWYgKGF0dHIubmdNb2RlbCAhPT0gYXR0cltub3JtYWxpemVkXSkge1xuICAgICAgICBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICBsaW5rOiBsaW5rRm5cbiAgICB9O1xuICB9O1xufSk7XG5cbi8vIGFsaWFzZWQgaW5wdXQgYXR0cnMgYXJlIGV2YWx1YXRlZFxuZm9yRWFjaChBTElBU0VEX0FUVFIsIGZ1bmN0aW9uKGh0bWxBdHRyLCBuZ0F0dHIpIHtcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbmdBdHRyXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmlvcml0eTogMTAwLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgLy9zcGVjaWFsIGNhc2UgbmdQYXR0ZXJuIHdoZW4gYSBsaXRlcmFsIHJlZ3VsYXIgZXhwcmVzc2lvbiB2YWx1ZVxuICAgICAgICAvL2lzIHVzZWQgYXMgdGhlIGV4cHJlc3Npb24gKHRoaXMgd2F5IHdlIGRvbid0IGhhdmUgdG8gd2F0Y2ggYW55dGhpbmcpLlxuICAgICAgICBpZiAobmdBdHRyID09PSBcIm5nUGF0dGVyblwiICYmIGF0dHIubmdQYXR0ZXJuLmNoYXJBdCgwKSA9PSBcIi9cIikge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGF0dHIubmdQYXR0ZXJuLm1hdGNoKFJFR0VYX1NUUklOR19SRUdFWFApO1xuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgYXR0ci4kc2V0KFwibmdQYXR0ZXJuXCIsIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmdBdHRyXSwgZnVuY3Rpb24gbmdBdHRyQWxpYXNXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGF0dHIuJHNldChuZ0F0dHIsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vLyBuZy1zcmMsIG5nLXNyY3NldCwgbmctaHJlZiBhcmUgaW50ZXJwb2xhdGVkXG5mb3JFYWNoKFsnc3JjJywgJ3NyY3NldCcsICdocmVmJ10sIGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmlvcml0eTogOTksIC8vIGl0IG5lZWRzIHRvIHJ1biBhZnRlciB0aGUgYXR0cmlidXRlcyBhcmUgaW50ZXJwb2xhdGVkXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBhdHRyTmFtZSxcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyTmFtZTtcblxuICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJyAmJlxuICAgICAgICAgICAgdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgICBuYW1lID0gJ3hsaW5rSHJlZic7XG4gICAgICAgICAgYXR0ci4kYXR0cltuYW1lXSA9ICd4bGluazpocmVmJztcbiAgICAgICAgICBwcm9wTmFtZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0dHIuJHNldChuYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgICAvLyBvbiBJRSwgaWYgXCJuZzpzcmNcIiBkaXJlY3RpdmUgZGVjbGFyYXRpb24gaXMgdXNlZCBhbmQgXCJzcmNcIiBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdFxuICAgICAgICAgIC8vIHRoZW4gY2FsbGluZyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ZvbycpIGRvZXNuJ3QgZG8gYW55dGhpbmcsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBzZXQgdGhlIHByb3BlcnR5IGFzIHdlbGwgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAgICAgICAgLy8gd2UgdXNlIGF0dHJbYXR0ck5hbWVdIHZhbHVlIHNpbmNlICRzZXQgY2FuIHNhbml0aXplIHRoZSB1cmwuXG4gICAgICAgICAgaWYgKG1zaWUgJiYgcHJvcE5hbWUpIGVsZW1lbnQucHJvcChwcm9wTmFtZSwgYXR0cltuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59KTtcblxuLyogZ2xvYmFsIC1udWxsRm9ybUN0cmwsIC1TVUJNSVRURURfQ0xBU1MsIGFkZFNldFZhbGlkaXR5TWV0aG9kOiB0cnVlXG4gKi9cbnZhciBudWxsRm9ybUN0cmwgPSB7XG4gICRhZGRDb250cm9sOiBub29wLFxuICAkJHJlbmFtZUNvbnRyb2w6IG51bGxGb3JtUmVuYW1lQ29udHJvbCxcbiAgJHJlbW92ZUNvbnRyb2w6IG5vb3AsXG4gICRzZXRWYWxpZGl0eTogbm9vcCxcbiAgJHNldERpcnR5OiBub29wLFxuICAkc2V0UHJpc3RpbmU6IG5vb3AsXG4gICRzZXRTdWJtaXR0ZWQ6IG5vb3Bcbn0sXG5TVUJNSVRURURfQ0xBU1MgPSAnbmctc3VibWl0dGVkJztcblxuZnVuY3Rpb24gbnVsbEZvcm1SZW5hbWVDb250cm9sKGNvbnRyb2wsIG5hbWUpIHtcbiAgY29udHJvbC4kbmFtZSA9IG5hbWU7XG59XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXJcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwcmlzdGluZSBUcnVlIGlmIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0geWV0LlxuICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgYWxsIG9mIHRoZSBjb250YWluaW5nIGZvcm1zIGFuZCBjb250cm9scyBhcmUgdmFsaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRpbnZhbGlkIFRydWUgaWYgYXQgbGVhc3Qgb25lIGNvbnRhaW5pbmcgY29udHJvbCBvciBmb3JtIGlzIGludmFsaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwZW5kaW5nIFRydWUgaWYgYXQgbGVhc3Qgb25lIGNvbnRhaW5pbmcgY29udHJvbCBvciBmb3JtIGlzIHBlbmRpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRzdWJtaXR0ZWQgVHJ1ZSBpZiB1c2VyIGhhcyBzdWJtaXR0ZWQgdGhlIGZvcm0gZXZlbiBpZiBpdHMgaW52YWxpZC5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIElzIGFuIG9iamVjdCBoYXNoLCBjb250YWluaW5nIHJlZmVyZW5jZXMgdG8gY29udHJvbHMgb3JcbiAqICBmb3JtcyB3aXRoIGZhaWxpbmcgdmFsaWRhdG9ycywgd2hlcmU6XG4gKlxuICogIC0ga2V5cyBhcmUgdmFsaWRhdGlvbiB0b2tlbnMgKGVycm9yIG5hbWVzKSxcbiAqICAtIHZhbHVlcyBhcmUgYXJyYXlzIG9mIGNvbnRyb2xzIG9yIGZvcm1zIHRoYXQgaGF2ZSBhIGZhaWxpbmcgdmFsaWRhdG9yIGZvciBnaXZlbiBlcnJvciBuYW1lLlxuICpcbiAqICBCdWlsdC1pbiB2YWxpZGF0aW9uIHRva2VuczpcbiAqXG4gKiAgLSBgZW1haWxgXG4gKiAgLSBgbWF4YFxuICogIC0gYG1heGxlbmd0aGBcbiAqICAtIGBtaW5gXG4gKiAgLSBgbWlubGVuZ3RoYFxuICogIC0gYG51bWJlcmBcbiAqICAtIGBwYXR0ZXJuYFxuICogIC0gYHJlcXVpcmVkYFxuICogIC0gYHVybGBcbiAqICAtIGBkYXRlYFxuICogIC0gYGRhdGV0aW1lbG9jYWxgXG4gKiAgLSBgdGltZWBcbiAqICAtIGB3ZWVrYFxuICogIC0gYG1vbnRoYFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYEZvcm1Db250cm9sbGVyYCBrZWVwcyB0cmFjayBvZiBhbGwgaXRzIGNvbnRyb2xzIGFuZCBuZXN0ZWQgZm9ybXMgYXMgd2VsbCBhcyB0aGUgc3RhdGUgb2YgdGhlbSxcbiAqIHN1Y2ggYXMgYmVpbmcgdmFsaWQvaW52YWxpZCBvciBkaXJ0eS9wcmlzdGluZS5cbiAqXG4gKiBFYWNoIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfSBkaXJlY3RpdmUgY3JlYXRlcyBhbiBpbnN0YW5jZVxuICogb2YgYEZvcm1Db250cm9sbGVyYC5cbiAqXG4gKi9cbi8vYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXG5Gb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckZWxlbWVudCcsICckYXR0cnMnLCAnJHNjb3BlJywgJyRhbmltYXRlJywgJyRpbnRlcnBvbGF0ZSddO1xuZnVuY3Rpb24gRm9ybUNvbnRyb2xsZXIoZWxlbWVudCwgYXR0cnMsICRzY29wZSwgJGFuaW1hdGUsICRpbnRlcnBvbGF0ZSkge1xuICB2YXIgZm9ybSA9IHRoaXMsXG4gICAgICBjb250cm9scyA9IFtdO1xuXG4gIC8vIGluaXQgc3RhdGVcbiAgZm9ybS4kZXJyb3IgPSB7fTtcbiAgZm9ybS4kJHN1Y2Nlc3MgPSB7fTtcbiAgZm9ybS4kcGVuZGluZyA9IHVuZGVmaW5lZDtcbiAgZm9ybS4kbmFtZSA9ICRpbnRlcnBvbGF0ZShhdHRycy5uYW1lIHx8IGF0dHJzLm5nRm9ybSB8fCAnJykoJHNjb3BlKTtcbiAgZm9ybS4kZGlydHkgPSBmYWxzZTtcbiAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuICBmb3JtLiR2YWxpZCA9IHRydWU7XG4gIGZvcm0uJGludmFsaWQgPSBmYWxzZTtcbiAgZm9ybS4kc3VibWl0dGVkID0gZmFsc2U7XG4gIGZvcm0uJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSb2xsYmFjayBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgdHlwaWNhbGx5IG5lZWRlZCBieSB0aGUgcmVzZXQgYnV0dG9uIG9mXG4gICAqIGEgZm9ybSB0aGF0IHVzZXMgYG5nLW1vZGVsLW9wdGlvbnNgIHRvIHBlbmQgdXBkYXRlcy5cbiAgICovXG4gIGZvcm0uJHJvbGxiYWNrVmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbW1pdCBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgcmFyZWx5IG5lZWRlZCBhcyBgTmdNb2RlbENvbnRyb2xsZXJgXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxuICAgKi9cbiAgZm9ybS4kY29tbWl0Vmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkYWRkQ29udHJvbFxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXG4gICAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyfVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBjb250cm9sIHdpdGggdGhlIGZvcm0uIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseVxuICAgKiB3aGVuIHRoZXkgYXJlIGxpbmtlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjb250cm9sIHdpbGwgbm90IGJlIHJlZmxlY3RlZCBvbiB0aGUgbmV3IHBhcmVudCBmb3JtLiBUaGlzXG4gICAqIGlzIG5vdCBhbiBpc3N1ZSB3aXRoIG5vcm1hbCB1c2UsIGFzIGZyZXNobHkgY29tcGlsZWQgYW5kIGxpbmtlZCBjb250cm9scyBhcmUgaW4gYSBgJHByaXN0aW5lYFxuICAgKiBzdGF0ZS5cbiAgICpcbiAgICogSG93ZXZlciwgaWYgdGhlIG1ldGhvZCBpcyB1c2VkIHByb2dyYW1tYXRpY2FsbHksIGZvciBleGFtcGxlIGJ5IGFkZGluZyBkeW5hbWljYWxseSBjcmVhdGVkIGNvbnRyb2xzLFxuICAgKiBvciBjb250cm9scyB0aGF0IGhhdmUgYmVlbiBwcmV2aW91c2x5IHJlbW92ZWQgd2l0aG91dCBkZXN0cm95aW5nIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnQsXG4gICAqIGl0J3MgdGhlIGRldmVsb3BlcnMgcmVzcG9uc2liaWxpdHkgdG8gbWFrZSBzdXJlIHRoZSBjdXJyZW50IHN0YXRlIHByb3BhZ2F0ZXMgdG8gdGhlIHBhcmVudCBmb3JtLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgaWYgYW4gaW5wdXQgY29udHJvbCBpcyBhZGRlZCB0aGF0IGlzIGFscmVhZHkgYCRkaXJ0eWAgYW5kIGhhcyBgJGVycm9yYCBwcm9wZXJ0aWVzLFxuICAgKiBjYWxsaW5nIGAkc2V0RGlydHkoKWAgYW5kIGAkdmFsaWRhdGUoKWAgYWZ0ZXJ3YXJkcyB3aWxsIHByb3BhZ2F0ZSB0aGUgc3RhdGUgdG8gdGhlIHBhcmVudCBmb3JtLlxuICAgKi9cbiAgZm9ybS4kYWRkQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAvLyBCcmVha2luZyBjaGFuZ2UgLSBiZWZvcmUsIGlucHV0cyB3aG9zZSBuYW1lIHdhcyBcImhhc093blByb3BlcnR5XCIgd2VyZSBxdWlldGx5IGlnbm9yZWRcbiAgICAvLyBhbmQgbm90IGFkZGVkIHRvIHRoZSBzY29wZS4gIE5vdyB3ZSB0aHJvdyBhbiBlcnJvci5cbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShjb250cm9sLiRuYW1lLCAnaW5wdXQnKTtcbiAgICBjb250cm9scy5wdXNoKGNvbnRyb2wpO1xuXG4gICAgaWYgKGNvbnRyb2wuJG5hbWUpIHtcbiAgICAgIGZvcm1bY29udHJvbC4kbmFtZV0gPSBjb250cm9sO1xuICAgIH1cblxuICAgIGNvbnRyb2wuJCRwYXJlbnRGb3JtID0gZm9ybTtcbiAgfTtcblxuICAvLyBQcml2YXRlIEFQSTogcmVuYW1lIGEgZm9ybSBjb250cm9sXG4gIGZvcm0uJCRyZW5hbWVDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCwgbmV3TmFtZSkge1xuICAgIHZhciBvbGROYW1lID0gY29udHJvbC4kbmFtZTtcblxuICAgIGlmIChmb3JtW29sZE5hbWVdID09PSBjb250cm9sKSB7XG4gICAgICBkZWxldGUgZm9ybVtvbGROYW1lXTtcbiAgICB9XG4gICAgZm9ybVtuZXdOYW1lXSA9IGNvbnRyb2w7XG4gICAgY29udHJvbC4kbmFtZSA9IG5ld05hbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcmVtb3ZlQ29udHJvbFxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXG4gICAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyfVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRGVyZWdpc3RlciBhIGNvbnRyb2wgZnJvbSB0aGUgZm9ybS5cbiAgICpcbiAgICogSW5wdXQgZWxlbWVudHMgdXNpbmcgbmdNb2RlbENvbnRyb2xsZXIgZG8gdGhpcyBhdXRvbWF0aWNhbGx5IHdoZW4gdGhleSBhcmUgZGVzdHJveWVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgb25seSB0aGUgcmVtb3ZlZCBjb250cm9sJ3MgdmFsaWRhdGlvbiBzdGF0ZSAoYCRlcnJvcnNgZXRjLikgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlXG4gICAqIGZvcm0uIGAkZGlydHlgLCBgJHN1Ym1pdHRlZGAgc3RhdGVzIHdpbGwgbm90IGJlIGNoYW5nZWQsIGJlY2F1c2UgdGhlIGV4cGVjdGVkIGJlaGF2aW9yIGNhbiBiZVxuICAgKiBkaWZmZXJlbnQgZnJvbSBjYXNlIHRvIGNhc2UuIEZvciBleGFtcGxlLCByZW1vdmluZyB0aGUgb25seSBgJGRpcnR5YCBjb250cm9sIGZyb20gYSBmb3JtIG1heSBvclxuICAgKiBtYXkgbm90IG1lYW4gdGhhdCB0aGUgZm9ybSBpcyBzdGlsbCBgJGRpcnR5YC5cbiAgICovXG4gIGZvcm0uJHJlbW92ZUNvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgaWYgKGNvbnRyb2wuJG5hbWUgJiYgZm9ybVtjb250cm9sLiRuYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV07XG4gICAgfVxuICAgIGZvckVhY2goZm9ybS4kcGVuZGluZywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0pO1xuICAgIGZvckVhY2goZm9ybS4kZXJyb3IsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKGZvcm0uJCRzdWNjZXNzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgZm9ybS4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XG4gICAgfSk7XG5cbiAgICBhcnJheVJlbW92ZShjb250cm9scywgY29udHJvbCk7XG4gICAgY29udHJvbC4kJHBhcmVudEZvcm0gPSBudWxsRm9ybUN0cmw7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRWYWxpZGl0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgdmFsaWRpdHkgb2YgYSBmb3JtIGNvbnRyb2wuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gcGFyZW50IGZvcm1zLlxuICAgKi9cbiAgYWRkU2V0VmFsaWRpdHlNZXRob2Qoe1xuICAgIGN0cmw6IHRoaXMsXG4gICAgJGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XG4gICAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IFtjb250cm9sbGVyXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihjb250cm9sbGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIGxpc3QucHVzaChjb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdW5zZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2xsZXIpIHtcbiAgICAgIHZhciBsaXN0ID0gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgIGlmICghbGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcnJheVJlbW92ZShsaXN0LCBjb250cm9sbGVyKTtcbiAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgIH1cbiAgICB9LFxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXREaXJ0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBhIGRpcnR5IHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIGFkZCB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGEgZGlydHlcbiAgICogc3RhdGUgKG5nLWRpcnR5IGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuXG4gICAqL1xuICBmb3JtLiRzZXREaXJ0eSA9IGZ1bmN0aW9uKCkge1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgZm9ybS4kZGlydHkgPSB0cnVlO1xuICAgIGZvcm0uJHByaXN0aW5lID0gZmFsc2U7XG4gICAgZm9ybS4kJHBhcmVudEZvcm0uJHNldERpcnR5KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZVxuICAgKiBzdGF0ZSAobmctcHJpc3RpbmUgY2xhc3MpLiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIGFsbCB0aGUgY29udHJvbHMgY29udGFpbmVkXG4gICAqIGluIHRoaXMgZm9ybS5cbiAgICpcbiAgICogU2V0dGluZyBhIGZvcm0gYmFjayB0byBhIHByaXN0aW5lIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gJ3JldXNlJyBhIGZvcm0gYWZ0ZXJcbiAgICogc2F2aW5nIG9yIHJlc2V0dGluZyBpdC5cbiAgICovXG4gIGZvcm0uJHNldFByaXN0aW5lID0gZnVuY3Rpb24oKSB7XG4gICAgJGFuaW1hdGUuc2V0Q2xhc3MoZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MsIERJUlRZX0NMQVNTICsgJyAnICsgU1VCTUlUVEVEX0NMQVNTKTtcbiAgICBmb3JtLiRkaXJ0eSA9IGZhbHNlO1xuICAgIGZvcm0uJHByaXN0aW5lID0gdHJ1ZTtcbiAgICBmb3JtLiRzdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRzZXRQcmlzdGluZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFVudG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgdW50b3VjaGVkIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLXRvdWNoZWQnIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gY29udHJvbHMgdG8gdGhlaXJcbiAgICogdW50b3VjaGVkIHN0YXRlIChuZy11bnRvdWNoZWQgY2xhc3MpLlxuICAgKlxuICAgKiBTZXR0aW5nIGEgZm9ybSBjb250cm9scyBiYWNrIHRvIHRoZWlyIHVudG91Y2hlZCBzdGF0ZSBpcyBvZnRlbiB1c2VmdWwgd2hlbiBzZXR0aW5nIHRoZSBmb3JtXG4gICAqIGJhY2sgdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxuICAgKi9cbiAgZm9ybS4kc2V0VW50b3VjaGVkID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kc2V0VW50b3VjaGVkKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0U3VibWl0dGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBzdWJtaXR0ZWQgc3RhdGUuXG4gICAqL1xuICBmb3JtLiRzZXRTdWJtaXR0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBTVUJNSVRURURfQ0xBU1MpO1xuICAgIGZvcm0uJHN1Ym1pdHRlZCA9IHRydWU7XG4gICAgZm9ybS4kJHBhcmVudEZvcm0uJHNldFN1Ym1pdHRlZCgpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRm9ybVxuICogQHJlc3RyaWN0IEVBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTmVzdGFibGUgYWxpYXMgb2Yge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGBmb3JtYH0gZGlyZWN0aXZlLiBIVE1MXG4gKiBkb2VzIG5vdCBhbGxvdyBuZXN0aW5nIG9mIGZvcm0gZWxlbWVudHMuIEl0IGlzIHVzZWZ1bCB0byBuZXN0IGZvcm1zLCBmb3IgZXhhbXBsZSBpZiB0aGUgdmFsaWRpdHkgb2YgYVxuICogc3ViLWdyb3VwIG9mIGNvbnRyb2xzIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXG4gKlxuICogTm90ZTogdGhlIHB1cnBvc2Ugb2YgYG5nRm9ybWAgaXMgdG8gZ3JvdXAgY29udHJvbHMsXG4gKiBidXQgbm90IHRvIGJlIGEgcmVwbGFjZW1lbnQgZm9yIHRoZSBgPGZvcm0+YCB0YWcgd2l0aCBhbGwgb2YgaXRzIGNhcGFiaWxpdGllc1xuICogKGUuZy4gcG9zdGluZyB0byB0aGUgc2VydmVyLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdGb3JtfG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG9cbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXG4gKlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGZvcm1cbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEaXJlY3RpdmUgdGhhdCBpbnN0YW50aWF0ZXNcbiAqIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyIEZvcm1Db250cm9sbGVyfS5cbiAqXG4gKiBJZiB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgaXMgcHVibGlzaGVkIG9udG8gdGhlIGN1cnJlbnQgc2NvcGUgdW5kZXJcbiAqIHRoaXMgbmFtZS5cbiAqXG4gKiAjIEFsaWFzOiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH1cbiAqXG4gKiBJbiBBbmd1bGFyLCBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXG4gKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH0gZGlyZWN0aXZlLCB3aGljaCBiZWhhdmVzIGlkZW50aWNhbGx5IHRvXG4gKiBgZm9ybWAgYnV0IGNhbiBiZSBuZXN0ZWQuIE5lc3RlZCBmb3JtcyBjYW4gYmUgdXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgdGhlIHZhbGlkaXR5IG9mIGEgc3ViLWdyb3VwXG4gKiBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxuICpcbiAqICMgQ1NTIGNsYXNzZXNcbiAqICAtIGBuZy12YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIHZhbGlkLlxuICogIC0gYG5nLWludmFsaWRgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBpbnZhbGlkLlxuICogIC0gYG5nLXBlbmRpbmdgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwZW5kaW5nLlxuICogIC0gYG5nLXByaXN0aW5lYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgcHJpc3RpbmUuXG4gKiAgLSBgbmctZGlydHlgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBkaXJ0eS5cbiAqICAtIGBuZy1zdWJtaXR0ZWRgIGlzIHNldCBpZiB0aGUgZm9ybSB3YXMgc3VibWl0dGVkLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxuICpcbiAqXG4gKiAjIFN1Ym1pdHRpbmcgYSBmb3JtIGFuZCBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvblxuICpcbiAqIFNpbmNlIHRoZSByb2xlIG9mIGZvcm1zIGluIGNsaWVudC1zaWRlIEFuZ3VsYXIgYXBwbGljYXRpb25zIGlzIGRpZmZlcmVudCB0aGFuIGluIGNsYXNzaWNhbFxuICogcm91bmR0cmlwIGFwcHMsIGl0IGlzIGRlc2lyYWJsZSBmb3IgdGhlIGJyb3dzZXIgbm90IHRvIHRyYW5zbGF0ZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGludG8gYSBmdWxsXG4gKiBwYWdlIHJlbG9hZCB0aGF0IHNlbmRzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXIuIEluc3RlYWQgc29tZSBqYXZhc2NyaXB0IGxvZ2ljIHNob3VsZCBiZSB0cmlnZ2VyZWRcbiAqIHRvIGhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGluIGFuIGFwcGxpY2F0aW9uLXNwZWNpZmljIHdheS5cbiAqXG4gKiBGb3IgdGhpcyByZWFzb24sIEFuZ3VsYXIgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uIChmb3JtIHN1Ym1pc3Npb24gdG8gdGhlIHNlcnZlcikgdW5sZXNzIHRoZVxuICogYDxmb3JtPmAgZWxlbWVudCBoYXMgYW4gYGFjdGlvbmAgYXR0cmlidXRlIHNwZWNpZmllZC5cbiAqXG4gKiBZb3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB0d28gd2F5cyB0byBzcGVjaWZ5IHdoYXQgamF2YXNjcmlwdCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXG4gKiBhIGZvcm0gaXMgc3VibWl0dGVkOlxuICpcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH0gZGlyZWN0aXZlIG9uIHRoZSBmb3JtIGVsZW1lbnRcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9IGRpcmVjdGl2ZSBvbiB0aGUgZmlyc3RcbiAgKiAgYnV0dG9uIG9yIGlucHV0IGZpZWxkIG9mIHR5cGUgc3VibWl0IChpbnB1dFt0eXBlPXN1Ym1pdF0pXG4gKlxuICogVG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uIG9mIHRoZSBoYW5kbGVyLCB1c2Ugb25seSBvbmUgb2YgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdTdWJtaXQgbmdTdWJtaXR9XG4gKiBvciB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlcy5cbiAqIFRoaXMgaXMgYmVjYXVzZSBvZiB0aGUgZm9sbG93aW5nIGZvcm0gc3VibWlzc2lvbiBydWxlcyBpbiB0aGUgSFRNTCBzcGVjaWZpY2F0aW9uOlxuICpcbiAqIC0gSWYgYSBmb3JtIGhhcyBvbmx5IG9uZSBpbnB1dCBmaWVsZCB0aGVuIGhpdHRpbmcgZW50ZXIgaW4gdGhpcyBmaWVsZCB0cmlnZ2VycyBmb3JtIHN1Ym1pdFxuICogKGBuZ1N1Ym1pdGApXG4gKiAtIGlmIGEgZm9ybSBoYXMgMisgaW5wdXQgZmllbGRzIGFuZCBubyBidXR0b25zIG9yIGlucHV0W3R5cGU9c3VibWl0XSB0aGVuIGhpdHRpbmcgZW50ZXJcbiAqIGRvZXNuJ3QgdHJpZ2dlciBzdWJtaXRcbiAqIC0gaWYgYSBmb3JtIGhhcyBvbmUgb3IgbW9yZSBpbnB1dCBmaWVsZHMgYW5kIG9uZSBvciBtb3JlIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW5cbiAqIGhpdHRpbmcgZW50ZXIgaW4gYW55IG9mIHRoZSBpbnB1dCBmaWVsZHMgd2lsbCB0cmlnZ2VyIHRoZSBjbGljayBoYW5kbGVyIG9uIHRoZSAqZmlyc3QqIGJ1dHRvbiBvclxuICogaW5wdXRbdHlwZT1zdWJtaXRdIChgbmdDbGlja2ApICphbmQqIGEgc3VibWl0IGhhbmRsZXIgb24gdGhlIGVuY2xvc2luZyBmb3JtIChgbmdTdWJtaXRgKVxuICpcbiAqIEFueSBwZW5kaW5nIGBuZ01vZGVsT3B0aW9uc2AgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpc1xuICogc3VibWl0dGVkLiBOb3RlIHRoYXQgYG5nQ2xpY2tgIGV2ZW50cyB3aWxsIG9jY3VyIGJlZm9yZSB0aGUgbW9kZWwgaXMgdXBkYXRlZC4gVXNlIGBuZ1N1Ym1pdGBcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxuICpcbiAqICMjIEFuaW1hdGlvbiBIb29rc1xuICpcbiAqIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkLlxuICogVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCwgYC5uZy1pbnZhbGlkYCBhbmQgYC5uZy12YWxpZGAgYXMgd2VsbCBhcyBhbnlcbiAqIG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCB3aXRoaW4gdGhlIGZvcm0uIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSBzaW1pbGFyIHRvIGhvd1xuICogdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGxcbiAqIGFzIEpTIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhIGZvcm0gZWxlbWVudFxuICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcbiAqXG4gKiA8cHJlPlxuICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcbiAqIC5teS1mb3JtIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICogfVxuICogLm15LWZvcm0ubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCIgbW9kdWxlPVwiZm9ybUV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdmb3JtRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRm9ybUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS51c2VyVHlwZSA9ICdndWVzdCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8c3R5bGU+XG4gICAgICAgIC5teS1mb3JtIHtcbiAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICAubXktZm9ybS5uZy1pbnZhbGlkIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRm9ybUNvbnRyb2xsZXJcIiBjbGFzcz1cIm15LWZvcm1cIj5cbiAgICAgICAgIHVzZXJUeXBlOiA8aW5wdXQgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ1c2VyVHlwZVwiIHJlcXVpcmVkPlxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+UmVxdWlyZWQhPC9zcGFuPjxicj5cbiAgICAgICAgIDxjb2RlPnVzZXJUeXBlID0ge3t1c2VyVHlwZX19PC9jb2RlPjxicj5cbiAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XG4gICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L2NvZGU+PGJyPlxuICAgICAgICAgPGNvZGU+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC9jb2RlPjxicj5cbiAgICAgICAgIDxjb2RlPm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxicj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIHVzZXJJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXJUeXBlJykpO1xuXG4gICAgICAgICAgdXNlcklucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlcklucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3VzZXJUeXBlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG9cbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXG4gKi9cbnZhciBmb3JtRGlyZWN0aXZlRmFjdG9yeSA9IGZ1bmN0aW9uKGlzTmdGb3JtKSB7XG4gIHJldHVybiBbJyR0aW1lb3V0JywgJyRwYXJzZScsIGZ1bmN0aW9uKCR0aW1lb3V0LCAkcGFyc2UpIHtcbiAgICB2YXIgZm9ybURpcmVjdGl2ZSA9IHtcbiAgICAgIG5hbWU6ICdmb3JtJyxcbiAgICAgIHJlc3RyaWN0OiBpc05nRm9ybSA/ICdFQUMnIDogJ0UnLFxuICAgICAgcmVxdWlyZTogWydmb3JtJywgJ15eP2Zvcm0nXSwgLy9maXJzdCBpcyB0aGUgZm9ybSdzIG93biBjdHJsLCBzZWNvbmQgaXMgYW4gb3B0aW9uYWwgcGFyZW50IGZvcm1cbiAgICAgIGNvbnRyb2xsZXI6IEZvcm1Db250cm9sbGVyLFxuICAgICAgY29tcGlsZTogZnVuY3Rpb24gbmdGb3JtQ29tcGlsZShmb3JtRWxlbWVudCwgYXR0cikge1xuICAgICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXG4gICAgICAgIGZvcm1FbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XG5cbiAgICAgICAgdmFyIG5hbWVBdHRyID0gYXR0ci5uYW1lID8gJ25hbWUnIDogKGlzTmdGb3JtICYmIGF0dHIubmdGb3JtID8gJ25nRm9ybScgOiBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nRm9ybVByZUxpbmsoc2NvcGUsIGZvcm1FbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjdHJsc1swXTtcblxuICAgICAgICAgICAgLy8gaWYgYGFjdGlvbmAgYXR0ciBpcyBub3QgcHJlc2VudCBvbiB0aGUgZm9ybSwgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gKHN1Ym1pc3Npb24pXG4gICAgICAgICAgICBpZiAoISgnYWN0aW9uJyBpbiBhdHRyKSkge1xuICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1c2UganEgZXZlbnRzIGJlY2F1c2UgaWYgYSBmb3JtIGlzIGRlc3Ryb3llZCBkdXJpbmcgc3VibWlzc2lvbiB0aGUgZGVmYXVsdFxuICAgICAgICAgICAgICAvLyBhY3Rpb24gaXMgbm90IHByZXZlbnRlZC4gc2VlICMxMjM4XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vIElFIDkgaXMgbm90IGFmZmVjdGVkIGJlY2F1c2UgaXQgZG9lc24ndCBmaXJlIGEgc3VibWl0IGV2ZW50IGFuZCB0cnkgdG8gZG8gYSBmdWxsXG4gICAgICAgICAgICAgIC8vIHBhZ2UgcmVsb2FkIGlmIHRoZSBmb3JtIHdhcyBkZXN0cm95ZWQgYnkgc3VibWlzc2lvbiBvZiB0aGUgZm9ybSB2aWEgYSBjbGljayBoYW5kbGVyXG4gICAgICAgICAgICAgIC8vIG9uIGEgYnV0dG9uIGluIHRoZSBmb3JtLiBMb29rcyBsaWtlIGFuIElFOSBzcGVjaWZpYyBidWcuXG4gICAgICAgICAgICAgIHZhciBoYW5kbGVGb3JtU3VibWlzc2lvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRzZXRTdWJtaXR0ZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuXG4gICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIHByZXZlbnREZWZhdWx0IGxpc3RlbmVyIHNvIHRoYXQgd2UgZG9uJ3Qgbm90IGxlYWsgbWVtb3J5IGJ1dCBpbiBhXG4gICAgICAgICAgICAgIC8vIHdheSB0aGF0IHdpbGwgYWNoaWV2ZSB0aGUgcHJldmVudGlvbiBvZiB0aGUgZGVmYXVsdCBhY3Rpb24uXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJlbnRGb3JtQ3RybCA9IGN0cmxzWzFdIHx8IGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtO1xuICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJGFkZENvbnRyb2woY29udHJvbGxlcik7XG5cbiAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBuYW1lQXR0ciA/IGdldFNldHRlcihjb250cm9sbGVyLiRuYW1lKSA6IG5vb3A7XG5cbiAgICAgICAgICAgIGlmIChuYW1lQXR0cikge1xuICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICBhdHRyLiRvYnNlcnZlKG5hbWVBdHRyLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLiRuYW1lID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2woY29udHJvbGxlciwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIHNldHRlciA9IGdldFNldHRlcihjb250cm9sbGVyLiRuYW1lKTtcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICBleHRlbmQoY29udHJvbGxlciwgbnVsbEZvcm1DdHJsKTsgLy9zdG9wIHByb3BhZ2F0aW5nIGNoaWxkIGRlc3RydWN0aW9uIGhhbmRsZXJzIHVwd2FyZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZvcm1EaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBnZXRTZXR0ZXIoZXhwcmVzc2lvbikge1xuICAgICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7XG4gICAgICAgIC8vY3JlYXRlIGFuIGFzc2lnbmFibGUgZXhwcmVzc2lvbiwgc28gZm9ybXMgd2l0aCBhbiBlbXB0eSBuYW1lIGNhbiBiZSByZW5hbWVkIGxhdGVyXG4gICAgICAgIHJldHVybiAkcGFyc2UoJ3RoaXNbXCJcIl0nKS5hc3NpZ247XG4gICAgICB9XG4gICAgICByZXR1cm4gJHBhcnNlKGV4cHJlc3Npb24pLmFzc2lnbiB8fCBub29wO1xuICAgIH1cbiAgfV07XG59O1xuXG52YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XG52YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7XG5cbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogZmFsc2UsXG4gIElOVkFMSURfQ0xBU1M6IGZhbHNlLFxuICBQUklTVElORV9DTEFTUzogZmFsc2UsXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiBmYWxzZSxcbiAgVE9VQ0hFRF9DTEFTUzogZmFsc2UsXG4gIG5nTW9kZWxNaW5FcnI6IGZhbHNlLFxuKi9cblxuLy8gUmVnZXggY29kZSB3YXMgaW5pdGlhbGx5IG9idGFpbmVkIGZyb20gU08gcHJpb3IgdG8gbW9kaWZpY2F0aW9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMTQzMDcwL2phdmFzY3JpcHQtcmVnZXgtaXNvLWRhdGV0aW1lI2Fuc3dlci0zMTQzMjMxXG52YXIgSVNPX0RBVEVfUkVHRVhQID0gL15cXGR7NCx9LVswMV1cXGQtWzAtM11cXGRUWzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGRcXC5cXGQrKD86WystXVswLTJdXFxkOlswLTVdXFxkfFopJC87XG4vLyBTZWUgdmFsaWQgVVJMcyBpbiBSRkMzOTg3IChodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg3KVxuLy8gTm90ZTogV2UgYXJlIGJlaW5nIG1vcmUgbGVuaWVudCwgYmVjYXVzZSBicm93c2VycyBhcmUgdG9vLlxuLy8gICAxLiBTY2hlbWVcbi8vICAgMi4gU2xhc2hlc1xuLy8gICAzLiBVc2VybmFtZVxuLy8gICA0LiBQYXNzd29yZFxuLy8gICA1LiBIb3N0bmFtZVxuLy8gICA2LiBQb3J0XG4vLyAgIDcuIFBhdGhcbi8vICAgOC4gUXVlcnlcbi8vICAgOS4gRnJhZ21lbnRcbi8vICAgICAgICAgICAgICAgICAxMTExMTExMTExMTExMTExIDIyMiAgIDMzMzMzMyAgICA0NDQ0NCAgICAgICAgNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1ICAgIDY2NiAgICAgNzc3Nzc3NzcgICAgIDg4ODg4ODggICAgIDk5OVxudmFyIFVSTF9SRUdFWFAgPSAvXlthLXpdW2EtelxcZC4rLV0qOlxcLyooPzpbXjpAXSsoPzo6W15AXSspP0ApPyg/OlteXFxzOi8/I10rfFxcW1thLWZcXGQ6XStcXF0pKD86OlxcZCspPyg/OlxcL1tePyNdKik/KD86XFw/W14jXSopPyg/OiMuKik/JC9pO1xuLyoganNoaW50IG1heGxlbjoyMjAgKi9cbnZhciBFTUFJTF9SRUdFWFAgPSAvXig/PS57MSwyNTR9JCkoPz0uezEsNjR9QClbLSEjJCUmJyorXFwvMC05PT9BLVpeX2BhLXp7fH1+XSsoXFwuWy0hIyQlJicqK1xcLzAtOT0/QS1aXl9gYS16e3x9fl0rKSpAW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dezAsNjF9W0EtWmEtejAtOV0pPyhcXC5bQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KSokLztcbi8qIGpzaGludCBtYXhsZW46MjAwICovXG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpKFtlRV1bKy1dP1xcZCspP1xccyokLztcbnZhciBEQVRFX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGR7Mn0pLShcXGR7Mn0pJC87XG52YXIgREFURVRJTUVMT0NBTF9SRUdFWFAgPSAvXihcXGR7NCx9KS0oXFxkXFxkKS0oXFxkXFxkKVQoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcbnZhciBXRUVLX1JFR0VYUCA9IC9eKFxcZHs0LH0pLVcoXFxkXFxkKSQvO1xudmFyIE1PTlRIX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGRcXGQpJC87XG52YXIgVElNRV9SRUdFWFAgPSAvXihcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvO1xuXG52YXIgUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUyA9ICdrZXlkb3duIHdoZWVsIG1vdXNlZG93bic7XG52YXIgUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTID0gY3JlYXRlTWFwKCk7XG5mb3JFYWNoKCdkYXRlLGRhdGV0aW1lLWxvY2FsLG1vbnRoLHRpbWUsd2Vlaycuc3BsaXQoJywnKSwgZnVuY3Rpb24odHlwZSkge1xuICBQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVNbdHlwZV0gPSB0cnVlO1xufSk7XG5cbnZhciBpbnB1dFR5cGUgPSB7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0ZXh0XVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3RhbmRhcmQgSFRNTCB0ZXh0IGlucHV0IHdpdGggYW5ndWxhciBkYXRhIGJpbmRpbmcsIGluaGVyaXRlZCBieSBtb3N0IG9mIHRoZSBgaW5wdXRgIGVsZW1lbnRzLlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAgICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcbiAgICogICAgaW5wdXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidGV4dC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ0ZXh0SW5wdXRFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndGV4dElucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgdGV4dDogJ2d1ZXN0JyxcbiAgICAgICAgICAgICAgICAgd29yZDogL15cXHMqXFx3KlxccyokL1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPlNpbmdsZSB3b3JkOlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS50ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgbmctcGF0dGVybj1cImV4YW1wbGUud29yZFwiIHJlcXVpcmVkIG5nLXRyaW09XCJmYWxzZVwiPlxuICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5wYXR0ZXJuXCI+XG4gICAgICAgICAgICAgICBTaW5nbGUgd29yZCBvbmx5ITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDxjb2RlPnRleHQgPSB7e2V4YW1wbGUudGV4dH19PC9jb2RlPjxici8+XG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnIvPlxuICAgICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L2NvZGU+PGJyLz5cbiAgICAgICAgICAgPGNvZGU+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC9jb2RlPjxici8+XG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnRleHQnKSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbXVsdGkgd29yZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdoZWxsbyB3b3JsZCcpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd0ZXh0JzogdGV4dElucHV0VHlwZSxcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBpbnB1dFxuICAgICAqIEBuYW1lIGlucHV0W2RhdGVdXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBJbnB1dCB3aXRoIGRhdGUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgICogdGhlIEhUTUw1IGRhdGUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgICogZGF0ZSBmb3JtYXQgKHl5eXktTU0tZGQpLCBmb3IgZXhhbXBsZTogYDIwMDktMDEtMDZgLiBTaW5jZSBtYW55XG4gICAgICogbW9kZXJuIGJyb3dzZXJzIGRvIG5vdCB5ZXQgc3VwcG9ydCB0aGlzIGlucHV0IHR5cGUsIGl0IGlzIGltcG9ydGFudCB0byBwcm92aWRlIGN1ZXMgdG8gdXNlcnMgb24gdGhlXG4gICAgICogZXhwZWN0ZWQgaW5wdXQgZm9ybWF0IHZpYSBhIHBsYWNlaG9sZGVyIG9yIGxhYmVsLlxuICAgICAqXG4gICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmUgYVxuICAgICAqICAgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzIGF0dHJpYnV0ZVxuICAgICAqICAgKGUuZy4gYG1pbj1cInt7bWluRGF0ZSB8IGRhdGU6J3l5eXktTU0tZGQnfX1cImApLiBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDVcbiAgICAgKiAgIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZVxuICAgICAqICAgYSB2YWxpZCBJU08gZGF0ZSBzdHJpbmcgKHl5eXktTU0tZGQpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXMgYXR0cmlidXRlXG4gICAgICogICAoZS5nLiBgbWF4PVwie3ttYXhEYXRlIHwgZGF0ZToneXl5eS1NTS1kZCd9fVwiYCkuIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNVxuICAgICAqICAgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyBkYXRlIHN0cmluZ1xuICAgICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gZGF0ZSBzdHJpbmdcbiAgICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgIDxleGFtcGxlIG5hbWU9XCJkYXRlLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVJbnB1dEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlSW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgOSwgMjIpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgZGF0ZSBpbiAyMDEzOjwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRcIiBtaW49XCIyMDEzLTAxLTAxXCIgbWF4PVwiMjAxMy0xMi0zMVwiIHJlcXVpcmVkIC8+XG4gICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRlXCI+XG4gICAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCInKSk7XG4gICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMC0yMicpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMScpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgICAqL1xuICAnZGF0ZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGUnLCBEQVRFX1JFR0VYUCxcbiAgICAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURV9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCddKSxcbiAgICAgICAgICd5eXl5LU1NLWRkJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFtkYXRldGltZS1sb2NhbF1cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIElucHV0IHdpdGggZGF0ZXRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgKiBsb2NhbCBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDIwMTAtMTItMjhUMTQ6NTc6MDBgLlxuICAgICpcbiAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICpcbiAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb25cbiAgICAqICAgaW5zaWRlIHRoaXMgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbkRhdGV0aW1lTG9jYWwgfCBkYXRlOid5eXl5LU1NLWRkVEhIOm1tOnNzJ319XCJgKS5cbiAgICAqICAgTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvblxuICAgICogICBpbnNpZGUgdGhpcyBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4RGF0ZXRpbWVMb2NhbCB8IGRhdGU6J3l5eXktTU0tZGRUSEg6bW06c3MnfX1cImApLlxuICAgICogICBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgdG8gdGhlIERhdGUgLyBJU08gZGF0ZXRpbWUgc3RyaW5nXG4gICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSB0byB0aGUgRGF0ZSAvIElTTyBkYXRldGltZSBzdHJpbmdcbiAgICAqICAgdGhlIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICpcbiAgICAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cImRhdGV0aW1lbG9jYWwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUV4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMCwgMTEsIDI4LCAxNCwgNTcpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1dKTtcbiAgICAgIDwvc2NyaXB0PlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIGRhdGUgYmV0d2VlbiBpbiAyMDEzOjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRUSEg6bW06c3NcIiBtaW49XCIyMDAxLTAxLTAxVDAwOjAwOjAwXCIgbWF4PVwiMjAxMy0xMi0zMVQwMDowMDowMFwiIHJlcXVpcmVkIC8+XG4gICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZGF0ZXRpbWVsb2NhbFwiPlxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFRISDptbTpzc1wifX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTAtMTItMjhUMTQ6NTc6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDFUMjM6NTk6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gICAgKi9cbiAgJ2RhdGV0aW1lLWxvY2FsJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnZGF0ZXRpbWVsb2NhbCcsIERBVEVUSU1FTE9DQUxfUkVHRVhQLFxuICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFVElNRUxPQ0FMX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJywgJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSxcbiAgICAgICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbdGltZV1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElucHV0IHdpdGggdGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICogdGhlIEhUTUw1IHRpbWUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgKiBsb2NhbCB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDE0OjU3OjAwYC4gTW9kZWwgbXVzdCBiZSBhIERhdGUgb2JqZWN0LiBUaGlzIGJpbmRpbmcgd2lsbCBhbHdheXMgb3V0cHV0IGFcbiAgICogRGF0ZSBvYmplY3QgdG8gdGhlIG1vZGVsIG9mIEphbnVhcnkgMSwgMTk3MCwgb3IgbG9jYWwgZGF0ZSBgbmV3IERhdGUoMTk3MCwgMCwgMSwgSEgsIG1tLCBzcylgLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKlxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pblRpbWUgfCBkYXRlOidISDptbTpzcyd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXG4gICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4VGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXG4gICAqICAgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXG4gICAqICAgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwidGltZS1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ0aW1lRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCd0aW1lRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDE5NzAsIDAsIDEsIDE0LCA1NywgMClcbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgIDwvc2NyaXB0PlxuICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgdGltZSBiZXR3ZWVuIDhhbSBhbmQgNXBtOjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGltZVwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSEg6bW06c3NcIiBtaW49XCIwODowMDowMFwiIG1heD1cIjE3OjAwOjAwXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci50aW1lXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wifX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgPC9mb3JtPlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxNDo1NzowMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjM6NTk6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3RpbWUnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd0aW1lJywgVElNRV9SRUdFWFAsXG4gICAgICBjcmVhdGVEYXRlUGFyc2VyKFRJTUVfUkVHRVhQLCBbJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSxcbiAgICAgJ0hIOm1tOnNzLnNzcycpLFxuXG4gICAvKipcbiAgICAqIEBuZ2RvYyBpbnB1dFxuICAgICogQG5hbWUgaW5wdXRbd2Vla11cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIElucHV0IHdpdGggd2Vlay1vZi10aGUteWVhciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbiB0byBEYXRlLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgICogdGhlIEhUTUw1IHdlZWsgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgICogd2VlayBmb3JtYXQgKHl5eXktVyMjKSwgZm9yIGV4YW1wbGU6IGAyMDEzLVcwMmAuXG4gICAgKlxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluV2VlayB8IGRhdGU6J3l5eXktV3d3J319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcbiAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4V2VlayB8IGRhdGU6J3l5eXktV3d3J319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcbiAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHdlZWsgc3RyaW5nXG4gICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJ3ZWVrLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIndlZWtFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnd2Vla0V4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCAwLCAzKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgIDwvc2NyaXB0PlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICA8bGFiZWw+UGljayBhIGRhdGUgYmV0d2VlbiBpbiAyMDEzOlxuICAgICAgICAgIDxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dFwiIHR5cGU9XCJ3ZWVrXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZWVlZLVcjI1wiIG1pbj1cIjIwMTItVzMyXCJcbiAgICAgICAgICAgICAgICAgbWF4PVwiMjAxMy1XNTJcIiByZXF1aXJlZCAvPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLndlZWtcIj5cbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtVzAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LVcwMScpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnd2Vlayc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3dlZWsnLCBXRUVLX1JFR0VYUCwgd2Vla1BhcnNlciwgJ3l5eXktV3d3JyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFttb250aF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElucHV0IHdpdGggbW9udGggdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAqIHRoZSBIVE1MNSBtb250aCBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSksIGZvciBleGFtcGxlOiBgMjAwOS0wMWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqIElmIHRoZSBtb2RlbCBpcyBub3Qgc2V0IHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGgsIHRoZSBuZXh0IHZpZXcgdG8gbW9kZWwgdXBkYXRlIHdpbGwgc2V0IGl0XG4gICAqIHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGguXG4gICAqXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBtb250aCBmb3JtYXQgKHl5eXktTU0pLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluTW9udGggfCBkYXRlOid5eXl5LU1NJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhNb250aCB8IGRhdGU6J3l5eXktTU0nfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm1vbnRoLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm1vbnRoRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdtb250aEV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAxKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIG1vbnRoIGluIDIwMTM6PC9sYWJlbD5cbiAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwibW9udGhcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTVwiIG1pbj1cIjIwMTMtMDFcIiBtYXg9XCIyMDEzLTEyXCIgcmVxdWlyZWQgLz5cbiAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubW9udGhcIj5cbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIG1vbnRoITwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIn19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgPC9mb3JtPlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtMTAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ21vbnRoJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnbW9udGgnLCBNT05USF9SRUdFWFAsXG4gICAgIGNyZWF0ZURhdGVQYXJzZXIoTU9OVEhfUkVHRVhQLCBbJ3l5eXknLCAnTU0nXSksXG4gICAgICd5eXl5LU1NJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtudW1iZXJdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZXh0IGlucHV0IHdpdGggbnVtYmVyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBTZXRzIHRoZSBgbnVtYmVyYCB2YWxpZGF0aW9uXG4gICAqIGVycm9yIGlmIG5vdCBhIHZhbGlkIG51bWJlci5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIG9mIHR5cGUgYG51bWJlcmAgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogQmUgYXdhcmUgdGhhdCBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyIGlzIG5vdCBlbm91Z2guIFNlZSB0aGUge0BsaW5rIG5nTW9kZWw6bnVtZm10fVxuICAgKiBlcnJvciBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBhbiBleGFtcGxlIG9mIGhvdyB0byBjb252ZXJ0IHlvdXIgbW9kZWwgaWYgbmVjZXNzYXJ5LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogIyMgSXNzdWVzIHdpdGggSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEluIGJyb3dzZXJzIHRoYXQgZm9sbG93IHRoZVxuICAgKiBbSFRNTDUgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNudW1iZXItc3RhdGUtJTI4dHlwZT1udW1iZXIlMjkpLFxuICAgKiBgaW5wdXRbbnVtYmVyXWAgZG9lcyBub3Qgd29yayBhcyBleHBlY3RlZCB3aXRoIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0uXG4gICAqIElmIGEgbm9uLW51bWJlciBpcyBlbnRlcmVkIGluIHRoZSBpbnB1dCwgdGhlIGJyb3dzZXIgd2lsbCByZXBvcnQgdGhlIHZhbHVlIGFzIGFuIGVtcHR5IHN0cmluZyxcbiAgICogd2hpY2ggbWVhbnMgdGhlIHZpZXcgLyBtb2RlbCB2YWx1ZXMgaW4gYG5nTW9kZWxgIGFuZCBzdWJzZXF1ZW50bHkgdGhlIHNjb3BlIHZhbHVlXG4gICAqIHdpbGwgYWxzbyBiZSBhbiBlbXB0eSBzdHJpbmcuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwibnVtYmVyLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm51bWJlckV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICAgICB2YWx1ZTogMTJcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5OdW1iZXI6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCIgbWF4PVwiOTlcIiByZXF1aXJlZD5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5udW1iZXJcIj5cbiAgICAgICAgICAgICAgIE5vdCB2YWxpZCBudW1iZXIhPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxMicpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdudW1iZXInOiBudW1iZXJJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3VybF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRleHQgaW5wdXQgd2l0aCBVUkwgdmFsaWRhdGlvbi4gU2V0cyB0aGUgYHVybGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIGNvbnRlbnQgaXMgbm90IGFcbiAgICogdmFsaWQgVVJMLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAqKk5vdGU6KiogYGlucHV0W3VybF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSB1cmxzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxuICAgKiB1c2VkIGluIENocm9taXVtLiBJZiB5b3UgbmVlZCBzdHJpY3RlciB2YWxpZGF0aW9uLCB5b3UgY2FuIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5XG4gICAqIHRoZSBidWlsdC1pbiB2YWxpZGF0b3JzIChzZWUgdGhlIHtAbGluayBndWlkZS9mb3JtcyBGb3JtcyBndWlkZX0pXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidXJsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInVybEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cmxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdodHRwOi8vZ29vZ2xlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5VUkw6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ1cmxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVybC50ZXh0XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudXJsXCI+XG4gICAgICAgICAgICAgICBOb3QgdmFsaWQgdXJsITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDx0dD50ZXh0ID0ge3t1cmwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnVybCA9IHt7ISFteUZvcm0uJGVycm9yLnVybH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VybC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1cmwudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2h0dHA6Ly9nb29nbGUuY29tJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgdXJsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2JveCcpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd1cmwnOiB1cmxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W2VtYWlsXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIGVtYWlsIHZhbGlkYXRpb24uIFNldHMgdGhlIGBlbWFpbGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgbm90IGEgdmFsaWQgZW1haWxcbiAgICogYWRkcmVzcy5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogKipOb3RlOioqIGBpbnB1dFtlbWFpbF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSBlbWFpbCBhZGRyZXNzZXMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24gKGUuZy4gcmVxdWlyaW5nIGEgdG9wLWxldmVsIGRvbWFpbiksIHlvdSBjYW5cbiAgICogdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnkgdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICAgKiAgICBhY2NvdW50LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJlbWFpbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJlbWFpbEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdlbWFpbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsID0ge1xuICAgICAgICAgICAgICAgICB0ZXh0OiAnbWVAZXhhbXBsZS5jb20nXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgICAgPGxhYmVsPkVtYWlsOlxuICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZW1haWwudGV4dFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZW1haWxcIj5cbiAgICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj5cbiAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZW1haWwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XG4gICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdlbWFpbC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygneHh4Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2VtYWlsJzogZW1haWxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3JhZGlvXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCByYWRpbyBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgYG5nTW9kZWxgIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiAgICBOb3RlIHRoYXQgYHZhbHVlYCBvbmx5IHN1cHBvcnRzIGBzdHJpbmdgIHZhbHVlcywgaS5lLiB0aGUgc2NvcGUgbW9kZWwgbmVlZHMgdG8gYmUgYSBzdHJpbmcsXG4gICAqICAgIHRvby4gVXNlIGBuZ1ZhbHVlYCBpZiB5b3UgbmVlZCBjb21wbGV4IG1vZGVscyAoYG51bWJlcmAsIGBvYmplY3RgLCAuLi4pLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdWYWx1ZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gd2hpY2ggYG5nTW9kZWxgIHdpbGwgYmUgYmUgc2V0IHdoZW4gdGhlIHJhZGlvXG4gICAqICAgIGlzIHNlbGVjdGVkLiBTaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBpZiB5b3UgbmVlZFxuICAgKiAgICBhIG5vbi1zdHJpbmcgYG5nTW9kZWxgIChgYm9vbGVhbmAsIGBhcnJheWAsIC4uLikuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFkaW8taW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFkaW9FeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFkaW9FeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5jb2xvciA9IHtcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2JsdWUnXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgJHNjb3BlLnNwZWNpYWxWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXG4gICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJncmVlblwiXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3IubmFtZVwiIHZhbHVlPVwicmVkXCI+XG4gICAgICAgICAgICAgUmVkXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiPlxuICAgICAgICAgICAgIEdyZWVuXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiB2YWx1ZT1cImJsdWVcIj5cbiAgICAgICAgICAgICBCbHVlXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPHR0PmNvbG9yID0ge3tjb2xvci5uYW1lIHwganNvbn19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICBOb3RlIHRoYXQgYG5nLXZhbHVlPVwic3BlY2lhbFZhbHVlXCJgIHNldHMgcmFkaW8gaXRlbSdzIHZhbHVlIHRvIGJlIHRoZSB2YWx1ZSBvZiBgJHNjb3BlLnNwZWNpYWxWYWx1ZWAuXG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbG9yLm5hbWUnKSk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbignYmx1ZScpO1xuXG4gICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnY29sb3IubmFtZScpKS5nZXQoMCkuY2xpY2soKTtcblxuICAgICAgICAgICAgZXhwZWN0KGNvbG9yLmdldFRleHQoKSkudG9Db250YWluKCdyZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3JhZGlvJzogcmFkaW9JbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W2NoZWNrYm94XVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCBjaGVja2JveC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nVHJ1ZVZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nRmFsc2VWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIG5vdCBzZWxlY3RlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiY2hlY2tib3gtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hlY2tib3hFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hlY2tib3hFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlMSA6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWUyIDogJ1lFUydcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPlZhbHVlMTpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2JveE1vZGVsLnZhbHVlMVwiPlxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDxsYWJlbD5WYWx1ZTI6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTJcIlxuICAgICAgICAgICAgICAgICAgICBuZy10cnVlLXZhbHVlPVwiJ1lFUydcIiBuZy1mYWxzZS12YWx1ZT1cIidOTydcIj5cbiAgICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPHR0PnZhbHVlMSA9IHt7Y2hlY2tib3hNb2RlbC52YWx1ZTF9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0PnZhbHVlMiA9IHt7Y2hlY2tib3hNb2RlbC52YWx1ZTJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUxID0gZWxlbWVudChieS5iaW5kaW5nKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NoZWNrYm94TW9kZWwudmFsdWUyJykpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdZRVMnKTtcblxuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSkuY2xpY2soKTtcbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrYm94TW9kZWwudmFsdWUyJykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdOTycpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAnY2hlY2tib3gnOiBjaGVja2JveElucHV0VHlwZSxcblxuICAnaGlkZGVuJzogbm9vcCxcbiAgJ2J1dHRvbic6IG5vb3AsXG4gICdzdWJtaXQnOiBub29wLFxuICAncmVzZXQnOiBub29wLFxuICAnZmlsZSc6IG5vb3Bcbn07XG5cbmZ1bmN0aW9uIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpIHtcbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpID8gdmFsdWUgOiB2YWx1ZS50b1N0cmluZygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdGV4dElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xufVxuXG5mdW5jdGlvbiBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgdmFyIHR5cGUgPSBsb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtcblxuICAvLyBJbiBjb21wb3NpdGlvbiBtb2RlLCB1c2VycyBhcmUgc3RpbGwgaW5wdXRpbmcgaW50ZXJtZWRpYXRlIHRleHQgYnVmZmVyLFxuICAvLyBob2xkIHRoZSBsaXN0ZW5lciB1bnRpbCBjb21wb3NpdGlvbiBpcyBkb25lLlxuICAvLyBNb3JlIGFib3V0IGNvbXBvc2l0aW9uIGV2ZW50czogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NvbXBvc2l0aW9uRXZlbnRcbiAgaWYgKCEkc25pZmZlci5hbmRyb2lkKSB7XG4gICAgdmFyIGNvbXBvc2luZyA9IGZhbHNlO1xuXG4gICAgZWxlbWVudC5vbignY29tcG9zaXRpb25zdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgY29tcG9zaW5nID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgdGltZW91dDtcblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsKCksXG4gICAgICAgIGV2ZW50ID0gZXYgJiYgZXYudHlwZTtcblxuICAgIC8vIEJ5IGRlZmF1bHQgd2Ugd2lsbCB0cmltIHRoZSB2YWx1ZVxuICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgbmctdHJpbSBleGlzdHMgd2Ugd2lsbCBhdm9pZCB0cmltbWluZ1xuICAgIC8vIElmIGlucHV0IHR5cGUgaXMgJ3Bhc3N3b3JkJywgdGhlIHZhbHVlIGlzIG5ldmVyIHRyaW1tZWRcbiAgICBpZiAodHlwZSAhPT0gJ3Bhc3N3b3JkJyAmJiAoIWF0dHIubmdUcmltIHx8IGF0dHIubmdUcmltICE9PSAnZmFsc2UnKSkge1xuICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBJZiBhIGNvbnRyb2wgaXMgc3VmZmVyaW5nIGZyb20gYmFkIGlucHV0IChkdWUgdG8gbmF0aXZlIHZhbGlkYXRvcnMpLCBicm93c2VycyBkaXNjYXJkIGl0c1xuICAgIC8vIHZhbHVlLCBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJldmFsaWRhdGUgKGJ5IGNhbGxpbmcgJHNldFZpZXdWYWx1ZSBhZ2FpbikgZXZlbiBpZiB0aGVcbiAgICAvLyBjb250cm9sJ3MgdmFsdWUgaXMgdGhlIHNhbWUgZW1wdHkgdmFsdWUgdHdpY2UgaW4gYSByb3cuXG4gICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmFsdWUgfHwgKHZhbHVlID09PSAnJyAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBpZiB0aGUgYnJvd3NlciBkb2VzIHN1cHBvcnQgXCJpbnB1dFwiIGV2ZW50LCB3ZSBhcmUgZmluZSAtIGV4Y2VwdCBvbiBJRTkgd2hpY2ggZG9lc24ndCBmaXJlIHRoZVxuICAvLyBpbnB1dCBldmVudCBvbiBiYWNrc3BhY2UsIGRlbGV0ZSBvciBjdXRcbiAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdpbnB1dCcpKSB7XG4gICAgZWxlbWVudC5vbignaW5wdXQnLCBsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRlZmVyTGlzdGVuZXIgPSBmdW5jdGlvbihldiwgaW5wdXQsIG9yaWdWYWx1ZSkge1xuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICBpZiAoIWlucHV0IHx8IGlucHV0LnZhbHVlICE9PSBvcmlnVmFsdWUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlO1xuXG4gICAgICAvLyBpZ25vcmVcbiAgICAgIC8vICAgIGNvbW1hbmQgICAgICAgICAgICBtb2RpZmllcnMgICAgICAgICAgICAgICAgICAgYXJyb3dzXG4gICAgICBpZiAoa2V5ID09PSA5MSB8fCAoMTUgPCBrZXkgJiYga2V5IDwgMTkpIHx8ICgzNyA8PSBrZXkgJiYga2V5IDw9IDQwKSkgcmV0dXJuO1xuXG4gICAgICBkZWZlckxpc3RlbmVyKGV2ZW50LCB0aGlzLCB0aGlzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHVzZXIgbW9kaWZpZXMgaW5wdXQgdmFsdWUgdXNpbmcgY29udGV4dCBtZW51IGluIElFLCB3ZSBuZWVkIFwicGFzdGVcIiBhbmQgXCJjdXRcIiBldmVudHMgdG8gY2F0Y2ggaXRcbiAgICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ3Bhc3RlJykpIHtcbiAgICAgIGVsZW1lbnQub24oJ3Bhc3RlIGN1dCcsIGRlZmVyTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHVzZXIgcGFzdGUgaW50byBpbnB1dCB1c2luZyBtb3VzZSBvbiBvbGRlciBicm93c2VyXG4gIC8vIG9yIGZvcm0gYXV0b2NvbXBsZXRlIG9uIG5ld2VyIGJyb3dzZXIsIHdlIG5lZWQgXCJjaGFuZ2VcIiBldmVudCB0byBjYXRjaCBpdFxuICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG5cbiAgLy8gU29tZSBuYXRpdmUgaW5wdXQgdHlwZXMgKGRhdGUtZmFtaWx5KSBoYXZlIHRoZSBhYmlsaXR5IHRvIGNoYW5nZSB2YWxpZGl0eSB3aXRob3V0XG4gIC8vIGZpcmluZyBhbnkgaW5wdXQvY2hhbmdlIGV2ZW50cy5cbiAgLy8gRm9yIHRoZXNlIGV2ZW50IHR5cGVzLCB3aGVuIG5hdGl2ZSB2YWxpZGF0b3JzIGFyZSBwcmVzZW50IGFuZCB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgdHlwZSxcbiAgLy8gY2hlY2sgZm9yIHZhbGlkaXR5IGNoYW5nZXMgb24gdmFyaW91cyBET00gZXZlbnRzLlxuICBpZiAoUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTW3R5cGVdICYmIGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzICYmIHR5cGUgPT09IGF0dHIudHlwZSkge1xuICAgIGVsZW1lbnQub24oUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUywgZnVuY3Rpb24oZXYpIHtcbiAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICB2YXIgdmFsaWRpdHkgPSB0aGlzW1ZBTElESVRZX1NUQVRFX1BST1BFUlRZXTtcbiAgICAgICAgdmFyIG9yaWdCYWRJbnB1dCA9IHZhbGlkaXR5LmJhZElucHV0O1xuICAgICAgICB2YXIgb3JpZ1R5cGVNaXNtYXRjaCA9IHZhbGlkaXR5LnR5cGVNaXNtYXRjaDtcbiAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgIGlmICh2YWxpZGl0eS5iYWRJbnB1dCAhPT0gb3JpZ0JhZElucHV0IHx8IHZhbGlkaXR5LnR5cGVNaXNtYXRjaCAhPT0gb3JpZ1R5cGVNaXNtYXRjaCkge1xuICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBXb3JrYXJvdW5kIGZvciBGaXJlZm94IHZhbGlkYXRpb24gIzEyMTAyLlxuICAgIHZhciB2YWx1ZSA9IGN0cmwuJGlzRW1wdHkoY3RybC4kdmlld1ZhbHVlKSA/ICcnIDogY3RybC4kdmlld1ZhbHVlO1xuICAgIGlmIChlbGVtZW50LnZhbCgpICE9PSB2YWx1ZSkge1xuICAgICAgZWxlbWVudC52YWwodmFsdWUpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla1BhcnNlcihpc29XZWVrLCBleGlzdGluZ0RhdGUpIHtcbiAgaWYgKGlzRGF0ZShpc29XZWVrKSkge1xuICAgIHJldHVybiBpc29XZWVrO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKGlzb1dlZWspKSB7XG4gICAgV0VFS19SRUdFWFAubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgcGFydHMgPSBXRUVLX1JFR0VYUC5leGVjKGlzb1dlZWspO1xuICAgIGlmIChwYXJ0cykge1xuICAgICAgdmFyIHllYXIgPSArcGFydHNbMV0sXG4gICAgICAgICAgd2VlayA9ICtwYXJ0c1syXSxcbiAgICAgICAgICBob3VycyA9IDAsXG4gICAgICAgICAgbWludXRlcyA9IDAsXG4gICAgICAgICAgc2Vjb25kcyA9IDAsXG4gICAgICAgICAgbWlsbGlzZWNvbmRzID0gMCxcbiAgICAgICAgICBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSxcbiAgICAgICAgICBhZGREYXlzID0gKHdlZWsgLSAxKSAqIDc7XG5cbiAgICAgIGlmIChleGlzdGluZ0RhdGUpIHtcbiAgICAgICAgaG91cnMgPSBleGlzdGluZ0RhdGUuZ2V0SG91cnMoKTtcbiAgICAgICAgbWludXRlcyA9IGV4aXN0aW5nRGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgICAgIHNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0U2Vjb25kcygpO1xuICAgICAgICBtaWxsaXNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCAwLCBmaXJzdFRodXJzLmdldERhdGUoKSArIGFkZERheXMsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBOYU47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGVQYXJzZXIocmVnZXhwLCBtYXBwaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbihpc28sIGRhdGUpIHtcbiAgICB2YXIgcGFydHMsIG1hcDtcblxuICAgIGlmIChpc0RhdGUoaXNvKSkge1xuICAgICAgcmV0dXJuIGlzbztcbiAgICB9XG5cbiAgICBpZiAoaXNTdHJpbmcoaXNvKSkge1xuICAgICAgLy8gV2hlbiBhIGRhdGUgaXMgSlNPTidpZmllZCB0byB3cmFwcyBpdHNlbGYgaW5zaWRlIG9mIGFuIGV4dHJhXG4gICAgICAvLyBzZXQgb2YgZG91YmxlIHF1b3Rlcy4gVGhpcyBtYWtlcyB0aGUgZGF0ZSBwYXJzaW5nIGNvZGUgdW5hYmxlXG4gICAgICAvLyB0byBtYXRjaCB0aGUgZGF0ZSBzdHJpbmcgYW5kIHBhcnNlIGl0IGFzIGEgZGF0ZS5cbiAgICAgIGlmIChpc28uY2hhckF0KDApID09ICdcIicgJiYgaXNvLmNoYXJBdChpc28ubGVuZ3RoIC0gMSkgPT0gJ1wiJykge1xuICAgICAgICBpc28gPSBpc28uc3Vic3RyaW5nKDEsIGlzby5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChJU09fREFURV9SRUdFWFAudGVzdChpc28pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShpc28pO1xuICAgICAgfVxuICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICBwYXJ0cyA9IHJlZ2V4cC5leGVjKGlzbyk7XG5cbiAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgIG1hcCA9IHtcbiAgICAgICAgICAgIHl5eXk6IGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIE1NOiBkYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgICAgICAgICAgZGQ6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgSEg6IGRhdGUuZ2V0SG91cnMoKSxcbiAgICAgICAgICAgIG1tOiBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNzOiBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICAgIHNzczogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwMDBcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcCA9IHsgeXl5eTogMTk3MCwgTU06IDEsIGRkOiAxLCBISDogMCwgbW06IDAsIHNzOiAwLCBzc3M6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHBhcnQsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgbWFwcGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1hcFttYXBwaW5nW2luZGV4XV0gPSArcGFydDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUobWFwLnl5eXksIG1hcC5NTSAtIDEsIG1hcC5kZCwgbWFwLkhILCBtYXAubW0sIG1hcC5zcyB8fCAwLCBtYXAuc3NzICogMTAwMCB8fCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTmFOO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlSW5wdXRUeXBlKHR5cGUsIHJlZ2V4cCwgcGFyc2VEYXRlLCBmb3JtYXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGR5bmFtaWNEYXRlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIpIHtcbiAgICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xuICAgIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gICAgdmFyIHRpbWV6b25lID0gY3RybCAmJiBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMudGltZXpvbmU7XG4gICAgdmFyIHByZXZpb3VzRGF0ZTtcblxuICAgIGN0cmwuJCRwYXJzZXJOYW1lID0gdHlwZTtcbiAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChjdHJsLiRpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAocmVnZXhwLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIGNhbm5vdCByZWFkIGN0cmwuJG1vZGVsVmFsdWUsIGFzIHRoZXJlIG1pZ2h0IGJlIGEgZGlmZmVyZW50XG4gICAgICAgIC8vIHBhcnNlci9mb3JtYXR0ZXIgaW4gdGhlIHByb2Nlc3NpbmcgY2hhaW4gc28gdGhhdCB0aGUgbW9kZWxcbiAgICAgICAgLy8gY29udGFpbnMgc29tZSBkaWZmZXJlbnQgZGF0YSBmb3JtYXQhXG4gICAgICAgIHZhciBwYXJzZWREYXRlID0gcGFyc2VEYXRlKHZhbHVlLCBwcmV2aW91c0RhdGUpO1xuICAgICAgICBpZiAodGltZXpvbmUpIHtcbiAgICAgICAgICBwYXJzZWREYXRlID0gY29udmVydFRpbWV6b25lVG9Mb2NhbChwYXJzZWREYXRlLCB0aW1lem9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgJiYgIWlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignZGF0ZWZtdCcsICdFeHBlY3RlZCBgezB9YCB0byBiZSBhIGRhdGUnLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNWYWxpZERhdGUodmFsdWUpKSB7XG4gICAgICAgIHByZXZpb3VzRGF0ZSA9IHZhbHVlO1xuICAgICAgICBpZiAocHJldmlvdXNEYXRlICYmIHRpbWV6b25lKSB7XG4gICAgICAgICAgcHJldmlvdXNEYXRlID0gY29udmVydFRpbWV6b25lVG9Mb2NhbChwcmV2aW91c0RhdGUsIHRpbWV6b25lLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJGZpbHRlcignZGF0ZScpKHZhbHVlLCBmb3JtYXQsIHRpbWV6b25lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXZpb3VzRGF0ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChpc0RlZmluZWQoYXR0ci5taW4pIHx8IGF0dHIubmdNaW4pIHtcbiAgICAgIHZhciBtaW5WYWw7XG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1pblZhbCkgfHwgcGFyc2VEYXRlKHZhbHVlKSA+PSBtaW5WYWw7XG4gICAgICB9O1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIG1pblZhbCA9IHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKTtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQoYXR0ci5tYXgpIHx8IGF0dHIubmdNYXgpIHtcbiAgICAgIHZhciBtYXhWYWw7XG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1heFZhbCkgfHwgcGFyc2VEYXRlKHZhbHVlKSA8PSBtYXhWYWw7XG4gICAgICB9O1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIG1heFZhbCA9IHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKTtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWREYXRlKHZhbHVlKSB7XG4gICAgICAvLyBJbnZhbGlkIERhdGU6IGdldFRpbWUoKSByZXR1cm5zIE5hTlxuICAgICAgcmV0dXJuIHZhbHVlICYmICEodmFsdWUuZ2V0VGltZSAmJiB2YWx1ZS5nZXRUaW1lKCkgIT09IHZhbHVlLmdldFRpbWUoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpIHtcbiAgICAgIHJldHVybiBpc0RlZmluZWQodmFsKSAmJiAhaXNEYXRlKHZhbCkgPyBwYXJzZURhdGUodmFsKSB8fCB1bmRlZmluZWQgOiB2YWw7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XG4gIGlmIChuYXRpdmVWYWxpZGF0aW9uKSB7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgdmFsaWRpdHkgPSBlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpIHx8IHt9O1xuICAgICAgcmV0dXJuIHZhbGlkaXR5LmJhZElucHV0IHx8IHZhbGlkaXR5LnR5cGVNaXNtYXRjaCA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG51bWJlcklucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCk7XG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG5cbiAgY3RybC4kJHBhcnNlck5hbWUgPSAnbnVtYmVyJztcbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSk7XG5cbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFjdHJsLiRpc0VtcHR5KHZhbHVlKSkge1xuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xuXG4gIGlmIChpc0RlZmluZWQoYXR0ci5taW4pIHx8IGF0dHIubmdNaW4pIHtcbiAgICB2YXIgbWluVmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWluID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHZhbHVlID49IG1pblZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgICAgfVxuICAgICAgbWluVmFsID0gaXNOdW1iZXIodmFsKSAmJiAhaXNOYU4odmFsKSA/IHZhbCA6IHVuZGVmaW5lZDtcbiAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc0RlZmluZWQoYXR0ci5tYXgpIHx8IGF0dHIubmdNYXgpIHtcbiAgICB2YXIgbWF4VmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZhbHVlIDw9IG1heFZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgICAgfVxuICAgICAgbWF4VmFsID0gaXNOdW1iZXIodmFsKSAmJiAhaXNOYU4odmFsKSA/IHZhbCA6IHVuZGVmaW5lZDtcbiAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cmxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICAvLyBOb3RlOiBubyBiYWRJbnB1dENoZWNrZXIgaGVyZSBieSBwdXJwb3NlIGFzIGB1cmxgIGlzIG9ubHkgYSB2YWxpZGF0aW9uXG4gIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xuXG4gIGN0cmwuJCRwYXJzZXJOYW1lID0gJ3VybCc7XG4gIGN0cmwuJHZhbGlkYXRvcnMudXJsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IFVSTF9SRUdFWFAudGVzdCh2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVtYWlsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxuICAvLyBpbiBicm93c2VycywgaS5lLiB3ZSBjYW4gYWx3YXlzIHJlYWQgb3V0IGlucHV0LnZhbHVlIGV2ZW4gaWYgaXQgaXMgbm90IHZhbGlkIVxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdlbWFpbCc7XG4gIGN0cmwuJHZhbGlkYXRvcnMuZW1haWwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgRU1BSUxfUkVHRVhQLnRlc3QodmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiByYWRpb0lucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICAvLyBtYWtlIHRoZSBuYW1lIHVuaXF1ZSwgaWYgbm90IGRlZmluZWRcbiAgaWYgKGlzVW5kZWZpbmVkKGF0dHIubmFtZSkpIHtcbiAgICBlbGVtZW50LmF0dHIoJ25hbWUnLCBuZXh0VWlkKCkpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICBpZiAoZWxlbWVudFswXS5jaGVja2VkKSB7XG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoYXR0ci52YWx1ZSwgZXYgJiYgZXYudHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IGF0dHIudmFsdWU7XG4gICAgZWxlbWVudFswXS5jaGVja2VkID0gKHZhbHVlID09IGN0cmwuJHZpZXdWYWx1ZSk7XG4gIH07XG5cbiAgYXR0ci4kb2JzZXJ2ZSgndmFsdWUnLCBjdHJsLiRyZW5kZXIpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIGNvbnRleHQsIG5hbWUsIGV4cHJlc3Npb24sIGZhbGxiYWNrKSB7XG4gIHZhciBwYXJzZUZuO1xuICBpZiAoaXNEZWZpbmVkKGV4cHJlc3Npb24pKSB7XG4gICAgcGFyc2VGbiA9ICRwYXJzZShleHByZXNzaW9uKTtcbiAgICBpZiAoIXBhcnNlRm4uY29uc3RhbnQpIHtcbiAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ2NvbnN0ZXhwcicsICdFeHBlY3RlZCBjb25zdGFudCBleHByZXNzaW9uIGZvciBgezB9YCwgYnV0IHNhdyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2B7MX1gLicsIG5hbWUsIGV4cHJlc3Npb24pO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VGbihjb250ZXh0KTtcbiAgfVxuICByZXR1cm4gZmFsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGNoZWNrYm94SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICB2YXIgdHJ1ZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nVHJ1ZVZhbHVlJywgYXR0ci5uZ1RydWVWYWx1ZSwgdHJ1ZSk7XG4gIHZhciBmYWxzZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nRmFsc2VWYWx1ZScsIGF0dHIubmdGYWxzZVZhbHVlLCBmYWxzZSk7XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudFswXS5jaGVja2VkLCBldiAmJiBldi50eXBlKTtcbiAgfTtcblxuICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSBjdHJsLiR2aWV3VmFsdWU7XG4gIH07XG5cbiAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkIGAkaXNFbXB0eWAgYmVjYXVzZSB0aGUgJHZpZXdWYWx1ZSBvZiBhbiBlbXB0eSBjaGVja2JveCBpcyBhbHdheXMgc2V0IHRvIGBmYWxzZWBcbiAgLy8gVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBwYXJzZXIgYmVsb3csIHdoaWNoIGNvbXBhcmVzIHRoZSBgJG1vZGVsVmFsdWVgIHdpdGggYHRydWVWYWx1ZWAgdG8gY29udmVydFxuICAvLyBpdCB0byBhIGJvb2xlYW4uXG4gIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2U7XG4gIH07XG5cbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVxdWFscyh2YWx1ZSwgdHJ1ZVZhbHVlKTtcbiAgfSk7XG5cbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gdHJ1ZVZhbHVlIDogZmFsc2VWYWx1ZTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB0ZXh0YXJlYVxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUTUwgdGV4dGFyZWEgZWxlbWVudCBjb250cm9sIHdpdGggYW5ndWxhciBkYXRhLWJpbmRpbmcuIFRoZSBkYXRhLWJpbmRpbmcgYW5kIHZhbGlkYXRpb25cbiAqIHByb3BlcnRpZXMgb2YgdGhpcyBlbGVtZW50IGFyZSBleGFjdGx5IHRoZSBzYW1lIGFzIHRob3NlIG9mIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dCBlbGVtZW50fS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gKiAgICBtaW5sZW5ndGguXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XG4gKiAgICBsZW5ndGguXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gKiAgICBhY2NvdW50LlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFuPX0gW25nVHJpbT10cnVlXSBJZiBzZXQgdG8gZmFsc2UgQW5ndWxhciB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBpbnB1dFxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUTUwgaW5wdXQgZWxlbWVudCBjb250cm9sLiBXaGVuIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LCBpdCBwcm92aWRlcyBkYXRhLWJpbmRpbmcsXG4gKiBpbnB1dCBzdGF0ZSBjb250cm9sLCBhbmQgdmFsaWRhdGlvbi5cbiAqIElucHV0IGNvbnRyb2wgZm9sbG93cyBIVE1MNSBpbnB1dCB0eXBlcyBhbmQgcG9seWZpbGxzIHRoZSBIVE1MNSB2YWxpZGF0aW9uIGJlaGF2aW9yIGZvciBvbGRlciBicm93c2Vycy5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIE5vdCBldmVyeSBmZWF0dXJlIG9mZmVyZWQgaXMgYXZhaWxhYmxlIGZvciBhbGwgaW5wdXQgdHlwZXMuXG4gKiBTcGVjaWZpY2FsbHksIGRhdGEgYmluZGluZyBhbmQgZXZlbnQgaGFuZGxpbmcgdmlhIGBuZy1tb2RlbGAgaXMgdW5zdXBwb3J0ZWQgZm9yIGBpbnB1dFtmaWxlXWAuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZ1JlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgaWYgc2V0IHRvIHRydWVcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gKiAgICBtaW5sZW5ndGguXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XG4gKiAgICBsZW5ndGguXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gKiAgICB2YWx1ZSBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gKiAgICBhY2NvdW50LlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFuPX0gW25nVHJpbT10cnVlXSBJZiBzZXQgdG8gZmFsc2UgQW5ndWxhciB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxuICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcbiAqICAgIGlucHV0LlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cImlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImlucHV0RXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS51c2VyID0ge25hbWU6ICdndWVzdCcsIGxhc3Q6ICd2aXNpdG9yJ307XG4gICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICBVc2VyIG5hbWU6XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0udXNlck5hbWUuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgTGFzdCBuYW1lOlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibGFzdE5hbWVcIiBuZy1tb2RlbD1cInVzZXIubGFzdFwiXG4gICAgICAgICAgICAgIG5nLW1pbmxlbmd0aD1cIjNcIiBuZy1tYXhsZW5ndGg9XCIxMFwiPlxuICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5taW5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgIFRvbyBzaG9ydCE8L3NwYW4+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1heGxlbmd0aFwiPlxuICAgICAgICAgICAgICAgVG9vIGxvbmchPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxocj5cbiAgICAgICAgIDx0dD51c2VyID0ge3t1c2VyfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiR2YWxpZCA9IHt7bXlGb3JtLnVzZXJOYW1lLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kZXJyb3IgPSB7e215Rm9ybS51c2VyTmFtZS4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0ubGFzdE5hbWUuJHZhbGlkID0ge3tteUZvcm0ubGFzdE5hbWUuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiRlcnJvciA9IHt7bXlGb3JtLmxhc3ROYW1lLiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLm1pbmxlbmd0aCA9IHt7ISFteUZvcm0uJGVycm9yLm1pbmxlbmd0aH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWF4bGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWF4bGVuZ3RofX08L3R0Pjxici8+XG4gICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciB1c2VyID0gZWxlbWVudChieS5leGFjdEJpbmRpbmcoJ3VzZXInKSk7XG4gICAgICAgIHZhciB1c2VyTmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0udXNlck5hbWUuJHZhbGlkJykpO1xuICAgICAgICB2YXIgbGFzdE5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGxhc3ROYW1lRXJyb3IgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5sYXN0TmFtZS4kZXJyb3InKSk7XG4gICAgICAgIHZhciBmb3JtVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciB1c2VyTmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xuICAgICAgICB2YXIgdXNlckxhc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubGFzdCcpKTtcblxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcbiAgICAgICAgICBleHBlY3QodXNlck5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5IHdoZW4gcmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTmFtZUlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlck5hbWVJbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibGFzdFwiOlwidmlzaXRvclwifScpO1xuICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgdmFsaWQgaWYgZW1wdHkgd2hlbiBtaW4gbGVuZ3RoIGlzIHNldCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwiLFwibGFzdFwiOlwiXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsZXNzIHRoYW4gcmVxdWlyZWQgbWluIGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCd4eCcpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21pbmxlbmd0aCcpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsb25nZXIgdGhhbiBtYXggbGVuZ3RoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3NvbWUgcmlkaWN1bG91c2x5IGxvbmcgbmFtZScpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21heGxlbmd0aCcpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIGlucHV0RGlyZWN0aXZlID0gWyckYnJvd3NlcicsICckc25pZmZlcicsICckZmlsdGVyJywgJyRwYXJzZScsXG4gICAgZnVuY3Rpb24oJGJyb3dzZXIsICRzbmlmZmVyLCAkZmlsdGVyLCAkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6IFsnP25nTW9kZWwnXSxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgICBpZiAoY3RybHNbMF0pIHtcbiAgICAgICAgICAoaW5wdXRUeXBlW2xvd2VyY2FzZShhdHRyLnR5cGUpXSB8fCBpbnB1dFR5cGUudGV4dCkoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzWzBdLCAkc25pZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XTtcblxuXG5cbnZhciBDT05TVEFOVF9WQUxVRV9SRUdFWFAgPSAvXih0cnVlfGZhbHNlfFxcZCspJC87XG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nVmFsdWVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEJpbmRzIHRoZSBnaXZlbiBleHByZXNzaW9uIHRvIHRoZSB2YWx1ZSBvZiBgPG9wdGlvbj5gIG9yIHtAbGluayBpbnB1dFtyYWRpb10gYGlucHV0W3JhZGlvXWB9LFxuICogc28gdGhhdCB3aGVuIHRoZSBlbGVtZW50IGlzIHNlbGVjdGVkLCB0aGUge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSBvZiB0aGF0IGVsZW1lbnQgaXMgc2V0IHRvXG4gKiB0aGUgYm91bmQgdmFsdWUuXG4gKlxuICogYG5nVmFsdWVgIGlzIHVzZWZ1bCB3aGVuIGR5bmFtaWNhbGx5IGdlbmVyYXRpbmcgbGlzdHMgb2YgcmFkaW8gYnV0dG9ucyB1c2luZ1xuICoge0BsaW5rIG5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzaG93biBiZWxvdy5cbiAqXG4gKiBMaWtld2lzZSwgYG5nVmFsdWVgIGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIGA8b3B0aW9uPmAgZWxlbWVudHMgZm9yXG4gKiB0aGUge0BsaW5rIHNlbGVjdCBgc2VsZWN0YH0gZWxlbWVudC4gSW4gdGhhdCBjYXNlIGhvd2V2ZXIsIG9ubHkgc3RyaW5ncyBhcmUgc3VwcG9ydGVkXG4gKiBmb3IgdGhlIGB2YWx1ZSBgYXR0cmlidXRlLCBzbyB0aGUgcmVzdWx0aW5nIGBuZ01vZGVsYCB3aWxsIGFsd2F5cyBiZSBhIHN0cmluZy5cbiAqIFN1cHBvcnQgZm9yIGBzZWxlY3RgIG1vZGVscyB3aXRoIG5vbi1zdHJpbmcgdmFsdWVzIGlzIGF2YWlsYWJsZSB2aWEgYG5nT3B0aW9uc2AuXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdWYWx1ZSBhbmd1bGFyIGV4cHJlc3Npb24sIHdob3NlIHZhbHVlIHdpbGwgYmUgYm91bmQgdG8gdGhlIGB2YWx1ZWAgYXR0cmlidXRlXG4gKiAgIG9mIHRoZSBgaW5wdXRgIGVsZW1lbnRcbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJuZ1ZhbHVlLWRpcmVjdGl2ZVwiIG1vZHVsZT1cInZhbHVlRXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd2YWx1ZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsncGl6emEnLCAndW5pY29ybnMnLCAncm9ib3RzJ107XG4gICAgICAgICAgICAgICRzY29wZS5teSA9IHsgZmF2b3JpdGU6ICd1bmljb3JucycgfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGZvcm0gbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgPGgyPldoaWNoIGlzIHlvdXIgZmF2b3JpdGU/PC9oMj5cbiAgICAgICAgICAgIDxsYWJlbCBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCIgZm9yPVwie3tuYW1lfX1cIj5cbiAgICAgICAgICAgICAge3tuYW1lfX1cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cIm15LmZhdm9yaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgIG5nLXZhbHVlPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICBpZD1cInt7bmFtZX19XCJcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJmYXZvcml0ZVwiPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2PllvdSBjaG9zZSB7e215LmZhdm9yaXRlfX08L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICB2YXIgZmF2b3JpdGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215LmZhdm9yaXRlJykpO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChmYXZvcml0ZS5nZXRUZXh0KCkpLnRvQ29udGFpbigndW5pY29ybnMnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgYmluZCB0aGUgdmFsdWVzIHRvIHRoZSBpbnB1dHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXkuZmF2b3JpdGUnKSkuZ2V0KDApLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCdwaXp6YScpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1ZhbHVlRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRwbCwgdHBsQXR0cikge1xuICAgICAgaWYgKENPTlNUQU5UX1ZBTFVFX1JFR0VYUC50ZXN0KHRwbEF0dHIubmdWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVDb25zdGFudExpbmsoc2NvcGUsIGVsbSwgYXR0cikge1xuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBzY29wZS4kZXZhbChhdHRyLm5nVmFsdWUpKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1ZhbHVlTGluayhzY29wZSwgZWxtLCBhdHRyKSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdWYWx1ZSwgZnVuY3Rpb24gdmFsdWVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmluZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQmluZGAgYXR0cmlidXRlIHRlbGxzIEFuZ3VsYXIgdG8gcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBzcGVjaWZpZWQgSFRNTCBlbGVtZW50XG4gKiB3aXRoIHRoZSB2YWx1ZSBvZiBhIGdpdmVuIGV4cHJlc3Npb24sIGFuZCB0byB1cGRhdGUgdGhlIHRleHQgY29udGVudCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGF0XG4gKiBleHByZXNzaW9uIGNoYW5nZXMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3UgZG9uJ3QgdXNlIGBuZ0JpbmRgIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB5b3UgdXNlIHRoZSBkb3VibGUgY3VybHkgbWFya3VwIGxpa2VcbiAqIGB7eyBleHByZXNzaW9uIH19YCB3aGljaCBpcyBzaW1pbGFyIGJ1dCBsZXNzIHZlcmJvc2UuXG4gKlxuICogSXQgaXMgcHJlZmVyYWJsZSB0byB1c2UgYG5nQmluZGAgaW5zdGVhZCBvZiBge3sgZXhwcmVzc2lvbiB9fWAgaWYgYSB0ZW1wbGF0ZSBpcyBtb21lbnRhcmlseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgc3RhdGUgYmVmb3JlIEFuZ3VsYXIgY29tcGlsZXMgaXQuIFNpbmNlIGBuZ0JpbmRgIGlzIGFuXG4gKiBlbGVtZW50IGF0dHJpYnV0ZSwgaXQgbWFrZXMgdGhlIGJpbmRpbmdzIGludmlzaWJsZSB0byB0aGUgdXNlciB3aGlsZSB0aGUgcGFnZSBpcyBsb2FkaW5nLlxuICpcbiAqIEFuIGFsdGVybmF0aXZlIHNvbHV0aW9uIHRvIHRoaXMgcHJvYmxlbSB3b3VsZCBiZSB1c2luZyB0aGVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbG9hayBuZ0Nsb2FrfSBkaXJlY3RpdmUuXG4gKlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JpbmQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIEVudGVyIGEgbmFtZSBpbiB0aGUgTGl2ZSBQcmV2aWV3IHRleHQgYm94OyB0aGUgZ3JlZXRpbmcgYmVsb3cgdGhlIHRleHQgYm94IGNoYW5nZXMgaW5zdGFudGx5LlxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLm5hbWUgPSAnV2hpcmxlZCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGxhYmVsPkVudGVyIG5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiPjwvbGFiZWw+PGJyPlxuICAgICAgICAgSGVsbG8gPHNwYW4gbmctYmluZD1cIm5hbWVcIj48L3NwYW4+IVxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBuYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lJykpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCduYW1lJykpLmdldFRleHQoKSkudG9CZSgnV2hpcmxlZCcpO1xuICAgICAgICAgbmFtZUlucHV0LmNsZWFyKCk7XG4gICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3dvcmxkJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCduYW1lJykpLmdldFRleHQoKSkudG9CZSgnd29ybGQnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdCaW5kRGlyZWN0aXZlID0gWyckY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBQycsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGF0dHIubmdCaW5kKTtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nQmluZCwgZnVuY3Rpb24gbmdCaW5kV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaXNVbmRlZmluZWQodmFsdWUpID8gJycgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCaW5kVGVtcGxhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdCaW5kVGVtcGxhdGVgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgdGhhdCB0aGUgZWxlbWVudFxuICogdGV4dCBjb250ZW50IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIHRoZSBpbnRlcnBvbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZVxuICogaW4gdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgYXR0cmlidXRlLlxuICogVW5saWtlIGBuZ0JpbmRgLCB0aGUgYG5nQmluZFRlbXBsYXRlYCBjYW4gY29udGFpbiBtdWx0aXBsZSBge3tgIGB9fWBcbiAqIGV4cHJlc3Npb25zLiBUaGlzIGRpcmVjdGl2ZSBpcyBuZWVkZWQgc2luY2Ugc29tZSBIVE1MIGVsZW1lbnRzXG4gKiAoc3VjaCBhcyBUSVRMRSBhbmQgT1BUSU9OKSBjYW5ub3QgY29udGFpbiBTUEFOIGVsZW1lbnRzLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtzdHJpbmd9IG5nQmluZFRlbXBsYXRlIHRlbXBsYXRlIG9mIGZvcm1cbiAqICAgPHR0Pnt7PC90dD4gPHR0PmV4cHJlc3Npb248L3R0PiA8dHQ+fX08L3R0PiB0byBldmFsLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUcnkgaXQgaGVyZTogZW50ZXIgdGV4dCBpbiB0ZXh0IGJveCBhbmQgd2F0Y2ggdGhlIGdyZWV0aW5nIGNoYW5nZS5cbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5zYWx1dGF0aW9uID0gJ0hlbGxvJztcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXb3JsZCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8bGFiZWw+U2FsdXRhdGlvbjogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzYWx1dGF0aW9uXCI+PC9sYWJlbD48YnI+XG4gICAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cbiAgICAgICAgPHByZSBuZy1iaW5kLXRlbXBsYXRlPVwie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hXCI+PC9wcmU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25FbGVtID0gZWxlbWVudChieS5iaW5kaW5nKCdzYWx1dGF0aW9uJykpO1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25JbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NhbHV0YXRpb24nKSk7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnSGVsbG8gV29ybGQhJyk7XG5cbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5jbGVhcigpO1xuICAgICAgICAgc2FsdXRhdGlvbklucHV0LnNlbmRLZXlzKCdHcmVldGluZ3MnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd1c2VyJyk7XG5cbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0dyZWV0aW5ncyB1c2VyIScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGludGVycG9sYXRlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBhdHRyLiRvYnNlcnZlKCduZ0JpbmRUZW1wbGF0ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGlzVW5kZWZpbmVkKHZhbHVlKSA/ICcnIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmluZEh0bWxcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlcyB0aGUgZXhwcmVzc2lvbiBhbmQgaW5zZXJ0cyB0aGUgcmVzdWx0aW5nIEhUTUwgaW50byB0aGUgZWxlbWVudCBpbiBhIHNlY3VyZSB3YXkuIEJ5IGRlZmF1bHQsXG4gKiB0aGUgcmVzdWx0aW5nIEhUTUwgY29udGVudCB3aWxsIGJlIHNhbml0aXplZCB1c2luZyB0aGUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplICRzYW5pdGl6ZX0gc2VydmljZS5cbiAqIFRvIHV0aWxpemUgdGhpcyBmdW5jdGlvbmFsaXR5LCBlbnN1cmUgdGhhdCBgJHNhbml0aXplYCBpcyBhdmFpbGFibGUsIGZvciBleGFtcGxlLCBieSBpbmNsdWRpbmcge0BsaW5rXG4gKiBuZ1Nhbml0aXplfSBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcyAobm90IGluIGNvcmUgQW5ndWxhcikuIEluIG9yZGVyIHRvIHVzZSB7QGxpbmsgbmdTYW5pdGl6ZX1cbiAqIGluIHlvdXIgbW9kdWxlJ3MgZGVwZW5kZW5jaWVzLCB5b3UgbmVlZCB0byBpbmNsdWRlIFwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiIGluIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogWW91IG1heSBhbHNvIGJ5cGFzcyBzYW5pdGl6YXRpb24gZm9yIHZhbHVlcyB5b3Uga25vdyBhcmUgc2FmZS4gVG8gZG8gc28sIGJpbmQgdG9cbiAqIGFuIGV4cGxpY2l0bHkgdHJ1c3RlZCB2YWx1ZSB2aWEge0BsaW5rIG5nLiRzY2UjdHJ1c3RBc0h0bWwgJHNjZS50cnVzdEFzSHRtbH0uICBTZWUgdGhlIGV4YW1wbGVcbiAqIHVuZGVyIHtAbGluayBuZy4kc2NlI3Nob3ctbWUtYW4tZXhhbXBsZS11c2luZy1zY2UtIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqXG4gKiBOb3RlOiBJZiBhIGAkc2FuaXRpemVgIHNlcnZpY2UgaXMgdW5hdmFpbGFibGUgYW5kIHRoZSBib3VuZCB2YWx1ZSBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQsIHlvdVxuICogd2lsbCBoYXZlIGFuIGV4Y2VwdGlvbiAoaW5zdGVhZCBvZiBhbiBleHBsb2l0LilcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kSHRtbCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kSHRtbEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxwIG5nLWJpbmQtaHRtbD1cIm15SFRNTFwiPjwvcD5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEh0bWxFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUubXlIVE1MID1cbiAgICAgICAgICAgICAgJ0kgYW0gYW4gPGNvZGU+SFRNTDwvY29kZT5zdHJpbmcgd2l0aCAnICtcbiAgICAgICAgICAgICAgJzxhIGhyZWY9XCIjXCI+bGlua3MhPC9hPiBhbmQgb3RoZXIgPGVtPnN0dWZmPC9lbT4nO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZC1odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdteUhUTUwnKSkuZ2V0VGV4dCgpKS50b0JlKFxuICAgICAgICAgICAgICdJIGFtIGFuIEhUTUxzdHJpbmcgd2l0aCBsaW5rcyEgYW5kIG90aGVyIHN0dWZmJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCAnJHBhcnNlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJHNjZSwgJHBhcnNlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kSHRtbENvbXBpbGUodEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgdmFyIG5nQmluZEh0bWxHZXR0ZXIgPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwpO1xuICAgICAgdmFyIG5nQmluZEh0bWxXYXRjaCA9ICRwYXJzZSh0QXR0cnMubmdCaW5kSHRtbCwgZnVuY3Rpb24gc2NlVmFsdWVPZih2YWwpIHtcbiAgICAgICAgLy8gVW53cmFwIHRoZSB2YWx1ZSB0byBjb21wYXJlIHRoZSBhY3R1YWwgaW5uZXIgc2FmZSB2YWx1ZSwgbm90IHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgICAgcmV0dXJuICRzY2UudmFsdWVPZih2YWwpO1xuICAgICAgfSk7XG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0RWxlbWVudCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRIdG1sTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGF0dHIubmdCaW5kSHRtbCk7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKG5nQmluZEh0bWxXYXRjaCwgZnVuY3Rpb24gbmdCaW5kSHRtbFdhdGNoQWN0aW9uKCkge1xuICAgICAgICAgIC8vIFRoZSB3YXRjaGVkIHZhbHVlIGlzIHRoZSB1bndyYXBwZWQgdmFsdWUuIFRvIGF2b2lkIHJlLWVzY2FwaW5nLCB1c2UgdGhlIGRpcmVjdCBnZXR0ZXIuXG4gICAgICAgICAgdmFyIHZhbHVlID0gbmdCaW5kSHRtbEdldHRlcihzY29wZSk7XG4gICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpIHx8ICcnKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2hhbmdlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFdmFsdWF0ZSB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgdGhlIGlucHV0LlxuICogVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGltbWVkaWF0ZWx5LCB1bmxpa2UgdGhlIEphdmFTY3JpcHQgb25jaGFuZ2UgZXZlbnRcbiAqIHdoaWNoIG9ubHkgdHJpZ2dlcnMgYXQgdGhlIGVuZCBvZiBhIGNoYW5nZSAodXN1YWxseSwgd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlXG4gKiBmb3JtIGVsZW1lbnQgb3IgcHJlc3NlcyB0aGUgcmV0dXJuIGtleSkuXG4gKlxuICogVGhlIGBuZ0NoYW5nZWAgZXhwcmVzc2lvbiBpcyBvbmx5IGV2YWx1YXRlZCB3aGVuIGEgY2hhbmdlIGluIHRoZSBpbnB1dCB2YWx1ZSBjYXVzZXNcbiAqIGEgbmV3IHZhbHVlIHRvIGJlIGNvbW1pdHRlZCB0byB0aGUgbW9kZWwuXG4gKlxuICogSXQgd2lsbCBub3QgYmUgZXZhbHVhdGVkOlxuICogKiBpZiB0aGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgYCRwYXJzZXJzYCB0cmFuc2Zvcm1hdGlvbiBwaXBlbGluZSBoYXMgbm90IGNoYW5nZWRcbiAqICogaWYgdGhlIGlucHV0IGhhcyBjb250aW51ZWQgdG8gYmUgaW52YWxpZCBzaW5jZSB0aGUgbW9kZWwgd2lsbCBzdGF5IGBudWxsYFxuICogKiBpZiB0aGUgbW9kZWwgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBub3QgYnkgYSBjaGFuZ2UgdG8gdGhlIGlucHV0IHZhbHVlXG4gKlxuICpcbiAqIE5vdGUsIHRoaXMgZGlyZWN0aXZlIHJlcXVpcmVzIGBuZ01vZGVsYCB0byBiZSBwcmVzZW50LlxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hhbmdlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb24gY2hhbmdlXG4gKiBpbiBpbnB1dCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nQ2hhbmdlLWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoYW5nZUV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8c2NyaXB0PlxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoYW5nZUV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICAkc2NvcGUuY291bnRlciA9IDA7XG4gKiAgICAgICAgICAgJHNjb3BlLmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgJHNjb3BlLmNvdW50ZXIrKztcbiAqICAgICAgICAgICB9O1xuICogICAgICAgICB9XSk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNvbmZpcm1lZFwiIG5nLWNoYW5nZT1cImNoYW5nZSgpXCIgaWQ9XCJuZy1jaGFuZ2UtZXhhbXBsZTFcIiAvPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgaWQ9XCJuZy1jaGFuZ2UtZXhhbXBsZTJcIiAvPlxuICogICAgICAgPGxhYmVsIGZvcj1cIm5nLWNoYW5nZS1leGFtcGxlMlwiPkNvbmZpcm1lZDwvbGFiZWw+PGJyIC8+XG4gKiAgICAgICA8dHQ+ZGVidWcgPSB7e2NvbmZpcm1lZH19PC90dD48YnIvPlxuICogICAgICAgPHR0PmNvdW50ZXIgPSB7e2NvdW50ZXJ9fTwvdHQ+PGJyLz5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50ZXInKSk7XG4gKiAgICAgdmFyIGRlYnVnID0gZWxlbWVudChieS5iaW5kaW5nKCdjb25maXJtZWQnKSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgdGhlIGV4cHJlc3Npb24gaWYgY2hhbmdpbmcgZnJvbSB2aWV3JywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvQ29udGFpbignMCcpO1xuICpcbiAqICAgICAgIGVsZW1lbnQoYnkuaWQoJ25nLWNoYW5nZS1leGFtcGxlMScpKS5jbGljaygpO1xuICpcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcxJyk7XG4gKiAgICAgICBleHBlY3QoZGVidWcuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBub3QgZXZhbHVhdGUgdGhlIGV4cHJlc3Npb24gaWYgY2hhbmdpbmcgZnJvbSBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUyJykpLmNsaWNrKCk7XG5cbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKiAgICAgICBleHBlY3QoZGVidWcuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICovXG52YXIgbmdDaGFuZ2VEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdBJyxcbiAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICAgIGN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcbiAgICAgIHNjb3BlLiRldmFsKGF0dHIubmdDaGFuZ2UpO1xuICAgIH0pO1xuICB9XG59KTtcblxuZnVuY3Rpb24gY2xhc3NEaXJlY3RpdmUobmFtZSwgc2VsZWN0b3IpIHtcbiAgbmFtZSA9ICduZ0NsYXNzJyArIG5hbWU7XG4gIHJldHVybiBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBQycsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgb2xkVmFsO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyW25hbWVdLCBuZ0NsYXNzV2F0Y2hBY3Rpb24sIHRydWUpO1xuXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ2NsYXNzJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBuZ0NsYXNzV2F0Y2hBY3Rpb24oc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGlmIChuYW1lICE9PSAnbmdDbGFzcycpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goJyRpbmRleCcsIGZ1bmN0aW9uKCRpbmRleCwgb2xkJGluZGV4KSB7XG4gICAgICAgICAgICAvLyBqc2hpbnQgYml0d2lzZTogZmFsc2VcbiAgICAgICAgICAgIHZhciBtb2QgPSAkaW5kZXggJiAxO1xuICAgICAgICAgICAgaWYgKG1vZCAhPT0gKG9sZCRpbmRleCAmIDEpKSB7XG4gICAgICAgICAgICAgIHZhciBjbGFzc2VzID0gYXJyYXlDbGFzc2VzKHNjb3BlLiRldmFsKGF0dHJbbmFtZV0pKTtcbiAgICAgICAgICAgICAgbW9kID09PSBzZWxlY3RvciA/XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhjbGFzc2VzKSA6XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NlcyhjbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZENsYXNzZXMoY2xhc3Nlcykge1xuICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgMSk7XG4gICAgICAgICAgYXR0ci4kYWRkQ2xhc3MobmV3Q2xhc3Nlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKGNsYXNzZXMpIHtcbiAgICAgICAgICB2YXIgbmV3Q2xhc3NlcyA9IGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsIC0xKTtcbiAgICAgICAgICBhdHRyLiRyZW1vdmVDbGFzcyhuZXdDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsIGNvdW50KSB7XG4gICAgICAgICAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5XG4gICAgICAgICAgLy8gbmFtZXMgaW4gT2JqZWN0LnByb3RvdHlwZVxuICAgICAgICAgIHZhciBjbGFzc0NvdW50cyA9IGVsZW1lbnQuZGF0YSgnJGNsYXNzQ291bnRzJykgfHwgY3JlYXRlTWFwKCk7XG4gICAgICAgICAgdmFyIGNsYXNzZXNUb1VwZGF0ZSA9IFtdO1xuICAgICAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAwIHx8IGNsYXNzQ291bnRzW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgICAgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSA9IChjbGFzc0NvdW50c1tjbGFzc05hbWVdIHx8IDApICsgY291bnQ7XG4gICAgICAgICAgICAgIGlmIChjbGFzc0NvdW50c1tjbGFzc05hbWVdID09PSArKGNvdW50ID4gMCkpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzVG9VcGRhdGUucHVzaChjbGFzc05hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnLCBjbGFzc0NvdW50cyk7XG4gICAgICAgICAgcmV0dXJuIGNsYXNzZXNUb1VwZGF0ZS5qb2luKCcgJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc2VzKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpIHtcbiAgICAgICAgICB2YXIgdG9BZGQgPSBhcnJheURpZmZlcmVuY2UobmV3Q2xhc3Nlcywgb2xkQ2xhc3Nlcyk7XG4gICAgICAgICAgdmFyIHRvUmVtb3ZlID0gYXJyYXlEaWZmZXJlbmNlKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpO1xuICAgICAgICAgIHRvQWRkID0gZGlnZXN0Q2xhc3NDb3VudHModG9BZGQsIDEpO1xuICAgICAgICAgIHRvUmVtb3ZlID0gZGlnZXN0Q2xhc3NDb3VudHModG9SZW1vdmUsIC0xKTtcbiAgICAgICAgICBpZiAodG9BZGQgJiYgdG9BZGQubGVuZ3RoKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCB0b0FkZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIHRvUmVtb3ZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuZ0NsYXNzV2F0Y2hBY3Rpb24obmV3VmFsKSB7XG4gICAgICAgICAgLy8ganNoaW50IGJpdHdpc2U6IGZhbHNlXG4gICAgICAgICAgaWYgKHNlbGVjdG9yID09PSB0cnVlIHx8IChzY29wZS4kaW5kZXggJiAxKSA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAvLyBqc2hpbnQgYml0d2lzZTogdHJ1ZVxuICAgICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBhcnJheUNsYXNzZXMobmV3VmFsIHx8IFtdKTtcbiAgICAgICAgICAgIGlmICghb2xkVmFsKSB7XG4gICAgICAgICAgICAgIGFkZENsYXNzZXMobmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFlcXVhbHMobmV3VmFsLG9sZFZhbCkpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBhcnJheUNsYXNzZXMob2xkVmFsKTtcbiAgICAgICAgICAgICAgdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQXJyYXkobmV3VmFsKSkge1xuICAgICAgICAgICAgb2xkVmFsID0gbmV3VmFsLm1hcChmdW5jdGlvbih2KSB7IHJldHVybiBzaGFsbG93Q29weSh2KTsgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9sZFZhbCA9IHNoYWxsb3dDb3B5KG5ld1ZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFycmF5RGlmZmVyZW5jZSh0b2tlbnMxLCB0b2tlbnMyKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHRva2VuczFbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmICh0b2tlbiA9PSB0b2tlbnMyW2pdKSBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMucHVzaCh0b2tlbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFycmF5Q2xhc3NlcyhjbGFzc1ZhbCkge1xuICAgICAgdmFyIGNsYXNzZXMgPSBbXTtcbiAgICAgIGlmIChpc0FycmF5KGNsYXNzVmFsKSkge1xuICAgICAgICBmb3JFYWNoKGNsYXNzVmFsLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuY29uY2F0KGFycmF5Q2xhc3Nlcyh2KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoY2xhc3NWYWwpKSB7XG4gICAgICAgIHJldHVybiBjbGFzc1ZhbC5zcGxpdCgnICcpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChjbGFzc1ZhbCkpIHtcbiAgICAgICAgZm9yRWFjaChjbGFzc1ZhbCwgZnVuY3Rpb24odiwgaykge1xuICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICBjbGFzc2VzID0gY2xhc3Nlcy5jb25jYXQoay5zcGxpdCgnICcpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbGFzc1ZhbDtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xhc3NcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NsYXNzYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBkeW5hbWljYWxseSBzZXQgQ1NTIGNsYXNzZXMgb24gYW4gSFRNTCBlbGVtZW50IGJ5IGRhdGFiaW5kaW5nXG4gKiBhbiBleHByZXNzaW9uIHRoYXQgcmVwcmVzZW50cyBhbGwgY2xhc3NlcyB0byBiZSBhZGRlZC5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIG9wZXJhdGVzIGluIHRocmVlIGRpZmZlcmVudCB3YXlzLCBkZXBlbmRpbmcgb24gd2hpY2ggb2YgdGhyZWUgdHlwZXMgdGhlIGV4cHJlc3Npb25cbiAqIGV2YWx1YXRlcyB0bzpcbiAqXG4gKiAxLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZSBzdHJpbmcgc2hvdWxkIGJlIG9uZSBvciBtb3JlIHNwYWNlLWRlbGltaXRlZCBjbGFzc1xuICogbmFtZXMuXG4gKlxuICogMi4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGFuIG9iamVjdCwgdGhlbiBmb3IgZWFjaCBrZXktdmFsdWUgcGFpciBvZiB0aGVcbiAqIG9iamVjdCB3aXRoIGEgdHJ1dGh5IHZhbHVlIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpcyB1c2VkIGFzIGEgY2xhc3MgbmFtZS5cbiAqXG4gKiAzLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gYXJyYXksIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXkgc2hvdWxkIGVpdGhlciBiZSBhIHN0cmluZyBhcyBpblxuICogdHlwZSAxIG9yIGFuIG9iamVjdCBhcyBpbiB0eXBlIDIuIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2FuIG1peCBzdHJpbmdzIGFuZCBvYmplY3RzIHRvZ2V0aGVyIGluIGFuIGFycmF5XG4gKiB0byBnaXZlIHlvdSBtb3JlIGNvbnRyb2wgb3ZlciB3aGF0IENTUyBjbGFzc2VzIGFwcGVhci4gU2VlIHRoZSBjb2RlIGJlbG93IGZvciBhbiBleGFtcGxlIG9mIHRoaXMuXG4gKlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgd29uJ3QgYWRkIGR1cGxpY2F0ZSBjbGFzc2VzIGlmIGEgcGFydGljdWxhciBjbGFzcyB3YXMgYWxyZWFkeSBzZXQuXG4gKlxuICogV2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCB0aGUgcHJldmlvdXNseSBhZGRlZCBjbGFzc2VzIGFyZSByZW1vdmVkIGFuZCBvbmx5IHRoZW4gYXJlIHRoZVxuICogbmV3IGNsYXNzZXMgYWRkZWQuXG4gKlxuICogQGtub3duSXNzdWVcbiAqIFlvdSBzaG91bGQgbm90IHVzZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9ufSBpbiB0aGUgdmFsdWUgb2YgdGhlIGBjbGFzc2BcbiAqIGF0dHJpYnV0ZSwgd2hlbiB1c2luZyB0aGUgYG5nQ2xhc3NgIGRpcmVjdGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50LlxuICogU2VlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uI2tub3duLWlzc3VlcyBoZXJlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSAgICAgICB8IGp1c3QgYmVmb3JlIHRoZSBjbGFzcyBpcyBhcHBsaWVkIHRvIHRoZSBlbGVtZW50ICAgfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9IHwganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCB8XG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxuICogICBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzc1xuICogICBuYW1lcywgYW4gYXJyYXksIG9yIGEgbWFwIG9mIGNsYXNzIG5hbWVzIHRvIGJvb2xlYW4gdmFsdWVzLiBJbiB0aGUgY2FzZSBvZiBhIG1hcCwgdGhlXG4gKiAgIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHdob3NlIHZhbHVlcyBhcmUgdHJ1dGh5IHdpbGwgYmUgYWRkZWQgYXMgY3NzIGNsYXNzZXMgdG8gdGhlXG4gKiAgIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGUgRXhhbXBsZSB0aGF0IGRlbW9uc3RyYXRlcyBiYXNpYyBiaW5kaW5ncyB2aWEgbmdDbGFzcyBkaXJlY3RpdmUuXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8cCBuZy1jbGFzcz1cIntzdHJpa2U6IGRlbGV0ZWQsIGJvbGQ6IGltcG9ydGFudCwgJ2hhcy1lcnJvcic6IGVycm9yfVwiPk1hcCBTeW50YXggRXhhbXBsZTwvcD5cbiAgICAgICA8bGFiZWw+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiZGVsZXRlZFwiPlxuICAgICAgICAgIGRlbGV0ZWQgKGFwcGx5IFwic3RyaWtlXCIgY2xhc3MpXG4gICAgICAgPC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImltcG9ydGFudFwiPlxuICAgICAgICAgIGltcG9ydGFudCAoYXBwbHkgXCJib2xkXCIgY2xhc3MpXG4gICAgICAgPC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImVycm9yXCI+XG4gICAgICAgICAgZXJyb3IgKGFwcGx5IFwiaGFzLWVycm9yXCIgY2xhc3MpXG4gICAgICAgPC9sYWJlbD5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJzdHlsZVwiPlVzaW5nIFN0cmluZyBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzdHlsZVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCBzdHJpa2UgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQgc3RyaWtlIHJlZFwiPlxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTEsIHN0eWxlMiwgc3R5bGUzXVwiPlVzaW5nIEFycmF5IFN5bnRheDwvcD5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTFcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTJcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZCAyXCI+PGJyPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlM1wiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkIDNcIj48YnI+XG4gICAgICAgPGhyPlxuICAgICAgIDxwIG5nLWNsYXNzPVwiW3N0eWxlNCwge29yYW5nZTogd2FybmluZ31dXCI+VXNpbmcgQXJyYXkgYW5kIE1hcCBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGU0XCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2VcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlXCI+PGJyPlxuICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJ3YXJuaW5nXCI+IHdhcm5pbmcgKGFwcGx5IFwib3JhbmdlXCIgY2xhc3MpPC9sYWJlbD5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLnN0cmlrZSB7XG4gICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgICAgIH1cbiAgICAgICAuYm9sZCB7XG4gICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgIH1cbiAgICAgICAucmVkIHtcbiAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICB9XG4gICAgICAgLmhhcy1lcnJvciB7XG4gICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcbiAgICAgICB9XG4gICAgICAgLm9yYW5nZSB7XG4gICAgICAgICAgIGNvbG9yOiBvcmFuZ2U7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICB2YXIgcHMgPSBlbGVtZW50LmFsbChieS5jc3MoJ3AnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHRoZSBjbGFzcycsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9ib2xkLyk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9oYXMtZXJyb3IvKTtcblxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnaW1wb3J0YW50JykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2JvbGQvKTtcblxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnZXJyb3InKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvaGFzLWVycm9yLyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHN0cmluZyBleGFtcGxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QocHMuZ2V0KDEpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZScpKS5jbGVhcigpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuc2VuZEtleXMoJ3JlZCcpO1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ3JlZCcpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ2FycmF5IGV4YW1wbGUgc2hvdWxkIGhhdmUgMyBjbGFzc2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QocHMuZ2V0KDIpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTEnKSkuc2VuZEtleXMoJ2JvbGQnKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlMicpKS5zZW5kS2V5cygnc3RyaWtlJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTMnKSkuc2VuZEtleXMoJ3JlZCcpO1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ2JvbGQgc3RyaWtlIHJlZCcpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ2FycmF5IHdpdGggbWFwIGV4YW1wbGUgc2hvdWxkIGhhdmUgMiBjbGFzc2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QocHMubGFzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTQnKSkuc2VuZEtleXMoJ2JvbGQnKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3dhcm5pbmcnKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChwcy5sYXN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIG9yYW5nZScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG5cbiAgICMjIEFuaW1hdGlvbnNcblxuICAgVGhlIGV4YW1wbGUgYmVsb3cgZGVtb25zdHJhdGVzIGhvdyB0byBwZXJmb3JtIGFuaW1hdGlvbnMgdXNpbmcgbmdDbGFzcy5cblxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJzZXRidG5cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXRcIiBuZy1jbGljaz1cIm15VmFyPSdteS1jbGFzcydcIj5cbiAgICAgIDxpbnB1dCBpZD1cImNsZWFyYnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiY2xlYXJcIiBuZy1jbGljaz1cIm15VmFyPScnXCI+XG4gICAgICA8YnI+XG4gICAgICA8c3BhbiBjbGFzcz1cImJhc2UtY2xhc3NcIiBuZy1jbGFzcz1cIm15VmFyXCI+U2FtcGxlIFRleHQ8L3NwYW4+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5iYXNlLWNsYXNzIHtcbiAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICB9XG5cbiAgICAgICAuYmFzZS1jbGFzcy5teS1jbGFzcyB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgZm9udC1zaXplOjNlbTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ3NldGJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2NsZWFyYnRuJykpLmNsaWNrKCk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cblxuXG4gICAjIyBuZ0NsYXNzIGFuZCBwcmUtZXhpc3RpbmcgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zXG4gICBUaGUgbmdDbGFzcyBkaXJlY3RpdmUgc3RpbGwgc3VwcG9ydHMgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zIGV2ZW4gaWYgdGhleSBkbyBub3QgZm9sbG93IHRoZSBuZ0FuaW1hdGUgQ1NTIG5hbWluZyBzdHJ1Y3R1cmUuXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXG4gICBhbnkgcHJlLWV4aXN0aW5nIENTUyB0cmFuc2l0aW9ucyBhbHJlYWR5IG9uIHRoZSBlbGVtZW50LiBUbyBnZXQgYW4gaWRlYSBvZiB3aGF0IGhhcHBlbnMgZHVyaW5nIGEgY2xhc3MtYmFzZWQgYW5pbWF0aW9uLCBiZSBzdXJlXG4gICB0byB2aWV3IHRoZSBzdGVwIGJ5IHN0ZXAgZGV0YWlscyBvZiB7QGxpbmsgJGFuaW1hdGUjYWRkQ2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZFxuICAge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cbiAqL1xudmFyIG5nQ2xhc3NEaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnJywgdHJ1ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc09kZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XG4gKiAgIG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctY2xhc3Mtb2RkPVwiJ29kZCdcIiBuZy1jbGFzcy1ldmVuPVwiJ2V2ZW4nXCI+XG4gICAgICAgICAgICAge3tuYW1lfX1cbiAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvb2w+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5vZGQge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICB9XG4gICAgICAgLmV2ZW4ge1xuICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzRXZlblxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc0V2ZW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlXG4gKiAgIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxuICAgICAgICAgICAgIHt7bmFtZX19ICZuYnNwOyAmbmJzcDsgJm5ic3A7XG4gICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L29sPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAub2RkIHtcbiAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5ldmVuIHtcbiAgICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQ2xhc3NFdmVuRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ0V2ZW4nLCAxKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Nsb2FrXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGlzIHVzZWQgdG8gcHJldmVudCB0aGUgQW5ndWxhciBodG1sIHRlbXBsYXRlIGZyb20gYmVpbmcgYnJpZWZseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgKHVuY29tcGlsZWQpIGZvcm0gd2hpbGUgeW91ciBhcHBsaWNhdGlvbiBpcyBsb2FkaW5nLiBVc2UgdGhpc1xuICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBgPGJvZHk+YCBlbGVtZW50LCBidXQgdGhlIHByZWZlcnJlZCB1c2FnZSBpcyB0byBhcHBseVxuICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xuICogb2YgdGhlIGJyb3dzZXIgdmlldy5cbiAqXG4gKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXG4gKiBgYW5ndWxhci5taW4uanNgLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgY3NzXG4gKiBbbmdcXDpjbG9ha10sIFtuZy1jbG9ha10sIFtkYXRhLW5nLWNsb2FrXSwgW3gtbmctY2xvYWtdLCAubmctY2xvYWssIC54LW5nLWNsb2FrIHtcbiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICogfVxuICogYGBgXG4gKlxuICogV2hlbiB0aGlzIGNzcyBydWxlIGlzIGxvYWRlZCBieSB0aGUgYnJvd3NlciwgYWxsIGh0bWwgZWxlbWVudHMgKGluY2x1ZGluZyB0aGVpciBjaGlsZHJlbikgdGhhdFxuICogYXJlIHRhZ2dlZCB3aXRoIHRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGFyZSBoaWRkZW4uIFdoZW4gQW5ndWxhciBlbmNvdW50ZXJzIHRoaXMgZGlyZWN0aXZlXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xuICogdGhlIGNvbXBpbGVkIGVsZW1lbnQgdmlzaWJsZS5cbiAqXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXG4gKiBkb2N1bWVudDsgYWx0ZXJuYXRpdmVseSwgdGhlIGNzcyBydWxlIGFib3ZlIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGV4dGVybmFsIHN0eWxlc2hlZXQgb2YgdGhlXG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTJcIiBjbGFzcz1cIm5nLWNsb2FrXCI+e3sgJ3dvcmxkJyB9fTwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIHJlbW92ZSB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlIGFuZCBjc3MgY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUxJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS5cbiAgICAgICAgICAgdG9CZU51bGwoKTtcbiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUyJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS5cbiAgICAgICAgICAgdG9CZU51bGwoKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqL1xudmFyIG5nQ2xvYWtEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICBhdHRyLiRzZXQoJ25nQ2xvYWsnLCB1bmRlZmluZWQpO1xuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ25nLWNsb2FrJyk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ29udHJvbGxlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBhdHRhY2hlcyBhIGNvbnRyb2xsZXIgY2xhc3MgdG8gdGhlIHZpZXcuIFRoaXMgaXMgYSBrZXkgYXNwZWN0IG9mIGhvdyBhbmd1bGFyXG4gKiBzdXBwb3J0cyB0aGUgcHJpbmNpcGxlcyBiZWhpbmQgdGhlIE1vZGVsLVZpZXctQ29udHJvbGxlciBkZXNpZ24gcGF0dGVybi5cbiAqXG4gKiBNVkMgY29tcG9uZW50cyBpbiBhbmd1bGFyOlxuICpcbiAqICogTW9kZWwg4oCUIE1vZGVscyBhcmUgdGhlIHByb3BlcnRpZXMgb2YgYSBzY29wZTsgc2NvcGVzIGFyZSBhdHRhY2hlZCB0byB0aGUgRE9NIHdoZXJlIHNjb3BlIHByb3BlcnRpZXNcbiAqICAgYXJlIGFjY2Vzc2VkIHRocm91Z2ggYmluZGluZ3MuXG4gKiAqIFZpZXcg4oCUIFRoZSB0ZW1wbGF0ZSAoSFRNTCB3aXRoIGRhdGEgYmluZGluZ3MpIHRoYXQgaXMgcmVuZGVyZWQgaW50byB0aGUgVmlldy5cbiAqICogQ29udHJvbGxlciDigJQgVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgYSBDb250cm9sbGVyIGNsYXNzOyB0aGUgY2xhc3MgY29udGFpbnMgYnVzaW5lc3NcbiAqICAgbG9naWMgYmVoaW5kIHRoZSBhcHBsaWNhdGlvbiB0byBkZWNvcmF0ZSB0aGUgc2NvcGUgd2l0aCBmdW5jdGlvbnMgYW5kIHZhbHVlc1xuICpcbiAqIE5vdGUgdGhhdCB5b3UgY2FuIGFsc28gYXR0YWNoIGNvbnRyb2xsZXJzIHRvIHRoZSBET00gYnkgZGVjbGFyaW5nIGl0IGluIGEgcm91dGUgZGVmaW5pdGlvblxuICogdmlhIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgJHJvdXRlfSBzZXJ2aWNlLiBBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIGRlY2xhcmUgdGhlIGNvbnRyb2xsZXJcbiAqIGFnYWluIHVzaW5nIGBuZy1jb250cm9sbGVyYCBpbiB0aGUgdGVtcGxhdGUgaXRzZWxmLiAgVGhpcyB3aWxsIGNhdXNlIHRoZSBjb250cm9sbGVyIHRvIGJlIGF0dGFjaGVkXG4gKiBhbmQgZXhlY3V0ZWQgdHdpY2UuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA1MDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb250cm9sbGVyIE5hbWUgb2YgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlIGN1cnJlbnRcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyICRjb250cm9sbGVyUHJvdmlkZXJ9IG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gKiB0aGF0IG9uIHRoZSBjdXJyZW50IHNjb3BlIGV2YWx1YXRlcyB0byBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIFRoZSBjb250cm9sbGVyIGluc3RhbmNlIGNhbiBiZSBwdWJsaXNoZWQgaW50byBhIHNjb3BlIHByb3BlcnR5IGJ5IHNwZWNpZnlpbmdcbiAqIGBuZy1jb250cm9sbGVyPVwiYXMgcHJvcGVydHlOYW1lXCJgLlxuICpcbiAqIElmIHRoZSBjdXJyZW50IGAkY29udHJvbGxlclByb3ZpZGVyYCBpcyBjb25maWd1cmVkIHRvIHVzZSBnbG9iYWxzICh2aWFcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscyBgJGNvbnRyb2xsZXJQcm92aWRlci5hbGxvd0dsb2JhbHMoKWAgfSksIHRoaXMgbWF5XG4gKiBhbHNvIGJlIHRoZSBuYW1lIG9mIGEgZ2xvYmFsbHkgYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiAobm90IHJlY29tbWVuZGVkKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhIHNpbXBsZSBmb3JtIGZvciBlZGl0aW5nIHVzZXIgY29udGFjdCBpbmZvcm1hdGlvbi4gQWRkaW5nLCByZW1vdmluZywgY2xlYXJpbmcsIGFuZFxuICogZ3JlZXRpbmcgYXJlIG1ldGhvZHMgZGVjbGFyZWQgb24gdGhlIGNvbnRyb2xsZXIgKHNlZSBzb3VyY2UgdGFiKS4gVGhlc2UgbWV0aG9kcyBjYW5cbiAqIGVhc2lseSBiZSBjYWxsZWQgZnJvbSB0aGUgYW5ndWxhciBtYXJrdXAuIEFueSBjaGFuZ2VzIHRvIHRoZSBkYXRhIGFyZSBhdXRvbWF0aWNhbGx5IHJlZmxlY3RlZFxuICogaW4gdGhlIFZpZXcgd2l0aG91dCB0aGUgbmVlZCBmb3IgYSBtYW51YWwgdXBkYXRlLlxuICpcbiAqIFR3byBkaWZmZXJlbnQgZGVjbGFyYXRpb24gc3R5bGVzIGFyZSBpbmNsdWRlZCBiZWxvdzpcbiAqXG4gKiAqIG9uZSBiaW5kcyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGRpcmVjdGx5IG9udG8gdGhlIGNvbnRyb2xsZXIgdXNpbmcgYHRoaXNgOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIxIGFzIHNldHRpbmdzXCJgXG4gKiAqIG9uZSBpbmplY3RzIGAkc2NvcGVgIGludG8gdGhlIGNvbnRyb2xsZXI6XG4gKiBgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjJcImBcbiAqXG4gKiBUaGUgc2Vjb25kIG9wdGlvbiBpcyBtb3JlIGNvbW1vbiBpbiB0aGUgQW5ndWxhciBjb21tdW5pdHksIGFuZCBpcyBnZW5lcmFsbHkgdXNlZCBpbiBib2lsZXJwbGF0ZXNcbiAqIGFuZCBpbiB0aGlzIGd1aWRlLiBIb3dldmVyLCB0aGVyZSBhcmUgYWR2YW50YWdlcyB0byBiaW5kaW5nIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGNvbnRyb2xsZXJcbiAqIGFuZCBhdm9pZGluZyBzY29wZS5cbiAqXG4gKiAqIFVzaW5nIGBjb250cm9sbGVyIGFzYCBtYWtlcyBpdCBvYnZpb3VzIHdoaWNoIGNvbnRyb2xsZXIgeW91IGFyZSBhY2Nlc3NpbmcgaW4gdGhlIHRlbXBsYXRlIHdoZW5cbiAqIG11bHRpcGxlIGNvbnRyb2xsZXJzIGFwcGx5IHRvIGFuIGVsZW1lbnQuXG4gKiAqIElmIHlvdSBhcmUgd3JpdGluZyB5b3VyIGNvbnRyb2xsZXJzIGFzIGNsYXNzZXMgeW91IGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBhbmRcbiAqIG1ldGhvZHMsIHdoaWNoIHdpbGwgYXBwZWFyIG9uIHRoZSBzY29wZSwgZnJvbSBpbnNpZGUgdGhlIGNvbnRyb2xsZXIgY29kZS5cbiAqICogU2luY2UgdGhlcmUgaXMgYWx3YXlzIGEgYC5gIGluIHRoZSBiaW5kaW5ncywgeW91IGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgcHJvdG90eXBhbFxuICogaW5oZXJpdGFuY2UgbWFza2luZyBwcmltaXRpdmVzLlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIGBjb250cm9sbGVyIGFzYCBzeW50YXguXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nQ29udHJvbGxlckFzXCIgbW9kdWxlPVwiY29udHJvbGxlckFzRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGRpdiBpZD1cImN0cmwtYXMtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiPlxuICogICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZXR0aW5ncy5uYW1lXCIvPjwvbGFiZWw+XG4gKiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5ncmVldCgpXCI+Z3JlZXQ8L2J1dHRvbj48YnIvPlxuICogICAgICBDb250YWN0OlxuICogICAgICA8dWw+XG4gKiAgICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHNcIj5cbiAqICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBhcmlhLWxhYmVsPVwiQ29udGFjdCBtZXRob2RcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XG4gKiAgICAgICAgICAgICA8b3B0aW9uPnBob25lPC9vcHRpb24+XG4gKiAgICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgICA8L3NlbGVjdD5cbiAqICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY29udGFjdC52YWx1ZVwiIGFyaWEtbGFiZWxsZWRieT1cInNlbGVjdF97eyRpbmRleH19XCIgLz5cbiAqICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5jbGVhckNvbnRhY3QoY29udGFjdClcIj5jbGVhcjwvYnV0dG9uPlxuICogICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLnJlbW92ZUNvbnRhY3QoY29udGFjdClcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxuICogICAgICAgIDwvbGk+XG4gKiAgICAgICAgPGxpPjxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5hZGRDb250YWN0KClcIj5hZGQ8L2J1dHRvbj48L2xpPlxuICogICAgIDwvdWw+XG4gKiAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICBhbmd1bGFyLm1vZHVsZSgnY29udHJvbGxlckFzRXhhbXBsZScsIFtdKVxuICogICAgICAuY29udHJvbGxlcignU2V0dGluZ3NDb250cm9sbGVyMScsIFNldHRpbmdzQ29udHJvbGxlcjEpO1xuICpcbiAqICAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjEoKSB7XG4gKiAgICAgIHRoaXMubmFtZSA9IFwiSm9obiBTbWl0aFwiO1xuICogICAgICB0aGlzLmNvbnRhY3RzID0gW1xuICogICAgICAgIHt0eXBlOiAncGhvbmUnLCB2YWx1ZTogJzQwOCA1NTUgMTIxMid9LFxuICogICAgICAgIHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfSBdO1xuICogICAgfVxuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgIGFsZXJ0KHRoaXMubmFtZSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmFkZENvbnRhY3QgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgdGhpcy5jb250YWN0cy5wdXNoKHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ3lvdXJuYW1lQGV4YW1wbGUub3JnJ30pO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5yZW1vdmVDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdFRvUmVtb3ZlKSB7XG4gKiAgICAgdmFyIGluZGV4ID0gdGhpcy5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XG4gKiAgICAgIHRoaXMuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xuICogICAgICBjb250YWN0LnR5cGUgPSAncGhvbmUnO1xuICogICAgICBjb250YWN0LnZhbHVlID0gJyc7XG4gKiAgICB9O1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXIgYXMnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmlkKCdjdHJsLWFzLWV4bXBsJykpO1xuICogICAgICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkubW9kZWwoJ3NldHRpbmdzLm5hbWUnKSlcbiAqICAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCdKb2huIFNtaXRoJyk7XG4gKlxuICogICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cbiAqICAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygwKSk7XG4gKiAgICAgICB2YXIgc2Vjb25kUmVwZWF0ID1cbiAqICAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygxKSk7XG4gKlxuICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCc0MDggNTU1IDEyMTInKTtcbiAqXG4gKiAgICAgICBleHBlY3Qoc2Vjb25kUmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCdqb2huLnNtaXRoQGV4YW1wbGUub3JnJyk7XG4gKlxuICogICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5idXR0b25UZXh0KCdjbGVhcicpKS5jbGljaygpO1xuICpcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnJyk7XG4gKlxuICogICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDIpKVxuICogICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIFwiYXR0YWNoIHRvIGAkc2NvcGVgXCIgc3R5bGUgb2YgY29udHJvbGxlci5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyXCIgbW9kdWxlPVwiY29udHJvbGxlckV4YW1wbGVcIj5cbiAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IGlkPVwiY3RybC1leG1wbFwiIG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCI+XG4gKiAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiLz48L2xhYmVsPlxuICogICAgIDxidXR0b24gbmctY2xpY2s9XCJncmVldCgpXCI+Z3JlZXQ8L2J1dHRvbj48YnIvPlxuICogICAgIENvbnRhY3Q6XG4gKiAgICAgPHVsPlxuICogICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cbiAqICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cImNvbnRhY3QudHlwZVwiIGlkPVwic2VsZWN0X3t7JGluZGV4fX1cIj5cbiAqICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgIDwvc2VsZWN0PlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XG4gKiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjbGVhckNvbnRhY3QoY29udGFjdClcIj5jbGVhcjwvYnV0dG9uPlxuICogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVtb3ZlQ29udGFjdChjb250YWN0KVwiPlg8L2J1dHRvbj5cbiAqICAgICAgIDwvbGk+XG4gKiAgICAgICA8bGk+WyA8YnV0dG9uIG5nLWNsaWNrPVwiYWRkQ29udGFjdCgpXCI+YWRkPC9idXR0b24+IF08L2xpPlxuICogICAgPC91bD5cbiAqICAgPC9kaXY+XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJFeGFtcGxlJywgW10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjInLCBbJyRzY29wZScsIFNldHRpbmdzQ29udHJvbGxlcjJdKTtcbiAqXG4gKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7XG4gKiAgICAgJHNjb3BlLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAkc2NvcGUuY29udGFjdHMgPSBbXG4gKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXG4gKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9IF07XG4gKlxuICogICAgICRzY29wZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgYWxlcnQoJHNjb3BlLm5hbWUpO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMucHVzaCh7dHlwZTonZW1haWwnLCB2YWx1ZToneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcbiAqICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xuICogICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcbiAqICAgICB9O1xuICogICB9XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnbmFtZScpKVxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cbiAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDApKTtcbiAqICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygxKSk7XG4gKlxuICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKiAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5idXR0b25UZXh0KCdjbGVhcicpKS5jbGljaygpO1xuICpcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJycpO1xuICpcbiAqICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XG4gKlxuICogICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMikpXG4gKiAgICAgICAgICAuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKVxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCd5b3VybmFtZUBleGFtcGxlLm9yZycpO1xuICogICAgfSk7XG4gKiAgPC9maWxlPlxuICo8L2V4YW1wbGU+XG5cbiAqL1xudmFyIG5nQ29udHJvbGxlckRpcmVjdGl2ZSA9IFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdAJyxcbiAgICBwcmlvcml0eTogNTAwXG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NzcFxuICpcbiAqIEBlbGVtZW50IGh0bWxcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEFuZ3VsYXIgaGFzIHNvbWUgZmVhdHVyZXMgdGhhdCBjYW4gYnJlYWsgY2VydGFpblxuICogW0NTUCAoQ29udGVudCBTZWN1cml0eSBQb2xpY3kpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9TZWN1cml0eS9DU1ApIHJ1bGVzLlxuICpcbiAqIElmIHlvdSBpbnRlbmQgdG8gaW1wbGVtZW50IHRoZXNlIHJ1bGVzIHRoZW4geW91IG11c3QgdGVsbCBBbmd1bGFyIG5vdCB0byB1c2UgdGhlc2UgZmVhdHVyZXMuXG4gKlxuICogVGhpcyBpcyBuZWNlc3Nhcnkgd2hlbiBkZXZlbG9waW5nIHRoaW5ncyBsaWtlIEdvb2dsZSBDaHJvbWUgRXh0ZW5zaW9ucyBvciBVbml2ZXJzYWwgV2luZG93cyBBcHBzLlxuICpcbiAqXG4gKiBUaGUgZm9sbG93aW5nIHJ1bGVzIGFmZmVjdCBBbmd1bGFyOlxuICpcbiAqICogYHVuc2FmZS1ldmFsYDogdGhpcyBydWxlIGZvcmJpZHMgYXBwcyB0byB1c2UgYGV2YWxgIG9yIGBGdW5jdGlvbihzdHJpbmcpYCBnZW5lcmF0ZWQgZnVuY3Rpb25zXG4gKiAoYW1vbmcgb3RoZXIgdGhpbmdzKS4gQW5ndWxhciBtYWtlcyB1c2Ugb2YgdGhpcyBpbiB0aGUge0BsaW5rICRwYXJzZX0gc2VydmljZSB0byBwcm92aWRlIGEgMzAlXG4gKiBpbmNyZWFzZSBpbiB0aGUgc3BlZWQgb2YgZXZhbHVhdGluZyBBbmd1bGFyIGV4cHJlc3Npb25zLlxuICpcbiAqICogYHVuc2FmZS1pbmxpbmVgOiB0aGlzIHJ1bGUgZm9yYmlkcyBhcHBzIGZyb20gaW5qZWN0IGN1c3RvbSBzdHlsZXMgaW50byB0aGUgZG9jdW1lbnQuIEFuZ3VsYXJcbiAqIG1ha2VzIHVzZSBvZiB0aGlzIHRvIGluY2x1ZGUgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nQ2xvYWt9IGFuZCB7QGxpbmsgbmdIaWRlfSkuXG4gKiBUbyBtYWtlIHRoZXNlIGRpcmVjdGl2ZXMgd29yayB3aGVuIGEgQ1NQIHJ1bGUgaXMgYmxvY2tpbmcgaW5saW5lIHN0eWxlcywgeW91IG11c3QgbGluayB0byB0aGVcbiAqIGBhbmd1bGFyLWNzcC5jc3NgIGluIHlvdXIgSFRNTCBtYW51YWxseS5cbiAqXG4gKiBJZiB5b3UgZG8gbm90IHByb3ZpZGUgYG5nQ3NwYCB0aGVuIEFuZ3VsYXIgdHJpZXMgdG8gYXV0b2RldGVjdCBpZiBDU1AgaXMgYmxvY2tpbmcgdW5zYWZlLWV2YWxcbiAqIGFuZCBhdXRvbWF0aWNhbGx5IGRlYWN0aXZhdGVzIHRoaXMgZmVhdHVyZSBpbiB0aGUge0BsaW5rICRwYXJzZX0gc2VydmljZS4gVGhpcyBhdXRvZGV0ZWN0aW9uLFxuICogaG93ZXZlciwgdHJpZ2dlcnMgYSBDU1AgZXJyb3IgdG8gYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlOlxuICpcbiAqIGBgYFxuICogUmVmdXNlZCB0byBldmFsdWF0ZSBhIHN0cmluZyBhcyBKYXZhU2NyaXB0IGJlY2F1c2UgJ3Vuc2FmZS1ldmFsJyBpcyBub3QgYW4gYWxsb3dlZCBzb3VyY2Ugb2ZcbiAqIHNjcmlwdCBpbiB0aGUgZm9sbG93aW5nIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGRpcmVjdGl2ZTogXCJkZWZhdWx0LXNyYyAnc2VsZidcIi4gTm90ZSB0aGF0XG4gKiAnc2NyaXB0LXNyYycgd2FzIG5vdCBleHBsaWNpdGx5IHNldCwgc28gJ2RlZmF1bHQtc3JjJyBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGhhcm1sZXNzIGJ1dCBhbm5veWluZy4gVG8gcHJldmVudCB0aGUgZXJyb3IgZnJvbSBzaG93aW5nIHVwLCBwdXQgdGhlIGBuZ0NzcGBcbiAqIGRpcmVjdGl2ZSBvbiBhbiBlbGVtZW50IG9mIHRoZSBIVE1MIGRvY3VtZW50IHRoYXQgYXBwZWFycyBiZWZvcmUgdGhlIGA8c2NyaXB0PmAgdGFnIHRoYXQgbG9hZHNcbiAqIHRoZSBgYW5ndWxhci5qc2AgZmlsZS5cbiAqXG4gKiAqTm90ZTogVGhpcyBkaXJlY3RpdmUgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIGBuZy1jc3BgIGFuZCBgZGF0YS1uZy1jc3BgIGF0dHJpYnV0ZSBmb3JtLipcbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgd2hpY2ggb2YgdGhlIENTUCByZWxhdGVkIEFuZ3VsYXIgZmVhdHVyZXMgc2hvdWxkIGJlIGRlYWN0aXZhdGVkIGJ5IHByb3ZpZGluZ1xuICogYSB2YWx1ZSBmb3IgdGhlIGBuZy1jc3BgIGF0dHJpYnV0ZS4gVGhlIG9wdGlvbnMgYXJlIGFzIGZvbGxvd3M6XG4gKlxuICogKiBuby1pbmxpbmUtc3R5bGU6IHRoaXMgc3RvcHMgQW5ndWxhciBmcm9tIGluamVjdGluZyBDU1Mgc3R5bGVzIGludG8gdGhlIERPTVxuICpcbiAqICogbm8tdW5zYWZlLWV2YWw6IHRoaXMgc3RvcHMgQW5ndWxhciBmcm9tIG9wdGltaXppbmcgJHBhcnNlIHdpdGggdW5zYWZlIGV2YWwgb2Ygc3RyaW5nc1xuICpcbiAqIFlvdSBjYW4gdXNlIHRoZXNlIHZhbHVlcyBpbiB0aGUgZm9sbG93aW5nIGNvbWJpbmF0aW9uczpcbiAqXG4gKlxuICogKiBObyBkZWNsYXJhdGlvbiBtZWFucyB0aGF0IEFuZ3VsYXIgd2lsbCBhc3N1bWUgdGhhdCB5b3UgY2FuIGRvIGlubGluZSBzdHlsZXMsIGJ1dCBpdCB3aWxsIGRvXG4gKiBhIHJ1bnRpbWUgY2hlY2sgZm9yIHVuc2FmZS1ldmFsLiBFLmcuIGA8Ym9keT5gLiBUaGlzIGlzIGJhY2t3YXJkbHkgY29tcGF0aWJsZSB3aXRoIHByZXZpb3VzIHZlcnNpb25zXG4gKiBvZiBBbmd1bGFyLlxuICpcbiAqICogQSBzaW1wbGUgYG5nLWNzcGAgKG9yIGBkYXRhLW5nLWNzcGApIGF0dHJpYnV0ZSB3aWxsIHRlbGwgQW5ndWxhciB0byBkZWFjdGl2YXRlIGJvdGggaW5saW5lXG4gKiBzdHlsZXMgYW5kIHVuc2FmZSBldmFsLiBFLmcuIGA8Ym9keSBuZy1jc3A+YC4gVGhpcyBpcyBiYWNrd2FyZGx5IGNvbXBhdGlibGUgd2l0aCBwcmV2aW91cyB2ZXJzaW9uc1xuICogb2YgQW5ndWxhci5cbiAqXG4gKiAqIFNwZWNpZnlpbmcgb25seSBgbm8tdW5zYWZlLWV2YWxgIHRlbGxzIEFuZ3VsYXIgdGhhdCB3ZSBtdXN0IG5vdCB1c2UgZXZhbCwgYnV0IHRoYXQgd2UgY2FuIGluamVjdFxuICogaW5saW5lIHN0eWxlcy4gRS5nLiBgPGJvZHkgbmctY3NwPVwibm8tdW5zYWZlLWV2YWxcIj5gLlxuICpcbiAqICogU3BlY2lmeWluZyBvbmx5IGBuby1pbmxpbmUtc3R5bGVgIHRlbGxzIEFuZ3VsYXIgdGhhdCB3ZSBtdXN0IG5vdCBpbmplY3Qgc3R5bGVzLCBidXQgdGhhdCB3ZSBjYW5cbiAqIHJ1biBldmFsIC0gbm8gYXV0b21hdGljIGNoZWNrIGZvciB1bnNhZmUgZXZhbCB3aWxsIG9jY3VyLiBFLmcuIGA8Ym9keSBuZy1jc3A9XCJuby1pbmxpbmUtc3R5bGVcIj5gXG4gKlxuICogKiBTcGVjaWZ5aW5nIGJvdGggYG5vLXVuc2FmZS1ldmFsYCBhbmQgYG5vLWlubGluZS1zdHlsZWAgdGVsbHMgQW5ndWxhciB0aGF0IHdlIG11c3Qgbm90IGluamVjdFxuICogc3R5bGVzIG5vciB1c2UgZXZhbCwgd2hpY2ggaXMgdGhlIHNhbWUgYXMgYW4gZW1wdHk6IG5nLWNzcC5cbiAqIEUuZy5gPGJvZHkgbmctY3NwPVwibm8taW5saW5lLXN0eWxlO25vLXVuc2FmZS1ldmFsXCI+YFxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIGFwcGx5IHRoZSBgbmdDc3BgIGRpcmVjdGl2ZSB0byB0aGUgYGh0bWxgIHRhZy5cbiAgIGBgYGh0bWxcbiAgICAgPCFkb2N0eXBlIGh0bWw+XG4gICAgIDxodG1sIG5nLWFwcCBuZy1jc3A+XG4gICAgIC4uLlxuICAgICAuLi5cbiAgICAgPC9odG1sPlxuICAgYGBgXG4gICogQGV4YW1wbGVcbiAgICAgIC8vIE5vdGU6IHRoZSBzdWZmaXggYC5jc3BgIGluIHRoZSBleGFtcGxlIG5hbWUgdHJpZ2dlcnNcbiAgICAgIC8vIGNzcCBtb2RlIGluIG91ciBodHRwIHNlcnZlciFcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJleGFtcGxlLmNzcFwiIG1vZHVsZT1cImNzcEV4YW1wbGVcIiBuZy1jc3A9XCJ0cnVlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkNvbnRyb2xsZXIgYXMgY3RybFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImN0cmwuaW5jKClcIiBpZD1cImluY1wiPkluY3JlbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImNvdW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7e2N0cmwuY291bnRlcn19XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY3RybC5ldmlsKClcIiBpZD1cImV2aWxcIj5FdmlsPC9idXR0b24+XG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiZXZpbEVycm9yXCI+XG4gICAgICAgICAgICAgICAge3tjdHJsLmV2aWxFcnJvcn19XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NzcEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignTWFpbkNvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZXZpbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgLy8ganNoaW50IGV2aWw6dHJ1ZVxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZXZhbCgnMSsyJyk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZpbEVycm9yID0gZS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICB2YXIgdXRpbCwgd2ViZHJpdmVyO1xuXG4gICAgICAgICAgdmFyIGluY0J0biA9IGVsZW1lbnQoYnkuaWQoJ2luYycpKTtcbiAgICAgICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuaWQoJ2NvdW50ZXInKSk7XG4gICAgICAgICAgdmFyIGV2aWxCdG4gPSBlbGVtZW50KGJ5LmlkKCdldmlsJykpO1xuICAgICAgICAgIHZhciBldmlsRXJyb3IgPSBlbGVtZW50KGJ5LmlkKCdldmlsRXJyb3InKSk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLm1hbmFnZSgpLmxvZ3MoKS5nZXQoJ2Jyb3dzZXInKS50aGVuKGZ1bmN0aW9uKGJyb3dzZXJMb2cpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXJMb2cuZmlsdGVyKGZ1bmN0aW9uKGxvZ0VudHJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ0VudHJ5LmxldmVsLnZhbHVlID4gd2ViZHJpdmVyLmxvZ2dpbmcuTGV2ZWwuV0FSTklORy52YWx1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBjbGVhckVycm9ycygpIHtcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZXhwZWN0Tm9FcnJvcnMoKSB7XG4gICAgICAgICAgICBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpLnRoZW4oZnVuY3Rpb24oZmlsdGVyZWRMb2cpIHtcbiAgICAgICAgICAgICAgZXhwZWN0KGZpbHRlcmVkTG9nLmxlbmd0aCkudG9FcXVhbCgwKTtcbiAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkTG9nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdicm93c2VyIGNvbnNvbGUgZXJyb3JzOiAnICsgdXRpbC5pbnNwZWN0KGZpbHRlcmVkTG9nKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGV4cGVjdEVycm9yKHJlZ2V4KSB7XG4gICAgICAgICAgICBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpLnRoZW4oZnVuY3Rpb24oZmlsdGVyZWRMb2cpIHtcbiAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgIGZpbHRlcmVkTG9nLmZvckVhY2goZnVuY3Rpb24obG9nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvZy5tZXNzYWdlLm1hdGNoKHJlZ2V4KSkge1xuICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkIGFuIGVycm9yIHRoYXQgbWF0Y2hlcyAnICsgcmVnZXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbiAgICAgICAgICAgIHdlYmRyaXZlciA9IHJlcXVpcmUoJ3Byb3RyYWN0b3Ivbm9kZV9tb2R1bGVzL3NlbGVuaXVtLXdlYmRyaXZlcicpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gRm9yIG5vdywgd2Ugb25seSB0ZXN0IG9uIENocm9tZSxcbiAgICAgICAgICAvLyBhcyBTYWZhcmkgZG9lcyBub3QgbG9hZCB0aGUgcGFnZSB3aXRoIFByb3RyYWN0b3IncyBpbmplY3RlZCBzY3JpcHRzLFxuICAgICAgICAgIC8vIGFuZCBGaXJlZm94IHdlYmRyaXZlciBhbHdheXMgZGlzYWJsZXMgY29udGVudCBzZWN1cml0eSBwb2xpY3kgKCM2MzU4KVxuICAgICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyICE9PSAnY2hyb21lJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGl0KCdzaG91bGQgbm90IHJlcG9ydCBlcnJvcnMgd2hlbiB0aGUgcGFnZSBpcyBsb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIGVycm9ycyBzbyB3ZSBhcmUgbm90IGRlcGVuZGVudCBvbiBwcmV2aW91cyB0ZXN0c1xuICAgICAgICAgICAgY2xlYXJFcnJvcnMoKTtcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gcmVsb2FkIHRoZSBwYWdlIGFzIHRoZSBwYWdlIGlzIGFscmVhZHkgbG9hZGVkIHdoZW5cbiAgICAgICAgICAgIC8vIHdlIGNvbWUgaGVyZVxuICAgICAgICAgICAgYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgIGJyb3dzZXIuZ2V0KHVybCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4cGVjdE5vRXJyb3JzKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGV2YWx1YXRlIGV4cHJlc3Npb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzAnKTtcbiAgICAgICAgICAgIGluY0J0bi5jbGljaygpO1xuICAgICAgICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCcxJyk7XG4gICAgICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbmQgcmVwb3J0IGFuIGVycm9yIHdoZW4gdXNpbmcgXCJldmFsXCInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV2aWxCdG4uY2xpY2soKTtcbiAgICAgICAgICAgIGV4cGVjdChldmlsRXJyb3IuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IFNlY3VyaXR5IFBvbGljeS8pO1xuICAgICAgICAgICAgZXhwZWN0RXJyb3IoL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgKi9cblxuLy8gbmdDc3AgaXMgbm90IGltcGxlbWVudGVkIGFzIGEgcHJvcGVyIGRpcmVjdGl2ZSBhbnkgbW9yZSwgYmVjYXVzZSB3ZSBuZWVkIGl0IGJlIHByb2Nlc3NlZCB3aGlsZSB3ZVxuLy8gYm9vdHN0cmFwIHRoZSBzeXN0ZW0gKGJlZm9yZSAkcGFyc2UgaXMgaW5zdGFudGlhdGVkKSwgZm9yIHRoaXMgcmVhc29uIHdlIGp1c3QgaGF2ZVxuLy8gdGhlIGNzcCgpIGZuIHRoYXQgbG9va3MgZm9yIHRoZSBgbmctY3NwYCBhdHRyaWJ1dGUgYW55d2hlcmUgaW4gdGhlIGN1cnJlbnQgZG9jXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGlja1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG5nQ2xpY2sgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlblxuICogYW4gZWxlbWVudCBpcyBjbGlja2VkLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGljayB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBjbGljay4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxzcGFuPlxuICAgICAgICBjb3VudDoge3tjb3VudH19XG4gICAgICA8L3NwYW4+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50JykpLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnY291bnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKCcxJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLypcbiAqIEEgY29sbGVjdGlvbiBvZiBkaXJlY3RpdmVzIHRoYXQgYWxsb3dzIGNyZWF0aW9uIG9mIGN1c3RvbSBldmVudCBoYW5kbGVycyB0aGF0IGFyZSBkZWZpbmVkIGFzXG4gKiBhbmd1bGFyIGV4cHJlc3Npb25zIGFuZCBhcmUgY29tcGlsZWQgYW5kIGV4ZWN1dGVkIHdpdGhpbiB0aGUgY3VycmVudCBzY29wZS5cbiAqL1xudmFyIG5nRXZlbnREaXJlY3RpdmVzID0ge307XG5cbi8vIEZvciBldmVudHMgdGhhdCBtaWdodCBmaXJlIHN5bmNocm9ub3VzbHkgZHVyaW5nIERPTSBtYW5pcHVsYXRpb25cbi8vIHdlIG5lZWQgdG8gZXhlY3V0ZSB0aGVpciBldmVudCBoYW5kbGVycyBhc3luY2hyb25vdXNseSB1c2luZyAkZXZhbEFzeW5jLFxuLy8gc28gdGhhdCB0aGV5IGFyZSBub3QgZXhlY3V0ZWQgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlLlxudmFyIGZvcmNlQXN5bmNFdmVudHMgPSB7XG4gICdibHVyJzogdHJ1ZSxcbiAgJ2ZvY3VzJzogdHJ1ZVxufTtcbmZvckVhY2goXG4gICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2Vtb3ZlIG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBrZXlkb3duIGtleXVwIGtleXByZXNzIHN1Ym1pdCBmb2N1cyBibHVyIGNvcHkgY3V0IHBhc3RlJy5zcGxpdCgnICcpLFxuICBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICB2YXIgZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGV2ZW50TmFtZSk7XG4gICAgbmdFdmVudERpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBbJyRwYXJzZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHBhcnNlLCAkcm9vdFNjb3BlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbigkZWxlbWVudCwgYXR0cikge1xuICAgICAgICAgIC8vIFdlIGV4cG9zZSB0aGUgcG93ZXJmdWwgJGV2ZW50IG9iamVjdCBvbiB0aGUgc2NvcGUgdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIFdpbmRvdyxcbiAgICAgICAgICAvLyBldGMuIHRoYXQgaXNuJ3QgcHJvdGVjdGVkIGJ5IHRoZSBmYXN0IHBhdGhzIGluICRwYXJzZS4gIFdlIGV4cGxpY2l0bHkgcmVxdWVzdCBiZXR0ZXJcbiAgICAgICAgICAvLyBjaGVja3MgYXQgdGhlIGNvc3Qgb2Ygc3BlZWQgc2luY2UgZXZlbnQgaGFuZGxlciBleHByZXNzaW9ucyBhcmUgbm90IGV4ZWN1dGVkIGFzXG4gICAgICAgICAgLy8gZnJlcXVlbnRseSBhcyByZWd1bGFyIGNoYW5nZSBkZXRlY3Rpb24uXG4gICAgICAgICAgdmFyIGZuID0gJHBhcnNlKGF0dHJbZGlyZWN0aXZlTmFtZV0sIC8qIGludGVyY2VwdG9yRm4gKi8gbnVsbCwgLyogZXhwZW5zaXZlQ2hlY2tzICovIHRydWUpO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0V2ZW50SGFuZGxlcihzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZuKHNjb3BlLCB7JGV2ZW50OmV2ZW50fSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChmb3JjZUFzeW5jRXZlbnRzW2V2ZW50TmFtZV0gJiYgJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XTtcbiAgfVxuKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0RibGNsaWNrXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nRGJsY2xpY2tgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGEgZGJsY2xpY2sgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0RibGNsaWNrIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGEgZGJsY2xpY2suIChUaGUgRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YClcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLWRibGNsaWNrPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIGRvdWJsZSBjbGljaylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2Vkb3duXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbmdNb3VzZWRvd24gZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2Vkb3duIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWRvd24ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2Vkb3duLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlZG93bj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50IChvbiBtb3VzZSBkb3duKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZXVwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZXVwIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZXVwIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNldXAuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2V1cD1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50IChvbiBtb3VzZSB1cClcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlb3ZlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VvdmVyIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZW92ZXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2VvdmVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlb3Zlcj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGlzIG92ZXIpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlZW50ZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlZW50ZXIgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZW50ZXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2VlbnRlci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWVudGVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgZW50ZXJzKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZWxlYXZlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWxlYXZlIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWxlYXZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlbGVhdmUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VsZWF2ZT1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGxlYXZlcylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2Vtb3ZlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZW1vdmUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbW92ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZW1vdmUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2Vtb3ZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgbW92ZXMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleWRvd25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleWRvd24gZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleWRvd24ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICoga2V5ZG93bi4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmcta2V5ZG93bj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgIGtleSBkb3duIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleXVwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXl1cCBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5dXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICoga2V5dXAuIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleSBjb3VudDwvcD5cbiAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+IGtleSB1cCBjb3VudDoge3tjb3VudH19XG5cbiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXljb2RlPC9wPlxuICAgICAgIDxpbnB1dCBuZy1rZXl1cD1cImV2ZW50PSRldmVudFwiPlxuICAgICAgIDxwPmV2ZW50IGtleUNvZGU6IHt7IGV2ZW50LmtleUNvZGUgfX08L3A+XG4gICAgICAgPHA+ZXZlbnQgYWx0S2V5OiB7eyBldmVudC5hbHRLZXkgfX08L3A+XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdLZXlwcmVzc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5cHJlc3MgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5cHJlc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICoga2V5cHJlc3MuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9XG4gKiBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1rZXlwcmVzcz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgIGtleSBwcmVzcyBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTdWJtaXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVuYWJsZXMgYmluZGluZyBhbmd1bGFyIGV4cHJlc3Npb25zIHRvIG9uc3VibWl0IGV2ZW50cy5cbiAqXG4gKiBBZGRpdGlvbmFsbHkgaXQgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uICh3aGljaCBmb3IgZm9ybSBtZWFucyBzZW5kaW5nIHRoZSByZXF1ZXN0IHRvIHRoZVxuICogc2VydmVyIGFuZCByZWxvYWRpbmcgdGhlIGN1cnJlbnQgcGFnZSksIGJ1dCBvbmx5IGlmIHRoZSBmb3JtIGRvZXMgbm90IGNvbnRhaW4gYGFjdGlvbmAsXG4gKiBgZGF0YS1hY3Rpb25gLCBvciBgeC1hY3Rpb25gIGF0dHJpYnV0ZXMuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqV2FybmluZzoqKiBCZSBjYXJlZnVsIG5vdCB0byBjYXVzZSBcImRvdWJsZS1zdWJtaXNzaW9uXCIgYnkgdXNpbmcgYm90aCB0aGUgYG5nQ2xpY2tgIGFuZFxuICogYG5nU3VibWl0YCBoYW5kbGVycyB0b2dldGhlci4gU2VlIHRoZVxuICoge0BsaW5rIGZvcm0jc3VibWl0dGluZy1hLWZvcm0tYW5kLXByZXZlbnRpbmctdGhlLWRlZmF1bHQtYWN0aW9uIGBmb3JtYCBkaXJlY3RpdmUgZG9jdW1lbnRhdGlvbn1cbiAqIGZvciBhIGRldGFpbGVkIGRpc2N1c3Npb24gb2Ygd2hlbiBgbmdTdWJtaXRgIG1heSBiZSB0cmlnZ2VyZWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAZWxlbWVudCBmb3JtXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N1Ym1pdCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLlxuICogKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cInN1Ym1pdEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzdWJtaXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS5saXN0ID0gW107XG4gICAgICAgICAgICAkc2NvcGUudGV4dCA9ICdoZWxsbyc7XG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICgkc2NvcGUudGV4dCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5saXN0LnB1c2godGhpcy50ZXh0KTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1dKTtcbiAgICAgIDwvc2NyaXB0PlxuICAgICAgPGZvcm0gbmctc3VibWl0PVwic3VibWl0KClcIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgRW50ZXIgdGV4dCBhbmQgaGl0IGVudGVyOlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInRleHRcIiBuYW1lPVwidGV4dFwiIC8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgaWQ9XCJzdWJtaXRcIiB2YWx1ZT1cIlN1Ym1pdFwiIC8+XG4gICAgICAgIDxwcmU+bGlzdD17e2xpc3R9fTwvcHJlPlxuICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXN1Ym1pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9Db250YWluKCdoZWxsbycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCcnKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIGlnbm9yZSBlbXB0eSBzdHJpbmdzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9CZSgnbGlzdD1bXScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9Db250YWluKCdoZWxsbycpO1xuICAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdGb2N1c1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gZm9jdXMgZXZlbnQuXG4gKlxuICogTm90ZTogQXMgdGhlIGBmb2N1c2AgZXZlbnQgaXMgZXhlY3V0ZWQgc3luY2hyb25vdXNseSB3aGVuIGNhbGxpbmcgYGlucHV0LmZvY3VzKClgXG4gKiBBbmd1bGFySlMgZXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gdXNpbmcgYHNjb3BlLiRldmFsQXN5bmNgIGlmIHRoZSBldmVudCBpcyBmaXJlZFxuICogZHVyaW5nIGFuIGAkYXBwbHlgIHRvIGVuc3VyZSBhIGNvbnNpc3RlbnQgc3RhdGUuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdGb2N1cyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBmb2N1cy4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAqIFNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja31cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmx1clxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYmx1ciBldmVudC5cbiAqXG4gKiBBIFtibHVyIGV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvYmx1cikgZmlyZXMgd2hlblxuICogYW4gZWxlbWVudCBoYXMgbG9zdCBmb2N1cy5cbiAqXG4gKiBOb3RlOiBBcyB0aGUgYGJsdXJgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgYWxzbyBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvbnNcbiAqIChlLmcuIHJlbW92aW5nIGEgZm9jdXNzZWQgaW5wdXQpLFxuICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmx1ciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBibHVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICogU2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfVxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDb3B5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBjb3B5IGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29weSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBjb3B5LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmctY29weT1cImNvcGllZD10cnVlXCIgbmctaW5pdD1cImNvcGllZD1mYWxzZTsgdmFsdWU9J2NvcHkgbWUnXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPlxuICAgICAgY29waWVkOiB7e2NvcGllZH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ3V0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBjdXQgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDdXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY3V0LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmctY3V0PVwiY3V0PXRydWVcIiBuZy1pbml0PVwiY3V0PWZhbHNlOyB2YWx1ZT0nY3V0IG1lJ1wiIG5nLW1vZGVsPVwidmFsdWVcIj5cbiAgICAgIGN1dDoge3tjdXR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1Bhc3RlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBwYXN0ZSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1Bhc3RlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIHBhc3RlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmctcGFzdGU9XCJwYXN0ZT10cnVlXCIgbmctaW5pdD1cInBhc3RlPWZhbHNlXCIgcGxhY2Vob2xkZXI9J3Bhc3RlIGhlcmUnPlxuICAgICAgcGFzdGVkOiB7e3Bhc3RlfX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJZlxuICogQHJlc3RyaWN0IEFcbiAqIEBtdWx0aUVsZW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdJZmAgZGlyZWN0aXZlIHJlbW92ZXMgb3IgcmVjcmVhdGVzIGEgcG9ydGlvbiBvZiB0aGUgRE9NIHRyZWUgYmFzZWQgb24gYW5cbiAqIHtleHByZXNzaW9ufS4gSWYgdGhlIGV4cHJlc3Npb24gYXNzaWduZWQgdG8gYG5nSWZgIGV2YWx1YXRlcyB0byBhIGZhbHNlXG4gKiB2YWx1ZSB0aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLCBvdGhlcndpc2UgYSBjbG9uZSBvZiB0aGVcbiAqIGVsZW1lbnQgaXMgcmVpbnNlcnRlZCBpbnRvIHRoZSBET00uXG4gKlxuICogYG5nSWZgIGRpZmZlcnMgZnJvbSBgbmdTaG93YCBhbmQgYG5nSGlkZWAgaW4gdGhhdCBgbmdJZmAgY29tcGxldGVseSByZW1vdmVzIGFuZCByZWNyZWF0ZXMgdGhlXG4gKiBlbGVtZW50IGluIHRoZSBET00gcmF0aGVyIHRoYW4gY2hhbmdpbmcgaXRzIHZpc2liaWxpdHkgdmlhIHRoZSBgZGlzcGxheWAgY3NzIHByb3BlcnR5LiAgQSBjb21tb25cbiAqIGNhc2Ugd2hlbiB0aGlzIGRpZmZlcmVuY2UgaXMgc2lnbmlmaWNhbnQgaXMgd2hlbiB1c2luZyBjc3Mgc2VsZWN0b3JzIHRoYXQgcmVseSBvbiBhbiBlbGVtZW50J3NcbiAqIHBvc2l0aW9uIHdpdGhpbiB0aGUgRE9NLCBzdWNoIGFzIHRoZSBgOmZpcnN0LWNoaWxkYCBvciBgOmxhc3QtY2hpbGRgIHBzZXVkby1jbGFzc2VzLlxuICpcbiAqIE5vdGUgdGhhdCB3aGVuIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCB1c2luZyBgbmdJZmAgaXRzIHNjb3BlIGlzIGRlc3Ryb3llZCBhbmQgYSBuZXcgc2NvcGVcbiAqIGlzIGNyZWF0ZWQgd2hlbiB0aGUgZWxlbWVudCBpcyByZXN0b3JlZC4gIFRoZSBzY29wZSBjcmVhdGVkIHdpdGhpbiBgbmdJZmAgaW5oZXJpdHMgZnJvbVxuICogaXRzIHBhcmVudCBzY29wZSB1c2luZ1xuICogW3Byb3RvdHlwYWwgaW5oZXJpdGFuY2VdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvd2lraS9VbmRlcnN0YW5kaW5nLVNjb3BlcyNqYXZhc2NyaXB0LXByb3RvdHlwYWwtaW5oZXJpdGFuY2UpLlxuICogQW4gaW1wb3J0YW50IGltcGxpY2F0aW9uIG9mIHRoaXMgaXMgaWYgYG5nTW9kZWxgIGlzIHVzZWQgd2l0aGluIGBuZ0lmYCB0byBiaW5kIHRvXG4gKiBhIGphdmFzY3JpcHQgcHJpbWl0aXZlIGRlZmluZWQgaW4gdGhlIHBhcmVudCBzY29wZS4gSW4gdGhpcyBjYXNlIGFueSBtb2RpZmljYXRpb25zIG1hZGUgdG8gdGhlXG4gKiB2YXJpYWJsZSB3aXRoaW4gdGhlIGNoaWxkIHNjb3BlIHdpbGwgb3ZlcnJpZGUgKGhpZGUpIHRoZSB2YWx1ZSBpbiB0aGUgcGFyZW50IHNjb3BlLlxuICpcbiAqIEFsc28sIGBuZ0lmYCByZWNyZWF0ZXMgZWxlbWVudHMgdXNpbmcgdGhlaXIgY29tcGlsZWQgc3RhdGUuIEFuIGV4YW1wbGUgb2YgdGhpcyBiZWhhdmlvclxuICogaXMgaWYgYW4gZWxlbWVudCdzIGNsYXNzIGF0dHJpYnV0ZSBpcyBkaXJlY3RseSBtb2RpZmllZCBhZnRlciBpdCdzIGNvbXBpbGVkLCB1c2luZyBzb21ldGhpbmcgbGlrZVxuICogalF1ZXJ5J3MgYC5hZGRDbGFzcygpYCBtZXRob2QsIGFuZCB0aGUgZWxlbWVudCBpcyBsYXRlciByZW1vdmVkLiBXaGVuIGBuZ0lmYCByZWNyZWF0ZXMgdGhlIGVsZW1lbnRcbiAqIHRoZSBhZGRlZCBjbGFzcyB3aWxsIGJlIGxvc3QgYmVjYXVzZSB0aGUgb3JpZ2luYWwgY29tcGlsZWQgc3RhdGUgaXMgdXNlZCB0byByZWdlbmVyYXRlIHRoZSBlbGVtZW50LlxuICpcbiAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiBwcm92aWRlIGFuaW1hdGlvbnMgdmlhIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgdG8gYW5pbWF0ZSB0aGUgYGVudGVyYFxuICogYW5kIGBsZWF2ZWAgZWZmZWN0cy5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjZW50ZXIgZW50ZXJ9ICB8IGp1c3QgYWZ0ZXIgdGhlIGBuZ0lmYCBjb250ZW50cyBjaGFuZ2UgYW5kIGEgbmV3IERPTSBlbGVtZW50IGlzIGNyZWF0ZWQgYW5kIGluamVjdGVkIGludG8gdGhlIGBuZ0lmYCBjb250YWluZXIgfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IGp1c3QgYmVmb3JlIHRoZSBgbmdJZmAgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHxcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDYwMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0lmIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyBmYWxzeSB0aGVuXG4gKiAgICAgdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdHJlZS4gSWYgaXQgaXMgdHJ1dGh5IGEgY29weSBvZiB0aGUgY29tcGlsZWRcbiAqICAgICBlbGVtZW50IGlzIGFkZGVkIHRvIHRoZSBET00gdHJlZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGxhYmVsPkNsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgbmctaW5pdD1cImNoZWNrZWQ9dHJ1ZVwiIC8+PC9sYWJlbD48YnIvPlxuICAgICAgU2hvdyB3aGVuIGNoZWNrZWQ6XG4gICAgICA8c3BhbiBuZy1pZj1cImNoZWNrZWRcIiBjbGFzcz1cImFuaW1hdGUtaWZcIj5cbiAgICAgICAgVGhpcyBpcyByZW1vdmVkIHdoZW4gdGhlIGNoZWNrYm94IGlzIHVuY2hlY2tlZC5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1pZiB7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsIC5hbmltYXRlLWlmLm5nLWxlYXZlIHtcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlcixcbiAgICAgIC5hbmltYXRlLWlmLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctbGVhdmUsXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICBvcGFjaXR5OjE7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0lmRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRhbmltYXRlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDYwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICByZXN0cmljdDogJ0EnLFxuICAgICQkdGxiOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgYmxvY2ssIGNoaWxkU2NvcGUsIHByZXZpb3VzRWxlbWVudHM7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJGF0dHIubmdJZiwgZnVuY3Rpb24gbmdJZldhdGNoQWN0aW9uKHZhbHVlKSB7XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkge1xuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgbmV3U2NvcGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdJZicsICRhdHRyLm5nSWYpO1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgd2UgbmVlZCB0byBrZWVwIHRoZSByZWZlcmVuY2UgdG8gdGhlIGpxbGl0ZSB3cmFwcGVyIGFzIGl0IG1pZ2h0IGJlIGNoYW5nZWQgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXG4gICAgICAgICAgICAgICAgYmxvY2sgPSB7XG4gICAgICAgICAgICAgICAgICBjbG9uZTogY2xvbmVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCAkZWxlbWVudC5wYXJlbnQoKSwgJGVsZW1lbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hpbGRTY29wZSkge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcbiAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJsb2NrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSW5jbHVkZVxuICogQHJlc3RyaWN0IEVDQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmV0Y2hlcywgY29tcGlsZXMgYW5kIGluY2x1ZGVzIGFuIGV4dGVybmFsIEhUTUwgZnJhZ21lbnQuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIFVSTCBpcyByZXN0cmljdGVkIHRvIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlXG4gKiBhcHBsaWNhdGlvbiBkb2N1bWVudC4gVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gKiAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybH0gb24gaXQuIFRvIGxvYWQgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBwcm90b2NvbHNcbiAqIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3QgdGhlbX0gb3JcbiAqIHtAbGluayAkc2NlI3RydXN0QXNSZXNvdXJjZVVybCB3cmFwIHRoZW19IGFzIHRydXN0ZWQgdmFsdWVzLiBSZWZlciB0byBBbmd1bGFyJ3Mge0BsaW5rXG4gKiBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nfS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGJyb3dzZXInc1xuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcbiAqIHBvbGljeSBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICogRm9yIGV4YW1wbGUsIGBuZ0luY2x1ZGVgIHdvbid0IHdvcmsgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cyBvbiBhbGwgYnJvd3NlcnMgYW5kIGZvciBgZmlsZTovL2BcbiAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCB3aGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIG9uIHRoZSBuZXcgaW5jbHVkZSB8XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNsZWF2ZSBsZWF2ZX0gIHwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCBvbiB0aGUgb2xkIGluY2x1ZGUgfFxuICpcbiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA0MDBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdJbmNsdWRlfHNyYyBhbmd1bGFyIGV4cHJlc3Npb24gZXZhbHVhdGluZyB0byBVUkwuIElmIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcgY29uc3RhbnQsXG4gKiAgICAgICAgICAgICAgICAgbWFrZSBzdXJlIHlvdSB3cmFwIGl0IGluICoqc2luZ2xlKiogcXVvdGVzLCBlLmcuIGBzcmM9XCInbXlQYXJ0aWFsVGVtcGxhdGUuaHRtbCdcImAuXG4gKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gYSBuZXcgcGFydGlhbCBpcyBsb2FkZWQuXG4gKiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAgICAgICAgICAgICAgICAgICoqTm90ZToqKiBXaGVuIHVzaW5nIG9ubG9hZCBvbiBTVkcgZWxlbWVudHMgaW4gSUUxMSwgdGhlIGJyb3dzZXIgd2lsbCB0cnkgdG8gY2FsbFxuICogICAgICAgICAgICAgICAgICBhIGZ1bmN0aW9uIHdpdGggdGhlIG5hbWUgb24gdGhlIHdpbmRvdyBlbGVtZW50LCB3aGljaCB3aWxsIHVzdWFsbHkgdGhyb3cgYVxuICogICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uIGlzIHVuZGVmaW5lZFwiIGVycm9yLiBUbyBmaXggdGhpcywgeW91IGNhbiBpbnN0ZWFkIHVzZSBgZGF0YS1vbmxvYWRgIG9yIGFcbiAqICAgICAgICAgICAgICAgICAgZGlmZmVyZW50IGZvcm0gdGhhdCB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI25vcm1hbGl6YXRpb24gbWF0Y2hlc30gYG9ubG9hZGAuXG4gKiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgKlxuICogQHBhcmFtIHtzdHJpbmc9fSBhdXRvc2Nyb2xsIFdoZXRoZXIgYG5nSW5jbHVkZWAgc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxcbiAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgY29udGVudCBpcyBsb2FkZWQuXG4gKlxuICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHNldCwgZGlzYWJsZSBzY3JvbGxpbmcuXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBPdGhlcndpc2UgZW5hYmxlIHNjcm9sbGluZyBvbmx5IGlmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnV0aHkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwiaW5jbHVkZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJ0ZW1wbGF0ZVwiIG5nLW9wdGlvbnM9XCJ0Lm5hbWUgZm9yIHQgaW4gdGVtcGxhdGVzXCI+XG4gICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4oYmxhbmspPC9vcHRpb24+XG4gICAgICAgPC9zZWxlY3Q+XG4gICAgICAgdXJsIG9mIHRoZSB0ZW1wbGF0ZTogPGNvZGU+e3t0ZW1wbGF0ZS51cmx9fTwvY29kZT5cbiAgICAgICA8aHIvPlxuICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGVcIiBuZy1pbmNsdWRlPVwidGVtcGxhdGUudXJsXCI+PC9kaXY+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnaW5jbHVkZUV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS50ZW1wbGF0ZXMgPVxuICAgICAgICAgICAgWyB7IG5hbWU6ICd0ZW1wbGF0ZTEuaHRtbCcsIHVybDogJ3RlbXBsYXRlMS5odG1sJ30sXG4gICAgICAgICAgICAgIHsgbmFtZTogJ3RlbXBsYXRlMi5odG1sJywgdXJsOiAndGVtcGxhdGUyLmh0bWwnfSBdO1xuICAgICAgICAgICRzY29wZS50ZW1wbGF0ZSA9ICRzY29wZS50ZW1wbGF0ZXNbMF07XG4gICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTEuaHRtbFwiPlxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbFxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwidGVtcGxhdGUyLmh0bWxcIj5cbiAgICAgIENvbnRlbnQgb2YgdGVtcGxhdGUyLmh0bWxcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuc2xpZGUtYW5pbWF0ZS1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgaGVpZ2h0OjQwcHg7XG4gICAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUge1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLCAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcblxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIge1xuICAgICAgICB0b3A6LTUwcHg7XG4gICAgICB9XG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gICAgICAgIHRvcDo1MHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGVtcGxhdGVTZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZW1wbGF0ZScpKTtcbiAgICAgIHZhciBpbmNsdWRlRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctaW5jbHVkZV0nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTEuaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMS5odG1sLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMi5odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgwXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgwKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uaXNQcmVzZW50KCkpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50TG9hZGVkXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdJbmNsdWRlIHNjb3BlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVsb2FkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRFcnJvclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgd2hlbiBhIHRlbXBsYXRlIEhUVFAgcmVxdWVzdCB5aWVsZHMgYW4gZXJyb25lb3VzIHJlc3BvbnNlIChzdGF0dXMgPCAyMDAgfHwgc3RhdHVzID4gMjk5KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xudmFyIG5nSW5jbHVkZURpcmVjdGl2ZSA9IFsnJHRlbXBsYXRlUmVxdWVzdCcsICckYW5jaG9yU2Nyb2xsJywgJyRhbmltYXRlJyxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCR0ZW1wbGF0ZVJlcXVlc3QsICAgJGFuY2hvclNjcm9sbCwgICAkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICBwcmlvcml0eTogNDAwLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICBjb250cm9sbGVyOiBhbmd1bGFyLm5vb3AsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIHNyY0V4cCA9IGF0dHIubmdJbmNsdWRlIHx8IGF0dHIuc3JjLFxuICAgICAgICAgIG9ubG9hZEV4cCA9IGF0dHIub25sb2FkIHx8ICcnLFxuICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGw7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUsXG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQsXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgICB2YXIgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaChzcmNFeHAsIGZ1bmN0aW9uIG5nSW5jbHVkZVdhdGNoQWN0aW9uKHNyYykge1xuICAgICAgICAgIHZhciBhZnRlckFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChhdXRvU2Nyb2xsRXhwKSAmJiAoIWF1dG9TY3JvbGxFeHAgfHwgc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCkpKSB7XG4gICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciB0aGlzQ2hhbmdlSWQgPSArK2NoYW5nZUNvdW50ZXI7XG5cbiAgICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgICAvL3NldCB0aGUgMm5kIHBhcmFtIHRvIHRydWUgdG8gaWdub3JlIHRoZSB0ZW1wbGF0ZSByZXF1ZXN0IGVycm9yIHNvIHRoYXQgdGhlIGlubmVyXG4gICAgICAgICAgICAvL2NvbnRlbnRzIGFuZCBzY29wZSBjYW4gYmUgY2xlYW5lZCB1cC5cbiAgICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Qoc3JjLCB0cnVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgIT09IGNoYW5nZUNvdW50ZXIpIHJldHVybjtcbiAgICAgICAgICAgICAgdmFyIG5ld1Njb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICBjdHJsLnRlbXBsYXRlID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgICAgLy8gTm90ZTogVGhpcyB3aWxsIGFsc28gbGluayBhbGwgY2hpbGRyZW4gb2YgbmctaW5jbHVkZSB0aGF0IHdlcmUgY29udGFpbmVkIGluIHRoZSBvcmlnaW5hbFxuICAgICAgICAgICAgICAvLyBodG1sLiBJZiB0aGF0IGNvbnRlbnQgY29udGFpbnMgY29udHJvbGxlcnMsIC4uLiB0aGV5IGNvdWxkIHBvbGx1dGUvY2hhbmdlIHRoZSBzY29wZS5cbiAgICAgICAgICAgICAgLy8gSG93ZXZlciwgdXNpbmcgbmctaW5jbHVkZSBvbiBhbiBlbGVtZW50IHdpdGggYWRkaXRpb25hbCBjb250ZW50IGRvZXMgbm90IG1ha2Ugc2Vuc2UuLi5cbiAgICAgICAgICAgICAgLy8gTm90ZTogV2UgY2FuJ3QgcmVtb3ZlIHRoZW0gaW4gdGhlIGNsb25lQXR0Y2hGbiBvZiAkdHJhbnNjbHVkZSBhcyB0aGF0XG4gICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIGlzIGNhbGxlZCBiZWZvcmUgbGlua2luZyB0aGUgY29udGVudCwgd2hpY2ggd291bGQgYXBwbHkgY2hpbGRcbiAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlcyB0byBub24gZXhpc3RpbmcgZWxlbWVudHMuXG4gICAgICAgICAgICAgIHZhciBjbG9uZSA9ICR0cmFuc2NsdWRlKG5ld1Njb3BlLCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwgJGVsZW1lbnQpLnRoZW4oYWZ0ZXJBbmltYXRpb24pO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcbiAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTtcblxuICAgICAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudExvYWRlZCcsIHNyYyk7XG4gICAgICAgICAgICAgIHNjb3BlLiRldmFsKG9ubG9hZEV4cCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCA9PT0gY2hhbmdlQ291bnRlcikge1xuICAgICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50RXJyb3InLCBzcmMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWQnLCBzcmMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICBjdHJsLnRlbXBsYXRlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuLy8gVGhpcyBkaXJlY3RpdmUgaXMgY2FsbGVkIGR1cmluZyB0aGUgJHRyYW5zY2x1ZGUgY2FsbCBvZiB0aGUgZmlyc3QgYG5nSW5jbHVkZWAgZGlyZWN0aXZlLlxuLy8gSXQgd2lsbCByZXBsYWNlIGFuZCBjb21waWxlIHRoZSBjb250ZW50IG9mIHRoZSBlbGVtZW50IHdpdGggdGhlIGxvYWRlZCB0ZW1wbGF0ZS5cbi8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgc28gdGhhdCB0aGUgZWxlbWVudCBjb250ZW50IGlzIGFscmVhZHkgZmlsbGVkIHdoZW5cbi8vIHRoZSBsaW5rIGZ1bmN0aW9uIG9mIGFub3RoZXIgZGlyZWN0aXZlIG9uIHRoZSBzYW1lIGVsZW1lbnQgYXMgbmdJbmNsdWRlXG4vLyBpcyBjYWxsZWQuXG52YXIgbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUgPSBbJyRjb21waWxlJyxcbiAgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxuICAgICAgcHJpb3JpdHk6IC00MDAsXG4gICAgICByZXF1aXJlOiAnbmdJbmNsdWRlJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwpIHtcbiAgICAgICAgaWYgKHRvU3RyaW5nLmNhbGwoJGVsZW1lbnRbMF0pLm1hdGNoKC9TVkcvKSkge1xuICAgICAgICAgIC8vIFdlYktpdDogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNTY5OCAtLS0gU1ZHIGVsZW1lbnRzIGRvIG5vdFxuICAgICAgICAgIC8vIHN1cHBvcnQgaW5uZXJIVE1MLCBzbyBkZXRlY3QgdGhpcyBoZXJlIGFuZCB0cnkgdG8gZ2VuZXJhdGUgdGhlIGNvbnRlbnRzXG4gICAgICAgICAgLy8gc3BlY2lhbGx5LlxuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGNvbXBpbGUoanFMaXRlQnVpbGRGcmFnbWVudChjdHJsLnRlbXBsYXRlLCB3aW5kb3cuZG9jdW1lbnQpLmNoaWxkTm9kZXMpKHNjb3BlLFxuICAgICAgICAgICAgICBmdW5jdGlvbiBuYW1lc3BhY2VBZGFwdGVkQ2xvbmUoY2xvbmUpIHtcbiAgICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gICAgICAgICAgfSwge2Z1dHVyZVBhcmVudEVsZW1lbnQ6ICRlbGVtZW50fSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJGVsZW1lbnQuaHRtbChjdHJsLnRlbXBsYXRlKTtcbiAgICAgICAgJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSW5pdFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSW5pdGAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZXZhbHVhdGUgYW4gZXhwcmVzc2lvbiBpbiB0aGVcbiAqIGN1cnJlbnQgc2NvcGUuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFidXNlZCB0byBhZGQgdW5uZWNlc3NhcnkgYW1vdW50cyBvZiBsb2dpYyBpbnRvIHlvdXIgdGVtcGxhdGVzLlxuICogVGhlcmUgYXJlIG9ubHkgYSBmZXcgYXBwcm9wcmlhdGUgdXNlcyBvZiBgbmdJbml0YCwgc3VjaCBhcyBmb3IgYWxpYXNpbmcgc3BlY2lhbCBwcm9wZXJ0aWVzIG9mXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzZWVuIGluIHRoZSBkZW1vIGJlbG93OyBhbmQgZm9yIGluamVjdGluZyBkYXRhIHZpYVxuICogc2VydmVyIHNpZGUgc2NyaXB0aW5nLiBCZXNpZGVzIHRoZXNlIGZldyBjYXNlcywgeW91IHNob3VsZCB1c2Uge0BsaW5rIGd1aWRlL2NvbnRyb2xsZXIgY29udHJvbGxlcnN9XG4gKiByYXRoZXIgdGhhbiBgbmdJbml0YCB0byBpbml0aWFsaXplIHZhbHVlcyBvbiBhIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZSoqOiBJZiB5b3UgaGF2ZSBhc3NpZ25tZW50IGluIGBuZ0luaXRgIGFsb25nIHdpdGggYSB7QGxpbmsgbmcuJGZpbHRlciBgZmlsdGVyYH0sIG1ha2VcbiAqIHN1cmUgeW91IGhhdmUgcGFyZW50aGVzZXMgdG8gZW5zdXJlIGNvcnJlY3Qgb3BlcmF0b3IgcHJlY2VkZW5jZTpcbiAqIDxwcmUgY2xhc3M9XCJwcmV0dHlwcmludFwiPlxuICogYDxkaXYgbmctaW5pdD1cInRlc3QxID0gKCRpbmRleCB8IHRvU3RyaW5nKVwiPjwvZGl2PmBcbiAqIDwvcHJlPlxuICogPC9kaXY+XG4gKlxuICogQHByaW9yaXR5IDQ1MFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0luaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiaW5pdEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxzY3JpcHQ+XG4gICAgIGFuZ3VsYXIubW9kdWxlKCdpbml0RXhhbXBsZScsIFtdKVxuICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAkc2NvcGUubGlzdCA9IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXTtcbiAgICAgICB9XSk7XG4gICA8L3NjcmlwdD5cbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgIDxkaXYgbmctcmVwZWF0PVwiaW5uZXJMaXN0IGluIGxpc3RcIiBuZy1pbml0PVwib3V0ZXJJbmRleCA9ICRpbmRleFwiPlxuICAgICAgIDxkaXYgbmctcmVwZWF0PVwidmFsdWUgaW4gaW5uZXJMaXN0XCIgbmctaW5pdD1cImlubmVySW5kZXggPSAkaW5kZXhcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImV4YW1wbGUtaW5pdFwiPmxpc3RbIHt7b3V0ZXJJbmRleH19IF1bIHt7aW5uZXJJbmRleH19IF0gPSB7e3ZhbHVlfX07PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2Rpdj5cbiAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGFsaWFzIGluZGV4IHBvc2l0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5hbGwoYnkuY3NzKCcuZXhhbXBsZS1pbml0JykpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMCBdID0gYTsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDEgXSA9IGI7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAwIF0gPSBjOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMSBdID0gZDsnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJbml0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBwcmlvcml0eTogNDUwLFxuICBjb21waWxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdJbml0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0xpc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlZmF1bHRcbiAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxuICogZGVsaW1pdGVyIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nTGlzdGAgYXR0cmlidXRlIC0gZm9yIGV4YW1wbGUsIGBuZy1saXN0PVwiIHwgXCJgLlxuICpcbiAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXG4gKiAqIElmIGBuZ1RyaW1gIGlzIHNldCB0byBgXCJmYWxzZVwiYCB0aGVuIHdoaXRlc3BhY2UgYXJvdW5kIGJvdGggdGhlIHNlcGFyYXRvciBhbmQgZWFjaFxuICogICBsaXN0IGl0ZW0gaXMgcmVzcGVjdGVkLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBvZiB0aGUgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvclxuICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcbiAqICAgdGFiIG9yIG5ld2xpbmUgY2hhcmFjdGVyLlxuICogKiBPdGhlcndpc2Ugd2hpdGVzcGFjZSBhcm91bmQgdGhlIGRlbGltaXRlciBpcyBpZ25vcmVkIHdoZW4gc3BsaXR0aW5nIChhbHRob3VnaCBpdCBpcyByZXNwZWN0ZWRcbiAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxuICogICBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIG1vZGVsLlxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggVmFsaWRhdGlvblxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlXCIgbW9kdWxlPVwibGlzdEV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnbGlzdEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xuICogICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICA8bGFiZWw+TGlzdDogPGlucHV0IG5hbWU9XCJuYW1lc0lucHV0XCIgbmctbW9kZWw9XCJuYW1lc1wiIG5nLWxpc3QgcmVxdWlyZWQ+PC9sYWJlbD5cbiAqICAgICAgPHNwYW4gcm9sZT1cImFsZXJ0XCI+XG4gKiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAqICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gKiAgICAgIDwvc3Bhbj5cbiAqICAgICAgPGJyPlxuICogICAgICA8dHQ+bmFtZXMgPSB7e25hbWVzfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICogICAgIDwvZm9ybT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgdmFyIGxpc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWVzJykpO1xuICogICAgIHZhciBuYW1lcyA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCduYW1lcycpKTtcbiAqICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZCcpKTtcbiAqICAgICB2YXIgZXJyb3IgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5lcnJvcicpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBleHBlY3QobmFtZXMuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcIm1vcnBoZXVzXCIsXCJuZW9cIixcInRyaW5pdHlcIl0nKTtcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgICAgZXhwZWN0KGVycm9yLmdldENzc1ZhbHVlKCdkaXNwbGF5JykpLnRvQmUoJ25vbmUnKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBsaXN0SW5wdXQuY2xlYXIoKTtcbiAqICAgICAgIGxpc3RJbnB1dC5zZW5kS2V5cygnJyk7XG4gKlxuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS5ub3QudG9CZSgnbm9uZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMjIEV4YW1wbGUgLSBzcGxpdHRpbmcgb24gbmV3bGluZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nTGlzdC1kaXJlY3RpdmUtbmV3bGluZXNcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cImxpc3RcIiBuZy1saXN0PVwiJiMxMDtcIiBuZy10cmltPVwiZmFsc2VcIj48L3RleHRhcmVhPlxuICogICAgPHByZT57eyBsaXN0IHwganNvbiB9fTwvcHJlPlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICBpdChcInNob3VsZCBzcGxpdCB0aGUgdGV4dCBieSBuZXdsaW5lc1wiLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsaXN0JykpO1xuICogICAgICAgdmFyIG91dHB1dCA9IGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCB8IGpzb24nKSk7XG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJ2FiY1xcbmRlZlxcbmdoaScpO1xuICogICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQ29udGFpbignW1xcbiAgXCJhYmNcIixcXG4gIFwiZGVmXCIsXFxuICBcImdoaVwiXFxuXScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdMaXN0IG9wdGlvbmFsIGRlbGltaXRlciB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHNwbGl0IHRoZSB2YWx1ZS5cbiAqL1xudmFyIG5nTGlzdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcHJpb3JpdHk6IDEwMCxcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgICAgIC8vIFdlIHdhbnQgdG8gY29udHJvbCB3aGl0ZXNwYWNlIHRyaW1taW5nIHNvIHdlIHVzZSB0aGlzIGNvbnZvbHV0ZWQgYXBwcm9hY2hcbiAgICAgIC8vIHRvIGFjY2VzcyB0aGUgbmdMaXN0IGF0dHJpYnV0ZSwgd2hpY2ggZG9lc24ndCBwcmUtdHJpbSB0aGUgYXR0cmlidXRlXG4gICAgICB2YXIgbmdMaXN0ID0gZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIubmdMaXN0KSB8fCAnLCAnO1xuICAgICAgdmFyIHRyaW1WYWx1ZXMgPSBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJztcbiAgICAgIHZhciBzZXBhcmF0b3IgPSB0cmltVmFsdWVzID8gdHJpbShuZ0xpc3QpIDogbmdMaXN0O1xuXG4gICAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbih2aWV3VmFsdWUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHZpZXdWYWx1ZSBpcyBpbnZhbGlkIChzYXkgcmVxdWlyZWQgYnV0IGVtcHR5KSBpdCB3aWxsIGJlIGB1bmRlZmluZWRgXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2aWV3VmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcblxuICAgICAgICBpZiAodmlld1ZhbHVlKSB7XG4gICAgICAgICAgZm9yRWFjaCh2aWV3VmFsdWUuc3BsaXQoc2VwYXJhdG9yKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgbGlzdC5wdXNoKHRyaW1WYWx1ZXMgPyB0cmltKHZhbHVlKSA6IHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgfTtcblxuICAgICAgY3RybC4kcGFyc2Vycy5wdXNoKHBhcnNlKTtcbiAgICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuam9pbihuZ0xpc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgJGlzRW1wdHkgYmVjYXVzZSBhbiBlbXB0eSBhcnJheSBtZWFucyB0aGUgaW5wdXQgaXMgZW1wdHkuXG4gICAgICBjdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCAhdmFsdWUubGVuZ3RoO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgVkFMSURfQ0xBU1M6IHRydWUsXG4gIElOVkFMSURfQ0xBU1M6IHRydWUsXG4gIFBSSVNUSU5FX0NMQVNTOiB0cnVlLFxuICBESVJUWV9DTEFTUzogdHJ1ZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiB0cnVlLFxuICBUT1VDSEVEX0NMQVNTOiB0cnVlLFxuKi9cblxudmFyIFZBTElEX0NMQVNTID0gJ25nLXZhbGlkJyxcbiAgICBJTlZBTElEX0NMQVNTID0gJ25nLWludmFsaWQnLFxuICAgIFBSSVNUSU5FX0NMQVNTID0gJ25nLXByaXN0aW5lJyxcbiAgICBESVJUWV9DTEFTUyA9ICduZy1kaXJ0eScsXG4gICAgVU5UT1VDSEVEX0NMQVNTID0gJ25nLXVudG91Y2hlZCcsXG4gICAgVE9VQ0hFRF9DTEFTUyA9ICduZy10b3VjaGVkJyxcbiAgICBQRU5ESU5HX0NMQVNTID0gJ25nLXBlbmRpbmcnLFxuICAgIEVNUFRZX0NMQVNTID0gJ25nLWVtcHR5JyxcbiAgICBOT1RfRU1QVFlfQ0xBU1MgPSAnbmctbm90LWVtcHR5JztcblxudmFyIG5nTW9kZWxNaW5FcnIgPSBtaW5FcnIoJ25nTW9kZWwnKTtcblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlclxuICpcbiAqIEBwcm9wZXJ0eSB7Kn0gJHZpZXdWYWx1ZSBUaGUgYWN0dWFsIHZhbHVlIGZyb20gdGhlIGNvbnRyb2wncyB2aWV3LiBGb3IgYGlucHV0YCBlbGVtZW50cywgdGhpcyBpcyBhXG4gKiBTdHJpbmcuIFNlZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hlbiB0aGUgJHZpZXdWYWx1ZVxuICogaXMgc2V0LlxuICogQHByb3BlcnR5IHsqfSAkbW9kZWxWYWx1ZSBUaGUgdmFsdWUgaW4gdGhlIG1vZGVsIHRoYXQgdGhlIGNvbnRyb2wgaXMgYm91bmQgdG8uXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRwYXJzZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxuICAgICAgIHRoZSBjb250cm9sIHJlYWRzIHZhbHVlIGZyb20gdGhlIERPTS4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIGFycmF5IG9yZGVyLCBlYWNoIHBhc3NpbmdcbiAgICAgICBpdHMgcmV0dXJuIHZhbHVlIHRocm91Z2ggdG8gdGhlIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gY29sbGVjdGlvbi5cblxuUGFyc2VycyBhcmUgdXNlZCB0byBzYW5pdGl6ZSAvIGNvbnZlcnQgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcbmAkdmlld1ZhbHVlYH0uXG5cblJldHVybmluZyBgdW5kZWZpbmVkYCBmcm9tIGEgcGFyc2VyIG1lYW5zIGEgcGFyc2UgZXJyb3Igb2NjdXJyZWQuIEluIHRoYXQgY2FzZSxcbm5vIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGAkdmFsaWRhdG9yc2B9IHdpbGwgcnVuIGFuZCB0aGUgYG5nTW9kZWxgXG53aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCB1bmxlc3Mge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfVxuaXMgc2V0IHRvIGB0cnVlYC4gVGhlIHBhcnNlIGVycm9yIGlzIHN0b3JlZCBpbiBgbmdNb2RlbC4kZXJyb3IucGFyc2VgLlxuXG4gKlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkZm9ybWF0dGVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXJcbiAgICAgICB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIHJldmVyc2UgYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCB0byB0aGVcbiAgICAgICBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyB0aGUgYWN0dWFsIERPTSB2YWx1ZS5cbiAgICAgICBVc2VkIHRvIGZvcm1hdCAvIGNvbnZlcnQgdmFsdWVzIGZvciBkaXNwbGF5IGluIHRoZSBjb250cm9sLlxuICogYGBganNcbiAqIGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkge1xuICogICBpZiAodmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcbiAqICAgfVxuICogfVxuICogbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICR2YWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0b3JzIHRoYXQgYXJlIGFwcGxpZWRcbiAqICAgICAgd2hlbmV2ZXIgdGhlIG1vZGVsIHZhbHVlIGNoYW5nZXMuIFRoZSBrZXkgdmFsdWUgd2l0aGluIHRoZSBvYmplY3QgcmVmZXJzIHRvIHRoZSBuYW1lIG9mIHRoZVxuICogICAgICB2YWxpZGF0b3Igd2hpbGUgdGhlIGZ1bmN0aW9uIHJlZmVycyB0byB0aGUgdmFsaWRhdGlvbiBvcGVyYXRpb24uIFRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbiBpc1xuICogICAgICBwcm92aWRlZCB3aXRoIHRoZSBtb2RlbCB2YWx1ZSBhcyBhbiBhcmd1bWVudCBhbmQgbXVzdCByZXR1cm4gYSB0cnVlIG9yIGZhbHNlIHZhbHVlIGRlcGVuZGluZ1xuICogICAgICBvbiB0aGUgcmVzcG9uc2Ugb2YgdGhhdCB2YWxpZGF0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiBuZ01vZGVsLiR2YWxpZGF0b3JzLnZhbGlkQ2hhcmFjdGVycyA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqICAgcmV0dXJuIC9bMC05XSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvW2Etel0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1tBLVpdKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9cXFcrLy50ZXN0KHZhbHVlKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICRhc3luY1ZhbGlkYXRvcnMgQSBjb2xsZWN0aW9uIG9mIHZhbGlkYXRpb25zIHRoYXQgYXJlIGV4cGVjdGVkIHRvXG4gKiAgICAgIHBlcmZvcm0gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gKGUuZy4gYSBIVFRQIHJlcXVlc3QpLiBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGlzIHByb3ZpZGVkXG4gKiAgICAgIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHByb21pc2Ugd2hlbiBpdCBpcyBydW4gZHVyaW5nIHRoZSBtb2RlbCB2YWxpZGF0aW9uIHByb2Nlc3MuIE9uY2UgdGhlIHByb21pc2VcbiAqICAgICAgaXMgZGVsaXZlcmVkIHRoZW4gdGhlIHZhbGlkYXRpb24gc3RhdHVzIHdpbGwgYmUgc2V0IHRvIHRydWUgd2hlbiBmdWxmaWxsZWQgYW5kIGZhbHNlIHdoZW4gcmVqZWN0ZWQuXG4gKiAgICAgIFdoZW4gdGhlIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFyZSB0cmlnZ2VyZWQsIGVhY2ggb2YgdGhlIHZhbGlkYXRvcnMgd2lsbCBydW4gaW4gcGFyYWxsZWwgYW5kIHRoZSBtb2RlbFxuICogICAgICB2YWx1ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlIGFsbCB2YWxpZGF0b3JzIGhhdmUgYmVlbiBmdWxmaWxsZWQuIEFzIGxvbmcgYXMgYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRvclxuICogICAgICBpcyB1bmZ1bGZpbGxlZCwgaXRzIGtleSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVycyBgJHBlbmRpbmdgIHByb3BlcnR5LiBBbHNvLCBhbGwgYXN5bmNocm9ub3VzIHZhbGlkYXRvcnNcbiAqICAgICAgd2lsbCBvbmx5IHJ1biBvbmNlIGFsbCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGhhdmUgcGFzc2VkLlxuICpcbiAqIFBsZWFzZSBub3RlIHRoYXQgaWYgJGh0dHAgaXMgdXNlZCB0aGVuIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSBzZXJ2ZXIgcmV0dXJucyBhIHN1Y2Nlc3MgSFRUUCByZXNwb25zZSBjb2RlXG4gKiBpbiBvcmRlciB0byBmdWxmaWxsIHRoZSB2YWxpZGF0aW9uIGFuZCBhIHN0YXR1cyBsZXZlbCBvZiBgNHh4YCBpbiBvcmRlciB0byByZWplY3QgdGhlIHZhbGlkYXRpb24uXG4gKlxuICogYGBganNcbiAqIG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy51bmlxdWVVc2VybmFtZSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqXG4gKiAgIC8vIExvb2t1cCB1c2VyIGJ5IHVzZXJuYW1lXG4gKiAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyArIHZhbHVlKS5cbiAqICAgICAgdGhlbihmdW5jdGlvbiByZXNvbHZlZCgpIHtcbiAqICAgICAgICAvL3VzZXJuYW1lIGV4aXN0cywgdGhpcyBtZWFucyB2YWxpZGF0aW9uIGZhaWxzXG4gKiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnZXhpc3RzJyk7XG4gKiAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdGVkKCkge1xuICogICAgICAgIC8vdXNlcm5hbWUgZG9lcyBub3QgZXhpc3QsIHRoZXJlZm9yZSB0aGlzIHZhbGlkYXRpb24gcGFzc2VzXG4gKiAgICAgICAgcmV0dXJuIHRydWU7XG4gKiAgICAgIH0pO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hlbmV2ZXIgdGhlXG4gKiAgICAgdmlldyB2YWx1ZSBoYXMgY2hhbmdlZC4gSXQgaXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICogICAgIFRoaXMgY2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYWRkaXRpb25hbCAkd2F0Y2hlcyBhZ2FpbnN0IHRoZSBtb2RlbCB2YWx1ZS5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIGZhaWxpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRwZW5kaW5nIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIHBlbmRpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHVudG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIG5vdCBsb3N0IGZvY3VzIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHRvdWNoZWQgVHJ1ZSBpZiBjb250cm9sIGhhcyBsb3N0IGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIHRoZXJlIGlzIG5vIGVycm9yLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkbmFtZSBUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGNvbnRyb2wuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBwcm92aWRlcyBBUEkgZm9yIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IGRpcmVjdGl2ZS5cbiAqIFRoZSBjb250cm9sbGVyIGNvbnRhaW5zIHNlcnZpY2VzIGZvciBkYXRhLWJpbmRpbmcsIHZhbGlkYXRpb24sIENTUyB1cGRhdGVzLCBhbmQgdmFsdWUgZm9ybWF0dGluZ1xuICogYW5kIHBhcnNpbmcuIEl0IHB1cnBvc2VmdWxseSBkb2VzIG5vdCBjb250YWluIGFueSBsb2dpYyB3aGljaCBkZWFscyB3aXRoIERPTSByZW5kZXJpbmcgb3JcbiAqIGxpc3RlbmluZyB0byBET00gZXZlbnRzLlxuICogU3VjaCBET00gcmVsYXRlZCBsb2dpYyBzaG91bGQgYmUgcHJvdmlkZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyB3aGljaCBtYWtlIHVzZSBvZlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBmb3IgZGF0YS1iaW5kaW5nIHRvIGNvbnRyb2wgZWxlbWVudHMuXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoaXMgRE9NIGxvZ2ljIGZvciBtb3N0IHtAbGluayBpbnB1dCBgaW5wdXRgfSBlbGVtZW50cy5cbiAqIEF0IHRoZSBlbmQgb2YgdGhpcyBwYWdlIHlvdSBjYW4gZmluZCBhIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyI2N1c3RvbS1jb250cm9sLWV4YW1wbGVcbiAqIGN1c3RvbSBjb250cm9sIGV4YW1wbGV9IHRoYXQgdXNlcyBgbmdNb2RlbENvbnRyb2xsZXJgIHRvIGJpbmQgdG8gYGNvbnRlbnRlZGl0YWJsZWAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDdXN0b20gQ29udHJvbCBFeGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgTmdNb2RlbENvbnRyb2xsZXJgIHdpdGggYSBjdXN0b20gY29udHJvbCB0byBhY2hpZXZlXG4gKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYClcbiAqIGNvbGxhYm9yYXRlIHRvZ2V0aGVyIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgcmVzdWx0LlxuICpcbiAqIGBjb250ZW50ZWRpdGFibGVgIGlzIGFuIEhUTUw1IGF0dHJpYnV0ZSwgd2hpY2ggdGVsbHMgdGhlIGJyb3dzZXIgdG8gbGV0IHRoZSBlbGVtZW50XG4gKiBjb250ZW50cyBiZSBlZGl0ZWQgaW4gcGxhY2UgYnkgdGhlIHVzZXIuXG4gKlxuICogV2UgYXJlIHVzaW5nIHRoZSB7QGxpbmsgbmcuc2VydmljZTokc2NlICRzY2V9IHNlcnZpY2UgaGVyZSBhbmQgaW5jbHVkZSB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfVxuICogbW9kdWxlIHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIFwiYmFkXCIgY29udGVudCBsaWtlIGlubGluZSBldmVudCBsaXN0ZW5lciAoZS5nLiBgPHNwYW4gb25jbGljaz1cIi4uLlwiPmApLlxuICogSG93ZXZlciwgYXMgd2UgYXJlIHVzaW5nIGAkc2NlYCB0aGUgbW9kZWwgY2FuIHN0aWxsIGRlY2lkZSB0byBwcm92aWRlIHVuc2FmZSBjb250ZW50IGlmIGl0IG1hcmtzXG4gKiB0aGF0IGNvbnRlbnQgdXNpbmcgdGhlIGAkc2NlYCBzZXJ2aWNlLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJOZ01vZGVsQ29udHJvbGxlclwiIG1vZHVsZT1cImN1c3RvbUNvbnRyb2xcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxuICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgIFtjb250ZW50ZWRpdGFibGVdIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICBtaW4taGVpZ2h0OiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAubmctaW52YWxpZCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbiAgICAgIH1cblxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY3VzdG9tQ29udHJvbCcsIFsnbmdTYW5pdGl6ZSddKS5cbiAgICAgICAgZGlyZWN0aXZlKCdjb250ZW50ZWRpdGFibGUnLCBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsIC8vIG9ubHkgYWN0aXZhdGUgb24gZWxlbWVudCBhdHRyaWJ1dGVcbiAgICAgICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsIC8vIGdldCBhIGhvbGQgb2YgTmdNb2RlbENvbnRyb2xsZXJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgICBpZiAoIW5nTW9kZWwpIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuXG4gICAgICAgICAgICAgIC8vIFNwZWNpZnkgaG93IFVJIHNob3VsZCBiZSB1cGRhdGVkXG4gICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKG5nTW9kZWwuJHZpZXdWYWx1ZSB8fCAnJykpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgY2hhbmdlIGV2ZW50cyB0byBlbmFibGUgYmluZGluZ1xuICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdibHVyIGtleXVwIGNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMocmVhZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZWFkKCk7IC8vIGluaXRpYWxpemVcblxuICAgICAgICAgICAgICAvLyBXcml0ZSBkYXRhIHRvIHRoZSBtb2RlbFxuICAgICAgICAgICAgICBmdW5jdGlvbiByZWFkKCkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gZWxlbWVudC5odG1sKCk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB3ZSBjbGVhciB0aGUgY29udGVudCBlZGl0YWJsZSB0aGUgYnJvd3NlciBsZWF2ZXMgYSA8YnI+IGJlaGluZFxuICAgICAgICAgICAgICAgIC8vIElmIHN0cmlwLWJyIGF0dHJpYnV0ZSBpcyBwcm92aWRlZCB0aGVuIHdlIHN0cmlwIHRoaXMgb3V0XG4gICAgICAgICAgICAgICAgaWYgKCBhdHRycy5zdHJpcEJyICYmIGh0bWwgPT0gJzxicj4nICkge1xuICAgICAgICAgICAgICAgICAgaHRtbCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoaHRtbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gICAgICAgPGRpdiBjb250ZW50ZWRpdGFibGVcbiAgICAgICAgICAgIG5hbWU9XCJteVdpZGdldFwiIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIlxuICAgICAgICAgICAgc3RyaXAtYnI9XCJ0cnVlXCJcbiAgICAgICAgICAgIHJlcXVpcmVkPkNoYW5nZSBtZSE8L2Rpdj5cbiAgICAgICAgPHNwYW4gbmctc2hvdz1cIm15Rm9ybS5teVdpZGdldC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgPGhyPlxuICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInVzZXJDb250ZW50XCIgYXJpYS1sYWJlbD1cIkR5bmFtaWMgdGV4dGFyZWFcIj48L3RleHRhcmVhPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgaXQoJ3Nob3VsZCBkYXRhLWJpbmQgYW5kIGJlY29tZSBpbnZhbGlkJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnc2FmYXJpJyB8fCBicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAvLyBTYWZhcmlEcml2ZXIgY2FuJ3QgaGFuZGxlIGNvbnRlbnRlZGl0YWJsZVxuICAgICAgICAvLyBhbmQgRmlyZWZveCBkcml2ZXIgY2FuJ3QgY2xlYXIgY29udGVudGVkaXRhYmxlcyB2ZXJ5IHdlbGxcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRlbnRFZGl0YWJsZSA9IGVsZW1lbnQoYnkuY3NzKCdbY29udGVudGVkaXRhYmxlXScpKTtcbiAgICAgIHZhciBjb250ZW50ID0gJ0NoYW5nZSBtZSEnO1xuXG4gICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldFRleHQoKSkudG9FcXVhbChjb250ZW50KTtcblxuICAgICAgY29udGVudEVkaXRhYmxlLmNsZWFyKCk7XG4gICAgICBjb250ZW50RWRpdGFibGUuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuQkFDS19TUEFDRSk7XG4gICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldFRleHQoKSkudG9FcXVhbCgnJyk7XG4gICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvbmctaW52YWxpZC1yZXF1aXJlZC8pO1xuICAgIH0pO1xuICAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICovXG52YXIgTmdNb2RlbENvbnRyb2xsZXIgPSBbJyRzY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckYXR0cnMnLCAnJGVsZW1lbnQnLCAnJHBhcnNlJywgJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGludGVycG9sYXRlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRleGNlcHRpb25IYW5kbGVyLCAkYXR0ciwgJGVsZW1lbnQsICRwYXJzZSwgJGFuaW1hdGUsICR0aW1lb3V0LCAkcm9vdFNjb3BlLCAkcSwgJGludGVycG9sYXRlKSB7XG4gIHRoaXMuJHZpZXdWYWx1ZSA9IE51bWJlci5OYU47XG4gIHRoaXMuJG1vZGVsVmFsdWUgPSBOdW1iZXIuTmFOO1xuICB0aGlzLiQkcmF3TW9kZWxWYWx1ZSA9IHVuZGVmaW5lZDsgLy8gc3RvcmVzIHRoZSBwYXJzZWQgbW9kZWxWYWx1ZSAvIG1vZGVsIHNldCBmcm9tIHNjb3BlIHJlZ2FyZGxlc3Mgb2YgdmFsaWRpdHkuXG4gIHRoaXMuJHZhbGlkYXRvcnMgPSB7fTtcbiAgdGhpcy4kYXN5bmNWYWxpZGF0b3JzID0ge307XG4gIHRoaXMuJHBhcnNlcnMgPSBbXTtcbiAgdGhpcy4kZm9ybWF0dGVycyA9IFtdO1xuICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzID0gW107XG4gIHRoaXMuJHVudG91Y2hlZCA9IHRydWU7XG4gIHRoaXMuJHRvdWNoZWQgPSBmYWxzZTtcbiAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xuICB0aGlzLiRkaXJ0eSA9IGZhbHNlO1xuICB0aGlzLiR2YWxpZCA9IHRydWU7XG4gIHRoaXMuJGludmFsaWQgPSBmYWxzZTtcbiAgdGhpcy4kZXJyb3IgPSB7fTsgLy8ga2VlcCBpbnZhbGlkIGtleXMgaGVyZVxuICB0aGlzLiQkc3VjY2VzcyA9IHt9OyAvLyBrZWVwIHZhbGlkIGtleXMgaGVyZVxuICB0aGlzLiRwZW5kaW5nID0gdW5kZWZpbmVkOyAvLyBrZWVwIHBlbmRpbmcga2V5cyBoZXJlXG4gIHRoaXMuJG5hbWUgPSAkaW50ZXJwb2xhdGUoJGF0dHIubmFtZSB8fCAnJywgZmFsc2UpKCRzY29wZSk7XG4gIHRoaXMuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xuXG4gIHZhciBwYXJzZWROZ01vZGVsID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwpLFxuICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbiA9IHBhcnNlZE5nTW9kZWwuYXNzaWduLFxuICAgICAgbmdNb2RlbEdldCA9IHBhcnNlZE5nTW9kZWwsXG4gICAgICBuZ01vZGVsU2V0ID0gcGFyc2VkTmdNb2RlbEFzc2lnbixcbiAgICAgIHBlbmRpbmdEZWJvdW5jZSA9IG51bGwsXG4gICAgICBwYXJzZXJWYWxpZCxcbiAgICAgIGN0cmwgPSB0aGlzO1xuXG4gIHRoaXMuJCRzZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGN0cmwuJG9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2V0dGVyU2V0dGVyKSB7XG4gICAgICB2YXIgaW52b2tlTW9kZWxHZXR0ZXIgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCArICcoKScpLFxuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwgKyAnKCQkJHApJyk7XG5cbiAgICAgIG5nTW9kZWxHZXQgPSBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgdmFyIG1vZGVsVmFsdWUgPSBwYXJzZWROZ01vZGVsKCRzY29wZSk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZSA9IGludm9rZU1vZGVsR2V0dGVyKCRzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWU7XG4gICAgICB9O1xuICAgICAgbmdNb2RlbFNldCA9IGZ1bmN0aW9uKCRzY29wZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocGFyc2VkTmdNb2RlbCgkc2NvcGUpKSkge1xuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyKCRzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbigkc2NvcGUsIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCFwYXJzZWROZ01vZGVsLmFzc2lnbikge1xuICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbm9uYXNzaWduJywgXCJFeHByZXNzaW9uICd7MH0nIGlzIG5vbi1hc3NpZ25hYmxlLiBFbGVtZW50OiB7MX1cIixcbiAgICAgICAgICAkYXR0ci5uZ01vZGVsLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyZW5kZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aWV3IG5lZWRzIHRvIGJlIHVwZGF0ZWQuIEl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIHVzZXIgb2YgdGhlIG5nLW1vZGVsXG4gICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGAkcmVuZGVyKClgIG1ldGhvZCBpcyBpbnZva2VkIGluIHRoZSBmb2xsb3dpbmcgc2l0dWF0aW9uczpcbiAgICpcbiAgICogKiBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIGlzIGNhbGxlZC4gIElmIHdlIGFyZSByb2xsaW5nIGJhY2sgdGhlIHZpZXcgdmFsdWUgdG8gdGhlIGxhc3RcbiAgICogICBjb21taXR0ZWQgdmFsdWUgdGhlbiBgJHJlbmRlcigpYCBpcyBjYWxsZWQgdG8gdXBkYXRlIHRoZSBpbnB1dCBjb250cm9sLlxuICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxuICAgKiAgIHRoZSBgJHZpZXdWYWx1ZWAgYXJlIGRpZmZlcmVudCBmcm9tIGxhc3QgdGltZS5cbiAgICpcbiAgICogU2luY2UgYG5nLW1vZGVsYCBkb2VzIG5vdCBkbyBhIGRlZXAgd2F0Y2gsIGAkcmVuZGVyKClgIGlzIG9ubHkgaW52b2tlZCBpZiB0aGUgdmFsdWVzIG9mXG4gICAqIGAkbW9kZWxWYWx1ZWAgYW5kIGAkdmlld1ZhbHVlYCBhcmUgYWN0dWFsbHkgZGlmZmVyZW50IGZyb20gdGhlaXIgcHJldmlvdXMgdmFsdWVzLiBJZiBgJG1vZGVsVmFsdWVgXG4gICAqIG9yIGAkdmlld1ZhbHVlYCBhcmUgb2JqZWN0cyAocmF0aGVyIHRoYW4gYSBzdHJpbmcgb3IgbnVtYmVyKSB0aGVuIGAkcmVuZGVyKClgIHdpbGwgbm90IGJlXG4gICAqIGludm9rZWQgaWYgeW91IG9ubHkgY2hhbmdlIGEgcHJvcGVydHkgb24gdGhlIG9iamVjdHMuXG4gICAqL1xuICB0aGlzLiRyZW5kZXIgPSBub29wO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGlzIGVtcHR5LlxuICAgKlxuICAgKiBGb3IgaW5zdGFuY2UsIHRoZSByZXF1aXJlZCBkaXJlY3RpdmUgZG9lcyB0aGlzIHRvIHdvcmsgb3V0IGlmIHRoZSBpbnB1dCBoYXMgZGF0YSBvciBub3QuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGAkaXNFbXB0eWAgZnVuY3Rpb24gY2hlY2tzIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLCBgJydgLCBgbnVsbGAgb3IgYE5hTmAuXG4gICAqXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBmb3IgaW5wdXQgZGlyZWN0aXZlcyB3aG9zZSBjb25jZXB0IG9mIGJlaW5nIGVtcHR5IGlzIGRpZmZlcmVudCBmcm9tIHRoZVxuICAgKiBkZWZhdWx0LiBUaGUgYGNoZWNrYm94SW5wdXRUeXBlYCBkaXJlY3RpdmUgZG9lcyB0aGlzIGJlY2F1c2UgaW4gaXRzIGNhc2UgYSB2YWx1ZSBvZiBgZmFsc2VgXG4gICAqIGltcGxpZXMgZW1wdHkuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBpbnB1dCB0byBjaGVjayBmb3IgZW1wdGluZXNzLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIFwiZW1wdHlcIi5cbiAgICovXG4gIHRoaXMuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZTtcbiAgfTtcblxuICB0aGlzLiQkdXBkYXRlRW1wdHlDbGFzc2VzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBOT1RfRU1QVFlfQ0xBU1MpO1xuICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIEVNUFRZX0NMQVNTKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIEVNUFRZX0NMQVNTKTtcbiAgICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBOT1RfRU1QVFlfQ0xBU1MpO1xuICAgIH1cbiAgfTtcblxuXG4gIHZhciBjdXJyZW50VmFsaWRhdGlvblJ1bklkID0gMDtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWYWxpZGl0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2hhbmdlIHRoZSB2YWxpZGl0eSBzdGF0ZSwgYW5kIG5vdGlmeSB0aGUgZm9ybS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB3aXRoaW4gJHBhcnNlcnMvJGZvcm1hdHRlcnMgb3IgYSBjdXN0b20gdmFsaWRhdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICogSG93ZXZlciwgaW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgc3VmZmljaWVudCB0byB1c2UgdGhlIGBuZ01vZGVsLiR2YWxpZGF0b3JzYCBhbmRcbiAgICogYG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9yc2AgY29sbGVjdGlvbnMgd2hpY2ggd2lsbCBjYWxsIGAkc2V0VmFsaWRpdHlgIGF1dG9tYXRpY2FsbHkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWxpZGF0aW9uRXJyb3JLZXkgTmFtZSBvZiB0aGUgdmFsaWRhdG9yLiBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgd2lsbCBiZSBhc3NpZ25lZFxuICAgKiAgICAgICAgdG8gZWl0aGVyIGAkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XWAgb3IgYCRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV1gXG4gICAqICAgICAgICAoZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYCksIHNvIHRoYXQgaXQgaXMgYXZhaWxhYmxlIGZvciBkYXRhLWJpbmRpbmcuXG4gICAqICAgICAgICBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgc2hvdWxkIGJlIGluIGNhbWVsQ2FzZSBhbmQgd2lsbCBnZXQgY29udmVydGVkIGludG8gZGFzaC1jYXNlXG4gICAqICAgICAgICBmb3IgY2xhc3MgbmFtZS4gRXhhbXBsZTogYG15RXJyb3JgIHdpbGwgcmVzdWx0IGluIGBuZy12YWxpZC1teS1lcnJvcmAgYW5kIGBuZy1pbnZhbGlkLW15LWVycm9yYFxuICAgKiAgICAgICAgY2xhc3MgYW5kIGNhbiBiZSBib3VuZCB0byBhcyAgYHt7c29tZUZvcm0uc29tZUNvbnRyb2wuJGVycm9yLm15RXJyb3J9fWAgLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzVmFsaWQgV2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBpcyB2YWxpZCAodHJ1ZSksIGludmFsaWQgKGZhbHNlKSwgcGVuZGluZyAodW5kZWZpbmVkKSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIFNraXBwZWQgaXMgdXNlZCBieSBBbmd1bGFyIHdoZW4gdmFsaWRhdG9ycyBkbyBub3QgcnVuIGJlY2F1c2Ugb2YgcGFyc2UgZXJyb3JzIGFuZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgJGFzeW5jVmFsaWRhdG9yc2AgZG8gbm90IHJ1biBiZWNhdXNlIGFueSBvZiB0aGUgYCR2YWxpZGF0b3JzYCBmYWlsZWQuXG4gICAqL1xuICBhZGRTZXRWYWxpZGl0eU1ldGhvZCh7XG4gICAgY3RybDogdGhpcyxcbiAgICAkZWxlbWVudDogJGVsZW1lbnQsXG4gICAgc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICBvYmplY3RbcHJvcGVydHldID0gdHJ1ZTtcbiAgICB9LFxuICAgIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgICB9LFxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRQcmlzdGluZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctZGlydHlgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lXG4gICAqIHN0YXRlIChgbmctcHJpc3RpbmVgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHByaXN0aW5lIHdoZW4gdGhlIGNvbnRyb2xcbiAgICogaGFzIG5vdCBiZWVuIGNoYW5nZWQgZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxuICAgKi9cbiAgdGhpcy4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiRkaXJ0eSA9IGZhbHNlO1xuICAgIGN0cmwuJHByaXN0aW5lID0gdHJ1ZTtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0RGlydHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5IHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXByaXN0aW5lYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0cyBkaXJ0eVxuICAgKiBzdGF0ZSAoYG5nLWRpcnR5YCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBkaXJ0eSB3aGVuIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWRcbiAgICogZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxuICAgKi9cbiAgdGhpcy4kc2V0RGlydHkgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiRkaXJ0eSA9IHRydWU7XG4gICAgY3RybC4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgY3RybC4kJHBhcmVudEZvcm0uJHNldERpcnR5KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctdG91Y2hlZGAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHNcbiAgICogdW50b3VjaGVkIHN0YXRlIChgbmctdW50b3VjaGVkYCBjbGFzcykuIFVwb24gY29tcGlsYXRpb24sIGEgbW9kZWwgaXMgc2V0IGFzIHVudG91Y2hlZFxuICAgKiBieSBkZWZhdWx0LCBob3dldmVyIHRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gcmVzdG9yZSB0aGF0IHN0YXRlIGlmIHRoZSBtb2RlbCBoYXNcbiAgICogYWxyZWFkeSBiZWVuIHRvdWNoZWQgYnkgdGhlIHVzZXIuXG4gICAqL1xuICB0aGlzLiRzZXRVbnRvdWNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiR0b3VjaGVkID0gZmFsc2U7XG4gICAgY3RybC4kdW50b3VjaGVkID0gdHJ1ZTtcbiAgICAkYW5pbWF0ZS5zZXRDbGFzcygkZWxlbWVudCwgVU5UT1VDSEVEX0NMQVNTLCBUT1VDSEVEX0NMQVNTKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRUb3VjaGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB0b3VjaGVkIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXVudG91Y2hlZGAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHNcbiAgICogdG91Y2hlZCBzdGF0ZSAoYG5nLXRvdWNoZWRgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHRvdWNoZWQgd2hlbiB0aGUgdXNlciBoYXNcbiAgICogZmlyc3QgZm9jdXNlZCB0aGUgY29udHJvbCBlbGVtZW50IGFuZCB0aGVuIHNoaWZ0ZWQgZm9jdXMgYXdheSBmcm9tIHRoZSBjb250cm9sIChibHVyIGV2ZW50KS5cbiAgICovXG4gIHRoaXMuJHNldFRvdWNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiR0b3VjaGVkID0gdHJ1ZTtcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSBmYWxzZTtcbiAgICAkYW5pbWF0ZS5zZXRDbGFzcygkZWxlbWVudCwgVE9VQ0hFRF9DTEFTUywgVU5UT1VDSEVEX0NMQVNTKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FuY2VsIGFuIHVwZGF0ZSBhbmQgcmVzZXQgdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSB0byBwcmV2ZW50IGFuIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYCxcbiAgICogd2hpY2ggbWF5IGJlIGNhdXNlZCBieSBhIHBlbmRpbmcgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZVxuICAgKiBmdXR1cmUgZXZlbnQuXG4gICAqXG4gICAqIElmIHlvdSBoYXZlIGFuIGlucHV0IHRoYXQgdXNlcyBgbmctbW9kZWwtb3B0aW9uc2AgdG8gc2V0IHVwIGRlYm91bmNlZCB1cGRhdGVzIG9yIHVwZGF0ZXMgdGhhdFxuICAgKiBkZXBlbmQgb24gc3BlY2lhbCBldmVudHMgc3VjaCBhcyBibHVyLCB5b3UgY2FuIGhhdmUgYSBzaXR1YXRpb24gd2hlcmUgdGhlcmUgaXMgYSBwZXJpb2Qgd2hlblxuICAgKiB0aGUgYCR2aWV3VmFsdWVgIGlzIG91dCBvZiBzeW5jIHdpdGggdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBJbiB0aGlzIGNhc2UsIHlvdSBjYW4gdXNlIGAkcm9sbGJhY2tWaWV3VmFsdWUoKWAgdG8gbWFudWFsbHkgY2FuY2VsIHRoZSBkZWJvdW5jZWQgLyBmdXR1cmUgdXBkYXRlXG4gICAqIGFuZCByZXNldCB0aGUgaW5wdXQgdG8gdGhlIGxhc3QgY29tbWl0dGVkIHZpZXcgdmFsdWUuXG4gICAqXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdGhhdCB5b3UgcnVuIGludG8gZGlmZmljdWx0aWVzIGlmIHlvdSB0cnkgdG8gdXBkYXRlIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYFxuICAgKiBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSB0aGVzZSBkZWJvdW5jZWQvZnV0dXJlIGV2ZW50cyBoYXZlIHJlc29sdmVkL29jY3VycmVkLCBiZWNhdXNlIEFuZ3VsYXInc1xuICAgKiBkaXJ0eSBjaGVja2luZyBtZWNoYW5pc20gaXMgbm90IGFibGUgdG8gdGVsbCB3aGV0aGVyIHRoZSBtb2RlbCBoYXMgYWN0dWFsbHkgY2hhbmdlZCBvciBub3QuXG4gICAqXG4gICAqIFRoZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBwcm9ncmFtbWF0aWNhbGx5IGNoYW5naW5nIHRoZSBtb2RlbCBvZiBhblxuICAgKiBpbnB1dCB3aGljaCBtYXkgaGF2ZSBzdWNoIGV2ZW50cyBwZW5kaW5nLiBUaGlzIGlzIGltcG9ydGFudCBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCB0aGVcbiAgICogaW5wdXQgZmllbGQgd2lsbCBiZSB1cGRhdGVkIHdpdGggdGhlIG5ldyBtb2RlbCB2YWx1ZSBhbmQgYW55IHBlbmRpbmcgb3BlcmF0aW9ucyBhcmUgY2FuY2VsbGVkLlxuICAgKlxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmctbW9kZWwtY2FuY2VsLXVwZGF0ZVwiIG1vZHVsZT1cImNhbmNlbC11cGRhdGUtZXhhbXBsZVwiPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdjYW5jZWwtdXBkYXRlLWV4YW1wbGUnLCBbXSlcbiAgICpcbiAgICogICAgIC5jb250cm9sbGVyKCdDYW5jZWxVcGRhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICogICAgICAgJHNjb3BlLm1vZGVsID0ge307XG4gICAqXG4gICAqICAgICAgICRzY29wZS5zZXRFbXB0eSA9IGZ1bmN0aW9uKGUsIHZhbHVlLCByb2xsYmFjaykge1xuICAgKiAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcbiAgICogICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICogICAgICAgICAgIGlmIChyb2xsYmFjaykge1xuICAgKiAgICAgICAgICAgICAkc2NvcGUubXlGb3JtW3ZhbHVlXS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICogICAgICAgICAgIH1cbiAgICogICAgICAgICAgICRzY29wZS5tb2RlbFt2YWx1ZV0gPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICB9XSk7XG4gICAqICAgPC9maWxlPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYW5jZWxVcGRhdGVDb250cm9sbGVyXCI+XG4gICAqICAgICAgICA8cD5Cb3RoIG9mIHRoZXNlIGlucHV0cyBhcmUgb25seSB1cGRhdGVkIGlmIHRoZXkgYXJlIGJsdXJyZWQuIEhpdHRpbmcgZXNjYXBlIHNob3VsZFxuICAgKiAgICAgICAgZW1wdHkgdGhlbS4gRm9sbG93IHRoZXNlIHN0ZXBzIGFuZCBvYnNlcnZlIHRoZSBkaWZmZXJlbmNlOjwvcD5cbiAgICogICAgICAgPG9sPlxuICAgKiAgICAgICAgIDxsaT5UeXBlIHNvbWV0aGluZyBpbiB0aGUgaW5wdXQuIFlvdSB3aWxsIHNlZSB0aGF0IHRoZSBtb2RlbCBpcyBub3QgeWV0IHVwZGF0ZWQ8L2xpPlxuICAgKiAgICAgICAgIDxsaT5QcmVzcyB0aGUgRXNjYXBlIGtleS5cbiAgICogICAgICAgICAgIDxvbD5cbiAgICogICAgICAgICAgICAgPGxpPiBJbiB0aGUgZmlyc3QgZXhhbXBsZSwgbm90aGluZyBoYXBwZW5zLCBiZWNhdXNlIHRoZSBtb2RlbCBpcyBhbHJlYWR5ICcnLCBhbmQgbm9cbiAgICogICAgICAgICAgICAgdXBkYXRlIGlzIGRldGVjdGVkLiBJZiB5b3UgYmx1ciB0aGUgaW5wdXQsIHRoZSBtb2RlbCB3aWxsIGJlIHNldCB0byB0aGUgY3VycmVudCB2aWV3LlxuICAgKiAgICAgICAgICAgICA8L2xpPlxuICAgKiAgICAgICAgICAgICA8bGk+IEluIHRoZSBzZWNvbmQgZXhhbXBsZSwgdGhlIHBlbmRpbmcgdXBkYXRlIGlzIGNhbmNlbGxlZCwgYW5kIHRoZSBpbnB1dCBpcyBzZXQgYmFja1xuICAgKiAgICAgICAgICAgICB0byB0aGUgbGFzdCBjb21taXR0ZWQgdmlldyB2YWx1ZSAoJycpLiBCbHVycmluZyB0aGUgaW5wdXQgZG9lcyBub3RoaW5nLlxuICAgKiAgICAgICAgICAgICA8L2xpPlxuICAgKiAgICAgICAgICAgPC9vbD5cbiAgICogICAgICAgICA8L2xpPlxuICAgKiAgICAgICA8L29sPlxuICAgKlxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJyB9XCI+XG4gICAqICAgICAgICAgPGRpdj5cbiAgICogICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjFcIj5XaXRob3V0ICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cbiAgICogICAgICAgICA8aW5wdXQgbmFtZT1cInZhbHVlMVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMVwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWUxXCJcbiAgICogICAgICAgICAgICAgICAgbmcta2V5ZG93bj1cInNldEVtcHR5KCRldmVudCwgJ3ZhbHVlMScpXCI+XG4gICAqICAgICAgICAgdmFsdWUxOiBcInt7IG1vZGVsLnZhbHVlMSB9fVwiXG4gICAqICAgICAgICAgPC9kaXY+XG4gICAqXG4gICAqICAgICAgICAgPGRpdj5cbiAgICogICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjJcIj5XaXRoICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cbiAgICogICAgICAgICA8aW5wdXQgbmFtZT1cInZhbHVlMlwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMlwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWUyXCJcbiAgICogICAgICAgICAgICAgICAgbmcta2V5ZG93bj1cInNldEVtcHR5KCRldmVudCwgJ3ZhbHVlMicsIHRydWUpXCI+XG4gICAqICAgICAgICAgdmFsdWUyOiBcInt7IG1vZGVsLnZhbHVlMiB9fVwiXG4gICAqICAgICAgICAgPC9kaXY+XG4gICAqICAgICAgIDwvZm9ybT5cbiAgICogICAgIDwvZGl2PlxuICAgKiAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAgZGl2IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRpdjpudGgtY2hpbGQoMSkge1xuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMzBweDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgPC9maWxlPlxuICAgKiA8L2V4YW1wbGU+XG4gICAqL1xuICB0aGlzLiRyb2xsYmFja1ZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xuICAgIGN0cmwuJHJlbmRlcigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSdW5zIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdmFsaWRhdG9ycyAoZmlyc3Qgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhbmQgdGhlblxuICAgKiBhc3luY2hyb25vdXMgdmFsaWRhdG9ycykuXG4gICAqIElmIHRoZSB2YWxpZGl0eSBjaGFuZ2VzIHRvIGludmFsaWQsIHRoZSBtb2RlbCB3aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCxcbiAgICogdW5sZXNzIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0gaXMgYHRydWVgLlxuICAgKiBJZiB0aGUgdmFsaWRpdHkgY2hhbmdlcyB0byB2YWxpZCwgaXQgd2lsbCBzZXQgdGhlIG1vZGVsIHRvIHRoZSBsYXN0IGF2YWlsYWJsZSB2YWxpZFxuICAgKiBgJG1vZGVsVmFsdWVgLCBpLmUuIGVpdGhlciB0aGUgbGFzdCBwYXJzZWQgdmFsdWUgb3IgdGhlIGxhc3QgdmFsdWUgc2V0IGZyb20gdGhlIHNjb3BlLlxuICAgKi9cbiAgdGhpcy4kdmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBpZ25vcmUgJHZhbGlkYXRlIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxuICAgIGlmIChpc051bWJlcihjdHJsLiRtb2RlbFZhbHVlKSAmJiBpc05hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICAvLyBOb3RlOiB3ZSB1c2UgdGhlICQkcmF3TW9kZWxWYWx1ZSBhcyAkbW9kZWxWYWx1ZSBtaWdodCBoYXZlIGJlZW5cbiAgICAvLyBzZXQgdG8gdW5kZWZpbmVkIGR1cmluZyBhIHZpZXcgLT4gbW9kZWwgdXBkYXRlIHRoYXQgZm91bmQgdmFsaWRhdGlvblxuICAgIC8vIGVycm9ycy4gV2UgY2FuJ3QgcGFyc2UgdGhlIHZpZXcgaGVyZSwgc2luY2UgdGhhdCBjb3VsZCBjaGFuZ2VcbiAgICAvLyB0aGUgbW9kZWwgYWx0aG91Z2ggbmVpdGhlciB2aWV3VmFsdWUgbm9yIHRoZSBtb2RlbCBvbiB0aGUgc2NvcGUgY2hhbmdlZFxuICAgIHZhciBtb2RlbFZhbHVlID0gY3RybC4kJHJhd01vZGVsVmFsdWU7XG5cbiAgICB2YXIgcHJldlZhbGlkID0gY3RybC4kdmFsaWQ7XG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gY3RybC4kbW9kZWxWYWx1ZTtcblxuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xuXG4gICAgY3RybC4kJHJ1blZhbGlkYXRvcnMobW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBmdW5jdGlvbihhbGxWYWxpZCkge1xuICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGNoYW5nZSBpbiB2YWxpZGl0eSwgZG9uJ3QgdXBkYXRlIHRoZSBtb2RlbFxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBjaGFuZ2luZyBhbiBpbnZhbGlkIG1vZGVsVmFsdWUgdG8gdW5kZWZpbmVkXG4gICAgICBpZiAoIWFsbG93SW52YWxpZCAmJiBwcmV2VmFsaWQgIT09IGFsbFZhbGlkKSB7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIGN0cmwuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoY3RybC4kbW9kZWxWYWx1ZSAhPT0gcHJldk1vZGVsVmFsdWUpIHtcbiAgICAgICAgICBjdHJsLiQkd3JpdGVNb2RlbFRvU2NvcGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy4kJHJ1blZhbGlkYXRvcnMgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGRvbmVDYWxsYmFjaykge1xuICAgIGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQrKztcbiAgICB2YXIgbG9jYWxWYWxpZGF0aW9uUnVuSWQgPSBjdXJyZW50VmFsaWRhdGlvblJ1bklkO1xuXG4gICAgLy8gY2hlY2sgcGFyc2VyIGVycm9yXG4gICAgaWYgKCFwcm9jZXNzUGFyc2VFcnJvcnMoKSkge1xuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb2Nlc3NTeW5jVmFsaWRhdG9ycygpKSB7XG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycygpIHtcbiAgICAgIHZhciBlcnJvcktleSA9IGN0cmwuJCRwYXJzZXJOYW1lIHx8ICdwYXJzZSc7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGFyc2VyVmFsaWQpKSB7XG4gICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcGFyc2VyVmFsaWQpIHtcbiAgICAgICAgICBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XG4gICAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIHBhcnNlIGVycm9yIGxhc3QsIHRvIHByZXZlbnQgdW5zZXR0aW5nIGl0LCBzaG91bGQgYSAkdmFsaWRhdG9ycyBrZXkgPT0gcGFyc2VyTmFtZVxuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgcGFyc2VyVmFsaWQpO1xuICAgICAgICByZXR1cm4gcGFyc2VyVmFsaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKSB7XG4gICAgICB2YXIgc3luY1ZhbGlkYXRvcnNWYWxpZCA9IHRydWU7XG4gICAgICBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSk7XG4gICAgICAgIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSBzeW5jVmFsaWRhdG9yc1ZhbGlkICYmIHJlc3VsdDtcbiAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzeW5jVmFsaWRhdG9yc1ZhbGlkKSB7XG4gICAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHZhbGlkYXRvclByb21pc2VzID0gW107XG4gICAgICB2YXIgYWxsVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xuICAgICAgICBpZiAoIWlzUHJvbWlzZUxpa2UocHJvbWlzZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdub3Byb21pc2UnLFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhc3luY2hyb25vdXMgdmFsaWRhdG9yIHRvIHJldHVybiBhIHByb21pc2UgYnV0IGdvdCAnezB9JyBpbnN0ZWFkLlwiLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB1bmRlZmluZWQpO1xuICAgICAgICB2YWxpZGF0b3JQcm9taXNlcy5wdXNoKHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB0cnVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxsVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBmYWxzZSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF2YWxpZGF0b3JQcm9taXNlcy5sZW5ndGgpIHtcbiAgICAgICAgdmFsaWRhdGlvbkRvbmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcS5hbGwodmFsaWRhdG9yUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpO1xuICAgICAgICB9LCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWYWxpZGl0eShuYW1lLCBpc1ZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQpIHtcbiAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpIHtcbiAgICAgIGlmIChsb2NhbFZhbGlkYXRpb25SdW5JZCA9PT0gY3VycmVudFZhbGlkYXRpb25SdW5JZCkge1xuXG4gICAgICAgIGRvbmVDYWxsYmFjayhhbGxWYWxpZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGNvbW1pdFZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ29tbWl0IGEgcGVuZGluZyB1cGRhdGUgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gdGhpcyBtZXRob2QgaXMgcmFyZWx5IG5lZWRlZCBhcyBgTmdNb2RlbENvbnRyb2xsZXJgXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxuICAgKi9cbiAgdGhpcy4kY29tbWl0Vmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZpZXdWYWx1ZSA9IGN0cmwuJHZpZXdWYWx1ZTtcblxuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuXG4gICAgLy8gSWYgdGhlIHZpZXcgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkIHRoZW4gd2Ugc2hvdWxkIGp1c3QgZXhpdCwgZXhjZXB0IGluIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGlzXG4gICAgLy8gYSBuYXRpdmUgdmFsaWRhdG9yIG9uIHRoZSBlbGVtZW50LiBJbiB0aGlzIGNhc2UgdGhlIHZhbGlkYXRpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBldmVuIHRob3VnaFxuICAgIC8vIHRoZSB2aWV3VmFsdWUgaGFzIHN0YXllZCBlbXB0eS5cbiAgICBpZiAoY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPT09IHZpZXdWYWx1ZSAmJiAodmlld1ZhbHVlICE9PSAnJyB8fCAhY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN0cmwuJCR1cGRhdGVFbXB0eUNsYXNzZXModmlld1ZhbHVlKTtcbiAgICBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcblxuICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxuICAgIGlmIChjdHJsLiRwcmlzdGluZSkge1xuICAgICAgdGhpcy4kc2V0RGlydHkoKTtcbiAgICB9XG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICBwYXJzZXJWYWxpZCA9IGlzVW5kZWZpbmVkKG1vZGVsVmFsdWUpID8gdW5kZWZpbmVkIDogdHJ1ZTtcblxuICAgIGlmIChwYXJzZXJWYWxpZCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdHJsLiRwYXJzZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vZGVsVmFsdWUgPSBjdHJsLiRwYXJzZXJzW2ldKG1vZGVsVmFsdWUpO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgICBwYXJzZXJWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc051bWJlcihjdHJsLiRtb2RlbFZhbHVlKSAmJiBpc05hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xuICAgICAgLy8gY3RybC4kbW9kZWxWYWx1ZSBoYXMgbm90IGJlZW4gdG91Y2hlZCB5ZXQuLi5cbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7XG4gICAgfVxuICAgIHZhciBwcmV2TW9kZWxWYWx1ZSA9IGN0cmwuJG1vZGVsVmFsdWU7XG4gICAgdmFyIGFsbG93SW52YWxpZCA9IGN0cmwuJG9wdGlvbnMgJiYgY3RybC4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7XG4gICAgY3RybC4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuXG4gICAgaWYgKGFsbG93SW52YWxpZCkge1xuICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XG4gICAgICB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpO1xuICAgIH1cblxuICAgIC8vIFBhc3MgdGhlICQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSBoZXJlLCBiZWNhdXNlIHRoZSBjYWNoZWQgdmlld1ZhbHVlIG1pZ2h0IGJlIG91dCBvZiBkYXRlLlxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBlLmcuICRzZXRWaWV3VmFsdWUgaXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgcGFyc2VyXG4gICAgY3RybC4kJHJ1blZhbGlkYXRvcnMobW9kZWxWYWx1ZSwgY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XG4gICAgICBpZiAoIWFsbG93SW52YWxpZCkge1xuICAgICAgICAvLyBOb3RlOiBEb24ndCBjaGVjayBjdHJsLiR2YWxpZCBoZXJlLCBhcyB3ZSBjb3VsZCBoYXZlXG4gICAgICAgIC8vIGV4dGVybmFsIHZhbGlkYXRvcnMgKGUuZy4gY2FsY3VsYXRlZCBvbiB0aGUgc2VydmVyKSxcbiAgICAgICAgLy8gdGhhdCBqdXN0IGNhbGwgJHNldFZhbGlkaXR5IGFuZCBuZWVkIHRoZSBtb2RlbCB2YWx1ZVxuICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlaXIgdmFsaWRpdHkuXG4gICAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBhbGxWYWxpZCA/IG1vZGVsVmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgICAgIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpIHtcbiAgICAgIGlmIChjdHJsLiRtb2RlbFZhbHVlICE9PSBwcmV2TW9kZWxWYWx1ZSkge1xuICAgICAgICBjdHJsLiQkd3JpdGVNb2RlbFRvU2NvcGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlID0gZnVuY3Rpb24oKSB7XG4gICAgbmdNb2RlbFNldCgkc2NvcGUsIGN0cmwuJG1vZGVsVmFsdWUpO1xuICAgIGZvckVhY2goY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVXBkYXRlIHRoZSB2aWV3IHZhbHVlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYSBjb250cm9sIHdhbnRzIHRvIGNoYW5nZSB0aGUgdmlldyB2YWx1ZTsgdHlwaWNhbGx5LFxuICAgKiB0aGlzIGlzIGRvbmUgZnJvbSB3aXRoaW4gYSBET00gZXZlbnQgaGFuZGxlci4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxuICAgKiBkaXJlY3RpdmUgY2FsbHMgaXQgd2hlbiB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IGNoYW5nZXMgYW5kIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cbiAgICogY2FsbHMgaXQgd2hlbiBhbiBvcHRpb24gaXMgc2VsZWN0ZWQuXG4gICAqXG4gICAqIFdoZW4gYCRzZXRWaWV3VmFsdWVgIGlzIGNhbGxlZCwgdGhlIG5ldyBgdmFsdWVgIHdpbGwgYmUgc3RhZ2VkIGZvciBjb21taXR0aW5nIHRocm91Z2ggdGhlIGAkcGFyc2Vyc2BcbiAgICogYW5kIGAkdmFsaWRhdG9yc2AgcGlwZWxpbmVzLiBJZiB0aGVyZSBhcmUgbm8gc3BlY2lhbCB7QGxpbmsgbmdNb2RlbE9wdGlvbnN9IHNwZWNpZmllZCB0aGVuIHRoZSBzdGFnZWRcbiAgICogdmFsdWUgc2VudCBkaXJlY3RseSBmb3IgcHJvY2Vzc2luZywgZmluYWxseSB0byBiZSBhcHBsaWVkIHRvIGAkbW9kZWxWYWx1ZWAgYW5kIHRoZW4gdGhlXG4gICAqICoqZXhwcmVzc2lvbioqIHNwZWNpZmllZCBpbiB0aGUgYG5nLW1vZGVsYCBhdHRyaWJ1dGUuIExhc3RseSwgYWxsIHRoZSByZWdpc3RlcmVkIGNoYW5nZSBsaXN0ZW5lcnMsXG4gICAqIGluIHRoZSBgJHZpZXdDaGFuZ2VMaXN0ZW5lcnNgIGxpc3QsIGFyZSBjYWxsZWQuXG4gICAqXG4gICAqIEluIGNhc2UgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9IGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYHVwZGF0ZU9uYFxuICAgKiBhbmQgdGhlIGBkZWZhdWx0YCB0cmlnZ2VyIGlzIG5vdCBsaXN0ZWQsIGFsbCB0aG9zZSBhY3Rpb25zIHdpbGwgcmVtYWluIHBlbmRpbmcgdW50aWwgb25lIG9mIHRoZVxuICAgKiBgdXBkYXRlT25gIGV2ZW50cyBpcyB0cmlnZ2VyZWQgb24gdGhlIERPTSBlbGVtZW50LlxuICAgKiBBbGwgdGhlc2UgYWN0aW9ucyB3aWxsIGJlIGRlYm91bmNlZCBpZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc31cbiAgICogZGlyZWN0aXZlIGlzIHVzZWQgd2l0aCBhIGN1c3RvbSBkZWJvdW5jZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGV2ZW50LlxuICAgKiBOb3RlIHRoYXQgYSBgJGRpZ2VzdGAgaXMgb25seSB0cmlnZ2VyZWQgb25jZSB0aGUgYHVwZGF0ZU9uYCBldmVudHMgYXJlIGZpcmVkLCBvciBpZiBgZGVib3VuY2VgXG4gICAqIGlzIHNwZWNpZmllZCwgb25jZSB0aGUgdGltZXIgcnVucyBvdXQuXG4gICAqXG4gICAqIFdoZW4gdXNlZCB3aXRoIHN0YW5kYXJkIGlucHV0cywgdGhlIHZpZXcgdmFsdWUgd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcgKHdoaWNoIGlzIGluIHNvbWUgY2FzZXNcbiAgICogcGFyc2VkIGludG8gYW5vdGhlciB0eXBlLCBzdWNoIGFzIGEgYERhdGVgIG9iamVjdCBmb3IgYGlucHV0W2RhdGVdYC4pXG4gICAqIEhvd2V2ZXIsIGN1c3RvbSBjb250cm9scyBtaWdodCBhbHNvIHBhc3Mgb2JqZWN0cyB0byB0aGlzIG1ldGhvZC4gSW4gdGhpcyBjYXNlLCB3ZSBzaG91bGQgbWFrZVxuICAgKiBhIGNvcHkgb2YgdGhlIG9iamVjdCBiZWZvcmUgcGFzc2luZyBpdCB0byBgJHNldFZpZXdWYWx1ZWAuIFRoaXMgaXMgYmVjYXVzZSBgbmdNb2RlbGAgZG9lcyBub3RcbiAgICogcGVyZm9ybSBhIGRlZXAgd2F0Y2ggb2Ygb2JqZWN0cywgaXQgb25seSBsb29rcyBmb3IgYSBjaGFuZ2Ugb2YgaWRlbnRpdHkuIElmIHlvdSBvbmx5IGNoYW5nZVxuICAgKiB0aGUgcHJvcGVydHkgb2YgdGhlIG9iamVjdCB0aGVuIG5nTW9kZWwgd2lsbCBub3QgcmVhbGl6ZSB0aGF0IHRoZSBvYmplY3QgaGFzIGNoYW5nZWQgYW5kXG4gICAqIHdpbGwgbm90IGludm9rZSB0aGUgYCRwYXJzZXJzYCBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuIEZvciB0aGlzIHJlYXNvbiwgeW91IHNob3VsZFxuICAgKiBub3QgY2hhbmdlIHByb3BlcnRpZXMgb2YgdGhlIGNvcHkgb25jZSBpdCBoYXMgYmVlbiBwYXNzZWQgdG8gYCRzZXRWaWV3VmFsdWVgLlxuICAgKiBPdGhlcndpc2UgeW91IG1heSBjYXVzZSB0aGUgbW9kZWwgdmFsdWUgb24gdGhlIHNjb3BlIHRvIGNoYW5nZSBpbmNvcnJlY3RseS5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAgICogSW4gYW55IGNhc2UsIHRoZSB2YWx1ZSBwYXNzZWQgdG8gdGhlIG1ldGhvZCBzaG91bGQgYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICogb2YgdGhlIGNvbnRyb2wuIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIGNhbGxpbmcgYCRzZXRWaWV3VmFsdWVgIGZvciBhbiBpbnB1dCBlbGVtZW50LFxuICAgKiB5b3Ugc2hvdWxkIHBhc3MgdGhlIGlucHV0IERPTSB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgY29udHJvbCBhbmQgdGhlIHNjb3BlIG1vZGVsIGJlY29tZVxuICAgKiBvdXQgb2Ygc3luYy4gSXQncyBhbHNvIGltcG9ydGFudCB0byBub3RlIHRoYXQgYCRzZXRWaWV3VmFsdWVgIGRvZXMgbm90IGNhbGwgYCRyZW5kZXJgIG9yIGNoYW5nZVxuICAgKiB0aGUgY29udHJvbCdzIERPTSB2YWx1ZSBpbiBhbnkgd2F5LiBJZiB3ZSB3YW50IHRvIGNoYW5nZSB0aGUgY29udHJvbCdzIERPTSB2YWx1ZVxuICAgKiBwcm9ncmFtbWF0aWNhbGx5LCB3ZSBzaG91bGQgdXBkYXRlIHRoZSBgbmdNb2RlbGAgc2NvcGUgZXhwcmVzc2lvbi4gSXRzIG5ldyB2YWx1ZSB3aWxsIGJlXG4gICAqIHBpY2tlZCB1cCBieSB0aGUgbW9kZWwgY29udHJvbGxlciwgd2hpY2ggd2lsbCBydW4gaXQgdGhyb3VnaCB0aGUgYCRmb3JtYXR0ZXJzYCwgYCRyZW5kZXJgIGl0XG4gICAqIHRvIHVwZGF0ZSB0aGUgRE9NLCBhbmQgZmluYWxseSBjYWxsIGAkdmFsaWRhdGVgIG9uIGl0LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSB2YWx1ZSBmcm9tIHRoZSB2aWV3LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJpZ2dlciBFdmVudCB0aGF0IHRyaWdnZXJlZCB0aGUgdXBkYXRlLlxuICAgKi9cbiAgdGhpcy4kc2V0Vmlld1ZhbHVlID0gZnVuY3Rpb24odmFsdWUsIHRyaWdnZXIpIHtcbiAgICBjdHJsLiR2aWV3VmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAoIWN0cmwuJG9wdGlvbnMgfHwgY3RybC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQpIHtcbiAgICAgIGN0cmwuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCh0cmlnZ2VyKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0ID0gZnVuY3Rpb24odHJpZ2dlcikge1xuICAgIHZhciBkZWJvdW5jZURlbGF5ID0gMCxcbiAgICAgICAgb3B0aW9ucyA9IGN0cmwuJG9wdGlvbnMsXG4gICAgICAgIGRlYm91bmNlO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgaXNEZWZpbmVkKG9wdGlvbnMuZGVib3VuY2UpKSB7XG4gICAgICBkZWJvdW5jZSA9IG9wdGlvbnMuZGVib3VuY2U7XG4gICAgICBpZiAoaXNOdW1iZXIoZGVib3VuY2UpKSB7XG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoZGVib3VuY2VbdHJpZ2dlcl0pKSB7XG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZVt0cmlnZ2VyXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoZGVib3VuY2VbJ2RlZmF1bHQnXSkpIHtcbiAgICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlWydkZWZhdWx0J107XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSk7XG4gICAgaWYgKGRlYm91bmNlRGVsYXkpIHtcbiAgICAgIHBlbmRpbmdEZWJvdW5jZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBjdHJsLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgIH0sIGRlYm91bmNlRGVsYXkpO1xuICAgIH0gZWxzZSBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICBjdHJsLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gbW9kZWwgLT4gdmFsdWVcbiAgLy8gTm90ZTogd2UgY2Fubm90IHVzZSBhIG5vcm1hbCBzY29wZS4kd2F0Y2ggYXMgd2Ugd2FudCB0byBkZXRlY3QgdGhlIGZvbGxvd2luZzpcbiAgLy8gMS4gc2NvcGUgdmFsdWUgaXMgJ2EnXG4gIC8vIDIuIHVzZXIgZW50ZXJzICdiJ1xuICAvLyAzLiBuZy1jaGFuZ2Uga2lja3MgaW4gYW5kIHJldmVydHMgc2NvcGUgdmFsdWUgdG8gJ2EnXG4gIC8vICAgIC0+IHNjb3BlIHZhbHVlIGRpZCBub3QgY2hhbmdlIHNpbmNlIHRoZSBsYXN0IGRpZ2VzdCBhc1xuICAvLyAgICAgICBuZy1jaGFuZ2UgZXhlY3V0ZXMgaW4gYXBwbHkgcGhhc2VcbiAgLy8gNC4gdmlldyBzaG91bGQgYmUgY2hhbmdlZCBiYWNrIHRvICdhJ1xuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG5nTW9kZWxXYXRjaCgpIHtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IG5nTW9kZWxHZXQoJHNjb3BlKTtcblxuICAgIC8vIGlmIHNjb3BlIG1vZGVsIHZhbHVlIGFuZCBuZ01vZGVsIHZhbHVlIGFyZSBvdXQgb2Ygc3luY1xuICAgIC8vIFRPRE8ocGVyZik6IHdoeSBub3QgbW92ZSB0aGlzIHRvIHRoZSBhY3Rpb24gZm4/XG4gICAgaWYgKG1vZGVsVmFsdWUgIT09IGN0cmwuJG1vZGVsVmFsdWUgJiZcbiAgICAgICAvLyBjaGVja3MgZm9yIE5hTiBpcyBuZWVkZWQgdG8gYWxsb3cgc2V0dGluZyB0aGUgbW9kZWwgdG8gTmFOIHdoZW4gdGhlcmUncyBhbiBhc3luY1ZhbGlkYXRvclxuICAgICAgIChjdHJsLiRtb2RlbFZhbHVlID09PSBjdHJsLiRtb2RlbFZhbHVlIHx8IG1vZGVsVmFsdWUgPT09IG1vZGVsVmFsdWUpXG4gICAgKSB7XG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gY3RybC4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgcGFyc2VyVmFsaWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBmb3JtYXR0ZXJzID0gY3RybC4kZm9ybWF0dGVycyxcbiAgICAgICAgICBpZHggPSBmb3JtYXR0ZXJzLmxlbmd0aDtcblxuICAgICAgdmFyIHZpZXdWYWx1ZSA9IG1vZGVsVmFsdWU7XG4gICAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgdmlld1ZhbHVlID0gZm9ybWF0dGVyc1tpZHhdKHZpZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoY3RybC4kdmlld1ZhbHVlICE9PSB2aWV3VmFsdWUpIHtcbiAgICAgICAgY3RybC4kJHVwZGF0ZUVtcHR5Q2xhc3Nlcyh2aWV3VmFsdWUpO1xuICAgICAgICBjdHJsLiR2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICAgICAgY3RybC4kcmVuZGVyKCk7XG5cbiAgICAgICAgY3RybC4kJHJ1blZhbGlkYXRvcnMobW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgfSk7XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW9kZWxcbiAqXG4gKiBAZWxlbWVudCBpbnB1dFxuICogQHByaW9yaXR5IDFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdNb2RlbGAgZGlyZWN0aXZlIGJpbmRzIGFuIGBpbnB1dGAsYHNlbGVjdGAsIGB0ZXh0YXJlYWAgKG9yIGN1c3RvbSBmb3JtIGNvbnRyb2wpIHRvIGFcbiAqIHByb3BlcnR5IG9uIHRoZSBzY29wZSB1c2luZyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBOZ01vZGVsQ29udHJvbGxlcn0sXG4gKiB3aGljaCBpcyBjcmVhdGVkIGFuZCBleHBvc2VkIGJ5IHRoaXMgZGlyZWN0aXZlLlxuICpcbiAqIGBuZ01vZGVsYCBpcyByZXNwb25zaWJsZSBmb3I6XG4gKlxuICogLSBCaW5kaW5nIHRoZSB2aWV3IGludG8gdGhlIG1vZGVsLCB3aGljaCBvdGhlciBkaXJlY3RpdmVzIHN1Y2ggYXMgYGlucHV0YCwgYHRleHRhcmVhYCBvciBgc2VsZWN0YFxuICogICByZXF1aXJlLlxuICogLSBQcm92aWRpbmcgdmFsaWRhdGlvbiBiZWhhdmlvciAoaS5lLiByZXF1aXJlZCwgbnVtYmVyLCBlbWFpbCwgdXJsKS5cbiAqIC0gS2VlcGluZyB0aGUgc3RhdGUgb2YgdGhlIGNvbnRyb2wgKHZhbGlkL2ludmFsaWQsIGRpcnR5L3ByaXN0aW5lLCB0b3VjaGVkL3VudG91Y2hlZCwgdmFsaWRhdGlvbiBlcnJvcnMpLlxuICogLSBTZXR0aW5nIHJlbGF0ZWQgY3NzIGNsYXNzZXMgb24gdGhlIGVsZW1lbnQgKGBuZy12YWxpZGAsIGBuZy1pbnZhbGlkYCwgYG5nLWRpcnR5YCwgYG5nLXByaXN0aW5lYCwgYG5nLXRvdWNoZWRgLFxuICogICBgbmctdW50b3VjaGVkYCwgYG5nLWVtcHR5YCwgYG5nLW5vdC1lbXB0eWApIGluY2x1ZGluZyBhbmltYXRpb25zLlxuICogLSBSZWdpc3RlcmluZyB0aGUgY29udHJvbCB3aXRoIGl0cyBwYXJlbnQge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19LlxuICpcbiAqIE5vdGU6IGBuZ01vZGVsYCB3aWxsIHRyeSB0byBiaW5kIHRvIHRoZSBwcm9wZXJ0eSBnaXZlbiBieSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uIG9uIHRoZVxuICogY3VycmVudCBzY29wZS4gSWYgdGhlIHByb3BlcnR5IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBvbiB0aGlzIHNjb3BlLCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIGltcGxpY2l0bHkgYW5kIGFkZGVkIHRvIHRoZSBzY29wZS5cbiAqXG4gKiBGb3IgYmVzdCBwcmFjdGljZXMgb24gdXNpbmcgYG5nTW9kZWxgLCBzZWU6XG4gKlxuICogIC0gW1VuZGVyc3RhbmRpbmcgU2NvcGVzXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMpXG4gKlxuICogRm9yIGJhc2ljIGV4YW1wbGVzLCBob3cgdG8gdXNlIGBuZ01vZGVsYCwgc2VlOlxuICpcbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9XG4gKiAgICAtIHtAbGluayBpbnB1dFt0ZXh0XSB0ZXh0fVxuICogICAgLSB7QGxpbmsgaW5wdXRbY2hlY2tib3hdIGNoZWNrYm94fVxuICogICAgLSB7QGxpbmsgaW5wdXRbcmFkaW9dIHJhZGlvfVxuICogICAgLSB7QGxpbmsgaW5wdXRbbnVtYmVyXSBudW1iZXJ9XG4gKiAgICAtIHtAbGluayBpbnB1dFtlbWFpbF0gZW1haWx9XG4gKiAgICAtIHtAbGluayBpbnB1dFt1cmxdIHVybH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2RhdGVdIGRhdGV9XG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRldGltZS1sb2NhbF0gZGF0ZXRpbWUtbG9jYWx9XG4gKiAgICAtIHtAbGluayBpbnB1dFt0aW1lXSB0aW1lfVxuICogICAgLSB7QGxpbmsgaW5wdXRbbW9udGhdIG1vbnRofVxuICogICAgLSB7QGxpbmsgaW5wdXRbd2Vla10gd2Vla31cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6dGV4dGFyZWEgdGV4dGFyZWF9XG4gKlxuICogIyBDb21wbGV4IE1vZGVscyAob2JqZWN0cyBvciBjb2xsZWN0aW9ucylcbiAqXG4gKiBCeSBkZWZhdWx0LCBgbmdNb2RlbGAgd2F0Y2hlcyB0aGUgbW9kZWwgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgd2hlblxuICogYmluZGluZyBpbnB1dHMgdG8gbW9kZWxzIHRoYXQgYXJlIG9iamVjdHMgKGUuZy4gYERhdGVgKSBvciBjb2xsZWN0aW9ucyAoZS5nLiBhcnJheXMpLiBJZiBvbmx5IHByb3BlcnRpZXMgb2YgdGhlXG4gKiBvYmplY3Qgb3IgY29sbGVjdGlvbiBjaGFuZ2UsIGBuZ01vZGVsYCB3aWxsIG5vdCBiZSBub3RpZmllZCBhbmQgc28gdGhlIGlucHV0IHdpbGwgbm90IGJlICByZS1yZW5kZXJlZC5cbiAqXG4gKiBUaGUgbW9kZWwgbXVzdCBiZSBhc3NpZ25lZCBhbiBlbnRpcmVseSBuZXcgb2JqZWN0IG9yIGNvbGxlY3Rpb24gYmVmb3JlIGEgcmUtcmVuZGVyaW5nIHdpbGwgb2NjdXIuXG4gKlxuICogU29tZSBkaXJlY3RpdmVzIGhhdmUgb3B0aW9ucyB0aGF0IHdpbGwgY2F1c2UgdGhlbSB0byB1c2UgYSBjdXN0b20gYCR3YXRjaENvbGxlY3Rpb25gIG9uIHRoZSBtb2RlbCBleHByZXNzaW9uXG4gKiAtIGZvciBleGFtcGxlLCBgbmdPcHRpb25zYCB3aWxsIGRvIHNvIHdoZW4gYSBgdHJhY2sgYnlgIGNsYXVzZSBpcyBpbmNsdWRlZCBpbiB0aGUgY29tcHJlaGVuc2lvbiBleHByZXNzaW9uIG9yXG4gKiBpZiB0aGUgc2VsZWN0IGlzIGdpdmVuIHRoZSBgbXVsdGlwbGVgIGF0dHJpYnV0ZS5cbiAqXG4gKiBUaGUgYCR3YXRjaENvbGxlY3Rpb24oKWAgbWV0aG9kIG9ubHkgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiwgbWVhbmluZyB0aGF0IGNoYW5naW5nIHByb3BlcnRpZXMgZGVlcGVyIHRoYW4gdGhlXG4gKiBmaXJzdCBsZXZlbCBvZiB0aGUgb2JqZWN0IChvciBvbmx5IGNoYW5naW5nIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb24gaWYgaXQncyBhbiBhcnJheSkgd2lsbCBzdGlsbFxuICogbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcgb2YgdGhlIG1vZGVsLlxuICpcbiAqICMgQ1NTIGNsYXNzZXNcbiAqIFRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkIG9uIHRoZSBhc3NvY2lhdGVkIGlucHV0L3NlbGVjdC90ZXh0YXJlYSBlbGVtZW50XG4gKiBkZXBlbmRpbmcgb24gdGhlIHZhbGlkaXR5IG9mIHRoZSBtb2RlbC5cbiAqXG4gKiAgLSBgbmctdmFsaWRgOiB0aGUgbW9kZWwgaXMgdmFsaWRcbiAqICAtIGBuZy1pbnZhbGlkYDogdGhlIG1vZGVsIGlzIGludmFsaWRcbiAqICAtIGBuZy12YWxpZC1ba2V5XWA6IGZvciBlYWNoIHZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxuICogIC0gYG5nLWludmFsaWQtW2tleV1gOiBmb3IgZWFjaCBpbnZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxuICogIC0gYG5nLXByaXN0aW5lYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gaW50ZXJhY3RlZCB3aXRoIHlldFxuICogIC0gYG5nLWRpcnR5YDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gaW50ZXJhY3RlZCB3aXRoXG4gKiAgLSBgbmctdG91Y2hlZGA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGJsdXJyZWRcbiAqICAtIGBuZy11bnRvdWNoZWRgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBibHVycmVkXG4gKiAgLSBgbmctcGVuZGluZ2A6IGFueSBgJGFzeW5jVmFsaWRhdG9yc2AgYXJlIHVuZnVsZmlsbGVkXG4gKiAgLSBgbmctZW1wdHlgOiB0aGUgdmlldyBkb2VzIG5vdCBjb250YWluIGEgdmFsdWUgb3IgdGhlIHZhbHVlIGlzIGRlZW1lZCBcImVtcHR5XCIsIGFzIGRlZmluZWRcbiAqICAgICBieSB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHl9IG1ldGhvZFxuICogIC0gYG5nLW5vdC1lbXB0eWA6IHRoZSB2aWV3IGNvbnRhaW5zIGEgbm9uLWVtcHR5IHZhbHVlXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXG4gKlxuICogIyMgQW5pbWF0aW9uIEhvb2tzXG4gKlxuICogQW5pbWF0aW9ucyB3aXRoaW4gbW9kZWxzIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkXG4gKiBvbiB0aGUgaW5wdXQgZWxlbWVudCB3aGljaCBpcyBhdHRhY2hlZCB0byB0aGUgbW9kZWwuIFRoZXNlIGNsYXNzZXMgaW5jbHVkZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLFxuICogYC5uZy1pbnZhbGlkYCBhbmQgYC5uZy12YWxpZGAgYXMgd2VsbCBhcyBhbnkgb3RoZXIgdmFsaWRhdGlvbnMgdGhhdCBhcmUgcGVyZm9ybWVkIG9uIHRoZSBtb2RlbCBpdHNlbGYuXG4gKiBUaGUgYW5pbWF0aW9ucyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2l0aGluIG5nTW9kZWwgYXJlIHNpbWlsYXIgdG8gaG93IHRoZXkgd29yayBpbiBuZ0NsYXNzIGFuZFxuICogYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbCBhcyBKUyBhbmltYXRpb25zLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBhIHNpbXBsZSB3YXkgdG8gdXRpbGl6ZSBDU1MgdHJhbnNpdGlvbnMgdG8gc3R5bGUgYW4gaW5wdXQgZWxlbWVudFxuICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcbiAqXG4gKiA8cHJlPlxuICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcbiAqIC5teS1pbnB1dCB7XG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAqIH1cbiAqIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcbiAqICAgYmFja2dyb3VuZDogcmVkO1xuICogICBjb2xvcjp3aGl0ZTtcbiAqIH1cbiAqIDwvcHJlPlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBmaXhCYXNlPVwidHJ1ZVwiIG1vZHVsZT1cImlucHV0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLnZhbCA9ICcxJztcbiAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPHN0eWxlPlxuICAgICAgICAgLm15LWlucHV0IHtcbiAgICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgfVxuICAgICAgICAgLm15LWlucHV0Lm5nLWludmFsaWQge1xuICAgICAgICAgICBjb2xvcjp3aGl0ZTtcbiAgICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICAgfVxuICAgICAgIDwvc3R5bGU+XG4gICAgICAgPHAgaWQ9XCJpbnB1dERlc2NyaXB0aW9uXCI+XG4gICAgICAgIFVwZGF0ZSBpbnB1dCB0byBzZWUgdHJhbnNpdGlvbnMgd2hlbiB2YWxpZC9pbnZhbGlkLlxuICAgICAgICBJbnRlZ2VyIGlzIGEgdmFsaWQgdmFsdWUuXG4gICAgICAgPC9wPlxuICAgICAgIDxmb3JtIG5hbWU9XCJ0ZXN0Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidmFsXCIgbmctcGF0dGVybj1cIi9eXFxkKyQvXCIgbmFtZT1cImFuaW1cIiBjbGFzcz1cIm15LWlucHV0XCJcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaW5wdXREZXNjcmlwdGlvblwiIC8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMgQmluZGluZyB0byBhIGdldHRlci9zZXR0ZXJcbiAqXG4gKiBTb21ldGltZXMgaXQncyBoZWxwZnVsIHRvIGJpbmQgYG5nTW9kZWxgIHRvIGEgZ2V0dGVyL3NldHRlciBmdW5jdGlvbi4gIEEgZ2V0dGVyL3NldHRlciBpcyBhXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCB6ZXJvIGFyZ3VtZW50cywgYW5kIHNldHNcbiAqIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJndW1lbnQuIEl0J3Mgc29tZXRpbWVzIHVzZWZ1bCB0byB1c2UgdGhpc1xuICogZm9yIG1vZGVscyB0aGF0IGhhdmUgYW4gaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gdGhhdCdzIGRpZmZlcmVudCBmcm9tIHdoYXQgdGhlIG1vZGVsIGV4cG9zZXNcbiAqIHRvIHRoZSB2aWV3LlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyBiZXN0IHRvIGtlZXAgZ2V0dGVycyBmYXN0IGJlY2F1c2UgQW5ndWxhciBpcyBsaWtlbHkgdG8gY2FsbCB0aGVtIG1vcmVcbiAqIGZyZXF1ZW50bHkgdGhhbiBvdGhlciBwYXJ0cyBvZiB5b3VyIGNvZGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiBZb3UgdXNlIHRoaXMgYmVoYXZpb3IgYnkgYWRkaW5nIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0byBhbiBlbGVtZW50IHRoYXRcbiAqIGhhcyBgbmctbW9kZWxgIGF0dGFjaGVkIHRvIGl0LiBZb3UgY2FuIGFsc28gYWRkIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0b1xuICogYSBgPGZvcm0+YCwgd2hpY2ggd2lsbCBlbmFibGUgdGhpcyBiZWhhdmlvciBmb3IgYWxsIGA8aW5wdXQ+YHMgd2l0aGluIGl0LiBTZWVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zYH0gZm9yIG1vcmUuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYG5nTW9kZWxgIHdpdGggYSBnZXR0ZXIvc2V0dGVyOlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbC1nZXR0ZXItc2V0dGVyXCIgbW9kdWxlPVwiZ2V0dGVyU2V0dGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICAgPGxhYmVsPk5hbWU6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiIC8+XG4gICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICA8L2Zvcm0+XG4gICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWUoKVwiPjwvc3Bhbj48L3ByZT5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgIHZhciBfbmFtZSA9ICdCcmlhbic7XG4gICAgICAgICAgICRzY29wZS51c2VyID0ge1xuICAgICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uKG5ld05hbWUpIHtcbiAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG5ld05hbWUgY2FuIGJlIHVuZGVmaW5lZCBmb3IgdHdvIHJlYXNvbnM6XG4gICAgICAgICAgICAgIC8vIDEuIEJlY2F1c2UgaXQgaXMgY2FsbGVkIGFzIGEgZ2V0dGVyIGFuZCB0aHVzIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAvLyAyLiBCZWNhdXNlIHRoZSBwcm9wZXJ0eSBzaG91bGQgYWN0dWFsbHkgYmUgc2V0IHRvIHVuZGVmaW5lZC4gVGhpcyBoYXBwZW5zIGUuZy4gaWYgdGhlXG4gICAgICAgICAgICAgIC8vICAgIGlucHV0IGlzIGludmFsaWRcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoX25hbWUgPSBuZXdOYW1lKSA6IF9uYW1lO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICovXG52YXIgbmdNb2RlbERpcmVjdGl2ZSA9IFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP2Zvcm0nLCAnXj9uZ01vZGVsT3B0aW9ucyddLFxuICAgIGNvbnRyb2xsZXI6IE5nTW9kZWxDb250cm9sbGVyLFxuICAgIC8vIFByZWxpbmsgbmVlZHMgdG8gcnVuIGJlZm9yZSBhbnkgaW5wdXQgZGlyZWN0aXZlXG4gICAgLy8gc28gdGhhdCB3ZSBjYW4gc2V0IHRoZSBOZ01vZGVsT3B0aW9ucyBpbiBOZ01vZGVsQ29udHJvbGxlclxuICAgIC8vIGJlZm9yZSBhbnlvbmUgZWxzZSB1c2VzIGl0LlxuICAgIHByaW9yaXR5OiAxLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nTW9kZWxDb21waWxlKGVsZW1lbnQpIHtcbiAgICAgIC8vIFNldHVwIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbnRyb2xcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFVOVE9VQ0hFRF9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nTW9kZWxQcmVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXSxcbiAgICAgICAgICAgICAgZm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBtb2RlbEN0cmwuJCRwYXJlbnRGb3JtO1xuXG4gICAgICAgICAgbW9kZWxDdHJsLiQkc2V0T3B0aW9ucyhjdHJsc1syXSAmJiBjdHJsc1syXS4kb3B0aW9ucyk7XG5cbiAgICAgICAgICAvLyBub3RpZnkgb3RoZXJzLCBlc3BlY2lhbGx5IHBhcmVudCBmb3Jtc1xuICAgICAgICAgIGZvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCk7XG5cbiAgICAgICAgICBhdHRyLiRvYnNlcnZlKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChtb2RlbEN0cmwuJG5hbWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKG1vZGVsQ3RybCwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBwb3N0OiBmdW5jdGlvbiBuZ01vZGVsUG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdO1xuICAgICAgICAgIGlmIChtb2RlbEN0cmwuJG9wdGlvbnMgJiYgbW9kZWxDdHJsLiRvcHRpb25zLnVwZGF0ZU9uKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKG1vZGVsQ3RybC4kb3B0aW9ucy51cGRhdGVPbiwgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoZXYgJiYgZXYudHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50Lm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAobW9kZWxDdHJsLiR0b3VjaGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhtb2RlbEN0cmwuJHNldFRvdWNoZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KG1vZGVsQ3RybC4kc2V0VG91Y2hlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBERUZBVUxUX1JFR0VYUCA9IC8oXFxzK3xeKWRlZmF1bHQoXFxzK3wkKS87XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb2RlbE9wdGlvbnNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFsbG93cyB0dW5pbmcgaG93IG1vZGVsIHVwZGF0ZXMgYXJlIGRvbmUuIFVzaW5nIGBuZ01vZGVsT3B0aW9uc2AgeW91IGNhbiBzcGVjaWZ5IGEgY3VzdG9tIGxpc3Qgb2ZcbiAqIGV2ZW50cyB0aGF0IHdpbGwgdHJpZ2dlciBhIG1vZGVsIHVwZGF0ZSBhbmQvb3IgYSBkZWJvdW5jaW5nIGRlbGF5IHNvIHRoYXQgdGhlIGFjdHVhbCB1cGRhdGUgb25seVxuICogdGFrZXMgcGxhY2Ugd2hlbiBhIHRpbWVyIGV4cGlyZXM7IHRoaXMgdGltZXIgd2lsbCBiZSByZXNldCBhZnRlciBhbm90aGVyIGNoYW5nZSB0YWtlcyBwbGFjZS5cbiAqXG4gKiBHaXZlbiB0aGUgbmF0dXJlIG9mIGBuZ01vZGVsT3B0aW9uc2AsIHRoZSB2YWx1ZSBkaXNwbGF5ZWQgaW5zaWRlIGlucHV0IGZpZWxkcyBpbiB0aGUgdmlldyBtaWdodFxuICogYmUgZGlmZmVyZW50IGZyb20gdGhlIHZhbHVlIGluIHRoZSBhY3R1YWwgbW9kZWwuIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3UgdXBkYXRlIHRoZSBtb2RlbCB5b3VcbiAqIHNob3VsZCBhbHNvIGludm9rZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBgJHJvbGxiYWNrVmlld1ZhbHVlYH0gb24gdGhlIHJlbGV2YW50IGlucHV0IGZpZWxkIGluXG4gKiBvcmRlciB0byBtYWtlIHN1cmUgaXQgaXMgc3luY2hyb25pemVkIHdpdGggdGhlIG1vZGVsIGFuZCB0aGF0IGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIFRoZSBlYXNpZXN0IHdheSB0byByZWZlcmVuY2UgdGhlIGNvbnRyb2wncyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBgJHJvbGxiYWNrVmlld1ZhbHVlYH1cbiAqIG1ldGhvZCBpcyBieSBtYWtpbmcgc3VyZSB0aGUgaW5wdXQgaXMgcGxhY2VkIGluc2lkZSBhIGZvcm0gdGhhdCBoYXMgYSBgbmFtZWAgYXR0cmlidXRlLiBUaGlzIGlzXG4gKiBpbXBvcnRhbnQgYmVjYXVzZSBgZm9ybWAgY29udHJvbGxlcnMgYXJlIHB1Ymxpc2hlZCB0byB0aGUgcmVsYXRlZCBzY29wZSB1bmRlciB0aGUgbmFtZSBpbiB0aGVpclxuICogYG5hbWVgIGF0dHJpYnV0ZS5cbiAqXG4gKiBBbnkgcGVuZGluZyBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzIHN1Ym1pdHRlZCB2aWEgdGhlXG4gKiBgc3VibWl0YCBldmVudC4gTm90ZSB0aGF0IGBuZ0NsaWNrYCBldmVudHMgd2lsbCBvY2N1ciBiZWZvcmUgdGhlIG1vZGVsIGlzIHVwZGF0ZWQuIFVzZSBgbmdTdWJtaXRgXG4gKiB0byBoYXZlIGFjY2VzcyB0byB0aGUgdXBkYXRlZCBtb2RlbC5cbiAqXG4gKiBgbmdNb2RlbE9wdGlvbnNgIGhhcyBhbiBlZmZlY3Qgb24gdGhlIGVsZW1lbnQgaXQncyBkZWNsYXJlZCBvbiBhbmQgaXRzIGRlc2NlbmRhbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZ01vZGVsT3B0aW9ucyBvcHRpb25zIHRvIGFwcGx5IHRvIHRoZSBjdXJyZW50IG1vZGVsLiBWYWxpZCBrZXlzIGFyZTpcbiAqICAgLSBgdXBkYXRlT25gOiBzdHJpbmcgc3BlY2lmeWluZyB3aGljaCBldmVudCBzaG91bGQgdGhlIGlucHV0IGJlIGJvdW5kIHRvLiBZb3UgY2FuIHNldCBzZXZlcmFsXG4gKiAgICAgZXZlbnRzIHVzaW5nIGFuIHNwYWNlIGRlbGltaXRlZCBsaXN0LiBUaGVyZSBpcyBhIHNwZWNpYWwgZXZlbnQgY2FsbGVkIGBkZWZhdWx0YCB0aGF0XG4gKiAgICAgbWF0Y2hlcyB0aGUgZGVmYXVsdCBldmVudHMgYmVsb25naW5nIG9mIHRoZSBjb250cm9sLlxuICogICAtIGBkZWJvdW5jZWA6IGludGVnZXIgdmFsdWUgd2hpY2ggY29udGFpbnMgdGhlIGRlYm91bmNlIG1vZGVsIHVwZGF0ZSB2YWx1ZSBpbiBtaWxsaXNlY29uZHMuIEFcbiAqICAgICB2YWx1ZSBvZiAwIHRyaWdnZXJzIGFuIGltbWVkaWF0ZSB1cGRhdGUuIElmIGFuIG9iamVjdCBpcyBzdXBwbGllZCBpbnN0ZWFkLCB5b3UgY2FuIHNwZWNpZnkgYVxuICogICAgIGN1c3RvbSB2YWx1ZSBmb3IgZWFjaCBldmVudC4gRm9yIGV4YW1wbGU6XG4gKiAgICAgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCBibHVyJywgZGVib3VuY2U6IHsgJ2RlZmF1bHQnOiA1MDAsICdibHVyJzogMCB9IH1cImBcbiAqICAgLSBgYWxsb3dJbnZhbGlkYDogYm9vbGVhbiB2YWx1ZSB3aGljaCBpbmRpY2F0ZXMgdGhhdCB0aGUgbW9kZWwgY2FuIGJlIHNldCB3aXRoIHZhbHVlcyB0aGF0IGRpZFxuICogICAgIG5vdCB2YWxpZGF0ZSBjb3JyZWN0bHkgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiBzZXR0aW5nIHRoZSBtb2RlbCB0byB1bmRlZmluZWQuXG4gKiAgIC0gYGdldHRlclNldHRlcmA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggZGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCB0byB0cmVhdCBmdW5jdGlvbnMgYm91bmQgdG9cbiAgICAgICBgbmdNb2RlbGAgYXMgZ2V0dGVycy9zZXR0ZXJzLlxuICogICAtIGB0aW1lem9uZWA6IERlZmluZXMgdGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBmb3JcbiAqICAgICBgPGlucHV0IHR5cGU9XCJkYXRlXCI+YCwgYDxpbnB1dCB0eXBlPVwidGltZVwiPmAsIC4uLiAuIEl0IHVuZGVyc3RhbmRzIFVUQy9HTVQgYW5kIHRoZVxuICogICAgIGNvbnRpbmVudGFsIFVTIHRpbWUgem9uZSBhYmJyZXZpYXRpb25zLCBidXQgZm9yIGdlbmVyYWwgdXNlLCB1c2UgYSB0aW1lIHpvbmUgb2Zmc2V0LCBmb3JcbiAqICAgICBleGFtcGxlLCBgJyswNDMwJ2AgKDQgaG91cnMsIDMwIG1pbnV0ZXMgZWFzdCBvZiB0aGUgR3JlZW53aWNoIG1lcmlkaWFuKVxuICogICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3NlciB3aWxsIGJlIHVzZWQuXG4gKlxuICogQGV4YW1wbGVcblxuICBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIG92ZXJyaWRlIGltbWVkaWF0ZSB1cGRhdGVzLiBDaGFuZ2VzIG9uIHRoZSBpbnB1dHMgd2l0aGluIHRoZVxuICBmb3JtIHdpbGwgdXBkYXRlIHRoZSBtb2RlbCBvbmx5IHdoZW4gdGhlIGNvbnRyb2wgbG9zZXMgZm9jdXMgKGJsdXIgZXZlbnQpLiBJZiBgZXNjYXBlYCBrZXkgaXNcbiAgcHJlc3NlZCB3aGlsZSB0aGUgaW5wdXQgZmllbGQgaXMgZm9jdXNlZCwgdGhlIHZhbHVlIGlzIHJlc2V0IHRvIHRoZSB2YWx1ZSBpbiB0aGUgY3VycmVudCBtb2RlbC5cblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWJsdXJcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICA8bGFiZWw+TmFtZTpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiXG4gICAgICAgICAgICAgICAgICAgbmcta2V5dXA9XCJjYW5jZWwoJGV2ZW50KVwiIC8+XG4gICAgICAgICAgPC9sYWJlbD48YnIgLz5cbiAgICAgICAgICA8bGFiZWw+T3RoZXIgZGF0YTpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5kYXRhXCIgLz5cbiAgICAgICAgICA8L2xhYmVsPjxiciAvPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cbiAgICAgICAgPHByZT51c2VyLmRhdGEgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5kYXRhXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS51c2VyID0geyBuYW1lOiAnSm9obicsIGRhdGE6ICcnIH07XG5cbiAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgICAgICAgICAgICAkc2NvcGUudXNlckZvcm0udXNlck5hbWUuJHJvbGxiYWNrVmlld1ZhbHVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXIubmFtZScpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcbiAgICAgIHZhciBvdGhlciA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIuZGF0YScpKTtcblxuICAgICAgaXQoJ3Nob3VsZCBhbGxvdyBjdXN0b20gZXZlbnRzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKCcgRG9lJyk7XG4gICAgICAgIGlucHV0LmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0pvaG4nKTtcbiAgICAgICAgb3RoZXIuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnSm9obiBEb2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkICRyb2xsYmFja1ZpZXdWYWx1ZSB3aGVuIG1vZGVsIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQuc2VuZEtleXMoJyBEb2UnKTtcbiAgICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnSm9obiBEb2UnKTtcbiAgICAgICAgaW5wdXQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuRVNDQVBFKTtcbiAgICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnSm9obicpO1xuICAgICAgICBvdGhlci5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdKb2huJyk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cblxuICBUaGlzIG9uZSBzaG93cyBob3cgdG8gZGVib3VuY2UgbW9kZWwgY2hhbmdlcy4gTW9kZWwgd2lsbCBiZSB1cGRhdGVkIG9ubHkgMSBzZWMgYWZ0ZXIgbGFzdCBjaGFuZ2UuXG4gIElmIHRoZSBgQ2xlYXJgIGJ1dHRvbiBpcyBwcmVzc2VkLCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZCBhbmQgdGhlIHZhbHVlIGJlY29tZXMgZW1wdHkuXG5cbiAgPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLWRpcmVjdGl2ZS1kZWJvdW5jZVwiIG1vZHVsZT1cIm9wdGlvbnNFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgIDxsYWJlbD5OYW1lOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVib3VuY2U6IDEwMDAgfVwiIC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwidXNlckZvcm0udXNlck5hbWUuJHJvbGxiYWNrVmlld1ZhbHVlKCk7IHVzZXIubmFtZT0nJ1wiPkNsZWFyPC9idXR0b24+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS51c2VyID0geyBuYW1lOiAnSWdvcicgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuXG4gIFRoaXMgb25lIHNob3dzIGhvdyB0byBiaW5kIHRvIGdldHRlci9zZXR0ZXJzOlxuXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZ2V0dGVyLXNldHRlclwiIG1vZHVsZT1cImdldHRlclNldHRlckV4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgPGxhYmVsPk5hbWU6XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiIC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWUoKVwiPjwvc3Bhbj48L3ByZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgIHZhciBfbmFtZSA9ICdCcmlhbic7XG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICBuYW1lOiBmdW5jdGlvbihuZXdOYW1lKSB7XG4gICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBuZXdOYW1lIGNhbiBiZSB1bmRlZmluZWQgZm9yIHR3byByZWFzb25zOlxuICAgICAgICAgICAgICAvLyAxLiBCZWNhdXNlIGl0IGlzIGNhbGxlZCBhcyBhIGdldHRlciBhbmQgdGh1cyBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHNcbiAgICAgICAgICAgICAgLy8gMi4gQmVjYXVzZSB0aGUgcHJvcGVydHkgc2hvdWxkIGFjdHVhbGx5IGJlIHNldCB0byB1bmRlZmluZWQuIFRoaXMgaGFwcGVucyBlLmcuIGlmIHRoZVxuICAgICAgICAgICAgICAvLyAgICBpbnB1dCBpcyBpbnZhbGlkXG4gICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKF9uYW1lID0gbmV3TmFtZSkgOiBfbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGF0dHJzJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHRoaXMuJG9wdGlvbnMgPSBjb3B5KCRzY29wZS4kZXZhbCgkYXR0cnMubmdNb2RlbE9wdGlvbnMpKTtcbiAgICAgIC8vIEFsbG93IGFkZGluZy9vdmVycmlkaW5nIGJvdW5kIGV2ZW50c1xuICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uKSkge1xuICAgICAgICB0aGlzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAvLyBleHRyYWN0IFwiZGVmYXVsdFwiIHBzZXVkby1ldmVudCBmcm9tIGxpc3Qgb2YgZXZlbnRzIHRoYXQgY2FuIHRyaWdnZXIgYSBtb2RlbCB1cGRhdGVcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbiA9IHRyaW0odGhpcy4kb3B0aW9ucy51cGRhdGVPbi5yZXBsYWNlKERFRkFVTFRfUkVHRVhQLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aGF0LiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuICcgJztcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1dXG4gIH07XG59O1xuXG5cblxuLy8gaGVscGVyIG1ldGhvZHNcbmZ1bmN0aW9uIGFkZFNldFZhbGlkaXR5TWV0aG9kKGNvbnRleHQpIHtcbiAgdmFyIGN0cmwgPSBjb250ZXh0LmN0cmwsXG4gICAgICAkZWxlbWVudCA9IGNvbnRleHQuJGVsZW1lbnQsXG4gICAgICBjbGFzc0NhY2hlID0ge30sXG4gICAgICBzZXQgPSBjb250ZXh0LnNldCxcbiAgICAgIHVuc2V0ID0gY29udGV4dC51bnNldCxcbiAgICAgICRhbmltYXRlID0gY29udGV4dC4kYW5pbWF0ZTtcblxuICBjbGFzc0NhY2hlW0lOVkFMSURfQ0xBU1NdID0gIShjbGFzc0NhY2hlW1ZBTElEX0NMQVNTXSA9ICRlbGVtZW50Lmhhc0NsYXNzKFZBTElEX0NMQVNTKSk7XG5cbiAgY3RybC4kc2V0VmFsaWRpdHkgPSBzZXRWYWxpZGl0eTtcblxuICBmdW5jdGlvbiBzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIHN0YXRlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHN0YXRlKSkge1xuICAgICAgY3JlYXRlQW5kU2V0KCckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuc2V0QW5kQ2xlYW51cCgnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBpZiAoIWlzQm9vbGVhbihzdGF0ZSkpIHtcbiAgICAgIHVuc2V0KGN0cmwuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgdW5zZXQoY3RybC4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB1bnNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgICAgc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0KGN0cmwuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgICB1bnNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN0cmwuJHBlbmRpbmcpIHtcbiAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKFBFTkRJTkdfQ0xBU1MsIHRydWUpO1xuICAgICAgY3RybC4kdmFsaWQgPSBjdHJsLiRpbnZhbGlkID0gdW5kZWZpbmVkO1xuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcygnJywgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKFBFTkRJTkdfQ0xBU1MsIGZhbHNlKTtcbiAgICAgIGN0cmwuJHZhbGlkID0gaXNPYmplY3RFbXB0eShjdHJsLiRlcnJvcik7XG4gICAgICBjdHJsLiRpbnZhbGlkID0gIWN0cmwuJHZhbGlkO1xuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcygnJywgY3RybC4kdmFsaWQpO1xuICAgIH1cblxuICAgIC8vIHJlLXJlYWQgdGhlIHN0YXRlIGFzIHRoZSBzZXQvdW5zZXQgbWV0aG9kcyBjb3VsZCBoYXZlXG4gICAgLy8gY29tYmluZWQgc3RhdGUgaW4gY3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yXSAodXNlZCBmb3IgZm9ybXMpLFxuICAgIC8vIHdoZXJlIHNldHRpbmcvdW5zZXR0aW5nIG9ubHkgaW5jcmVtZW50cy9kZWNyZW1lbnRzIHRoZSB2YWx1ZSxcbiAgICAvLyBhbmQgZG9lcyBub3QgcmVwbGFjZSBpdC5cbiAgICB2YXIgY29tYmluZWRTdGF0ZTtcbiAgICBpZiAoY3RybC4kcGVuZGluZyAmJiBjdHJsLiRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChjdHJsLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChjdHJsLiQkc3VjY2Vzc1t2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUpO1xuICAgIGN0cmwuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUsIGN0cmwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW5kU2V0KG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKCFjdHJsW25hbWVdKSB7XG4gICAgICBjdHJsW25hbWVdID0ge307XG4gICAgfVxuICAgIHNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiB1bnNldEFuZENsZWFudXAobmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcbiAgICBpZiAoY3RybFtuYW1lXSkge1xuICAgICAgdW5zZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3RFbXB0eShjdHJsW25hbWVdKSkge1xuICAgICAgY3RybFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZWRUb2dnbGVDbGFzcyhjbGFzc05hbWUsIHN3aXRjaFZhbHVlKSB7XG4gICAgaWYgKHN3aXRjaFZhbHVlICYmICFjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcbiAgICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFzd2l0Y2hWYWx1ZSAmJiBjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcbiAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQpIHtcbiAgICB2YWxpZGF0aW9uRXJyb3JLZXkgPSB2YWxpZGF0aW9uRXJyb3JLZXkgPyAnLScgKyBzbmFrZV9jYXNlKHZhbGlkYXRpb25FcnJvcktleSwgJy0nKSA6ICcnO1xuXG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IHRydWUpO1xuICAgIGNhY2hlZFRvZ2dsZUNsYXNzKElOVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICBpZiAob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ05vbkJpbmRhYmxlXG4gKiBAcmVzdHJpY3QgQUNcbiAqIEBwcmlvcml0eSAxMDAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nTm9uQmluZGFibGVgIGRpcmVjdGl2ZSB0ZWxscyBBbmd1bGFyIG5vdCB0byBjb21waWxlIG9yIGJpbmQgdGhlIGNvbnRlbnRzIG9mIHRoZSBjdXJyZW50XG4gKiBET00gZWxlbWVudC4gVGhpcyBpcyB1c2VmdWwgaWYgdGhlIGVsZW1lbnQgY29udGFpbnMgd2hhdCBhcHBlYXJzIHRvIGJlIEFuZ3VsYXIgZGlyZWN0aXZlcyBhbmRcbiAqIGJpbmRpbmdzIGJ1dCB3aGljaCBzaG91bGQgYmUgaWdub3JlZCBieSBBbmd1bGFyLiBUaGlzIGNvdWxkIGJlIHRoZSBjYXNlIGlmIHlvdSBoYXZlIGEgc2l0ZSB0aGF0XG4gKiBkaXNwbGF5cyBzbmlwcGV0cyBvZiBjb2RlLCBmb3IgaW5zdGFuY2UuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQGV4YW1wbGVcbiAqIEluIHRoaXMgZXhhbXBsZSB0aGVyZSBhcmUgdHdvIGxvY2F0aW9ucyB3aGVyZSBhIHNpbXBsZSBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgKGB7e319YCkgaXMgcHJlc2VudCxcbiAqIGJ1dCB0aGUgb25lIHdyYXBwZWQgaW4gYG5nTm9uQmluZGFibGVgIGlzIGxlZnQgYWxvbmUuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXY+Tm9ybWFsOiB7ezEgKyAyfX08L2Rpdj5cbiAgICAgICAgPGRpdiBuZy1ub24tYmluZGFibGU+SWdub3JlZDoge3sxICsgMn19PC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1ub24tYmluZGFibGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJzEgKyAyJykpLmdldFRleHQoKSkudG9Db250YWluKCczJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCdkaXYnKSkubGFzdCgpLmdldFRleHQoKSkudG9NYXRjaCgvMSBcXCsgMi8pO1xuICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTm9uQmluZGFibGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7IHRlcm1pbmFsOiB0cnVlLCBwcmlvcml0eTogMTAwMCB9KTtcblxuLyogZ2xvYmFsIGpxTGl0ZVJlbW92ZSAqL1xuXG52YXIgbmdPcHRpb25zTWluRXJyID0gbWluRXJyKCduZ09wdGlvbnMnKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ09wdGlvbnNcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGBuZ09wdGlvbnNgIGF0dHJpYnV0ZSBjYW4gYmUgdXNlZCB0byBkeW5hbWljYWxseSBnZW5lcmF0ZSBhIGxpc3Qgb2YgYDxvcHRpb24+YFxuICogZWxlbWVudHMgZm9yIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQgdXNpbmcgdGhlIGFycmF5IG9yIG9iamVjdCBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZVxuICogYG5nT3B0aW9uc2AgY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLlxuICpcbiAqIEluIG1hbnkgY2FzZXMsIGBuZ1JlcGVhdGAgY2FuIGJlIHVzZWQgb24gYDxvcHRpb24+YCBlbGVtZW50cyBpbnN0ZWFkIG9mIGBuZ09wdGlvbnNgIHRvIGFjaGlldmUgYVxuICogc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHMgc3VjaCBhcyByZWR1Y2luZyBtZW1vcnkgYW5kXG4gKiBpbmNyZWFzaW5nIHNwZWVkIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZSwgYXMgd2VsbCBhcyBwcm92aWRpbmdcbiAqIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLiBgbmdPcHRpb25zYCBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBgPHNlbGVjdD5gIG1vZGVsIG5lZWRzIHRvIGJlIGJvdW5kXG4gKiAgdG8gYSBub24tc3RyaW5nIHZhbHVlLiBUaGlzIGlzIGJlY2F1c2UgYW4gb3B0aW9uIGVsZW1lbnQgY2FuIG9ubHkgYmUgYm91bmQgdG8gc3RyaW5nIHZhbHVlcyBhdFxuICogcHJlc2VudC5cbiAqXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIGFycmF5IGVsZW1lbnQgb3Igb2JqZWN0IHByb3BlcnR5XG4gKiByZXByZXNlbnRlZCBieSB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYFxuICogZGlyZWN0aXZlLlxuICpcbiAqIE9wdGlvbmFsbHksIGEgc2luZ2xlIGhhcmQtY29kZWQgYDxvcHRpb24+YCBlbGVtZW50LCB3aXRoIHRoZSB2YWx1ZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLCBjYW5cbiAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cbiAqXG4gKiAjIyBDb21wbGV4IE1vZGVscyAob2JqZWN0cyBvciBjb2xsZWN0aW9ucylcbiAqXG4gKiBCeSBkZWZhdWx0LCBgbmdNb2RlbGAgd2F0Y2hlcyB0aGUgbW9kZWwgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgd2hlblxuICogYmluZGluZyB0aGUgc2VsZWN0IHRvIGEgbW9kZWwgdGhhdCBpcyBhbiBvYmplY3Qgb3IgYSBjb2xsZWN0aW9uLlxuICpcbiAqIE9uZSBpc3N1ZSBvY2N1cnMgaWYgeW91IHdhbnQgdG8gcHJlc2VsZWN0IGFuIG9wdGlvbi4gRm9yIGV4YW1wbGUsIGlmIHlvdSBzZXRcbiAqIHRoZSBtb2RlbCB0byBhbiBvYmplY3QgdGhhdCBpcyBlcXVhbCB0byBhbiBvYmplY3QgaW4geW91ciBjb2xsZWN0aW9uLCBgbmdPcHRpb25zYCB3b24ndCBiZSBhYmxlIHRvIHNldCB0aGUgc2VsZWN0aW9uLFxuICogYmVjYXVzZSB0aGUgb2JqZWN0cyBhcmUgbm90IGlkZW50aWNhbC4gU28gYnkgZGVmYXVsdCwgeW91IHNob3VsZCBhbHdheXMgcmVmZXJlbmNlIHRoZSBpdGVtIGluIHlvdXIgY29sbGVjdGlvblxuICogZm9yIHByZXNlbGVjdGlvbnMsIGUuZy46IGAkc2NvcGUuc2VsZWN0ZWQgPSAkc2NvcGUuY29sbGVjdGlvblszXWAuXG4gKlxuICogQW5vdGhlciBzb2x1dGlvbiBpcyB0byB1c2UgYSBgdHJhY2sgYnlgIGNsYXVzZSwgYmVjYXVzZSB0aGVuIGBuZ09wdGlvbnNgIHdpbGwgdHJhY2sgdGhlIGlkZW50aXR5XG4gKiBvZiB0aGUgaXRlbSBub3QgYnkgcmVmZXJlbmNlLCBidXQgYnkgdGhlIHJlc3VsdCBvZiB0aGUgYHRyYWNrIGJ5YCBleHByZXNzaW9uLiBGb3IgZXhhbXBsZSwgaWYgeW91clxuICogY29sbGVjdGlvbiBpdGVtcyBoYXZlIGFuIGlkIHByb3BlcnR5LCB5b3Ugd291bGQgYHRyYWNrIGJ5IGl0ZW0uaWRgLlxuICpcbiAqIEEgZGlmZmVyZW50IGlzc3VlIHdpdGggb2JqZWN0cyBvciBjb2xsZWN0aW9ucyBpcyB0aGF0IG5nTW9kZWwgd29uJ3QgZGV0ZWN0IGlmIGFuIG9iamVjdCBwcm9wZXJ0eSBvclxuICogYSBjb2xsZWN0aW9uIGl0ZW0gY2hhbmdlcy4gRm9yIHRoYXQgcmVhc29uLCBgbmdPcHRpb25zYCBhZGRpdGlvbmFsbHkgd2F0Y2hlcyB0aGUgbW9kZWwgdXNpbmdcbiAqIGAkd2F0Y2hDb2xsZWN0aW9uYCwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjb250YWlucyBhIGB0cmFjayBieWAgY2xhdXNlIG9yIHRoZSB0aGUgc2VsZWN0IGhhcyB0aGUgYG11bHRpcGxlYCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGFsbG93cyBuZ09wdGlvbnMgdG8gdHJpZ2dlciBhIHJlLXJlbmRlcmluZyBvZiB0aGUgb3B0aW9ucyBldmVuIGlmIHRoZSBhY3R1YWwgb2JqZWN0L2NvbGxlY3Rpb25cbiAqIGhhcyBub3QgY2hhbmdlZCBpZGVudGl0eSwgYnV0IG9ubHkgYSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0IG9yIGFuIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb24gY2hhbmdlcy5cbiAqXG4gKiBOb3RlIHRoYXQgYCR3YXRjaENvbGxlY3Rpb25gIGRvZXMgYSBzaGFsbG93IGNvbXBhcmlzb24gb2YgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCAob3IgdGhlIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uXG4gKiBpZiB0aGUgbW9kZWwgaXMgYW4gYXJyYXkpLiBUaGlzIG1lYW5zIHRoYXQgY2hhbmdpbmcgYSBwcm9wZXJ0eSBkZWVwZXIgdGhhbiB0aGUgZmlyc3QgbGV2ZWwgaW5zaWRlIHRoZVxuICogb2JqZWN0L2NvbGxlY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBhIHJlLXJlbmRlcmluZy5cbiAqXG4gKiAjIyBgc2VsZWN0YCAqKmBhc2AqKlxuICpcbiAqIFVzaW5nIGBzZWxlY3RgICoqYGFzYCoqIHdpbGwgYmluZCB0aGUgcmVzdWx0IG9mIHRoZSBgc2VsZWN0YCBleHByZXNzaW9uIHRvIHRoZSBtb2RlbCwgYnV0XG4gKiB0aGUgdmFsdWUgb2YgdGhlIGA8c2VsZWN0PmAgYW5kIGA8b3B0aW9uPmAgaHRtbCBlbGVtZW50cyB3aWxsIGJlIGVpdGhlciB0aGUgaW5kZXggKGZvciBhcnJheSBkYXRhIHNvdXJjZXMpXG4gKiBvciBwcm9wZXJ0eSBuYW1lIChmb3Igb2JqZWN0IGRhdGEgc291cmNlcykgb2YgdGhlIHZhbHVlIHdpdGhpbiB0aGUgY29sbGVjdGlvbi4gSWYgYSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uXG4gKiBpcyB1c2VkLCB0aGUgcmVzdWx0IG9mIHRoYXQgZXhwcmVzc2lvbiB3aWxsIGJlIHNldCBhcyB0aGUgdmFsdWUgb2YgdGhlIGBvcHRpb25gIGFuZCBgc2VsZWN0YCBlbGVtZW50cy5cbiAqXG4gKlxuICogIyMjIGBzZWxlY3RgICoqYGFzYCoqIGFuZCAqKmB0cmFjayBieWAqKlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiBCZSBjYXJlZnVsIHdoZW4gdXNpbmcgYHNlbGVjdGAgKipgYXNgKiogYW5kICoqYHRyYWNrIGJ5YCoqIGluIHRoZSBzYW1lIGV4cHJlc3Npb24uXG4gKiA8L2Rpdj5cbiAqXG4gKiBHaXZlbiB0aGlzIGFycmF5IG9mIGl0ZW1zIG9uIHRoZSAkc2NvcGU6XG4gKlxuICogYGBganNcbiAqICRzY29wZS5pdGVtcyA9IFt7XG4gKiAgIGlkOiAxLFxuICogICBsYWJlbDogJ2FMYWJlbCcsXG4gKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2FTdWJJdGVtJyB9XG4gKiB9LCB7XG4gKiAgIGlkOiAyLFxuICogICBsYWJlbDogJ2JMYWJlbCcsXG4gKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2JTdWJJdGVtJyB9XG4gKiB9XTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgd2lsbCB3b3JrOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzZWxlY3Qgbmctb3B0aW9ucz1cIml0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkXCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvc2VsZWN0PlxuICogYGBgXG4gKiBgYGBqc1xuICogJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zWzBdO1xuICogYGBgXG4gKlxuICogYnV0IHRoaXMgd2lsbCBub3Qgd29yazpcbiAqXG4gKiBgYGBodG1sXG4gKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtLnN1Ykl0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkXCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvc2VsZWN0PlxuICogYGBgXG4gKiBgYGBqc1xuICogJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zWzBdLnN1Ykl0ZW07XG4gKiBgYGBcbiAqXG4gKiBJbiBib3RoIGV4YW1wbGVzLCB0aGUgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhcHBsaWVkIHN1Y2Nlc3NmdWxseSB0byBlYWNoIGBpdGVtYCBpbiB0aGVcbiAqIGBpdGVtc2AgYXJyYXkuIEJlY2F1c2UgdGhlIHNlbGVjdGVkIG9wdGlvbiBoYXMgYmVlbiBzZXQgcHJvZ3JhbW1hdGljYWxseSBpbiB0aGUgY29udHJvbGxlciwgdGhlXG4gKiAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGlzIGFsc28gYXBwbGllZCB0byB0aGUgYG5nTW9kZWxgIHZhbHVlLiBJbiB0aGUgZmlyc3QgZXhhbXBsZSwgdGhlXG4gKiBgbmdNb2RlbGAgdmFsdWUgaXMgYGl0ZW1zWzBdYCBhbmQgdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGBpdGVtc1swXS5pZGAgd2l0aFxuICogbm8gaXNzdWUuIEluIHRoZSBzZWNvbmQgZXhhbXBsZSwgdGhlIGBuZ01vZGVsYCB2YWx1ZSBpcyBgaXRlbXNbMF0uc3ViSXRlbWAgYW5kIHRoZSAqKmB0cmFjayBieWAqKlxuICogZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYGl0ZW1zWzBdLnN1Ykl0ZW0uaWRgICh3aGljaCBpcyB1bmRlZmluZWQpLiBBcyBhIHJlc3VsdCwgdGhlIG1vZGVsIHZhbHVlXG4gKiBpcyBub3QgbWF0Y2hlZCBhZ2FpbnN0IGFueSBgPG9wdGlvbj5gIGFuZCB0aGUgYDxzZWxlY3Q+YCBhcHBlYXJzIGFzIGhhdmluZyBubyBzZWxlY3RlZCB2YWx1ZS5cbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBUaGUgY29udHJvbCBpcyBjb25zaWRlcmVkIHZhbGlkIG9ubHkgaWYgdmFsdWUgaXMgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICogQHBhcmFtIHtjb21wcmVoZW5zaW9uX2V4cHJlc3Npb249fSBuZ09wdGlvbnMgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybXM6XG4gKlxuICogICAqIGZvciBhcnJheSBkYXRhIHNvdXJjZXM6XG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCB8IG9yZGVyQnk6YG9yZGVyZXhwcmAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcbiAqICAgICAgICAoZm9yIGluY2x1ZGluZyBhIGZpbHRlciB3aXRoIGB0cmFjayBieWApXG4gKiAgICogZm9yIG9iamVjdCBkYXRhIHNvdXJjZXM6XG4gKiAgICAgKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3IgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGBcbiAqICAgICAgICAgKipgZm9yYCBgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgXG4gKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICogYGFycmF5YCAvIGBvYmplY3RgOiBhbiBleHByZXNzaW9uIHdoaWNoIGV2YWx1YXRlcyB0byBhbiBhcnJheSAvIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiAgICogYHZhbHVlYDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBlYWNoIGl0ZW0gaW4gdGhlIGBhcnJheWAgb3IgZWFjaCBwcm9wZXJ0eSB2YWx1ZVxuICogICAgICBvZiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLlxuICogICAqIGBrZXlgOiBsb2NhbCB2YXJpYWJsZSB3aGljaCB3aWxsIHJlZmVyIHRvIGEgcHJvcGVydHkgbmFtZSBpbiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLlxuICogICAqIGBsYWJlbGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGxhYmVsIGZvciBgPG9wdGlvbj5gIGVsZW1lbnQuIFRoZVxuICogICAgIGBleHByZXNzaW9uYCB3aWxsIG1vc3QgbGlrZWx5IHJlZmVyIHRvIHRoZSBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS5cbiAqICAgKiBgc2VsZWN0YDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgb2YgdGhlIHBhcmVudCBgPHNlbGVjdD5gXG4gKiAgICAgIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQsIGBzZWxlY3RgIGV4cHJlc3Npb24gd2lsbCBkZWZhdWx0IHRvIGB2YWx1ZWAuXG4gKiAgICogYGdyb3VwYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB1c2VkIHRvIGdyb3VwIG9wdGlvbnMgdXNpbmcgdGhlIGA8b3B0Z3JvdXA+YFxuICogICAgICBET00gZWxlbWVudC5cbiAqICAgKiBgZGlzYWJsZWA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBkaXNhYmxlIHRoZSByZW5kZXJlZCBgPG9wdGlvbj5gXG4gKiAgICAgIGVsZW1lbnQuIFJldHVybiBgdHJ1ZWAgdG8gZGlzYWJsZS5cbiAqICAgKiBgdHJhY2tleHByYDogVXNlZCB3aGVuIHdvcmtpbmcgd2l0aCBhbiBhcnJheSBvZiBvYmplY3RzLiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlXG4gKiAgICAgIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LiBUaGUgYHRyYWNrZXhwcmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGVcbiAqICAgICBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS4gV2l0aCB0aGlzIHRoZSBzZWxlY3Rpb24gaXMgcHJlc2VydmVkXG4gKiAgICAgIGV2ZW4gd2hlbiB0aGUgb3B0aW9ucyBhcmUgcmVjcmVhdGVkIChlLmcuIHJlbG9hZGVkIGZyb20gdGhlIHNlcnZlcikuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJzZWxlY3RFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc2VsZWN0RXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29sb3JzID0gW1xuICAgICAgICAgICAgICB7bmFtZTonYmxhY2snLCBzaGFkZTonZGFyayd9LFxuICAgICAgICAgICAgICB7bmFtZTond2hpdGUnLCBzaGFkZTonbGlnaHQnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXG4gICAgICAgICAgICAgIHtuYW1lOidyZWQnLCBzaGFkZTonZGFyayd9LFxuICAgICAgICAgICAgICB7bmFtZTonYmx1ZScsIHNoYWRlOidkYXJrJywgbm90QW5PcHRpb246IHRydWV9LFxuICAgICAgICAgICAgICB7bmFtZToneWVsbG93Jywgc2hhZGU6J2xpZ2h0Jywgbm90QW5PcHRpb246IGZhbHNlfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICRzY29wZS5teUNvbG9yID0gJHNjb3BlLmNvbG9yc1syXTsgLy8gcmVkXG4gICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgbmctbW9kZWw9XCJjb2xvci5uYW1lXCI+PC9sYWJlbD5cbiAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNvbG9yLm5vdEFuT3B0aW9uXCI+IERpc2FibGVkPzwvbGFiZWw+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcnMuc3BsaWNlKCRpbmRleCwgMSlcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9ycy5wdXNoKHt9KVwiPmFkZDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDxoci8+XG4gICAgICAgICAgPGxhYmVsPkNvbG9yIChudWxsIG5vdCBhbGxvd2VkKTpcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPjwvc2VsZWN0PlxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICA8bGFiZWw+Q29sb3IgKG51bGwgYWxsb3dlZCk6XG4gICAgICAgICAgPHNwYW4gIGNsYXNzPVwibnVsbGFibGVcIj5cbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+LS0gY2hvb3NlIGNvbG9yIC0tPC9vcHRpb24+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L3NwYW4+PC9sYWJlbD48YnIvPlxuXG4gICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGU6XG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cblxuICAgICAgICAgIDxsYWJlbD5Db2xvciBncm91cGVkIGJ5IHNoYWRlLCB3aXRoIHNvbWUgZGlzYWJsZWQ6XG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiXG4gICAgICAgICAgICAgICAgICBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBncm91cCBieSBjb2xvci5zaGFkZSBkaXNhYmxlIHdoZW4gY29sb3Iubm90QW5PcHRpb24gZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9sYWJlbD48YnIvPlxuXG5cblxuICAgICAgICAgIFNlbGVjdCA8YnV0dG9uIG5nLWNsaWNrPVwibXlDb2xvciA9IHsgbmFtZTonbm90IGluIGxpc3QnLCBzaGFkZTogJ290aGVyJyB9XCI+Ym9ndXM8L2J1dHRvbj4uXG4gICAgICAgICAgPGJyLz5cbiAgICAgICAgICA8aHIvPlxuICAgICAgICAgIEN1cnJlbnRseSBzZWxlY3RlZDoge3sge3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9IH19XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImJvcmRlcjpzb2xpZCAxcHggYmxhY2s7IGhlaWdodDoyMHB4XCJcbiAgICAgICAgICAgICAgIG5nLXN0eWxlPVwieydiYWNrZ3JvdW5kLWNvbG9yJzpteUNvbG9yLm5hbWV9XCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1vcHRpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ3JlZCcpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXlDb2xvcicpKS5maXJzdCgpLmNsaWNrKCk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnc2VsZWN0W25nLW1vZGVsPVwibXlDb2xvclwiXSBvcHRpb24nKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdibGFjaycpO1xuICAgICAgICAgICBlbGVtZW50KGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0nKSkuY2xpY2soKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCcubnVsbGFibGUgc2VsZWN0W25nLW1vZGVsPVwibXlDb2xvclwiXSBvcHRpb24nKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdudWxsJyk7XG4gICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cblxuLy8ganNoaW50IG1heGxlbjogZmFsc2Vcbi8vICAgICAgICAgICAgICAgICAgICAgLy8wMDAwMTExMTExMTExMTAwMDAwMDAwMDAwMjIyMjIyMjIyMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDQ0NDQ0NDQ0NDQwMDAwMDAwMDAwMDAwNTU1NTU1NTU1NTU1NTU1MDAwMDAwMDAwNjY2NjY2NjY2NjY2NjY2MDAwMDAwMDc3Nzc3Nzc3Nzc3Nzc3NzAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwOTk5OTk5OTk5OVxudmFyIE5HX09QVElPTlNfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2dyb3VwXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2Rpc2FibGVcXHMrd2hlblxccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFtcXCRcXHddW1xcJFxcd10qKXwoPzpcXChcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccyosXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqXFwpKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/JC87XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxOiB2YWx1ZSBleHByZXNzaW9uICh2YWx1ZUZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMjogbGFiZWwgZXhwcmVzc2lvbiAoZGlzcGxheUZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMzogZ3JvdXAgYnkgZXhwcmVzc2lvbiAoZ3JvdXBCeUZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNDogZGlzYWJsZSB3aGVuIGV4cHJlc3Npb24gKGRpc2FibGVXaGVuRm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA1OiBhcnJheSBpdGVtIHZhcmlhYmxlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDY6IG9iamVjdCBpdGVtIGtleSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA3OiBvYmplY3QgaXRlbSB2YWx1ZSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA4OiBjb2xsZWN0aW9uIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDk6IHRyYWNrIGJ5IGV4cHJlc3Npb25cbi8vIGpzaGludCBtYXhsZW46IDEwMFxuXG5cbnZhciBuZ09wdGlvbnNEaXJlY3RpdmUgPSBbJyRjb21waWxlJywgJyRkb2N1bWVudCcsICckcGFyc2UnLCBmdW5jdGlvbigkY29tcGlsZSwgJGRvY3VtZW50LCAkcGFyc2UpIHtcblxuICBmdW5jdGlvbiBwYXJzZU9wdGlvbnNFeHByZXNzaW9uKG9wdGlvbnNFeHAsIHNlbGVjdEVsZW1lbnQsIHNjb3BlKSB7XG5cbiAgICB2YXIgbWF0Y2ggPSBvcHRpb25zRXhwLm1hdGNoKE5HX09QVElPTlNfUkVHRVhQKTtcbiAgICBpZiAoIShtYXRjaCkpIHtcbiAgICAgIHRocm93IG5nT3B0aW9uc01pbkVycignaWV4cCcsXG4gICAgICAgIFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mIFwiICtcbiAgICAgICAgXCInX3NlbGVjdF8gKGFzIF9sYWJlbF8pPyBmb3IgKF9rZXlfLCk/X3ZhbHVlXyBpbiBfY29sbGVjdGlvbl8nXCIgK1xuICAgICAgICBcIiBidXQgZ290ICd7MH0nLiBFbGVtZW50OiB7MX1cIixcbiAgICAgICAgb3B0aW9uc0V4cCwgc3RhcnRpbmdUYWcoc2VsZWN0RWxlbWVudCkpO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgdGhlIHBhcnRzIGZyb20gdGhlIG5nT3B0aW9ucyBleHByZXNzaW9uXG5cbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgdmFyIHZhbHVlTmFtZSA9IG1hdGNoWzVdIHx8IG1hdGNoWzddO1xuICAgIC8vIFRoZSB2YXJpYWJsZSBuYW1lIGZvciB0aGUga2V5IG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgdmFyIGtleU5hbWUgPSBtYXRjaFs2XTtcblxuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBnZW5lcmF0ZXMgdGhlIHZpZXdWYWx1ZSBmb3IgYW4gb3B0aW9uIGlmIHRoZXJlIGlzIGEgbGFiZWwgZXhwcmVzc2lvblxuICAgIHZhciBzZWxlY3RBcyA9IC8gYXMgLy50ZXN0KG1hdGNoWzBdKSAmJiBtYXRjaFsxXTtcbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCB0byB0cmFjayB0aGUgaWQgb2YgZWFjaCBvYmplY3QgaW4gdGhlIG9wdGlvbnMgY29sbGVjdGlvblxuICAgIHZhciB0cmFja0J5ID0gbWF0Y2hbOV07XG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGdlbmVyYXRlcyB0aGUgdmlld1ZhbHVlIGZvciBhbiBvcHRpb24gaWYgdGhlcmUgaXMgbm8gbGFiZWwgZXhwcmVzc2lvblxuICAgIHZhciB2YWx1ZUZuID0gJHBhcnNlKG1hdGNoWzJdID8gbWF0Y2hbMV0gOiB2YWx1ZU5hbWUpO1xuICAgIHZhciBzZWxlY3RBc0ZuID0gc2VsZWN0QXMgJiYgJHBhcnNlKHNlbGVjdEFzKTtcbiAgICB2YXIgdmlld1ZhbHVlRm4gPSBzZWxlY3RBc0ZuIHx8IHZhbHVlRm47XG4gICAgdmFyIHRyYWNrQnlGbiA9IHRyYWNrQnkgJiYgJHBhcnNlKHRyYWNrQnkpO1xuXG4gICAgLy8gR2V0IHRoZSB2YWx1ZSBieSB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gdHJhY2sgdGhlIG9wdGlvblxuICAgIC8vIGlmIHdlIGhhdmUgYSB0cmFja0ZuIHRoZW4gdXNlIHRoYXQgKHBhc3Npbmcgc2NvcGUgYW5kIGxvY2FscylcbiAgICAvLyBvdGhlcndpc2UganVzdCBoYXNoIHRoZSBnaXZlbiB2aWV3VmFsdWVcbiAgICB2YXIgZ2V0VHJhY2tCeVZhbHVlRm4gPSB0cmFja0J5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBsb2NhbHMpIHsgcmV0dXJuIHRyYWNrQnlGbihzY29wZSwgbG9jYWxzKTsgfSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRIYXNoT2ZWYWx1ZSh2YWx1ZSkgeyByZXR1cm4gaGFzaEtleSh2YWx1ZSk7IH07XG4gICAgdmFyIGdldFRyYWNrQnlWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJldHVybiBnZXRUcmFja0J5VmFsdWVGbih2YWx1ZSwgZ2V0TG9jYWxzKHZhbHVlLCBrZXkpKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpc3BsYXlGbiA9ICRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSk7XG4gICAgdmFyIGdyb3VwQnlGbiA9ICRwYXJzZShtYXRjaFszXSB8fCAnJyk7XG4gICAgdmFyIGRpc2FibGVXaGVuRm4gPSAkcGFyc2UobWF0Y2hbNF0gfHwgJycpO1xuICAgIHZhciB2YWx1ZXNGbiA9ICRwYXJzZShtYXRjaFs4XSk7XG5cbiAgICB2YXIgbG9jYWxzID0ge307XG4gICAgdmFyIGdldExvY2FscyA9IGtleU5hbWUgPyBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBsb2NhbHNba2V5TmFtZV0gPSBrZXk7XG4gICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGxvY2FscztcbiAgICB9IDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gdmFsdWU7XG4gICAgICByZXR1cm4gbG9jYWxzO1xuICAgIH07XG5cblxuICAgIGZ1bmN0aW9uIE9wdGlvbihzZWxlY3RWYWx1ZSwgdmlld1ZhbHVlLCBsYWJlbCwgZ3JvdXAsIGRpc2FibGVkKSB7XG4gICAgICB0aGlzLnNlbGVjdFZhbHVlID0gc2VsZWN0VmFsdWU7XG4gICAgICB0aGlzLnZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcykge1xuICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXM7XG5cbiAgICAgIGlmICgha2V5TmFtZSAmJiBpc0FycmF5TGlrZShvcHRpb25WYWx1ZXMpKSB7XG4gICAgICAgIG9wdGlvblZhbHVlc0tleXMgPSBvcHRpb25WYWx1ZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgaW4gZW51bWVyYXRpb24gb3JkZXIsIHVuc29ydGVkXG4gICAgICAgIG9wdGlvblZhbHVlc0tleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBvcHRpb25WYWx1ZXMpIHtcbiAgICAgICAgICBpZiAob3B0aW9uVmFsdWVzLmhhc093blByb3BlcnR5KGl0ZW1LZXkpICYmIGl0ZW1LZXkuY2hhckF0KDApICE9PSAnJCcpIHtcbiAgICAgICAgICAgIG9wdGlvblZhbHVlc0tleXMucHVzaChpdGVtS2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25WYWx1ZXNLZXlzO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0cmFja0J5OiB0cmFja0J5LFxuICAgICAgZ2V0VHJhY2tCeVZhbHVlOiBnZXRUcmFja0J5VmFsdWUsXG4gICAgICBnZXRXYXRjaGFibGVzOiAkcGFyc2UodmFsdWVzRm4sIGZ1bmN0aW9uKG9wdGlvblZhbHVlcykge1xuICAgICAgICAvLyBDcmVhdGUgYSBjb2xsZWN0aW9uIG9mIHRoaW5ncyB0aGF0IHdlIHdvdWxkIGxpa2UgdG8gd2F0Y2ggKHdhdGNoZWRBcnJheSlcbiAgICAgICAgLy8gc28gdGhhdCB0aGV5IGNhbiBhbGwgYmUgd2F0Y2hlZCB1c2luZyBhIHNpbmdsZSAkd2F0Y2hDb2xsZWN0aW9uXG4gICAgICAgIC8vIHRoYXQgb25seSBydW5zIHRoZSBoYW5kbGVyIG9uY2UgaWYgYW55dGhpbmcgY2hhbmdlc1xuICAgICAgICB2YXIgd2F0Y2hlZEFycmF5ID0gW107XG4gICAgICAgIG9wdGlvblZhbHVlcyA9IG9wdGlvblZhbHVlcyB8fCBbXTtcblxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cyA9IGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKTtcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0xlbmd0aCA9IG9wdGlvblZhbHVlc0tleXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uVmFsdWVzTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IChvcHRpb25WYWx1ZXMgPT09IG9wdGlvblZhbHVlc0tleXMpID8gaW5kZXggOiBvcHRpb25WYWx1ZXNLZXlzW2luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvcHRpb25WYWx1ZXNba2V5XTtcblxuICAgICAgICAgIHZhciBsb2NhbHMgPSBnZXRMb2NhbHModmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gZ2V0VHJhY2tCeVZhbHVlRm4odmFsdWUsIGxvY2Fscyk7XG4gICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2goc2VsZWN0VmFsdWUpO1xuXG4gICAgICAgICAgLy8gT25seSBuZWVkIHRvIHdhdGNoIHRoZSBkaXNwbGF5Rm4gaWYgdGhlcmUgaXMgYSBzcGVjaWZpYyBsYWJlbCBleHByZXNzaW9uXG4gICAgICAgICAgaWYgKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNwbGF5Rm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICB3YXRjaGVkQXJyYXkucHVzaChsYWJlbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gT25seSBuZWVkIHRvIHdhdGNoIHRoZSBkaXNhYmxlV2hlbkZuIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgZGlzYWJsZSBleHByZXNzaW9uXG4gICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICB2YXIgZGlzYWJsZVdoZW4gPSBkaXNhYmxlV2hlbkZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2goZGlzYWJsZVdoZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2F0Y2hlZEFycmF5O1xuICAgICAgfSksXG5cbiAgICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBvcHRpb25JdGVtcyA9IFtdO1xuICAgICAgICB2YXIgc2VsZWN0VmFsdWVNYXAgPSB7fTtcblxuICAgICAgICAvLyBUaGUgb3B0aW9uIHZhbHVlcyB3ZXJlIGFscmVhZHkgY29tcHV0ZWQgaW4gdGhlIGBnZXRXYXRjaGFibGVzYCBmbixcbiAgICAgICAgLy8gd2hpY2ggbXVzdCBoYXZlIGJlZW4gY2FsbGVkIHRvIHRyaWdnZXIgYGdldE9wdGlvbnNgXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXMgPSB2YWx1ZXNGbihzY29wZSkgfHwgW107XG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzID0gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpO1xuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzTGVuZ3RoID0gb3B0aW9uVmFsdWVzS2V5cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvblZhbHVlc0xlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIHZhciBrZXkgPSAob3B0aW9uVmFsdWVzID09PSBvcHRpb25WYWx1ZXNLZXlzKSA/IGluZGV4IDogb3B0aW9uVmFsdWVzS2V5c1tpbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XG4gICAgICAgICAgdmFyIGxvY2FscyA9IGdldExvY2Fscyh2YWx1ZSwga2V5KTtcbiAgICAgICAgICB2YXIgdmlld1ZhbHVlID0gdmlld1ZhbHVlRm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gZ2V0VHJhY2tCeVZhbHVlRm4odmlld1ZhbHVlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBsYWJlbCA9IGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cEJ5Rm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIGRpc2FibGVkID0gZGlzYWJsZVdoZW5GbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgb3B0aW9uSXRlbSA9IG5ldyBPcHRpb24oc2VsZWN0VmFsdWUsIHZpZXdWYWx1ZSwgbGFiZWwsIGdyb3VwLCBkaXNhYmxlZCk7XG5cbiAgICAgICAgICBvcHRpb25JdGVtcy5wdXNoKG9wdGlvbkl0ZW0pO1xuICAgICAgICAgIHNlbGVjdFZhbHVlTWFwW3NlbGVjdFZhbHVlXSA9IG9wdGlvbkl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGl0ZW1zOiBvcHRpb25JdGVtcyxcbiAgICAgICAgICBzZWxlY3RWYWx1ZU1hcDogc2VsZWN0VmFsdWVNYXAsXG4gICAgICAgICAgZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RWYWx1ZU1hcFtnZXRUcmFja0J5VmFsdWUodmFsdWUpXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldFZpZXdWYWx1ZUZyb21PcHRpb246IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZpZXdWYWx1ZSBjb3VsZCBiZSBhbiBvYmplY3QgdGhhdCBtYXkgYmUgbXV0YXRlZCBieSB0aGUgYXBwbGljYXRpb24sXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIG1ha2UgYSBjb3B5IGFuZCBub3QgcmV0dXJuIHRoZSByZWZlcmVuY2UgdG8gdGhlIHZhbHVlIG9uIHRoZSBvcHRpb24uXG4gICAgICAgICAgICByZXR1cm4gdHJhY2tCeSA/IGFuZ3VsYXIuY29weShvcHRpb24udmlld1ZhbHVlKSA6IG9wdGlvbi52aWV3VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuXG4gIC8vIHdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxuICB2YXIgb3B0aW9uVGVtcGxhdGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyksXG4gICAgICBvcHRHcm91cFRlbXBsYXRlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGdyb3VwJyk7XG5cbiAgICBmdW5jdGlvbiBuZ09wdGlvbnNQb3N0TGluayhzY29wZSwgc2VsZWN0RWxlbWVudCwgYXR0ciwgY3RybHMpIHtcblxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgdmFyIG11bHRpcGxlID0gYXR0ci5tdWx0aXBsZTtcblxuICAgICAgLy8gVGhlIGVtcHR5T3B0aW9uIGFsbG93cyB0aGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIHRvIHByb3ZpZGUgdGhlaXIgb3duIGN1c3RvbSBcImVtcHR5XCJcbiAgICAgIC8vIG9wdGlvbiB3aGVuIHRoZSB2aWV3VmFsdWUgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb24gdmFsdWVzLlxuICAgICAgdmFyIGVtcHR5T3B0aW9uO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkcmVuID0gc2VsZWN0RWxlbWVudC5jaGlsZHJlbigpLCBpaSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnZhbHVlID09PSAnJykge1xuICAgICAgICAgIGVtcHR5T3B0aW9uID0gY2hpbGRyZW4uZXEoaSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHByb3ZpZGVkRW1wdHlPcHRpb24gPSAhIWVtcHR5T3B0aW9uO1xuXG4gICAgICB2YXIgdW5rbm93bk9wdGlvbiA9IGpxTGl0ZShvcHRpb25UZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpKTtcbiAgICAgIHVua25vd25PcHRpb24udmFsKCc/Jyk7XG5cbiAgICAgIHZhciBvcHRpb25zO1xuICAgICAgdmFyIG5nT3B0aW9ucyA9IHBhcnNlT3B0aW9uc0V4cHJlc3Npb24oYXR0ci5uZ09wdGlvbnMsIHNlbGVjdEVsZW1lbnQsIHNjb3BlKTtcbiAgICAgIC8vIFRoaXMgc3RvcmVzIHRoZSBuZXdseSBjcmVhdGVkIG9wdGlvbnMgYmVmb3JlIHRoZXkgYXJlIGFwcGVuZGVkIHRvIHRoZSBzZWxlY3QuXG4gICAgICAvLyBTaW5jZSB0aGUgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZnJhZ21lbnQgd2hlbiBpdCBpcyBhcHBlbmRlZCxcbiAgICAgIC8vIHdlIG9ubHkgbmVlZCB0byBjcmVhdGUgaXQgb25jZS5cbiAgICAgIHZhciBsaXN0RnJhZ21lbnQgPSAkZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgICB2YXIgcmVuZGVyRW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFwcm92aWRlZEVtcHR5T3B0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0RWxlbWVudC5wcmVwZW5kKGVtcHR5T3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RFbGVtZW50LnZhbCgnJyk7XG4gICAgICAgIGVtcHR5T3B0aW9uLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7IC8vIG5lZWRlZCBmb3IgSUVcbiAgICAgICAgZW1wdHlPcHRpb24uYXR0cignc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciByZW1vdmVFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXByb3ZpZGVkRW1wdHlPcHRpb24pIHtcbiAgICAgICAgICBlbXB0eU9wdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICB2YXIgcmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RFbGVtZW50LnByZXBlbmQodW5rbm93bk9wdGlvbik7XG4gICAgICAgIHNlbGVjdEVsZW1lbnQudmFsKCc/Jyk7XG4gICAgICAgIHVua25vd25PcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gbmVlZGVkIGZvciBJRVxuICAgICAgICB1bmtub3duT3B0aW9uLmF0dHIoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVtb3ZlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgfTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBjb250cm9sbGVyIG1ldGhvZHMgZm9yIG11bHRpcGxlIHNlbGVjdGFibGUgb3B0aW9uc1xuICAgICAgaWYgKCFtdWx0aXBsZSkge1xuXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTmdPcHRpb25zVmFsdWUodmFsdWUpIHtcbiAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSB0aGUgb3B0aW9uIHdoZW4gaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCB0aGUgYnJvd3NlciB3aWxsIHNlbGVjdCB0aGUgZmlyc3Qgb3B0aW9uIGJ5IGRlZmF1bHQuIEluIHRoYXQgY2FzZSxcbiAgICAgICAgICAgIC8vIG1vc3QgcHJvcGVydGllcyBhcmUgc2V0IGF1dG9tYXRpY2FsbHkgLSBleGNlcHQgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlLCB3aGljaCB3ZVxuICAgICAgICAgICAgLy8gc2V0IGFsd2F5c1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0RWxlbWVudFswXS52YWx1ZSAhPT0gb3B0aW9uLnNlbGVjdFZhbHVlKSB7XG4gICAgICAgICAgICAgIHJlbW92ZVVua25vd25PcHRpb24oKTtcbiAgICAgICAgICAgICAgcmVtb3ZlRW1wdHlPcHRpb24oKTtcblxuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50WzBdLnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xuICAgICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcbiAgICAgICAgICAgICAgcmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgICByZW5kZXJFbXB0eU9wdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVtb3ZlRW1wdHlPcHRpb24oKTtcbiAgICAgICAgICAgICAgcmVuZGVyVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNWYWx1ZSgpIHtcblxuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnMuc2VsZWN0VmFsdWVNYXBbc2VsZWN0RWxlbWVudC52YWwoKV07XG5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgIXNlbGVjdGVkT3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZW1vdmVFbXB0eU9wdGlvbigpO1xuICAgICAgICAgICAgcmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihzZWxlY3RlZE9wdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBgdHJhY2sgYnlgIHRoZW4gd2UgbXVzdCB3YXRjaCB0aGUgdHJhY2tlZCB2YWx1ZSBvbiB0aGUgbW9kZWxcbiAgICAgICAgLy8gc2luY2UgbmdNb2RlbCBvbmx5IHdhdGNoZXMgZm9yIG9iamVjdCBpZGVudGl0eSBjaGFuZ2VcbiAgICAgICAgaWYgKG5nT3B0aW9ucy50cmFja0J5KSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpOyB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XG4gICAgICAgIH07XG5cblxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU5nT3B0aW9uc011bHRpcGxlKHZhbHVlKSB7XG4gICAgICAgICAgb3B0aW9ucy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLmdldE9wdGlvbkZyb21WaWV3VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICAgIGlmIChvcHRpb24pIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIHNlbGVjdEN0cmwucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZE5nT3B0aW9uc011bHRpcGxlKCkge1xuICAgICAgICAgIHZhciBzZWxlY3RlZFZhbHVlcyA9IHNlbGVjdEVsZW1lbnQudmFsKCkgfHwgW10sXG4gICAgICAgICAgICAgIHNlbGVjdGlvbnMgPSBbXTtcblxuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFt2YWx1ZV07XG4gICAgICAgICAgICBpZiAob3B0aW9uICYmICFvcHRpb24uZGlzYWJsZWQpIHNlbGVjdGlvbnMucHVzaChvcHRpb25zLmdldFZpZXdWYWx1ZUZyb21PcHRpb24ob3B0aW9uKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2VsZWN0aW9ucztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYHRyYWNrIGJ5YCB0aGVuIHdlIG11c3Qgd2F0Y2ggdGhlc2UgdHJhY2tlZCB2YWx1ZXMgb24gdGhlIG1vZGVsXG4gICAgICAgIC8vIHNpbmNlIG5nTW9kZWwgb25seSB3YXRjaGVzIGZvciBvYmplY3QgaWRlbnRpdHkgY2hhbmdlXG4gICAgICAgIGlmIChuZ09wdGlvbnMudHJhY2tCeSkge1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIGlmIChwcm92aWRlZEVtcHR5T3B0aW9uKSB7XG5cbiAgICAgICAgLy8gd2UgbmVlZCB0byByZW1vdmUgaXQgYmVmb3JlIGNhbGxpbmcgc2VsZWN0RWxlbWVudC5lbXB0eSgpIGJlY2F1c2Ugb3RoZXJ3aXNlIElFIHdpbGxcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYWJlbCBmcm9tIHRoZSBlbGVtZW50LiB3dGY/XG4gICAgICAgIGVtcHR5T3B0aW9uLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIGNvbXBpbGUgdGhlIGVsZW1lbnQgc2luY2UgdGhlcmUgbWlnaHQgYmUgYmluZGluZ3MgaW4gaXRcbiAgICAgICAgJGNvbXBpbGUoZW1wdHlPcHRpb24pKHNjb3BlKTtcblxuICAgICAgICAvLyByZW1vdmUgdGhlIGNsYXNzLCB3aGljaCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugd2UgcmVjb21waWxlIHRoZSBlbGVtZW50IGFuZCBpdFxuICAgICAgICAvLyBiZWNvbWVzIHRoZSBjb21waWxhdGlvbiByb290XG4gICAgICAgIGVtcHR5T3B0aW9uLnJlbW92ZUNsYXNzKCduZy1zY29wZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1wdHlPcHRpb24gPSBqcUxpdGUob3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdEVsZW1lbnQuZW1wdHkoKTtcblxuICAgICAgLy8gV2UgbmVlZCB0byBkbyB0aGlzIGhlcmUgdG8gZW5zdXJlIHRoYXQgdGhlIG9wdGlvbnMgb2JqZWN0IGlzIGRlZmluZWRcbiAgICAgIC8vIHdoZW4gd2UgZmlyc3QgaGl0IGl0IGluIHdyaXRlTmdPcHRpb25zVmFsdWVcbiAgICAgIHVwZGF0ZU9wdGlvbnMoKTtcblxuICAgICAgLy8gV2Ugd2lsbCByZS1yZW5kZXIgdGhlIG9wdGlvbiBlbGVtZW50cyBpZiB0aGUgb3B0aW9uIHZhbHVlcyBvciBsYWJlbHMgY2hhbmdlXG4gICAgICBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKG5nT3B0aW9ucy5nZXRXYXRjaGFibGVzLCB1cGRhdGVPcHRpb25zKTtcblxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgICAgIGZ1bmN0aW9uIGFkZE9wdGlvbkVsZW1lbnQob3B0aW9uLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBvcHRpb25UZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQob3B0aW9uRWxlbWVudCk7XG4gICAgICAgIHVwZGF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCBvcHRpb25FbGVtZW50KTtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgZWxlbWVudCkge1xuICAgICAgICBvcHRpb24uZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBvcHRpb24uZGlzYWJsZWQ7XG4gICAgICAgIC8vIE5PVEU6IFRoZSBsYWJlbCBtdXN0IGJlIHNldCBiZWZvcmUgdGhlIHZhbHVlLCBvdGhlcndpc2UgSUUxMC8xMS9FREdFIGNyZWF0ZSB1bnJlc3BvbnNpdmVcbiAgICAgICAgLy8gc2VsZWN0cyBpbiBjZXJ0YWluIGNpcmN1bXN0YW5jZXMgd2hlbiBtdWx0aXBsZSBzZWxlY3RzIGFyZSBuZXh0IHRvIGVhY2ggb3RoZXIgYW5kIGRpc3BsYXlcbiAgICAgICAgLy8gdGhlIG9wdGlvbiBsaXN0IGluIGxpc3Rib3ggc3R5bGUsIGkuZS4gdGhlIHNlbGVjdCBpcyBbbXVsdGlwbGVdLCBvciBzcGVjaWZpZXMgYSBbc2l6ZV0uXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMTMxNCBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAvLyBUaGlzIGlzIHVuZm9ydHVuYXRlbHkgdW50ZXN0YWJsZSB3aXRoIHVuaXQgLyBlMmUgdGVzdHNcbiAgICAgICAgaWYgKG9wdGlvbi5sYWJlbCAhPT0gZWxlbWVudC5sYWJlbCkge1xuICAgICAgICAgIGVsZW1lbnQubGFiZWwgPSBvcHRpb24ubGFiZWw7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG9wdGlvbi5sYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9uLnZhbHVlICE9PSBlbGVtZW50LnZhbHVlKSBlbGVtZW50LnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKCkge1xuICAgICAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IG9wdGlvbnMgJiYgc2VsZWN0Q3RybC5yZWFkVmFsdWUoKTtcblxuICAgICAgICAvLyBXZSBtdXN0IHJlbW92ZSBhbGwgY3VycmVudCBvcHRpb25zLCBidXQgY2Fubm90IHNpbXBseSBzZXQgaW5uZXJIVE1MID0gbnVsbFxuICAgICAgICAvLyBzaW5jZSB0aGUgcHJvdmlkZWRFbXB0eU9wdGlvbiBtaWdodCBoYXZlIGFuIG5nSWYgb24gaXQgdGhhdCBpbnNlcnRzIGNvbW1lbnRzIHdoaWNoIHdlXG4gICAgICAgIC8vIG11c3QgcHJlc2VydmUuXG4gICAgICAgIC8vIEluc3RlYWQsIGl0ZXJhdGUgb3ZlciB0aGUgY3VycmVudCBvcHRpb24gZWxlbWVudHMgYW5kIHJlbW92ZSB0aGVtIG9yIHRoZWlyIG9wdGdyb3VwXG4gICAgICAgIC8vIHBhcmVudHNcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSBvcHRpb25zLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9uLmdyb3VwKSkge1xuICAgICAgICAgICAgICBqcUxpdGVSZW1vdmUob3B0aW9uLmVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBqcUxpdGVSZW1vdmUob3B0aW9uLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBuZ09wdGlvbnMuZ2V0T3B0aW9ucygpO1xuXG4gICAgICAgIHZhciBncm91cEVsZW1lbnRNYXAgPSB7fTtcblxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgZW1wdHkgb3B0aW9uIGlzIGFsd2F5cyB0aGVyZSBpZiBpdCB3YXMgZXhwbGljaXRseSBwcm92aWRlZFxuICAgICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xuICAgICAgICAgIHNlbGVjdEVsZW1lbnQucHJlcGVuZChlbXB0eU9wdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gYWRkT3B0aW9uKG9wdGlvbikge1xuICAgICAgICAgIHZhciBncm91cEVsZW1lbnQ7XG5cbiAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbi5ncm91cCkpIHtcblxuICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgdG8gbGl2ZSBpbiBhIGdyb3VwXG4gICAgICAgICAgICAvLyBTZWUgaWYgd2UgaGF2ZSBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBncm91cFxuICAgICAgICAgICAgZ3JvdXBFbGVtZW50ID0gZ3JvdXBFbGVtZW50TWFwW29wdGlvbi5ncm91cF07XG5cbiAgICAgICAgICAgIGlmICghZ3JvdXBFbGVtZW50KSB7XG5cbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50ID0gb3B0R3JvdXBUZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICBsaXN0RnJhZ21lbnQuYXBwZW5kQ2hpbGQoZ3JvdXBFbGVtZW50KTtcblxuICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxhYmVsIG9uIHRoZSBncm91cCBlbGVtZW50XG4gICAgICAgICAgICAgIC8vIFwibnVsbFwiIGlzIHNwZWNpYWwgY2FzZWQgYmVjYXVzZSBvZiBTYWZhcmlcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50LmxhYmVsID0gb3B0aW9uLmdyb3VwID09PSBudWxsID8gJ251bGwnIDogb3B0aW9uLmdyb3VwO1xuXG4gICAgICAgICAgICAgIC8vIFN0b3JlIGl0IGZvciB1c2UgbGF0ZXJcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50TWFwW29wdGlvbi5ncm91cF0gPSBncm91cEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFkZE9wdGlvbkVsZW1lbnQob3B0aW9uLCBncm91cEVsZW1lbnQpO1xuXG4gICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgbm90IGluIGEgZ3JvdXBcbiAgICAgICAgICAgIGFkZE9wdGlvbkVsZW1lbnQob3B0aW9uLCBsaXN0RnJhZ21lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZWN0RWxlbWVudFswXS5hcHBlbmRDaGlsZChsaXN0RnJhZ21lbnQpO1xuXG4gICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcblxuICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkIGR1ZSB0byB0aGUgdXBkYXRlIHRvIHRoZSBvcHRpb25zXG4gICAgICAgIGlmICghbmdNb2RlbEN0cmwuJGlzRW1wdHkocHJldmlvdXNWYWx1ZSkpIHtcbiAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gc2VsZWN0Q3RybC5yZWFkVmFsdWUoKTtcbiAgICAgICAgICB2YXIgaXNOb3RQcmltaXRpdmUgPSBuZ09wdGlvbnMudHJhY2tCeSB8fCBtdWx0aXBsZTtcbiAgICAgICAgICBpZiAoaXNOb3RQcmltaXRpdmUgPyAhZXF1YWxzKHByZXZpb3VzVmFsdWUsIG5leHRWYWx1ZSkgOiBwcmV2aW91c1ZhbHVlICE9PSBuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmV4dFZhbHVlKTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHJlcXVpcmU6IFsnc2VsZWN0JywgJ25nTW9kZWwnXSxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uIG5nT3B0aW9uc1ByZUxpbmsoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgIC8vIERlYWN0aXZhdGUgdGhlIFNlbGVjdENvbnRyb2xsZXIucmVnaXN0ZXIgbWV0aG9kIHRvIHByZXZlbnRcbiAgICAgICAgLy8gb3B0aW9uIGRpcmVjdGl2ZXMgZnJvbSBhY2NpZGVudGFsbHkgcmVnaXN0ZXJpbmcgdGhlbXNlbHZlc1xuICAgICAgICAvLyAoYW5kIHVud2FudGVkICRkZXN0cm95IGhhbmRsZXJzIGV0Yy4pXG4gICAgICAgIGN0cmxzWzBdLnJlZ2lzdGVyT3B0aW9uID0gbm9vcDtcbiAgICAgIH0sXG4gICAgICBwb3N0OiBuZ09wdGlvbnNQb3N0TGlua1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGx1cmFsaXplXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBuZ1BsdXJhbGl6ZWAgaXMgYSBkaXJlY3RpdmUgdGhhdCBkaXNwbGF5cyBtZXNzYWdlcyBhY2NvcmRpbmcgdG8gZW4tVVMgbG9jYWxpemF0aW9uIHJ1bGVzLlxuICogVGhlc2UgcnVsZXMgYXJlIGJ1bmRsZWQgd2l0aCBhbmd1bGFyLmpzLCBidXQgY2FuIGJlIG92ZXJyaWRkZW5cbiAqIChzZWUge0BsaW5rIGd1aWRlL2kxOG4gQW5ndWxhciBpMThufSBkZXYgZ3VpZGUpLiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGRpcmVjdGl2ZVxuICogYnkgc3BlY2lmeWluZyB0aGUgbWFwcGluZ3MgYmV0d2VlblxuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXG4gKiBhbmQgdGhlIHN0cmluZ3MgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqICMgUGx1cmFsIGNhdGVnb3JpZXMgYW5kIGV4cGxpY2l0IG51bWJlciBydWxlc1xuICogVGhlcmUgYXJlIHR3b1xuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXG4gKiBpbiBBbmd1bGFyJ3MgZGVmYXVsdCBlbi1VUyBsb2NhbGU6IFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBXaGlsZSBhIHBsdXJhbCBjYXRlZ29yeSBtYXkgbWF0Y2ggbWFueSBudW1iZXJzIChmb3IgZXhhbXBsZSwgaW4gZW4tVVMgbG9jYWxlLCBcIm90aGVyXCIgY2FuIG1hdGNoXG4gKiBhbnkgbnVtYmVyIHRoYXQgaXMgbm90IDEpLCBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBjYW4gb25seSBtYXRjaCBvbmUgbnVtYmVyLiBGb3IgZXhhbXBsZSwgdGhlXG4gKiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3IgXCIzXCIgbWF0Y2hlcyB0aGUgbnVtYmVyIDMuIFRoZXJlIGFyZSBleGFtcGxlcyBvZiBwbHVyYWwgY2F0ZWdvcmllc1xuICogYW5kIGV4cGxpY2l0IG51bWJlciBydWxlcyB0aHJvdWdob3V0IHRoZSByZXN0IG9mIHRoaXMgZG9jdW1lbnRhdGlvbi5cbiAqXG4gKiAjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplXG4gKiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGJ5IHByb3ZpZGluZyAyIGF0dHJpYnV0ZXM6IGBjb3VudGAgYW5kIGB3aGVuYC5cbiAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSwgYG9mZnNldGAuXG4gKlxuICogVGhlIHZhbHVlIG9mIHRoZSBgY291bnRgIGF0dHJpYnV0ZSBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uXG4gKiBBbmd1bGFyIGV4cHJlc3Npb259OyB0aGVzZSBhcmUgZXZhbHVhdGVkIG9uIHRoZSBjdXJyZW50IHNjb3BlIGZvciBpdHMgYm91bmQgdmFsdWUuXG4gKlxuICogVGhlIGB3aGVuYCBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBtYXBwaW5ncyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yaWVzIGFuZCB0aGUgYWN0dWFsXG4gKiBzdHJpbmcgdG8gYmUgZGlzcGxheWVkLiBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBzaG91bGQgYmUgYSBKU09OIG9iamVjdC5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIlxuICAgICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7fSBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICpgYGBcbiAqXG4gKiBJbiB0aGUgZXhhbXBsZSwgYFwiMDogTm9ib2R5IGlzIHZpZXdpbmcuXCJgIGlzIGFuIGV4cGxpY2l0IG51bWJlciBydWxlLiBJZiB5b3UgZGlkIG5vdFxuICogc3BlY2lmeSB0aGlzIHJ1bGUsIDAgd291bGQgYmUgbWF0Y2hlZCB0byB0aGUgXCJvdGhlclwiIGNhdGVnb3J5IGFuZCBcIjAgcGVvcGxlIGFyZSB2aWV3aW5nXCJcbiAqIHdvdWxkIGJlIHNob3duIGluc3RlYWQgb2YgXCJOb2JvZHkgaXMgdmlld2luZ1wiLiBZb3UgY2FuIHNwZWNpZnkgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yXG4gKiBvdGhlciBudW1iZXJzLCBmb3IgZXhhbXBsZSAxMiwgc28gdGhhdCBpbnN0ZWFkIG9mIHNob3dpbmcgXCIxMiBwZW9wbGUgYXJlIHZpZXdpbmdcIiwgeW91IGNhblxuICogc2hvdyBcImEgZG96ZW4gcGVvcGxlIGFyZSB2aWV3aW5nXCIuXG4gKlxuICogWW91IGNhbiB1c2UgYSBzZXQgb2YgY2xvc2VkIGJyYWNlcyAoYHt9YCkgYXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIG51bWJlciB0aGF0IHlvdSB3YW50IHN1YnN0aXR1dGVkXG4gKiBpbnRvIHBsdXJhbGl6ZWQgc3RyaW5ncy4gSW4gdGhlIHByZXZpb3VzIGV4YW1wbGUsIEFuZ3VsYXIgd2lsbCByZXBsYWNlIGB7fWAgd2l0aFxuICogPHNwYW4gbmctbm9uLWJpbmRhYmxlPmB7e3BlcnNvbkNvdW50fX1gPC9zcGFuPi4gVGhlIGNsb3NlZCBicmFjZXMgYHt9YCBpcyBhIHBsYWNlaG9sZGVyXG4gKiBmb3IgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7bnVtYmVyRXhwcmVzc2lvbn19PC9zcGFuPi5cbiAqXG4gKiBJZiBubyBydWxlIGlzIGRlZmluZWQgZm9yIGEgY2F0ZWdvcnksIHRoZW4gYW4gZW1wdHkgc3RyaW5nIGlzIGRpc3BsYXllZCBhbmQgYSB3YXJuaW5nIGlzIGdlbmVyYXRlZC5cbiAqIE5vdGUgdGhhdCBzb21lIGxvY2FsZXMgZGVmaW5lIG1vcmUgY2F0ZWdvcmllcyB0aGFuIGBvbmVgIGFuZCBgb3RoZXJgLiBGb3IgZXhhbXBsZSwgZnItZnIgZGVmaW5lcyBgZmV3YCBhbmQgYG1hbnlgLlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcbiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW5cbiAqIGEgYmV0dGVyIHVzZXIgZXhwZXJpZW5jZS4gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgdGhlIG1lc3NhZ2UgXCI0IHBlb3BsZSBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIsXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cbiAqIFRoZSBvZmZzZXQgYXR0cmlidXRlIGFsbG93cyB5b3UgdG8gb2Zmc2V0IGEgbnVtYmVyIGJ5IGFueSBkZXNpcmVkIHZhbHVlLlxuICogTGV0J3MgdGFrZSBhIGxvb2sgYXQgYW4gZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cbiAqIFdoZW4gb25lIHBlcnNvbiwgcGVyaGFwcyBKb2huLCB2aWV3cyB0aGUgZG9jdW1lbnQsIFwiSm9obiBpcyB2aWV3aW5nXCIgd2lsbCBiZSBzaG93bi5cbiAqIFdoZW4gdGhyZWUgcGVvcGxlIHZpZXcgdGhlIGRvY3VtZW50LCBubyBleHBsaWNpdCBudW1iZXIgcnVsZSBpcyBmb3VuZCwgc29cbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXG4gKiBJbiB0aGlzIGNhc2UsIHBsdXJhbCBjYXRlZ29yeSAnb25lJyBpcyBtYXRjaGVkIGFuZCBcIkpvaG4sIE1hcnkgYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmdcIlxuICogaXMgc2hvd24uXG4gKlxuICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yXG4gKiBudW1iZXJzIGZyb20gMCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBvZmZzZXQuIElmIHlvdSB1c2UgYW4gb2Zmc2V0IG9mIDMsIGZvciBleGFtcGxlLFxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcbiAqIHBsdXJhbCBjYXRlZ29yaWVzIFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gd2hlbiBUaGUgbWFwcGluZyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yeSB0byBpdHMgY29ycmVzcG9uZGluZyBzdHJpbmdzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgT2Zmc2V0IHRvIGRlZHVjdCBmcm9tIHRoZSB0b3RhbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJwbHVyYWxpemVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdwbHVyYWxpemVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDE6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24xXCIgdmFsdWU9XCJJZ29yXCIgLz48L2xhYmVsPjxici8+XG4gICAgICAgICAgPGxhYmVsPlBlcnNvbiAyOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uMlwiIHZhbHVlPVwiTWlza29cIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgICA8bGFiZWw+TnVtYmVyIG9mIFBlb3BsZTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbkNvdW50XCIgdmFsdWU9XCIxXCIgLz48L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggc2ltcGxlIHBsdXJhbGl6YXRpb24gcnVsZXMgZm9yIGVuIGxvY2FsZSAtLS0+XG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+PGJyPlxuXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XG4gICAgICAgICAgV2l0aCBPZmZzZXQoMik6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdpdGhvdXRPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMCk7XG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgcGVyc29uQ291bnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xuICAgICAgICAgIHBlcnNvbkNvdW50LmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMS5zZW5kS2V5cygnRGknKTtcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0RpLCBWb2p0YSBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgZnVuY3Rpb24oJGxvY2FsZSwgJGludGVycG9sYXRlLCAkbG9nKSB7XG4gIHZhciBCUkFDRSA9IC97fS9nLFxuICAgICAgSVNfV0hFTiA9IC9ed2hlbihNaW51cyk/KC4rKSQvO1xuXG4gIHJldHVybiB7XG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBudW1iZXJFeHAgPSBhdHRyLmNvdW50LFxuICAgICAgICAgIHdoZW5FeHAgPSBhdHRyLiRhdHRyLndoZW4gJiYgZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIud2hlbiksIC8vIHdlIGhhdmUge3t9fSBpbiBhdHRyc1xuICAgICAgICAgIG9mZnNldCA9IGF0dHIub2Zmc2V0IHx8IDAsXG4gICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSxcbiAgICAgICAgICB3aGVuc0V4cEZucyA9IHt9LFxuICAgICAgICAgIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxuICAgICAgICAgIGJyYWNlUmVwbGFjZW1lbnQgPSBzdGFydFN5bWJvbCArIG51bWJlckV4cCArICctJyArIG9mZnNldCArIGVuZFN5bWJvbCxcbiAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBhbmd1bGFyLm5vb3AsXG4gICAgICAgICAgbGFzdENvdW50O1xuXG4gICAgICBmb3JFYWNoKGF0dHIsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgdmFyIHRtcE1hdGNoID0gSVNfV0hFTi5leGVjKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAodG1wTWF0Y2gpIHtcbiAgICAgICAgICB2YXIgd2hlbktleSA9ICh0bXBNYXRjaFsxXSA/ICctJyA6ICcnKSArIGxvd2VyY2FzZSh0bXBNYXRjaFsyXSk7XG4gICAgICAgICAgd2hlbnNbd2hlbktleV0gPSBlbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9yRWFjaCh3aGVucywgZnVuY3Rpb24oZXhwcmVzc2lvbiwga2V5KSB7XG4gICAgICAgIHdoZW5zRXhwRm5zW2tleV0gPSAkaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLCBicmFjZVJlcGxhY2VtZW50KSk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2gobnVtYmVyRXhwLCBmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUZsb2F0KG5ld1ZhbCk7XG4gICAgICAgIHZhciBjb3VudElzTmFOID0gaXNOYU4oY291bnQpO1xuXG4gICAgICAgIGlmICghY291bnRJc05hTiAmJiAhKGNvdW50IGluIHdoZW5zKSkge1xuICAgICAgICAgIC8vIElmIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIHN1Y2ggYXMgMSwgMiwgMy4uLiBpcyBkZWZpbmVkLCBqdXN0IHVzZSBpdC5cbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGl0IGFnYWluc3QgcGx1cmFsaXphdGlvbiBydWxlcyBpbiAkbG9jYWxlIHNlcnZpY2UuXG4gICAgICAgICAgY291bnQgPSAkbG9jYWxlLnBsdXJhbENhdChjb3VudCAtIG9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBib3RoIGBjb3VudGAgYW5kIGBsYXN0Q291bnRgIGFyZSBOYU4sIHdlIGRvbid0IG5lZWQgdG8gcmUtcmVnaXN0ZXIgYSB3YXRjaC5cbiAgICAgICAgLy8gSW4gSlMgYE5hTiAhPT0gTmFOYCwgc28gd2UgaGF2ZSB0byBleHBsaWNpdGx5IGNoZWNrLlxuICAgICAgICBpZiAoKGNvdW50ICE9PSBsYXN0Q291bnQpICYmICEoY291bnRJc05hTiAmJiBpc051bWJlcihsYXN0Q291bnQpICYmIGlzTmFOKGxhc3RDb3VudCkpKSB7XG4gICAgICAgICAgd2F0Y2hSZW1vdmVyKCk7XG4gICAgICAgICAgdmFyIHdoZW5FeHBGbiA9IHdoZW5zRXhwRm5zW2NvdW50XTtcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQod2hlbkV4cEZuKSkge1xuICAgICAgICAgICAgaWYgKG5ld1ZhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICRsb2cuZGVidWcoXCJuZ1BsdXJhbGl6ZTogbm8gcnVsZSBkZWZpbmVkIGZvciAnXCIgKyBjb3VudCArIFwiJyBpbiBcIiArIHdoZW5FeHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2F0Y2hSZW1vdmVyID0gbm9vcDtcbiAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnRUZXh0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IHNjb3BlLiR3YXRjaCh3aGVuRXhwRm4sIHVwZGF0ZUVsZW1lbnRUZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdENvdW50ID0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50VGV4dChuZXdUZXh0KSB7XG4gICAgICAgIGVsZW1lbnQudGV4dChuZXdUZXh0IHx8ICcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1JlcGVhdFxuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1JlcGVhdGAgZGlyZWN0aXZlIGluc3RhbnRpYXRlcyBhIHRlbXBsYXRlIG9uY2UgcGVyIGl0ZW0gZnJvbSBhIGNvbGxlY3Rpb24uIEVhY2ggdGVtcGxhdGVcbiAqIGluc3RhbmNlIGdldHMgaXRzIG93biBzY29wZSwgd2hlcmUgdGhlIGdpdmVuIGxvb3AgdmFyaWFibGUgaXMgc2V0IHRvIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24gaXRlbSxcbiAqIGFuZCBgJGluZGV4YCBpcyBzZXQgdG8gdGhlIGl0ZW0gaW5kZXggb3Iga2V5LlxuICpcbiAqIFNwZWNpYWwgcHJvcGVydGllcyBhcmUgZXhwb3NlZCBvbiB0aGUgbG9jYWwgc2NvcGUgb2YgZWFjaCB0ZW1wbGF0ZSBpbnN0YW5jZSwgaW5jbHVkaW5nOlxuICpcbiAqIHwgVmFyaWFibGUgIHwgVHlwZSAgICAgICAgICAgIHwgRGV0YWlscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgYCRpbmRleGAgIHwge0B0eXBlIG51bWJlcn0gIHwgaXRlcmF0b3Igb2Zmc2V0IG9mIHRoZSByZXBlYXRlZCBlbGVtZW50ICgwLi5sZW5ndGgtMSkgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCRmaXJzdGAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBmaXJzdCBpbiB0aGUgaXRlcmF0b3IuICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCRtaWRkbGVgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBpbiB0aGUgaXRlcmF0b3IuIHxcbiAqIHwgYCRsYXN0YCAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBsYXN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCRldmVuYCAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgaXRlcmF0b3IgcG9zaXRpb24gYCRpbmRleGAgaXMgZXZlbiAob3RoZXJ3aXNlIGZhbHNlKS4gICAgICAgICAgIHxcbiAqIHwgYCRvZGRgICAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgaXRlcmF0b3IgcG9zaXRpb24gYCRpbmRleGAgaXMgb2RkIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgIHxcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogICBDcmVhdGluZyBhbGlhc2VzIGZvciB0aGVzZSBwcm9wZXJ0aWVzIGlzIHBvc3NpYmxlIHdpdGgge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luaXQgYG5nSW5pdGB9LlxuICogICBUaGlzIG1heSBiZSB1c2VmdWwgd2hlbiwgZm9yIGluc3RhbmNlLCBuZXN0aW5nIG5nUmVwZWF0cy5cbiAqIDwvZGl2PlxuICpcbiAqXG4gKiAjIEl0ZXJhdGluZyBvdmVyIG9iamVjdCBwcm9wZXJ0aWVzXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gZ2V0IGBuZ1JlcGVhdGAgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCB1c2luZyB0aGUgZm9sbG93aW5nXG4gKiBzeW50YXg6XG4gKlxuICogYGBganNcbiAqIDxkaXYgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluIG15T2JqXCI+IC4uLiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEhvd2V2ZXIsIHRoZXJlIGFyZSBhIGxpbWl0YXRpb25zIGNvbXBhcmVkIHRvIGFycmF5IGl0ZXJhdGlvbjpcbiAqXG4gKiAtIFRoZSBKYXZhU2NyaXB0IHNwZWNpZmljYXRpb24gZG9lcyBub3QgZGVmaW5lIHRoZSBvcmRlciBvZiBrZXlzXG4gKiAgIHJldHVybmVkIGZvciBhbiBvYmplY3QsIHNvIEFuZ3VsYXIgcmVsaWVzIG9uIHRoZSBvcmRlciByZXR1cm5lZCBieSB0aGUgYnJvd3NlclxuICogICB3aGVuIHJ1bm5pbmcgYGZvciBrZXkgaW4gbXlPYmpgLiBCcm93c2VycyBnZW5lcmFsbHkgZm9sbG93IHRoZSBzdHJhdGVneSBvZiBwcm92aWRpbmdcbiAqICAga2V5cyBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGRlZmluZWQsIGFsdGhvdWdoIHRoZXJlIGFyZSBleGNlcHRpb25zIHdoZW4ga2V5cyBhcmUgZGVsZXRlZFxuICogICBhbmQgcmVpbnN0YXRlZC4gU2VlIHRoZVxuICogICBbTUROIHBhZ2Ugb24gYGRlbGV0ZWAgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZSNDcm9zcy1icm93c2VyX25vdGVzKS5cbiAqXG4gKiAtIGBuZ1JlcGVhdGAgd2lsbCBzaWxlbnRseSAqaWdub3JlKiBvYmplY3Qga2V5cyBzdGFydGluZyB3aXRoIGAkYCwgYmVjYXVzZVxuICogICBpdCdzIGEgcHJlZml4IHVzZWQgYnkgQW5ndWxhciBmb3IgcHVibGljIChgJGApIGFuZCBwcml2YXRlIChgJCRgKSBwcm9wZXJ0aWVzLlxuICpcbiAqIC0gVGhlIGJ1aWx0LWluIGZpbHRlcnMge0BsaW5rIG5nLm9yZGVyQnkgb3JkZXJCeX0gYW5kIHtAbGluayBuZy5maWx0ZXIgZmlsdGVyfSBkbyBub3Qgd29yayB3aXRoXG4gKiAgIG9iamVjdHMsIGFuZCB3aWxsIHRocm93IGFuIGVycm9yIGlmIHVzZWQgd2l0aCBvbmUuXG4gKlxuICogSWYgeW91IGFyZSBoaXR0aW5nIGFueSBvZiB0aGVzZSBsaW1pdGF0aW9ucywgdGhlIHJlY29tbWVuZGVkIHdvcmthcm91bmQgaXMgdG8gY29udmVydCB5b3VyIG9iamVjdCBpbnRvIGFuIGFycmF5XG4gKiB0aGF0IGlzIHNvcnRlZCBpbnRvIHRoZSBvcmRlciB0aGF0IHlvdSBwcmVmZXIgYmVmb3JlIHByb3ZpZGluZyBpdCB0byBgbmdSZXBlYXRgLiBZb3UgY291bGRcbiAqIGRvIHRoaXMgd2l0aCBhIGZpbHRlciBzdWNoIGFzIFt0b0FycmF5RmlsdGVyXShodHRwOi8vbmdtb2R1bGVzLm9yZy9tb2R1bGVzL2FuZ3VsYXItdG9BcnJheUZpbHRlcilcbiAqIG9yIGltcGxlbWVudCBhIGAkd2F0Y2hgIG9uIHRoZSBvYmplY3QgeW91cnNlbGYuXG4gKlxuICpcbiAqICMgVHJhY2tpbmcgYW5kIER1cGxpY2F0ZXNcbiAqXG4gKiBgbmdSZXBlYXRgIHVzZXMge0BsaW5rICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvbiAkd2F0Y2hDb2xsZWN0aW9ufSB0byBkZXRlY3QgY2hhbmdlcyBpblxuICogdGhlIGNvbGxlY3Rpb24uIFdoZW4gYSBjaGFuZ2UgaGFwcGVucywgbmdSZXBlYXQgdGhlbiBtYWtlcyB0aGUgY29ycmVzcG9uZGluZyBjaGFuZ2VzIHRvIHRoZSBET006XG4gKlxuICogKiBXaGVuIGFuIGl0ZW0gaXMgYWRkZWQsIGEgbmV3IGluc3RhbmNlIG9mIHRoZSB0ZW1wbGF0ZSBpcyBhZGRlZCB0byB0aGUgRE9NLlxuICogKiBXaGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCwgaXRzIHRlbXBsYXRlIGluc3RhbmNlIGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICogKiBXaGVuIGl0ZW1zIGFyZSByZW9yZGVyZWQsIHRoZWlyIHJlc3BlY3RpdmUgdGVtcGxhdGVzIGFyZSByZW9yZGVyZWQgaW4gdGhlIERPTS5cbiAqXG4gKiBUbyBtaW5pbWl6ZSBjcmVhdGlvbiBvZiBET00gZWxlbWVudHMsIGBuZ1JlcGVhdGAgdXNlcyBhIGZ1bmN0aW9uXG4gKiB0byBcImtlZXAgdHJhY2tcIiBvZiBhbGwgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb24gYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnRzLlxuICogRm9yIGV4YW1wbGUsIGlmIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGNvbGxlY3Rpb24sIG5nUmVwZWF0IHdpbGwga25vdyB0aGF0IGFsbCBvdGhlciBpdGVtc1xuICogYWxyZWFkeSBoYXZlIERPTSBlbGVtZW50cywgYW5kIHdpbGwgbm90IHJlLXJlbmRlciB0aGVtLlxuICpcbiAqIFRoZSBkZWZhdWx0IHRyYWNraW5nIGZ1bmN0aW9uICh3aGljaCB0cmFja3MgaXRlbXMgYnkgdGhlaXIgaWRlbnRpdHkpIGRvZXMgbm90IGFsbG93XG4gKiBkdXBsaWNhdGUgaXRlbXMgaW4gYXJyYXlzLiBUaGlzIGlzIGJlY2F1c2Ugd2hlbiB0aGVyZSBhcmUgZHVwbGljYXRlcywgaXQgaXMgbm90IHBvc3NpYmxlXG4gKiB0byBtYWludGFpbiBhIG9uZS10by1vbmUgbWFwcGluZyBiZXR3ZWVuIGNvbGxlY3Rpb24gaXRlbXMgYW5kIERPTSBlbGVtZW50cy5cbiAqXG4gKiBJZiB5b3UgZG8gbmVlZCB0byByZXBlYXQgZHVwbGljYXRlIGl0ZW1zLCB5b3UgY2FuIHN1YnN0aXR1dGUgdGhlIGRlZmF1bHQgdHJhY2tpbmcgYmVoYXZpb3JcbiAqIHdpdGggeW91ciBvd24gdXNpbmcgdGhlIGB0cmFjayBieWAgZXhwcmVzc2lvbi5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgeW91IG1heSB0cmFjayBpdGVtcyBieSB0aGUgaW5kZXggb2YgZWFjaCBpdGVtIGluIHRoZSBjb2xsZWN0aW9uLCB1c2luZyB0aGVcbiAqIHNwZWNpYWwgc2NvcGUgcHJvcGVydHkgYCRpbmRleGA6XG4gKiBgYGBodG1sXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm4gaW4gWzQyLCA0MiwgNDMsIDQzXSB0cmFjayBieSAkaW5kZXhcIj5cbiAqICAgICAge3tufX1cbiAqICAgIDwvZGl2PlxuICogYGBgXG4gKlxuICogWW91IG1heSBhbHNvIHVzZSBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgaW4gYHRyYWNrIGJ5YCwgaW5jbHVkaW5nIHJlZmVyZW5jZXMgdG8gY3VzdG9tIGZ1bmN0aW9uc1xuICogb24gdGhlIHNjb3BlOlxuICogYGBgaHRtbFxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJuIGluIFs0MiwgNDIsIDQzLCA0M10gdHJhY2sgYnkgbXlUcmFja2luZ0Z1bmN0aW9uKG4pXCI+XG4gKiAgICAgIHt7bn19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gKiBJZiB5b3UgYXJlIHdvcmtpbmcgd2l0aCBvYmplY3RzIHRoYXQgaGF2ZSBhbiBpZGVudGlmaWVyIHByb3BlcnR5LCB5b3Ugc2hvdWxkIHRyYWNrXG4gKiBieSB0aGUgaWRlbnRpZmllciBpbnN0ZWFkIG9mIHRoZSB3aG9sZSBvYmplY3QuIFNob3VsZCB5b3UgcmVsb2FkIHlvdXIgZGF0YSBsYXRlciwgYG5nUmVwZWF0YFxuICogd2lsbCBub3QgaGF2ZSB0byByZWJ1aWxkIHRoZSBET00gZWxlbWVudHMgZm9yIGl0ZW1zIGl0IGhhcyBhbHJlYWR5IHJlbmRlcmVkLCBldmVuIGlmIHRoZVxuICogSmF2YVNjcmlwdCBvYmplY3RzIGluIHRoZSBjb2xsZWN0aW9uIGhhdmUgYmVlbiBzdWJzdGl0dXRlZCBmb3IgbmV3IG9uZXMuIEZvciBsYXJnZSBjb2xsZWN0aW9ucyxcbiAqIHRoaXMgc2lnbmlmaWNhbnRseSBpbXByb3ZlcyByZW5kZXJpbmcgcGVyZm9ybWFuY2UuIElmIHlvdSBkb24ndCBoYXZlIGEgdW5pcXVlIGlkZW50aWZpZXIsXG4gKiBgdHJhY2sgYnkgJGluZGV4YCBjYW4gYWxzbyBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYm9vc3QuXG4gKiA8L2Rpdj5cbiAqIGBgYGh0bWxcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibW9kZWwgaW4gY29sbGVjdGlvbiB0cmFjayBieSBtb2RlbC5pZFwiPlxuICogICAgICB7e21vZGVsLm5hbWV9fVxuICogICAgPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIG5vIGB0cmFjayBieWAgZXhwcmVzc2lvbiBpcyBwcm92aWRlZCwgaXQgaXMgZXF1aXZhbGVudCB0byB0cmFja2luZyBieSB0aGUgYnVpbHQtaW5cbiAqIGAkaWRgIGZ1bmN0aW9uLCB3aGljaCB0cmFja3MgaXRlbXMgYnkgdGhlaXIgaWRlbnRpdHk6XG4gKiBgYGBodG1sXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm9iaiBpbiBjb2xsZWN0aW9uIHRyYWNrIGJ5ICRpZChvYmopXCI+XG4gKiAgICAgIHt7b2JqLnByb3B9fVxuICogICAgPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIGB0cmFjayBieWAgbXVzdCBhbHdheXMgYmUgdGhlIGxhc3QgZXhwcmVzc2lvbjpcbiAqIDwvZGl2PlxuICogYGBgXG4gKiA8ZGl2IG5nLXJlcGVhdD1cIm1vZGVsIGluIGNvbGxlY3Rpb24gfCBvcmRlckJ5OiAnaWQnIGFzIGZpbHRlcmVkX3Jlc3VsdCB0cmFjayBieSBtb2RlbC5pZFwiPlxuICogICAgIHt7bW9kZWwubmFtZX19XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqICMgU3BlY2lhbCByZXBlYXQgc3RhcnQgYW5kIGVuZCBwb2ludHNcbiAqIFRvIHJlcGVhdCBhIHNlcmllcyBvZiBlbGVtZW50cyBpbnN0ZWFkIG9mIGp1c3Qgb25lIHBhcmVudCBlbGVtZW50LCBuZ1JlcGVhdCAoYXMgd2VsbCBhcyBvdGhlciBuZyBkaXJlY3RpdmVzKSBzdXBwb3J0cyBleHRlbmRpbmdcbiAqIHRoZSByYW5nZSBvZiB0aGUgcmVwZWF0ZXIgYnkgZGVmaW5pbmcgZXhwbGljaXQgc3RhcnQgYW5kIGVuZCBwb2ludHMgYnkgdXNpbmcgKipuZy1yZXBlYXQtc3RhcnQqKiBhbmQgKipuZy1yZXBlYXQtZW5kKiogcmVzcGVjdGl2ZWx5LlxuICogVGhlICoqbmctcmVwZWF0LXN0YXJ0KiogZGlyZWN0aXZlIHdvcmtzIHRoZSBzYW1lIGFzICoqbmctcmVwZWF0KiosIGJ1dCB3aWxsIHJlcGVhdCBhbGwgdGhlIEhUTUwgY29kZSAoaW5jbHVkaW5nIHRoZSB0YWcgaXQncyBkZWZpbmVkIG9uKVxuICogdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgZW5kaW5nIEhUTUwgdGFnIHdoZXJlICoqbmctcmVwZWF0LWVuZCoqIGlzIHBsYWNlZC5cbiAqXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyBtYWtlcyB1c2Ugb2YgdGhpcyBmZWF0dXJlOlxuICogYGBgaHRtbFxuICogICA8aGVhZGVyIG5nLXJlcGVhdC1zdGFydD1cIml0ZW0gaW4gaXRlbXNcIj5cbiAqICAgICBIZWFkZXIge3sgaXRlbSB9fVxuICogICA8L2hlYWRlcj5cbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAqICAgICBCb2R5IHt7IGl0ZW0gfX1cbiAqICAgPC9kaXY+XG4gKiAgIDxmb290ZXIgbmctcmVwZWF0LWVuZD5cbiAqICAgICBGb290ZXIge3sgaXRlbSB9fVxuICogICA8L2Zvb3Rlcj5cbiAqIGBgYFxuICpcbiAqIEFuZCB3aXRoIGFuIGlucHV0IG9mIHtAdHlwZSBbJ0EnLCdCJ119IGZvciB0aGUgaXRlbXMgdmFyaWFibGUgaW4gdGhlIGV4YW1wbGUgYWJvdmUsIHRoZSBvdXRwdXQgd2lsbCBldmFsdWF0ZSB0bzpcbiAqIGBgYGh0bWxcbiAqICAgPGhlYWRlcj5cbiAqICAgICBIZWFkZXIgQVxuICogICA8L2hlYWRlcj5cbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAqICAgICBCb2R5IEFcbiAqICAgPC9kaXY+XG4gKiAgIDxmb290ZXI+XG4gKiAgICAgRm9vdGVyIEFcbiAqICAgPC9mb290ZXI+XG4gKiAgIDxoZWFkZXI+XG4gKiAgICAgSGVhZGVyIEJcbiAqICAgPC9oZWFkZXI+XG4gKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XG4gKiAgICAgQm9keSBCXG4gKiAgIDwvZGl2PlxuICogICA8Zm9vdGVyPlxuICogICAgIEZvb3RlciBCXG4gKiAgIDwvZm9vdGVyPlxuICogYGBgXG4gKlxuICogVGhlIGN1c3RvbSBzdGFydCBhbmQgZW5kIHBvaW50cyBmb3IgbmdSZXBlYXQgYWxzbyBzdXBwb3J0IGFsbCBvdGhlciBIVE1MIGRpcmVjdGl2ZSBzeW50YXggZmxhdm9ycyBwcm92aWRlZCBpbiBBbmd1bGFySlMgKHN1Y2hcbiAqIGFzICoqZGF0YS1uZy1yZXBlYXQtc3RhcnQqKiwgKip4LW5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nOnJlcGVhdC1zdGFydCoqKS5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gfCB3aGVuIGEgbmV3IGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIHJldmVhbGVkIGFmdGVyIGEgZmlsdGVyIHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSB8IHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIGZpbHRlcmVkIG91dCB8XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNtb3ZlIG1vdmUgfSB8IHdoZW4gYW4gYWRqYWNlbnQgaXRlbSBpcyBmaWx0ZXJlZCBvdXQgY2F1c2luZyBhIHJlb3JkZXIgb3Igd2hlbiB0aGUgaXRlbSBjb250ZW50cyBhcmUgcmVvcmRlcmVkIHxcbiAqXG4gKiBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIGRlZmluaW5nIENTUyBhbmltYXRpb25zIHdpdGggbmdSZXBlYXQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSAxMDAwXG4gKiBAcGFyYW0ge3JlcGVhdF9leHByZXNzaW9ufSBuZ1JlcGVhdCBUaGUgZXhwcmVzc2lvbiBpbmRpY2F0aW5nIGhvdyB0byBlbnVtZXJhdGUgYSBjb2xsZWN0aW9uLiBUaGVzZVxuICogICBmb3JtYXRzIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkOlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIHZhcmlhYmxlIGlzIHRoZSB1c2VyIGRlZmluZWQgbG9vcCB2YXJpYWJsZSBhbmQgYGV4cHJlc3Npb25gXG4gKiAgICAgaXMgYSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgYWxidW0gaW4gYXJ0aXN0LmFsYnVtc2AuXG4gKlxuICogICAqIGAoa2V5LCB2YWx1ZSkgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIGBrZXlgIGFuZCBgdmFsdWVgIGNhbiBiZSBhbnkgdXNlciBkZWZpbmVkIGlkZW50aWZpZXJzLFxuICogICAgIGFuZCBgZXhwcmVzc2lvbmAgaXMgdGhlIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGAobmFtZSwgYWdlKSBpbiB7J2FkYW0nOjEwLCAnYW1hbGllJzoxMn1gLlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiB0cmFjayBieSB0cmFja2luZ19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgdHJhY2tpbmcgZXhwcmVzc2lvblxuICogICAgIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGFzc29jaWF0ZSB0aGUgb2JqZWN0cyBpbiB0aGUgY29sbGVjdGlvbiB3aXRoIHRoZSBET00gZWxlbWVudHMuIElmIG5vIHRyYWNraW5nIGV4cHJlc3Npb25cbiAqICAgICBpcyBzcGVjaWZpZWQsIG5nLXJlcGVhdCBhc3NvY2lhdGVzIGVsZW1lbnRzIGJ5IGlkZW50aXR5LiBJdCBpcyBhbiBlcnJvciB0byBoYXZlXG4gKiAgICAgbW9yZSB0aGFuIG9uZSB0cmFja2luZyBleHByZXNzaW9uIHZhbHVlIHJlc29sdmUgdG8gdGhlIHNhbWUga2V5LiAoVGhpcyB3b3VsZCBtZWFuIHRoYXQgdHdvIGRpc3RpbmN0IG9iamVjdHMgYXJlXG4gKiAgICAgbWFwcGVkIHRvIHRoZSBzYW1lIERPTSBlbGVtZW50LCB3aGljaCBpcyBub3QgcG9zc2libGUuKVxuICpcbiAqICAgICBOb3RlIHRoYXQgdGhlIHRyYWNraW5nIGV4cHJlc3Npb24gbXVzdCBjb21lIGxhc3QsIGFmdGVyIGFueSBmaWx0ZXJzLCBhbmQgdGhlIGFsaWFzIGV4cHJlc3Npb24uXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtc2AgaXMgZXF1aXZhbGVudCB0byBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgRE9NIGVsZW1lbnRzXG4gKiAgICAgd2lsbCBiZSBhc3NvY2lhdGVkIGJ5IGl0ZW0gaWRlbnRpdHkgaW4gdGhlIGFycmF5LlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gQSBidWlsdCBpbiBgJGlkKClgIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGFzc2lnbiBhIHVuaXF1ZVxuICogICAgIGAkJGhhc2hLZXlgIHByb3BlcnR5IHRvIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuIFRoaXMgcHJvcGVydHkgaXMgdGhlbiB1c2VkIGFzIGEga2V5IHRvIGFzc29jaWF0ZWQgRE9NIGVsZW1lbnRzXG4gKiAgICAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBhcnJheSBieSBpZGVudGl0eS4gTW92aW5nIHRoZSBzYW1lIG9iamVjdCBpbiBhcnJheSB3b3VsZCBtb3ZlIHRoZSBET01cbiAqICAgICBlbGVtZW50IGluIHRoZSBzYW1lIHdheSBpbiB0aGUgRE9NLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSB0eXBpY2FsIHBhdHRlcm4gd2hlbiB0aGUgaXRlbXMgY29tZSBmcm9tIHRoZSBkYXRhYmFzZS4gSW4gdGhpc1xuICogICAgIGNhc2UgdGhlIG9iamVjdCBpZGVudGl0eSBkb2VzIG5vdCBtYXR0ZXIuIFR3byBvYmplY3RzIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnQgYXMgbG9uZyBhcyB0aGVpciBgaWRgXG4gKiAgICAgcHJvcGVydHkgaXMgc2FtZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnNlYXJjaFRleHQgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSBwYXR0ZXJuIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBhcHBseSBhIGZpbHRlclxuICogICAgIHRvIGl0ZW1zIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0cmFja2luZyBleHByZXNzaW9uLlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiBhcyBhbGlhc19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYWxpYXMgZXhwcmVzc2lvbiB3aGljaCB3aWxsIHRoZW4gc3RvcmUgdGhlXG4gKiAgICAgaW50ZXJtZWRpYXRlIHJlc3VsdHMgb2YgdGhlIHJlcGVhdGVyIGFmdGVyIHRoZSBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkLiBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIHJlbmRlciBhIHNwZWNpYWwgbWVzc2FnZVxuICogICAgIHdoZW4gYSBmaWx0ZXIgaXMgYWN0aXZlIG9uIHRoZSByZXBlYXRlciwgYnV0IHRoZSBmaWx0ZXJlZCByZXN1bHQgc2V0IGlzIGVtcHR5LlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6eCBhcyByZXN1bHRzYCB3aWxsIHN0b3JlIHRoZSBmcmFnbWVudCBvZiB0aGUgcmVwZWF0ZWQgaXRlbXMgYXMgYHJlc3VsdHNgLCBidXQgb25seSBhZnRlclxuICogICAgIHRoZSBpdGVtcyBoYXZlIGJlZW4gcHJvY2Vzc2VkIHRocm91Z2ggdGhlIGZpbHRlci5cbiAqXG4gKiAgICAgUGxlYXNlIG5vdGUgdGhhdCBgYXMgW3ZhcmlhYmxlIG5hbWVdIGlzIG5vdCBhbiBvcGVyYXRvciBidXQgcmF0aGVyIGEgcGFydCBvZiBuZ1JlcGVhdCBtaWNyby1zeW50YXggc28gaXQgY2FuIGJlIHVzZWQgb25seSBhdCB0aGUgZW5kXG4gKiAgICAgKGFuZCBub3QgYXMgb3BlcmF0b3IsIGluc2lkZSBhbiBleHByZXNzaW9uKS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyIDogeCB8IG9yZGVyQnkgOiBvcmRlciB8IGxpbWl0VG8gOiBsaW1pdCBhcyByZXN1bHRzYCAuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSB1c2VzIGBuZ1JlcGVhdGAgdG8gZGlzcGxheSBhIGxpc3Qgb2YgcGVvcGxlLiBBIGZpbHRlciBpcyB1c2VkIHRvIHJlc3RyaWN0IHRoZSBkaXNwbGF5ZWRcbiAqIHJlc3VsdHMgYnkgbmFtZS4gTmV3IChlbnRlcmluZykgYW5kIHJlbW92ZWQgKGxlYXZpbmcpIGl0ZW1zIGFyZSBhbmltYXRlZC5cbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdSZXBlYXRcIiBuYW1lPVwibmdSZXBlYXRcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwicmVwZWF0Q29udHJvbGxlclwiPlxuICAgICAgICBJIGhhdmUge3tmcmllbmRzLmxlbmd0aH19IGZyaWVuZHMuIFRoZXkgYXJlOlxuICAgICAgICA8aW5wdXQgdHlwZT1cInNlYXJjaFwiIG5nLW1vZGVsPVwicVwiIHBsYWNlaG9sZGVyPVwiZmlsdGVyIGZyaWVuZHMuLi5cIiBhcmlhLWxhYmVsPVwiZmlsdGVyIGZyaWVuZHNcIiAvPlxuICAgICAgICA8dWwgY2xhc3M9XCJleGFtcGxlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IGZpbHRlcjpxIGFzIHJlc3VsdHNcIj5cbiAgICAgICAgICAgIFt7eyRpbmRleCArIDF9fV0ge3tmcmllbmQubmFtZX19IHdobyBpcyB7e2ZyaWVuZC5hZ2V9fSB5ZWFycyBvbGQuXG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGkgY2xhc3M9XCJhbmltYXRlLXJlcGVhdFwiIG5nLWlmPVwicmVzdWx0cy5sZW5ndGggPT0gMFwiPlxuICAgICAgICAgICAgPHN0cm9uZz5ObyByZXN1bHRzIGZvdW5kLi4uPC9zdHJvbmc+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdSZXBlYXQnLCBbJ25nQW5pbWF0ZSddKS5jb250cm9sbGVyKCdyZXBlYXRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5mcmllbmRzID0gW1xuICAgICAgICAgIHtuYW1lOidKb2huJywgYWdlOjI1LCBnZW5kZXI6J2JveSd9LFxuICAgICAgICAgIHtuYW1lOidKZXNzaWUnLCBhZ2U6MzAsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICAgIHtuYW1lOidKb2hhbm5hJywgYWdlOjI4LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAgICB7bmFtZTonSm95JywgYWdlOjE1LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAgICB7bmFtZTonTWFyeScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgICAge25hbWU6J1BldGVyJywgYWdlOjk1LCBnZW5kZXI6J2JveSd9LFxuICAgICAgICAgIHtuYW1lOidTZWJhc3RpYW4nLCBhZ2U6NTAsIGdlbmRlcjonYm95J30sXG4gICAgICAgICAge25hbWU6J0VyaWthJywgYWdlOjI3LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAgICB7bmFtZTonUGF0cmljaycsIGFnZTo0MCwgZ2VuZGVyOidib3knfSxcbiAgICAgICAgICB7bmFtZTonU2FtYW50aGEnLCBhZ2U6NjAsIGdlbmRlcjonZ2lybCd9XG4gICAgICAgIF07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGxpc3Qtc3R5bGU6bm9uZTtcbiAgICAgICAgbWFyZ2luOjA7XG4gICAgICAgIHBhZGRpbmc6MCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQge1xuICAgICAgICBsaW5lLWhlaWdodDozMHB4O1xuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XG4gICAgICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUge1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyIHtcbiAgICAgICAgb3BhY2l0eTowO1xuICAgICAgICBtYXgtaGVpZ2h0OjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLm5nLW1vdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6MTtcbiAgICAgICAgbWF4LWhlaWdodDozMHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgZnJpZW5kcyA9IGVsZW1lbnQuYWxsKGJ5LnJlcGVhdGVyKCdmcmllbmQgaW4gZnJpZW5kcycpKTtcblxuICAgICAgaXQoJ3Nob3VsZCByZW5kZXIgaW5pdGlhbCBkYXRhIHNldCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDEwKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIEpvaG4gd2hvIGlzIDI1IHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDEpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIEplc3NpZSB3aG8gaXMgMzAgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5sYXN0KCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMTBdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2ZyaWVuZHMubGVuZ3RoJykpLmdldFRleHQoKSlcbiAgICAgICAgICAgIC50b01hdGNoKFwiSSBoYXZlIDEwIGZyaWVuZHMuIFRoZXkgYXJlOlwiKTtcbiAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgcmVwZWF0ZXIgd2hlbiBmaWx0ZXIgcHJlZGljYXRlIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xuXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdxJykpLnNlbmRLZXlzKCdtYScpO1xuXG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDIpO1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIE1hcnkgd2hvIGlzIDI4IHllYXJzIG9sZC4nKTtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpO1xuICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUmVwZWF0RGlyZWN0aXZlID0gWyckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkcGFyc2UsICRhbmltYXRlLCAkY29tcGlsZSkge1xuICB2YXIgTkdfUkVNT1ZFRCA9ICckJE5HX1JFTU9WRUQnO1xuICB2YXIgbmdSZXBlYXRNaW5FcnIgPSBtaW5FcnIoJ25nUmVwZWF0Jyk7XG5cbiAgdmFyIHVwZGF0ZVNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGFycmF5TGVuZ3RoKSB7XG4gICAgLy8gVE9ETyhwZXJmKTogZ2VuZXJhdGUgc2V0dGVycyB0byBzaGF2ZSBvZmYgfjQwbXMgb3IgMS0xLjUlXG4gICAgc2NvcGVbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgIGlmIChrZXlJZGVudGlmaWVyKSBzY29wZVtrZXlJZGVudGlmaWVyXSA9IGtleTtcbiAgICBzY29wZS4kaW5kZXggPSBpbmRleDtcbiAgICBzY29wZS4kZmlyc3QgPSAoaW5kZXggPT09IDApO1xuICAgIHNjb3BlLiRsYXN0ID0gKGluZGV4ID09PSAoYXJyYXlMZW5ndGggLSAxKSk7XG4gICAgc2NvcGUuJG1pZGRsZSA9ICEoc2NvcGUuJGZpcnN0IHx8IHNjb3BlLiRsYXN0KTtcbiAgICAvLyBqc2hpbnQgYml0d2lzZTogZmFsc2VcbiAgICBzY29wZS4kb2RkID0gIShzY29wZS4kZXZlbiA9IChpbmRleCYxKSA9PT0gMCk7XG4gICAgLy8ganNoaW50IGJpdHdpc2U6IHRydWVcbiAgfTtcblxuICB2YXIgZ2V0QmxvY2tTdGFydCA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIGJsb2NrLmNsb25lWzBdO1xuICB9O1xuXG4gIHZhciBnZXRCbG9ja0VuZCA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIGJsb2NrLmNsb25lW2Jsb2NrLmNsb25lLmxlbmd0aCAtIDFdO1xuICB9O1xuXG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDEwMDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgJCR0bGI6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdSZXBlYXRDb21waWxlKCRlbGVtZW50LCAkYXR0cikge1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSAkYXR0ci5uZ1JlcGVhdDtcbiAgICAgIHZhciBuZ1JlcGVhdEVuZENvbW1lbnQgPSAkY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQoJ2VuZCBuZ1JlcGVhdCcsIGV4cHJlc3Npb24pO1xuXG4gICAgICB2YXIgbWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKC9eXFxzKihbXFxzXFxTXSs/KVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMqJC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpZXhwJywgXCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9bIHRyYWNrIGJ5IF9pZF9dJyBidXQgZ290ICd7MH0nLlwiLFxuICAgICAgICAgICAgZXhwcmVzc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaHMgPSBtYXRjaFsxXTtcbiAgICAgIHZhciByaHMgPSBtYXRjaFsyXTtcbiAgICAgIHZhciBhbGlhc0FzID0gbWF0Y2hbM107XG4gICAgICB2YXIgdHJhY2tCeUV4cCA9IG1hdGNoWzRdO1xuXG4gICAgICBtYXRjaCA9IGxocy5tYXRjaCgvXig/OihcXHMqW1xcJFxcd10rKXxcXChcXHMqKFtcXCRcXHddKylcXHMqLFxccyooW1xcJFxcd10rKVxccypcXCkpJC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpaWRleHAnLCBcIidfaXRlbV8nIGluICdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fJyBzaG91bGQgYmUgYW4gaWRlbnRpZmllciBvciAnKF9rZXlfLCBfdmFsdWVfKScgZXhwcmVzc2lvbiwgYnV0IGdvdCAnezB9Jy5cIixcbiAgICAgICAgICAgIGxocyk7XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWVJZGVudGlmaWVyID0gbWF0Y2hbM10gfHwgbWF0Y2hbMV07XG4gICAgICB2YXIga2V5SWRlbnRpZmllciA9IG1hdGNoWzJdO1xuXG4gICAgICBpZiAoYWxpYXNBcyAmJiAoIS9eWyRhLXpBLVpfXVskYS16QS1aMC05X10qJC8udGVzdChhbGlhc0FzKSB8fFxuICAgICAgICAgIC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50fFxcJHJvb3R8XFwkaWQpJC8udGVzdChhbGlhc0FzKSkpIHtcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2JhZGlkZW50JywgXCJhbGlhcyAnezB9JyBpcyBpbnZhbGlkIC0tLSBtdXN0IGJlIGEgdmFsaWQgSlMgaWRlbnRpZmllciB3aGljaCBpcyBub3QgYSByZXNlcnZlZCBuYW1lLlwiLFxuICAgICAgICAgIGFsaWFzQXMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJhY2tCeUV4cEdldHRlciwgdHJhY2tCeUlkRXhwRm4sIHRyYWNrQnlJZEFycmF5Rm4sIHRyYWNrQnlJZE9iakZuO1xuICAgICAgdmFyIGhhc2hGbkxvY2FscyA9IHskaWQ6IGhhc2hLZXl9O1xuXG4gICAgICBpZiAodHJhY2tCeUV4cCkge1xuICAgICAgICB0cmFja0J5RXhwR2V0dGVyID0gJHBhcnNlKHRyYWNrQnlFeHApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhY2tCeUlkQXJyYXlGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gaGFzaEtleSh2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyYWNrQnlJZE9iakZuID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nUmVwZWF0TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcblxuICAgICAgICBpZiAodHJhY2tCeUV4cEdldHRlcikge1xuICAgICAgICAgIHRyYWNrQnlJZEV4cEZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGFzc2lnbiBrZXksIHZhbHVlLCBhbmQgJGluZGV4IHRvIHRoZSBsb2NhbHMgc28gdGhhdCB0aGV5IGNhbiBiZSB1c2VkIGluIGhhc2ggZnVuY3Rpb25zXG4gICAgICAgICAgICBpZiAoa2V5SWRlbnRpZmllcikgaGFzaEZuTG9jYWxzW2tleUlkZW50aWZpZXJdID0ga2V5O1xuICAgICAgICAgICAgaGFzaEZuTG9jYWxzW3ZhbHVlSWRlbnRpZmllcl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fscy4kaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHJldHVybiB0cmFja0J5RXhwR2V0dGVyKCRzY29wZSwgaGFzaEZuTG9jYWxzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgYSBsaXN0IG9mIGVsZW1lbnRzIGZyb20gcHJldmlvdXMgcnVuLiBUaGlzIGlzIGEgaGFzaCB3aGVyZSBrZXkgaXMgdGhlIGl0ZW0gZnJvbSB0aGVcbiAgICAgICAgLy8gaXRlcmF0b3IsIGFuZCB0aGUgdmFsdWUgaXMgb2JqZWN0cyB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzLlxuICAgICAgICAvLyAgIC0gc2NvcGU6IGJvdW5kIHNjb3BlXG4gICAgICAgIC8vICAgLSBlbGVtZW50OiBwcmV2aW91cyBlbGVtZW50LlxuICAgICAgICAvLyAgIC0gaW5kZXg6IHBvc2l0aW9uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGFyZSB1c2luZyBuby1wcm90byBvYmplY3Qgc28gdGhhdCB3ZSBkb24ndCBuZWVkIHRvIGd1YXJkIGFnYWluc3QgaW5oZXJpdGVkIHByb3BzIHZpYVxuICAgICAgICAvLyBoYXNPd25Qcm9wZXJ0eS5cbiAgICAgICAgdmFyIGxhc3RCbG9ja01hcCA9IGNyZWF0ZU1hcCgpO1xuXG4gICAgICAgIC8vd2F0Y2ggcHJvcHNcbiAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24ocmhzLCBmdW5jdGlvbiBuZ1JlcGVhdEFjdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgdmFyIGluZGV4LCBsZW5ndGgsXG4gICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9ICRlbGVtZW50WzBdLCAgICAgLy8gbm9kZSB0aGF0IGNsb25lZCBub2RlcyBzaG91bGQgYmUgaW5zZXJ0ZWQgYWZ0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplZCB0byB0aGUgY29tbWVudCBub2RlIGFuY2hvclxuICAgICAgICAgICAgICBuZXh0Tm9kZSxcbiAgICAgICAgICAgICAgLy8gU2FtZSBhcyBsYXN0QmxvY2tNYXAgYnV0IGl0IGhhcyB0aGUgY3VycmVudCBzdGF0ZS4gSXQgd2lsbCBiZWNvbWUgdGhlXG4gICAgICAgICAgICAgIC8vIGxhc3RCbG9ja01hcCBvbiB0aGUgbmV4dCBpdGVyYXRpb24uXG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcCA9IGNyZWF0ZU1hcCgpLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uTGVuZ3RoLFxuICAgICAgICAgICAgICBrZXksIHZhbHVlLCAvLyBrZXkvdmFsdWUgb2YgaXRlcmF0aW9uXG4gICAgICAgICAgICAgIHRyYWNrQnlJZCxcbiAgICAgICAgICAgICAgdHJhY2tCeUlkRm4sXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzLFxuICAgICAgICAgICAgICBibG9jaywgICAgICAgLy8gbGFzdCBvYmplY3QgaW5mb3JtYXRpb24ge3Njb3BlLCBlbGVtZW50LCBpZH1cbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXIsXG4gICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmU7XG5cbiAgICAgICAgICBpZiAoYWxpYXNBcykge1xuICAgICAgICAgICAgJHNjb3BlW2FsaWFzQXNdID0gY29sbGVjdGlvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzID0gY29sbGVjdGlvbjtcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkQXJyYXlGbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRPYmpGbjtcbiAgICAgICAgICAgIC8vIGlmIG9iamVjdCwgZXh0cmFjdCBrZXlzLCBpbiBlbnVtZXJhdGlvbiBvcmRlciwgdW5zb3J0ZWRcbiAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29sbGVjdGlvbiwgaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT09ICckJykge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzLnB1c2goaXRlbUtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb2xsZWN0aW9uTGVuZ3RoID0gY29sbGVjdGlvbktleXMubGVuZ3RoO1xuICAgICAgICAgIG5leHRCbG9ja09yZGVyID0gbmV3IEFycmF5KGNvbGxlY3Rpb25MZW5ndGgpO1xuXG4gICAgICAgICAgLy8gbG9jYXRlIGV4aXN0aW5nIGl0ZW1zXG4gICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29sbGVjdGlvbkxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAga2V5ID0gKGNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb25LZXlzKSA/IGluZGV4IDogY29sbGVjdGlvbktleXNbaW5kZXhdO1xuICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XG4gICAgICAgICAgICB0cmFja0J5SWQgPSB0cmFja0J5SWRGbihrZXksIHZhbHVlLCBpbmRleCk7XG4gICAgICAgICAgICBpZiAobGFzdEJsb2NrTWFwW3RyYWNrQnlJZF0pIHtcbiAgICAgICAgICAgICAgLy8gZm91bmQgcHJldmlvdXNseSBzZWVuIGJsb2NrXG4gICAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF07XG4gICAgICAgICAgICAgIGRlbGV0ZSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSBibG9jaztcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRCbG9ja01hcFt0cmFja0J5SWRdKSB7XG4gICAgICAgICAgICAgIC8vIGlmIGNvbGxpc2lvbiBkZXRlY3RlZC4gcmVzdG9yZSBsYXN0QmxvY2tNYXAgYW5kIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICAgIGZvckVhY2gobmV4dEJsb2NrT3JkZXIsIGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLnNjb3BlKSBsYXN0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignZHVwZXMnLFxuICAgICAgICAgICAgICAgICAgXCJEdXBsaWNhdGVzIGluIGEgcmVwZWF0ZXIgYXJlIG5vdCBhbGxvd2VkLiBVc2UgJ3RyYWNrIGJ5JyBleHByZXNzaW9uIHRvIHNwZWNpZnkgdW5pcXVlIGtleXMuIFJlcGVhdGVyOiB7MH0sIER1cGxpY2F0ZSBrZXk6IHsxfSwgRHVwbGljYXRlIHZhbHVlOiB7Mn1cIixcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24sIHRyYWNrQnlJZCwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbmV3IG5ldmVyIGJlZm9yZSBzZWVuIGJsb2NrXG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IHtpZDogdHJhY2tCeUlkLCBzY29wZTogdW5kZWZpbmVkLCBjbG9uZTogdW5kZWZpbmVkfTtcbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlbW92ZSBsZWZ0b3ZlciBpdGVtc1xuICAgICAgICAgIGZvciAodmFyIGJsb2NrS2V5IGluIGxhc3RCbG9ja01hcCkge1xuICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbYmxvY2tLZXldO1xuICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZSA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZWxlbWVudHNUb1JlbW92ZSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHNUb1JlbW92ZVswXS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IHdhcyBub3QgcmVtb3ZlZCB5ZXQgYmVjYXVzZSBvZiBwZW5kaW5nIGFuaW1hdGlvbiwgbWFyayBpdCBhcyBkZWxldGVkXG4gICAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIGlnbm9yZSBpdCBsYXRlclxuICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gZWxlbWVudHNUb1JlbW92ZS5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZVtpbmRleF1bTkdfUkVNT1ZFRF0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5zY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHdlIGFyZSBub3QgdXNpbmcgZm9yRWFjaCBmb3IgcGVyZiByZWFzb25zICh0cnlpbmcgdG8gYXZvaWQgI2NhbGwpXG4gICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29sbGVjdGlvbkxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAga2V5ID0gKGNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb25LZXlzKSA/IGluZGV4IDogY29sbGVjdGlvbktleXNbaW5kZXhdO1xuICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XG4gICAgICAgICAgICBibG9jayA9IG5leHRCbG9ja09yZGVyW2luZGV4XTtcblxuICAgICAgICAgICAgaWYgKGJsb2NrLnNjb3BlKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBzZWVuIHRoaXMgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gcmV1c2UgdGhlXG4gICAgICAgICAgICAgIC8vIGFzc29jaWF0ZWQgc2NvcGUvZWxlbWVudFxuXG4gICAgICAgICAgICAgIG5leHROb2RlID0gcHJldmlvdXNOb2RlO1xuXG4gICAgICAgICAgICAgIC8vIHNraXAgbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBwZW5kaW5nIHJlbW92YWwgdmlhIGxlYXZlIGFuaW1hdGlvblxuICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgfSB3aGlsZSAobmV4dE5vZGUgJiYgbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO1xuXG4gICAgICAgICAgICAgIGlmIChnZXRCbG9ja1N0YXJ0KGJsb2NrKSAhPSBuZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIC8vIGV4aXN0aW5nIGl0ZW0gd2hpY2ggZ290IG1vdmVkXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUubW92ZShnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKSwgbnVsbCwgcHJldmlvdXNOb2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBnZXRCbG9ja0VuZChibG9jayk7XG4gICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBpdGVtIHdoaWNoIHdlIGRvbid0IGtub3cgYWJvdXRcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24gbmdSZXBlYXRUcmFuc2NsdWRlKGNsb25lLCBzY29wZSkge1xuICAgICAgICAgICAgICAgIGJsb2NrLnNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvbmUtdnMtY3JlYXRlY29tbWVudFxuICAgICAgICAgICAgICAgIHZhciBlbmROb2RlID0gbmdSZXBlYXRFbmRDb21tZW50LmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gZW5kTm9kZTtcblxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCBwcmV2aW91c05vZGUpO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IGVuZE5vZGU7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxuICAgICAgICAgICAgICAgIC8vIGJ5IGEgZGlyZWN0aXZlIHdpdGggdGVtcGxhdGVVcmwgd2hlbiBpdHMgdGVtcGxhdGUgYXJyaXZlcy5cbiAgICAgICAgICAgICAgICBibG9jay5jbG9uZSA9IGNsb25lO1xuICAgICAgICAgICAgICAgIG5leHRCbG9ja01hcFtibG9jay5pZF0gPSBibG9jaztcbiAgICAgICAgICAgICAgICB1cGRhdGVTY29wZShibG9jay5zY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgY29sbGVjdGlvbkxlbmd0aCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0QmxvY2tNYXAgPSBuZXh0QmxvY2tNYXA7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxudmFyIE5HX0hJREVfQ0xBU1MgPSAnbmctaGlkZSc7XG52YXIgTkdfSElERV9JTl9QUk9HUkVTU19DTEFTUyA9ICduZy1oaWRlLWFuaW1hdGUnO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1Nob3dcbiAqIEBtdWx0aUVsZW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdTaG93YCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ1Nob3dgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xuICogdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkXG4gKiBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW4gIWltcG9ydGFudCBmbGFnKS5cbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCI+PC9kaXY+XG4gKlxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCIgY2xhc3M9XCJuZy1oaWRlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIGZhbHN5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBjbGFzc1xuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiB0cnV0aHksIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyByZW1vdmVkXG4gKiBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXG4gKlxuICogIyMgV2h5IGlzICFpbXBvcnRhbnQgdXNlZD9cbiAqXG4gKiBZb3UgbWF5IGJlIHdvbmRlcmluZyB3aHkgIWltcG9ydGFudCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvclxuICogY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIGJ5IGhlYXZpZXIgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgc29tZXRoaW5nIGFzIHNpbXBsZVxuICogYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXIgdmlzaWJsZS5cbiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxuICpcbiAqIEJ5IHVzaW5nICFpbXBvcnRhbnQsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuIENTUyBzZWxlY3RvclxuICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlXG4gKiBzdHlsaW5nIHRvIGNoYW5nZSBob3cgdG8gaGlkZSBhbiBlbGVtZW50IHRoZW4gaXQgaXMganVzdCBhIG1hdHRlciBvZiB1c2luZyAhaW1wb3J0YW50IGluIHRoZWlyIG93biBDU1MgY29kZS5cbiAqXG4gKiAjIyMgT3ZlcnJpZGluZyBgLm5nLWhpZGVgXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIGAubmctaGlkZWAgY2xhc3Mgd2lsbCBzdHlsZSB0aGUgZWxlbWVudCB3aXRoIGBkaXNwbGF5OiBub25lIWltcG9ydGFudGAuIElmIHlvdSB3aXNoIHRvIGNoYW5nZVxuICogdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBuZ1Nob3cvbmdIaWRlIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmVzdGF0aW5nIHRoZSBzdHlsZXMgZm9yIHRoZSBgLm5nLWhpZGVgXG4gKiBjbGFzcyBDU1MuIE5vdGUgdGhhdCB0aGUgc2VsZWN0b3IgdGhhdCBuZWVkcyB0byBiZSB1c2VkIGlzIGFjdHVhbGx5IGAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSlgIHRvIGNvcGVcbiAqIHdpdGggZXh0cmEgYW5pbWF0aW9uIGNsYXNzZXMgdGhhdCBjYW4gYmUgYWRkZWQuXG4gKlxuICogYGBgY3NzXG4gKiAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSkge1xuICogICAvJiM0MjsgdGhpcyBpcyBqdXN0IGFub3RoZXIgZm9ybSBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cbiAqICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xuICogICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gKiAgIHRvcDogLTk5OTlweDtcbiAqICAgbGVmdDogLTk5OTlweDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLlxuICpcbiAqICMjIEEgbm90ZSBhYm91dCBhbmltYXRpb25zIHdpdGggYG5nU2hvd2BcbiAqXG4gKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb25cbiAqIGlzIHRydWUgYW5kIGZhbHNlLiBUaGlzIHN5c3RlbSB3b3JrcyBsaWtlIHRoZSBhbmltYXRpb24gc3lzdGVtIHByZXNlbnQgd2l0aCBuZ0NsYXNzIGV4Y2VwdCB0aGF0XG4gKiB5b3UgbXVzdCBhbHNvIGluY2x1ZGUgdGhlICFpbXBvcnRhbnQgZmxhZyB0byBvdmVycmlkZSB0aGUgZGlzcGxheSBwcm9wZXJ0eVxuICogc28gdGhhdCB5b3UgY2FuIHBlcmZvcm0gYW4gYW5pbWF0aW9uIHdoZW4gdGhlIGVsZW1lbnQgaXMgaGlkZGVuIGR1cmluZyB0aGUgdGltZSBvZiB0aGUgYW5pbWF0aW9uLlxuICpcbiAqIGBgYGNzc1xuICogLy9cbiAqIC8vYSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlXG4gKiAvL1xuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMgcmVxdWlyZWQgYXMgb2YgMS4zeCB0byBwcm9wZXJseVxuICogICAgICBhcHBseSBhbGwgc3R5bGluZyBpbiBhIHNob3cvaGlkZSBhbmltYXRpb24gJiM0MjsvXG4gKiAgIHRyYW5zaXRpb246IDBzIGxpbmVhciBhbGw7XG4gKiB9XG4gKlxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQtYWN0aXZlLFxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUtYWN0aXZlIHtcbiAqICAgLyYjNDI7IHRoZSB0cmFuc2l0aW9uIGlzIGRlZmluZWQgaW4gdGhlIGFjdGl2ZSBjbGFzcyAmIzQyOy9cbiAqICAgdHJhbnNpdGlvbjogMXMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH1cbiAqIGBgYFxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjMsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5XG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCB7QGxpbmsgJGFuaW1hdGUjYWRkQ2xhc3MgYWRkQ2xhc3N9IGAubmctaGlkZWAgIHwgYWZ0ZXIgdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgbm9uIHRydXRoeSB2YWx1ZSBhbmQganVzdCBiZWZvcmUgdGhlIGNvbnRlbnRzIGFyZSBzZXQgdG8gaGlkZGVuIHxcbiAqIHwge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSAgYC5uZy1oaWRlYCAgfCBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZSB8XG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2hvdyBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5XG4gKiAgICAgdGhlbiB0aGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICBDbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdIaWRlXCI+PGJyLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIFNob3c6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgSGlkZTpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93XCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImdseXBoaWNvbnMuY3NzXCI+XG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc2hvdyB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZS1hZGQsIC5hbmltYXRlLXNob3cubmctaGlkZS1yZW1vdmUge1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGh1bWJzVXAgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLXVwJykpO1xuICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc2hvdyAvIG5nLWhpZGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG5cbiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1Nob3dEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LCBmdW5jdGlvbiBuZ1Nob3dXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyB3ZSdyZSBhZGRpbmcgYSB0ZW1wb3JhcnksIGFuaW1hdGlvbi1zcGVjaWZpYyBjbGFzcyBmb3IgbmctaGlkZSBzaW5jZSB0aGlzIHdheVxuICAgICAgICAvLyB3ZSBjYW4gY29udHJvbCB3aGVuIHRoZSBlbGVtZW50IGlzIGFjdHVhbGx5IGRpc3BsYXllZCBvbiBzY3JlZW4gd2l0aG91dCBoYXZpbmdcbiAgICAgICAgLy8gdG8gaGF2ZSBhIGdsb2JhbC9ncmVlZHkgQ1NTIHNlbGVjdG9yIHRoYXQgYnJlYWtzIHdoZW4gb3RoZXIgYW5pbWF0aW9ucyBhcmUgcnVuLlxuICAgICAgICAvLyBSZWFkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTAzI2lzc3VlY29tbWVudC01ODMzNTg0NVxuICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShlbGVtZW50LCBOR19ISURFX0NMQVNTLCB7XG4gICAgICAgICAgdGVtcENsYXNzZXM6IE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1NcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSGlkZVxuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0hpZGVgIGRpcmVjdGl2ZSBzaG93cyBvciBoaWRlcyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGJhc2VkIG9uIHRoZSBleHByZXNzaW9uXG4gKiBwcm92aWRlZCB0byB0aGUgYG5nSGlkZWAgYXR0cmlidXRlLiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nXG4gKiB0aGUgYG5nLWhpZGVgIENTUyBjbGFzcyBvbnRvIHRoZSBlbGVtZW50LiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZFxuICogaW4gQW5ndWxhckpTIGFuZCBzZXRzIHRoZSBkaXNwbGF5IHN0eWxlIHRvIG5vbmUgKHVzaW5nIGFuICFpbXBvcnRhbnQgZmxhZykuXG4gKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgdHJ1dGh5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XG4gKiA8ZGl2IG5nLWhpZGU9XCJteVZhbHVlXCIgY2xhc3M9XCJuZy1oaWRlXCI+PC9kaXY+XG4gKlxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIHZpc2libGUpIC0tPlxuICogPGRpdiBuZy1oaWRlPVwibXlWYWx1ZVwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgdGhlbiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGNsYXNzXG4gKiBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgY2F1c2luZyBpdCB0byBiZWNvbWUgaGlkZGVuLiBXaGVuIGZhbHN5LCB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcmVtb3ZlZFxuICogZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLlxuICpcbiAqICMjIFdoeSBpcyAhaW1wb3J0YW50IHVzZWQ/XG4gKlxuICogWW91IG1heSBiZSB3b25kZXJpbmcgd2h5ICFpbXBvcnRhbnQgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGAubmctaGlkZWAgc2VsZWN0b3JcbiAqIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhcyBzaW1wbGVcbiAqIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyIHZpc2libGUuXG4gKiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cbiAqXG4gKiBCeSB1c2luZyAhaW1wb3J0YW50LCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlbiBDU1Mgc2VsZWN0b3JcbiAqIHNwZWNpZmljaXR5ICh3aGVuICFpbXBvcnRhbnQgaXNuJ3QgdXNlZCB3aXRoIGFueSBjb25mbGljdGluZyBzdHlsZXMpLiBJZiBhIGRldmVsb3BlciBjaG9vc2VzIHRvIG92ZXJyaWRlIHRoZVxuICogc3R5bGluZyB0byBjaGFuZ2UgaG93IHRvIGhpZGUgYW4gZWxlbWVudCB0aGVuIGl0IGlzIGp1c3QgYSBtYXR0ZXIgb2YgdXNpbmcgIWltcG9ydGFudCBpbiB0aGVpciBvd24gQ1NTIGNvZGUuXG4gKlxuICogIyMjIE92ZXJyaWRpbmcgYC5uZy1oaWRlYFxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBgLm5nLWhpZGVgIGNsYXNzIHdpbGwgc3R5bGUgdGhlIGVsZW1lbnQgd2l0aCBgZGlzcGxheTogbm9uZSFpbXBvcnRhbnRgLiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2VcbiAqIHRoZSBoaWRlIGJlaGF2aW9yIHdpdGggbmdTaG93L25nSGlkZSB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJlc3RhdGluZyB0aGUgc3R5bGVzIGZvciB0aGUgYC5uZy1oaWRlYFxuICogY2xhc3MgaW4gQ1NTOlxuICpcbiAqIGBgYGNzc1xuICogLm5nLWhpZGUge1xuICogICAvJiM0MjsgdGhpcyBpcyBqdXN0IGFub3RoZXIgZm9ybSBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cbiAqICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xuICogICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gKiAgIHRvcDogLTk5OTlweDtcbiAqICAgbGVmdDogLTk5OTlweDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLlxuICpcbiAqICMjIEEgbm90ZSBhYm91dCBhbmltYXRpb25zIHdpdGggYG5nSGlkZWBcbiAqXG4gKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb25cbiAqIGlzIHRydWUgYW5kIGZhbHNlLiBUaGlzIHN5c3RlbSB3b3JrcyBsaWtlIHRoZSBhbmltYXRpb24gc3lzdGVtIHByZXNlbnQgd2l0aCBuZ0NsYXNzLCBleGNlcHQgdGhhdCB0aGUgYC5uZy1oaWRlYFxuICogQ1NTIGNsYXNzIGlzIGFkZGVkIGFuZCByZW1vdmVkIGZvciB5b3UgaW5zdGVhZCBvZiB5b3VyIG93biBDU1MgY2xhc3MuXG4gKlxuICogYGBgY3NzXG4gKiAvL1xuICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2VcbiAqIC8vXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCwgLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUge1xuICogICB0cmFuc2l0aW9uOiAwLjVzIGxpbmVhciBhbGw7XG4gKiB9XG4gKlxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheVxuICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICB8IGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSBhbmQganVzdCBiZWZvcmUgdGhlIGNvbnRlbnRzIGFyZSBzZXQgdG8gaGlkZGVuIHxcbiAqIHwge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSAgYC5uZy1oaWRlYCAgfCBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGUgfFxuICpcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdIaWRlIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHkgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSBuZ1Nob3dcIj48YnIvPlxuICAgICAgPGRpdj5cbiAgICAgICAgU2hvdzpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlXCIgbmctc2hvdz1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLXVwXCI+PC9zcGFuPiBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICBIaWRlOlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLWhpZGVcIiBuZy1oaWRlPVwiY2hlY2tlZFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtZG93blwiPjwvc3Bhbj4gSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiZ2x5cGhpY29ucy5jc3NcIj5cbiAgICAgIEBpbXBvcnQgdXJsKC4uLy4uL2NvbXBvbmVudHMvYm9vdHN0cmFwLTMuMS4xL2Nzcy9ib290c3RyYXAuY3NzKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1oaWRlIHtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1oaWRlLm5nLWhpZGUge1xuICAgICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTtcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcblxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdIaWRlRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nSGlkZSwgZnVuY3Rpb24gbmdIaWRlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gVGhlIGNvbW1lbnQgaW5zaWRlIG9mIHRoZSBuZ1Nob3dEaXJlY3RpdmUgZXhwbGFpbnMgd2h5IHdlIGFkZCBhbmRcbiAgICAgICAgLy8gcmVtb3ZlIGEgdGVtcG9yYXJ5IGNsYXNzIGZvciB0aGUgc2hvdy9oaWRlIGFuaW1hdGlvblxuICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LE5HX0hJREVfQ0xBU1MsIHtcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3R5bGVcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzZXQgQ1NTIHN0eWxlIG9uIGFuIEhUTUwgZWxlbWVudCBjb25kaXRpb25hbGx5LlxuICpcbiAqIEBrbm93bklzc3VlXG4gKiBZb3Ugc2hvdWxkIG5vdCB1c2Uge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbn0gaW4gdGhlIHZhbHVlIG9mIHRoZSBgc3R5bGVgXG4gKiBhdHRyaWJ1dGUsIHdoZW4gdXNpbmcgdGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudC5cbiAqIFNlZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNrbm93bi1pc3N1ZXMgaGVyZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTdHlsZVxuICpcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHdoaWNoIGV2YWxzIHRvIGFuXG4gKiBvYmplY3Qgd2hvc2Uga2V5cyBhcmUgQ1NTIHN0eWxlIG5hbWVzIGFuZCB2YWx1ZXMgYXJlIGNvcnJlc3BvbmRpbmcgdmFsdWVzIGZvciB0aG9zZSBDU1NcbiAqIGtleXMuXG4gKlxuICogU2luY2Ugc29tZSBDU1Mgc3R5bGUgbmFtZXMgYXJlIG5vdCB2YWxpZCBrZXlzIGZvciBhbiBvYmplY3QsIHRoZXkgbXVzdCBiZSBxdW90ZWQuXG4gKiBTZWUgdGhlICdiYWNrZ3JvdW5kLWNvbG9yJyBzdHlsZSBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXQgY29sb3JcIiBuZy1jbGljaz1cIm15U3R5bGU9e2NvbG9yOidyZWQnfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGJhY2tncm91bmRcIiBuZy1jbGljaz1cIm15U3R5bGU9eydiYWNrZ3JvdW5kLWNvbG9yJzonYmx1ZSd9XCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlTdHlsZT17fVwiPlxuICAgICAgICA8YnIvPlxuICAgICAgICA8c3BhbiBuZy1zdHlsZT1cIm15U3R5bGVcIj5TYW1wbGUgVGV4dDwvc3Bhbj5cbiAgICAgICAgPHByZT5teVN0eWxlPXt7bXlTdHlsZX19PC9wcmU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIHNwYW4ge1xuICAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIGNvbG9yU3BhbiA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdHlsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPVxcJ3NldCBjb2xvclxcJ10nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMjU1LCAwLCAwLCAxKScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPWNsZWFyXScpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1N0eWxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgc2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSwgZnVuY3Rpb24gbmdTdHlsZVdhdGNoQWN0aW9uKG5ld1N0eWxlcywgb2xkU3R5bGVzKSB7XG4gICAgaWYgKG9sZFN0eWxlcyAmJiAobmV3U3R5bGVzICE9PSBvbGRTdHlsZXMpKSB7XG4gICAgICBmb3JFYWNoKG9sZFN0eWxlcywgZnVuY3Rpb24odmFsLCBzdHlsZSkgeyBlbGVtZW50LmNzcyhzdHlsZSwgJycpO30pO1xuICAgIH1cbiAgICBpZiAobmV3U3R5bGVzKSBlbGVtZW50LmNzcyhuZXdTdHlsZXMpO1xuICB9LCB0cnVlKTtcbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3dpdGNoXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdTd2l0Y2hgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgc3dhcCBET00gc3RydWN0dXJlIG9uIHlvdXIgdGVtcGxhdGUgYmFzZWQgb24gYSBzY29wZSBleHByZXNzaW9uLlxuICogRWxlbWVudHMgd2l0aGluIGBuZ1N3aXRjaGAgYnV0IHdpdGhvdXQgYG5nU3dpdGNoV2hlbmAgb3IgYG5nU3dpdGNoRGVmYXVsdGAgZGlyZWN0aXZlcyB3aWxsIGJlIHByZXNlcnZlZCBhdCB0aGUgbG9jYXRpb25cbiAqIGFzIHNwZWNpZmllZCBpbiB0aGUgdGVtcGxhdGUuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBpdHNlbGYgd29ya3Mgc2ltaWxhciB0byBuZ0luY2x1ZGUsIGhvd2V2ZXIsIGluc3RlYWQgb2YgZG93bmxvYWRpbmcgdGVtcGxhdGUgY29kZSAob3IgbG9hZGluZyBpdFxuICogZnJvbSB0aGUgdGVtcGxhdGUgY2FjaGUpLCBgbmdTd2l0Y2hgIHNpbXBseSBjaG9vc2VzIG9uZSBvZiB0aGUgbmVzdGVkIGVsZW1lbnRzIGFuZCBtYWtlcyBpdCB2aXNpYmxlIGJhc2VkIG9uIHdoaWNoIGVsZW1lbnRcbiAqIG1hdGNoZXMgdGhlIHZhbHVlIG9idGFpbmVkIGZyb20gdGhlIGV2YWx1YXRlZCBleHByZXNzaW9uLiBJbiBvdGhlciB3b3JkcywgeW91IGRlZmluZSBhIGNvbnRhaW5lciBlbGVtZW50XG4gKiAod2hlcmUgeW91IHBsYWNlIHRoZSBkaXJlY3RpdmUpLCBwbGFjZSBhbiBleHByZXNzaW9uIG9uIHRoZSAqKmBvbj1cIi4uLlwiYCBhdHRyaWJ1dGUqKlxuICogKG9yIHRoZSAqKmBuZy1zd2l0Y2g9XCIuLi5cImAgYXR0cmlidXRlKiopLCBkZWZpbmUgYW55IGlubmVyIGVsZW1lbnRzIGluc2lkZSBvZiB0aGUgZGlyZWN0aXZlIGFuZCBwbGFjZVxuICogYSB3aGVuIGF0dHJpYnV0ZSBwZXIgZWxlbWVudC4gVGhlIHdoZW4gYXR0cmlidXRlIGlzIHVzZWQgdG8gaW5mb3JtIG5nU3dpdGNoIHdoaWNoIGVsZW1lbnQgdG8gZGlzcGxheSB3aGVuIHRoZSBvblxuICogZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQuIElmIGEgbWF0Y2hpbmcgZXhwcmVzc2lvbiBpcyBub3QgZm91bmQgdmlhIGEgd2hlbiBhdHRyaWJ1dGUgdGhlbiBhbiBlbGVtZW50IHdpdGggdGhlIGRlZmF1bHRcbiAqIGF0dHJpYnV0ZSBpcyBkaXNwbGF5ZWQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqIEJlIGF3YXJlIHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gbWF0Y2ggYWdhaW5zdCBjYW5ub3QgYmUgZXhwcmVzc2lvbnMuIFRoZXkgYXJlIGludGVycHJldGVkXG4gKiBhcyBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEZvciBleGFtcGxlLCAqKmBuZy1zd2l0Y2gtd2hlbj1cInNvbWVWYWxcImAqKiB3aWxsIG1hdGNoIGFnYWluc3QgdGhlIHN0cmluZyBgXCJzb21lVmFsXCJgIG5vdCBhZ2FpbnN0IHRoZVxuICogdmFsdWUgb2YgdGhlIGV4cHJlc3Npb24gYCRzY29wZS5zb21lVmFsYC5cbiAqIDwvZGl2PlxuXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gIHwgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQgdGhlIG1hdGNoZWQgY2hpbGQgZWxlbWVudCBpcyBwbGFjZWQgaW5zaWRlIHRoZSBjb250YWluZXIgfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIGp1c3QgYmVmb3JlIHRoZSBmb3JtZXIgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHxcbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGBcbiAqIDxBTlkgbmctc3dpdGNoPVwiZXhwcmVzc2lvblwiPlxuICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPVwibWF0Y2hWYWx1ZTFcIj4uLi48L0FOWT5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUyXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLWRlZmF1bHQ+Li4uPC9BTlk+XG4gKiA8L0FOWT5cbiAqIGBgYFxuICpcbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSAxMjAwXG4gKiBAcGFyYW0geyp9IG5nU3dpdGNofG9uIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCA8Y29kZT5uZy1zd2l0Y2gtd2hlbjwvY29kZT4uXG4gKiBPbiBjaGlsZCBlbGVtZW50cyBhZGQ6XG4gKlxuICogKiBgbmdTd2l0Y2hXaGVuYDogdGhlIGNhc2Ugc3RhdGVtZW50IHRvIG1hdGNoIGFnYWluc3QuIElmIG1hdGNoIHRoZW4gdGhpc1xuICogICBjYXNlIHdpbGwgYmUgZGlzcGxheWVkLiBJZiB0aGUgc2FtZSBtYXRjaCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzLCBhbGwgdGhlXG4gKiAgIGVsZW1lbnRzIHdpbGwgYmUgZGlzcGxheWVkLlxuICogKiBgbmdTd2l0Y2hEZWZhdWx0YDogdGhlIGRlZmF1bHQgY2FzZSB3aGVuIG5vIG90aGVyIGNhc2UgbWF0Y2guIElmIHRoZXJlXG4gKiAgIGFyZSBtdWx0aXBsZSBkZWZhdWx0IGNhc2VzLCBhbGwgb2YgdGhlbSB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIG5vIG90aGVyXG4gKiAgIGNhc2UgbWF0Y2guXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cInN3aXRjaEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInNlbGVjdGlvblwiIG5nLW9wdGlvbnM9XCJpdGVtIGZvciBpdGVtIGluIGl0ZW1zXCI+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8Y29kZT5zZWxlY3Rpb249e3tzZWxlY3Rpb259fTwvY29kZT5cbiAgICAgICAgPGhyLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lclwiXG4gICAgICAgICAgbmctc3dpdGNoIG9uPVwic2VsZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cInNldHRpbmdzXCI+U2V0dGluZ3MgRGl2PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cImhvbWVcIj5Ib21lIFNwYW48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC1kZWZhdWx0PmRlZmF1bHQ8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3N3aXRjaEV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5pdGVtcyA9IFsnc2V0dGluZ3MnLCAnaG9tZScsICdvdGhlciddO1xuICAgICAgICAgICRzY29wZS5zZWxlY3Rpb24gPSAkc2NvcGUuaXRlbXNbMF07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGhlaWdodDo0MHB4O1xuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXN3aXRjaCB7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWFuaW1hdGUge1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG5cbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBsZWZ0OjA7XG4gICAgICAgIHJpZ2h0OjA7XG4gICAgICAgIGJvdHRvbTowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyIHtcbiAgICAgICAgdG9wOi01MHB4O1xuICAgICAgfVxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIHRvcDowO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgc3dpdGNoRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctc3dpdGNoXScpKTtcbiAgICAgIHZhciBzZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWxlY3Rpb24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgc3RhcnQgaW4gc2V0dGluZ3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9TZXR0aW5ncyBEaXYvKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gaG9tZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgxKS5jbGljaygpO1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0hvbWUgU3Bhbi8pO1xuICAgICAgfSk7XG4gICAgICBpdCgnc2hvdWxkIHNlbGVjdCBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvZGVmYXVsdC8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1N3aXRjaERpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnbmdTd2l0Y2gnLFxuXG4gICAgLy8gYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiBuZ1N3aXRjaENvbnRyb2xsZXIoKSB7XG4gICAgIHRoaXMuY2FzZXMgPSB7fTtcbiAgICB9XSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdTd2l0Y2hDb250cm9sbGVyKSB7XG4gICAgICB2YXIgd2F0Y2hFeHByID0gYXR0ci5uZ1N3aXRjaCB8fCBhdHRyLm9uLFxuICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzID0gW10sXG4gICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZFNjb3BlcyA9IFtdO1xuXG4gICAgICB2YXIgc3BsaWNlRmFjdG9yeSA9IGZ1bmN0aW9uKGFycmF5LCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTsgfTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaEV4cHIsIGZ1bmN0aW9uIG5nU3dpdGNoV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIGksIGlpO1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5jYW5jZWwocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBzZWxlY3RlZFNjb3Blcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gZ2V0QmxvY2tOb2RlcyhzZWxlY3RlZEVsZW1lbnRzW2ldLmNsb25lKTtcbiAgICAgICAgICBzZWxlY3RlZFNjb3Blc1tpXS4kZGVzdHJveSgpO1xuICAgICAgICAgIHZhciBwcm9taXNlID0gcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0gPSAkYW5pbWF0ZS5sZWF2ZShzZWxlY3RlZCk7XG4gICAgICAgICAgcHJvbWlzZS50aGVuKHNwbGljZUZhY3RvcnkocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMsIGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgc2VsZWN0ZWRTY29wZXMubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAoKHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJyEnICsgdmFsdWVdIHx8IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snPyddKSkge1xuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRUcmFuc2NsdWRlcywgZnVuY3Rpb24oc2VsZWN0ZWRUcmFuc2NsdWRlKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFRyYW5zY2x1ZGUudHJhbnNjbHVkZShmdW5jdGlvbihjYXNlRWxlbWVudCwgc2VsZWN0ZWRTY29wZSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZFNjb3Blcy5wdXNoKHNlbGVjdGVkU2NvcGUpO1xuICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gc2VsZWN0ZWRUcmFuc2NsdWRlLmVsZW1lbnQ7XG4gICAgICAgICAgICAgIGNhc2VFbGVtZW50W2Nhc2VFbGVtZW50Lmxlbmd0aCsrXSA9ICRjb21waWxlLiQkY3JlYXRlQ29tbWVudCgnZW5kIG5nU3dpdGNoV2hlbicpO1xuICAgICAgICAgICAgICB2YXIgYmxvY2sgPSB7IGNsb25lOiBjYXNlRWxlbWVudCB9O1xuXG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChibG9jayk7XG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LCBhbmNob3IucGFyZW50KCksIGFuY2hvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgcHJpb3JpdHk6IDEyMDAsXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0gPSAoY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dIHx8IFtdKTtcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pO1xuICB9XG59KTtcblxudmFyIG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcbiAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICBwcmlvcml0eTogMTIwMCxcbiAgcmVxdWlyZTogJ15uZ1N3aXRjaCcsXG4gIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgY3RybC5jYXNlc1snPyddID0gKGN0cmwuY2FzZXNbJz8nXSB8fCBbXSk7XG4gICAgY3RybC5jYXNlc1snPyddLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcbiAgIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nVHJhbnNjbHVkZVxuICogQHJlc3RyaWN0IEVBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGlyZWN0aXZlIHRoYXQgbWFya3MgdGhlIGluc2VydGlvbiBwb2ludCBmb3IgdGhlIHRyYW5zY2x1ZGVkIERPTSBvZiB0aGUgbmVhcmVzdCBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24uXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IHRoYXQgeW91IHdhbnQgdG8gaW5zZXJ0IGEgbmFtZWQgdHJhbnNjbHVzaW9uIHNsb3QsIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgc2xvdCwgYnkgcHJvdmlkaW5nIHRoZSBzbG90IG5hbWVcbiAqIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nLXRyYW5zY2x1ZGVgIG9yIGBuZy10cmFuc2NsdWRlLXNsb3RgIGF0dHJpYnV0ZS5cbiAqXG4gKiBJZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBub3QgZW1wdHkgKGkuZS4gY29udGFpbnMgb25lIG9yIG1vcmUgRE9NIG5vZGVzLCBpbmNsdWRpbmcgd2hpdGVzcGFjZSB0ZXh0IG5vZGVzKSwgYW55IGV4aXN0aW5nXG4gKiBjb250ZW50IG9mIHRoaXMgZWxlbWVudCB3aWxsIGJlIHJlbW92ZWQgYmVmb3JlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGlzIGluc2VydGVkLlxuICogSWYgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgZW1wdHksIHRoZSBleGlzdGluZyBjb250ZW50IGlzIGxlZnQgaW50YWN0LiBUaGlzIGxldHMgeW91IHByb3ZpZGUgZmFsbGJhY2sgY29udGVudCBpbiB0aGUgY2FzZVxuICogdGhhdCBubyB0cmFuc2NsdWRlZCBjb250ZW50IGlzIHByb3ZpZGVkLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ1RyYW5zY2x1ZGV8bmdUcmFuc2NsdWRlU2xvdCB0aGUgbmFtZSBvZiB0aGUgc2xvdCB0byBpbnNlcnQgYXQgdGhpcyBwb2ludC4gSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQsIGlzIGVtcHR5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgaXRzIHZhbHVlIGlzIHRoZSBzYW1lIGFzIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdGhlbiB0aGUgZGVmYXVsdCBzbG90IGlzIHVzZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBCYXNpYyB0cmFuc2NsdXNpb25cbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgYmFzaWMgdHJhbnNjbHVzaW9uIG9mIGNvbnRlbnQgaW50byBhIGNvbXBvbmVudCBkaXJlY3RpdmUuXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2ltcGxlVHJhbnNjbHVkZUV4YW1wbGVcIiBtb2R1bGU9XCJ0cmFuc2NsdWRlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgndHJhbnNjbHVkZUV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAuZGlyZWN0aXZlKCdwYW5lJywgZnVuY3Rpb24oKXtcbiAqICAgICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAqICAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gKiAgICAgICAgICAgICBzY29wZTogeyB0aXRsZTonQCcgfSxcbiAqICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1wiPicgK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5XCI+e3t0aXRsZX19PC9kaXY+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPicgK1xuICogICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gKiAgICAgICAgICAgfTtcbiAqICAgICAgIH0pXG4gKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAkc2NvcGUudGl0bGUgPSAnTG9yZW0gSXBzdW0nO1xuICogICAgICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XG4gKiAgICAgICB9XSk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInRpdGxlXCIgYXJpYS1sYWJlbD1cInRpdGxlXCI+IDxici8+XG4gKiAgICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJ0ZXh0XCIgYXJpYS1sYWJlbD1cInRleHRcIj48L3RleHRhcmVhPiA8YnIvPlxuICogICAgICAgPHBhbmUgdGl0bGU9XCJ7e3RpdGxlfX1cIj57e3RleHR9fTwvcGFuZT5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgIGl0KCdzaG91bGQgaGF2ZSB0cmFuc2NsdWRlZCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0aXRsZScpKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuc2VuZEtleXMoJ1RJVExFJyk7XG4gKiAgICAgICAgdmFyIHRleHRFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGV4dCcpKTtcbiAqICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpO1xuICogICAgICAgIHRleHRFbGVtZW50LnNlbmRLZXlzKCdURVhUJyk7XG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGl0bGUnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdUSVRMRScpO1xuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7XG4gKiAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBUcmFuc2NsdWRlIGZhbGxiYWNrIGNvbnRlbnRcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBOZ1RyYW5zY2x1ZGVgIHdpdGggZmFsbGJhY2sgY29udGVudCwgdGhhdFxuICogaXMgZGlzcGxheWVkIGlmIG5vIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgcHJvdmlkZWQuXG4gKlxuICogPGV4YW1wbGUgbW9kdWxlPVwidHJhbnNjbHVkZUZhbGxiYWNrQ29udGVudEV4YW1wbGVcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8c2NyaXB0PlxuICogYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGVGYWxsYmFja0NvbnRlbnRFeGFtcGxlJywgW10pXG4gKiAuZGlyZWN0aXZlKCdteUJ1dHRvbicsIGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICogICAgICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICogICAgICAgICAgICAgICBzY29wZTogdHJ1ZSxcbiAqICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8YnV0dG9uIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiPicgK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAnPG5nLXRyYW5zY2x1ZGU+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxiIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5CdXR0b24xPC9iPicgK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9uZy10cmFuc2NsdWRlPicgK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJzwvYnV0dG9uPidcbiAqICAgICAgICAgICAgIH07XG4gKiAgICAgICAgIH0pO1xuICogPC9zY3JpcHQ+XG4gKiA8IS0tIGZhbGxiYWNrIGJ1dHRvbiBjb250ZW50IC0tPlxuICogPG15LWJ1dHRvbiBpZD1cImZhbGxiYWNrXCI+PC9teS1idXR0b24+XG4gKiA8IS0tIG1vZGlmaWVkIGJ1dHRvbiBjb250ZW50IC0tPlxuICogPG15LWJ1dHRvbiBpZD1cIm1vZGlmaWVkXCI+XG4gKiAgIDxpIHN0eWxlPVwiY29sb3I6IGdyZWVuO1wiPkJ1dHRvbjI8L2k+XG4gKiA8L215LWJ1dHRvbj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqIGl0KCdzaG91bGQgaGF2ZSBkaWZmZXJlbnQgdHJhbnNjbHVkZSBlbGVtZW50IGNvbnRlbnQnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdmYWxsYmFjaycpKS5nZXRUZXh0KCkpLnRvQmUoJ0J1dHRvbjEnKTtcbiAqICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdtb2RpZmllZCcpKS5nZXRUZXh0KCkpLnRvQmUoJ0J1dHRvbjInKTtcbiAqICAgICAgICB9KTtcbiAqIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIE11bHRpLXNsb3QgdHJhbnNjbHVzaW9uXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHVzaW5nIG11bHRpLXNsb3QgdHJhbnNjbHVzaW9uIGluIGEgY29tcG9uZW50IGRpcmVjdGl2ZS5cbiAqIDxleGFtcGxlIG5hbWU9XCJtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZVwiIG1vZHVsZT1cIm11bHRpU2xvdFRyYW5zY2x1ZGVFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICA8c3R5bGU+XG4gKiAgICAgIC50aXRsZSwgLmZvb3RlciB7XG4gKiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZ3JheVxuICogICAgICB9XG4gKiAgICA8L3N0eWxlPlxuICogICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgPGlucHV0IG5nLW1vZGVsPVwidGl0bGVcIiBhcmlhLWxhYmVsPVwidGl0bGVcIj4gPGJyLz5cbiAqICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiIGFyaWEtbGFiZWw9XCJ0ZXh0XCI+PC90ZXh0YXJlYT4gPGJyLz5cbiAqICAgICAgPHBhbmU+XG4gKiAgICAgICAgPHBhbmUtdGl0bGU+PGEgbmctaHJlZj1cInt7bGlua319XCI+e3t0aXRsZX19PC9hPjwvcGFuZS10aXRsZT5cbiAqICAgICAgICA8cGFuZS1ib2R5PjxwPnt7dGV4dH19PC9wPjwvcGFuZS1ib2R5PlxuICogICAgICA8L3BhbmU+XG4gKiAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICBhbmd1bGFyLm1vZHVsZSgnbXVsdGlTbG90VHJhbnNjbHVkZUV4YW1wbGUnLCBbXSlcbiAqICAgICAuZGlyZWN0aXZlKCdwYW5lJywgZnVuY3Rpb24oKXtcbiAqICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAqICAgICAgICAgIHRyYW5zY2x1ZGU6IHtcbiAqICAgICAgICAgICAgJ3RpdGxlJzogJz9wYW5lVGl0bGUnLFxuICogICAgICAgICAgICAnYm9keSc6ICdwYW5lQm9keScsXG4gKiAgICAgICAgICAgICdmb290ZXInOiAnP3BhbmVGb290ZXInXG4gKiAgICAgICAgICB9LFxuICogICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpdGxlXCIgbmctdHJhbnNjbHVkZT1cInRpdGxlXCI+RmFsbGJhY2sgVGl0bGU8L2Rpdj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IG5nLXRyYW5zY2x1ZGU9XCJib2R5XCI+PC9kaXY+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZvb3RlclwiIG5nLXRyYW5zY2x1ZGU9XCJmb290ZXJcIj5GYWxsYmFjayBGb290ZXI8L2Rpdj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICogICAgICAgIH07XG4gKiAgICB9KVxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgJHNjb3BlLnRpdGxlID0gJ0xvcmVtIElwc3VtJztcbiAqICAgICAgJHNjb3BlLmxpbmsgPSBcImh0dHBzOi8vZ29vZ2xlLmNvbVwiO1xuICogICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XG4gKiAgICB9XSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgICBpdCgnc2hvdWxkIGhhdmUgdHJhbnNjbHVkZWQgdGhlIHRpdGxlIGFuZCB0aGUgYm9keScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0aXRsZScpKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuc2VuZEtleXMoJ1RJVExFJyk7XG4gKiAgICAgICAgdmFyIHRleHRFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGV4dCcpKTtcbiAqICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpO1xuICogICAgICAgIHRleHRFbGVtZW50LnNlbmRLZXlzKCdURVhUJyk7XG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcudGl0bGUnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdUSVRMRScpO1xuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7XG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuZm9vdGVyJykpLmdldFRleHQoKSkudG9FcXVhbCgnRmFsbGJhY2sgRm9vdGVyJyk7XG4gKiAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1RyYW5zY2x1ZGVNaW5FcnIgPSBtaW5FcnIoJ25nVHJhbnNjbHVkZScpO1xudmFyIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCBmdW5jdGlvbigkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUFDJyxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVDb21waWxlKHRFbGVtZW50KSB7XG5cbiAgICAgIC8vIFJlbW92ZSBhbmQgY2FjaGUgYW55IG9yaWdpbmFsIGNvbnRlbnQgdG8gYWN0IGFzIGEgZmFsbGJhY2tcbiAgICAgIHZhciBmYWxsYmFja0xpbmtGbiA9ICRjb21waWxlKHRFbGVtZW50LmNvbnRlbnRzKCkpO1xuICAgICAgdEVsZW1lbnQuZW1wdHkoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVHJhbnNjbHVkZVBvc3RMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgY29udHJvbGxlciwgJHRyYW5zY2x1ZGUpIHtcblxuICAgICAgICBpZiAoISR0cmFuc2NsdWRlKSB7XG4gICAgICAgICAgdGhyb3cgbmdUcmFuc2NsdWRlTWluRXJyKCdvcnBoYW4nLFxuICAgICAgICAgICdJbGxlZ2FsIHVzZSBvZiBuZ1RyYW5zY2x1ZGUgZGlyZWN0aXZlIGluIHRoZSB0ZW1wbGF0ZSEgJyArXG4gICAgICAgICAgJ05vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiBmb3VuZC4gJyArXG4gICAgICAgICAgJ0VsZW1lbnQ6IHswfScsXG4gICAgICAgICAgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBpcyBvZiB0aGUgZm9ybTogYG5nLXRyYW5zY2x1ZGU9XCJuZy10cmFuc2NsdWRlXCJgIHRoZW4gdHJlYXQgaXQgbGlrZSB0aGUgZGVmYXVsdFxuICAgICAgICBpZiAoJGF0dHJzLm5nVHJhbnNjbHVkZSA9PT0gJGF0dHJzLiRhdHRyLm5nVHJhbnNjbHVkZSkge1xuICAgICAgICAgICRhdHRycy5uZ1RyYW5zY2x1ZGUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2xvdE5hbWUgPSAkYXR0cnMubmdUcmFuc2NsdWRlIHx8ICRhdHRycy5uZ1RyYW5zY2x1ZGVTbG90O1xuXG4gICAgICAgIC8vIElmIHRoZSBzbG90IGlzIHJlcXVpcmVkIGFuZCBubyB0cmFuc2NsdXNpb24gY29udGVudCBpcyBwcm92aWRlZCB0aGVuIHRoaXMgY2FsbCB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICAgICR0cmFuc2NsdWRlKG5nVHJhbnNjbHVkZUNsb25lQXR0YWNoRm4sIG51bGwsIHNsb3ROYW1lKTtcblxuICAgICAgICAvLyBJZiB0aGUgc2xvdCBpcyBvcHRpb25hbCBhbmQgbm8gdHJhbnNjbHVzaW9uIGNvbnRlbnQgaXMgcHJvdmlkZWQgdGhlbiB1c2UgdGhlIGZhbGxiYWNrIGNvbnRlbnRcbiAgICAgICAgaWYgKHNsb3ROYW1lICYmICEkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpKSB7XG4gICAgICAgICAgdXNlRmFsbGJhY2tDb250ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuKGNsb25lLCB0cmFuc2NsdWRlZFNjb3BlKSB7XG4gICAgICAgICAgaWYgKGNsb25lLmxlbmd0aCkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXNlRmFsbGJhY2tDb250ZW50KCk7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBub3RoaW5nIGxpbmtlZCBhZ2FpbnN0IHRoZSB0cmFuc2NsdWRlZCBzY29wZSBzaW5jZSBubyBjb250ZW50IHdhcyBhdmFpbGFibGUsXG4gICAgICAgICAgICAvLyBzbyBpdCBzaG91bGQgYmUgc2FmZSB0byBjbGVhbiB1cCB0aGUgZ2VuZXJhdGVkIHNjb3BlLlxuICAgICAgICAgICAgdHJhbnNjbHVkZWRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVzZUZhbGxiYWNrQ29udGVudCgpIHtcbiAgICAgICAgICAvLyBTaW5jZSB0aGlzIGlzIHRoZSBmYWxsYmFjayBjb250ZW50IHJhdGhlciB0aGFuIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50LFxuICAgICAgICAgIC8vIHdlIGxpbmsgYWdhaW5zdCB0aGUgc2NvcGUgb2YgdGhpcyBkaXJlY3RpdmUgcmF0aGVyIHRoYW4gdGhlIHRyYW5zY2x1ZGVkIHNjb3BlXG4gICAgICAgICAgZmFsbGJhY2tMaW5rRm4oJHNjb3BlLCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBzY3JpcHRcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBMb2FkIHRoZSBjb250ZW50IG9mIGEgYDxzY3JpcHQ+YCBlbGVtZW50IGludG8ge0BsaW5rIG5nLiR0ZW1wbGF0ZUNhY2hlIGAkdGVtcGxhdGVDYWNoZWB9LCBzbyB0aGF0IHRoZVxuICogdGVtcGxhdGUgY2FuIGJlIHVzZWQgYnkge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nSW5jbHVkZWB9LFxuICoge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBgbmdWaWV3YH0sIG9yIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlc30uIFRoZSB0eXBlIG9mIHRoZVxuICogYDxzY3JpcHQ+YCBlbGVtZW50IG11c3QgYmUgc3BlY2lmaWVkIGFzIGB0ZXh0L25nLXRlbXBsYXRlYCwgYW5kIGEgY2FjaGUgbmFtZSBmb3IgdGhlIHRlbXBsYXRlIG11c3QgYmVcbiAqIGFzc2lnbmVkIHRocm91Z2ggdGhlIGVsZW1lbnQncyBgaWRgLCB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIGFzIGEgZGlyZWN0aXZlJ3MgYHRlbXBsYXRlVXJsYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBNdXN0IGJlIHNldCB0byBgJ3RleHQvbmctdGVtcGxhdGUnYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYWNoZSBuYW1lIG9mIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZT5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdCB0eXBlPVwidGV4dC9uZy10ZW1wbGF0ZVwiIGlkPVwiL3RwbC5odG1sXCI+XG4gICAgICAgIENvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLlxuICAgICAgPC9zY3JpcHQ+XG5cbiAgICAgIDxhIG5nLWNsaWNrPVwiY3VycmVudFRwbD0nL3RwbC5odG1sJ1wiIGlkPVwidHBsLWxpbmtcIj5Mb2FkIGlubGluZWQgdGVtcGxhdGU8L2E+XG4gICAgICA8ZGl2IGlkPVwidHBsLWNvbnRlbnRcIiBuZy1pbmNsdWRlIHNyYz1cImN1cnJlbnRUcGxcIj48L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlIGRlZmluZWQgaW5zaWRlIHNjcmlwdCB0YWcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudChieS5jc3MoJyN0cGwtbGluaycpKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyN0cGwtY29udGVudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLyk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIHNjcmlwdERpcmVjdGl2ZSA9IFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgaWYgKGF0dHIudHlwZSA9PSAndGV4dC9uZy10ZW1wbGF0ZScpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlVXJsID0gYXR0ci5pZCxcbiAgICAgICAgICAgIHRleHQgPSBlbGVtZW50WzBdLnRleHQ7XG5cbiAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XTtcblxudmFyIG5vb3BOZ01vZGVsQ29udHJvbGxlciA9IHsgJHNldFZpZXdWYWx1ZTogbm9vcCwgJHJlbmRlcjogbm9vcCB9O1xuXG5mdW5jdGlvbiBjaHJvbWVIYWNrKG9wdGlvbkVsZW1lbnQpIHtcbiAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4MTQ1OVxuICAvLyBBZGRpbmcgYW4gPG9wdGlvbiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+IGVsZW1lbnQgdG8gYSA8c2VsZWN0IHJlcXVpcmVkPVwicmVxdWlyZWRcIj4gc2hvdWxkXG4gIC8vIGF1dG9tYXRpY2FsbHkgc2VsZWN0IHRoZSBuZXcgZWxlbWVudFxuICBpZiAob3B0aW9uRWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHtcbiAgICBvcHRpb25FbGVtZW50WzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSAgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXJcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGNvbnRyb2xsZXIgZm9yIHRoZSBgPHNlbGVjdD5gIGRpcmVjdGl2ZS4gVGhpcyBwcm92aWRlcyBzdXBwb3J0IGZvciByZWFkaW5nXG4gKiBhbmQgd3JpdGluZyB0aGUgc2VsZWN0ZWQgdmFsdWUocykgb2YgdGhlIGNvbnRyb2wgYW5kIGFsc28gY29vcmRpbmF0ZXMgZHluYW1pY2FsbHlcbiAqIGFkZGVkIGA8b3B0aW9uPmAgZWxlbWVudHMsIHBlcmhhcHMgYnkgYW4gYG5nUmVwZWF0YCBkaXJlY3RpdmUuXG4gKi9cbnZhciBTZWxlY3RDb250cm9sbGVyID1cbiAgICAgICAgWyckZWxlbWVudCcsICckc2NvcGUnLCBmdW5jdGlvbigkZWxlbWVudCwgJHNjb3BlKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgb3B0aW9uc01hcCA9IG5ldyBIYXNoTWFwKCk7XG5cbiAgLy8gSWYgdGhlIG5nTW9kZWwgZG9lc24ndCBnZXQgcHJvdmlkZWQgdGhlbiBwcm92aWRlIGEgZHVtbXkgbm9vcCB2ZXJzaW9uIHRvIHByZXZlbnQgZXJyb3JzXG4gIHNlbGYubmdNb2RlbEN0cmwgPSBub29wTmdNb2RlbENvbnRyb2xsZXI7XG5cbiAgLy8gVGhlIFwidW5rbm93blwiIG9wdGlvbiBpcyBvbmUgdGhhdCBpcyBwcmVwZW5kZWQgdG8gdGhlIGxpc3QgaWYgdGhlIHZpZXdWYWx1ZVxuICAvLyBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbnMuIFdoZW4gaXQgaXMgcmVuZGVyZWQgdGhlIHZhbHVlIG9mIHRoZSB1bmtub3duXG4gIC8vIG9wdGlvbiBpcyAnPyBYWFggPycgd2hlcmUgWFhYIGlzIHRoZSBoYXNoS2V5IG9mIHRoZSB2YWx1ZSB0aGF0IGlzIG5vdCBrbm93bi5cbiAgLy9cbiAgLy8gV2UgY2FuJ3QganVzdCBqcUxpdGUoJzxvcHRpb24+Jykgc2luY2UganFMaXRlIGlzIG5vdCBzbWFydCBlbm91Z2hcbiAgLy8gdG8gY3JlYXRlIGl0IGluIDxzZWxlY3Q+IGFuZCBJRSBiYXJmcyBvdGhlcndpc2UuXG4gIHNlbGYudW5rbm93bk9wdGlvbiA9IGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpO1xuICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgdW5rbm93blZhbCA9ICc/ICcgKyBoYXNoS2V5KHZhbCkgKyAnID8nO1xuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XG4gICAgJGVsZW1lbnQucHJlcGVuZChzZWxmLnVua25vd25PcHRpb24pO1xuICAgICRlbGVtZW50LnZhbCh1bmtub3duVmFsKTtcbiAgfTtcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcbiAgICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBub29wO1xuICB9KTtcblxuICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi51bmtub3duT3B0aW9uLnBhcmVudCgpKSBzZWxmLnVua25vd25PcHRpb24ucmVtb3ZlKCk7XG4gIH07XG5cblxuICAvLyBSZWFkIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGNvbnRyb2wsIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGNoYW5nZXMgZGVwZW5kaW5nXG4gIC8vIHVwb24gd2hldGhlciB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcyBhbmQgd2hldGhlciBuZ09wdGlvbnMgaXMgYXQgd29yay5cbiAgc2VsZi5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkU2luZ2xlVmFsdWUoKSB7XG4gICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgcmV0dXJuICRlbGVtZW50LnZhbCgpO1xuICB9O1xuXG5cbiAgLy8gV3JpdGUgdGhlIHZhbHVlIHRvIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcbiAgLy8gdXBvbiB3aGV0aGVyIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgdmFsdWVzIGFuZCB3aGV0aGVyIG5nT3B0aW9ucyBpcyBhdCB3b3JrLlxuICBzZWxmLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZVNpbmdsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHNlbGYuaGFzT3B0aW9uKHZhbHVlKSkge1xuICAgICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgICAkZWxlbWVudC52YWwodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSAnJykgc2VsZi5lbXB0eU9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyB0byBtYWtlIElFOSBoYXBweVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBzZWxmLmVtcHR5T3B0aW9uKSB7XG4gICAgICAgIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAkZWxlbWVudC52YWwoJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cblxuICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIGFkZGVkXG4gIHNlbGYuYWRkT3B0aW9uID0gZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICAvLyBTa2lwIGNvbW1lbnQgbm9kZXMsIGFzIHRoZXkgb25seSBwb2xsdXRlIHRoZSBgb3B0aW9uc01hcGBcbiAgICBpZiAoZWxlbWVudFswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHJldHVybjtcblxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KHZhbHVlLCAnXCJvcHRpb24gdmFsdWVcIicpO1xuICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSBlbGVtZW50O1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBvcHRpb25zTWFwLmdldCh2YWx1ZSkgfHwgMDtcbiAgICBvcHRpb25zTWFwLnB1dCh2YWx1ZSwgY291bnQgKyAxKTtcbiAgICBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICBjaHJvbWVIYWNrKGVsZW1lbnQpO1xuICB9O1xuXG4gIC8vIFRlbGwgdGhlIHNlbGVjdCBjb250cm9sIHRoYXQgYW4gb3B0aW9uLCB3aXRoIHRoZSBnaXZlbiB2YWx1ZSwgaGFzIGJlZW4gcmVtb3ZlZFxuICBzZWxmLnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGNvdW50ID0gb3B0aW9uc01hcC5nZXQodmFsdWUpO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgIG9wdGlvbnNNYXAucmVtb3ZlKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnNNYXAucHV0KHZhbHVlLCBjb3VudCAtIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayB3aGV0aGVyIHRoZSBzZWxlY3QgY29udHJvbCBoYXMgYW4gb3B0aW9uIG1hdGNoaW5nIHRoZSBnaXZlbiB2YWx1ZVxuICBzZWxmLmhhc09wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhb3B0aW9uc01hcC5nZXQodmFsdWUpO1xuICB9O1xuXG5cbiAgc2VsZi5yZWdpc3Rlck9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvblNjb3BlLCBvcHRpb25FbGVtZW50LCBvcHRpb25BdHRycywgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbikge1xuXG4gICAgaWYgKGludGVycG9sYXRlVmFsdWVGbikge1xuICAgICAgLy8gVGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBpbnRlcnBvbGF0ZWRcbiAgICAgIHZhciBvbGRWYWw7XG4gICAgICBvcHRpb25BdHRycy4kb2JzZXJ2ZSgndmFsdWUnLCBmdW5jdGlvbiB2YWx1ZUF0dHJpYnV0ZU9ic2VydmVBY3Rpb24obmV3VmFsKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQob2xkVmFsKSkge1xuICAgICAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgb2xkVmFsID0gbmV3VmFsO1xuICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZVRleHRGbikge1xuICAgICAgLy8gVGhlIHRleHQgY29udGVudCBpcyBpbnRlcnBvbGF0ZWRcbiAgICAgIG9wdGlvblNjb3BlLiR3YXRjaChpbnRlcnBvbGF0ZVRleHRGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVXYXRjaEFjdGlvbihuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICBvcHRpb25BdHRycy4kc2V0KCd2YWx1ZScsIG5ld1ZhbCk7XG4gICAgICAgIGlmIChvbGRWYWwgIT09IG5ld1ZhbCkge1xuICAgICAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5hZGRPcHRpb24obmV3VmFsLCBvcHRpb25FbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgdmFsdWUgYXR0cmlidXRlIGlzIHN0YXRpY1xuICAgICAgc2VsZi5hZGRPcHRpb24ob3B0aW9uQXR0cnMudmFsdWUsIG9wdGlvbkVsZW1lbnQpO1xuICAgIH1cblxuICAgIG9wdGlvbkVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbW92ZU9wdGlvbihvcHRpb25BdHRycy52YWx1ZSk7XG4gICAgICBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9KTtcbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHNlbGVjdFxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUTUwgYFNFTEVDVGAgZWxlbWVudCB3aXRoIGFuZ3VsYXIgZGF0YS1iaW5kaW5nLlxuICpcbiAqIFRoZSBgc2VsZWN0YCBkaXJlY3RpdmUgaXMgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gdG8gcHJvdmlkZSBkYXRhLWJpbmRpbmdcbiAqIGJldHdlZW4gdGhlIHNjb3BlIGFuZCB0aGUgYDxzZWxlY3Q+YCBjb250cm9sIChpbmNsdWRpbmcgc2V0dGluZyBkZWZhdWx0IHZhbHVlcykuXG4gKiBJdCBhbHNvIGhhbmRsZXMgZHluYW1pYyBgPG9wdGlvbj5gIGVsZW1lbnRzLCB3aGljaCBjYW4gYmUgYWRkZWQgdXNpbmcgdGhlIHtAbGluayBuZ1JlcGVhdCBgbmdSZXBlYXR9YCBvclxuICoge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0gZGlyZWN0aXZlcy5cbiAqXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZFxuICogdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUuIFdpdGggc3RhdGljIG9yIHJlcGVhdGVkIG9wdGlvbnMsIHRoaXMgaXNcbiAqIHRoZSBjb250ZW50IG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBvciB0aGUgdGV4dENvbnRlbnQgb2YgdGhlIGA8b3B0aW9uPmAsIGlmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgbWlzc2luZy5cbiAqIElmIHlvdSB3YW50IGR5bmFtaWMgdmFsdWUgYXR0cmlidXRlcywgeW91IGNhbiB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIHZhbHVlIGF0dHJpYnV0ZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogTm90ZSB0aGF0IHRoZSB2YWx1ZSBvZiBhIGBzZWxlY3RgIGRpcmVjdGl2ZSB1c2VkIHdpdGhvdXQgYG5nT3B0aW9uc2AgaXMgYWx3YXlzIGEgc3RyaW5nLlxuICogV2hlbiB0aGUgbW9kZWwgbmVlZHMgdG8gYmUgYm91bmQgdG8gYSBub24tc3RyaW5nIHZhbHVlLCB5b3UgbXVzdCBlaXRoZXIgZXhwbGljaXRseSBjb252ZXJ0IGl0XG4gKiB1c2luZyBhIGRpcmVjdGl2ZSAoc2VlIGV4YW1wbGUgYmVsb3cpIG9yIHVzZSBgbmdPcHRpb25zYCB0byBzcGVjaWZ5IHRoZSBzZXQgb2Ygb3B0aW9ucy5cbiAqIFRoaXMgaXMgYmVjYXVzZSBhbiBvcHRpb24gZWxlbWVudCBjYW4gb25seSBiZSBib3VuZCB0byBzdHJpbmcgdmFsdWVzIGF0IHByZXNlbnQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBJZiB0aGUgdmlld1ZhbHVlIG9mIGBuZ01vZGVsYCBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbnMsIHRoZW4gdGhlIGNvbnRyb2xcbiAqIHdpbGwgYXV0b21hdGljYWxseSBhZGQgYW4gXCJ1bmtub3duXCIgb3B0aW9uLCB3aGljaCBpdCB0aGVuIHJlbW92ZXMgd2hlbiB0aGUgbWlzbWF0Y2ggaXMgcmVzb2x2ZWQuXG4gKlxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxuICogYmUgbmVzdGVkIGludG8gdGhlIGA8c2VsZWN0PmAgZWxlbWVudC4gVGhpcyBlbGVtZW50IHdpbGwgdGhlbiByZXByZXNlbnQgdGhlIGBudWxsYCBvciBcIm5vdCBzZWxlY3RlZFwiXG4gKiBvcHRpb24uIFNlZSBleGFtcGxlIGJlbG93IGZvciBkZW1vbnN0cmF0aW9uLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBJbiBtYW55IGNhc2VzLCBgbmdSZXBlYXRgIGNhbiBiZSB1c2VkIG9uIGA8b3B0aW9uPmAgZWxlbWVudHMgaW5zdGVhZCBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nT3B0aW9uc1xuICogbmdPcHRpb25zfSB0byBhY2hpZXZlIGEgc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHMsIHN1Y2ggYXNcbiAqIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLCBhbmQgYWRkaXRpb25hbGx5IGluIHJlZHVjaW5nIG1lbW9yeSBhbmQgaW5jcmVhc2luZyBzcGVlZCBieSBub3QgY3JlYXRpbmdcbiAqIGEgbmV3IHNjb3BlIGZvciBlYWNoIHJlcGVhdGVkIGluc3RhbmNlLlxuICogPC9kaXY+XG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbXVsdGlwbGUgQWxsb3dzIG11bHRpcGxlIG9wdGlvbnMgdG8gYmUgc2VsZWN0ZWQuIFRoZSBzZWxlY3RlZCB2YWx1ZXMgd2lsbCBiZVxuICogICAgIGJvdW5kIHRvIHRoZSBtb2RlbCBhcyBhbiBhcnJheS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIHJlcXVpcmVkIGF0dHJpYnV0ZSBhbmQgcmVxdWlyZWQgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gKiB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBuZ1JlcXVpcmVkIGluc3RlYWQgb2YgcmVxdWlyZWRcbiAqIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSByZXF1aXJlZCBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIHNlbGVjdGVkIG9wdGlvbihzKSBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBzZWxlY3QgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdPcHRpb25zIHNldHMgdGhlIG9wdGlvbnMgdGhhdCB0aGUgc2VsZWN0IGlzIHBvcHVsYXRlZCB3aXRoIGFuZCBkZWZpbmVzIHdoYXQgaXNcbiAqIHNldCBvbiB0aGUgbW9kZWwgb24gc2VsZWN0aW9uLiBTZWUge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0uXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBTaW1wbGUgYHNlbGVjdGAgZWxlbWVudHMgd2l0aCBzdGF0aWMgb3B0aW9uc1xuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJzdGF0aWMtc2VsZWN0XCIgbW9kdWxlPVwic3RhdGljU2VsZWN0XCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICogICAgIDxsYWJlbCBmb3I9XCJzaW5nbGVTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdDogPC9sYWJlbD48YnI+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwic2luZ2xlU2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLnNpbmdsZVNlbGVjdFwiPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0xXCI+T3B0aW9uIDE8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxuICpcbiAqICAgICA8bGFiZWwgZm9yPVwic2luZ2xlU2VsZWN0XCI+IFNpbmdsZSBzZWxlY3Qgd2l0aCBcIm5vdCBzZWxlY3RlZFwiIG9wdGlvbiBhbmQgZHluYW1pYyBvcHRpb24gdmFsdWVzOiA8L2xhYmVsPjxicj5cbiAqICAgICA8c2VsZWN0IG5hbWU9XCJzaW5nbGVTZWxlY3RcIiBpZD1cInNpbmdsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5zaW5nbGVTZWxlY3RcIj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLS1QbGVhc2Ugc2VsZWN0LS0tPC9vcHRpb24+IDwhLS0gbm90IHNlbGVjdGVkIC8gYmxhbmsgb3B0aW9uIC0tPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cInt7ZGF0YS5vcHRpb24xfX1cIj5PcHRpb24gMTwvb3B0aW9uPiA8IS0tIGludGVycG9sYXRpb24gLS0+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTJcIj5PcHRpb24gMjwvb3B0aW9uPlxuICogICAgIDwvc2VsZWN0Pjxicj5cbiAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZm9yY2VVbmtub3duT3B0aW9uKClcIj5Gb3JjZSB1bmtub3duIG9wdGlvbjwvYnV0dG9uPjxicj5cbiAqICAgICA8dHQ+c2luZ2xlU2VsZWN0ID0ge3tkYXRhLnNpbmdsZVNlbGVjdH19PC90dD5cbiAqXG4gKiAgICAgPGhyPlxuICogICAgIDxsYWJlbCBmb3I9XCJtdWx0aXBsZVNlbGVjdFwiPiBNdWx0aXBsZSBzZWxlY3Q6IDwvbGFiZWw+PGJyPlxuICogICAgIDxzZWxlY3QgbmFtZT1cIm11bHRpcGxlU2VsZWN0XCIgaWQ9XCJtdWx0aXBsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5tdWx0aXBsZVNlbGVjdFwiIG11bHRpcGxlPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0xXCI+T3B0aW9uIDE8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTNcIj5PcHRpb24gMzwvb3B0aW9uPlxuICogICAgIDwvc2VsZWN0Pjxicj5cbiAqICAgICA8dHQ+bXVsdGlwbGVTZWxlY3QgPSB7e2RhdGEubXVsdGlwbGVTZWxlY3R9fTwvdHQ+PGJyLz5cbiAqICAgPC9mb3JtPlxuICogPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ3N0YXRpY1NlbGVjdCcsIFtdKVxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XG4gKiAgICAgICBzaW5nbGVTZWxlY3Q6IG51bGwsXG4gKiAgICAgICBtdWx0aXBsZVNlbGVjdDogW10sXG4gKiAgICAgICBvcHRpb24xOiAnb3B0aW9uLTEnLFxuICogICAgICB9O1xuICpcbiAqICAgICAgJHNjb3BlLmZvcmNlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICRzY29wZS5kYXRhLnNpbmdsZVNlbGVjdCA9ICdub25zZW5zZSc7XG4gKiAgICAgIH07XG4gKiAgIH1dKTtcbiAqIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuICpcbiAqICMjIyBVc2luZyBgbmdSZXBlYXRgIHRvIGdlbmVyYXRlIGBzZWxlY3RgIG9wdGlvbnNcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ3JlcGVhdC1zZWxlY3RcIiBtb2R1bGU9XCJuZ3JlcGVhdFNlbGVjdFwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAqICAgICA8bGFiZWwgZm9yPVwicmVwZWF0U2VsZWN0XCI+IFJlcGVhdCBzZWxlY3Q6IDwvbGFiZWw+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwicmVwZWF0U2VsZWN0XCIgaWQ9XCJyZXBlYXRTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEucmVwZWF0U2VsZWN0XCI+XG4gKiAgICAgICA8b3B0aW9uIG5nLXJlcGVhdD1cIm9wdGlvbiBpbiBkYXRhLmF2YWlsYWJsZU9wdGlvbnNcIiB2YWx1ZT1cInt7b3B0aW9uLmlkfX1cIj57e29wdGlvbi5uYW1lfX08L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD5cbiAqICAgPC9mb3JtPlxuICogICA8aHI+XG4gKiAgIDx0dD5yZXBlYXRTZWxlY3QgPSB7e2RhdGEucmVwZWF0U2VsZWN0fX08L3R0Pjxici8+XG4gKiA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICBhbmd1bGFyLm1vZHVsZSgnbmdyZXBlYXRTZWxlY3QnLCBbXSlcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICRzY29wZS5kYXRhID0ge1xuICogICAgICAgcmVwZWF0U2VsZWN0OiBudWxsLFxuICogICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xuICogICAgICAgICB7aWQ6ICcxJywgbmFtZTogJ09wdGlvbiBBJ30sXG4gKiAgICAgICAgIHtpZDogJzInLCBuYW1lOiAnT3B0aW9uIEInfSxcbiAqICAgICAgICAge2lkOiAnMycsIG5hbWU6ICdPcHRpb24gQyd9XG4gKiAgICAgICBdLFxuICogICAgICB9O1xuICogICB9XSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKlxuICogIyMjIFVzaW5nIGBzZWxlY3RgIHdpdGggYG5nT3B0aW9uc2AgYW5kIHNldHRpbmcgYSBkZWZhdWx0IHZhbHVlXG4gKiBTZWUgdGhlIHtAbGluayBuZ09wdGlvbnMgbmdPcHRpb25zIGRvY3VtZW50YXRpb259IGZvciBtb3JlIGBuZ09wdGlvbnNgIHVzYWdlIGV4YW1wbGVzLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1kZWZhdWx0LXZhbHVlc1wiIG1vZHVsZT1cImRlZmF1bHRWYWx1ZVNlbGVjdFwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAqICAgICA8bGFiZWwgZm9yPVwibXlTZWxlY3RcIj5NYWtlIGEgY2hvaWNlOjwvbGFiZWw+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwibXlTZWxlY3RcIiBpZD1cIm15U2VsZWN0XCJcbiAqICAgICAgIG5nLW9wdGlvbnM9XCJvcHRpb24ubmFtZSBmb3Igb3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9ucyB0cmFjayBieSBvcHRpb24uaWRcIlxuICogICAgICAgbmctbW9kZWw9XCJkYXRhLnNlbGVjdGVkT3B0aW9uXCI+PC9zZWxlY3Q+XG4gKiAgIDwvZm9ybT5cbiAqICAgPGhyPlxuICogICA8dHQ+b3B0aW9uID0ge3tkYXRhLnNlbGVjdGVkT3B0aW9ufX08L3R0Pjxici8+XG4gKiA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICBhbmd1bGFyLm1vZHVsZSgnZGVmYXVsdFZhbHVlU2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxuICogICAgICAgICB7aWQ6ICcyJywgbmFtZTogJ09wdGlvbiBCJ30sXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxuICogICAgICAgXSxcbiAqICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcbiAqICAgICAgIH07XG4gKiAgIH1dKTtcbiAqIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuICpcbiAqXG4gKiAjIyMgQmluZGluZyBgc2VsZWN0YCB0byBhIG5vbi1zdHJpbmcgdmFsdWUgdmlhIGBuZ01vZGVsYCBwYXJzaW5nIC8gZm9ybWF0dGluZ1xuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1ub24tc3RyaW5nLW9wdGlvbnNcIiBtb2R1bGU9XCJub25TdHJpbmdTZWxlY3RcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibW9kZWwuaWRcIiBjb252ZXJ0LXRvLW51bWJlcj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIwXCI+WmVybzwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjFcIj5PbmU8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIyXCI+VHdvPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+XG4gKiAgICAge3sgbW9kZWwgfX1cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ25vblN0cmluZ1NlbGVjdCcsIFtdKVxuICogICAgICAgLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gKiAgICAgICAgICRyb290U2NvcGUubW9kZWwgPSB7IGlkOiAyIH07XG4gKiAgICAgICB9KVxuICogICAgICAgLmRpcmVjdGl2ZSgnY29udmVydFRvTnVtYmVyJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICogICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICogICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbCkge1xuICogICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7XG4gKiAgICAgICAgICAgICB9KTtcbiAqICAgICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWwpIHtcbiAqICAgICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsO1xuICogICAgICAgICAgICAgfSk7XG4gKiAgICAgICAgICAgfVxuICogICAgICAgICB9O1xuICogICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgdmFyIHNlbGVjdCA9IGVsZW1lbnQoYnkuY3NzKCdzZWxlY3QnKSk7XG4gKiAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgnbW9kZWwuaWQnKSkuJCgnb3B0aW9uOmNoZWNrZWQnKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1R3bycpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICovXG52YXIgc2VsZWN0RGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6IFsnc2VsZWN0JywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogU2VsZWN0Q29udHJvbGxlcixcbiAgICBwcmlvcml0eTogMSxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IHNlbGVjdFByZUxpbmssXG4gICAgICBwb3N0OiBzZWxlY3RQb3N0TGlua1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBzZWxlY3RQcmVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuXG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcblxuICAgICAgc2VsZWN0Q3RybC5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuXG4gICAgICAvLyBXaGVuIHRoZSBzZWxlY3RlZCBpdGVtKHMpIGNoYW5nZXMgd2UgZGVsZWdhdGUgZ2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdCBjb250cm9sXG4gICAgICAvLyB0byB0aGUgYHJlYWRWYWx1ZWAgbWV0aG9kLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlXG4gICAgICAvLyBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYFxuICAgICAgZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGVjdEN0cmwucmVhZFZhbHVlKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB0aGUgc2VsZWN0IGFsbG93cyBtdWx0aXBsZSB2YWx1ZXMgdGhlbiB3ZSBuZWVkIHRvIG1vZGlmeSBob3cgd2UgcmVhZCBhbmQgd3JpdGVcbiAgICAgIC8vIHZhbHVlcyBmcm9tIGFuZCB0byB0aGUgY29udHJvbDsgYWxzbyB3aGF0IGl0IG1lYW5zIGZvciB0aGUgdmFsdWUgdG8gYmUgZW1wdHkgYW5kXG4gICAgICAvLyB3ZSBoYXZlIHRvIGFkZCBhbiBleHRyYSB3YXRjaCBzaW5jZSBuZ01vZGVsIGRvZXNuJ3Qgd29yayB3ZWxsIHdpdGggYXJyYXlzIC0gaXRcbiAgICAgIC8vIGRvZXNuJ3QgdHJpZ2dlciByZW5kZXJpbmcgaWYgb25seSBhbiBpdGVtIGluIHRoZSBhcnJheSBjaGFuZ2VzLlxuICAgICAgaWYgKGF0dHIubXVsdGlwbGUpIHtcblxuICAgICAgICAvLyBSZWFkIHZhbHVlIG5vdyBuZWVkcyB0byBjaGVjayBlYWNoIG9wdGlvbiB0byBzZWUgaWYgaXQgaXMgc2VsZWN0ZWRcbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTXVsdGlwbGVWYWx1ZSgpIHtcbiAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICBhcnJheS5wdXNoKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFdyaXRlIHZhbHVlIG5vdyBuZWVkcyB0byBzZXQgdGhlIHNlbGVjdGVkIHByb3BlcnR5IG9mIGVhY2ggbWF0Y2hpbmcgb3B0aW9uXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTXVsdGlwbGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgIHZhciBpdGVtcyA9IG5ldyBIYXNoTWFwKHZhbHVlKTtcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB3ZSBoYXZlIHRvIGRvIGl0IG9uIGVhY2ggd2F0Y2ggc2luY2UgbmdNb2RlbCB3YXRjaGVzIHJlZmVyZW5jZSwgYnV0XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd29yayBvZiBhbiBhcnJheSwgc28gd2UgbmVlZCB0byBzZWUgaWYgYW55dGhpbmcgd2FzIGluc2VydGVkL3JlbW92ZWRcbiAgICAgICAgdmFyIGxhc3RWaWV3LCBsYXN0Vmlld1JlZiA9IE5hTjtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIHNlbGVjdE11bHRpcGxlV2F0Y2goKSB7XG4gICAgICAgICAgaWYgKGxhc3RWaWV3UmVmID09PSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICYmICFlcXVhbHMobGFzdFZpZXcsIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgICBsYXN0VmlldyA9IHNoYWxsb3dDb3B5KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0Vmlld1JlZiA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSBhIG11bHRpcGxlIHNlbGVjdCB0aGVuIHZhbHVlIGlzIG5vdyBhIGNvbGxlY3Rpb25cbiAgICAgICAgLy8gc28gdGhlIG1lYW5pbmcgb2YgJGlzRW1wdHkgY2hhbmdlc1xuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XG4gICAgICAgIH07XG5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RQb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcblxuICAgICAgLy8gV2UgZGVsZWdhdGUgcmVuZGVyaW5nIHRvIHRoZSBgd3JpdGVWYWx1ZWAgbWV0aG9kLCB3aGljaCBjYW4gYmUgY2hhbmdlZFxuICAgICAgLy8gaWYgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nXG4gICAgICAvLyBnZW5lcmF0ZWQgYnkgYG5nT3B0aW9uc2AuXG4gICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBpbiB0aGUgcG9zdExpbmsgZm4gdG8gcHJldmVudCAkcmVuZGVyIHRvIGJlIGNhbGxlZCBiZWZvcmVcbiAgICAgIC8vIGFsbCBub2RlcyBoYXZlIGJlZW4gbGlua2VkIGNvcnJlY3RseS5cbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG59O1xuXG5cbi8vIFRoZSBvcHRpb24gZGlyZWN0aXZlIGlzIHB1cmVseSBkZXNpZ25lZCB0byBjb21tdW5pY2F0ZSB0aGUgZXhpc3RlbmNlIChvciBsYWNrIG9mKVxuLy8gb2YgZHluYW1pY2FsbHkgY3JlYXRlZCAoYW5kIGRlc3Ryb3llZCkgb3B0aW9uIGVsZW1lbnRzIHRvIHRoZWlyIGNvbnRhaW5pbmcgc2VsZWN0XG4vLyBkaXJlY3RpdmUgdmlhIGl0cyBjb250cm9sbGVyLlxudmFyIG9wdGlvbkRpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgZnVuY3Rpb24oJGludGVycG9sYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChpc0RlZmluZWQoYXR0ci52YWx1ZSkpIHtcbiAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBkZWZpbmVkLCBjaGVjayBpZiBpdCBjb250YWlucyBhbiBpbnRlcnBvbGF0aW9uXG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZVZhbHVlRm4gPSAkaW50ZXJwb2xhdGUoYXR0ci52YWx1ZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIG5vdCBkZWZpbmVkIHRoZW4gd2UgZmFsbCBiYWNrIHRvIHRoZVxuICAgICAgICAvLyB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9wdGlvbiBlbGVtZW50LCB3aGljaCBtYXkgYmUgaW50ZXJwb2xhdGVkXG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZVRleHRGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LnRleHQoKSwgdHJ1ZSk7XG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVUZXh0Rm4pIHtcbiAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgZWxlbWVudC50ZXh0KCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIG9wdGltaXphdGlvbiBvdmVyIHVzaW5nIF5eIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gaGF2ZSB0byBzZWFyY2hcbiAgICAgICAgLy8gYWxsIHRoZSB3YXkgdG8gdGhlIHJvb3Qgb2YgdGhlIERPTSBmb3IgZXZlcnkgc2luZ2xlIG9wdGlvbiBlbGVtZW50XG4gICAgICAgIHZhciBzZWxlY3RDdHJsTmFtZSA9ICckc2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxuICAgICAgICAgICAgc2VsZWN0Q3RybCA9IHBhcmVudC5kYXRhKHNlbGVjdEN0cmxOYW1lKSB8fFxuICAgICAgICAgICAgICBwYXJlbnQucGFyZW50KCkuZGF0YShzZWxlY3RDdHJsTmFtZSk7IC8vIGluIGNhc2Ugd2UgYXJlIGluIG9wdGdyb3VwXG5cbiAgICAgICAgaWYgKHNlbGVjdEN0cmwpIHtcbiAgICAgICAgICBzZWxlY3RDdHJsLnJlZ2lzdGVyT3B0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBpbnRlcnBvbGF0ZVZhbHVlRm4sIGludGVycG9sYXRlVGV4dEZuKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxudmFyIHN0eWxlRGlyZWN0aXZlID0gdmFsdWVGbih7XG4gIHJlc3RyaWN0OiAnRScsXG4gIHRlcm1pbmFsOiBmYWxzZVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdSZXF1aXJlZFxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBuZ1JlcXVpcmVkIGFkZHMgdGhlIHJlcXVpcmVkIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB7QGxpbmsgaW5wdXQgYGlucHV0YH0gYW5kIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmVcbiAqIGFwcGxpZWQgdG8gY3VzdG9tIGNvbnRyb2xzLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgc2V0cyB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaWYgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBpbnNpZGVcbiAqIGBuZ1JlcXVpcmVkYCBldmFsdWF0ZXMgdG8gdHJ1ZS4gQSBzcGVjaWFsIGRpcmVjdGl2ZSBmb3Igc2V0dGluZyBgcmVxdWlyZWRgIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlXG4gKiBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIGByZXF1aXJlZGAuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX1cbiAqIGZvciBtb3JlIGluZm8uXG4gKlxuICogVGhlIHZhbGlkYXRvciB3aWxsIHNldCB0aGUgYHJlcXVpcmVkYCBlcnJvciBrZXkgdG8gdHJ1ZSBpZiB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgaXMgc2V0IGFuZFxuICogY2FsbGluZyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkaXNFbXB0eSBgTmdNb2RlbENvbnRyb2xsZXIuJGlzRW1wdHlgfSB3aXRoIHRoZVxuICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH0gcmV0dXJucyBgdHJ1ZWAuIEZvciBleGFtcGxlLCB0aGVcbiAqIGAkaXNFbXB0eSgpYCBpbXBsZW1lbnRhdGlvbiBmb3IgYGlucHV0W3RleHRdYCBjaGVja3MgdGhlIGxlbmd0aCBvZiB0aGUgYCR2aWV3VmFsdWVgLiBXaGVuIGRldmVsb3BpbmdcbiAqIGN1c3RvbSBjb250cm9scywgYCRpc0VtcHR5KClgIGNhbiBiZSBvdmVyd3JpdHRlbiB0byBhY2NvdW50IGZvciBhICR2aWV3VmFsdWUgdGhhdCBpcyBub3Qgc3RyaW5nLWJhc2VkLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdSZXF1aXJlZERpcmVjdGl2ZVwiIG1vZHVsZT1cIm5nUmVxdWlyZWRFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNjcmlwdD5cbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JlcXVpcmVkRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5yZXF1aXJlZCA9IHRydWU7XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cbiAqICAgICAgICAgPGxhYmVsIGZvcj1cInJlcXVpcmVkXCI+VG9nZ2xlIHJlcXVpcmVkOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJyZXF1aXJlZFwiIGlkPVwicmVxdWlyZWRcIiAvPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgbXVzdCBiZSBmaWxsZWQgaWYgYHJlcXVpcmVkYCBpcyB0cnVlOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1vZGVsXCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLXJlcXVpcmVkPVwicmVxdWlyZWRcIiAvPjxicj5cbiAqICAgICAgICAgPGhyPlxuICogICAgICAgICByZXF1aXJlZCBlcnJvciBzZXQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxicj5cbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciByZXF1aXJlZCA9IGVsZW1lbnQoYnkuYmluZGluZygnZm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWQnKSk7XG4gICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCdtb2RlbCcpKTtcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcblxuICAgICAgIGl0KCdzaG91bGQgc2V0IHRoZSByZXF1aXJlZCBlcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHJlcXVpcmVkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG5cbiAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTtcbiAgICAgICAgIGV4cGVjdChyZXF1aXJlZC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignMTIzJyk7XG4gICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIHJlcXVpcmVkRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuICAgICAgYXR0ci5yZXF1aXJlZCA9IHRydWU7IC8vIGZvcmNlIHRydXRoeSBpbiBjYXNlIHdlIGFyZSBvbiBub24gaW5wdXQgZWxlbWVudFxuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpO1xuICAgICAgfTtcblxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQYXR0ZXJuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogbmdQYXR0ZXJuIGFkZHMgdGhlIHBhdHRlcm4ge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9IHRvIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0uXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cbiAqXG4gKiBUaGUgdmFsaWRhdG9yIHNldHMgdGhlIGBwYXR0ZXJuYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XG4gKiBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCB3aGljaCBpcyBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXG4gKiBgbmdQYXR0ZXJuYCBhdHRyaWJ1dGUgdmFsdWU6XG4gKiAqIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICogKiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHAgYWZ0ZXIgd3JhcHBpbmcgaXRcbiAqIGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAqIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gKiBhY2NvdW50LlxuICogPC9kaXY+XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBwYXR0ZXJuYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cbiAqIGRpZmZlcmVuY2VzOlxuICogPG9sPlxuICogICA8bGk+XG4gKiAgICAgYG5nUGF0dGVybmAgZG9lcyBub3Qgc2V0IHRoZSBgcGF0dGVybmAgYXR0cmlidXRlIGFuZCB0aGVyZWZvcmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uIGlzXG4gKiAgICAgbm90IGF2YWlsYWJsZS5cbiAqICAgPC9saT5cbiAqICAgPGxpPlxuICogICAgIFRoZSBgbmdQYXR0ZXJuYCBhdHRyaWJ1dGUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYHBhdHRlcm5gIHZhbHVlIG11c3QgYmVcbiAqICAgICBpbnRlcnBvbGF0ZWQuXG4gKiAgIDwvbGk+XG4gKiA8L29sPlxuICogPC9kaXY+XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ1BhdHRlcm5EaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1BhdHRlcm5FeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNjcmlwdD5cbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1BhdHRlcm5FeGFtcGxlJywgW10pXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAgICAgJHNjb3BlLnJlZ2V4ID0gJ1xcXFxkKyc7XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cbiAqICAgICAgICAgPGxhYmVsIGZvcj1cInJlZ2V4XCI+U2V0IGEgcGF0dGVybiAocmVnZXggc3RyaW5nKTogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJyZWdleFwiIGlkPVwicmVnZXhcIiAvPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBwYXR0ZXJuOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1vZGVsXCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLXBhdHRlcm49XCJyZWdleFwiIC8+PGJyPlxuICogICAgICAgICA8aHI+XG4gKiAgICAgICAgIGlucHV0IHZhbGlkPyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XG4gKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxuICogICAgICAgPC9mb3JtPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ21vZGVsJykpO1xuICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkuaWQoJ2lucHV0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGUgaW5wdXQgd2l0aCB0aGUgZGVmYXVsdCBwYXR0ZXJuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWFhJyk7XG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYWEnKTtcblxuICAgICAgICAgaW5wdXQuY2xlYXIoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XG4gICAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignMTIzJyk7XG4gICAgICAgICB9KTtcbiAgICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICovXG52YXIgcGF0dGVybkRpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIHJlZ2V4cCwgcGF0dGVybkV4cCA9IGF0dHIubmdQYXR0ZXJuIHx8IGF0dHIucGF0dGVybjtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ3BhdHRlcm4nLCBmdW5jdGlvbihyZWdleCkge1xuICAgICAgICBpZiAoaXNTdHJpbmcocmVnZXgpICYmIHJlZ2V4Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgcmVnZXggKyAnJCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZ2V4ICYmICFyZWdleC50ZXN0KSB7XG4gICAgICAgICAgdGhyb3cgbWluRXJyKCduZ1BhdHRlcm4nKSgnbm9yZWdleHAnLFxuICAgICAgICAgICAgJ0V4cGVjdGVkIHswfSB0byBiZSBhIFJlZ0V4cCBidXQgd2FzIHsxfS4gRWxlbWVudDogezJ9JywgcGF0dGVybkV4cCxcbiAgICAgICAgICAgIHJlZ2V4LCBzdGFydGluZ1RhZyhlbG0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2V4cCA9IHJlZ2V4IHx8IHVuZGVmaW5lZDtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgLy8gSFRNTDUgcGF0dGVybiBjb25zdHJhaW50IHZhbGlkYXRlcyB0aGUgaW5wdXQgdmFsdWUsIHNvIHdlIHZhbGlkYXRlIHRoZSB2aWV3VmFsdWVcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChyZWdleHApIHx8IHJlZ2V4cC50ZXN0KHZpZXdWYWx1ZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNYXhsZW5ndGhcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBuZ01heGxlbmd0aCBhZGRzIHRoZSBtYXhsZW5ndGgge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9IHRvIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0uXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cbiAqXG4gKiBUaGUgdmFsaWRhdG9yIHNldHMgdGhlIGBtYXhsZW5ndGhgIGVycm9yIGtleSBpZiB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH1cbiAqIGlzIGxvbmdlciB0aGFuIHRoZSBpbnRlZ2VyIG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcbiAqIGBuZ01heGxlbmd0aGAgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKk5vdGU6KiogVGhpcyBkaXJlY3RpdmUgaXMgYWxzbyBhZGRlZCB3aGVuIHRoZSBwbGFpbiBgbWF4bGVuZ3RoYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cbiAqIGRpZmZlcmVuY2VzOlxuICogPG9sPlxuICogICA8bGk+XG4gKiAgICAgYG5nTWF4bGVuZ3RoYCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnRcbiAqICAgICB2YWxpZGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuXG4gKiAgIDwvbGk+XG4gKiAgIDxsaT5cbiAqICAgICBUaGUgYG5nTWF4bGVuZ3RoYCBhdHRyaWJ1dGUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1heGxlbmd0aGAgdmFsdWUgbXVzdCBiZVxuICogICAgIGludGVycG9sYXRlZC5cbiAqICAgPC9saT5cbiAqIDwvb2w+XG4gKiA8L2Rpdj5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nTWF4bGVuZ3RoRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdNYXhsZW5ndGhFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNjcmlwdD5cbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ01heGxlbmd0aEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICAkc2NvcGUubWF4bGVuZ3RoID0gNTtcbiAqICAgICAgICAgfV0pO1xuICogICAgIDwvc2NyaXB0PlxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwibWF4bGVuZ3RoXCI+U2V0IGEgbWF4bGVuZ3RoOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWF4bGVuZ3RoXCIgaWQ9XCJtYXhsZW5ndGhcIiAvPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBtYXhsZW5ndGg6IDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWF4bGVuZ3RoPVwibWF4bGVuZ3RoXCIgLz48YnI+XG4gKiAgICAgICAgIDxocj5cbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IG1heGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiY2RlZicpO1xuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkubm90LnRvQ29udGFpbignYWJjZGVmJyk7XG5cbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiY2RlJyk7XG4gICAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignYWJjZGUnKTtcbiAgICAgICAgIH0pO1xuICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBtYXhsZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtYXhsZW5ndGggPSAtMTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heGxlbmd0aCcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbnRWYWwgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgIG1heGxlbmd0aCA9IGlzTmFOKGludFZhbCkgPyAtMSA6IGludFZhbDtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXhsZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIChtYXhsZW5ndGggPCAwKSB8fCBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgKHZpZXdWYWx1ZS5sZW5ndGggPD0gbWF4bGVuZ3RoKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01pbmxlbmd0aFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIG5nTWlubGVuZ3RoIGFkZHMgdGhlIG1pbmxlbmd0aCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgdmFsaWRhdG9yYH0gdG8ge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfS5cbiAqIEl0IGlzIG1vc3Qgb2Z0ZW4gdXNlZCBmb3IgdGV4dC1iYXNlZCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZSBhcHBsaWVkIHRvIGN1c3RvbSB0ZXh0LWJhc2VkIGNvbnRyb2xzLlxuICpcbiAqIFRoZSB2YWxpZGF0b3Igc2V0cyB0aGUgYG1pbmxlbmd0aGAgZXJyb3Iga2V5IGlmIHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlIGBuZ01vZGVsLiR2aWV3VmFsdWVgfVxuICogaXMgc2hvcnRlciB0aGFuIHRoZSBpbnRlZ2VyIG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcbiAqIGBuZ01pbmxlbmd0aGAgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKk5vdGU6KiogVGhpcyBkaXJlY3RpdmUgaXMgYWxzbyBhZGRlZCB3aGVuIHRoZSBwbGFpbiBgbWlubGVuZ3RoYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cbiAqIGRpZmZlcmVuY2VzOlxuICogPG9sPlxuICogICA8bGk+XG4gKiAgICAgYG5nTWlubGVuZ3RoYCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5sZW5ndGhgIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnRcbiAqICAgICB2YWxpZGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuXG4gKiAgIDwvbGk+XG4gKiAgIDxsaT5cbiAqICAgICBUaGUgYG5nTWlubGVuZ3RoYCB2YWx1ZSBtdXN0IGJlIGFuIGV4cHJlc3Npb24sIHdoaWxlIHRoZSBgbWlubGVuZ3RoYCB2YWx1ZSBtdXN0IGJlXG4gKiAgICAgaW50ZXJwb2xhdGVkLlxuICogICA8L2xpPlxuICogPC9vbD5cbiAqIDwvZGl2PlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNaW5sZW5ndGhEaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ01pbmxlbmd0aEV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8c2NyaXB0PlxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nTWlubGVuZ3RoRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5taW5sZW5ndGggPSAzO1xuICogICAgICAgICB9XSk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJtaW5sZW5ndGhcIj5TZXQgYSBtaW5sZW5ndGg6IDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJtaW5sZW5ndGhcIiBpZD1cIm1pbmxlbmd0aFwiIC8+XG4gKiAgICAgICAgIDxicj5cbiAqICAgICAgICAgPGxhYmVsIGZvcj1cImlucHV0XCI+VGhpcyBpbnB1dCBpcyByZXN0cmljdGVkIGJ5IHRoZSBjdXJyZW50IG1pbmxlbmd0aDogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1taW5sZW5ndGg9XCJtaW5sZW5ndGhcIiAvPjxicj5cbiAqICAgICAgICAgPGhyPlxuICogICAgICAgICBpbnB1dCB2YWxpZD8gPSA8Y29kZT57e2Zvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxuICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cbiAqICAgICAgIDwvZm9ybT5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCdtb2RlbCcpKTtcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcblxuICAgICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhlIGlucHV0IHdpdGggdGhlIGRlZmF1bHQgbWlubGVuZ3RoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWInKTtcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ2FiJyk7XG5cbiAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYmMnKTtcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignYWJjJyk7XG4gICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIG1pbmxlbmd0aERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIG1pbmxlbmd0aCA9IDA7XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtaW5sZW5ndGgnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBtaW5sZW5ndGggPSB0b0ludCh2YWx1ZSkgfHwgMDtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW5sZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCB2aWV3VmFsdWUubGVuZ3RoID49IG1pbmxlbmd0aDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuaWYgKHdpbmRvdy5hbmd1bGFyLmJvb3RzdHJhcCkge1xuICAvL0FuZ3VsYXJKUyBpcyBhbHJlYWR5IGxvYWRlZCwgc28gd2UgY2FuIHJldHVybiBoZXJlLi4uXG4gIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuJyk7XG4gIH1cbiAgcmV0dXJuO1xufVxuXG4vL3RyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoKVxuLy9idXQgd2Ugd2lsbCByZWJpbmQgb24gYm9vdHN0cmFwIGFnYWluLlxuYmluZEpRdWVyeSgpO1xuXG5wdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhcik7XG5cbmFuZ3VsYXIubW9kdWxlKFwibmdMb2NhbGVcIiwgW10sIFtcIiRwcm92aWRlXCIsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG52YXIgUExVUkFMX0NBVEVHT1JZID0ge1pFUk86IFwiemVyb1wiLCBPTkU6IFwib25lXCIsIFRXTzogXCJ0d29cIiwgRkVXOiBcImZld1wiLCBNQU5ZOiBcIm1hbnlcIiwgT1RIRVI6IFwib3RoZXJcIn07XG5mdW5jdGlvbiBnZXREZWNpbWFscyhuKSB7XG4gIG4gPSBuICsgJyc7XG4gIHZhciBpID0gbi5pbmRleE9mKCcuJyk7XG4gIHJldHVybiAoaSA9PSAtMSkgPyAwIDogbi5sZW5ndGggLSBpIC0gMTtcbn1cblxuZnVuY3Rpb24gZ2V0VkYobiwgb3B0X3ByZWNpc2lvbikge1xuICB2YXIgdiA9IG9wdF9wcmVjaXNpb247XG5cbiAgaWYgKHVuZGVmaW5lZCA9PT0gdikge1xuICAgIHYgPSBNYXRoLm1pbihnZXREZWNpbWFscyhuKSwgMyk7XG4gIH1cblxuICB2YXIgYmFzZSA9IE1hdGgucG93KDEwLCB2KTtcbiAgdmFyIGYgPSAoKG4gKiBiYXNlKSB8IDApICUgYmFzZTtcbiAgcmV0dXJuIHt2OiB2LCBmOiBmfTtcbn1cblxuJHByb3ZpZGUudmFsdWUoXCIkbG9jYWxlXCIsIHtcbiAgXCJEQVRFVElNRV9GT1JNQVRTXCI6IHtcbiAgICBcIkFNUE1TXCI6IFtcbiAgICAgIFwiQU1cIixcbiAgICAgIFwiUE1cIlxuICAgIF0sXG4gICAgXCJEQVlcIjogW1xuICAgICAgXCJTdW5kYXlcIixcbiAgICAgIFwiTW9uZGF5XCIsXG4gICAgICBcIlR1ZXNkYXlcIixcbiAgICAgIFwiV2VkbmVzZGF5XCIsXG4gICAgICBcIlRodXJzZGF5XCIsXG4gICAgICBcIkZyaWRheVwiLFxuICAgICAgXCJTYXR1cmRheVwiXG4gICAgXSxcbiAgICBcIkVSQU5BTUVTXCI6IFtcbiAgICAgIFwiQmVmb3JlIENocmlzdFwiLFxuICAgICAgXCJBbm5vIERvbWluaVwiXG4gICAgXSxcbiAgICBcIkVSQVNcIjogW1xuICAgICAgXCJCQ1wiLFxuICAgICAgXCJBRFwiXG4gICAgXSxcbiAgICBcIkZJUlNUREFZT0ZXRUVLXCI6IDYsXG4gICAgXCJNT05USFwiOiBbXG4gICAgICBcIkphbnVhcnlcIixcbiAgICAgIFwiRmVicnVhcnlcIixcbiAgICAgIFwiTWFyY2hcIixcbiAgICAgIFwiQXByaWxcIixcbiAgICAgIFwiTWF5XCIsXG4gICAgICBcIkp1bmVcIixcbiAgICAgIFwiSnVseVwiLFxuICAgICAgXCJBdWd1c3RcIixcbiAgICAgIFwiU2VwdGVtYmVyXCIsXG4gICAgICBcIk9jdG9iZXJcIixcbiAgICAgIFwiTm92ZW1iZXJcIixcbiAgICAgIFwiRGVjZW1iZXJcIlxuICAgIF0sXG4gICAgXCJTSE9SVERBWVwiOiBbXG4gICAgICBcIlN1blwiLFxuICAgICAgXCJNb25cIixcbiAgICAgIFwiVHVlXCIsXG4gICAgICBcIldlZFwiLFxuICAgICAgXCJUaHVcIixcbiAgICAgIFwiRnJpXCIsXG4gICAgICBcIlNhdFwiXG4gICAgXSxcbiAgICBcIlNIT1JUTU9OVEhcIjogW1xuICAgICAgXCJKYW5cIixcbiAgICAgIFwiRmViXCIsXG4gICAgICBcIk1hclwiLFxuICAgICAgXCJBcHJcIixcbiAgICAgIFwiTWF5XCIsXG4gICAgICBcIkp1blwiLFxuICAgICAgXCJKdWxcIixcbiAgICAgIFwiQXVnXCIsXG4gICAgICBcIlNlcFwiLFxuICAgICAgXCJPY3RcIixcbiAgICAgIFwiTm92XCIsXG4gICAgICBcIkRlY1wiXG4gICAgXSxcbiAgICBcIlNUQU5EQUxPTkVNT05USFwiOiBbXG4gICAgICBcIkphbnVhcnlcIixcbiAgICAgIFwiRmVicnVhcnlcIixcbiAgICAgIFwiTWFyY2hcIixcbiAgICAgIFwiQXByaWxcIixcbiAgICAgIFwiTWF5XCIsXG4gICAgICBcIkp1bmVcIixcbiAgICAgIFwiSnVseVwiLFxuICAgICAgXCJBdWd1c3RcIixcbiAgICAgIFwiU2VwdGVtYmVyXCIsXG4gICAgICBcIk9jdG9iZXJcIixcbiAgICAgIFwiTm92ZW1iZXJcIixcbiAgICAgIFwiRGVjZW1iZXJcIlxuICAgIF0sXG4gICAgXCJXRUVLRU5EUkFOR0VcIjogW1xuICAgICAgNSxcbiAgICAgIDZcbiAgICBdLFxuICAgIFwiZnVsbERhdGVcIjogXCJFRUVFLCBNTU1NIGQsIHlcIixcbiAgICBcImxvbmdEYXRlXCI6IFwiTU1NTSBkLCB5XCIsXG4gICAgXCJtZWRpdW1cIjogXCJNTU0gZCwgeSBoOm1tOnNzIGFcIixcbiAgICBcIm1lZGl1bURhdGVcIjogXCJNTU0gZCwgeVwiLFxuICAgIFwibWVkaXVtVGltZVwiOiBcImg6bW06c3MgYVwiLFxuICAgIFwic2hvcnRcIjogXCJNL2QveXkgaDptbSBhXCIsXG4gICAgXCJzaG9ydERhdGVcIjogXCJNL2QveXlcIixcbiAgICBcInNob3J0VGltZVwiOiBcImg6bW0gYVwiXG4gIH0sXG4gIFwiTlVNQkVSX0ZPUk1BVFNcIjoge1xuICAgIFwiQ1VSUkVOQ1lfU1lNXCI6IFwiJFwiLFxuICAgIFwiREVDSU1BTF9TRVBcIjogXCIuXCIsXG4gICAgXCJHUk9VUF9TRVBcIjogXCIsXCIsXG4gICAgXCJQQVRURVJOU1wiOiBbXG4gICAgICB7XG4gICAgICAgIFwiZ1NpemVcIjogMyxcbiAgICAgICAgXCJsZ1NpemVcIjogMyxcbiAgICAgICAgXCJtYXhGcmFjXCI6IDMsXG4gICAgICAgIFwibWluRnJhY1wiOiAwLFxuICAgICAgICBcIm1pbkludFwiOiAxLFxuICAgICAgICBcIm5lZ1ByZVwiOiBcIi1cIixcbiAgICAgICAgXCJuZWdTdWZcIjogXCJcIixcbiAgICAgICAgXCJwb3NQcmVcIjogXCJcIixcbiAgICAgICAgXCJwb3NTdWZcIjogXCJcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgXCJnU2l6ZVwiOiAzLFxuICAgICAgICBcImxnU2l6ZVwiOiAzLFxuICAgICAgICBcIm1heEZyYWNcIjogMixcbiAgICAgICAgXCJtaW5GcmFjXCI6IDIsXG4gICAgICAgIFwibWluSW50XCI6IDEsXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVxcdTAwYTRcIixcbiAgICAgICAgXCJuZWdTdWZcIjogXCJcIixcbiAgICAgICAgXCJwb3NQcmVcIjogXCJcXHUwMGE0XCIsXG4gICAgICAgIFwicG9zU3VmXCI6IFwiXCJcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIFwiaWRcIjogXCJlbi11c1wiLFxuICBcImxvY2FsZUlEXCI6IFwiZW5fVVNcIixcbiAgXCJwbHVyYWxDYXRcIjogZnVuY3Rpb24obiwgb3B0X3ByZWNpc2lvbikgeyAgdmFyIGkgPSBuIHwgMDsgIHZhciB2ZiA9IGdldFZGKG4sIG9wdF9wcmVjaXNpb24pOyAgaWYgKGkgPT0gMSAmJiB2Zi52ID09IDApIHsgICAgcmV0dXJuIFBMVVJBTF9DQVRFR09SWS5PTkU7ICB9ICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9USEVSO31cbn0pO1xufV0pO1xuXG4gIGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGFuZ3VsYXJJbml0KHdpbmRvdy5kb2N1bWVudCwgYm9vdHN0cmFwKTtcbiAgfSk7XG5cbn0pKHdpbmRvdyk7XG5cbiF3aW5kb3cuYW5ndWxhci4kJGNzcCgpLm5vSW5saW5lU3R5bGUgJiYgd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO30ubmctYW5pbWF0ZS1zaGlte3Zpc2liaWxpdHk6aGlkZGVuO30ubmctYW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO308L3N0eWxlPicpOyIsIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjUuOFxuICogKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4oZnVuY3Rpb24od2luZG93LCBhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nQ29va2llc1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIyBuZ0Nvb2tpZXNcbiAqXG4gKiBUaGUgYG5nQ29va2llc2AgbW9kdWxlIHByb3ZpZGVzIGEgY29udmVuaWVudCB3cmFwcGVyIGZvciByZWFkaW5nIGFuZCB3cml0aW5nIGJyb3dzZXIgY29va2llcy5cbiAqXG4gKlxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ0Nvb2tpZXNcIj48L2Rpdj5cbiAqXG4gKiBTZWUge0BsaW5rIG5nQ29va2llcy4kY29va2llcyBgJGNvb2tpZXNgfSBmb3IgdXNhZ2UuXG4gKi9cblxuXG5hbmd1bGFyLm1vZHVsZSgnbmdDb29raWVzJywgWyduZyddKS5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm92aWRlclxuICAgKiBAbmFtZSAkY29va2llc1Byb3ZpZGVyXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBVc2UgYCRjb29raWVzUHJvdmlkZXJgIHRvIGNoYW5nZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nQ29va2llcy4kY29va2llcyAkY29va2llc30gc2VydmljZS5cbiAgICogKi9cbiAgIHByb3ZpZGVyKCckY29va2llcycsIFtmdW5jdGlvbiAkQ29va2llc1Byb3ZpZGVyKCkge1xuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAqIEBuYW1lICRjb29raWVzUHJvdmlkZXIjZGVmYXVsdHNcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIE9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgb3B0aW9ucyB0byBwYXNzIHdoZW4gc2V0dGluZyBjb29raWVzLlxuICAgICAqXG4gICAgICogVGhlIG9iamVjdCBtYXkgaGF2ZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKlxuICAgICAqIC0gKipwYXRoKiogLSBge3N0cmluZ31gIC0gVGhlIGNvb2tpZSB3aWxsIGJlIGF2YWlsYWJsZSBvbmx5IGZvciB0aGlzIHBhdGggYW5kIGl0c1xuICAgICAqICAgc3ViLXBhdGhzLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBVUkwgdGhhdCBhcHBlYXJzIGluIHlvdXIgYDxiYXNlPmAgdGFnLlxuICAgICAqIC0gKipkb21haW4qKiAtIGB7c3RyaW5nfWAgLSBUaGUgY29va2llIHdpbGwgYmUgYXZhaWxhYmxlIG9ubHkgZm9yIHRoaXMgZG9tYWluIGFuZFxuICAgICAqICAgaXRzIHN1Yi1kb21haW5zLiBGb3Igc2VjdXJpdHkgcmVhc29ucyB0aGUgdXNlciBhZ2VudCB3aWxsIG5vdCBhY2NlcHQgdGhlIGNvb2tpZVxuICAgICAqICAgaWYgdGhlIGN1cnJlbnQgZG9tYWluIGlzIG5vdCBhIHN1Yi1kb21haW4gb2YgdGhpcyBkb21haW4gb3IgZXF1YWwgdG8gaXQuXG4gICAgICogLSAqKmV4cGlyZXMqKiAtIGB7c3RyaW5nfERhdGV9YCAtIFN0cmluZyBvZiB0aGUgZm9ybSBcIldkeSwgREQgTW9uIFlZWVkgSEg6TU06U1MgR01UXCJcbiAgICAgKiAgIG9yIGEgRGF0ZSBvYmplY3QgaW5kaWNhdGluZyB0aGUgZXhhY3QgZGF0ZS90aW1lIHRoaXMgY29va2llIHdpbGwgZXhwaXJlLlxuICAgICAqIC0gKipzZWN1cmUqKiAtIGB7Ym9vbGVhbn1gIC0gSWYgYHRydWVgLCB0aGVuIHRoZSBjb29raWUgd2lsbCBvbmx5IGJlIGF2YWlsYWJsZSB0aHJvdWdoIGFcbiAgICAgKiAgIHNlY3VyZWQgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIE5vdGU6IEJ5IGRlZmF1bHQsIHRoZSBhZGRyZXNzIHRoYXQgYXBwZWFycyBpbiB5b3VyIGA8YmFzZT5gIHRhZyB3aWxsIGJlIHVzZWQgYXMgdGhlIHBhdGguXG4gICAgICogVGhpcyBpcyBpbXBvcnRhbnQgc28gdGhhdCBjb29raWVzIHdpbGwgYmUgdmlzaWJsZSBmb3IgYWxsIHJvdXRlcyB3aGVuIGh0bWw1bW9kZSBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICoqL1xuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZGVmYXVsdHMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGNhbGNPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBvcHRpb25zID8gYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKSA6IGRlZmF1bHRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGNvb2tpZXNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFByb3ZpZGVzIHJlYWQvd3JpdGUgYWNjZXNzIHRvIGJyb3dzZXIncyBjb29raWVzLlxuICAgICAqXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAgICAgKiBVcCB1bnRpbCBBbmd1bGFyIDEuMywgYCRjb29raWVzYCBleHBvc2VkIHByb3BlcnRpZXMgdGhhdCByZXByZXNlbnRlZCB0aGVcbiAgICAgKiBjdXJyZW50IGJyb3dzZXIgY29va2llIHZhbHVlcy4gSW4gdmVyc2lvbiAxLjQsIHRoaXMgYmVoYXZpb3IgaGFzIGNoYW5nZWQsIGFuZFxuICAgICAqIGAkY29va2llc2Agbm93IHByb3ZpZGVzIGEgc3RhbmRhcmQgYXBpIG9mIGdldHRlcnMsIHNldHRlcnMgZXRjLlxuICAgICAqIDwvZGl2PlxuICAgICAqXG4gICAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0Nvb2tpZXMgYG5nQ29va2llc2B9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBhbmd1bGFyLm1vZHVsZSgnY29va2llc0V4YW1wbGUnLCBbJ25nQ29va2llcyddKVxuICAgICAqICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckY29va2llcycsIGZ1bmN0aW9uKCRjb29raWVzKSB7XG4gICAgICogICAgIC8vIFJldHJpZXZpbmcgYSBjb29raWVcbiAgICAgKiAgICAgdmFyIGZhdm9yaXRlQ29va2llID0gJGNvb2tpZXMuZ2V0KCdteUZhdm9yaXRlJyk7XG4gICAgICogICAgIC8vIFNldHRpbmcgYSBjb29raWVcbiAgICAgKiAgICAgJGNvb2tpZXMucHV0KCdteUZhdm9yaXRlJywgJ29hdG1lYWwnKTtcbiAgICAgKiAgIH1dKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB0aGlzLiRnZXQgPSBbJyQkY29va2llUmVhZGVyJywgJyQkY29va2llV3JpdGVyJywgZnVuY3Rpb24oJCRjb29raWVSZWFkZXIsICQkY29va2llV3JpdGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY29va2llcyNnZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGdpdmVuIGNvb2tpZSBrZXlcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBJZCB0byB1c2UgZm9yIGxvb2t1cC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmF3IGNvb2tpZSB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICQkY29va2llUmVhZGVyKClba2V5XTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY29va2llcyNnZXRPYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIGRlc2VyaWFsaXplZCB2YWx1ZSBvZiBnaXZlbiBjb29raWUga2V5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgSWQgdG8gdXNlIGZvciBsb29rdXAuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IERlc2VyaWFsaXplZCBjb29raWUgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRPYmplY3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID8gYW5ndWxhci5mcm9tSnNvbih2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY29va2llcyNnZXRBbGxcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYSBrZXkgdmFsdWUgb2JqZWN0IHdpdGggYWxsIHRoZSBjb29raWVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEFsbCBjb29raWVzXG4gICAgICAgICAqL1xuICAgICAgICBnZXRBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkJGNvb2tpZVJlYWRlcigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjb29raWVzI3B1dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogU2V0cyBhIHZhbHVlIGZvciBnaXZlbiBjb29raWUga2V5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgSWQgZm9yIHRoZSBgdmFsdWVgLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgUmF3IHZhbHVlIHRvIGJlIHN0b3JlZC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LlxuICAgICAgICAgKiAgICBTZWUge0BsaW5rIG5nQ29va2llcy4kY29va2llc1Byb3ZpZGVyI2RlZmF1bHRzICRjb29raWVzUHJvdmlkZXIuZGVmYXVsdHN9XG4gICAgICAgICAqL1xuICAgICAgICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAkJGNvb2tpZVdyaXRlcihrZXksIHZhbHVlLCBjYWxjT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNvb2tpZXMjcHV0T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBTZXJpYWxpemVzIGFuZCBzZXRzIGEgdmFsdWUgZm9yIGdpdmVuIGNvb2tpZSBrZXlcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBJZCBmb3IgdGhlIGB2YWx1ZWAuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBWYWx1ZSB0byBiZSBzdG9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgICAgICogICAgU2VlIHtAbGluayBuZ0Nvb2tpZXMuJGNvb2tpZXNQcm92aWRlciNkZWZhdWx0cyAkY29va2llc1Byb3ZpZGVyLmRlZmF1bHRzfVxuICAgICAgICAgKi9cbiAgICAgICAgcHV0T2JqZWN0OiBmdW5jdGlvbihrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgICAgdGhpcy5wdXQoa2V5LCBhbmd1bGFyLnRvSnNvbih2YWx1ZSksIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjb29raWVzI3JlbW92ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVtb3ZlIGdpdmVuIGNvb2tpZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IElkIG9mIHRoZSBrZXktdmFsdWUgcGFpciB0byBkZWxldGUuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgICAgICogICAgU2VlIHtAbGluayBuZ0Nvb2tpZXMuJGNvb2tpZXNQcm92aWRlciNkZWZhdWx0cyAkY29va2llc1Byb3ZpZGVyLmRlZmF1bHRzfVxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgICAkJGNvb2tpZVdyaXRlcihrZXksIHVuZGVmaW5lZCwgY2FsY09wdGlvbnMob3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dO1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCduZ0Nvb2tpZXMnKS5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRjb29raWVTdG9yZVxuICogQGRlcHJlY2F0ZWRcbiAqIEByZXF1aXJlcyAkY29va2llc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUHJvdmlkZXMgYSBrZXktdmFsdWUgKHN0cmluZy1vYmplY3QpIHN0b3JhZ2UsIHRoYXQgaXMgYmFja2VkIGJ5IHNlc3Npb24gY29va2llcy5cbiAqIE9iamVjdHMgcHV0IG9yIHJldHJpZXZlZCBmcm9tIHRoaXMgc3RvcmFnZSBhcmUgYXV0b21hdGljYWxseSBzZXJpYWxpemVkIG9yXG4gKiBkZXNlcmlhbGl6ZWQgYnkgYW5ndWxhcidzIHRvSnNvbi9mcm9tSnNvbi5cbiAqXG4gKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nQ29va2llcyBgbmdDb29raWVzYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiAqKk5vdGU6KiogVGhlICRjb29raWVTdG9yZSBzZXJ2aWNlIGlzICoqZGVwcmVjYXRlZCoqLlxuICogUGxlYXNlIHVzZSB0aGUge0BsaW5rIG5nQ29va2llcy4kY29va2llcyBgJGNvb2tpZXNgfSBzZXJ2aWNlIGluc3RlYWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiBhbmd1bGFyLm1vZHVsZSgnY29va2llU3RvcmVFeGFtcGxlJywgWyduZ0Nvb2tpZXMnXSlcbiAqICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckY29va2llU3RvcmUnLCBmdW5jdGlvbigkY29va2llU3RvcmUpIHtcbiAqICAgICAvLyBQdXQgY29va2llXG4gKiAgICAgJGNvb2tpZVN0b3JlLnB1dCgnbXlGYXZvcml0ZScsJ29hdG1lYWwnKTtcbiAqICAgICAvLyBHZXQgY29va2llXG4gKiAgICAgdmFyIGZhdm9yaXRlQ29va2llID0gJGNvb2tpZVN0b3JlLmdldCgnbXlGYXZvcml0ZScpO1xuICogICAgIC8vIFJlbW92aW5nIGEgY29va2llXG4gKiAgICAgJGNvb2tpZVN0b3JlLnJlbW92ZSgnbXlGYXZvcml0ZScpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuIGZhY3RvcnkoJyRjb29raWVTdG9yZScsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbigkY29va2llcykge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvb2tpZVN0b3JlI2dldFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgZ2l2ZW4gY29va2llIGtleVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgSWQgdG8gdXNlIGZvciBsb29rdXAuXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBEZXNlcmlhbGl6ZWQgY29va2llIHZhbHVlLCB1bmRlZmluZWQgaWYgdGhlIGNvb2tpZSBkb2VzIG5vdCBleGlzdC5cbiAgICAgICAqL1xuICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuICRjb29raWVzLmdldE9iamVjdChrZXkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29va2llU3RvcmUjcHV0XG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTZXRzIGEgdmFsdWUgZm9yIGdpdmVuIGNvb2tpZSBrZXlcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IElkIGZvciB0aGUgYHZhbHVlYC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBWYWx1ZSB0byBiZSBzdG9yZWQuXG4gICAgICAgKi9cbiAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAkY29va2llcy5wdXRPYmplY3Qoa2V5LCB2YWx1ZSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb29raWVTdG9yZSNyZW1vdmVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlbW92ZSBnaXZlbiBjb29raWVcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IElkIG9mIHRoZSBrZXktdmFsdWUgcGFpciB0byBkZWxldGUuXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICRjb29raWVzLnJlbW92ZShrZXkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgfV0pO1xuXG4vKipcbiAqIEBuYW1lICQkY29va2llV3JpdGVyXG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGlzIGEgcHJpdmF0ZSBzZXJ2aWNlIGZvciB3cml0aW5nIGNvb2tpZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDb29raWUgbmFtZVxuICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBDb29raWUgdmFsdWUgKGlmIHVuZGVmaW5lZCwgY29va2llIHdpbGwgYmUgZGVsZXRlZClcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPYmplY3Qgd2l0aCBvcHRpb25zIHRoYXQgbmVlZCB0byBiZSBzdG9yZWQgZm9yIHRoZSBjb29raWUuXG4gKi9cbmZ1bmN0aW9uICQkQ29va2llV3JpdGVyKCRkb2N1bWVudCwgJGxvZywgJGJyb3dzZXIpIHtcbiAgdmFyIGNvb2tpZVBhdGggPSAkYnJvd3Nlci5iYXNlSHJlZigpO1xuICB2YXIgcmF3RG9jdW1lbnQgPSAkZG9jdW1lbnRbMF07XG5cbiAgZnVuY3Rpb24gYnVpbGRDb29raWVTdHJpbmcobmFtZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICB2YXIgcGF0aCwgZXhwaXJlcztcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBleHBpcmVzID0gb3B0aW9ucy5leHBpcmVzO1xuICAgIHBhdGggPSBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLnBhdGgpID8gb3B0aW9ucy5wYXRoIDogY29va2llUGF0aDtcbiAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGV4cGlyZXMgPSAnVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQnO1xuICAgICAgdmFsdWUgPSAnJztcbiAgICB9XG4gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoZXhwaXJlcykpIHtcbiAgICAgIGV4cGlyZXMgPSBuZXcgRGF0ZShleHBpcmVzKTtcbiAgICB9XG5cbiAgICB2YXIgc3RyID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICBzdHIgKz0gcGF0aCA/ICc7cGF0aD0nICsgcGF0aCA6ICcnO1xuICAgIHN0ciArPSBvcHRpb25zLmRvbWFpbiA/ICc7ZG9tYWluPScgKyBvcHRpb25zLmRvbWFpbiA6ICcnO1xuICAgIHN0ciArPSBleHBpcmVzID8gJztleHBpcmVzPScgKyBleHBpcmVzLnRvVVRDU3RyaW5nKCkgOiAnJztcbiAgICBzdHIgKz0gb3B0aW9ucy5zZWN1cmUgPyAnO3NlY3VyZScgOiAnJztcblxuICAgIC8vIHBlciBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMyMTA5LnR4dCBicm93c2VyIG11c3QgYWxsb3cgYXQgbWluaW11bTpcbiAgICAvLyAtIDMwMCBjb29raWVzXG4gICAgLy8gLSAyMCBjb29raWVzIHBlciB1bmlxdWUgZG9tYWluXG4gICAgLy8gLSA0MDk2IGJ5dGVzIHBlciBjb29raWVcbiAgICB2YXIgY29va2llTGVuZ3RoID0gc3RyLmxlbmd0aCArIDE7XG4gICAgaWYgKGNvb2tpZUxlbmd0aCA+IDQwOTYpIHtcbiAgICAgICRsb2cud2FybihcIkNvb2tpZSAnXCIgKyBuYW1lICtcbiAgICAgICAgXCInIHBvc3NpYmx5IG5vdCBzZXQgb3Igb3ZlcmZsb3dlZCBiZWNhdXNlIGl0IHdhcyB0b28gbGFyZ2UgKFwiICtcbiAgICAgICAgY29va2llTGVuZ3RoICsgXCIgPiA0MDk2IGJ5dGVzKSFcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJhd0RvY3VtZW50LmNvb2tpZSA9IGJ1aWxkQ29va2llU3RyaW5nKG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgfTtcbn1cblxuJCRDb29raWVXcml0ZXIuJGluamVjdCA9IFsnJGRvY3VtZW50JywgJyRsb2cnLCAnJGJyb3dzZXInXTtcblxuYW5ndWxhci5tb2R1bGUoJ25nQ29va2llcycpLnByb3ZpZGVyKCckJGNvb2tpZVdyaXRlcicsIGZ1bmN0aW9uICQkQ29va2llV3JpdGVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9ICQkQ29va2llV3JpdGVyO1xufSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG4iLCIvKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuMTEuMSAtIDIwMTYtMDctMTdcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBhbmd1bGFyLXRyYW5zbGF0ZSB0ZWFtLCBQYXNjYWwgUHJlY2h0OyBMaWNlbnNlZCBNSVRcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUgdW5sZXNzIGFtZE1vZHVsZUlkIGlzIHNldFxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KCkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuXG4kdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIuJGluamVjdCA9IFsnJHEnLCAnJGh0dHAnXTtcbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJcbiAqIEByZXF1aXJlcyAkcVxuICogQHJlcXVpcmVzICRodHRwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbG9hZGluZyBmdW5jdGlvbiBmb3IgYSB0eXBpY2FsIHN0YXRpYyBmaWxlIHVybCBwYXR0ZXJuOlxuICogXCJsYW5nLWVuX1VTLmpzb25cIiwgXCJsYW5nLWRlX0RFLmpzb25cIiwgZXRjLiBVc2luZyB0aGlzIGJ1aWxkZXIsXG4gKiB0aGUgcmVzcG9uc2Ugb2YgdGhlc2UgdXJscyBtdXN0IGJlIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QsIHdoaWNoIGdldHMgcHJlZml4LCBzdWZmaXggYW5kIGtleS5cbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsICR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcik7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcigkcSwgJGh0dHApIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzQXJyYXkob3B0aW9ucy5maWxlcykgJiYgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBmaWxlcyBhbmQgcHJlZml4IG9yIHN1ZmZpeCBzcGVjaWZpZWQhJyk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLmZpbGVzKSB7XG4gICAgICBvcHRpb25zLmZpbGVzID0gW3tcbiAgICAgICAgcHJlZml4OiBvcHRpb25zLnByZWZpeCxcbiAgICAgICAgc3VmZml4OiBvcHRpb25zLnN1ZmZpeFxuICAgICAgfV07XG4gICAgfVxuXG4gICAgdmFyIGxvYWQgPSBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgaWYgKCFmaWxlIHx8ICghYW5ndWxhci5pc1N0cmluZyhmaWxlLnByZWZpeCkgfHwgIWFuZ3VsYXIuaXNTdHJpbmcoZmlsZS5zdWZmaXgpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgbG9hZCBzdGF0aWMgZmlsZSwgbm8gcHJlZml4IG9yIHN1ZmZpeCBzcGVjaWZpZWQhJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIHVybDogW1xuICAgICAgICAgIGZpbGUucHJlZml4LFxuICAgICAgICAgIG9wdGlvbnMua2V5LFxuICAgICAgICAgIGZpbGUuc3VmZml4XG4gICAgICAgIF0uam9pbignJyksXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhcmFtczogJydcbiAgICAgIH0sIG9wdGlvbnMuJGh0dHApKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KG9wdGlvbnMua2V5KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBwcm9taXNlcyA9IFtdLFxuICAgICAgICBsZW5ndGggPSBvcHRpb25zLmZpbGVzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHByb21pc2VzLnB1c2gobG9hZCh7XG4gICAgICAgIHByZWZpeDogb3B0aW9ucy5maWxlc1tpXS5wcmVmaXgsXG4gICAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICAgIHN1ZmZpeDogb3B0aW9ucy5maWxlc1tpXS5zdWZmaXhcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgICAgbWVyZ2VkRGF0YSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVtpXSkge1xuICAgICAgICAgICAgbWVyZ2VkRGF0YVtrZXldID0gZGF0YVtpXVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXJnZWREYXRhO1xuICAgICAgfSk7XG4gIH07XG59XG5cbiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlci5kaXNwbGF5TmFtZSA9ICckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInO1xucmV0dXJuICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJztcblxufSkpO1xuIiwiLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjExLjEgLSAyMDE2LTA3LTE3XG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNiBUaGUgYW5ndWxhci10cmFuc2xhdGUgdGVhbSwgUGFzY2FsIFByZWNodDsgTGljZW5zZWQgTUlUXG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoZmFjdG9yeSgpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5LiRpbmplY3QgPSBbJyRjb29raWVTdG9yZSddO1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VcbiAqIEByZXF1aXJlcyAkY29va2llU3RvcmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFic3RyYWN0aW9uIGxheWVyIGZvciBjb29raWVTdG9yZS4gVGhpcyBzZXJ2aWNlIGlzIHVzZWQgd2hlbiB0ZWxsaW5nIGFuZ3VsYXItdHJhbnNsYXRlXG4gKiB0byB1c2UgY29va2llU3RvcmUgYXMgc3RvcmFnZS5cbiAqXG4gKi9cbiAgLmZhY3RvcnkoJyR0cmFuc2xhdGVDb29raWVTdG9yYWdlJywgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5KTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5KCRjb29raWVTdG9yZSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UgPSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVDb29raWVTdG9yYWdlI2dldFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVDb29raWVTdG9yYWdlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGFuIGl0ZW0gZnJvbSBjb29raWVTdG9yYWdlIGJ5IGdpdmVuIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBJdGVtIG5hbWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFZhbHVlIG9mIGl0ZW0gbmFtZVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiAkY29va2llU3RvcmUuZ2V0KG5hbWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVDb29raWVTdG9yYWdlI3NldFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVDb29raWVTdG9yYWdlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTZXRzIGFuIGl0ZW0gaW4gY29va2llU3RvcmFnZSBieSBnaXZlbiBuYW1lLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlICNwdXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEl0ZW0gbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBJdGVtIHZhbHVlXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICRjb29raWVTdG9yZS5wdXQobmFtZSwgdmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVDb29raWVTdG9yYWdlI3B1dFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVDb29raWVTdG9yYWdlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTZXRzIGFuIGl0ZW0gaW4gY29va2llU3RvcmFnZSBieSBnaXZlbiBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgSXRlbSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIEl0ZW0gdmFsdWVcbiAgICAgKi9cbiAgICBwdXQ6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgJGNvb2tpZVN0b3JlLnB1dChuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAkdHJhbnNsYXRlQ29va2llU3RvcmFnZTtcbn1cblxuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5LmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGVDb29raWVTdG9yYWdlJztcbnJldHVybiAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSc7XG5cbn0pKTtcbiIsIi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi4xMS4xIC0gMjAxNi0wNy0xN1xuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIGFuZ3VsYXItdHJhbnNsYXRlIHRlYW0sIFBhc2NhbCBQcmVjaHQ7IExpY2Vuc2VkIE1JVFxuICovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB1bmxlc3MgYW1kTW9kdWxlSWQgaXMgc2V0XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKGZhY3RvcnkoKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VGYWN0b3J5LiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UnXTtcbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAcmVxdWlyZXMgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFic3RyYWN0aW9uIGxheWVyIGZvciBsb2NhbFN0b3JhZ2UuIFRoaXMgc2VydmljZSBpcyB1c2VkIHdoZW4gdGVsbGluZyBhbmd1bGFyLXRyYW5zbGF0ZVxuICogdG8gdXNlIGxvY2FsU3RvcmFnZSBhcyBzdG9yYWdlLlxuICpcbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UnLCAkdHJhbnNsYXRlTG9jYWxTdG9yYWdlRmFjdG9yeSk7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VGYWN0b3J5KCR3aW5kb3csICR0cmFuc2xhdGVDb29raWVTdG9yYWdlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGFkYXB0ZXJcbiAgdmFyIGxvY2FsU3RvcmFnZUFkYXB0ZXIgPSAoZnVuY3Rpb24oKXtcbiAgICB2YXIgbGFuZ0tleTtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZSNnZXRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYW4gaXRlbSBmcm9tIGxvY2FsU3RvcmFnZSBieSBnaXZlbiBuYW1lLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEl0ZW0gbmFtZVxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBWYWx1ZSBvZiBpdGVtIG5hbWVcbiAgICAgICAqL1xuICAgICAgZ2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBpZighbGFuZ0tleSkge1xuICAgICAgICAgIGxhbmdLZXkgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhbmdLZXk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZSNzZXRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNldHMgYW4gaXRlbSBpbiBsb2NhbFN0b3JhZ2UgYnkgZ2l2ZW4gbmFtZS5cbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgI3B1dFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEl0ZW0gbmFtZVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIEl0ZW0gdmFsdWVcbiAgICAgICAqL1xuICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgbGFuZ0tleT12YWx1ZTtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZSNwdXRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNldHMgYW4gaXRlbSBpbiBsb2NhbFN0b3JhZ2UgYnkgZ2l2ZW4gbmFtZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBJdGVtIG5hbWVcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBJdGVtIHZhbHVlXG4gICAgICAgKi9cbiAgICAgIHB1dDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxhbmdLZXk9dmFsdWU7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0oKSk7XG5cbiAgdmFyIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQgPSAnbG9jYWxTdG9yYWdlJyBpbiAkd2luZG93O1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlU3VwcG9ydCkge1xuICAgIHZhciB0ZXN0S2V5ID0gJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuc3RvcmFnZVRlc3QnO1xuICAgIHRyeSB7XG4gICAgICAvLyB0aGlzIGNoZWNrIGhhdmUgdG8gYmUgd3JhcHBlZCB3aXRoaW4gYSB0cnkvY2F0Y2ggYmVjYXVzZSBvblxuICAgICAgLy8gYSBTZWN1cml0eUVycm9yOiBEb20gRXhjZXB0aW9uIDE4IG9uIGlPU1xuICAgICAgaWYgKCR3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBudWxsKSB7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGVzdEtleSwgJ2ZvbycpO1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRlc3RLZXkpO1xuICAgICAgICBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKXtcbiAgICAgIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgdmFyICR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UgPSBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID8gbG9jYWxTdG9yYWdlQWRhcHRlciA6ICR0cmFuc2xhdGVDb29raWVTdG9yYWdlO1xuICByZXR1cm4gJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZTtcbn1cblxuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZUZhY3RvcnkuZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZUZhY3RvcnknO1xucmV0dXJuICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJztcblxufSkpO1xuIiwiLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjExLjEgLSAyMDE2LTA3LTE3XG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNiBUaGUgYW5ndWxhci10cmFuc2xhdGUgdGVhbSwgUGFzY2FsIFByZWNodDsgTGljZW5zZWQgTUlUXG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoZmFjdG9yeSgpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBtYWluIG1vZHVsZSB3aGljaCBob2xkcyBldmVyeXRoaW5nIHRvZ2V0aGVyLlxuICovXG5ydW5UcmFuc2xhdGUuJGluamVjdCA9IFsnJHRyYW5zbGF0ZSddO1xuJHRyYW5zbGF0ZS4kaW5qZWN0ID0gWyckU1RPUkFHRV9LRVknLCAnJHdpbmRvd1Byb3ZpZGVyJywgJyR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlcicsICdwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXInXTtcbiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbi4kaW5qZWN0ID0gWyckaW50ZXJwb2xhdGUnLCAnJHRyYW5zbGF0ZVNhbml0aXphdGlvbiddO1xudHJhbnNsYXRlRGlyZWN0aXZlLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnLCAnJHEnLCAnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgJyRwYXJzZScsICckcm9vdFNjb3BlJ107XG50cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywgJyRyb290U2NvcGUnXTtcbnRyYW5zbGF0ZUZpbHRlckZhY3RvcnkuJGluamVjdCA9IFsnJHBhcnNlJywgJyR0cmFuc2xhdGUnXTtcbiR0cmFuc2xhdGlvbkNhY2hlLiRpbmplY3QgPSBbJyRjYWNoZUZhY3RvcnknXTtcbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywgWyduZyddKVxuICAucnVuKHJ1blRyYW5zbGF0ZSk7XG5cbmZ1bmN0aW9uIHJ1blRyYW5zbGF0ZSgkdHJhbnNsYXRlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBrZXkgPSAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSxcbiAgICBzdG9yYWdlID0gJHRyYW5zbGF0ZS5zdG9yYWdlKCk7XG5cbiAgdmFyIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJlZmVycmVkID0gJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpO1xuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHByZWZlcnJlZCkpIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHByZWZlcnJlZCk7XG4gICAgICAvLyAkdHJhbnNsYXRlLnVzZSgpIHdpbGwgYWxzbyByZW1lbWJlciB0aGUgbGFuZ3VhZ2UuXG4gICAgICAvLyBTbywgd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHN0b3JhZ2UucHV0KCkgaGVyZS5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmFnZS5wdXQoa2V5LCAkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICB9XG4gIH07XG5cbiAgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlLmRpc3BsYXlOYW1lID0gJ2ZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSc7XG5cbiAgaWYgKHN0b3JhZ2UpIHtcbiAgICBpZiAoIXN0b3JhZ2UuZ2V0KGtleSkpIHtcbiAgICAgIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdHJhbnNsYXRlLnVzZShzdG9yYWdlLmdldChrZXkpKVsnY2F0Y2gnXShmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSkpIHtcbiAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCkpO1xuICB9XG59XG5cbnJ1blRyYW5zbGF0ZS5kaXNwbGF5TmFtZSA9ICdydW5UcmFuc2xhdGUnO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQ29uZmlndXJhdGlvbnMgZm9yICR0cmFuc2xhdGVTYW5pdGl6YXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5wcm92aWRlcignJHRyYW5zbGF0ZVNhbml0aXphdGlvbicsICR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlcik7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciAoKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2FuaXRpemUsXG4gICAgICBjdXJyZW50U3RyYXRlZ3kgPSBudWxsLCAvLyBUT0RPIGNoYW5nZSB0byBlaXRoZXIgJ3Nhbml0aXplJywgJ2VzY2FwZScgb3IgWydzYW5pdGl6ZScsICdlc2NhcGVQYXJhbWV0ZXJzJ10gaW4gMy4wLlxuICAgICAgaGFzQ29uZmlndXJlZFN0cmF0ZWd5ID0gZmFsc2UsXG4gICAgICBoYXNTaG93bk5vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyA9IGZhbHNlLFxuICAgICAgc3RyYXRlZ2llcztcblxuICAvKipcbiAgICogRGVmaW5pdGlvbiBvZiBhIHNhbml0aXphdGlvbiBzdHJhdGVneSBmdW5jdGlvblxuICAgKiBAY2FsbGJhY2sgU3RyYXRlZ3lGdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHZhbHVlIC0gdmFsdWUgdG8gYmUgc2FuaXRpemVkIChlaXRoZXIgYSBzdHJpbmcgb3IgYW4gaW50ZXJwb2xhdGVkIHZhbHVlIG1hcClcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBlaXRoZXIgJ3RleHQnIGZvciBhIHN0cmluZyAodHJhbnNsYXRpb24pIG9yICdwYXJhbXMnIGZvciB0aGUgaW50ZXJwb2xhdGVkIHBhcmFtc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fVxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lIHN0cmF0ZWdpZXNcbiAgICogQHByb3BlcnR5T2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEZvbGxvd2luZyBzdHJhdGVnaWVzIGFyZSBidWlsdC1pbjpcbiAgICogPGRsPlxuICAgKiAgIDxkdD5zYW5pdGl6ZTwvZHQ+XG4gICAqICAgPGRkPlNhbml0aXplcyBIVE1MIGluIHRoZSB0cmFuc2xhdGlvbiB0ZXh0IHVzaW5nICRzYW5pdGl6ZTwvZGQ+XG4gICAqICAgPGR0PmVzY2FwZTwvZHQ+XG4gICAqICAgPGRkPkVzY2FwZXMgSFRNTCBpbiB0aGUgdHJhbnNsYXRpb248L2RkPlxuICAgKiAgIDxkdD5zYW5pdGl6ZVBhcmFtZXRlcnM8L2R0PlxuICAgKiAgIDxkZD5TYW5pdGl6ZXMgSFRNTCBpbiB0aGUgdmFsdWVzIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnMgdXNpbmcgJHNhbml0aXplPC9kZD5cbiAgICogICA8ZHQ+ZXNjYXBlUGFyYW1ldGVyczwvZHQ+XG4gICAqICAgPGRkPkVzY2FwZXMgSFRNTCBpbiB0aGUgdmFsdWVzIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnM8L2RkPlxuICAgKiAgIDxkdD5lc2NhcGVkPC9kdD5cbiAgICogICA8ZGQ+U3VwcG9ydCBsZWdhY3kgc3RyYXRlZ3kgbmFtZSAnZXNjYXBlZCcgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5ICh3aWxsIGJlIHJlbW92ZWQgaW4gMy4wKTwvZGQ+XG4gICAqIDwvZGw+XG4gICAqXG4gICAqL1xuXG4gIHN0cmF0ZWdpZXMgPSB7XG4gICAgc2FuaXRpemU6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZSkge1xuICAgICAgaWYgKG1vZGUgPT09ICd0ZXh0Jykge1xuICAgICAgICB2YWx1ZSA9IGh0bWxTYW5pdGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGVzY2FwZTogZnVuY3Rpb24gKHZhbHVlLCBtb2RlKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHZhbHVlID0gaHRtbEVzY2FwZVZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHNhbml0aXplUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbFNhbml0aXplVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZXNjYXBlUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbEVzY2FwZVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG4gIC8vIFN1cHBvcnQgbGVnYWN5IHN0cmF0ZWd5IG5hbWUgJ2VzY2FwZWQnIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgLy8gVE9ETyBzaG91bGQgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgc3RyYXRlZ2llcy5lc2NhcGVkID0gc3RyYXRlZ2llcy5lc2NhcGVQYXJhbWV0ZXJzO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIjYWRkU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IHRvIHRoZSBsaXN0IG9mIGtub3duIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneU5hbWUgLSB1bmlxdWUga2V5IGZvciBhIHN0cmF0ZWd5XG4gICAqIEBwYXJhbSB7U3RyYXRlZ3lGdW5jdGlvbn0gc3RyYXRlZ3lGdW5jdGlvbiAtIHN0cmF0ZWd5IGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoaXNcbiAgICovXG4gIHRoaXMuYWRkU3RyYXRlZ3kgPSBmdW5jdGlvbiAoc3RyYXRlZ3lOYW1lLCBzdHJhdGVneUZ1bmN0aW9uKSB7XG4gICAgc3RyYXRlZ2llc1tzdHJhdGVneU5hbWVdID0gc3RyYXRlZ3lGdW5jdGlvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyI3JlbW92ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVtb3ZlcyBhIHNhbml0aXphdGlvbiBzdHJhdGVneSBmcm9tIHRoZSBsaXN0IG9mIGtub3duIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneU5hbWUgLSB1bmlxdWUga2V5IGZvciBhIHN0cmF0ZWd5XG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoaXNcbiAgICovXG4gIHRoaXMucmVtb3ZlU3RyYXRlZ3kgPSBmdW5jdGlvbiAoc3RyYXRlZ3lOYW1lKSB7XG4gICAgZGVsZXRlIHN0cmF0ZWdpZXNbc3RyYXRlZ3lOYW1lXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyI3VzZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2VsZWN0cyBhIHNhbml0aXphdGlvbiBzdHJhdGVneS4gV2hlbiBhbiBhcnJheSBpcyBwcm92aWRlZCB0aGUgc3RyYXRlZ2llcyB3aWxsIGJlIGV4ZWN1dGVkIGluIG9yZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xTdHJhdGVneUZ1bmN0aW9ufGFycmF5fSBzdHJhdGVneSBUaGUgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IC8gc3RyYXRlZ2llcyB3aGljaCBzaG91bGQgYmUgdXNlZC4gRWl0aGVyIGEgbmFtZSBvZiBhbiBleGlzdGluZyBzdHJhdGVneSwgYSBjdXN0b20gc3RyYXRlZ3kgZnVuY3Rpb24sIG9yIGFuIGFycmF5IGNvbnNpc3Rpbmcgb2YgbXVsdGlwbGUgbmFtZXMgYW5kIC8gb3IgY3VzdG9tIGZ1bmN0aW9ucy5cbiAgICogQHJldHVybnMge29iamVjdH0gdGhpc1xuICAgKi9cbiAgdGhpcy51c2VTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneSkge1xuICAgIGhhc0NvbmZpZ3VyZWRTdHJhdGVneSA9IHRydWU7XG4gICAgY3VycmVudFN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBvYmplY3RcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAgICogQHJlcXVpcmVzICRsb2dcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNhbml0aXplcyBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnMgYW5kIHRyYW5zbGF0ZWQgdGV4dHMuXG4gICAqXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckbG9nJywgZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvZykge1xuXG4gICAgdmFyIGNhY2hlZFN0cmF0ZWd5TWFwID0ge307XG5cbiAgICB2YXIgYXBwbHlTdHJhdGVnaWVzID0gZnVuY3Rpb24gKHZhbHVlLCBtb2RlLCBzZWxlY3RlZFN0cmF0ZWdpZXMpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxlY3RlZFN0cmF0ZWdpZXMsIGZ1bmN0aW9uIChzZWxlY3RlZFN0cmF0ZWd5KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2VsZWN0ZWRTdHJhdGVneSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHNlbGVjdGVkU3RyYXRlZ3kodmFsdWUsIG1vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKSkge1xuICAgICAgICAgIHZhbHVlID0gc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XSh2YWx1ZSwgbW9kZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyhzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKSkge1xuICAgICAgICAgIGlmICghY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNhY2hlZFN0cmF0ZWd5TWFwW3N0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV1dID0gJGluamVjdG9yLmdldChzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0gPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogVW5rbm93biBzYW5pdGl6YXRpb24gc3RyYXRlZ3k6IFxcJycgKyBzZWxlY3RlZFN0cmF0ZWd5ICsgJ1xcJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZSA9IGNhY2hlZFN0cmF0ZWd5TWFwW3N0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV1dKHZhbHVlLCBtb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogVW5rbm93biBzYW5pdGl6YXRpb24gc3RyYXRlZ3k6IFxcJycgKyBzZWxlY3RlZFN0cmF0ZWd5ICsgJ1xcJycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogc2hvdWxkIGJlIHJlbW92ZWQgaW4gMy4wXG4gICAgdmFyIHNob3dOb1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWhhc0NvbmZpZ3VyZWRTdHJhdGVneSAmJiAhaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IE5vIHNhbml0aXphdGlvbiBzdHJhdGVneSBoYXMgYmVlbiBjb25maWd1cmVkLiBUaGlzIGNhbiBoYXZlIHNlcmlvdXMgc2VjdXJpdHkgaW1wbGljYXRpb25zLiBTZWUgaHR0cDovL2FuZ3VsYXItdHJhbnNsYXRlLmdpdGh1Yi5pby9kb2NzLyMvZ3VpZGUvMTlfc2VjdXJpdHkgZm9yIGRldGFpbHMuJyk7XG4gICAgICAgIGhhc1Nob3duTm9TdHJhdGVneUNvbmZpZ3VyZWRXYXJuaW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICAkc2FuaXRpemUgPSAkaW5qZWN0b3IuZ2V0KCckc2FuaXRpemUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbiN1c2VTdHJhdGVneVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2VsZWN0cyBhIHNhbml0aXphdGlvbiBzdHJhdGVneS4gV2hlbiBhbiBhcnJheSBpcyBwcm92aWRlZCB0aGUgc3RyYXRlZ2llcyB3aWxsIGJlIGV4ZWN1dGVkIGluIG9yZGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfFN0cmF0ZWd5RnVuY3Rpb258YXJyYXl9IHN0cmF0ZWd5IFRoZSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgLyBzdHJhdGVnaWVzIHdoaWNoIHNob3VsZCBiZSB1c2VkLiBFaXRoZXIgYSBuYW1lIG9mIGFuIGV4aXN0aW5nIHN0cmF0ZWd5LCBhIGN1c3RvbSBzdHJhdGVneSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgY29uc2lzdGluZyBvZiBtdWx0aXBsZSBuYW1lcyBhbmQgLyBvciBjdXN0b20gZnVuY3Rpb25zLlxuICAgICAgICovXG4gICAgICB1c2VTdHJhdGVneTogKGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyYXRlZ3kpIHtcbiAgICAgICAgICBzZWxmLnVzZVN0cmF0ZWd5KHN0cmF0ZWd5KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uI3Nhbml0aXplXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTYW5pdGl6ZXMgYSB2YWx1ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBzaG91bGQgYmUgc2FuaXRpemVkLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgVGhlIGN1cnJlbnQgc2FuaXRpemF0aW9uIG1vZGUsIGVpdGhlciAncGFyYW1zJyBvciAndGV4dCcuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xTdHJhdGVneUZ1bmN0aW9ufGFycmF5fSBbc3RyYXRlZ3ldIE9wdGlvbmFsIGN1c3RvbSBzdHJhdGVneSB3aGljaCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgc3RyYXRlZ3kuXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG9iamVjdH0gc2FuaXRpemVkIHZhbHVlXG4gICAgICAgKi9cbiAgICAgIHNhbml0aXplOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUsIHN0cmF0ZWd5KSB7XG4gICAgICAgIGlmICghY3VycmVudFN0cmF0ZWd5KSB7XG4gICAgICAgICAgc2hvd05vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgc3RyYXRlZ3kgPSBjdXJyZW50U3RyYXRlZ3k7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0cmF0ZWd5KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkU3RyYXRlZ2llcyA9IGFuZ3VsYXIuaXNBcnJheShzdHJhdGVneSkgPyBzdHJhdGVneSA6IFtzdHJhdGVneV07XG4gICAgICAgIHJldHVybiBhcHBseVN0cmF0ZWdpZXModmFsdWUsIG1vZGUsIHNlbGVjdGVkU3RyYXRlZ2llcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbiAgdmFyIGh0bWxFc2NhcGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PjwvZGl2PicpO1xuICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7IC8vIG5vdCBjaGFpbmFibGUsIHNlZSAjMTA0NFxuICAgIHJldHVybiBlbGVtZW50Lmh0bWwoKTtcbiAgfTtcblxuICB2YXIgaHRtbFNhbml0aXplVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoISRzYW5pdGl6ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBmaW5kICRzYW5pdGl6ZSBzZXJ2aWNlLiBFaXRoZXIgaW5jbHVkZSB0aGUgbmdTYW5pdGl6ZSBtb2R1bGUgKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZ1Nhbml0aXplKSBvciB1c2UgYSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgd2hpY2ggZG9lcyBub3QgZGVwZW5kIG9uICRzYW5pdGl6ZSwgc3VjaCBhcyBcXCdlc2NhcGVcXCcuJyk7XG4gICAgfVxuICAgIHJldHVybiAkc2FuaXRpemUodmFsdWUpO1xuICB9O1xuXG4gIHZhciBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uICh2YWx1ZSwgaXRlcmF0ZWUsIHN0YWNrKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYW5ndWxhci5pc0FycmF5KHZhbHVlKSA/IFtdIDoge307XG5cbiAgICAgIGlmICghc3RhY2spIHtcbiAgICAgICAgc3RhY2sgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSA+IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXIgZHVlIHJlY3Vyc2l2ZSBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHByb3BlcnR5VmFsdWUsIHByb3BlcnR5S2V5KSB7XG5cbiAgICAgICAgLyogU2tpcHBpbmcgZnVuY3Rpb24gcHJvcGVydGllcy4gKi9cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwcm9wZXJ0eVZhbHVlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdFtwcm9wZXJ0eUtleV0gPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyhwcm9wZXJ0eVZhbHVlLCBpdGVyYXRlZSwgc3RhY2spO1xuICAgICAgfSk7XG4gICAgICBzdGFjay5zcGxpY2UoLTEsIDEpOyAvLyByZW1vdmUgbGFzdFxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICR0cmFuc2xhdGVQcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byByZWdpc3RlciB0cmFuc2xhdGlvbi10YWJsZXMsIGFzeW5jaHJvbm91cyBsb2FkZXJzXG4gKiBhbmQgc2ltaWxhciB0byBjb25maWd1cmUgdHJhbnNsYXRpb24gYmVoYXZpb3IgZGlyZWN0bHkgaW5zaWRlIG9mIGEgbW9kdWxlLlxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLmNvbnN0YW50KCdwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXInLCB7fSlcbi5wcm92aWRlcignJHRyYW5zbGF0ZScsICR0cmFuc2xhdGUpO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRlKCRTVE9SQUdFX0tFWSwgJHdpbmRvd1Byb3ZpZGVyLCAkdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIsIHBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlcikge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHRyYW5zbGF0aW9uVGFibGUgPSB7fSxcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSxcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBbXSxcbiAgICAgICRsYW5ndWFnZUtleUFsaWFzZXMsXG4gICAgICAkZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICRmYWxsYmFja1dhc1N0cmluZyxcbiAgICAgICR1c2VzLFxuICAgICAgJG5leHRMYW5nLFxuICAgICAgJHN0b3JhZ2VGYWN0b3J5LFxuICAgICAgJHN0b3JhZ2VLZXkgPSAkU1RPUkFHRV9LRVksXG4gICAgICAkc3RvcmFnZVByZWZpeCxcbiAgICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSxcbiAgICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSxcbiAgICAgICRpbnRlcnBvbGF0b3JGYWN0b3JpZXMgPSBbXSxcbiAgICAgICRsb2FkZXJGYWN0b3J5LFxuICAgICAgJGNsb2FrQ2xhc3NOYW1lID0gJ3RyYW5zbGF0ZS1jbG9haycsXG4gICAgICAkbG9hZGVyT3B0aW9ucyxcbiAgICAgICRub3RGb3VuZEluZGljYXRvckxlZnQsXG4gICAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCxcbiAgICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9IGZhbHNlLFxuICAgICAgJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gZmFsc2UsXG4gICAgICAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gJy4nLFxuICAgICAgJGlzUmVhZHkgPSBmYWxzZSxcbiAgICAgICRrZWVwQ29udGVudCA9IGZhbHNlLFxuICAgICAgbG9hZGVyQ2FjaGUsXG4gICAgICBkaXJlY3RpdmVQcmlvcml0eSA9IDAsXG4gICAgICBzdGF0ZWZ1bEZpbHRlciA9IHRydWUsXG4gICAgICBwb3N0UHJvY2Vzc0ZuLFxuICAgICAgdW5pZm9ybUxhbmd1YWdlVGFnUmVzb2x2ZXIgPSAnZGVmYXVsdCcsXG4gICAgICBsYW5ndWFnZVRhZ1Jlc29sdmVyID0ge1xuICAgICAgICAnZGVmYXVsdCc6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICByZXR1cm4gKHRhZyB8fCAnJykuc3BsaXQoJy0nKS5qb2luKCdfJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGphdmE6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICB2YXIgdGVtcCA9ICh0YWcgfHwgJycpLnNwbGl0KCctJykuam9pbignXycpO1xuICAgICAgICAgIHZhciBwYXJ0cyA9IHRlbXAuc3BsaXQoJ18nKTtcbiAgICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMSA/IChwYXJ0c1swXS50b0xvd2VyQ2FzZSgpICsgJ18nICsgcGFydHNbMV0udG9VcHBlckNhc2UoKSkgOiB0ZW1wO1xuICAgICAgICB9LFxuICAgICAgICBiY3A0NzogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgIHZhciB0ZW1wID0gKHRhZyB8fCAnJykuc3BsaXQoJ18nKS5qb2luKCctJyk7XG4gICAgICAgICAgdmFyIHBhcnRzID0gdGVtcC5zcGxpdCgnLScpO1xuICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gKHBhcnRzWzBdLnRvTG93ZXJDYXNlKCkgKyAnLScgKyBwYXJ0c1sxXS50b1VwcGVyQ2FzZSgpKSA6IHRlbXA7XG4gICAgICAgIH0sXG4gICAgICAgICdpc282MzktMSc6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICB2YXIgdGVtcCA9ICh0YWcgfHwgJycpLnNwbGl0KCdfJykuam9pbignLScpO1xuICAgICAgICAgIHZhciBwYXJ0cyA9IHRlbXAuc3BsaXQoJy0nKTtcbiAgICAgICAgICByZXR1cm4gcGFydHNbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICB2YXIgdmVyc2lvbiA9ICcyLjExLjEnO1xuXG4gIC8vIHRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbGFuZ3VhZ2VcbiAgdmFyIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gaW50ZXJuYWwgcHVycG9zZSBvbmx5XG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXIuZ2V0TG9jYWxlKSkge1xuICAgICAgcmV0dXJuIHBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlci5nZXRMb2NhbGUoKTtcbiAgICB9XG5cbiAgICB2YXIgbmF2ID0gJHdpbmRvd1Byb3ZpZGVyLiRnZXQoKS5uYXZpZ2F0b3IsXG4gICAgICAgIGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyA9IFsnbGFuZ3VhZ2UnLCAnYnJvd3Nlckxhbmd1YWdlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3VzZXJMYW5ndWFnZSddLFxuICAgICAgICBpLFxuICAgICAgICBsYW5ndWFnZTtcblxuICAgIC8vIHN1cHBvcnQgZm9yIEhUTUwgNS4xIFwibmF2aWdhdG9yLmxhbmd1YWdlc1wiXG4gICAgaWYgKGFuZ3VsYXIuaXNBcnJheShuYXYubGFuZ3VhZ2VzKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5hdi5sYW5ndWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFuZ3VhZ2UgPSBuYXYubGFuZ3VhZ2VzW2ldO1xuICAgICAgICBpZiAobGFuZ3VhZ2UgJiYgbGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGxhbmd1YWdlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydCBmb3Igb3RoZXIgd2VsbCBrbm93biBwcm9wZXJ0aWVzIGluIGJyb3dzZXJzXG4gICAgZm9yIChpID0gMDsgaSA8IGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGFuZ3VhZ2UgPSBuYXZbYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzW2ldXTtcbiAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGxhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZS5kaXNwbGF5TmFtZSA9ICdhbmd1bGFyLXRyYW5zbGF0ZS9zZXJ2aWNlOiBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSc7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsb2NhbGVcbiAgdmFyIGdldExvY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbG9jYWxlID0gZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UoKSB8fCAnJztcbiAgICBpZiAobGFuZ3VhZ2VUYWdSZXNvbHZlclt1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlcl0pIHtcbiAgICAgIGxvY2FsZSA9IGxhbmd1YWdlVGFnUmVzb2x2ZXJbdW5pZm9ybUxhbmd1YWdlVGFnUmVzb2x2ZXJdKGxvY2FsZSk7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGU7XG4gIH07XG4gIGdldExvY2FsZS5kaXNwbGF5TmFtZSA9ICdhbmd1bGFyLXRyYW5zbGF0ZS9zZXJ2aWNlOiBnZXRMb2NhbGUnO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBpbmRleE9mXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBpbmRleE9mIHBvbHlmaWxsLiBLaW5kYSBzb3J0YS5cbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gYXJyYXkgQXJyYXkgdG8gc2VhcmNoIGluLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoRWxlbWVudCBFbGVtZW50IHRvIHNlYXJjaCBmb3IuXG4gICAqXG4gICAqIEByZXR1cm5zIHtpbnR9IEluZGV4IG9mIHNlYXJjaCBlbGVtZW50LlxuICAgKi9cbiAgdmFyIGluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgc2VhcmNoRWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIHZhciBuZWdvdGlhdGVMb2NhbGUgPSBmdW5jdGlvbiAocHJlZmVycmVkKSB7XG4gICAgaWYoIXByZWZlcnJlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBhdmFpbCA9IFtdLFxuICAgICAgICBsb2NhbGUgPSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbiA9ICRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoO1xuXG4gICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgIGF2YWlsLnB1c2goYW5ndWxhci5sb3dlcmNhc2UoJGF2YWlsYWJsZUxhbmd1YWdlS2V5c1tpXSkpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBhbiBleGFjdCBtYXRjaCBpbiBvdXIgbGlzdCBvZiBhdmFpbGFibGUga2V5c1xuICAgIGlmIChpbmRleE9mKGF2YWlsLCBsb2NhbGUpID4gLTEpIHtcbiAgICAgIHJldHVybiBwcmVmZXJyZWQ7XG4gICAgfVxuXG4gICAgaWYgKCRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgIHZhciBhbGlhcztcbiAgICAgIGZvciAodmFyIGxhbmdLZXlBbGlhcyBpbiAkbGFuZ3VhZ2VLZXlBbGlhc2VzKSB7XG4gICAgICAgIGlmICgkbGFuZ3VhZ2VLZXlBbGlhc2VzLmhhc093blByb3BlcnR5KGxhbmdLZXlBbGlhcykpIHtcbiAgICAgICAgICB2YXIgaGFzV2lsZGNhcmRLZXkgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgaGFzRXhhY3RLZXkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJGxhbmd1YWdlS2V5QWxpYXNlcywgbGFuZ0tleUFsaWFzKSAmJlxuICAgICAgICAgICAgYW5ndWxhci5sb3dlcmNhc2UobGFuZ0tleUFsaWFzKSA9PT0gYW5ndWxhci5sb3dlcmNhc2UocHJlZmVycmVkKTtcblxuICAgICAgICAgIGlmIChsYW5nS2V5QWxpYXMuc2xpY2UoLTEpID09PSAnKicpIHtcbiAgICAgICAgICAgIGhhc1dpbGRjYXJkS2V5ID0gbGFuZ0tleUFsaWFzLnNsaWNlKDAsIC0xKSA9PT0gcHJlZmVycmVkLnNsaWNlKDAsIGxhbmdLZXlBbGlhcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhc0V4YWN0S2V5IHx8IGhhc1dpbGRjYXJkS2V5KSB7XG4gICAgICAgICAgICBhbGlhcyA9ICRsYW5ndWFnZUtleUFsaWFzZXNbbGFuZ0tleUFsaWFzXTtcbiAgICAgICAgICAgIGlmIChpbmRleE9mKGF2YWlsLCBhbmd1bGFyLmxvd2VyY2FzZShhbGlhcykpID4gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFsaWFzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBhIGxhbmd1YWdlIGNvZGUgd2l0aG91dCByZWdpb25cbiAgICB2YXIgcGFydHMgPSBwcmVmZXJyZWQuc3BsaXQoJ18nKTtcblxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxICYmIGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKHBhcnRzWzBdKSkgPiAtMSkge1xuICAgICAgcmV0dXJuIHBhcnRzWzBdO1xuICAgIH1cblxuICAgIC8vIElmIGV2ZXJ5dGhpbmcgZmFpbHMsIHJldHVybiB1bmRlZmluZWQuXG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25zXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgbmV3IHRyYW5zbGF0aW9uIHRhYmxlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqIFRvIHJlZ2lzdGVyIGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHNwZWNpZmljIGxhbmd1YWdlLCBwYXNzIGEgZGVmaW5lZCBsYW5ndWFnZVxuICAgKiBrZXkgYXMgZmlyc3QgcGFyYW1ldGVyLlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgLy8gcmVnaXN0ZXIgdHJhbnNsYXRpb24gdGFibGUgZm9yIGxhbmd1YWdlOiAnZGVfREUnXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdkZV9ERScsIHtcbiAgICogICAgJ0dSRUVUSU5HJzogJ0hhbGxvIFdlbHQhJ1xuICAgKiAgfSk7XG4gICAqXG4gICAqICAvLyByZWdpc3RlciBhbm90aGVyIG9uZVxuICAgKiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW5fVVMnLCB7XG4gICAqICAgICdHUkVFVElORyc6ICdIZWxsbyB3b3JsZCEnXG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIFdoZW4gcmVnaXN0ZXJpbmcgbXVsdGlwbGUgdHJhbnNsYXRpb24gdGFibGVzIGZvciBmb3IgdGhlIHNhbWUgbGFuZ3VhZ2Uga2V5LFxuICAgKiB0aGUgYWN0dWFsIHRyYW5zbGF0aW9uIHRhYmxlIGdldHMgZXh0ZW5kZWQuIFRoaXMgYWxsb3dzIHlvdSB0byBkZWZpbmUgbW9kdWxlXG4gICAqIHNwZWNpZmljIHRyYW5zbGF0aW9uIHdoaWNoIG9ubHkgZ2V0IGFkZGVkLCBvbmNlIGEgc3BlY2lmaWMgbW9kdWxlIGlzIGxvYWRlZCBpblxuICAgKiB5b3VyIGFwcC5cbiAgICpcbiAgICogSW52b2tpbmcgdGhpcyBtZXRob2Qgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdGFibGUgd2hpY2ggd2FzXG4gICAqIHJlZ2lzdGVyZWQgd2l0aCBubyBsYW5ndWFnZSBrZXkuIEludm9raW5nIGl0IHdpdGggYSBsYW5ndWFnZSBrZXkgcmV0dXJucyB0aGVcbiAgICogcmVsYXRlZCB0cmFuc2xhdGlvbiB0YWJsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB0cmFuc2xhdGlvblRhYmxlIEEgcGxhaW4gb2xkIEphdmFTY3JpcHQgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIHRhYmxlLlxuICAgKlxuICAgKi9cbiAgdmFyIHRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvblRhYmxlKSB7XG5cbiAgICBpZiAoIWxhbmdLZXkgJiYgIXRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZTtcbiAgICB9XG5cbiAgICBpZiAobGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobGFuZ0tleSkpIHtcbiAgICAgICAgcmV0dXJuICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pKSB7XG4gICAgICAgICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldID0ge307XG4gICAgICB9XG4gICAgICBhbmd1bGFyLmV4dGVuZCgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSwgZmxhdE9iamVjdCh0cmFuc2xhdGlvblRhYmxlKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMudHJhbnNsYXRpb25zID0gdHJhbnNsYXRpb25zO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMZXQncyB5b3UgY2hhbmdlIHRoZSBjbGFzcyBuYW1lIGZvciBgdHJhbnNsYXRlLWNsb2FrYCBkaXJlY3RpdmUuXG4gICAqIERlZmF1bHQgY2xhc3MgbmFtZSBpcyBgdHJhbnNsYXRlLWNsb2FrYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdHJhbnNsYXRlLWNsb2FrIGNsYXNzIG5hbWVcbiAgICovXG4gIHRoaXMuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuICRjbG9ha0NsYXNzTmFtZTtcbiAgICB9XG4gICAgJGNsb2FrQ2xhc3NOYW1lID0gbmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI25lc3RlZE9iamVjdERlbGltZXRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExldCdzIHlvdSBjaGFuZ2UgdGhlIGRlbGltaXRlciBmb3IgbmFtZXNwYWNlZCB0cmFuc2xhdGlvbnMuXG4gICAqIERlZmF1bHQgZGVsaW1pdGVyIGlzIGAuYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRlbGltaXRlciBuYW1lc3BhY2Ugc2VwYXJhdG9yXG4gICAqL1xuICB0aGlzLm5lc3RlZE9iamVjdERlbGltZXRlciA9IGZ1bmN0aW9uIChkZWxpbWl0ZXIpIHtcbiAgICBpZiAoIWRlbGltaXRlcikge1xuICAgICAgcmV0dXJuICRuZXN0ZWRPYmplY3REZWxpbWV0ZXI7XG4gICAgfVxuICAgICRuZXN0ZWRPYmplY3REZWxpbWV0ZXIgPSBkZWxpbWl0ZXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIGZsYXRPYmplY3RcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEZsYXRzIGFuIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGZsYXR0ZW4gZ2l2ZW4gdHJhbnNsYXRpb24gZGF0YSB3aXRoXG4gICAqIG5hbWVzcGFjZXMsIHNvIHRoZXkgYXJlIGxhdGVyIGFjY2Vzc2libGUgdmlhIGRvdCBub3RhdGlvbi5cbiAgICovXG4gIHZhciBmbGF0T2JqZWN0ID0gZnVuY3Rpb24gKGRhdGEsIHBhdGgsIHJlc3VsdCwgcHJldktleSkge1xuICAgIHZhciBrZXksIGtleVdpdGhQYXRoLCBrZXlXaXRoU2hvcnRQYXRoLCB2YWw7XG5cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgIHBhdGggPSBbXTtcbiAgICB9XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IHt9O1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFsID0gZGF0YVtrZXldO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsKSkge1xuICAgICAgICBmbGF0T2JqZWN0KHZhbCwgcGF0aC5jb25jYXQoa2V5KSwgcmVzdWx0LCBrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5V2l0aFBhdGggPSBwYXRoLmxlbmd0aCA/ICgnJyArIHBhdGguam9pbigkbmVzdGVkT2JqZWN0RGVsaW1ldGVyKSArICRuZXN0ZWRPYmplY3REZWxpbWV0ZXIgKyBrZXkpIDoga2V5O1xuICAgICAgICBpZihwYXRoLmxlbmd0aCAmJiBrZXkgPT09IHByZXZLZXkpe1xuICAgICAgICAgIC8vIENyZWF0ZSBzaG9ydGN1dCBwYXRoIChmb28uYmFyID09IGZvby5iYXIuYmFyKVxuICAgICAgICAgIGtleVdpdGhTaG9ydFBhdGggPSAnJyArIHBhdGguam9pbigkbmVzdGVkT2JqZWN0RGVsaW1ldGVyKTtcbiAgICAgICAgICAvLyBMaW5rIGl0IHRvIG9yaWdpbmFsIHBhdGhcbiAgICAgICAgICByZXN1bHRba2V5V2l0aFNob3J0UGF0aF0gPSAnQDonICsga2V5V2l0aFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2tleVdpdGhQYXRoXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgZmxhdE9iamVjdC5kaXNwbGF5TmFtZSA9ICdmbGF0T2JqZWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2FkZEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGludGVycG9sYXRpb24gc2VydmljZXMgdG8gYW5ndWxhci10cmFuc2xhdGUsIHNvIGl0IGNhbiBtYW5hZ2UgdGhlbS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGZhY3RvcnlcbiAgICovXG4gIHRoaXMuYWRkSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJGludGVycG9sYXRvckZhY3Rvcmllcy5wdXNoKGZhY3RvcnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbmFsaXR5IG9mIG1lc3NhZ2Vmb3JtYXQuanMuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gaGF2aW5nIGhpZ2ggbGV2ZWwgcGx1cmFsaXphdGlvbiBhbmQgZ2VuZGVyIHNlbGVjdGlvbi5cbiAgICovXG4gIHRoaXMudXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlSW50ZXJwb2xhdGlvbignJHRyYW5zbGF0ZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggaW50ZXJwb2xhdGlvbiBzdHlsZSB0byB1c2UgYXMgZGVmYXVsdCwgYXBwbGljYXRpb24td2lkZS5cbiAgICogU2ltcGx5IHBhc3MgYSBmYWN0b3J5L3NlcnZpY2UgbmFtZS4gVGhlIGludGVycG9sYXRpb24gc2VydmljZSBoYXMgdG8gaW1wbGVtZW50XG4gICAqIHRoZSBjb3JyZWN0IGludGVyZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIG5hbWUuXG4gICAqL1xuICB0aGlzLnVzZUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTYW5pdGl6ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2ltcGx5IHNldHMgYSBzYW5pdGF0aW9uIHN0cmF0ZWd5IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBTdHJhdGVneSB0eXBlLlxuICAgKi9cbiAgdGhpcy51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIudXNlU3RyYXRlZ3kodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNwcmVmZXJyZWRMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSBmb3IgdHJhbnNsYXRpb25cbiAgICogYXQgaW5pdGlhbCBzdGFydHVwIGJ5IHBhc3NpbmcgYSBsYW5ndWFnZSBrZXkuIFNpbWlsYXIgdG8gYCR0cmFuc2xhdGVQcm92aWRlciN1c2VgXG4gICAqIG9ubHkgdGhhdCBpdCBzYXlzIHdoaWNoIGxhbmd1YWdlIHRvICoqcHJlZmVyKiouXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKi9cbiAgdGhpcy5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICB9O1xuICB2YXIgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgfVxuICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gIH07XG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kLiBFLmcuIHdoZW5cbiAgICogc2V0dGluZyB0aGUgaW5kaWNhdG9yIGFzICdYJyBhbmQgb25lIHRyaWVzIHRvIHRyYW5zbGF0ZSBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGNhbGxlZCBgTk9UX0ZPVU5EYCwgdGhpcyB3aWxsIHJlc3VsdCBpbiBgWCBOT1RfRk9VTkQgWGAuXG4gICAqXG4gICAqIEludGVybmFsbHkgdGhpcyBtZXRob2RzIHNldHMgYSBsZWZ0IGluZGljYXRvciBhbmQgYSByaWdodCBpbmRpY2F0b3IgdXNpbmdcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCgpYCBhbmRcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoKWAuXG4gICAqXG4gICAqICoqTm90ZSoqOiBUaGVzZSBtZXRob2RzIGF1dG9tYXRpY2FsbHkgYWRkIGEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRoZSBpbmRpY2F0b3JzXG4gICAqIGFuZCB0aGUgdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLCBjb3VsZCBiZSBhbnkgc3RyaW5nLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoaW5kaWNhdG9yKTtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodChpbmRpY2F0b3IpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIGxlZnQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIHJpZ2h0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvclJpZ2h0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2Ugd2hlbiBtaXNzaW5nIHRyYW5zbGF0aW9uc1xuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipmYWxsYmFjayoqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3x8YXJyYXl9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqL1xuICB0aGlzLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGZhbGxiYWNrU3RhY2sgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSB0cnVlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IFsgbGFuZ0tleSBdO1xuICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzQXJyYXkobGFuZ0tleSkpIHtcbiAgICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nID0gZmFsc2U7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlID0gbGFuZ0tleTtcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKCRwcmVmZXJyZWRMYW5ndWFnZSkgICYmIGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldCB3aGljaCB0cmFuc2xhdGlvbiB0YWJsZSB0byB1c2UgZm9yIHRyYW5zbGF0aW9uIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gV2hlblxuICAgKiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBwcm92aWRlZCwgaXQnbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIFlvdSBhY3R1YWxseSBkb24ndCBoYXZlIHRvIHVzZSB0aGlzIG1ldGhvZCBzaW5jZSBgJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlYFxuICAgKiBkb2VzIHRoZSBqb2IgdG9vLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICovXG4gIHRoaXMudXNlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSAmJiAoISRsb2FkZXJGYWN0b3J5KSkge1xuICAgICAgICAvLyBvbmx5IHRocm93IGFuIGVycm9yLCB3aGVuIG5vdCBsb2FkaW5nIHRyYW5zbGF0aW9uIGRhdGEgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCckdHJhbnNsYXRlUHJvdmlkZXIgY291bGRuXFwndCBmaW5kIHRyYW5zbGF0aW9uVGFibGUgZm9yIGxhbmdLZXk6IFxcJycgKyBsYW5nS2V5ICsgJ1xcJycpO1xuICAgICAgfVxuICAgICAgJHVzZXMgPSBsYW5nS2V5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkdXNlcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3Jlc29sdmVDbGllbnRMb2NhbGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIHJldHVybnMgdGhlIGN1cnJlbnQgYnJvd3Nlci9jbGllbnQncyBsYW5ndWFnZSBrZXkuIFRoZSByZXN1bHQgaXMgcHJvY2Vzc2VkIHdpdGggdGhlIGNvbmZpZ3VyZWQgdW5pZm9ybSB0YWcgcmVzb2x2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBjdXJyZW50IGNsaWVudC9icm93c2VyIGxhbmd1YWdlIGtleVxuICAgKi9cbiAgdGhpcy5yZXNvbHZlQ2xpZW50TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRMb2NhbGUoKTtcbiAgfTtcblxuIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZUtleVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2gga2V5IG11c3QgcmVwcmVzZW50IHRoZSBjaG9vc2VkIGxhbmd1YWdlIGJ5IGEgdXNlciBpbiB0aGUgc3RvcmFnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAqL1xuICB2YXIgc3RvcmFnZUtleSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5KSB7XG4gICAgICBpZiAoJHN0b3JhZ2VQcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuICRzdG9yYWdlUHJlZml4ICsgJHN0b3JhZ2VLZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHN0b3JhZ2VLZXk7XG4gICAgfVxuICAgICRzdG9yYWdlS2V5ID0ga2V5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMuc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VVcmxMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVVcmxMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVcmxcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVVybExvYWRlciA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVVcmxMb2FkZXInLCBhbmd1bGFyLmV4dGVuZCh7IHVybDogdXJsIH0sIG9wdGlvbnMpKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVN0YXRpY0ZpbGVzTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVN0YXRpY0ZpbGVzTG9hZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIG9wdGlvbnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGFueSBvdGhlciBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvYWRlckZhY3RvcnkgRmFjdG9yeSBuYW1lIHRvIHVzZVxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlTG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlckZhY3RvcnksIG9wdGlvbnMpIHtcbiAgICAkbG9hZGVyRmFjdG9yeSA9IGxvYWRlckZhY3Rvcnk7XG4gICAgJGxvYWRlck9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9jYWxTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlTG9jYWxTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlTG9jYWxTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VDb29raWVTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlQ29va2llU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VDb29raWVTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVDb29raWVTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGN1c3RvbSBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqL1xuICB0aGlzLnVzZVN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAkc3RvcmFnZUZhY3RvcnkgPSBzdG9yYWdlRmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VQcmVmaXhcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHByZWZpeCBmb3Igc3RvcmFnZSBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggU3RvcmFnZSBrZXkgcHJlZml4XG4gICAqL1xuICB0aGlzLnN0b3JhZ2VQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxuICAgICRzdG9yYWdlUHJlZml4ID0gcHJlZml4O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBidWlsdC1pbiBsb2cgaGFuZGxlciB3aGVuIHRyeWluZyB0byB0cmFuc2xhdGVcbiAgICogYSB0cmFuc2xhdGlvbiBJZCB3aGljaCBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBUaGlzIGlzIGFjdHVhbGx5IGEgc2hvcnRjdXQgbWV0aG9kIGZvciBgdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcigpYC5cbiAgICpcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCckdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEV4cGVjdHMgYSBmYWN0b3J5IG5hbWUgd2hpY2ggbGF0ZXIgZ2V0cyBpbnN0YW50aWF0ZWQgd2l0aCBgJGluamVjdG9yYC5cbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gdGVsbCBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYSBjdXN0b21cbiAgICogbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlci4gSnVzdCBidWlsZCBhIGZhY3Rvcnkgd2hpY2ggcmV0dXJucyBhIGZ1bmN0aW9uXG4gICAqIGFuZCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWQgYXMgYXJndW1lbnQuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoJ2N1c3RvbUhhbmRsZXInKTtcbiAgICogIH0pO1xuICAgKlxuICAgKiAgYXBwLmZhY3RvcnkoJ2N1c3RvbUhhbmRsZXInLCBmdW5jdGlvbiAoZGVwMSwgZGVwMikge1xuICAgKiAgICByZXR1cm4gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICogICAgICAvLyBzb21ldGhpbmcgd2l0aCB0cmFuc2xhdGlvbklkIGFuZCBkZXAxIGFuZCBkZXAyXG4gICAqICAgIH07XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlUG9zdENvbXBpbGluZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIHBvc3QgY29tcGlsaW5nIGlzIGVuYWJsZWQsIGFsbCB0cmFuc2xhdGVkIHZhbHVlcyB3aWxsIGJlIHByb2Nlc3NlZFxuICAgKiBhZ2FpbiB3aXRoIEFuZ3VsYXJKUycgJGNvbXBpbGUuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVBvc3RDb21waWxpbmcodHJ1ZSk7XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VQb3N0Q29tcGlsaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZm9yY2VBc3luY1JlbG9hZFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIGZvcmNlIGFzeW5jIHJlbG9hZCBpcyBlbmFibGVkLCBhc3luYyBsb2FkZXIgd2lsbCBhbHdheXMgYmUgY2FsbGVkXG4gICAqIGV2ZW4gaWYgJHRyYW5zbGF0aW9uVGFibGUgYWxyZWFkeSBjb250YWlucyB0aGUgbGFuZ3VhZ2Uga2V5LCBhZGRpbmdcbiAgICogcG9zc2libGUgbmV3IGVudHJpZXMgdG8gdGhlICR0cmFuc2xhdGlvblRhYmxlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci5mb3JjZUFzeW5jUmVsb2FkKHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdmFsaWQgdmFsdWVzIGFyZSB0cnVlIG9yIGZhbHNlXG4gICAqL1xuICB0aGlzLmZvcmNlQXN5bmNSZWxvYWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQgPSAhKCF2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1bmlmb3JtTGFuZ3VhZ2VUYWdcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBsYW5ndWFnZSB0YWcgc2hvdWxkIGJlIHVzZWQgYXMgYSByZXN1bHQgd2hlbiBkZXRlcm1pbmluZ1xuICAgKiB0aGUgY3VycmVudCBicm93c2VyIGxhbmd1YWdlLlxuICAgKlxuICAgKiBUaGlzIHNldHRpbmcgbXVzdCBiZSBzZXQgYmVmb3JlIGludm9raW5nIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNtZXRob2RzX2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlIGRldGVybWluZVByZWZlcnJlZExhbmd1YWdlKCl9LlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAkdHJhbnNsYXRlUHJvdmlkZXJcbiAgICogICAudW5pZm9ybUxhbmd1YWdlVGFnKCdiY3A0NycpXG4gICAqICAgLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlKClcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIFRoZSByZXNvbHZlciBjdXJyZW50bHkgc3VwcG9ydHM6XG4gICAqICogZGVmYXVsdFxuICAgKiAgICAgKHRyYWRpdGlvbmFsbHk6IGh5cGhlbnMgd2lsbCBiZSBjb252ZXJ0ZWQgaW50byB1bmRlcnNjb3JlcywgaS5lLiBlbi1VUyA9PiBlbl9VUylcbiAgICogICAgIGVuLVVTID0+IGVuX1VTXG4gICAqICAgICBlbl9VUyA9PiBlbl9VU1xuICAgKiAgICAgZW4tdXMgPT4gZW5fdXNcbiAgICogKiBqYXZhXG4gICAqICAgICBsaWtlIGRlZmF1bHQsIGJ1dCB0aGUgc2Vjb25kIHBhcnQgd2lsbCBiZSBhbHdheXMgaW4gdXBwZXJjYXNlXG4gICAqICAgICBlbi1VUyA9PiBlbl9VU1xuICAgKiAgICAgZW5fVVMgPT4gZW5fVVNcbiAgICogICAgIGVuLXVzID0+IGVuX1VTXG4gICAqICogQkNQIDQ3IChSRkMgNDY0NiAmIDQ2NDcpXG4gICAqICAgICBlbi1VUyA9PiBlbi1VU1xuICAgKiAgICAgZW5fVVMgPT4gZW4tVVNcbiAgICogICAgIGVuLXVzID0+IGVuLVVTXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKiAqIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSUVURl9sYW5ndWFnZV90YWdcbiAgICogKiBodHRwOi8vd3d3LnczLm9yZy9JbnRlcm5hdGlvbmFsL2NvcmUvbGFuZ3RhZ3MvXG4gICAqICogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvYmNwNDdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyAob3Igc3RhbmRhcmQpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnN0YW5kYXJkIC0gdmFsaWQgdmFsdWVzIGFyZSAnZGVmYXVsdCcsICdiY3A0NycsICdqYXZhJ1xuICAgKi9cbiAgdGhpcy51bmlmb3JtTGFuZ3VhZ2VUYWcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzdGFuZGFyZDogb3B0aW9uc1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlciA9IG9wdGlvbnMuc3RhbmRhcmQ7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdHJ5IHRvIGRldGVybWluZSBvbiBpdHMgb3duIHdoaWNoIGxhbmd1YWdlIGtleVxuICAgKiB0byBzZXQgYXMgcHJlZmVycmVkIGxhbmd1YWdlLiBXaGVuIGBmbmAgaXMgZ2l2ZW4sIGFuZ3VsYXItdHJhbnNsYXRlIHVzZXMgaXRcbiAgICogdG8gZGV0ZXJtaW5lIGEgbGFuZ3VhZ2Uga2V5LCBvdGhlcndpc2UgaXQgdXNlcyB0aGUgYnVpbHQtaW4gYGdldExvY2FsZSgpYFxuICAgKiBtZXRob2QuXG4gICAqXG4gICAqIFRoZSBgZ2V0TG9jYWxlKClgIHJldHVybnMgYSBsYW5ndWFnZSBrZXkgaW4gdGhlIGZvcm1hdCBgW2xhbmddX1tjb3VudHJ5XWAgb3JcbiAgICogYFtsYW5nXWAgZGVwZW5kaW5nIG9uIHdoYXQgdGhlIGJyb3dzZXIgcHJvdmlkZXMuXG4gICAqXG4gICAqIFVzZSB0aGlzIG1ldGhvZCBhdCB5b3VyIG93biByaXNrLCBzaW5jZSBub3QgYWxsIGJyb3dzZXJzIHJldHVybiBhIHZhbGlkXG4gICAqIGxvY2FsZSAoc2VlIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNtZXRob2RzX3VuaWZvcm1MYW5ndWFnZVRhZyB1bmlmb3JtTGFuZ3VhZ2VUYWcoKX0pLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZm4gRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGEgYnJvd3NlcidzIGxvY2FsZVxuICAgKi9cbiAgdGhpcy5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChmbikge1xuXG4gICAgdmFyIGxvY2FsZSA9IChmbiAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZm4pKSA/IGZuKCkgOiBnZXRMb2NhbGUoKTtcblxuICAgIGlmICghJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGgpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxvY2FsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbmVnb3RpYXRlTG9jYWxlKGxvY2FsZSkgfHwgbG9jYWxlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcmVnaXN0ZXJBdmFpbGFibGVMYW5ndWFnZUtleXNcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBzZXQgb2YgbGFuZ3VhZ2Uga2V5cyB0aGUgYXBwIHdpbGwgd29yayB3aXRoLiBVc2UgdGhpcyBtZXRob2QgaW5cbiAgICogY29tYmluYXRpb24gd2l0aFxuICAgKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2V9LlxuICAgKiBXaGVuIGF2YWlsYWJsZSBsYW5ndWFnZXMga2V5cyBhcmUgcmVnaXN0ZXJlZCwgYW5ndWxhci10cmFuc2xhdGVcbiAgICogdHJpZXMgdG8gZmluZCB0aGUgYmVzdCBmaXR0aW5nIGxhbmd1YWdlIGtleSBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXJzIGxvY2FsZSxcbiAgICogY29uc2lkZXJpbmcgeW91ciBsYW5ndWFnZSBrZXkgY29udmVudGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGxhbmd1YWdlS2V5cyBBcnJheSBvZiBsYW5ndWFnZSBrZXlzIHRoZSB5b3VyIGFwcCB3aWxsIHVzZVxuICAgKiBAcGFyYW0ge29iamVjdD19IGFsaWFzZXMgQWxpYXMgbWFwLlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGZ1bmN0aW9uIChsYW5ndWFnZUtleXMsIGFsaWFzZXMpIHtcbiAgICBpZiAobGFuZ3VhZ2VLZXlzKSB7XG4gICAgICAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gbGFuZ3VhZ2VLZXlzO1xuICAgICAgaWYgKGFsaWFzZXMpIHtcbiAgICAgICAgJGxhbmd1YWdlS2V5QWxpYXNlcyA9IGFsaWFzZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICRhdmFpbGFibGVMYW5ndWFnZUtleXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2FkZXJDYWNoZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIGNhY2hlIGZvciBpbnRlcm5hbCAkaHR0cCBiYXNlZCBsb2FkZXJzLlxuICAgKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRpb25DYWNoZSAkdHJhbnNsYXRpb25DYWNoZX0uXG4gICAqIFdoZW4gZmFsc2UgdGhlIGNhY2hlIHdpbGwgYmUgZGlzYWJsZWQgKGRlZmF1bHQpLiBXaGVuIHRydWUgb3IgdW5kZWZpbmVkXG4gICAqIHRoZSBjYWNoZSB3aWxsIGJlIGEgZGVmYXVsdCAoc2VlICRjYWNoZUZhY3RvcnkpLiBXaGVuIGFuIG9iamVjdCBpdCB3aWxsXG4gICAqIGJlIHRyZWF0IGFzIGEgY2FjaGUgb2JqZWN0IGl0c2VsZjogdGhlIHVzYWdlIGlzICRodHRwKHtjYWNoZTogY2FjaGV9KVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FjaGUgYm9vbGVhbiwgc3RyaW5nIG9yIGNhY2hlLW9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VMb2FkZXJDYWNoZSA9IGZ1bmN0aW9uIChjYWNoZSkge1xuICAgIGlmIChjYWNoZSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGRpc2FibGUgY2FjaGVcbiAgICAgIGxvYWRlckNhY2hlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoY2FjaGUgPT09IHRydWUpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBBSlMgZGVmYXVsdHNcbiAgICAgIGxvYWRlckNhY2hlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihjYWNoZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgZGVmYXVsdFxuICAgICAgbG9hZGVyQ2FjaGUgPSAnJHRyYW5zbGF0aW9uQ2FjaGUnO1xuICAgIH0gZWxzZSBpZiAoY2FjaGUpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBnaXZlbiBvbmUgKHNlZSAkY2FjaGVGYWN0b3J5KVxuICAgICAgbG9hZGVyQ2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkaXJlY3RpdmVQcmlvcml0eVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGRlZmF1bHQgcHJpb3JpdHkgb2YgdGhlIHRyYW5zbGF0ZSBkaXJlY3RpdmUuIFRoZSBzdGFuZGFyZCB2YWx1ZSBpcyBgMGAuXG4gICAqIENhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aXRob3V0IGFuIGFyZ3VtZW50IHdpbGwgcmV0dXJuIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJpb3JpdHkgZm9yIHRoZSB0cmFuc2xhdGUtZGlyZWN0aXZlXG4gICAqL1xuICB0aGlzLmRpcmVjdGl2ZVByaW9yaXR5ID0gZnVuY3Rpb24gKHByaW9yaXR5KSB7XG4gICAgaWYgKHByaW9yaXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGdldHRlclxuICAgICAgcmV0dXJuIGRpcmVjdGl2ZVByaW9yaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXR0ZXIgd2l0aCBjaGFpbmluZ1xuICAgICAgZGlyZWN0aXZlUHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0YXRlZnVsRmlsdGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2luY2UgQW5ndWxhckpTIDEuMywgZmlsdGVycyB3aGljaCBhcmUgbm90IHN0YXRlbGVzcyAoZGVwZW5kaW5nIGF0IHRoZSBzY29wZSlcbiAgICogaGF2ZSB0byBleHBsaWNpdCBkZWZpbmUgdGhpcyBiZWhhdmlvci5cbiAgICogU2V0cyB3aGV0aGVyIHRoZSB0cmFuc2xhdGUgZmlsdGVyIHNob3VsZCBiZSBzdGF0ZWZ1bCBvciBzdGF0ZWxlc3MuIFRoZSBzdGFuZGFyZCB2YWx1ZSBpcyBgdHJ1ZWBcbiAgICogbWVhbmluZyBiZWluZyBzdGF0ZWZ1bC5cbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGhvdXQgYW4gYXJndW1lbnQgd2lsbCByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgLSBkZWZpbmVzIHRoZSBzdGF0ZSBvZiB0aGUgZmlsdGVyXG4gICAqL1xuICB0aGlzLnN0YXRlZnVsRmlsdGVyID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGdldHRlclxuICAgICAgcmV0dXJuIHN0YXRlZnVsRmlsdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXR0ZXIgd2l0aCBjaGFpbmluZ1xuICAgICAgc3RhdGVmdWxGaWx0ZXIgPSBzdGF0ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3Bvc3RQcm9jZXNzXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIHBvc3QgcHJvY2Vzc29yIHdpbGwgYmUgaW50ZXJjZXB0IHJpZ2h0IGFmdGVyIHRoZSB0cmFuc2xhdGlvbiByZXN1bHQuIEl0IGNhbiBtb2RpZnkgdGhlIHJlc3VsdC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZuIEZ1bmN0aW9uIG9yIHNlcnZpY2UgbmFtZSAoc3RyaW5nKSB0byBiZSBjYWxsZWQgYWZ0ZXIgdGhlIHRyYW5zbGF0aW9uIHZhbHVlIGhhcyBiZWVuIHNldCAvIHJlc29sdmVkLiBUaGUgZnVuY3Rpb24gaXRzZWxmIHdpbGwgZW5yaWNoIGV2ZXJ5IHZhbHVlIGJlaW5nIHByb2Nlc3NlZCBhbmQgdGhlbiBjb250aW51ZSB0aGUgbm9ybWFsIHJlc29sdmVyIHByb2Nlc3NcbiAgICovXG4gIHRoaXMucG9zdFByb2Nlc3MgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICBpZiAoZm4pIHtcbiAgICAgIHBvc3RQcm9jZXNzRm4gPSBmbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9zdFByb2Nlc3NGbiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNrZWVwQ29udGVudFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIGtlZXBDb250ZW50IGlzIHNldCB0byB0cnVlIHRoYW4gdHJhbnNsYXRlIGRpcmVjdGl2ZSB3aWxsIGFsd2F5cyB1c2UgaW5uZXJIVE1MXG4gICAqIGFzIGEgZGVmYXVsdCB0cmFuc2xhdGlvblxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci5rZWVwQ29udGVudCh0cnVlKTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHZhbGlkIHZhbHVlcyBhcmUgdHJ1ZSBvciBmYWxzZVxuICAgKi9cbiAgdGhpcy5rZWVwQ29udGVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRrZWVwQ29udGVudCA9ICEoIXZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGxvZ1xuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKiBAcmVxdWlyZXMgJHFcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBgJHRyYW5zbGF0ZWAgc2VydmljZSBpcyB0aGUgYWN0dWFsIGNvcmUgb2YgYW5ndWxhci10cmFuc2xhdGUuIEl0IGV4cGVjdHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiBhbmQgb3B0aW9uYWwgaW50ZXJwb2xhdGUgcGFyYW1ldGVycyB0byB0cmFuc2xhdGUgY29udGVudHMuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAkdHJhbnNsYXRlKCdIRUFETElORV9URVhUJykudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICogICAgJHNjb3BlLnRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb247XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSB0cmFuc2xhdGlvbklkIEEgdG9rZW4gd2hpY2ggcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3Qgd2hlcmUgZWFjaCBrZXlcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgKiBAcGFyYW0ge29iamVjdD19IGludGVycG9sYXRlUGFyYW1zIEFuIG9iamVjdCBoYXNoIGZvciBkeW5hbWljIHZhbHVlc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRUcmFuc2xhdGlvblRleHQgdGhlIG9wdGlvbmFsIGRlZmF1bHQgdHJhbnNsYXRpb24gdGV4dCB0aGF0IGlzIHdyaXR0ZW4gYXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgZGVmYXVsdCB0ZXh0IGluIGNhc2UgaXQgaXMgbm90IGZvdW5kIGluIGFueSBjb25maWd1cmVkIGxhbmd1YWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JjZUxhbmd1YWdlIEEgbGFuZ3VhZ2UgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IGxhbmd1YWdlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHByb21pc2VcbiAgICovXG4gIHRoaXMuJGdldCA9IFtcbiAgICAnJGxvZycsXG4gICAgJyRpbmplY3RvcicsXG4gICAgJyRyb290U2NvcGUnLFxuICAgICckcScsXG4gICAgZnVuY3Rpb24gKCRsb2csICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEpIHtcblxuICAgICAgdmFyIFN0b3JhZ2UsXG4gICAgICAgICAgZGVmYXVsdEludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoJGludGVycG9sYXRpb25GYWN0b3J5IHx8ICckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nKSxcbiAgICAgICAgICBwZW5kaW5nTG9hZGVyID0gZmFsc2UsXG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcCA9IHt9LFxuICAgICAgICAgIGxhbmdQcm9taXNlcyA9IHt9LFxuICAgICAgICAgIGZhbGxiYWNrSW5kZXgsXG4gICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbjtcblxuICAgICAgdmFyICR0cmFuc2xhdGUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgZm9yY2VMYW5ndWFnZSkge1xuICAgICAgICBpZiAoISR1c2VzICYmICRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICAgICR1c2VzID0gJHByZWZlcnJlZExhbmd1YWdlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VzID0gKGZvcmNlTGFuZ3VhZ2UgJiYgZm9yY2VMYW5ndWFnZSAhPT0gJHVzZXMpID8gLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgICAgICAgICAgKG5lZ290aWF0ZUxvY2FsZShmb3JjZUxhbmd1YWdlKSB8fCBmb3JjZUxhbmd1YWdlKSA6ICR1c2VzO1xuXG4gICAgICAgIC8vIENoZWNrIGZvcmNlTGFuZ3VhZ2UgaXMgcHJlc2VudFxuICAgICAgICBpZiAoZm9yY2VMYW5ndWFnZSkge1xuICAgICAgICAgIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcoZm9yY2VMYW5ndWFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIC8vIEluc3BpcmVkIGJ5IFEuYWxsU2V0dGxlZCBieSBLcmlzIEtvd2FsXG4gICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvYjBmYTcyOTgwNzE3ZGMyMDJmZmMzY2JmMDNiOTM2ZTEwZWJiYjlkNy9xLmpzI0wxNTUzLTE1NjNcbiAgICAgICAgICAvLyBUaGlzIHRyYW5zZm9ybXMgYWxsIHByb21pc2VzIHJlZ2FyZGxlc3MgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAgICAgICAgICB2YXIgdHJhbnNsYXRlQWxsID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWRzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9OyAvLyBzdG9yaW5nIHRoZSBhY3R1YWwgcmVzdWx0c1xuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107IC8vIHByb21pc2VzIHRvIHdhaXQgZm9yXG4gICAgICAgICAgICAvLyBXcmFwcyB0aGUgcHJvbWlzZSBhKSBiZWluZyBhbHdheXMgcmVzb2x2ZWQgYW5kIGIpIHN0b3JpbmcgdGhlIGxpbmsgaWQtPnZhbHVlXG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICAgdmFyIHJlZ2FyZGxlc3MgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbdHJhbnNsYXRpb25JZCwgdmFsdWVdKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY2FyZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZXNvbHZlZCBvciByZWplY3RlZDsganVzdCBzdG9yZSB0aGUgdmFsdWVzXG4gICAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgZm9yY2VMYW5ndWFnZSkudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkcy5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0cmFuc2xhdGUodHJhbnNsYXRpb25JZHNbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIGFsbCAoaW5jbHVkaW5nIHN0b3JpbmcgdG8gcmVzdWx0cylcbiAgICAgICAgICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHJlc3VsdHNcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGVBbGwodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvbWlzZVRvV2FpdEZvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSAkcHJlZmVycmVkTGFuZ3VhZ2UgP1xuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRwcmVmZXJyZWRMYW5ndWFnZV0gOlxuICAgICAgICAgICAgbGFuZ1Byb21pc2VzW3VzZXNdO1xuXG4gICAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG5cbiAgICAgICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5ICYmICFwcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZXJlJ3Mgbm8gcGVuZGluZyBwcm9taXNlIGZvciAkcHJlZmVycmVkTGFuZ3VhZ2Ugb3JcbiAgICAgICAgICAgIC8vICR1c2VzLiBNYXliZSB0aGVyZSdzIG9uZSBwZW5kaW5nIGZvciBhIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbVxuICAgICAgICAgICAgLy8gc3RvcmFnZS5cbiAgICAgICAgICAgIHZhciBsYW5nS2V5ID0gU3RvcmFnZS5nZXQoJHN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IGxhbmdQcm9taXNlc1tsYW5nS2V5XTtcblxuICAgICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgICAgIC8vIG1heWJlIHRoZSBsYW5ndWFnZSBmcm9tIHN0b3JhZ2UgaXMgYWxzbyBkZWZpbmVkIGFzIGZhbGxiYWNrIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gd2UgaW5jcmVhc2UgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIGluZGV4IHRvIG5vdCBzZWFyY2ggaW4gdGhhdCBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIC8vIGFzIGZhbGxiYWNrLCBzaW5jZSBpdCdzIHByb2JhYmx5IHRoZSBmaXJzdCB1c2VkIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIHRoZSBpbmRleCBzdGFydHMgYWZ0ZXIgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gKGluZGV4ID09PSAwKSA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgLy8gYnV0IHdlIGNhbiBtYWtlIHN1cmUgdG8gQUxXQVlTIGZhbGxiYWNrIHRvIHByZWZlcnJlZCBsYW5ndWFnZSBhdCBsZWFzdFxuICAgICAgICAgICAgICAgIGlmIChpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCAkcHJlZmVycmVkTGFuZ3VhZ2UpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgaWYgKCFwcm9taXNlVG9XYWl0Rm9yKSB7XG4gICAgICAgICAgLy8gbm8gcHJvbWlzZSB0byB3YWl0IGZvcj8gb2theS4gVGhlbiB0aGVyZSdzIG5vIGxvYWRlciByZWdpc3RlcmVkXG4gICAgICAgICAgLy8gbm9yIGlzIGEgb25lIHBlbmRpbmcgZm9yIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbSBzdG9yYWdlLlxuICAgICAgICAgIC8vIFdlIGNhbiBqdXN0IHRyYW5zbGF0ZS5cbiAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByb21pc2VSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vICR1c2VzIG1heSBoYXZlIGNoYW5nZWQgd2hpbGUgd2FpdGluZ1xuICAgICAgICAgICAgaWYgKCFmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgICAgICAgIHVzZXMgPSAkdXNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHByb21pc2VSZXNvbHZlZC5kaXNwbGF5TmFtZSA9ICdwcm9taXNlUmVzb2x2ZWQnO1xuXG4gICAgICAgICAgcHJvbWlzZVRvV2FpdEZvclsnZmluYWxseSddKHByb21pc2VSZXNvbHZlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQXBwbGllcyBub3QgZm91bnQgaW5kaWNhdG9ycyB0byBnaXZlbiB0cmFuc2xhdGlvbiBpZCwgaWYgbmVlZGVkLlxuICAgICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIG9ubHkgZXhlY3V0ZWQsIGlmIGEgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdCxcbiAgICAgICAqIHdoaWNoIGlzIHdoeSBhIHRyYW5zbGF0aW9uIGlkIGlzIGV4cGVjdGVkIGFzIGFyZ3VtZW50LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbklkIFRyYW5zbGF0aW9uIGlkLlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gU2FtZSBhcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBidXQgYXBwbGllZCB3aXRoIG5vdCBmb3VuZFxuICAgICAgICogaW5kaWNhdG9ycy5cbiAgICAgICAqL1xuICAgICAgdmFyIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgLy8gYXBwbHlpbmcgbm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JMZWZ0KSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IFskbm90Rm91bmRJbmRpY2F0b3JMZWZ0LCB0cmFuc2xhdGlvbklkXS5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvclJpZ2h0KSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IFt0cmFuc2xhdGlvbklkLCAkbm90Rm91bmRJbmRpY2F0b3JSaWdodF0uam9pbignICcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSB1c2VMYW5ndWFnZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIE1ha2VzIGFjdHVhbCB1c2Ugb2YgYSBsYW5ndWFnZSBieSBzZXR0aW5nIGEgZ2l2ZW4gbGFuZ3VhZ2Uga2V5IGFzIHVzZWRcbiAgICAgICAqIGxhbmd1YWdlIGFuZCBpbmZvcm1zIHJlZ2lzdGVyZWQgaW50ZXJwb2xhdG9ycyB0byBhbHNvIHVzZSB0aGUgZ2l2ZW5cbiAgICAgICAqIGtleSBhcyBsb2NhbGUuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMb2NhbGUga2V5LlxuICAgICAgICovXG4gICAgICB2YXIgdXNlTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICR1c2VzID0ga2V5O1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byBzdG9yZSBuZXcgbGFuZ3VhZ2Uga2V5IGJlZm9yZSB0cmlnZ2VyaW5nIHN1Y2Nlc3MgZXZlbnRcbiAgICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgICAgIFN0b3JhZ2UucHV0KCR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLCAkdXNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgLy8gaW5mb3JtIGRlZmF1bHQgaW50ZXJwb2xhdG9yXG4gICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcblxuICAgICAgICB2YXIgZWFjaEludGVycG9sYXRvciA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0b3IsIGlkKSB7XG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpZF0uc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZWFjaEludGVycG9sYXRvci5kaXNwbGF5TmFtZSA9ICdlYWNoSW50ZXJwb2xhdG9yTG9jYWxlU2V0dGVyJztcblxuICAgICAgICAvLyBpbmZvcm0gYWxsIG90aGVycyB0b28hXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpbnRlcnBvbGF0b3JIYXNoTWFwLCBlYWNoSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGxvYWRBc3luY1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEtpY2tzIG9mIHJlZ2lzdGVyZWQgYXN5bmMgbG9hZGVyIHVzaW5nIGAkaW5qZWN0b3JgIGFuZCBhcHBsaWVzIGV4aXN0aW5nXG4gICAgICAgKiBsb2FkZXIgb3B0aW9ucy4gV2hlbiByZXNvbHZlZCwgaXQgdXBkYXRlcyB0cmFuc2xhdGlvbiB0YWJsZXMgYWNjb3JkaW5nbHlcbiAgICAgICAqIG9yIHJlamVjdHMgd2l0aCBnaXZlbiBsYW5ndWFnZSBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMYW5ndWFnZSBrZXkuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UuXG4gICAgICAgKi9cbiAgICAgIHZhciBsb2FkQXN5bmMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgdGhyb3cgJ05vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgZm9yIGxvYWRpbmcuJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgIHBlbmRpbmdMb2FkZXIgPSB0cnVlO1xuXG4gICAgICAgIHZhciBjYWNoZSA9IGxvYWRlckNhY2hlO1xuICAgICAgICBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyBnZXR0aW5nIG9uLWRlbWFuZCBpbnN0YW5jZSBvZiBsb2FkZXJcbiAgICAgICAgICBjYWNoZSA9ICRpbmplY3Rvci5nZXQoY2FjaGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvYWRlck9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJGxvYWRlck9wdGlvbnMsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAkaHR0cDogYW5ndWxhci5leHRlbmQoe30sIHtcbiAgICAgICAgICAgIGNhY2hlOiBjYWNoZVxuICAgICAgICAgIH0sICRsb2FkZXJPcHRpb25zLiRodHRwKVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgb25Mb2FkZXJTdWNjZXNzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nU3VjY2VzcycsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QodGFibGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0cmFuc2xhdGlvblRhYmxlLCBmbGF0T2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICB0YWJsZTogdHJhbnNsYXRpb25UYWJsZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgfTtcbiAgICAgICAgb25Mb2FkZXJTdWNjZXNzLmRpc3BsYXlOYW1lID0gJ29uTG9hZGVyU3VjY2Vzcyc7XG5cbiAgICAgICAgdmFyIG9uTG9hZGVyRXJyb3IgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFcnJvcicsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICB9O1xuICAgICAgICBvbkxvYWRlckVycm9yLmRpc3BsYXlOYW1lID0gJ29uTG9hZGVyRXJyb3InO1xuXG4gICAgICAgICRpbmplY3Rvci5nZXQoJGxvYWRlckZhY3RvcnkpKGxvYWRlck9wdGlvbnMpXG4gICAgICAgICAgLnRoZW4ob25Mb2FkZXJTdWNjZXNzLCBvbkxvYWRlckVycm9yKTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgICAgU3RvcmFnZSA9ICRpbmplY3Rvci5nZXQoJHN0b3JhZ2VGYWN0b3J5KTtcblxuICAgICAgICBpZiAoIVN0b3JhZ2UuZ2V0IHx8ICFTdG9yYWdlLnB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2Ugc3RvcmFnZSBcXCcnICsgJHN0b3JhZ2VGYWN0b3J5ICsgJ1xcJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgd2UgaGF2ZSBhZGRpdGlvbmFsIGludGVycG9sYXRpb25zIHRoYXQgd2VyZSBhZGRlZCB2aWFcbiAgICAgIC8vICR0cmFuc2xhdGVQcm92aWRlci5hZGRJbnRlcnBvbGF0aW9uKCksIHdlIGhhdmUgdG8gbWFwJ2VtXG4gICAgICBpZiAoJGludGVycG9sYXRvckZhY3Rvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGVhY2hJbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgdmFyIGludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoaW50ZXJwb2xhdG9yRmFjdG9yeSk7XG4gICAgICAgICAgLy8gc2V0dGluZyBpbml0aWFsIGxvY2FsZSBmb3IgZWFjaCBpbnRlcnBvbGF0aW9uIHNlcnZpY2VcbiAgICAgICAgICBpbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCRwcmVmZXJyZWRMYW5ndWFnZSB8fCAkdXNlcyk7XG4gICAgICAgICAgLy8gbWFrZSdlbSByZWNvZ25pemFibGUgdGhyb3VnaCBpZFxuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdG9yLmdldEludGVycG9sYXRpb25JZGVudGlmaWVyKCldID0gaW50ZXJwb2xhdG9yO1xuICAgICAgICB9O1xuICAgICAgICBlYWNoSW50ZXJwb2xhdGlvbkZhY3RvcnkuZGlzcGxheU5hbWUgPSAnaW50ZXJwb2xhdGlvbkZhY3RvcnlBZGRlcic7XG5cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRpbnRlcnBvbGF0b3JGYWN0b3JpZXMsIGVhY2hJbnRlcnBvbGF0aW9uRmFjdG9yeSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgZ2V0VHJhbnNsYXRpb25UYWJsZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uIHRhYmxlXG4gICAgICAgKiBvciBpcyByZWplY3RlZCBpZiBhbiBlcnJvciBvY2N1cnJlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleVxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgdmFyIGdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCR0cmFuc2xhdGlvblRhYmxlLCBsYW5nS2V5KSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxhbmdQcm9taXNlc1tsYW5nS2V5XSkge1xuICAgICAgICAgIHZhciBvblJlc29sdmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS50YWJsZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBvblJlc29sdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRpb25UYWJsZVJlc29sdmVyJztcbiAgICAgICAgICBsYW5nUHJvbWlzZXNbbGFuZ0tleV0udGhlbihvblJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb25cbiAgICAgICAqIG9yIGJlIHJlamVjdGVkIGlmIG5vIHRyYW5zbGF0aW9uIHdhcyBmb3VuZCBmb3IgdGhlIGxhbmd1YWdlLlxuICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBjdXJyZW50bHkgb25seSB1c2VkIGZvciBmYWxsYmFjayBsYW5ndWFnZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIHZhciBvblJlc29sdmUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuICAgICAgICAgICAgICBnZXRGYWxsYmFja1RyYW5zbGF0aW9uKGxhbmdLZXksIHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcilcbiAgICAgICAgICAgICAgICAudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIGludGVycG9sYXRlZFZhbHVlID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkVmFsdWUgPSBhcHBseVBvc3RQcm9jZXNzaW5nKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlZFZhbHVlLCBpbnRlcnBvbGF0ZVBhcmFtcywgbGFuZ0tleSk7XG5cbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnRlcnBvbGF0ZWRWYWx1ZSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG9uUmVzb2x2ZS5kaXNwbGF5TmFtZSA9ICdmYWxsYmFja1RyYW5zbGF0aW9uUmVzb2x2ZXInO1xuXG4gICAgICAgIGdldFRyYW5zbGF0aW9uVGFibGUobGFuZ0tleSkudGhlbihvblJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5IFRoZSBsYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8uXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgcmVzdWx0LCB0cmFuc2xhdGlvblRhYmxlID0gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uVGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcbiAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIHJlc3VsdCA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgcmVzdWx0LCBpbnRlcnBvbGF0ZVBhcmFtcywgbGFuZ0tleSk7XG4gICAgICAgICAgaWYgKHJlc3VsdC5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudChsYW5nS2V5LCByZXN1bHQuc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHRyYW5zbGF0ZUJ5SGFuZGxlclxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBUcmFuc2xhdGUgYnkgbWlzc2luZyB0cmFuc2xhdGlvbiBoYW5kbGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBkZWZhdWx0VHJhbnNsYXRpb25UZXh0XG4gICAgICAgKiBAcmV0dXJucyB0cmFuc2xhdGlvbiBjcmVhdGVkIGJ5ICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIG9yIHRyYW5zbGF0aW9uSWQgaXMgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgaXNcbiAgICAgICAqIGFic2VudFxuICAgICAgICovXG4gICAgICB2YXIgdHJhbnNsYXRlQnlIYW5kbGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBoYW5kbGVyIGZhY3RvcnkgLSB3ZSBtaWdodCBhbHNvIGNhbGwgaXQgaGVyZSB0byBkZXRlcm1pbmUgaWYgaXQgcHJvdmlkZXNcbiAgICAgICAgLy8gYSBkZWZhdWx0IHRleHQgZm9yIGEgdHJhbnNsYXRpb25pZCB0aGF0IGNhbid0IGJlIGZvdW5kIGFueXdoZXJlIGluIG91ciB0YWJsZXNcbiAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICAgIHZhciByZXN1bHRTdHJpbmcgPSAkaW5qZWN0b3IuZ2V0KCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkodHJhbnNsYXRpb25JZCwgJHVzZXMsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgICBpZiAocmVzdWx0U3RyaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRTdHJpbmc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xuICAgICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICovXG4gICAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcbiAgICAgICAgICBnZXRGYWxsYmFja1RyYW5zbGF0aW9uKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyBMb29rIGluIHRoZSBuZXh0IGZhbGxiYWNrIGxhbmd1YWdlIGZvciBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgICAgICAvLyBJdCBkZWxheXMgdGhlIHJlc29sdmluZyBieSBwYXNzaW5nIGFub3RoZXIgcHJvbWlzZSB0byByZXNvbHZlLlxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gdHJhbnNsYXRpb24gZm91bmQgaW4gYW55IGZhbGxiYWNrIGxhbmd1YWdlXG4gICAgICAgICAgLy8gaWYgYSBkZWZhdWx0IHRyYW5zbGF0aW9uIHRleHQgaXMgc2V0IGluIHRoZSBkaXJlY3RpdmUsIHRoZW4gcmV0dXJuIHRoaXMgYXMgYSByZXN1bHRcbiAgICAgICAgICBpZiAoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgbm8gZGVmYXVsdCB0cmFuc2xhdGlvbiBpcyBzZXQgYW5kIGFuIGVycm9yIGhhbmRsZXIgaXMgZGVmaW5lZCwgc2VuZCBpdCB0byB0aGUgaGFuZGxlclxuICAgICAgICAgICAgLy8gYW5kIHRoZW4gcmV0dXJuIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCh0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIFJlY3Vyc2l2ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZhbGxiYWNrVHJhbnNsYXRpb24gdGhhdCB3aWxsIHNlcXVlbnRpYWxseSBsb29rXG4gICAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleFxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCA9IGZ1bmN0aW9uIChmYWxsYmFja0xhbmd1YWdlSW5kZXgsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICBpZiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4IDwgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xuICAgICAgICAgIHJlc3VsdCA9IGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlLCB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqL1xuICAgICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24+MCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KChzdGFydEZhbGxiYWNrSXRlcmF0aW9uPjAgPyBzdGFydEZhbGxiYWNrSXRlcmF0aW9uIDogZmFsbGJhY2tJbmRleCksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRldGVybWluZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMpIHtcblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIHZhciB0YWJsZSA9IHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVt1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICAgICAgSW50ZXJwb2xhdG9yID0gKGludGVycG9sYXRpb25JZCkgPyBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF0gOiBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcblxuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMpXG4gICAgICAgICAgICAgIC50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB2YXIgcmVzb2x2ZWRUcmFuc2xhdGlvbiA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgICAgcmVzb2x2ZWRUcmFuc2xhdGlvbiA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc29sdmVkVHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCB1c2VzKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzb2x2ZWRUcmFuc2xhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgLy8gZm9yIGxvZ2dpbmcgcHVycG9zZXMgb25seSAoYXMgaW4gJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cpLCB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgdG8gcHJvbWlzZVxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXG4gICAgICAgICAgLy8gY29uZmlndXJlZC5cbiAgICAgICAgICBpZiAodXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZhbGxiYWNrVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChfdHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKF90cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cbiAgICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgIGlmIChkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgdXNlcykge1xuXG4gICAgICAgIHZhciByZXN1bHQsIHRhYmxlID0gdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlW3VzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXG4gICAgICAgICAgICBJbnRlcnBvbGF0b3IgPSBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAgIC8vIGlmIHRoZSBpbnRlcnBvbGF0aW9uIGlkIGV4aXN0cyB1c2UgY3VzdG9tIGludGVycG9sYXRvclxuICAgICAgICBpZiAoaW50ZXJwb2xhdG9ySGFzaE1hcCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW50ZXJwb2xhdG9ySGFzaE1hcCwgaW50ZXJwb2xhdGlvbklkKSkge1xuICAgICAgICAgIEludGVycG9sYXRvciA9IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIHVzZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc3VsdCwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcbiAgICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZWQuXG4gICAgICAgICAgaWYgKHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgICAvLyBhc3luY0xvYWRlciBpcyBwZW5kaW5nLCB3ZSBleGVjdXRlIHRoZSBoYW5kbGVyXG4gICAgICAgICAgICByZXN1bHQgPSBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICB2YXIgY2xlYXJOZXh0TGFuZ0FuZFByb21pc2UgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICAgJG5leHRMYW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgICAgdmFyIGFwcGx5UG9zdFByb2Nlc3NpbmcgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc29sdmVkVHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCB1c2VzKSB7XG4gICAgICAgIHZhciBmbiA9IHBvc3RQcm9jZXNzRm47XG5cbiAgICAgICAgaWYgKGZuKSB7XG5cbiAgICAgICAgICBpZiAodHlwZW9mKGZuKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlXG4gICAgICAgICAgICBmbiA9ICRpbmplY3Rvci5nZXQoZm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgIHJldHVybiBmbih0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvbiwgcmVzb2x2ZWRUcmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNvbHZlZFRyYW5zbGF0aW9uO1xuICAgICAgfTtcblxuICAgICAgdmFyIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVba2V5XSAmJiAkbG9hZGVyRmFjdG9yeSAmJiAhbGFuZ1Byb21pc2VzW2tleV0pIHtcbiAgICAgICAgICBsYW5nUHJvbWlzZXNba2V5XSA9IGxvYWRBc3luYyhrZXkpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBmb3IgdGhlIHByZWZlcnJlZCBsYW5ndWFnZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgdG8gYmUgdXNlZCBhcyBwcmVmZXJyZWRMYW5ndWFnZSAoY2hhbmdpbmcgYXQgcnVudGltZSlcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByZWZlcnJlZCBsYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmKGxhbmdLZXkpIHtcbiAgICAgICAgICBzZXR1cFByZWZlcnJlZExhbmd1YWdlKGxhbmdLZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2Nsb2FrQ2xhc3NOYW1lXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmVkIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNsb2FrQ2xhc3NOYW1lXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI25lc3RlZE9iamVjdERlbGltZXRlclxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgY29uZmlndXJlZCBkZWxpbWl0ZXIgZm9yIG5lc3RlZCBuYW1lc3BhY2VzLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gbmVzdGVkT2JqZWN0RGVsaW1ldGVyXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUubmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJG5lc3RlZE9iamVjdERlbGltZXRlcjtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzIG9yIHNldHMgYSBuZXcgZmFsbGJhY2sgc3RhY2suXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSBvZiBmYWxsYmFjayBsYW5ndWFnZXMgdG8gYmUgdXNlZCAodG8gY2hhbmdlIHN0YWNrIGF0IHJ1bnRpbWUpXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfHxhcnJheX0gZmFsbGJhY2sgbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuZmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG5cbiAgICAgICAgICAvLyBhcyB3ZSBtaWdodCBoYXZlIGFuIGFzeW5jIGxvYWRlciBpbml0aWF0ZWQgYW5kIGEgbmV3IHRyYW5zbGF0aW9uIGxhbmd1YWdlIG1pZ2h0IGhhdmUgYmVlbiBkZWZpbmVkXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byBhZGQgdGhlIHByb21pc2UgdG8gdGhlIHN0YWNrIGFsc28uIFNvIC0gaXRlcmF0ZS5cbiAgICAgICAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dKSB7XG4gICAgICAgICAgICAgICAgICBsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gbG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICAgIH1cblxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VGYWxsYmFja0xhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTZXRzIHRoZSBmaXJzdCBrZXkgb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIHN0YWNrIHRvIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9uLlxuICAgICAgICogVGhlcmVmb3JlIGFsbCBsYW5ndWFnZXMgaW4gdGhlIGZhbGxiYWNrIGFycmF5IEJFRk9SRSB0aGlzIGtleSB3aWxsIGJlIHNraXBwZWQhXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IENvbnRhaW5zIHRoZSBsYW5nS2V5IHRoZSBpdGVyYXRpb24gc2hhbGwgc3RhcnQgd2l0aC4gU2V0IHRvIGZhbHNlIGlmIHlvdSB3YW50IHRvXG4gICAgICAgKiBnZXQgYmFjayB0byB0aGUgd2hvbGUgc3RhY2tcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS51c2VGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKCFsYW5nS2V5KSB7XG4gICAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxhbmdLZXlQb3NpdGlvbiA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgaWYgKGxhbmdLZXlQb3NpdGlvbiA+IC0xKSB7XG4gICAgICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSBsYW5nS2V5UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcm9wb3NlZExhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgb2YgbGFuZ3VhZ2UgdGhhdCBpcyBjdXJyZW50bHkgbG9hZGVkIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucHJvcG9zZWRMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRuZXh0TGFuZztcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyByZWdpc3RlcmVkIHN0b3JhZ2UuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7b2JqZWN0fSBTdG9yYWdlXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI25lZ290aWF0ZUxvY2FsZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIGxhbmd1YWdlIGtleSBiYXNlZCBvbiBhdmFpbGFibGUgbGFuZ3VhZ2VzIGFuZCBsYW5ndWFnZSBhbGlhc2VzLiBJZiBhXG4gICAgICAgKiBsYW5ndWFnZSBrZXkgY2Fubm90IGJlIHJlc29sdmVkLCByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgICAqXG4gICAgICAgKiBJZiBubyBvciBhIGZhbHN5IGtleSBpcyBnaXZlbiwgcmV0dXJucyB1bmRlZmluZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIExhbmd1YWdlIGtleVxuICAgICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gTGFuZ3VhZ2Uga2V5IG9yIHVuZGVmaW5lZCBpZiBubyBsYW5ndWFnZSBrZXkgaXMgZm91bmQuXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUubmVnb3RpYXRlTG9jYWxlID0gbmVnb3RpYXRlTG9jYWxlO1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggbGFuZ3VhZ2UgdG8gdXNlIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gVGhpcyBtZXRob2QgaXNcbiAgICAgICAqIHVzZWQgdG8gY2hhbmdlIGxhbmd1YWdlIGF0IHJ1bnRpbWUuIEl0IGFsc28gdGFrZXMgY2FyZSBvZiBzdG9yaW5nIHRoZSBsYW5ndWFnZVxuICAgICAgICoga2V5IGluIGEgY29uZmlndXJlZCBzdG9yZSB0byBsZXQgeW91ciBhcHAgcmVtZW1iZXIgdGhlIGNob29zZWQgbGFuZ3VhZ2UuXG4gICAgICAgKlxuICAgICAgICogV2hlbiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBhdmFpbGFibGUgaXQgdHJpZXMgdG8gbG9hZCBpdFxuICAgICAgICogYXN5bmNocm9ub3VzbHkgd2l0aCByZWdpc3RlcmVkIGxvYWRlcnMuXG4gICAgICAgKlxuICAgICAgICogUmV0dXJucyBwcm9taXNlIG9iamVjdCB3aXRoIGxvYWRlZCBsYW5ndWFnZSBmaWxlIGRhdGEgb3Igc3RyaW5nIG9mIHRoZSBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZS5cbiAgICAgICAqXG4gICAgICAgKiBJZiBubyBvciBhIGZhbHN5IGtleSBpcyBnaXZlbiBpdCByZXR1cm5zIHRoZSBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZSBrZXkuXG4gICAgICAgKiBUaGUgcmV0dXJuZWQgc3RyaW5nIHdpbGwgYmUgYGBgdW5kZWZpbmVkYGBgIGlmIHNldHRpbmcgdXAgJHRyYW5zbGF0ZSBoYXNuJ3QgZmluaXNoZWQuXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogJHRyYW5zbGF0ZS51c2UoXCJlbl9VU1wiKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICogICAkc2NvcGUudGV4dCA9ICR0cmFuc2xhdGUoXCJIRUxMT1wiKTtcbiAgICAgICAqIH0pO1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBMYW5ndWFnZSBrZXlcbiAgICAgICAqIEByZXR1cm4ge29iamVjdHxzdHJpbmd9IFByb21pc2Ugd2l0aCBsb2FkZWQgbGFuZ3VhZ2UgZGF0YSBvciB0aGUgbGFuZ3VhZ2Uga2V5IGlmIGEgZmFsc3kgcGFyYW0gd2FzIGdpdmVuLlxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnVzZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICByZXR1cm4gJHVzZXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGdldCB0aGUgYWxpYXNlZCBsYW5ndWFnZSBrZXlcbiAgICAgICAgdmFyIGFsaWFzZWRLZXkgPSBuZWdvdGlhdGVMb2NhbGUoa2V5KTtcbiAgICAgICAgLy8gRW5zdXJlIG9ubHkgcmVnaXN0ZXJlZCBsYW5ndWFnZSBrZXlzIHdpbGwgYmUgbG9hZGVkXG4gICAgICAgIGlmICgkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCA+IDAgJiYgIWFsaWFzZWRLZXkpIHtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWxpYXNlZEtleSkge1xuICAgICAgICAgIGtleSA9IGFsaWFzZWRLZXk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSBpc24ndCBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciB0aGUgbGFuZ3VhZ2Ugd2UndmUgcmVxdWVzdGVkLFxuICAgICAgICAvLyB3ZSBsb2FkIGl0IGFzeW5jaHJvbm91c2x5XG4gICAgICAgICRuZXh0TGFuZyA9IGtleTtcbiAgICAgICAgaWYgKCgkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQgfHwgISR0cmFuc2xhdGlvblRhYmxlW2tleV0pICYmICRsb2FkZXJGYWN0b3J5ICYmICFsYW5nUHJvbWlzZXNba2V5XSkge1xuICAgICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgICB1c2VMYW5ndWFnZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFcnJvcicsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChrZXkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxhbmdQcm9taXNlc1trZXldWydmaW5hbGx5J10oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJOZXh0TGFuZ0FuZFByb21pc2Uoa2V5KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNba2V5XSkge1xuICAgICAgICAgIC8vIHdlIGFyZSBhbHJlYWR5IGxvYWRpbmcgdGhpcyBhc3luY2hyb25vdXNseVxuICAgICAgICAgIC8vIHJlc29sdmUgb3VyIG5ldyBkZWZlcnJlZCB3aGVuIHRoZSBvbGQgbGFuZ1Byb21pc2UgaXMgcmVzb2x2ZWRcbiAgICAgICAgICBsYW5nUHJvbWlzZXNba2V5XS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0gdHJhbnNsYXRpb24ua2V5KSB7XG4gICAgICAgICAgICAgIHVzZUxhbmd1YWdlKHRyYW5zbGF0aW9uLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uLmtleSk7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gZmluZCBmaXJzdCBhdmFpbGFibGUgZmFsbGJhY2sgbGFuZ3VhZ2UgaWYgdGhhdCByZXF1ZXN0IGhhcyBmYWlsZWRcbiAgICAgICAgICAgIGlmICghJHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gJHRyYW5zbGF0ZS51c2UoJGZhbGxiYWNrTGFuZ3VhZ2VbMF0pLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGtleSk7XG4gICAgICAgICAgdXNlTGFuZ3VhZ2Uoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZXNvbHZlQ2xpZW50TG9jYWxlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBUaGlzIHJldHVybnMgdGhlIGN1cnJlbnQgYnJvd3Nlci9jbGllbnQncyBsYW5ndWFnZSBrZXkuIFRoZSByZXN1bHQgaXMgcHJvY2Vzc2VkIHdpdGggdGhlIGNvbmZpZ3VyZWQgdW5pZm9ybSB0YWcgcmVzb2x2ZXIuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGN1cnJlbnQgY2xpZW50L2Jyb3dzZXIgbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucmVzb2x2ZUNsaWVudExvY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGdldExvY2FsZSgpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNzdG9yYWdlS2V5XG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gc3RvcmFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5zdG9yYWdlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RvcmFnZUtleSgpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpc1Bvc3RDb21waWxpbmdFbmFibGVkXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHdoZXRoZXIgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sfSBzdG9yYWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkcG9zdENvbXBpbGluZ0VuYWJsZWQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzRm9yY2VBc3luY1JlbG9hZEVuYWJsZWRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgd2hldGhlciBmb3JjZSBhc3luYyByZWxvYWQgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBmb3JjZUFzeW5jUmVsb2FkIHZhbHVlXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuaXNGb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNLZWVwQ29udGVudFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB3aGV0aGVyIGtlZXBDb250ZW50IG9yIG5vdFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGtlZXBDb250ZW50IHZhbHVlXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuaXNLZWVwQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRrZWVwQ29udGVudDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcmVmcmVzaFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmcmVzaGVzIGEgdHJhbnNsYXRpb24gdGFibGUgcG9pbnRlZCBieSB0aGUgZ2l2ZW4gbGFuZ0tleS4gSWYgbGFuZ0tleSBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAgICogdGhlIG1vZHVsZSB3aWxsIGRyb3AgYWxsIGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgbG9hZCBuZXcgdmVyc2lvbiBvZiB0aG9zZSB3aGljaFxuICAgICAgICogYXJlIGN1cnJlbnRseSBpbiB1c2UuXG4gICAgICAgKlxuICAgICAgICogUmVmcmVzaCBtZWFucyB0aGF0IHRoZSBtb2R1bGUgd2lsbCBkcm9wIHRhcmdldCB0cmFuc2xhdGlvbiB0YWJsZSBhbmQgdHJ5IHRvIGxvYWQgaXQgYWdhaW4uXG4gICAgICAgKlxuICAgICAgICogSW4gY2FzZSB0aGVyZSBhcmUgbm8gbG9hZGVycyByZWdpc3RlcmVkIHRoZSByZWZyZXNoKCkgbWV0aG9kIHdpbGwgdGhyb3cgYW4gRXJyb3IuXG4gICAgICAgKlxuICAgICAgICogSWYgdGhlIG1vZHVsZSBpcyBhYmxlIHRvIHJlZnJlc2ggdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2goKSBtZXRob2Qgd2lsbCBicm9hZGNhc3RcbiAgICAgICAqICR0cmFuc2xhdGVSZWZyZXNoU3RhcnQgYW5kICR0cmFuc2xhdGVSZWZyZXNoRW5kIGV2ZW50cy5cbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogLy8gdGhpcyB3aWxsIGRyb3AgYWxsIGN1cnJlbnRseSBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIHJlbG9hZCB0aG9zZSB3aGljaCBhcmVcbiAgICAgICAqIC8vIGN1cnJlbnRseSBpbiB1c2VcbiAgICAgICAqICR0cmFuc2xhdGUucmVmcmVzaCgpO1xuICAgICAgICogLy8gdGhpcyB3aWxsIHJlZnJlc2ggYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGVuX1VTIGxhbmd1YWdlXG4gICAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goJ2VuX1VTJyk7XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkgb2YgdGhlIHRhYmxlLCB3aGljaCBoYXMgdG8gYmUgcmVmcmVzaGVkXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7cHJvbWlzZX0gUHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCBpbiBjYXNlIGEgdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2hpbmdcbiAgICAgICAqIHByb2Nlc3MgaXMgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5LCBhbmQgcmVqZWN0IGlmIG5vdC5cbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5yZWZyZXNoID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKCEkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlLCBubyBsb2FkZXIgcmVnaXN0ZXJlZCEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2U6IGxhbmdLZXl9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuXG4gICAgICAgIGlmICghbGFuZ0tleSkge1xuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCB3ZSByZWZyZXNoIEFMTCBUSEUgVEhJTkdTIVxuICAgICAgICAgIHZhciB0YWJsZXMgPSBbXSwgbG9hZGluZ0tleXMgPSB7fTtcblxuICAgICAgICAgIC8vIHJlbG9hZCByZWdpc3RlcmVkIGZhbGxiYWNrIGxhbmd1YWdlc1xuICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pKTtcbiAgICAgICAgICAgICAgbG9hZGluZ0tleXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZWxvYWQgY3VycmVudGx5IHVzZWQgbGFuZ3VhZ2VcbiAgICAgICAgICBpZiAoJHVzZXMgJiYgIWxvYWRpbmdLZXlzWyR1c2VzXSkge1xuICAgICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCR1c2VzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGFsbFRyYW5zbGF0aW9uc0xvYWRlZCA9IGZ1bmN0aW9uICh0YWJsZURhdGEpIHtcbiAgICAgICAgICAgICR0cmFuc2xhdGlvblRhYmxlID0ge307XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGFibGVEYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoJHVzZXMpIHtcbiAgICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgYWxsVHJhbnNsYXRpb25zTG9hZGVkLmRpc3BsYXlOYW1lID0gJ3JlZnJlc2hQb3N0UHJvY2Vzc29yJztcblxuICAgICAgICAgICRxLmFsbCh0YWJsZXMpLnRoZW4oYWxsVHJhbnNsYXRpb25zTG9hZGVkLCByZWplY3QpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pIHtcblxuICAgICAgICAgIHZhciBvbmVUcmFuc2xhdGlvbnNMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIGlmIChsYW5nS2V5ID09PSAkdXNlcykge1xuICAgICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG9uZVRyYW5zbGF0aW9uc0xvYWRlZC5kaXNwbGF5TmFtZSA9ICdyZWZyZXNoUG9zdFByb2Nlc3Nvcic7XG5cbiAgICAgICAgICBsb2FkQXN5bmMobGFuZ0tleSkudGhlbihvbmVUcmFuc2xhdGlvbnNMb2FkZWQsIHJlamVjdCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaW5zdGFudFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uIGluc3RhbnRseSBmcm9tIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBsb2FkZWQgdHJhbnNsYXRpb24uIEFsbCBydWxlc1xuICAgICAgICogcmVnYXJkaW5nIHRoZSBjdXJyZW50IGxhbmd1YWdlLCB0aGUgcHJlZmVycmVkIGxhbmd1YWdlIG9mIGV2ZW4gZmFsbGJhY2sgbGFuZ3VhZ2VzIHdpbGwgYmVcbiAgICAgICAqIHVzZWQgZXhjZXB0IGFueSBwcm9taXNlIGhhbmRsaW5nLiBJZiBhIGxhbmd1YWdlIHdhcyBub3QgZm91bmQsIGFuIGFzeW5jaHJvbm91cyBsb2FkaW5nXG4gICAgICAgKiB3aWxsIGJlIGludm9rZWQgaW4gdGhlIGJhY2tncm91bmQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIHRoYXQgdGhlIGZ1bmN0aW9uJ3MgcHJvbWlzZSByZXR1cm5zIGFuIG9iamVjdCB3aGVyZVxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCBrZXkgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGludGVycG9sYXRlUGFyYW1zIFBhcmFtc1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGludGVycG9sYXRpb25JZCBUaGUgaWQgb2YgdGhlIGludGVycG9sYXRpb24gdG8gdXNlXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9yY2VMYW5ndWFnZSBBIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBsYW5ndWFnZVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ3xvYmplY3R9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuaW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBmb3JjZUxhbmd1YWdlKSB7XG5cbiAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgICAgdmFyIHVzZXMgPSAoZm9yY2VMYW5ndWFnZSAmJiBmb3JjZUxhbmd1YWdlICE9PSAkdXNlcykgPyAvLyB3ZSBkb24ndCB3YW50IHRvIHJlLW5lZ290aWF0ZSAkdXNlc1xuICAgICAgICAgICAgICAobmVnb3RpYXRlTG9jYWxlKGZvcmNlTGFuZ3VhZ2UpIHx8IGZvcmNlTGFuZ3VhZ2UpIDogJHVzZXM7XG5cbiAgICAgICAgLy8gRGV0ZWN0IHVuZGVmaW5lZCBhbmQgbnVsbCB2YWx1ZXMgdG8gc2hvcnRlbiB0aGUgZXhlY3V0aW9uIGFuZCBwcmV2ZW50IGV4Y2VwdGlvbnNcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgPT09IG51bGwgfHwgYW5ndWxhci5pc1VuZGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yY2VMYW5ndWFnZSBpcyBwcmVzZW50XG4gICAgICAgIGlmIChmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgICAgbG9hZFRyYW5zbGF0aW9uc0lmTWlzc2luZyhmb3JjZUxhbmd1YWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYyA9IHRyYW5zbGF0aW9uSWQubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRbaV1dID0gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWRbaV0sIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGZvcmNlTGFuZ3VhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGRpc2NhcmRlZCB1bmFjY2VwdGFibGUgdmFsdWVzLiBTbyB3ZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRyYW5zbGF0aW9uSWQgaXMgZW1wdHkgU3RyaW5nXG4gICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHRyYW5zbGF0aW9uSWQpICYmIHRyYW5zbGF0aW9uSWQubGVuZ3RoIDwgMSkge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpbSBvZmYgYW55IHdoaXRlc3BhY2VcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQsIHBvc3NpYmxlTGFuZ0tleXMgPSBbXTtcbiAgICAgICAgaWYgKCRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VzKSB7XG4gICAgICAgICAgcG9zc2libGVMYW5nS2V5cy5wdXNoKHVzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBwb3NzaWJsZUxhbmdLZXlzID0gcG9zc2libGVMYW5nS2V5cy5jb25jYXQoJGZhbGxiYWNrTGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBkID0gcG9zc2libGVMYW5nS2V5cy5sZW5ndGg7IGogPCBkOyBqKyspIHtcbiAgICAgICAgICB2YXIgcG9zc2libGVMYW5nS2V5ID0gcG9zc2libGVMYW5nS2V5c1tqXTtcbiAgICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldW3RyYW5zbGF0aW9uSWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgdXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZXN1bHQgJiYgcmVzdWx0ICE9PSAnJykge1xuICAgICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IHx8ICRub3RGb3VuZEluZGljYXRvclJpZ2h0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmV0dXJuIHRyYW5zbGF0aW9uIG9mIGRlZmF1bHQgaW50ZXJwb2xhdG9yIGlmIG5vdCBmb3VuZCBhbnl0aGluZy5cbiAgICAgICAgICAgIHJlc3VsdCA9IGRlZmF1bHRJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgICByZXN1bHQgPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ZlcnNpb25JbmZvXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZlcnNpb24gaW5mb3JtYXRpb24gZm9yIHRoZSBhbmd1bGFyLXRyYW5zbGF0ZSBsaWJyYXJ5XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBhbmd1bGFyLXRyYW5zbGF0ZSB2ZXJzaW9uXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUudmVyc2lvbkluZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNsb2FkZXJDYWNoZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgZGVmaW5lZCBsb2FkZXJDYWNoZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ3xvYmplY3R9IGN1cnJlbnQgdmFsdWUgb2YgbG9hZGVyQ2FjaGVcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5sb2FkZXJDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlckNhY2hlO1xuICAgICAgfTtcblxuICAgICAgLy8gaW50ZXJuYWwgcHVycG9zZSBvbmx5XG4gICAgICAkdHJhbnNsYXRlLmRpcmVjdGl2ZVByaW9yaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlUHJpb3JpdHk7XG4gICAgICB9O1xuXG4gICAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICAgICR0cmFuc2xhdGUuc3RhdGVmdWxGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZWZ1bEZpbHRlcjtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNSZWFkeVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZXJ2aWNlIGlzIFwicmVhZHlcIiB0byB0cmFuc2xhdGUgKGkuZS4gbG9hZGluZyAxc3QgbGFuZ3VhZ2UpLlxuICAgICAgICpcbiAgICAgICAqIFNlZSBhbHNvIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbWV0aG9kc19vblJlYWR5IG9uUmVhZHkoKX0uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gY3VycmVudCB2YWx1ZSBvZiByZWFkeVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmlzUmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkaXNSZWFkeTtcbiAgICAgIH07XG5cbiAgICAgIHZhciAkb25SZWFkeURlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICRvblJlYWR5RGVmZXJyZWQucHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGlzUmVhZHkgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjb25SZWFkeVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZXJ2aWNlIGlzIFwicmVhZHlcIiB0byB0cmFuc2xhdGUgKGkuZS4gbG9hZGluZyAxc3QgbGFuZ3VhZ2UpLlxuICAgICAgICpcbiAgICAgICAqIFNlZSBhbHNvIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbWV0aG9kc19pc1JlYWR5IGlzUmVhZHkoKX0uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGZuIEZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHNlcnZpY2UgaXMgcmVhZHlcbiAgICAgICAqIEByZXR1cm4ge29iamVjdH0gUHJvbWlzZSByZXNvbHZlZCB3aGVuIHNlcnZpY2UgaXMgcmVhZHlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5vblJlYWR5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgZGVmZXJyZWQucHJvbWlzZS50aGVuKGZuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGlzUmVhZHkpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJG9uUmVhZHlEZWZlcnJlZC5wcm9taXNlLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2dldEF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogVGhpcyBmdW5jdGlvbiBzaW1wbHkgcmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsYW5ndWFnZSBrZXlzIGJlaW5nIGRlZmluZWQgYmVmb3JlIGluIHRoZSBjb25maWcgcGhhc2VcbiAgICAgICAqIFdpdGggdGhpcywgYW4gYXBwbGljYXRpb24gY2FuIHVzZSB0aGUgYXJyYXkgdG8gcHJvdmlkZSBhIGxhbmd1YWdlIHNlbGVjdGlvbiBkcm9wZG93biBvciBzaW1pbGFyXG4gICAgICAgKiB3aXRob3V0IGFueSBhZGRpdGlvbmFsIGVmZm9ydFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgdGhlIGxpc3Qgb2YgcG9zc2libHkgcmVnaXN0ZXJlZCBsYW5ndWFnZSBrZXlzIGFuZCBtYXBwaW5nIG9yIG51bGwgaWYgbm90IGRlZmluZWRcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5nZXRBdmFpbGFibGVMYW5ndWFnZUtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIC8vIFdoZW5ldmVyICR0cmFuc2xhdGVSZWFkeSBpcyBiZWluZyBmaXJlZCwgdGhpcyB3aWxsIGVuc3VyZSB0aGUgc3RhdGUgb2YgJGlzUmVhZHlcbiAgICAgIHZhciBnbG9iYWxPblJlYWR5TGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZVJlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkb25SZWFkeURlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgZ2xvYmFsT25SZWFkeUxpc3RlbmVyKCk7IC8vIG9uZSB0aW1lIG9ubHlcbiAgICAgICAgZ2xvYmFsT25SZWFkeUxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgdmFyIGdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJG9uUmVhZHlEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIGdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIoKTsgLy8gb25lIHRpbWUgb25seVxuICAgICAgICBnbG9iYWxPbkNoYW5nZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcblxuICAgICAgICAvLyBJZiBhdCBsZWFzdCBvbmUgYXN5bmMgbG9hZGVyIGlzIGRlZmluZWQgYW5kIHRoZXJlIGFyZSBub1xuICAgICAgICAvLyAoZGVmYXVsdCkgdHJhbnNsYXRpb25zIGF2YWlsYWJsZSB3ZSBzaG91bGQgdHJ5IHRvIGxvYWQgdGhlbS5cbiAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKCR0cmFuc2xhdGlvblRhYmxlLCB7fSkpIHtcbiAgICAgICAgICBpZiAoJHRyYW5zbGF0ZS51c2UoKSkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxzbywgaWYgdGhlcmUgYXJlIGFueSBmYWxsYmFjayBsYW5ndWFnZSByZWdpc3RlcmVkLCB3ZSBzdGFydFxuICAgICAgICAvLyBsb2FkaW5nIHRoZW0gYXN5bmNocm9ub3VzbHkgYXMgc29vbiBhcyB3ZSBjYW4uXG4gICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcHJvY2Vzc0FzeW5jUmVzdWx0ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywgeyBsYW5ndWFnZTogdHJhbnNsYXRpb24ua2V5IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmFsbGJhY2tMYW5ndWFnZUlkID0gJGZhbGxiYWNrTGFuZ3VhZ2VbaV07XG4gICAgICAgICAgICBpZiAoJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIHx8ICEkdHJhbnNsYXRpb25UYWJsZVtmYWxsYmFja0xhbmd1YWdlSWRdKSB7XG4gICAgICAgICAgICAgIGxhbmdQcm9taXNlc1tmYWxsYmFja0xhbmd1YWdlSWRdID0gbG9hZEFzeW5jKGZhbGxiYWNrTGFuZ3VhZ2VJZCkudGhlbihwcm9jZXNzQXN5bmNSZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlYWR5JywgeyBsYW5ndWFnZTogJHRyYW5zbGF0ZS51c2UoKSB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICR0cmFuc2xhdGU7XG4gICAgfVxuICBdO1xufVxuXG4kdHJhbnNsYXRlLmRpc3BsYXlOYW1lID0gJ2Rpc3BsYXlOYW1lJztcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBhbmd1bGFyJ3MgYCRpbnRlcnBvbGF0ZWAgc2VydmljZXMgdG8gaW50ZXJwb2xhdGUgc3RyaW5ncyBhZ2FpbnN0IHNvbWUgdmFsdWVzLlxuICpcbiAqIEJlIGF3YXJlIHRvIGNvbmZpZ3VyZSBhIHByb3BlciBzYW5pdGl6YXRpb24gc3RyYXRlZ3kuXG4gKlxuICogU2VlIGFsc286XG4gKiAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb259XG4gKlxuICogQHJldHVybiB7b2JqZWN0fSAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24gSW50ZXJwb2xhdG9yIHNlcnZpY2VcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5mYWN0b3J5KCckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nLCAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24pO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24gKCRpbnRlcnBvbGF0ZSwgJHRyYW5zbGF0ZVNhbml0aXphdGlvbikge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHRyYW5zbGF0ZUludGVycG9sYXRvciA9IHt9LFxuICAgICAgJGxvY2FsZSxcbiAgICAgICRpZGVudGlmaWVyID0gJ2RlZmF1bHQnO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jc2V0TG9jYWxlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBjdXJyZW50IGxvY2FsZSAodGhpcyBpcyBjdXJyZW50bHkgbm90IHVzZSBpbiB0aGlzIGludGVycG9sYXRpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIExhbmd1YWdlIGtleSBvciBsb2NhbGUuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAkbG9jYWxlID0gbG9jYWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGFuIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAkaWRlbnRpZmllclxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGlkZW50aWZpZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgICogQHNlZSB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9ufVxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkdHJhbnNsYXRlU2FuaXRpemF0aW9uLnVzZVN0cmF0ZWd5KHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2ludGVycG9sYXRlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW50ZXJwb2xhdGVzIGdpdmVuIHZhbHVlIGFnYWlucyBnaXZlbiBpbnRlcnBvbGF0ZSBwYXJhbXMgdXNpbmcgYW5ndWxhcnNcbiAgICogYCRpbnRlcnBvbGF0ZWAgc2VydmljZS5cbiAgICpcbiAgICogU2luY2UgQW5ndWxhckpTIDEuNSwgYHZhbHVlYCBtdXN0IG5vdCBiZSBhIHN0cmluZyBidXQgY2FuIGJlIGFueXRoaW5nIGlucHV0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW50ZXJwb2xhdGlvblBhcmFtcykge1xuICAgIGludGVycG9sYXRpb25QYXJhbXMgPSBpbnRlcnBvbGF0aW9uUGFyYW1zIHx8IHt9O1xuICAgIGludGVycG9sYXRpb25QYXJhbXMgPSAkdHJhbnNsYXRlU2FuaXRpemF0aW9uLnNhbml0aXplKGludGVycG9sYXRpb25QYXJhbXMsICdwYXJhbXMnKTtcblxuICAgIHZhciBpbnRlcnBvbGF0ZWRUZXh0O1xuICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgLy8gbnVtYmVycyBhcmUgc2FmZVxuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICcnICsgdmFsdWU7XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgLy8gc3RyaW5ncyBtdXN0IGJlIGludGVycG9sYXRlZCAodGhhdCdzIHRoZSBqb2IgaGVyZSlcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAkaW50ZXJwb2xhdGUodmFsdWUpKGludGVycG9sYXRpb25QYXJhbXMpO1xuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICR0cmFuc2xhdGVTYW5pdGl6YXRpb24uc2FuaXRpemUoaW50ZXJwb2xhdGVkVGV4dCwgJ3RleHQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbmVpdGhlciBhIG51bWJlciBvciBhIHN0cmluZywgY2FudCBpbnRlcnBvbGF0ZSA9PiBlbXB0eSBzdHJpbmdcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGVkVGV4dDtcbiAgfTtcblxuICByZXR1cm4gJHRyYW5zbGF0ZUludGVycG9sYXRvcjtcbn1cblxuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uLmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbic7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykuY29uc3RhbnQoJyRTVE9SQUdFX0tFWScsICdOR19UUkFOU0xBVEVfTEFOR19LRVknKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkY29tcGlsZVxuICogQHJlcXVpcmVzICRmaWx0ZXJcbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAqIEByZXN0cmljdCBBRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBlaXRoZXIgdGhyb3VnaCBhdHRyaWJ1dGUgb3IgRE9NIGNvbnRlbnQuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgZmlsdGVyIHRvIHRyYW5zbGF0ZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cbiAqIHBhc3MgYW4gb3B0aW9uYWwgYHRyYW5zbGF0ZS12YWx1ZXNgIG9iamVjdCBsaXRlcmFsIGFzIHN0cmluZyBpbnRvIHRyYW5zbGF0aW9uIGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIHdoaWNoIGNvdWxkIGJlIGVpdGhlciBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLXZhbHVlcyBWYWx1ZXMgdG8gcGFzcyBpbnRvIHRyYW5zbGF0aW9uIGlkLiBDYW4gYmUgcGFzc2VkIGFzIG9iamVjdCBsaXRlcmFsIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtYXR0ci1BVFRSIHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCBhbmQgcHV0IGl0IGludG8gQVRUUiBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1kZWZhdWx0IHdpbGwgYmUgdXNlZCB1bmxlc3MgdHJhbnNsYXRpb24gd2FzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHRyYW5zbGF0ZS1jb21waWxlIChkZWZhdWx0IHRydWUgaWYgcHJlc2VudCkgZGVmaW5lcyBsb2NhbGx5IGFjdGl2YXRpb24gb2Yge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI21ldGhvZHNfdXNlUG9zdENvbXBpbGluZ31cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHRyYW5zbGF0ZS1rZWVwLWNvbnRlbnQgKGRlZmF1bHQgdHJ1ZSBpZiBwcmVzZW50KSBkZWZpbmVzIHRoYXQgaW4gY2FzZSBhIEtFWSBjb3VsZCBub3QgYmUgdHJhbnNsYXRlZCwgdGhhdCB0aGUgZXhpc3RpbmcgY29udGVudCBpcyBsZWZ0IGluIHRoZSBpbm5lckhUTUx9XG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUcmFuc2xhdGVDdHJsXCI+XG5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT5UUkFOU0xBVElPTl9JRDwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+e3t0cmFuc2xhdGlvbklkfX08L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9DQU1FTF9DQVNFX0tFWVwiIHRyYW5zbGF0ZS12YWx1ZS1jYW1lbC1jYXNlLWtleT1cIkhpXCI+PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19JyxcbiAgICAgICAgICAnV0lUSF9DQU1FTF9DQVNFX0tFWSc6ICdUaGUgaW50ZXJwb2xhdGlvbiBrZXkgaXMgY2FtZWwgY2FzZWQ6IHt7Y2FtZWxDYXNlS2V5fX0nXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY2VuYXJpby5qc1wiPlxuICAgICAgaXQoJ3Nob3VsZCB0cmFuc2xhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbXBpbGUpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LmF0dHIoJ3RpdGxlJykpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJXSVRIX0NBTUVMX0NBU0VfS0VZXCIgdHJhbnNsYXRlLXZhbHVlLWNhbWVsLWNhc2Uta2V5PVwiSGVsbG9cIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdUaGUgaW50ZXJwb2xhdGlvbiBrZXkgaXMgY2FtZWwgY2FzZWQ6IEhlbGxvJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGUnLCB0cmFuc2xhdGVEaXJlY3RpdmUpO1xuZnVuY3Rpb24gdHJhbnNsYXRlRGlyZWN0aXZlKCR0cmFuc2xhdGUsICRxLCAkaW50ZXJwb2xhdGUsICRjb21waWxlLCAkcGFyc2UsICRyb290U2NvcGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgcHJpb3JpdHk6ICR0cmFuc2xhdGUuZGlyZWN0aXZlUHJpb3JpdHkoKSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZXNFeGlzdCA9ICh0QXR0ci50cmFuc2xhdGVWYWx1ZXMpID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlVmFsdWVzIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA9ICh0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24gOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZUV4aXN0ID0gdEVsZW1lbnRbMF0ub3V0ZXJIVE1MLm1hdGNoKC90cmFuc2xhdGUtdmFsdWUtKy9pKTtcblxuICAgICAgdmFyIGludGVycG9sYXRlUmVnRXhwID0gJ14oLiopKCcgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArICcuKicgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyAnKSguKiknLFxuICAgICAgICAgIHdhdGNoZXJSZWdFeHAgPSAnXiguKiknICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyAnKC4qKScgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyAnKC4qKSc7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuXG4gICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zID0ge307XG4gICAgICAgIHNjb3BlLnByZVRleHQgPSAnJztcbiAgICAgICAgc2NvcGUucG9zdFRleHQgPSAnJztcbiAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlID0gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKTtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uSWRzID0ge307XG5cbiAgICAgICAgdmFyIGluaXRJbnRlcnBvbGF0aW9uUGFyYW1zID0gZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zLCBpQXR0ciwgdEF0dHIpIHtcbiAgICAgICAgICAvLyBpbml0aWFsIHNldHVwXG4gICAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZVZhbHVlcykge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoaW50ZXJwb2xhdGVQYXJhbXMsICRwYXJzZShpQXR0ci50cmFuc2xhdGVWYWx1ZXMpKHNjb3BlLiRwYXJlbnQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaW5pdGlhbGx5IGZldGNoIGFsbCBhdHRyaWJ1dGVzIGlmIGV4aXN0aW5nIGFuZCBmaWxsIHRoZSBwYXJhbXNcbiAgICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiB0QXR0cikge1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKGF0dHIuc3Vic3RyKDE0LCAxKSkgKyBhdHRyLnN1YnN0cigxNSk7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVQYXJhbXNbYXR0cmlidXRlTmFtZV0gPSB0QXR0clthdHRyXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFbnN1cmVzIGFueSBjaGFuZ2Ugb2YgdGhlIGF0dHJpYnV0ZSBcInRyYW5zbGF0ZVwiIGNvbnRhaW5pbmcgdGhlIGlkIHdpbGxcbiAgICAgICAgLy8gYmUgcmUtc3RvcmVkIHRvIHRoZSBzY29wZSdzIFwidHJhbnNsYXRpb25JZFwiLlxuICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBubyBjb250ZW50LCB0aGUgZWxlbWVudCdzIHRleHQgdmFsdWUgKHdoaXRlIHNwYWNlcyB0cmltbWVkIG9mZikgd2lsbCBiZSB1c2VkLlxuICAgICAgICB2YXIgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgYW55IG9sZCB3YXRjaGVyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkKSkge1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbi5fdW53YXRjaE9sZCgpO1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbi5fdW53YXRjaE9sZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHModHJhbnNsYXRpb25JZCAsICcnKSB8fCAhYW5ndWxhci5pc0RlZmluZWQodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIHZhciBpRWxlbWVudFRleHQgPSB0cmltLmFwcGx5KGlFbGVtZW50LnRleHQoKSk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdHJhbnNsYXRpb24gaWQgYnkgaW5uZXIgaHRtbCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlTWF0Y2hlcyA9IGlFbGVtZW50VGV4dC5tYXRjaChpbnRlcnBvbGF0ZVJlZ0V4cCk7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0cmFuc2xhdGlvbiBpZCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnRlcnBvbGF0ZU1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnByZVRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbMV07XG4gICAgICAgICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gaW50ZXJwb2xhdGVNYXRjaGVzWzNdO1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSAkaW50ZXJwb2xhdGUoaW50ZXJwb2xhdGVNYXRjaGVzWzJdKShzY29wZS4kcGFyZW50KTtcbiAgICAgICAgICAgICAgdmFyIHdhdGNoZXJNYXRjaGVzID0gaUVsZW1lbnRUZXh0Lm1hdGNoKHdhdGNoZXJSZWdFeHApO1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHdhdGNoZXJNYXRjaGVzKSAmJiB3YXRjaGVyTWF0Y2hlc1syXSAmJiB3YXRjaGVyTWF0Y2hlc1syXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkID0gc2NvcGUuJHdhdGNoKHdhdGNoZXJNYXRjaGVzWzJdLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGRvIG5vdCBhc3NpZ25lIHRoZSB0cmFuc2xhdGlvbiBpZCBpZiBpdCBpcyBlbXB0eS5cbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gIWlFbGVtZW50VGV4dCA/IHVuZGVmaW5lZCA6IGlFbGVtZW50VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUodHJhbnNsYXRlQXR0ciwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzW3RyYW5zbGF0ZUF0dHJdID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGluaXRpYWwgc2V0dXAgd2l0aCB2YWx1ZXNcbiAgICAgICAgaW5pdEludGVycG9sYXRpb25QYXJhbXMoc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMsIGlBdHRyLCB0QXR0cik7XG5cbiAgICAgICAgdmFyIGZpcnN0QXR0cmlidXRlQ2hhbmdlZEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2xhdGlvbklkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gY2FzZSBvZiBlbGVtZW50IFwiPHRyYW5zbGF0ZT54eXo8L3RyYW5zbGF0ZT5cIlxuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbignJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNhc2Ugb2YgcmVndWxhciBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkICE9PSAnJyB8fCAhZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQpIHtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpcnN0QXR0cmlidXRlQ2hhbmdlZEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIHRyYW5zbGF0ZUF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICBpZiAoaUF0dHIuaGFzT3duUHJvcGVydHkodHJhbnNsYXRlQXR0cikgJiYgdHJhbnNsYXRlQXR0ci5zdWJzdHIoMCwgMTMpID09PSAndHJhbnNsYXRlQXR0cicpIHtcbiAgICAgICAgICAgIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbih0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlRGVmYXVsdCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRlZmF1bHRUZXh0ID0gdmFsdWU7XG4gICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZXNFeGlzdCkge1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVWYWx1ZXMnLCBmdW5jdGlvbiAoaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMsICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykoc2NvcGUuJHBhcmVudCkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZUV4aXN0KSB7XG4gICAgICAgICAgdmFyIG9ic2VydmVWYWx1ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICAgICAgaUF0dHIuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKGF0dHJOYW1lLnN1YnN0cigxNCwgMSkpICsgYXR0ck5hbWUuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXNbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBpQXR0cikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpQXR0ciwgYXR0cikgJiYgYXR0ci5zdWJzdHIoMCwgMTQpID09PSAndHJhbnNsYXRlVmFsdWUnICYmIGF0dHIgIT09ICd0cmFuc2xhdGVWYWx1ZXMnKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVWYWx1ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYXN0ZXIgdXBkYXRlIGZ1bmN0aW9uXG4gICAgICAgIHZhciB1cGRhdGVUcmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHRyYW5zbGF0aW9uSWRzKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNsYXRpb25JZHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiB0cmFuc2xhdGlvbklkc1trZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb24oa2V5LCB0cmFuc2xhdGlvbklkc1trZXldLCBzY29wZSwgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMsIHNjb3BlLmRlZmF1bHRUZXh0LCBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQdXQgdHJhbnNsYXRpb24gcHJvY2Vzc2luZyBmdW5jdGlvbiBvdXRzaWRlIGxvb3BcbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24odHJhbnNsYXRlQXR0ciwgdHJhbnNsYXRpb25JZCwgc2NvcGUsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB0cmFuc2xhdGVOYW1lc3BhY2UpIHtcbiAgICAgICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgLy8gaWYgdHJhbnNsYXRpb24gaWQgc3RhcnRzIHdpdGggJy4nIGFuZCB0cmFuc2xhdGVOYW1lc3BhY2UgZ2l2ZW4sIHByZXBlbmQgbmFtZXNwYWNlXG4gICAgICAgICAgICBpZiAodHJhbnNsYXRlTmFtZXNwYWNlICYmIHRyYW5zbGF0aW9uSWQuY2hhckF0KDApID09PSAnLicpIHtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyYW5zbGF0ZU5hbWVzcGFjZSArIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIHRyYW5zbGF0ZUludGVycG9sYXRpb24sIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHNjb3BlLnRyYW5zbGF0ZUxhbmd1YWdlKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uLCBzY29wZSwgdHJ1ZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBzY29wZSwgZmFsc2UsIHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYXMgYW4gZW1wdHkgc3RyaW5nIGNhbm5vdCBiZSB0cmFuc2xhdGVkLCB3ZSBjYW4gc29sdmUgdGhpcyB1c2luZyBzdWNjZXNzZnVsPWZhbHNlXG4gICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBmYWxzZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhcHBseVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHZhbHVlLCBzY29wZSwgc3VjY2Vzc2Z1bCwgdHJhbnNsYXRlQXR0cikge1xuICAgICAgICAgIGlmICghc3VjY2Vzc2Z1bCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5kZWZhdWx0VGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBzY29wZS5kZWZhdWx0VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRyYW5zbGF0ZUF0dHIgPT09ICd0cmFuc2xhdGUnKSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRyYW5zbGF0ZSBpbnRvIGlubmVySFRNTFxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NmdWwgfHwgKCFzdWNjZXNzZnVsICYmICEkdHJhbnNsYXRlLmlzS2VlcENvbnRlbnQoKSAmJiB0eXBlb2YgaUF0dHIudHJhbnNsYXRlS2VlcENvbnRlbnQgPT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgICAgICBpRWxlbWVudC5lbXB0eSgpLmFwcGVuZChzY29wZS5wcmVUZXh0ICsgdmFsdWUgKyBzY29wZS5wb3N0VGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZ2xvYmFsbHlFbmFibGVkID0gJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkKCk7XG4gICAgICAgICAgICB2YXIgbG9jYWxseURlZmluZWQgPSB0eXBlb2YgdEF0dHIudHJhbnNsYXRlQ29tcGlsZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICB2YXIgbG9jYWxseUVuYWJsZWQgPSBsb2NhbGx5RGVmaW5lZCAmJiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAnZmFsc2UnO1xuICAgICAgICAgICAgaWYgKChnbG9iYWxseUVuYWJsZWQgJiYgIWxvY2FsbHlEZWZpbmVkKSB8fCBsb2NhbGx5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAkY29tcGlsZShpRWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0ZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gaUF0dHIuJGF0dHJbdHJhbnNsYXRlQXR0cl07XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZS5zdWJzdHIoMCwgNSkgPT09ICdkYXRhLScpIHtcbiAgICAgICAgICAgICAgLy8gZW5zdXJlIGh0bWw1IGRhdGEgcHJlZml4IGlzIHN0cmlwcGVkXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lLnN1YnN0cig1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lLnN1YnN0cigxNSk7XG4gICAgICAgICAgICBpRWxlbWVudC5hdHRyKGF0dHJpYnV0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlc0V4aXN0IHx8IHRyYW5zbGF0ZVZhbHVlRXhpc3QgfHwgaUF0dHIudHJhbnNsYXRlRGVmYXVsdCkge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnaW50ZXJwb2xhdGVQYXJhbXMnLCB1cGRhdGVUcmFuc2xhdGlvbnMsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVwbGFjZWQgd2F0Y2hlciBvbiB0cmFuc2xhdGVMYW5ndWFnZSB3aXRoIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgIHZhciB1bmJpbmRUcmFuc2xhdGVMYW5ndWFnZSA9IHNjb3BlLiRvbigndHJhbnNsYXRlTGFuZ3VhZ2VDaGFuZ2VkJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgICAvLyBFbnN1cmVzIHRoZSB0ZXh0IHdpbGwgYmUgcmVmcmVzaGVkIGFmdGVyIHRoZSBjdXJyZW50IGxhbmd1YWdlIHdhcyBjaGFuZ2VkXG4gICAgICAgIC8vIHcvICR0cmFuc2xhdGUudXNlKC4uLilcbiAgICAgICAgdmFyIHVuYmluZCA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XG5cbiAgICAgICAgLy8gZW5zdXJlIHRyYW5zbGF0aW9uIHdpbGwgYmUgbG9va2VkIHVwIGF0IGxlYXN0IG9uZVxuICAgICAgICBpZiAoaUVsZW1lbnQudGV4dCgpLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChpQXR0ci50cmFuc2xhdGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24oaUF0dHIudHJhbnNsYXRlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbignJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlBdHRyLnRyYW5zbGF0ZSkge1xuICAgICAgICAgIC8vIGVuc3VyZSBhdHRyaWJ1dGUgd2lsbCBiZSBub3Qgc2tpcHBlZFxuICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24oaUF0dHIudHJhbnNsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdW5iaW5kVHJhbnNsYXRlTGFuZ3VhZ2UoKTtcbiAgICAgICAgICB1bmJpbmQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY29wZSdzIG5hbWVzcGFjZS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gc2NvcGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZU5hbWVzcGFjZShzY29wZSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmIChzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UpIHtcbiAgICByZXR1cm4gc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlO1xuICB9XG4gIGlmIChzY29wZS4kcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldFRyYW5zbGF0ZU5hbWVzcGFjZShzY29wZS4kcGFyZW50KTtcbiAgfVxufVxuXG50cmFuc2xhdGVEaXJlY3RpdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVDbG9ha1xuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEByZXF1aXJlcyAkdHJhbnNsYXRlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqICRkZXNjcmlwdGlvblxuICogQWRkcyBhIGB0cmFuc2xhdGUtY2xvYWtgIGNsYXNzIG5hbWUgdG8gdGhlIGdpdmVuIGVsZW1lbnQgd2hlcmUgdGhpcyBkaXJlY3RpdmVcbiAqIGlzIGFwcGxpZWQgaW5pdGlhbGx5IGFuZCByZW1vdmVzIGl0LCBvbmNlIGEgbG9hZGVyIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIHRvIHByZXZlbnQgaW5pdGlhbCBmbGlja2VyaW5nIHdoZW4gbG9hZGluZyB0cmFuc2xhdGlvblxuICogZGF0YSBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBUaGUgY2xhc3MgbmFtZSBpcyBkZWZpbmVkIGluXG4gKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWUgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1jbG9hayBJZiBhIHRyYW5zbGF0aW9uSWQgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdXNlZCBmb3Igc2hvd2luZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgaGlkaW5nIHRoZSBjbG9hay4gQmFzaWNhbGx5IGl0IHJlbGllcyBvbiB0aGUgdHJhbnNsYXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUuXG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUNsb2FrJywgdHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkcm9vdFNjb3BlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiB7XG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50KSB7XG4gICAgICB2YXIgYXBwbHlDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQucmVtb3ZlQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH07XG4gICAgICAkdHJhbnNsYXRlLm9uUmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVDbG9haygpO1xuICAgICAgfSk7XG4gICAgICBhcHBseUNsb2FrKCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuICAgICAgICBpZiAoaUF0dHIudHJhbnNsYXRlQ2xvYWsgJiYgaUF0dHIudHJhbnNsYXRlQ2xvYWsubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgYSB3YXRjaGVyIGZvciB0aGUgZGVmaW5lZCB0cmFuc2xhdGlvbiBhbGxvd2luZyBhIGZpbmUgdHVuZWQgY2xvYWtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlQ2xvYWsnLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkKS50aGVuKHJlbW92ZUNsb2FrLCBhcHBseUNsb2FrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBSZWdpc3RlciBmb3IgY2hhbmdlIGV2ZW50cyBhcyB0aGlzIGlzIGJlaW5nIGFub3RoZXIgaW5kaWNpY2F0b3IgcmV2YWxpZGF0aW5nIHRoZSBjbG9haylcbiAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdHJhbnNsYXRlKGlBdHRyLnRyYW5zbGF0ZUNsb2FrKS50aGVuKHJlbW92ZUNsb2FrLCBhcHBseUNsb2FrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlLmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVOYW1lc3BhY2VcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUcmFuc2xhdGVzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGVpdGhlciB0aHJvdWdoIGF0dHJpYnV0ZSBvciBET00gY29udGVudC5cbiAqIEludGVybmFsbHkgaXQgdXNlcyBgdHJhbnNsYXRlYCBmaWx0ZXIgdG8gdHJhbnNsYXRlIHRyYW5zbGF0aW9uIGlkLiBJdCBwb3NzaWJsZSB0b1xuICogcGFzcyBhbiBvcHRpb25hbCBgdHJhbnNsYXRlLXZhbHVlc2Agb2JqZWN0IGxpdGVyYWwgYXMgc3RyaW5nIGludG8gdHJhbnNsYXRpb24gaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgbmFtZXNwYWNlIG5hbWUgd2hpY2ggY291bGQgYmUgZWl0aGVyIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiB0cmFuc2xhdGUtbmFtZXNwYWNlPVwiQ09OVEVOVFwiPlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5IRUFERVJTLlRJVExFPC9oMT5cbiAgICAgICAgICAgIDxoMSB0cmFuc2xhdGU+LkhFQURFUlMuV0VMQ09NRTwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgdHJhbnNsYXRlLW5hbWVzcGFjZT1cIi5IRUFERVJTXCI+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5USVRMRTwvaDE+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5XRUxDT01FPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ0NPTlRFTlQnOiB7XG4gICAgICAgICAgICAnSEVBREVSUyc6IHtcbiAgICAgICAgICAgICAgICBUSVRMRTogJ1RpdGxlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ0NPTlRFTlQuSEVBREVSUy5XRUxDT01FJzogJ1dlbGNvbWUnXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlTmFtZXNwYWNlJywgdHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbiAoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcbiAgICAgICAgICBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgPSBnZXRUcmFuc2xhdGVOYW1lc3BhY2Uoc2NvcGUpO1xuXG4gICAgICAgICAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSAmJiBpQXR0cnMudHJhbnNsYXRlTmFtZXNwYWNlLmNoYXJBdCgwKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgKz0gaUF0dHJzLnRyYW5zbGF0ZU5hbWVzcGFjZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlID0gaUF0dHJzLnRyYW5zbGF0ZU5hbWVzcGFjZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjb3BlJ3MgbmFtZXNwYWNlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzY29wZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgIHJldHVybiBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2U7XG4gIH1cbiAgaWYgKHNjb3BlLiRwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlLiRwYXJlbnQpO1xuICB9XG59XG5cbnRyYW5zbGF0ZU5hbWVzcGFjZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUnO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZUxhbmd1YWdlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRm9yY2VzIHRoZSBsYW5ndWFnZSB0byB0aGUgZGlyZWN0aXZlcyBpbiB0aGUgdW5kZXJseWluZyBzY29wZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZSBsYW5ndWFnZSB0aGF0IHdpbGwgYmUgbmVnb3RpYXRlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXY+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMSB0cmFuc2xhdGU+SEVMTE88L2gxPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IHRyYW5zbGF0ZS1sYW5ndWFnZT1cImRlXCI+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPkhFTExPPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlclxuICAgICAgICAgIC50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgICAnSEVMTE8nOiAnSGVsbG8gd29ybGQhJ1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRyYW5zbGF0aW9ucygnZGUnLHtcbiAgICAgICAgICAgICdIRUxMTyc6ICdIYWxsbyBXZWx0ISdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUxhbmd1YWdlJywgdHJhbnNsYXRlTGFuZ3VhZ2VEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcblxuICAgICAgICBpQXR0cnMuJG9ic2VydmUoJ3RyYW5zbGF0ZUxhbmd1YWdlJywgZnVuY3Rpb24gKG5ld1RyYW5zbGF0ZUxhbmd1YWdlKSB7XG4gICAgICAgICAgc2NvcGUudHJhbnNsYXRlTGFuZ3VhZ2UgPSBuZXdUcmFuc2xhdGVMYW5ndWFnZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCd0cmFuc2xhdGVMYW5ndWFnZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgndHJhbnNsYXRlTGFuZ3VhZ2VDaGFuZ2VkJyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnRyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlLmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmZpbHRlcjp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkcGFyc2VcbiAqIEByZXF1aXJlcyBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAqIEBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBgJHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgY29udGVudHMuIEFjY2VwdHMgaW50ZXJwb2xhdGUgcGFyYW1ldGVyc1xuICogdG8gcGFzcyBkeW5hbWl6ZWQgdmFsdWVzIHRob3VnaCB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBBIHRyYW5zbGF0aW9uIGlkIHRvIGJlIHRyYW5zbGF0ZWQuXG4gKiBAcGFyYW0geyo9fSBpbnRlcnBvbGF0ZVBhcmFtcyBPcHRpb25hbCBvYmplY3QgbGl0ZXJhbCAoYXMgaGFzaCBvciBzdHJpbmcpIHRvIHBhc3MgdmFsdWVzIGludG8gdHJhbnNsYXRpb24uXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmU+e3sgJ1RSQU5TTEFUSU9OX0lEJyB8IHRyYW5zbGF0ZSB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7IHRyYW5zbGF0aW9uSWQgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOid7dmFsdWU6IDV9JyB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6dmFsdWVzIH19PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fSdcbiAgICAgICAgfSk7XG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmZpbHRlcigndHJhbnNsYXRlJywgdHJhbnNsYXRlRmlsdGVyRmFjdG9yeSk7XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUZpbHRlckZhY3RvcnkoJHBhcnNlLCAkdHJhbnNsYXRlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB0cmFuc2xhdGVGaWx0ZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24sIGZvcmNlTGFuZ3VhZ2UpIHtcbiAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoaW50ZXJwb2xhdGVQYXJhbXMpKSB7XG4gICAgICBpbnRlcnBvbGF0ZVBhcmFtcyA9ICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICR0cmFuc2xhdGUuaW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbiwgZm9yY2VMYW5ndWFnZSk7XG4gIH07XG5cbiAgaWYgKCR0cmFuc2xhdGUuc3RhdGVmdWxGaWx0ZXIoKSkge1xuICAgIHRyYW5zbGF0ZUZpbHRlci4kc3RhdGVmdWwgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zbGF0ZUZpbHRlcjtcbn1cblxudHJhbnNsYXRlRmlsdGVyRmFjdG9yeS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVGaWx0ZXJGYWN0b3J5JztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0aW9uQ2FjaGVcbiAqIEByZXF1aXJlcyAkY2FjaGVGYWN0b3J5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZmlyc3QgdGltZSBhIHRyYW5zbGF0aW9uIHRhYmxlIGlzIHVzZWQsIGl0IGlzIGxvYWRlZCBpbiB0aGUgdHJhbnNsYXRpb24gY2FjaGUgZm9yIHF1aWNrIHJldHJpZXZhbC4gWW91XG4gKiBjYW4gbG9hZCB0cmFuc2xhdGlvbiB0YWJsZXMgZGlyZWN0bHkgaW50byB0aGUgY2FjaGUgYnkgY29uc3VtaW5nIHRoZVxuICogYCR0cmFuc2xhdGlvbkNhY2hlYCBzZXJ2aWNlIGRpcmVjdGx5LlxuICpcbiAqIEByZXR1cm4ge29iamVjdH0gJGNhY2hlRmFjdG9yeSBvYmplY3QuXG4gKi9cbiAgLmZhY3RvcnkoJyR0cmFuc2xhdGlvbkNhY2hlJywgJHRyYW5zbGF0aW9uQ2FjaGUpO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRpb25DYWNoZSgkY2FjaGVGYWN0b3J5KSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiAkY2FjaGVGYWN0b3J5KCd0cmFuc2xhdGlvbnMnKTtcbn1cblxuJHRyYW5zbGF0aW9uQ2FjaGUuZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0aW9uQ2FjaGUnO1xucmV0dXJuICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJztcblxufSkpO1xuIiwiLyohXG4gKiBTdGF0ZS1iYXNlZCByb3V0aW5nIGZvciBBbmd1bGFySlNcbiAqIEB2ZXJzaW9uIHYxLjAuMC1hbHBoYS40XG4gKiBAbGluayBodHRwOi8vYW5ndWxhci11aS5naXRodWIuY29tL3VpLXJvdXRlclxuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiYW5ndWxhci11aS1yb3V0ZXJcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYW5ndWxhci11aS1yb3V0ZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiYW5ndWxhci11aS1yb3V0ZXJcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBNYWluIGVudHJ5IHBvaW50IGZvciBhbmd1bGFyIDEueCBidWlsZFxuXHQgKiBAbW9kdWxlIG5nMVxuXHQgKi9cblx0LyoqIGZvciB0eXBlZG9jICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHRmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG5cdH1cblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNTMpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1NCkpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBcInVpLnJvdXRlclwiO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiogQG1vZHVsZSBjb21tb24gKi8gLyoqICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHRmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG5cdH1cblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMjApKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NCkpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMTcpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygxMykpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNDkpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MSkpO1xuXHR2YXIgcm91dGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0ZXhwb3J0cy5VSVJvdXRlciA9IHJvdXRlcl8xLlVJUm91dGVyO1xuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0ZnVuY3Rpb24gX19leHBvcnQobSkge1xuXHQgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuXHR9XG5cdC8qKiBAbW9kdWxlIGNvbW1vbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNikpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDcpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDgpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg5KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMTIpKTtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIFJhbmRvbSB1dGlsaXR5IGZ1bmN0aW9ucyB1c2VkIGluIHRoZSBVSS1Sb3V0ZXIgY29kZVxuXHQgKlxuXHQgKiBAcHJlZmVycmVkIEBtb2R1bGUgY29tbW9uXG5cdCAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgYW5ndWxhciA9IHdpbmRvdy5hbmd1bGFyIHx8IHt9O1xuXHRleHBvcnRzLmZyb21Kc29uID0gYW5ndWxhci5mcm9tSnNvbiB8fCBKU09OLnBhcnNlLmJpbmQoSlNPTik7XG5cdGV4cG9ydHMudG9Kc29uID0gYW5ndWxhci50b0pzb24gfHwgSlNPTi5zdHJpbmdpZnkuYmluZChKU09OKTtcblx0ZXhwb3J0cy5jb3B5ID0gYW5ndWxhci5jb3B5IHx8IF9jb3B5O1xuXHRleHBvcnRzLmZvckVhY2ggPSBhbmd1bGFyLmZvckVhY2ggfHwgX2ZvckVhY2g7XG5cdGV4cG9ydHMuZXh0ZW5kID0gYW5ndWxhci5leHRlbmQgfHwgX2V4dGVuZDtcblx0ZXhwb3J0cy5lcXVhbHMgPSBhbmd1bGFyLmVxdWFscyB8fCBfZXF1YWxzO1xuXHRleHBvcnRzLmlkZW50aXR5ID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHg7IH07XG5cdGV4cG9ydHMubm9vcCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfTtcblx0ZXhwb3J0cy5hYnN0cmFjdEtleSA9ICdhYnN0cmFjdCc7XG5cdC8qKlxuXHQgKiBCaW5kcyBhbmQgY29waWVzIGZ1bmN0aW9ucyBvbnRvIGFuIG9iamVjdFxuXHQgKlxuXHQgKiBUYWtlcyBmdW5jdGlvbnMgZnJvbSB0aGUgJ2Zyb20nIG9iamVjdCwgYmluZHMgdGhvc2UgZnVuY3Rpb25zIHRvIHRoZSBfdGhpcyBvYmplY3QsIGFuZCBwdXRzIHRoZSBib3VuZCBmdW5jdGlvbnNcblx0ICogb24gdGhlICd0bycgb2JqZWN0LlxuXHQgKlxuXHQgKiBUaGlzIGV4YW1wbGUgY3JlYXRlcyBhbiBuZXcgY2xhc3MgaW5zdGFuY2Ugd2hvc2UgZnVuY3Rpb25zIGFyZSBwcmVib3VuZCB0byB0aGUgbmV3J2Qgb2JqZWN0LlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGBcblx0ICpcblx0ICogY2xhc3MgRm9vIHtcblx0ICogICBjb25zdHJ1Y3RvcihkYXRhKSB7XG5cdCAqICAgICAvLyBCaW5kcyBhbGwgZnVuY3Rpb25zIGZyb20gRm9vLnByb3RvdHlwZSB0byAndGhpcycsXG5cdCAqICAgICAvLyB0aGVuIGNvcGllcyB0aGVtIHRvICd0aGlzJ1xuXHQgKiAgICAgYmluZEZ1bmN0aW9ucyhGb28ucHJvdG90eXBlLCB0aGlzLCB0aGlzKTtcblx0ICogICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cdCAqICAgfVxuXHQgKlxuXHQgKiAgIGxvZygpIHtcblx0ICogICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XG5cdCAqICAgfVxuXHQgKiB9XG5cdCAqXG5cdCAqIGxldCBteUZvbyA9IG5ldyBGb28oWzEsMiwzXSk7XG5cdCAqIHZhciBsb2dpdCA9IG15Rm9vLmxvZztcblx0ICogbG9naXQoKTsgLy8gbG9ncyBbMSwgMiwgM10gZnJvbSB0aGUgbXlGb28gJ3RoaXMnIGluc3RhbmNlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBUaGlzIGV4YW1wbGUgY3JlYXRlcyBhIGJvdW5kIHZlcnNpb24gb2YgYSBzZXJ2aWNlIGZ1bmN0aW9uLCBhbmQgY29waWVzIGl0IHRvIGFub3RoZXIgb2JqZWN0XG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiB2YXIgU29tZVNlcnZpY2UgPSB7XG5cdCAqICAgdGhpcy5kYXRhID0gWzMsIDQsIDVdO1xuXHQgKiAgIHRoaXMubG9nID0gZnVuY3Rpb24oKSB7XG5cdCAqICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpO1xuXHQgKiAgIH1cblx0ICogfVxuXHQgKlxuXHQgKiAvLyBDb25zdHJ1Y3RvciBmblxuXHQgKiBmdW5jdGlvbiBPdGhlclRoaW5nKCkge1xuXHQgKiAgIC8vIEJpbmRzIGFsbCBmdW5jdGlvbnMgZnJvbSBTb21lU2VydmljZSB0byBTb21lU2VydmljZSxcblx0ICogICAvLyB0aGVuIGNvcGllcyB0aGVtIHRvICd0aGlzJ1xuXHQgKiAgIGJpbmRGdW5jdGlvbnMoU29tZVNlcnZpY2UsIHRoaXMsIFNvbWVTZXJ2aWNlKTtcblx0ICogfVxuXHQgKlxuXHQgKiBsZXQgbXlPdGhlclRoaW5nID0gbmV3IE90aGVyVGhpbmcoKTtcblx0ICogbXlPdGhlclRoaW5nLmxvZygpOyAvLyBsb2dzIFszLCA0LCA1XSBmcm9tIFNvbWVTZXJ2aWNlJ3MgJ3RoaXMnXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBAcGFyYW0gZnJvbSBUaGUgb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBmdW5jdGlvbnMgdG8gYmUgYm91bmRcblx0ICogQHBhcmFtIHRvIFRoZSBvYmplY3Qgd2hpY2ggd2lsbCByZWNlaXZlIHRoZSBib3VuZCBmdW5jdGlvbnNcblx0ICogQHBhcmFtIGJpbmRUbyBUaGUgb2JqZWN0IHdoaWNoIHRoZSBmdW5jdGlvbnMgd2lsbCBiZSBib3VuZCB0b1xuXHQgKiBAcGFyYW0gZm5OYW1lcyBUaGUgZnVuY3Rpb24gbmFtZXMgd2hpY2ggd2lsbCBiZSBib3VuZCAoRGVmYXVsdHMgdG8gYWxsIHRoZSBmdW5jdGlvbnMgZm91bmQgb24gdGhlICdmcm9tJyBvYmplY3QpXG5cdCAqL1xuXHRmdW5jdGlvbiBiaW5kRnVuY3Rpb25zKGZyb20sIHRvLCBiaW5kVG8sIGZuTmFtZXMpIHtcblx0ICAgIGlmIChmbk5hbWVzID09PSB2b2lkIDApIHsgZm5OYW1lcyA9IE9iamVjdC5rZXlzKGZyb20pOyB9XG5cdCAgICByZXR1cm4gZm5OYW1lcy5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIHR5cGVvZiBmcm9tW25hbWVdID09PSAnZnVuY3Rpb24nOyB9KVxuXHQgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiB0b1tuYW1lXSA9IGZyb21bbmFtZV0uYmluZChiaW5kVG8pOyB9KTtcblx0fVxuXHRleHBvcnRzLmJpbmRGdW5jdGlvbnMgPSBiaW5kRnVuY3Rpb25zO1xuXHQvKipcblx0ICogcHJvdG90eXBhbCBpbmhlcml0YW5jZSBoZWxwZXIuXG5cdCAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdoaWNoIGhhcyBgcGFyZW50YCBvYmplY3QgYXMgaXRzIHByb3RvdHlwZSwgYW5kIHRoZW4gY29waWVzIHRoZSBwcm9wZXJ0aWVzIGZyb20gYGV4dHJhYCBvbnRvIGl0XG5cdCAqL1xuXHRleHBvcnRzLmluaGVyaXQgPSBmdW5jdGlvbiAocGFyZW50LCBleHRyYSkge1xuXHQgICAgcmV0dXJuIGV4cG9ydHMuZXh0ZW5kKG5ldyAoZXhwb3J0cy5leHRlbmQoZnVuY3Rpb24gKCkgeyB9LCB7IHByb3RvdHlwZTogcGFyZW50IH0pKSgpLCBleHRyYSk7XG5cdH07XG5cdC8qKlxuXHQgKiBHaXZlbiBhbiBhcmd1bWVudHMgb2JqZWN0LCBjb252ZXJ0cyB0aGUgYXJndW1lbnRzIGF0IGluZGV4IGlkeCBhbmQgYWJvdmUgdG8gYW4gYXJyYXkuXG5cdCAqIFRoaXMgaXMgc2ltaWxhciB0byBlczYgcmVzdCBwYXJhbWV0ZXJzLlxuXHQgKlxuXHQgKiBPcHRpb25hbGx5LCB0aGUgYXJndW1lbnQgYXQgaW5kZXggaWR4IG1heSBpdHNlbGYgYWxyZWFkeSBiZSBhbiBhcnJheS5cblx0ICpcblx0ICogRm9yIGV4YW1wbGUsXG5cdCAqIGdpdmVuIGVpdGhlcjpcblx0ICogICAgICAgIGFyZ3VtZW50cyA9IFsgb2JqLCBcImZvb1wiLCBcImJhclwiIF1cblx0ICogb3I6XG5cdCAqICAgICAgICBhcmd1bWVudHMgPSBbIG9iaiwgW1wiZm9vXCIsIFwiYmFyXCJdIF1cblx0ICogdGhlbjpcblx0ICogICAgICAgIHJlc3RBcmdzKGFyZ3VtZW50cywgMSkgPT0gW1wiZm9vXCIsIFwiYmFyXCJdXG5cdCAqXG5cdCAqIFRoaXMgYWxsb3dzIGZ1bmN0aW9ucyBsaWtlIHBpY2soKSB0byBiZSBpbXBsZW1lbnRlZCBzdWNoIHRoYXQgaXQgYWxsb3dzIGVpdGhlciBhIGJ1bmNoXG5cdCAqIG9mIHN0cmluZyBhcmd1bWVudHMgKGxpa2UgZXM2IHJlc3QgcGFyYW1ldGVycyksIG9yIGEgc2luZ2xlIGFycmF5IG9mIHN0cmluZ3M6XG5cdCAqXG5cdCAqIGdpdmVuOlxuXHQgKiAgICAgICAgdmFyIG9iaiA9IHsgZm9vOiAxLCBiYXI6IDIsIGJhejogMyB9O1xuXHQgKiB0aGVuOlxuXHQgKiAgICAgICAgcGljayhvYmosIFwiZm9vXCIsIFwiYmFyXCIpOyAgIC8vIHJldHVybnMgeyBmb286IDEsIGJhcjogMiB9XG5cdCAqICAgICAgICBwaWNrKG9iaiwgW1wiZm9vXCIsIFwiYmFyXCJdKTsgLy8gcmV0dXJucyB7IGZvbzogMSwgYmFyOiAyIH1cblx0ICovXG5cdHZhciByZXN0QXJncyA9IGZ1bmN0aW9uIChhcmdzLCBpZHgpIHtcblx0ICAgIGlmIChpZHggPT09IHZvaWQgMCkgeyBpZHggPSAwOyB9XG5cdCAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBcnJheS5wcm90b3R5cGUsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIGlkeCkpO1xuXHR9O1xuXHQvKiogR2l2ZW4gYW4gYXJyYXksIHJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGZvdW5kIGluIHRoZSBhcnJheSwgKHVzaW5nIGluZGV4T2YpICovXG5cdHZhciBpbkFycmF5ID0gZnVuY3Rpb24gKGFycmF5LCBvYmopIHsgcmV0dXJuIGFycmF5LmluZGV4T2Yob2JqKSAhPT0gLTE7IH07XG5cdC8qKiBHaXZlbiBhbiBhcnJheSwgYW5kIGFuIGl0ZW0sIGlmIHRoZSBpdGVtIGlzIGZvdW5kIGluIHRoZSBhcnJheSwgaXQgcmVtb3ZlcyBpdCAoaW4tcGxhY2UpLiAgVGhlIHNhbWUgYXJyYXkgaXMgcmV0dXJuZWQgKi9cblx0ZXhwb3J0cy5yZW1vdmVGcm9tID0gaG9mXzEuY3VycnkoZnVuY3Rpb24gKGFycmF5LCBvYmopIHtcblx0ICAgIHZhciBpZHggPSBhcnJheS5pbmRleE9mKG9iaik7XG5cdCAgICBpZiAoaWR4ID49IDApXG5cdCAgICAgICAgYXJyYXkuc3BsaWNlKGlkeCwgMSk7XG5cdCAgICByZXR1cm4gYXJyYXk7XG5cdH0pO1xuXHQvKipcblx0ICogQXBwbGllcyBhIHNldCBvZiBkZWZhdWx0cyB0byBhbiBvcHRpb25zIG9iamVjdC4gIFRoZSBvcHRpb25zIG9iamVjdCBpcyBmaWx0ZXJlZFxuXHQgKiB0byBvbmx5IHRob3NlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdHMgaW4gdGhlIGRlZmF1bHRzTGlzdC5cblx0ICogRWFybGllciBvYmplY3RzIGluIHRoZSBkZWZhdWx0c0xpc3QgdGFrZSBwcmVjZWRlbmNlIHdoZW4gYXBwbHlpbmcgZGVmYXVsdHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWZhdWx0cyhvcHRzKSB7XG5cdCAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuXHQgICAgdmFyIGRlZmF1bHRzTGlzdCA9IFtdO1xuXHQgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcblx0ICAgICAgICBkZWZhdWx0c0xpc3RbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG5cdCAgICB9XG5cdCAgICB2YXIgZGVmYXVsdHMgPSBtZXJnZS5hcHBseShudWxsLCBbe31dLmNvbmNhdChkZWZhdWx0c0xpc3QpKTtcblx0ICAgIHJldHVybiBleHBvcnRzLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHBpY2sob3B0cyB8fCB7fSwgT2JqZWN0LmtleXMoZGVmYXVsdHMpKSk7XG5cdH1cblx0ZXhwb3J0cy5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuXHQvKipcblx0ICogTWVyZ2VzIHByb3BlcnRpZXMgZnJvbSB0aGUgbGlzdCBvZiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG5cdCAqIElmIGEgcHJvcGVydHkgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCwgdGhlbiBpdCBpcyBub3Qgb3ZlcndyaXR0ZW4uXG5cdCAqL1xuXHRmdW5jdGlvbiBtZXJnZShkc3QpIHtcblx0ICAgIHZhciBvYmpzID0gW107XG5cdCAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuXHQgICAgICAgIG9ianNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG5cdCAgICB9XG5cdCAgICBleHBvcnRzLmZvckVhY2gob2JqcywgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIGV4cG9ydHMuZm9yRWFjaChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG5cdCAgICAgICAgICAgIGlmICghZHN0Lmhhc093blByb3BlcnR5KGtleSkpXG5cdCAgICAgICAgICAgICAgICBkc3Rba2V5XSA9IHZhbHVlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gZHN0O1xuXHR9XG5cdGV4cG9ydHMubWVyZ2UgPSBtZXJnZTtcblx0LyoqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IG1lcmdlcyBlYWNoIGVsZW1lbnQgb2YgdGhlIGxpc3QgaW50byBhIHNpbmdsZSBvYmplY3QsIHVzaW5nIGV4dGVuZCAqL1xuXHRleHBvcnRzLm1lcmdlUiA9IGZ1bmN0aW9uIChtZW1vLCBpdGVtKSB7IHJldHVybiBleHBvcnRzLmV4dGVuZChtZW1vLCBpdGVtKTsgfTtcblx0LyoqXG5cdCAqIEZpbmRzIHRoZSBjb21tb24gYW5jZXN0b3IgcGF0aCBiZXR3ZWVuIHR3byBzdGF0ZXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBmaXJzdCBUaGUgZmlyc3Qgc3RhdGUuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzZWNvbmQgVGhlIHNlY29uZCBzdGF0ZS5cblx0ICogQHJldHVybiB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGUgbmFtZXMgaW4gZGVzY2VuZGluZyBvcmRlciwgbm90IGluY2x1ZGluZyB0aGUgcm9vdC5cblx0ICovXG5cdGZ1bmN0aW9uIGFuY2VzdG9ycyhmaXJzdCwgc2Vjb25kKSB7XG5cdCAgICB2YXIgcGF0aCA9IFtdO1xuXHQgICAgZm9yICh2YXIgbiBpbiBmaXJzdC5wYXRoKSB7XG5cdCAgICAgICAgaWYgKGZpcnN0LnBhdGhbbl0gIT09IHNlY29uZC5wYXRoW25dKVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICBwYXRoLnB1c2goZmlyc3QucGF0aFtuXSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcGF0aDtcblx0fVxuXHRleHBvcnRzLmFuY2VzdG9ycyA9IGFuY2VzdG9ycztcblx0LyoqXG5cdCAqIFBlcmZvcm1zIGEgbm9uLXN0cmljdCBjb21wYXJpc29uIG9mIHRoZSBzdWJzZXQgb2YgdHdvIG9iamVjdHMsIGRlZmluZWQgYnkgYSBsaXN0IG9mIGtleXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBmaXJzdCBvYmplY3QuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBzZWNvbmQgb2JqZWN0LlxuXHQgKiBAcGFyYW0ge0FycmF5fSBrZXlzIFRoZSBsaXN0IG9mIGtleXMgd2l0aGluIGVhY2ggb2JqZWN0IHRvIGNvbXBhcmUuIElmIHRoZSBsaXN0IGlzIGVtcHR5IG9yIG5vdCBzcGVjaWZpZWQsXG5cdCAqICAgICAgICAgICAgICAgICAgICAgaXQgZGVmYXVsdHMgdG8gdGhlIGxpc3Qgb2Yga2V5cyBpbiBgYWAuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBrZXlzIG1hdGNoLCBvdGhlcndpc2UgYGZhbHNlYC5cblx0ICovXG5cdGZ1bmN0aW9uIGVxdWFsRm9yS2V5cyhhLCBiLCBrZXlzKSB7XG5cdCAgICBpZiAoa2V5cyA9PT0gdm9pZCAwKSB7IGtleXMgPSBPYmplY3Qua2V5cyhhKTsgfVxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGsgPSBrZXlzW2ldO1xuXHQgICAgICAgIGlmIChhW2tdICE9IGJba10pXG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm90ICc9PT0nLCB2YWx1ZXMgYXJlbid0IG5lY2Vzc2FyaWx5IG5vcm1hbGl6ZWRcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdGV4cG9ydHMuZXF1YWxGb3JLZXlzID0gZXF1YWxGb3JLZXlzO1xuXHRmdW5jdGlvbiBwaWNrT21pdEltcGwocHJlZGljYXRlLCBvYmopIHtcblx0ICAgIHZhciBvYmpDb3B5ID0ge30sIGtleXMgPSByZXN0QXJncyhhcmd1bWVudHMsIDIpO1xuXHQgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuXHQgICAgICAgIGlmIChwcmVkaWNhdGUoa2V5cywga2V5KSlcblx0ICAgICAgICAgICAgb2JqQ29weVtrZXldID0gb2JqW2tleV07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb2JqQ29weTtcblx0fVxuXHQvKiogUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy4gKi9cblx0ZnVuY3Rpb24gcGljayhvYmopIHsgcmV0dXJuIHBpY2tPbWl0SW1wbC5hcHBseShudWxsLCBbaW5BcnJheV0uY29uY2F0KHJlc3RBcmdzKGFyZ3VtZW50cykpKTsgfVxuXHRleHBvcnRzLnBpY2sgPSBwaWNrO1xuXHQvKiogUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9taXR0aW5nIHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLiAqL1xuXHRmdW5jdGlvbiBvbWl0KG9iaikgeyByZXR1cm4gcGlja09taXRJbXBsLmFwcGx5KG51bGwsIFtob2ZfMS5ub3QoaW5BcnJheSldLmNvbmNhdChyZXN0QXJncyhhcmd1bWVudHMpKSk7IH1cblx0ZXhwb3J0cy5vbWl0ID0gb21pdDtcblx0LyoqXG5cdCAqIE1hcHMgYW4gYXJyYXksIG9yIG9iamVjdCB0byBhIHByb3BlcnR5IChieSBuYW1lKVxuXHQgKi9cblx0ZnVuY3Rpb24gcGx1Y2soY29sbGVjdGlvbiwgcHJvcE5hbWUpIHtcblx0ICAgIHJldHVybiBtYXAoY29sbGVjdGlvbiwgaG9mXzEucHJvcChwcm9wTmFtZSkpO1xuXHR9XG5cdGV4cG9ydHMucGx1Y2sgPSBwbHVjaztcblx0LyoqIEZpbHRlcnMgYW4gQXJyYXkgb3IgYW4gT2JqZWN0J3MgcHJvcGVydGllcyBiYXNlZCBvbiBhIHByZWRpY2F0ZSAqL1xuXHRmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBhcnIgPSBwcmVkaWNhdGVzXzEuaXNBcnJheShjb2xsZWN0aW9uKSwgcmVzdWx0ID0gYXJyID8gW10gOiB7fTtcblx0ICAgIHZhciBhY2NlcHQgPSBhcnIgPyBmdW5jdGlvbiAoeCkgeyByZXR1cm4gcmVzdWx0LnB1c2goeCk7IH0gOiBmdW5jdGlvbiAoeCwga2V5KSB7IHJldHVybiByZXN1bHRba2V5XSA9IHg7IH07XG5cdCAgICBleHBvcnRzLmZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICBpZiAoY2FsbGJhY2soaXRlbSwgaSkpXG5cdCAgICAgICAgICAgIGFjY2VwdChpdGVtLCBpKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRleHBvcnRzLmZpbHRlciA9IGZpbHRlcjtcblx0LyoqIEZpbmRzIGFuIG9iamVjdCBmcm9tIGFuIGFycmF5LCBvciBhIHByb3BlcnR5IG9mIGFuIG9iamVjdCwgdGhhdCBtYXRjaGVzIGEgcHJlZGljYXRlICovXG5cdGZ1bmN0aW9uIGZpbmQoY29sbGVjdGlvbiwgY2FsbGJhY2spIHtcblx0ICAgIHZhciByZXN1bHQ7XG5cdCAgICBleHBvcnRzLmZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICBpZiAocmVzdWx0KVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgaWYgKGNhbGxiYWNrKGl0ZW0sIGkpKVxuXHQgICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGV4cG9ydHMuZmluZCA9IGZpbmQ7XG5cdC8qKiBHaXZlbiBhbiBvYmplY3QsIHJldHVybnMgYSBuZXcgb2JqZWN0LCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIHRyYW5zZm9ybWVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbiAqL1xuXHRleHBvcnRzLm1hcE9iaiA9IG1hcDtcblx0LyoqIE1hcHMgYW4gYXJyYXkgb3Igb2JqZWN0IHByb3BlcnRpZXMgdXNpbmcgYSBjYWxsYmFjayBmdW5jdGlvbiAqL1xuXHRmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgY2FsbGJhY2spIHtcblx0ICAgIHZhciByZXN1bHQgPSBwcmVkaWNhdGVzXzEuaXNBcnJheShjb2xsZWN0aW9uKSA/IFtdIDoge307XG5cdCAgICBleHBvcnRzLmZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKGl0ZW0sIGkpIHsgcmV0dXJuIHJlc3VsdFtpXSA9IGNhbGxiYWNrKGl0ZW0sIGkpOyB9KTtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0ZXhwb3J0cy5tYXAgPSBtYXA7XG5cdC8qKlxuXHQgKiBHaXZlbiBhbiBvYmplY3QsIHJldHVybiBpdHMgZW51bWVyYWJsZSBwcm9wZXJ0eSB2YWx1ZXNcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgXG5cdCAqXG5cdCAqIGxldCBmb28gPSB7IGE6IDEsIGI6IDIsIGM6IDMgfVxuXHQgKiBsZXQgdmFscyA9IHZhbHVlcyhmb28pOyAvLyBbIDEsIDIsIDMgXVxuXHQgKiBgYGBcblx0ICovXG5cdGV4cG9ydHMudmFsdWVzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqW2tleV07IH0pOyB9O1xuXHQvKipcblx0ICogUmVkdWNlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGFsbCBvZiB0aGUgdmFsdWVzIGFyZSB0cnV0aHkuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBsZXQgdmFscyA9IFsgMSwgdHJ1ZSwge30sIFwiaGVsbG8gd29ybGRcIl07XG5cdCAqIHZhbHMucmVkdWNlKGFsbFRydWVSLCB0cnVlKTsgLy8gdHJ1ZVxuXHQgKlxuXHQgKiB2YWxzLnB1c2goMCk7XG5cdCAqIHZhbHMucmVkdWNlKGFsbFRydWVSLCB0cnVlKTsgLy8gZmFsc2Vcblx0ICogYGBgXG5cdCAqL1xuXHRleHBvcnRzLmFsbFRydWVSID0gZnVuY3Rpb24gKG1lbW8sIGVsZW0pIHsgcmV0dXJuIG1lbW8gJiYgZWxlbTsgfTtcblx0LyoqXG5cdCAqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhbnkgb2YgdGhlIHZhbHVlcyBhcmUgdHJ1dGh5LlxuXHQgKlxuXHQgKiAgKiBAZXhhbXBsZVxuXHQgKiBgYGBcblx0ICpcblx0ICogbGV0IHZhbHMgPSBbIDAsIG51bGwsIHVuZGVmaW5lZCBdO1xuXHQgKiB2YWxzLnJlZHVjZShhbnlUcnVlUiwgdHJ1ZSk7IC8vIGZhbHNlXG5cdCAqXG5cdCAqIHZhbHMucHVzaChcImhlbGxvIHdvcmxkXCIpO1xuXHQgKiB2YWxzLnJlZHVjZShhbnlUcnVlUiwgdHJ1ZSk7IC8vIHRydWVcblx0ICogYGBgXG5cdCAqL1xuXHRleHBvcnRzLmFueVRydWVSID0gZnVuY3Rpb24gKG1lbW8sIGVsZW0pIHsgcmV0dXJuIG1lbW8gfHwgZWxlbTsgfTtcblx0LyoqXG5cdCAqIFJlZHVjZSBmdW5jdGlvbiB3aGljaCB1bi1uZXN0cyBhIHNpbmdsZSBsZXZlbCBvZiBhcnJheXNcblx0ICogQGV4YW1wbGVcblx0ICogYGBgXG5cdCAqXG5cdCAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG5cdCAqIGlucHV0LnJlZHVjZSh1bm5lc3RSLCBbXSkgLy8gWyBcImFcIiwgXCJiXCIsIFwiY1wiLCBcImRcIiwgWyBcImRvdWJsZSwgXCJuZXN0ZWRcIiBdIF1cblx0ICogYGBgXG5cdCAqL1xuXHRleHBvcnRzLnVubmVzdFIgPSBmdW5jdGlvbiAobWVtbywgZWxlbSkgeyByZXR1cm4gbWVtby5jb25jYXQoZWxlbSk7IH07XG5cdC8qKlxuXHQgKiBSZWR1Y2UgZnVuY3Rpb24gd2hpY2ggcmVjdXJzaXZlbHkgdW4tbmVzdHMgYWxsIGFycmF5c1xuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGBcblx0ICpcblx0ICogbGV0IGlucHV0ID0gWyBbIFwiYVwiLCBcImJcIiBdLCBbIFwiY1wiLCBcImRcIiBdLCBbIFsgXCJkb3VibGVcIiwgXCJuZXN0ZWRcIiBdIF0gXTtcblx0ICogaW5wdXQucmVkdWNlKHVubmVzdFIsIFtdKSAvLyBbIFwiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImRvdWJsZSwgXCJuZXN0ZWRcIiBdXG5cdCAqIGBgYFxuXHQgKi9cblx0ZXhwb3J0cy5mbGF0dGVuUiA9IGZ1bmN0aW9uIChtZW1vLCBlbGVtKSB7IHJldHVybiBwcmVkaWNhdGVzXzEuaXNBcnJheShlbGVtKSA/IG1lbW8uY29uY2F0KGVsZW0ucmVkdWNlKGV4cG9ydHMuZmxhdHRlblIsIFtdKSkgOiBwdXNoUihtZW1vLCBlbGVtKTsgfTtcblx0LyoqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IHB1c2hlcyBhbiBvYmplY3QgdG8gYW4gYXJyYXksIHRoZW4gcmV0dXJucyB0aGUgYXJyYXkuICBNb3N0bHkganVzdCBmb3IgW1tmbGF0dGVuUl1dICovXG5cdGZ1bmN0aW9uIHB1c2hSKGFyciwgb2JqKSB7IGFyci5wdXNoKG9iaik7IHJldHVybiBhcnI7IH1cblx0LyoqXG5cdCAqIFJldHVybiBhIG5ldyBhcnJheSB3aXRoIGEgc2luZ2xlIGxldmVsIG9mIGFycmF5cyB1bm5lc3RlZC5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgXG5cdCAqXG5cdCAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG5cdCAqIHVubmVzdChpbnB1dCkgLy8gWyBcImFcIiwgXCJiXCIsIFwiY1wiLCBcImRcIiwgWyBcImRvdWJsZSwgXCJuZXN0ZWRcIiBdIF1cblx0ICogYGBgXG5cdCAqL1xuXHRleHBvcnRzLnVubmVzdCA9IGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZXhwb3J0cy51bm5lc3RSLCBbXSk7IH07XG5cdC8qKlxuXHQgKiBSZXR1cm4gYSBjb21wbGV0ZWx5IGZsYXR0ZW5lZCB2ZXJzaW9uIG9mIGFuIGFycmF5LlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGBcblx0ICpcblx0ICogbGV0IGlucHV0ID0gWyBbIFwiYVwiLCBcImJcIiBdLCBbIFwiY1wiLCBcImRcIiBdLCBbIFsgXCJkb3VibGVcIiwgXCJuZXN0ZWRcIiBdIF0gXTtcblx0ICogZmxhdHRlbihpbnB1dCkgLy8gWyBcImFcIiwgXCJiXCIsIFwiY1wiLCBcImRcIiwgXCJkb3VibGUsIFwibmVzdGVkXCIgXVxuXHQgKiBgYGBcblx0ICovXG5cdGV4cG9ydHMuZmxhdHRlbiA9IGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZXhwb3J0cy5mbGF0dGVuUiwgW10pOyB9O1xuXHQvKipcblx0ICogR2l2ZW4gYSAuZmlsdGVyIFByZWRpY2F0ZSwgYnVpbGRzIGEgLmZpbHRlciBQcmVkaWNhdGUgd2hpY2ggdGhyb3dzIGFuIGVycm9yIGlmIGFueSBlbGVtZW50cyBkbyBub3QgcGFzcy5cblx0ICogQGV4YW1wbGVcblx0ICogYGBgXG5cdCAqXG5cdCAqIGxldCBpc051bWJlciA9IChvYmopID0+IHR5cGVvZihvYmopID09PSAnbnVtYmVyJztcblx0ICogbGV0IGFsbE51bWJlcnMgPSBbIDEsIDIsIDMsIDQsIDUgXTtcblx0ICogYWxsTnVtYmVycy5maWx0ZXIoYXNzZXJ0UHJlZGljYXRlKGlzTnVtYmVyKSk7IC8vT0tcblx0ICpcblx0ICogbGV0IG9uZVN0cmluZyA9IFsgMSwgMiwgMywgNCwgXCI1XCIgXTtcblx0ICogb25lU3RyaW5nLmZpbHRlcihhc3NlcnRQcmVkaWNhdGUoaXNOdW1iZXIsIFwiTm90IGFsbCBudW1iZXJzXCIpKTsgLy8gdGhyb3dzIEVycm9yKFwiXCJOb3QgYWxsIG51bWJlcnNcIlwiKTtcblx0ICogYGBgXG5cdCAqL1xuXHRmdW5jdGlvbiBhc3NlcnRQcmVkaWNhdGUocHJlZGljYXRlLCBlcnJNc2cpIHtcblx0ICAgIGlmIChlcnJNc2cgPT09IHZvaWQgMCkgeyBlcnJNc2cgPSBcImFzc2VydCBmYWlsdXJlXCI7IH1cblx0ICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGUob2JqKSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJlZGljYXRlc18xLmlzRnVuY3Rpb24oZXJyTXNnKSA/IGVyck1zZyhvYmopIDogZXJyTXNnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9O1xuXHR9XG5cdGV4cG9ydHMuYXNzZXJ0UHJlZGljYXRlID0gYXNzZXJ0UHJlZGljYXRlO1xuXHQvKipcblx0ICogTGlrZSBfLnBhaXJzOiBHaXZlbiBhbiBvYmplY3QsIHJldHVybnMgYW4gYXJyYXkgb2Yga2V5L3ZhbHVlIHBhaXJzXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBwYWlycyh7IGZvbzogXCJGT09cIiwgYmFyOiBcIkJBUiB9KSAvLyBbIFsgXCJmb29cIiwgXCJGT09cIiBdLCBbIFwiYmFyXCI6IFwiQkFSXCIgXSBdXG5cdCAqIGBgYFxuXHQgKi9cblx0ZXhwb3J0cy5wYWlycyA9IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTsgfSk7IH07XG5cdC8qKlxuXHQgKiBHaXZlbiB0d28gb3IgbW9yZSBwYXJhbGxlbCBhcnJheXMsIHJldHVybnMgYW4gYXJyYXkgb2YgdHVwbGVzIHdoZXJlXG5cdCAqIGVhY2ggdHVwbGUgaXMgY29tcG9zZWQgb2YgWyBhW2ldLCBiW2ldLCAuLi4geltpXSBdXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBsZXQgZm9vID0gWyAwLCAyLCA0LCA2IF07XG5cdCAqIGxldCBiYXIgPSBbIDEsIDMsIDUsIDcgXTtcblx0ICogbGV0IGJheiA9IFsgMTAsIDMwLCA1MCwgNzAgXTtcblx0ICogYXJyYXlUdXBsZXMoZm9vLCBiYXIpOyAgICAgICAvLyBbIFswLCAxXSwgWzIsIDNdLCBbNCwgNV0sIFs2LCA3XSBdXG5cdCAqIGFycmF5VHVwbGVzKGZvbywgYmFyLCBiYXopOyAgLy8gWyBbMCwgMSwgMTBdLCBbMiwgMywgMzBdLCBbNCwgNSwgNTBdLCBbNiwgNywgNzBdIF1cblx0ICogYGBgXG5cdCAqL1xuXHRmdW5jdGlvbiBhcnJheVR1cGxlcygpIHtcblx0ICAgIHZhciBhcnJheUFyZ3MgPSBbXTtcblx0ICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG5cdCAgICAgICAgYXJyYXlBcmdzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuXHQgICAgfVxuXHQgICAgaWYgKGFycmF5QXJncy5sZW5ndGggPT09IDApXG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgdmFyIGxlbmd0aCA9IGFycmF5QXJncy5yZWR1Y2UoZnVuY3Rpb24gKG1pbiwgYXJyKSB7IHJldHVybiBNYXRoLm1pbihhcnIubGVuZ3RoLCBtaW4pOyB9LCA5MDA3MTk5MjU0NzQwOTkxKTsgLy8gYWthIDJeNTMg4oiSIDEgYWthIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG5cdCAgICByZXR1cm4gQXJyYXkuYXBwbHkobnVsbCwgQXJyYXkobGVuZ3RoKSkubWFwKGZ1bmN0aW9uIChpZ25vcmVkLCBpZHgpIHsgcmV0dXJuIGFycmF5QXJncy5tYXAoZnVuY3Rpb24gKGFycikgeyByZXR1cm4gYXJyW2lkeF07IH0pOyB9KTtcblx0fVxuXHRleHBvcnRzLmFycmF5VHVwbGVzID0gYXJyYXlUdXBsZXM7XG5cdC8qKlxuXHQgKiBSZWR1Y2UgZnVuY3Rpb24gd2hpY2ggYnVpbGRzIGFuIG9iamVjdCBmcm9tIGFuIGFycmF5IG9mIFtrZXksIHZhbHVlXSBwYWlycy5cblx0ICpcblx0ICogRWFjaCBpdGVyYXRpb24gc2V0cyB0aGUga2V5L3ZhbCBwYWlyIG9uIHRoZSBtZW1vIG9iamVjdCwgdGhlbiByZXR1cm5zIHRoZSBtZW1vIGZvciB0aGUgbmV4dCBpdGVyYXRpb24uXG5cdCAqXG5cdCAqIEVhY2gga2V5VmFsdWVUdXBsZSBzaG91bGQgYmUgYW4gYXJyYXkgd2l0aCB2YWx1ZXMgWyBrZXk6IHN0cmluZywgdmFsdWU6IGFueSBdXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiB2YXIgcGFpcnMgPSBbIFtcImZvb2tleVwiLCBcImZvb3ZhbFwiXSwgW1wiYmFya2V5XCIsIFwiYmFydmFsXCJdIF1cblx0ICpcblx0ICogdmFyIHBhaXJzVG9PYmogPSBwYWlycy5yZWR1Y2UoKG1lbW8sIHBhaXIpID0+IGFwcGx5UGFpcnMobWVtbywgcGFpciksIHt9KVxuXHQgKiAvLyBwYWlyc1RvT2JqID09IHsgZm9va2V5OiBcImZvb3ZhbFwiLCBiYXJrZXk6IFwiYmFydmFsXCIgfVxuXHQgKlxuXHQgKiAvLyBPciwgbW9yZSBzaW1wbHk6XG5cdCAqIHZhciBwYWlyc1RvT2JqID0gcGFpcnMucmVkdWNlKGFwcGx5UGFpcnMsIHt9KVxuXHQgKiAvLyBwYWlyc1RvT2JqID09IHsgZm9va2V5OiBcImZvb3ZhbFwiLCBiYXJrZXk6IFwiYmFydmFsXCIgfVxuXHQgKiBgYGBcblx0ICovXG5cdGZ1bmN0aW9uIGFwcGx5UGFpcnMobWVtbywga2V5VmFsVHVwbGUpIHtcblx0ICAgIHZhciBrZXksIHZhbHVlO1xuXHQgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0FycmF5KGtleVZhbFR1cGxlKSlcblx0ICAgICAgICBrZXkgPSBrZXlWYWxUdXBsZVswXSwgdmFsdWUgPSBrZXlWYWxUdXBsZVsxXTtcblx0ICAgIGlmICghcHJlZGljYXRlc18xLmlzU3RyaW5nKGtleSkpXG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXJhbWV0ZXJzIHRvIGFwcGx5UGFpcnNcIik7XG5cdCAgICBtZW1vW2tleV0gPSB2YWx1ZTtcblx0ICAgIHJldHVybiBtZW1vO1xuXHR9XG5cdGV4cG9ydHMuYXBwbHlQYWlycyA9IGFwcGx5UGFpcnM7XG5cdC8qKiBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheSAqL1xuXHRmdW5jdGlvbiB0YWlsKGFycikge1xuXHQgICAgcmV0dXJuIGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGggLSAxXSB8fCB1bmRlZmluZWQ7XG5cdH1cblx0ZXhwb3J0cy50YWlsID0gdGFpbDtcblx0LyoqXG5cdCAqIHNoYWxsb3cgY29weSBmcm9tIHNyYyB0byBkZXN0XG5cdCAqXG5cdCAqIG5vdGU6IFRoaXMgaXMgYSBzaGFsbG93IGNvcHksIHdoaWxlIGFuZ3VsYXIuY29weSBpcyBhIGRlZXAgY29weS5cblx0ICogdWktcm91dGVyIHVzZXMgYGNvcHlgIG9ubHkgdG8gbWFrZSBjb3BpZXMgb2Ygc3RhdGUgcGFyYW1ldGVycy5cblx0ICovXG5cdGZ1bmN0aW9uIF9jb3B5KHNyYywgZGVzdCkge1xuXHQgICAgaWYgKGRlc3QpXG5cdCAgICAgICAgT2JqZWN0LmtleXMoZGVzdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBkZWxldGUgZGVzdFtrZXldOyB9KTtcblx0ICAgIGlmICghZGVzdClcblx0ICAgICAgICBkZXN0ID0ge307XG5cdCAgICByZXR1cm4gZXhwb3J0cy5leHRlbmQoZGVzdCwgc3JjKTtcblx0fVxuXHRmdW5jdGlvbiBfZm9yRWFjaChvYmosIGNiLCBfdGhpcykge1xuXHQgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0FycmF5KG9iaikpXG5cdCAgICAgICAgcmV0dXJuIG9iai5mb3JFYWNoKGNiLCBfdGhpcyk7XG5cdCAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY2Iob2JqW2tleV0sIGtleSk7IH0pO1xuXHR9XG5cdGZ1bmN0aW9uIF9jb3B5UHJvcHModG8sIGZyb20pIHsgT2JqZWN0LmtleXMoZnJvbSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0b1trZXldID0gZnJvbVtrZXldOyB9KTsgcmV0dXJuIHRvOyB9XG5cdGZ1bmN0aW9uIF9leHRlbmQodG9PYmosIHJlc3QpIHtcblx0ICAgIHJldHVybiByZXN0QXJncyhhcmd1bWVudHMsIDEpLmZpbHRlcihleHBvcnRzLmlkZW50aXR5KS5yZWR1Y2UoX2NvcHlQcm9wcywgdG9PYmopO1xuXHR9XG5cdGZ1bmN0aW9uIF9lcXVhbHMobzEsIG8yKSB7XG5cdCAgICBpZiAobzEgPT09IG8yKVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgaWYgKG8xID09PSBudWxsIHx8IG8yID09PSBudWxsKVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIGlmIChvMSAhPT0gbzEgJiYgbzIgIT09IG8yKVxuXHQgICAgICAgIHJldHVybiB0cnVlOyAvLyBOYU4gPT09IE5hTlxuXHQgICAgdmFyIHQxID0gdHlwZW9mIG8xLCB0MiA9IHR5cGVvZiBvMjtcblx0ICAgIGlmICh0MSAhPT0gdDIgfHwgdDEgIT09ICdvYmplY3QnKVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIHZhciB0dXAgPSBbbzEsIG8yXTtcblx0ICAgIGlmIChob2ZfMS5hbGwocHJlZGljYXRlc18xLmlzQXJyYXkpKHR1cCkpXG5cdCAgICAgICAgcmV0dXJuIF9hcnJheXNFcShvMSwgbzIpO1xuXHQgICAgaWYgKGhvZl8xLmFsbChwcmVkaWNhdGVzXzEuaXNEYXRlKSh0dXApKVxuXHQgICAgICAgIHJldHVybiBvMS5nZXRUaW1lKCkgPT09IG8yLmdldFRpbWUoKTtcblx0ICAgIGlmIChob2ZfMS5hbGwocHJlZGljYXRlc18xLmlzUmVnRXhwKSh0dXApKVxuXHQgICAgICAgIHJldHVybiBvMS50b1N0cmluZygpID09PSBvMi50b1N0cmluZygpO1xuXHQgICAgaWYgKGhvZl8xLmFsbChwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbikodHVwKSlcblx0ICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gbWVoXG5cdCAgICB2YXIgcHJlZGljYXRlcyA9IFtwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbiwgcHJlZGljYXRlc18xLmlzQXJyYXksIHByZWRpY2F0ZXNfMS5pc0RhdGUsIHByZWRpY2F0ZXNfMS5pc1JlZ0V4cF07XG5cdCAgICBpZiAocHJlZGljYXRlcy5tYXAoaG9mXzEuYW55KS5yZWR1Y2UoZnVuY3Rpb24gKGIsIGZuKSB7IHJldHVybiBiIHx8ICEhZm4odHVwKTsgfSwgZmFsc2UpKVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIHZhciBrZXksIGtleXMgPSB7fTtcblx0ICAgIGZvciAoa2V5IGluIG8xKSB7XG5cdCAgICAgICAgaWYgKCFfZXF1YWxzKG8xW2tleV0sIG8yW2tleV0pKVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAga2V5c1trZXldID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGZvciAoa2V5IGluIG8yKSB7XG5cdCAgICAgICAgaWYgKCFrZXlzW2tleV0pXG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdGZ1bmN0aW9uIF9hcnJheXNFcShhMSwgYTIpIHtcblx0ICAgIGlmIChhMS5sZW5ndGggIT09IGEyLmxlbmd0aClcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICByZXR1cm4gYXJyYXlUdXBsZXMoYTEsIGEyKS5yZWR1Y2UoZnVuY3Rpb24gKGIsIHQpIHsgcmV0dXJuIGIgJiYgX2VxdWFscyh0WzBdLCB0WzFdKTsgfSwgdHJ1ZSk7XG5cdH1cblx0Ly9cblx0Ly9jb25zdCBfYWRkVG9Hcm91cCA9IChyZXN1bHQsIGtleUZuKSA9PiAoaXRlbSkgPT5cblx0Ly8gIChyZXN1bHRba2V5Rm4oaXRlbSldID0gcmVzdWx0W2tleUZuKGl0ZW0pXSB8fCBbXSkucHVzaChpdGVtKSAmJiByZXN1bHQ7XG5cdC8vY29uc3QgZ3JvdXBCeSA9IChhcnJheSwga2V5Rm4pID0+IGFycmF5LnJlZHVjZSgobWVtbywgaXRlbSkgPT4gX2FkZFRvR3JvdXAobWVtbywga2V5Rm4pLCB7fSk7XG5cdC8vXG5cdC8vXG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogUHJlZGljYXRlcyBAbW9kdWxlIGNvbW1vbl9wcmVkaWNhdGVzICovIC8qKiAqL1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHR2YXIgdGlzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgKHgpID09PSB0OyB9OyB9O1xuXHRleHBvcnRzLmlzVW5kZWZpbmVkID0gdGlzKCd1bmRlZmluZWQnKTtcblx0ZXhwb3J0cy5pc0RlZmluZWQgPSBob2ZfMS5ub3QoZXhwb3J0cy5pc1VuZGVmaW5lZCk7XG5cdGV4cG9ydHMuaXNOdWxsID0gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gPT09IG51bGw7IH07XG5cdGV4cG9ydHMuaXNGdW5jdGlvbiA9IHRpcygnZnVuY3Rpb24nKTtcblx0ZXhwb3J0cy5pc051bWJlciA9IHRpcygnbnVtYmVyJyk7XG5cdGV4cG9ydHMuaXNTdHJpbmcgPSB0aXMoJ3N0cmluZycpO1xuXHRleHBvcnRzLmlzT2JqZWN0ID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnOyB9O1xuXHRleHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXHRleHBvcnRzLmlzRGF0ZSA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0b1N0ci5jYWxsKHgpID09PSAnW29iamVjdCBEYXRlXSc7IH07XG5cdGV4cG9ydHMuaXNSZWdFeHAgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdG9TdHIuY2FsbCh4KSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7IH07XG5cdC8qKlxuXHQgKiBQcmVkaWNhdGUgd2hpY2ggY2hlY2tzIGlmIGEgdmFsdWUgaXMgaW5qZWN0YWJsZVxuXHQgKlxuXHQgKiBBIHZhbHVlIGlzIFwiaW5qZWN0YWJsZVwiIGlmIGl0IGlzIGEgZnVuY3Rpb24sIG9yIGlmIGl0IGlzIGFuIG5nMSBhcnJheS1ub3RhdGlvbi1zdHlsZSBhcnJheVxuXHQgKiB3aGVyZSBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBhcnJheSBhcmUgU3RyaW5ncywgZXhjZXB0IHRoZSBsYXN0IG9uZSwgd2hpY2ggaXMgYSBGdW5jdGlvblxuXHQgKi9cblx0ZnVuY3Rpb24gaXNJbmplY3RhYmxlKHZhbCkge1xuXHQgICAgaWYgKGV4cG9ydHMuaXNBcnJheSh2YWwpICYmIHZhbC5sZW5ndGgpIHtcblx0ICAgICAgICB2YXIgaGVhZCA9IHZhbC5zbGljZSgwLCAtMSksIHRhaWwgPSB2YWwuc2xpY2UoLTEpO1xuXHQgICAgICAgIHJldHVybiAhKGhlYWQuZmlsdGVyKGhvZl8xLm5vdChleHBvcnRzLmlzU3RyaW5nKSkubGVuZ3RoIHx8IHRhaWwuZmlsdGVyKGhvZl8xLm5vdChleHBvcnRzLmlzRnVuY3Rpb24pKS5sZW5ndGgpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGV4cG9ydHMuaXNGdW5jdGlvbih2YWwpO1xuXHR9XG5cdGV4cG9ydHMuaXNJbmplY3RhYmxlID0gaXNJbmplY3RhYmxlO1xuXHQvKipcblx0ICogUHJlZGljYXRlIHdoaWNoIGNoZWNrcyBpZiBhIHZhbHVlIGxvb2tzIGxpa2UgYSBQcm9taXNlXG5cdCAqXG5cdCAqIEl0IGlzIHByb2JhYmx5IGEgUHJvbWlzZSBpZiBpdCdzIGFuIG9iamVjdCwgYW5kIGl0IGhhcyBhIGB0aGVuYCBwcm9wZXJ0eSB3aGljaCBpcyBhIEZ1bmN0aW9uXG5cdCAqL1xuXHRleHBvcnRzLmlzUHJvbWlzZSA9IGhvZl8xLmFuZChleHBvcnRzLmlzT2JqZWN0LCBob2ZfMS5waXBlKGhvZl8xLnByb3AoJ3RoZW4nKSwgZXhwb3J0cy5pc0Z1bmN0aW9uKSk7XG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBIaWdoZXIgb3JkZXIgZnVuY3Rpb25zXG5cdCAqXG5cdCAqIEBtb2R1bGUgY29tbW9uX2hvZlxuXHQgKi9cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIGZvciBbUGFydGlhbCBBcHBsaWNhdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFydGlhbF9hcHBsaWNhdGlvbikgb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBHaXZlbiBhIGZ1bmN0aW9uIHdpdGggTiBwYXJhbWV0ZXJzLCByZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIHRoYXQgc3VwcG9ydHMgcGFydGlhbCBhcHBsaWNhdGlvbi5cblx0ICogVGhlIG5ldyBmdW5jdGlvbiBhY2NlcHRzIGFueXdoZXJlIGZyb20gMSB0byBOIHBhcmFtZXRlcnMuICBXaGVuIHRoYXQgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggTSBwYXJhbWV0ZXJzLFxuXHQgKiB3aGVyZSBNIGlzIGxlc3MgdGhhbiBOLCBpdCByZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIHBhcmFtZXRlcnMuICBJdCBjb250aW51ZXMgdG9cblx0ICogYWNjZXB0IG1vcmUgcGFyYW1ldGVycyB1bnRpbCBhbGwgTiBwYXJhbWV0ZXJzIGhhdmUgYmVlbiBzdXBwbGllZC5cblx0ICpcblx0ICpcblx0ICogVGhpcyBjb250cml2ZWQgZXhhbXBsZSB1c2VzIGEgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24gYXMgYW4gcHJlZGljYXRlLCB3aGljaCByZXR1cm5zIHRydWVcblx0ICogaWYgYW4gb2JqZWN0IGlzIGZvdW5kIGluIGJvdGggYXJyYXlzLlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGBcblx0ICogLy8gcmV0dXJucyB0cnVlIGlmIGFuIG9iamVjdCBpcyBpbiBib3RoIG9mIHRoZSB0d28gYXJyYXlzXG5cdCAqIGZ1bmN0aW9uIGluQm90aChhcnJheTEsIGFycmF5Miwgb2JqZWN0KSB7XG5cdCAqICAgcmV0dXJuIGFycmF5MS5pbmRleE9mKG9iamVjdCkgIT09IC0xICYmXG5cdCAqICAgICAgICAgIGFycmF5Mi5pbmRleE9mKG9iamVjdCkgIT09IDE7XG5cdCAqIH1cblx0ICogbGV0IG9iajEsIG9iajIsIG9iajMsIG9iajQsIG9iajUsIG9iajYsIG9iajdcblx0ICogbGV0IGZvb3MgPSBbb2JqMSwgb2JqM11cblx0ICogbGV0IGJhcnMgPSBbb2JqMywgb2JqNCwgb2JqNV1cblx0ICpcblx0ICogLy8gQSBjdXJyaWVkIFwiY29weVwiIG9mIGluQm90aFxuXHQgKiBsZXQgY3VycmllZEluQm90aCA9IGN1cnJ5KGluQm90aCk7XG5cdCAqIC8vIFBhcnRpYWxseSBhcHBseSBib3RoIHRoZSBhcnJheTEgYW5kIGFycmF5MlxuXHQgKiBsZXQgaW5Gb29zQW5kQmFycyA9IGN1cnJpZWRJbkJvdGgoZm9vcywgYmFycyk7XG5cdCAqXG5cdCAqIC8vIFN1cHBseSB0aGUgZmluYWwgYXJndW1lbnQ7IHNpbmNlIGFsbCBhcmd1bWVudHMgYXJlXG5cdCAqIC8vIHN1cHBsaWVkLCB0aGUgb3JpZ2luYWwgaW5Cb3RoIGZ1bmN0aW9uIGlzIHRoZW4gY2FsbGVkLlxuXHQgKiBsZXQgb2JqMUluQm90aCA9IGluRm9vc0FuZEJhcnMob2JqMSk7IC8vIGZhbHNlXG5cdCAqXG5cdCAqIC8vIFVzZSB0aGUgaW5Gb29zQW5kQmFycyBhcyBhIHByZWRpY2F0ZS5cblx0ICogLy8gRmlsdGVyLCBvbiBlYWNoIGl0ZXJhdGlvbiwgc3VwcGxpZXMgdGhlIGZpbmFsIGFyZ3VtZW50XG5cdCAqIGxldCBhbGxPYmpzID0gWyBvYmoxLCBvYmoyLCBvYmozLCBvYmo0LCBvYmo1LCBvYmo2LCBvYmo3IF07XG5cdCAqIGxldCBmb3VuZEluQm90aCA9IGFsbE9ianMuZmlsdGVyKGluRm9vc0FuZEJhcnMpOyAvLyBbIG9iajMgXVxuXHQgKlxuXHQgKiBgYGBcblx0ICpcblx0ICogU3RvbGVuIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDM5NDc0Ny9qYXZhc2NyaXB0LWN1cnJ5LWZ1bmN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSBmblxuXHQgKiBAcmV0dXJucyB7KnxmdW5jdGlvbigpOiAoKnxhbnkpfVxuXHQgKi9cblx0ZnVuY3Rpb24gY3VycnkoZm4pIHtcblx0ICAgIHZhciBpbml0aWFsX2FyZ3MgPSBbXS5zbGljZS5hcHBseShhcmd1bWVudHMsIFsxXSk7XG5cdCAgICB2YXIgZnVuY19hcmdzX2xlbmd0aCA9IGZuLmxlbmd0aDtcblx0ICAgIGZ1bmN0aW9uIGN1cnJpZWQoYXJncykge1xuXHQgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSBmdW5jX2FyZ3NfbGVuZ3RoKVxuXHQgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGN1cnJpZWQoYXJncy5jb25jYXQoW10uc2xpY2UuYXBwbHkoYXJndW1lbnRzKSkpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3VycmllZChpbml0aWFsX2FyZ3MpO1xuXHR9XG5cdGV4cG9ydHMuY3VycnkgPSBjdXJyeTtcblx0LyoqXG5cdCAqIEdpdmVuIGEgdmFyYXJncyBsaXN0IG9mIGZ1bmN0aW9ucywgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY29tcG9zZXMgdGhlIGFyZ3VtZW50IGZ1bmN0aW9ucywgcmlnaHQtdG8tbGVmdFxuXHQgKiBnaXZlbjogZih4KSwgZyh4KSwgaCh4KVxuXHQgKiBsZXQgY29tcG9zZWQgPSBjb21wb3NlKGYsZyxoKVxuXHQgKiB0aGVuLCBjb21wb3NlZCBpczogZihnKGgoeCkpKVxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcG9zZSgpIHtcblx0ICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHQgICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgaSA9IHN0YXJ0LCByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIHdoaWxlIChpLS0pXG5cdCAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9O1xuXHR9XG5cdGV4cG9ydHMuY29tcG9zZSA9IGNvbXBvc2U7XG5cdC8qKlxuXHQgKiBHaXZlbiBhIHZhcmFyZ3MgbGlzdCBvZiBmdW5jdGlvbnMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIGNvbXBvc2VzIHRoZSBhcmd1bWVudCBmdW5jdGlvbnMsIGxlZnQtdG8tcmlnaHRcblx0ICogZ2l2ZW46IGYoeCksIGcoeCksIGgoeClcblx0ICogbGV0IHBpcGVkID0gcGlwZShmLGcsaCk7XG5cdCAqIHRoZW4sIHBpcGVkIGlzOiBoKGcoZih4KSkpXG5cdCAqL1xuXHRmdW5jdGlvbiBwaXBlKCkge1xuXHQgICAgdmFyIGZ1bmNzID0gW107XG5cdCAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuXHQgICAgICAgIGZ1bmNzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNvbXBvc2UuYXBwbHkobnVsbCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpLnJldmVyc2UoKSk7XG5cdH1cblx0ZXhwb3J0cy5waXBlID0gcGlwZTtcblx0LyoqXG5cdCAqIEdpdmVuIGEgcHJvcGVydHkgbmFtZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGF0IHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG5cdCAqIGxldCBvYmogPSB7IGZvbzogMSwgbmFtZTogXCJibGFyZ1wiIH07XG5cdCAqIGxldCBnZXROYW1lID0gcHJvcChcIm5hbWVcIik7XG5cdCAqIGdldE5hbWUob2JqKSA9PT0gXCJibGFyZ1wiXG5cdCAqL1xuXHRleHBvcnRzLnByb3AgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIG9ialtuYW1lXTsgfTsgfTtcblx0LyoqXG5cdCAqIEdpdmVuIGEgcHJvcGVydHkgbmFtZSBhbmQgYSB2YWx1ZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGJvb2xlYW4gYmFzZWQgb24gd2hldGhlclxuXHQgKiB0aGUgcGFzc2VkIG9iamVjdCBoYXMgYSBwcm9wZXJ0eSB0aGF0IG1hdGNoZXMgdGhlIHZhbHVlXG5cdCAqIGxldCBvYmogPSB7IGZvbzogMSwgbmFtZTogXCJibGFyZ1wiIH07XG5cdCAqIGxldCBnZXROYW1lID0gcHJvcEVxKFwibmFtZVwiLCBcImJsYXJnXCIpO1xuXHQgKiBnZXROYW1lKG9iaikgPT09IHRydWVcblx0ICovXG5cdGV4cG9ydHMucHJvcEVxID0gY3VycnkoZnVuY3Rpb24gKG5hbWUsIHZhbCwgb2JqKSB7IHJldHVybiBvYmogJiYgb2JqW25hbWVdID09PSB2YWw7IH0pO1xuXHQvKipcblx0ICogR2l2ZW4gYSBkb3R0ZWQgcHJvcGVydHkgbmFtZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIG5lc3RlZCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdCwgb3IgdW5kZWZpbmVkXG5cdCAqIGxldCBvYmogPSB7IGlkOiAxLCBuZXN0ZWRPYmo6IHsgZm9vOiAxLCBuYW1lOiBcImJsYXJnXCIgfSwgfTtcblx0ICogbGV0IGdldE5hbWUgPSBwcm9wKFwibmVzdGVkT2JqLm5hbWVcIik7XG5cdCAqIGdldE5hbWUob2JqKSA9PT0gXCJibGFyZ1wiXG5cdCAqIGxldCBwcm9wTm90Rm91bmQgPSBwcm9wKFwidGhpcy5wcm9wZXJ0eS5kb2VzbnQuZXhpc3RcIik7XG5cdCAqIHByb3BOb3RGb3VuZChvYmopID09PSB1bmRlZmluZWRcblx0ICovXG5cdGV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gcGlwZS5hcHBseShudWxsLCBuYW1lLnNwbGl0KFwiLlwiKS5tYXAoZXhwb3J0cy5wcm9wKSk7IH07XG5cdC8qKlxuXHQgKiBHaXZlbiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRydXRoeSBvciBmYWxzZXkgdmFsdWUsIHJldHVybnMgYVxuXHQgKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG9wcG9zaXRlIChmYWxzZXkgb3IgdHJ1dGh5KSB2YWx1ZSBnaXZlbiB0aGUgc2FtZSBpbnB1dHNcblx0ICovXG5cdGV4cG9ydHMubm90ID0gZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgYXJncyA9IFtdO1xuXHQgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcblx0ICAgICAgICBhcmdzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICFmbi5hcHBseShudWxsLCBhcmdzKTtcblx0fTsgfTtcblx0LyoqXG5cdCAqIEdpdmVuIHR3byBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdHJ1dGh5IG9yIGZhbHNleSB2YWx1ZXMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1dGh5XG5cdCAqIGlmIGJvdGggZnVuY3Rpb25zIHJldHVybiB0cnV0aHkgZm9yIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0ICovXG5cdGZ1bmN0aW9uIGFuZChmbjEsIGZuMikge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgYXJncyA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmbjEuYXBwbHkobnVsbCwgYXJncykgJiYgZm4yLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgICAgfTtcblx0fVxuXHRleHBvcnRzLmFuZCA9IGFuZDtcblx0LyoqXG5cdCAqIEdpdmVuIHR3byBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdHJ1dGh5IG9yIGZhbHNleSB2YWx1ZXMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1dGh5XG5cdCAqIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZnVuY3Rpb25zIHJldHVybnMgdHJ1dGh5IGZvciB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdCAqL1xuXHRmdW5jdGlvbiBvcihmbjEsIGZuMikge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgYXJncyA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmbjEuYXBwbHkobnVsbCwgYXJncykgfHwgZm4yLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgICAgfTtcblx0fVxuXHRleHBvcnRzLm9yID0gb3I7XG5cdC8qKlxuXHQgKiBDaGVjayBpZiBhbGwgdGhlIGVsZW1lbnRzIG9mIGFuIGFycmF5IG1hdGNoIGEgcHJlZGljYXRlIGZ1bmN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSBmbjEgYSBwcmVkaWNhdGUgZnVuY3Rpb24gYGZuMWBcblx0ICogQHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyBhbiBhcnJheSBhbmQgcmV0dXJucyB0cnVlIGlmIGBmbjFgIGlzIHRydWUgZm9yIGFsbCBlbGVtZW50cyBvZiB0aGUgYXJyYXlcblx0ICovXG5cdGV4cG9ydHMuYWxsID0gZnVuY3Rpb24gKGZuMSkgeyByZXR1cm4gZnVuY3Rpb24gKGFycikgeyByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYiwgeCkgeyByZXR1cm4gYiAmJiAhIWZuMSh4KTsgfSwgdHJ1ZSk7IH07IH07XG5cdGV4cG9ydHMuYW55ID0gZnVuY3Rpb24gKGZuMSkgeyByZXR1cm4gZnVuY3Rpb24gKGFycikgeyByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYiwgeCkgeyByZXR1cm4gYiB8fCAhIWZuMSh4KTsgfSwgZmFsc2UpOyB9OyB9O1xuXHRleHBvcnRzLm5vbmUgPSBleHBvcnRzLm5vdChleHBvcnRzLmFueSk7XG5cdC8qKiBHaXZlbiBhIGNsYXNzLCByZXR1cm5zIGEgUHJlZGljYXRlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgb2YgdGhhdCBjbGFzcyAqL1xuXHRleHBvcnRzLmlzID0gZnVuY3Rpb24gKGN0b3IpIHsgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgPT09IGN0b3IgfHwgb2JqIGluc3RhbmNlb2YgY3Rvcik7IH07IH07XG5cdC8qKiBHaXZlbiBhIHZhbHVlLCByZXR1cm5zIGEgUHJlZGljYXRlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGFub3RoZXIgdmFsdWUgaXMgPT09IGVxdWFsIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZSAqL1xuXHRleHBvcnRzLmVxID0gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gZnVuY3Rpb24gKG90aGVyKSB7IHJldHVybiB2YWwgPT09IG90aGVyOyB9OyB9O1xuXHQvKiogR2l2ZW4gYSB2YWx1ZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHZhbHVlICovXG5cdGV4cG9ydHMudmFsID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHY7IH07IH07XG5cdGZ1bmN0aW9uIGludm9rZShmbk5hbWUsIGFyZ3MpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmpbZm5OYW1lXS5hcHBseShvYmosIGFyZ3MpOyB9O1xuXHR9XG5cdGV4cG9ydHMuaW52b2tlID0gaW52b2tlO1xuXHQvKipcblx0ICogU29ydGEgbGlrZSBQYXR0ZXJuIE1hdGNoaW5nIChhIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgY29uZGl0aW9uYWwgY29uc3RydWN0KVxuXHQgKlxuXHQgKiBTZWUgaHR0cDovL2MyLmNvbS9jZ2kvd2lraT9QYXR0ZXJuTWF0Y2hpbmdcblx0ICpcblx0ICogVGhpcyBpcyBhIGNvbmRpdGlvbmFsIGNvbnN0cnVjdCB3aGljaCBhbGxvd3MgYSBzZXJpZXMgb2YgcHJlZGljYXRlcyBhbmQgb3V0cHV0IGZ1bmN0aW9uc1xuXHQgKiB0byBiZSBjaGVja2VkIGFuZCB0aGVuIGFwcGxpZWQuICBFYWNoIHByZWRpY2F0ZSByZWNlaXZlcyB0aGUgaW5wdXQuICBJZiB0aGUgcHJlZGljYXRlXG5cdCAqIHJldHVybnMgdHJ1dGh5LCB0aGVuIGl0cyBtYXRjaGluZyBvdXRwdXQgZnVuY3Rpb24gKG1hcHBpbmcgZnVuY3Rpb24pIGlzIHByb3ZpZGVkIHdpdGhcblx0ICogdGhlIGlucHV0IGFuZCwgdGhlbiB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuXHQgKlxuXHQgKiBFYWNoIGNvbWJpbmF0aW9uICgyLXR1cGxlKSBvZiBwcmVkaWNhdGUgKyBvdXRwdXQgZnVuY3Rpb24gc2hvdWxkIGJlIHBsYWNlZCBpbiBhbiBhcnJheVxuXHQgKiBvZiBzaXplIDI6IFsgcHJlZGljYXRlLCBtYXBGbiBdXG5cdCAqXG5cdCAqIFRoZXNlIDItdHVwbGVzIHNob3VsZCBiZSBwdXQgaW4gYW4gb3V0ZXIgYXJyYXkuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiAvLyBIZXJlJ3MgYSAyLXR1cGxlIHdoZXJlIHRoZSBmaXJzdCBlbGVtZW50IGlzIHRoZSBpc1N0cmluZyBwcmVkaWNhdGVcblx0ICogLy8gYW5kIHRoZSBzZWNvbmQgZWxlbWVudCBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpbnB1dFxuXHQgKiBsZXQgZmlyc3RUdXBsZSA9IFsgYW5ndWxhci5pc1N0cmluZywgKGlucHV0KSA9PiBgSGVyZXMgeW91ciBzdHJpbmcgJHtpbnB1dH1gIF07XG5cdCAqXG5cdCAqIC8vIFNlY29uZCB0dXBsZTogcHJlZGljYXRlIFwiaXNOdW1iZXJcIiwgbWFwZm4gcmV0dXJucyBhIGRlc2NyaXB0aW9uXG5cdCAqIGxldCBzZWNvbmRUdXBsZSA9IFsgYW5ndWxhci5pc051bWJlciwgKGlucHV0KSA9PiBgKCR7aW5wdXR9KSBUaGF0J3MgYSBudW1iZXIhYCBdO1xuXHQgKlxuXHQgKiBsZXQgdGhpcmQgPSBbIChpbnB1dCkgPT4gaW5wdXQgPT09IG51bGwsICAoaW5wdXQpID0+IGBPaCwgbnVsbC4uLmAgXTtcblx0ICpcblx0ICogbGV0IGZvdXJ0aCA9IFsgKGlucHV0KSA9PiBpbnB1dCA9PT0gdW5kZWZpbmVkLCAgKGlucHV0KSA9PiBgbm90ZGVmaW5lZGAgXTtcblx0ICpcblx0ICogbGV0IGRlc2NyaXB0aW9uT2YgPSBwYXR0ZXJuKFsgZmlyc3RUdXBsZSwgc2Vjb25kVHVwbGUsIHRoaXJkLCBmb3VydGggXSk7XG5cdCAqXG5cdCAqIGNvbnNvbGUubG9nKGRlc2NyaXB0aW9uT2YodW5kZWZpbmVkKSk7IC8vICdub3RkZWZpbmVkJ1xuXHQgKiBjb25zb2xlLmxvZyhkZXNjcmlwdGlvbk9mKDU1KSk7IC8vICcoNTUpIFRoYXQncyBhIG51bWJlciEnXG5cdCAqIGNvbnNvbGUubG9nKGRlc2NyaXB0aW9uT2YoXCJmb29cIikpOyAvLyAnSGVyZSdzIHlvdXIgc3RyaW5nIGZvbydcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSBzdHJ1Y3QgQSAyRCBhcnJheS4gIEVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXkgc2hvdWxkIGJlIGFuIGFycmF5LCBhIDItdHVwbGUsXG5cdCAqIHdpdGggYSBQcmVkaWNhdGUgYW5kIGEgbWFwcGluZy9vdXRwdXQgZnVuY3Rpb25cblx0ICogQHJldHVybnMge2Z1bmN0aW9uKGFueSk6ICp9XG5cdCAqL1xuXHRmdW5jdGlvbiBwYXR0ZXJuKHN0cnVjdCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJ1Y3QubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKHN0cnVjdFtpXVswXSh4KSlcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzdHJ1Y3RbaV1bMV0oeCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXHRleHBvcnRzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogVGhpcyBtb2R1bGUgaXMgYSBzdHViIGZvciBjb3JlIHNlcnZpY2VzIHN1Y2ggYXMgRGVwZW5kZW5jeSBJbmplY3Rpb24gb3IgQnJvd3NlciBMb2NhdGlvbi5cblx0ICogQ29yZSBzZXJ2aWNlcyBtYXkgYmUgaW1wbGVtZW50ZWQgYnkgYSBzcGVjaWZpYyBmcmFtZXdvcmssIHN1Y2ggYXMgbmcxIG9yIG5nMiwgb3IgYmUgcHVyZSBqYXZhc2NyaXB0LlxuXHQgKlxuXHQgKiBAbW9kdWxlIGNvbW1vblxuXHQgKi9cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBmb3IgdHlwZWRvYyAqL1xuXHQvL2ltcG9ydCB7SVFTZXJ2aWNlfSBmcm9tIFwiYW5ndWxhclwiO1xuXHQvL2ltcG9ydCB7SUluamVjdG9yU2VydmljZX0gZnJvbSBcImFuZ3VsYXJcIjtcblx0dmFyIG5vdEltcGxlbWVudGVkID0gZnVuY3Rpb24gKGZubmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKGZubmFtZSArIFwiKCk6IE5vIGNvcmVzZXJ2aWNlcyBpbXBsZW1lbnRhdGlvbiBmb3IgVUktUm91dGVyIGlzIGxvYWRlZC4gWW91IHNob3VsZCBpbmNsdWRlIG9uZSBvZjogWydhbmd1bGFyMS5qcyddXCIpO1xuXHR9OyB9O1xuXHR2YXIgc2VydmljZXMgPSB7XG5cdCAgICAkcTogdW5kZWZpbmVkLFxuXHQgICAgJGluamVjdG9yOiB1bmRlZmluZWQsXG5cdCAgICBsb2NhdGlvbjoge30sXG5cdCAgICBsb2NhdGlvbkNvbmZpZzoge30sXG5cdCAgICB0ZW1wbGF0ZToge31cblx0fTtcblx0ZXhwb3J0cy5zZXJ2aWNlcyA9IHNlcnZpY2VzO1xuXHRbXCJyZXBsYWNlXCIsIFwidXJsXCIsIFwicGF0aFwiLCBcInNlYXJjaFwiLCBcImhhc2hcIiwgXCJvbkNoYW5nZVwiXVxuXHQgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VydmljZXMubG9jYXRpb25ba2V5XSA9IG5vdEltcGxlbWVudGVkKGtleSk7IH0pO1xuXHRbXCJwb3J0XCIsIFwicHJvdG9jb2xcIiwgXCJob3N0XCIsIFwiYmFzZUhyZWZcIiwgXCJodG1sNU1vZGVcIiwgXCJoYXNoUHJlZml4XCJdXG5cdCAgICAuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZXJ2aWNlcy5sb2NhdGlvbkNvbmZpZ1trZXldID0gbm90SW1wbGVtZW50ZWQoa2V5KTsgfSk7XG5cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSBzdGF0ZSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0dmFyIEdsb2IgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gR2xvYih0ZXh0KSB7XG5cdCAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcblx0ICAgICAgICB0aGlzLmdsb2IgPSB0ZXh0LnNwbGl0KCcuJyk7XG5cdCAgICB9XG5cdCAgICBHbG9iLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgICAgICB2YXIgc2VnbWVudHMgPSBuYW1lLnNwbGl0KCcuJyk7XG5cdCAgICAgICAgLy8gbWF0Y2ggc2luZ2xlIHN0YXJzXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmdsb2IubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLmdsb2JbaV0gPT09ICcqJylcblx0ICAgICAgICAgICAgICAgIHNlZ21lbnRzW2ldID0gJyonO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBtYXRjaCBncmVlZHkgc3RhcnRzXG5cdCAgICAgICAgaWYgKHRoaXMuZ2xvYlswXSA9PT0gJyoqJykge1xuXHQgICAgICAgICAgICBzZWdtZW50cyA9IHNlZ21lbnRzLnNsaWNlKHNlZ21lbnRzLmluZGV4T2YodGhpcy5nbG9iWzFdKSk7XG5cdCAgICAgICAgICAgIHNlZ21lbnRzLnVuc2hpZnQoJyoqJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIG1hdGNoIGdyZWVkeSBlbmRzXG5cdCAgICAgICAgaWYgKHRoaXMuZ2xvYlt0aGlzLmdsb2IubGVuZ3RoIC0gMV0gPT09ICcqKicpIHtcblx0ICAgICAgICAgICAgc2VnbWVudHMuc3BsaWNlKHNlZ21lbnRzLmluZGV4T2YodGhpcy5nbG9iW3RoaXMuZ2xvYi5sZW5ndGggLSAyXSkgKyAxLCBOdW1iZXIuTUFYX1ZBTFVFKTtcblx0ICAgICAgICAgICAgc2VnbWVudHMucHVzaCgnKionKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRoaXMuZ2xvYi5sZW5ndGggIT0gc2VnbWVudHMubGVuZ3RoKVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oJycpID09PSB0aGlzLmdsb2Iuam9pbignJyk7XG5cdCAgICB9O1xuXHQgICAgR2xvYi5pcyA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRleHQuaW5kZXhPZignKicpID4gLTE7XG5cdCAgICB9O1xuXHQgICAgR2xvYi5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcblx0ICAgICAgICBpZiAoIXRoaXMuaXModGV4dCkpXG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIHJldHVybiBuZXcgR2xvYih0ZXh0KTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gR2xvYjtcblx0fSgpKTtcblx0ZXhwb3J0cy5HbG9iID0gR2xvYjtcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqIEBtb2R1bGUgY29tbW9uICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIFF1ZXVlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFF1ZXVlKF9pdGVtcywgX2xpbWl0KSB7XG5cdCAgICAgICAgaWYgKF9pdGVtcyA9PT0gdm9pZCAwKSB7IF9pdGVtcyA9IFtdOyB9XG5cdCAgICAgICAgaWYgKF9saW1pdCA9PT0gdm9pZCAwKSB7IF9saW1pdCA9IG51bGw7IH1cblx0ICAgICAgICB0aGlzLl9pdGVtcyA9IF9pdGVtcztcblx0ICAgICAgICB0aGlzLl9saW1pdCA9IF9saW1pdDtcblx0ICAgIH1cblx0ICAgIFF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtcztcblx0ICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuXHQgICAgICAgIGlmICh0aGlzLl9saW1pdCAmJiBpdGVtcy5sZW5ndGggPiB0aGlzLl9saW1pdClcblx0ICAgICAgICAgICAgaXRlbXMuc2hpZnQoKTtcblx0ICAgICAgICByZXR1cm4gaXRlbTtcblx0ICAgIH07XG5cdCAgICBRdWV1ZS5wcm90b3R5cGUuZGVxdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAodGhpcy5zaXplKCkpXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5zcGxpY2UoMCwgMSlbMF07XG5cdCAgICB9O1xuXHQgICAgUXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faXRlbXM7XG5cdCAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcblx0ICAgICAgICByZXR1cm4gY3VycmVudDtcblx0ICAgIH07XG5cdCAgICBRdWV1ZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RoO1xuXHQgICAgfTtcblx0ICAgIFF1ZXVlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgIHZhciBpZHggPSB0aGlzLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xuXHQgICAgICAgIHJldHVybiBpZHggPiAtMSAmJiB0aGlzLl9pdGVtcy5zcGxpY2UoaWR4LCAxKVswXTtcblx0ICAgIH07XG5cdCAgICBRdWV1ZS5wcm90b3R5cGUucGVla1RhaWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aCAtIDFdO1xuXHQgICAgfTtcblx0ICAgIFF1ZXVlLnByb3RvdHlwZS5wZWVrSGVhZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAodGhpcy5zaXplKCkpXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtc1swXTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gUXVldWU7XG5cdH0oKSk7XG5cdGV4cG9ydHMuUXVldWUgPSBRdWV1ZTtcblxuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqIEBtb2R1bGUgY29tbW9uX3N0cmluZ3MgKi8gLyoqICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIHJlamVjdEZhY3RvcnlfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgdHJhbnNpdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdHZhciByZXNvbHZhYmxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgc2hvcnRlbmVkIHRvIGEgbWF4aW11bSBsZW5ndGhcblx0ICpcblx0ICogSWYgdGhlIHN0cmluZyBpcyBhbHJlYWR5IGxlc3MgdGhhbiB0aGUgYG1heGAgbGVuZ3RoLCByZXR1cm4gdGhlIHN0cmluZy5cblx0ICogRWxzZSByZXR1cm4gdGhlIHN0cmluZywgc2hvcnRlbmVkIHRvIGBtYXggLSAzYCBhbmQgYXBwZW5kIHRocmVlIGRvdHMgKFwiLi4uXCIpLlxuXHQgKlxuXHQgKiBAcGFyYW0gbWF4IHRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgc3RyaW5nIHRvIHJldHVyblxuXHQgKiBAcGFyYW0gc3RyIHRoZSBpbnB1dCBzdHJpbmdcblx0ICovXG5cdGZ1bmN0aW9uIG1heExlbmd0aChtYXgsIHN0cikge1xuXHQgICAgaWYgKHN0ci5sZW5ndGggPD0gbWF4KVxuXHQgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBtYXggLSAzKSArIFwiLi4uXCI7XG5cdH1cblx0ZXhwb3J0cy5tYXhMZW5ndGggPSBtYXhMZW5ndGg7XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgc3RyaW5nLCB3aXRoIHNwYWNlcyBhZGRlZCB0byB0aGUgZW5kLCB1cCB0byBhIGRlc2lyZWQgc3RyIGxlbmd0aFxuXHQgKlxuXHQgKiBJZiB0aGUgc3RyaW5nIGlzIGFscmVhZHkgbG9uZ2VyIHRoYW4gdGhlIGRlc2lyZWQgbGVuZ3RoLCByZXR1cm4gdGhlIHN0cmluZy5cblx0ICogRWxzZSByZXR1cm5zIHRoZSBzdHJpbmcsIHdpdGggZXh0cmEgc3BhY2VzIG9uIHRoZSBlbmQsIHN1Y2ggdGhhdCBpdCByZWFjaGVzIGBsZW5ndGhgIGNoYXJhY3RlcnMuXG5cdCAqXG5cdCAqIEBwYXJhbSBsZW5ndGggdGhlIGRlc2lyZWQgbGVuZ3RoIG9mIHRoZSBzdHJpbmcgdG8gcmV0dXJuXG5cdCAqIEBwYXJhbSBzdHIgdGhlIGlucHV0IHN0cmluZ1xuXHQgKi9cblx0ZnVuY3Rpb24gcGFkU3RyaW5nKGxlbmd0aCwgc3RyKSB7XG5cdCAgICB3aGlsZSAoc3RyLmxlbmd0aCA8IGxlbmd0aClcblx0ICAgICAgICBzdHIgKz0gXCIgXCI7XG5cdCAgICByZXR1cm4gc3RyO1xuXHR9XG5cdGV4cG9ydHMucGFkU3RyaW5nID0gcGFkU3RyaW5nO1xuXHRleHBvcnRzLmtlYm9iU3RyaW5nID0gZnVuY3Rpb24gKGNhbWVsQ2FzZSkgeyByZXR1cm4gY2FtZWxDYXNlLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24gKCQxKSB7IHJldHVybiBcIi1cIiArICQxLnRvTG93ZXJDYXNlKCk7IH0pOyB9O1xuXHRmdW5jdGlvbiBfdG9Kc29uKG9iaikge1xuXHQgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG5cdH1cblx0ZnVuY3Rpb24gX2Zyb21Kc29uKGpzb24pIHtcblx0ICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNTdHJpbmcoanNvbikgPyBKU09OLnBhcnNlKGpzb24pIDoganNvbjtcblx0fVxuXHRmdW5jdGlvbiBwcm9taXNlVG9TdHJpbmcocCkge1xuXHQgICAgaWYgKGhvZl8xLmlzKHJlamVjdEZhY3RvcnlfMS5UcmFuc2l0aW9uUmVqZWN0aW9uKShwLnJlYXNvbikpXG5cdCAgICAgICAgcmV0dXJuIHAucmVhc29uLnRvU3RyaW5nKCk7XG5cdCAgICByZXR1cm4gXCJQcm9taXNlKFwiICsgSlNPTi5zdHJpbmdpZnkocCkgKyBcIilcIjtcblx0fVxuXHRmdW5jdGlvbiBmdW5jdGlvblRvU3RyaW5nKGZuKSB7XG5cdCAgICB2YXIgZm5TdHIgPSBmblRvU3RyaW5nKGZuKTtcblx0ICAgIHZhciBuYW1lZEZ1bmN0aW9uTWF0Y2ggPSBmblN0ci5tYXRjaCgvXihmdW5jdGlvbiBbXiBdK1xcKFteKV0qXFwpKS8pO1xuXHQgICAgcmV0dXJuIG5hbWVkRnVuY3Rpb25NYXRjaCA/IG5hbWVkRnVuY3Rpb25NYXRjaFsxXSA6IGZuU3RyO1xuXHR9XG5cdGV4cG9ydHMuZnVuY3Rpb25Ub1N0cmluZyA9IGZ1bmN0aW9uVG9TdHJpbmc7XG5cdGZ1bmN0aW9uIGZuVG9TdHJpbmcoZm4pIHtcblx0ICAgIHZhciBfZm4gPSBwcmVkaWNhdGVzXzEuaXNBcnJheShmbikgPyBmbi5zbGljZSgtMSlbMF0gOiBmbjtcblx0ICAgIHJldHVybiBfZm4gJiYgX2ZuLnRvU3RyaW5nKCkgfHwgXCJ1bmRlZmluZWRcIjtcblx0fVxuXHRleHBvcnRzLmZuVG9TdHJpbmcgPSBmblRvU3RyaW5nO1xuXHR2YXIgc3RyaW5naWZ5UGF0dGVybiA9IGhvZl8xLnBhdHRlcm4oW1xuXHQgICAgW2hvZl8xLm5vdChwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKSwgaG9mXzEudmFsKFwidW5kZWZpbmVkXCIpXSxcblx0ICAgIFtwcmVkaWNhdGVzXzEuaXNOdWxsLCBob2ZfMS52YWwoXCJudWxsXCIpXSxcblx0ICAgIFtwcmVkaWNhdGVzXzEuaXNQcm9taXNlLCBwcm9taXNlVG9TdHJpbmddLFxuXHQgICAgW2hvZl8xLmlzKHRyYW5zaXRpb25fMS5UcmFuc2l0aW9uKSwgaG9mXzEuaW52b2tlKFwidG9TdHJpbmdcIildLFxuXHQgICAgW2hvZl8xLmlzKHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKSwgaG9mXzEuaW52b2tlKFwidG9TdHJpbmdcIildLFxuXHQgICAgW3ByZWRpY2F0ZXNfMS5pc0luamVjdGFibGUsIGZ1bmN0aW9uVG9TdHJpbmddLFxuXHQgICAgW2hvZl8xLnZhbCh0cnVlKSwgY29tbW9uXzEuaWRlbnRpdHldXG5cdF0pO1xuXHRmdW5jdGlvbiBzdHJpbmdpZnkobykge1xuXHQgICAgdmFyIHNlZW4gPSBbXTtcblx0ICAgIGZ1bmN0aW9uIGZvcm1hdCh2YWwpIHtcblx0ICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzT2JqZWN0KHZhbCkpIHtcblx0ICAgICAgICAgICAgaWYgKHNlZW4uaW5kZXhPZih2YWwpICE9PSAtMSlcblx0ICAgICAgICAgICAgICAgIHJldHVybiAnW2NpcmN1bGFyIHJlZl0nO1xuXHQgICAgICAgICAgICBzZWVuLnB1c2godmFsKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVBhdHRlcm4odmFsKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHsgcmV0dXJuIGZvcm1hdCh2YWwpOyB9KS5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJyk7XG5cdH1cblx0ZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG5cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiogQG1vZHVsZSB0cmFuc2l0aW9uICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIGNvcmVzZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIHN0cmluZ3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdChmdW5jdGlvbiAoUmVqZWN0VHlwZSkge1xuXHQgICAgUmVqZWN0VHlwZVtSZWplY3RUeXBlW1wiU1VQRVJTRURFRFwiXSA9IDJdID0gXCJTVVBFUlNFREVEXCI7XG5cdCAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJBQk9SVEVEXCJdID0gM10gPSBcIkFCT1JURURcIjtcblx0ICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIklOVkFMSURcIl0gPSA0XSA9IFwiSU5WQUxJRFwiO1xuXHQgICAgUmVqZWN0VHlwZVtSZWplY3RUeXBlW1wiSUdOT1JFRFwiXSA9IDVdID0gXCJJR05PUkVEXCI7XG5cdH0pKGV4cG9ydHMuUmVqZWN0VHlwZSB8fCAoZXhwb3J0cy5SZWplY3RUeXBlID0ge30pKTtcblx0dmFyIFJlamVjdFR5cGUgPSBleHBvcnRzLlJlamVjdFR5cGU7XG5cdHZhciBUcmFuc2l0aW9uUmVqZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFRyYW5zaXRpb25SZWplY3Rpb24odHlwZSwgbWVzc2FnZSwgZGV0YWlsKSB7XG5cdCAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIHtcblx0ICAgICAgICAgICAgdHlwZTogdHlwZSxcblx0ICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcblx0ICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWxcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIFRyYW5zaXRpb25SZWplY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBkZXRhaWxTdHJpbmcgPSBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZCAmJiBkLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID8gZC50b1N0cmluZygpIDogc3RyaW5nc18xLnN0cmluZ2lmeShkKTsgfTtcblx0ICAgICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZSwgbWVzc2FnZSA9IHRoaXMubWVzc2FnZSwgZGV0YWlsID0gZGV0YWlsU3RyaW5nKHRoaXMuZGV0YWlsKTtcblx0ICAgICAgICByZXR1cm4gXCJUcmFuc2l0aW9uUmVqZWN0aW9uKHR5cGU6IFwiICsgdHlwZSArIFwiLCBtZXNzYWdlOiBcIiArIG1lc3NhZ2UgKyBcIiwgZGV0YWlsOiBcIiArIGRldGFpbCArIFwiKVwiO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBUcmFuc2l0aW9uUmVqZWN0aW9uO1xuXHR9KCkpO1xuXHRleHBvcnRzLlRyYW5zaXRpb25SZWplY3Rpb24gPSBUcmFuc2l0aW9uUmVqZWN0aW9uO1xuXHR2YXIgUmVqZWN0RmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBSZWplY3RGYWN0b3J5KCkge1xuXHQgICAgfVxuXHQgICAgUmVqZWN0RmFjdG9yeS5wcm90b3R5cGUuc3VwZXJzZWRlZCA9IGZ1bmN0aW9uIChkZXRhaWwsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gc3VwZXJzZWRlZCBieSBhIGRpZmZlcmVudCB0cmFuc2l0aW9uIChzZWUgZGV0YWlsKS5cIjtcblx0ICAgICAgICB2YXIgcmVhc29uID0gbmV3IFRyYW5zaXRpb25SZWplY3Rpb24oUmVqZWN0VHlwZS5TVVBFUlNFREVELCBtZXNzYWdlLCBkZXRhaWwpO1xuXHQgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVkaXJlY3RlZCkge1xuXHQgICAgICAgICAgICByZWFzb24ucmVkaXJlY3RlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KHJlYXNvbiksIHsgcmVhc29uOiByZWFzb24gfSk7XG5cdCAgICB9O1xuXHQgICAgUmVqZWN0RmFjdG9yeS5wcm90b3R5cGUucmVkaXJlY3RlZCA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5zdXBlcnNlZGVkKGRldGFpbCwgeyByZWRpcmVjdGVkOiB0cnVlIH0pO1xuXHQgICAgfTtcblx0ICAgIFJlamVjdEZhY3RvcnkucHJvdG90eXBlLmludmFsaWQgPSBmdW5jdGlvbiAoZGV0YWlsKSB7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIlRoaXMgdHJhbnNpdGlvbiBpcyBpbnZhbGlkIChzZWUgZGV0YWlsKVwiO1xuXHQgICAgICAgIHZhciByZWFzb24gPSBuZXcgVHJhbnNpdGlvblJlamVjdGlvbihSZWplY3RUeXBlLklOVkFMSUQsIG1lc3NhZ2UsIGRldGFpbCk7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5yZWplY3QocmVhc29uKSwgeyByZWFzb246IHJlYXNvbiB9KTtcblx0ICAgIH07XG5cdCAgICBSZWplY3RGYWN0b3J5LnByb3RvdHlwZS5pZ25vcmVkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuXHQgICAgICAgIHZhciBtZXNzYWdlID0gXCJUaGUgdHJhbnNpdGlvbiB3YXMgaWdub3JlZC5cIjtcblx0ICAgICAgICB2YXIgcmVhc29uID0gbmV3IFRyYW5zaXRpb25SZWplY3Rpb24oUmVqZWN0VHlwZS5JR05PUkVELCBtZXNzYWdlLCBkZXRhaWwpO1xuXHQgICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KHJlYXNvbiksIHsgcmVhc29uOiByZWFzb24gfSk7XG5cdCAgICB9O1xuXHQgICAgUmVqZWN0RmFjdG9yeS5wcm90b3R5cGUuYWJvcnRlZCA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcblx0ICAgICAgICAvLyBUT0RPIHRoaW5rIGFib3V0IGhvdyB0byBlbmNhcHN1bGF0ZSBhbiBFcnJvcigpIG9iamVjdFxuXHQgICAgICAgIHZhciBtZXNzYWdlID0gXCJUaGUgdHJhbnNpdGlvbiBoYXMgYmVlbiBhYm9ydGVkLlwiO1xuXHQgICAgICAgIHZhciByZWFzb24gPSBuZXcgVHJhbnNpdGlvblJlamVjdGlvbihSZWplY3RUeXBlLkFCT1JURUQsIG1lc3NhZ2UsIGRldGFpbCk7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5yZWplY3QocmVhc29uKSwgeyByZWFzb246IHJlYXNvbiB9KTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gUmVqZWN0RmFjdG9yeTtcblx0fSgpKTtcblx0ZXhwb3J0cy5SZWplY3RGYWN0b3J5ID0gUmVqZWN0RmFjdG9yeTtcblxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSB0cmFuc2l0aW9uICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgdHJhY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIGhvZl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0dmFyIG1vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdHZhciBub2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0dmFyIHBhdGhGYWN0b3J5XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0dmFyIG1vZHVsZV8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdHZhciBtb2R1bGVfMyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHR2YXIgbW9kdWxlXzQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0dmFyIHRyYW5zaXRpb25Db3VudCA9IDAsIFJFSkVDVCA9IG5ldyBtb2R1bGVfMS5SZWplY3RGYWN0b3J5KCk7XG5cdHZhciBzdGF0ZVNlbGYgPSBob2ZfMS5wcm9wKFwic2VsZlwiKTtcblx0LyoqXG5cdCAqIFRoZSByZXByZXNlbnRhdGlvbiBvZiBhIHRyYW5zaXRpb24gYmV0d2VlbiB0d28gc3RhdGVzLlxuXHQgKlxuXHQgKiBDb250YWlucyBhbGwgY29udGV4dHVhbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdG8vZnJvbSBzdGF0ZXMsIHBhcmFtZXRlcnMsIHJlc29sdmVzLCBhcyB3ZWxsIGFzIHRoZVxuXHQgKiBsaXN0IG9mIHN0YXRlcyBiZWluZyBlbnRlcmVkIGFuZCBleGl0ZWQgYXMgYSByZXN1bHQgb2YgdGhpcyB0cmFuc2l0aW9uLlxuXHQgKi9cblx0dmFyIFRyYW5zaXRpb24gPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgbmV3IFRyYW5zaXRpb24gb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIElmIHRoZSB0YXJnZXQgc3RhdGUgaXMgbm90IHZhbGlkLCBhbiBlcnJvciBpcyB0aHJvd24uXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIGZyb21QYXRoIFRoZSBwYXRoIG9mIFtbTm9kZV1dcyBmcm9tIHdoaWNoIHRoZSB0cmFuc2l0aW9uIGlzIGxlYXZpbmcuICBUaGUgbGFzdCBub2RlIGluIHRoZSBgZnJvbVBhdGhgXG5cdCAgICAgKiAgICAgICAgZW5jYXBzdWxhdGVzIHRoZSBcImZyb20gc3RhdGVcIi5cblx0ICAgICAqIEBwYXJhbSB0YXJnZXRTdGF0ZSBUaGUgdGFyZ2V0IHN0YXRlIGFuZCBwYXJhbWV0ZXJzIGJlaW5nIHRyYW5zaXRpb25lZCB0byAoYWxzbywgdGhlIHRyYW5zaXRpb24gb3B0aW9ucylcblx0ICAgICAqIEBwYXJhbSBfdHJhbnNpdGlvblNlcnZpY2UgVGhlIFRyYW5zaXRpb24gU2VydmljZSBpbnN0YW5jZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBUcmFuc2l0aW9uKGZyb21QYXRoLCB0YXJnZXRTdGF0ZSwgX3RyYW5zaXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB0aGlzLl90cmFuc2l0aW9uU2VydmljZSA9IF90cmFuc2l0aW9uU2VydmljZTtcblx0ICAgICAgICB0aGlzLl9kZWZlcnJlZCA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLmRlZmVyKCk7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogVGhpcyBwcm9taXNlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkIGJhc2VkIG9uIHRoZSBvdXRjb21lIG9mIHRoZSBUcmFuc2l0aW9uLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogV2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBzdWNjZXNzZnVsLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZFxuXHQgICAgICAgICAqIFdoZW4gdGhlIHRyYW5zaXRpb24gaXMgdW5zdWNjZXNzZnVsLCB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoZSBbW1RyYW5zaXRpb25SZWplY3Rpb25dXSBvciBqYXZhc2NyaXB0IGVycm9yXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5fZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgICAgICB0aGlzLnRyZWVDaGFuZ2VzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3RyZWVDaGFuZ2VzOyB9O1xuXHQgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcyA9PT0gX3RoaXMuX29wdGlvbnMuY3VycmVudCgpOyB9O1xuXHQgICAgICAgIGlmICghdGFyZ2V0U3RhdGUudmFsaWQoKSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGFyZ2V0U3RhdGUuZXJyb3IoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIE1ha2VzIHRoZSBUcmFuc2l0aW9uIGluc3RhbmNlIGEgaG9vayByZWdpc3RyeSAob25TdGFydCwgZXRjKVxuXHQgICAgICAgIG1vZHVsZV8xLkhvb2tSZWdpc3RyeS5taXhpbihuZXcgbW9kdWxlXzEuSG9va1JlZ2lzdHJ5KCksIHRoaXMpO1xuXHQgICAgICAgIC8vIGN1cnJlbnQoKSBpcyBhc3N1bWVkIHRvIGNvbWUgZnJvbSB0YXJnZXRTdGF0ZS5vcHRpb25zLCBidXQgcHJvdmlkZSBhIG5haXZlIGltcGxlbWVudGF0aW9uIG90aGVyd2lzZS5cblx0ICAgICAgICB0aGlzLl9vcHRpb25zID0gY29tbW9uXzEuZXh0ZW5kKHsgY3VycmVudDogaG9mXzEudmFsKHRoaXMpIH0sIHRhcmdldFN0YXRlLm9wdGlvbnMoKSk7XG5cdCAgICAgICAgdGhpcy4kaWQgPSB0cmFuc2l0aW9uQ291bnQrKztcblx0ICAgICAgICB2YXIgdG9QYXRoID0gcGF0aEZhY3RvcnlfMS5QYXRoRmFjdG9yeS5idWlsZFRvUGF0aChmcm9tUGF0aCwgdGFyZ2V0U3RhdGUpO1xuXHQgICAgICAgIHRvUGF0aCA9IHBhdGhGYWN0b3J5XzEuUGF0aEZhY3RvcnkuYXBwbHlWaWV3Q29uZmlncyhfdHJhbnNpdGlvblNlcnZpY2UuJHZpZXcsIHRvUGF0aCk7XG5cdCAgICAgICAgdGhpcy5fdHJlZUNoYW5nZXMgPSBwYXRoRmFjdG9yeV8xLlBhdGhGYWN0b3J5LnRyZWVDaGFuZ2VzKGZyb21QYXRoLCB0b1BhdGgsIHRoaXMuX29wdGlvbnMucmVsb2FkU3RhdGUpO1xuXHQgICAgICAgIHBhdGhGYWN0b3J5XzEuUGF0aEZhY3RvcnkuYmluZFRyYW5zaXRpb25SZXNvbHZlKHRoaXMuX3RyZWVDaGFuZ2VzLCB0aGlzKTtcblx0ICAgIH1cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLiRmcm9tID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBjb21tb25fMS50YWlsKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20pLnN0YXRlO1xuXHQgICAgfTtcblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLiR0byA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gY29tbW9uXzEudGFpbCh0aGlzLl90cmVlQ2hhbmdlcy50bykuc3RhdGU7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm5zIHRoZSBcImZyb20gc3RhdGVcIlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIFRoZSBzdGF0ZSBvYmplY3QgZm9yIHRoZSBUcmFuc2l0aW9uJ3MgXCJmcm9tIHN0YXRlXCIuXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmZyb20gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuJGZyb20oKS5zZWxmO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJucyB0aGUgXCJ0byBzdGF0ZVwiXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMgVGhlIHN0YXRlIG9iamVjdCBmb3IgdGhlIFRyYW5zaXRpb24ncyB0YXJnZXQgc3RhdGUgKFwidG8gc3RhdGVcIikuXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLiR0bygpLnNlbGY7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdHdvIHRyYW5zaXRpb25zIGFyZSBlcXVpdmFsZW50LlxuXHQgICAgICovXG5cdCAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uIChjb21wYXJlKSB7XG5cdCAgICAgICAgaWYgKGNvbXBhcmUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7XG5cdCAgICAgICAgICAgIC8vIFRPRE86IEFsc28gY29tcGFyZSBwYXJhbWV0ZXJzXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmlzKHsgdG86IGNvbXBhcmUuJHRvKCkubmFtZSwgZnJvbTogY29tcGFyZS4kZnJvbSgpLm5hbWUgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAhKChjb21wYXJlLnRvICYmICFtb2R1bGVfMS5tYXRjaFN0YXRlKHRoaXMuJHRvKCksIGNvbXBhcmUudG8pKSB8fFxuXHQgICAgICAgICAgICAoY29tcGFyZS5mcm9tICYmICFtb2R1bGVfMS5tYXRjaFN0YXRlKHRoaXMuJGZyb20oKSwgY29tcGFyZS5mcm9tKSkpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0cmFuc2l0aW9uIHBhcmFtZXRlciB2YWx1ZXNcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gcGF0aG5hbWUgUGljayB3aGljaCB0cmVlQ2hhbmdlcyBwYXRoIHRvIGdldCBwYXJhbWV0ZXJzIGZvcjpcblx0ICAgICAqICAgKGAndG8nYCwgYCdmcm9tJ2AsIGAnZW50ZXJpbmcnYCwgYCdleGl0aW5nJ2AsIGAncmV0YWluZWQnYClcblx0ICAgICAqIEByZXR1cm5zIHRyYW5zaXRpb24gcGFyYW1ldGVyIHZhbHVlcyBmb3IgdGhlIGRlc2lyZWQgcGF0aC5cblx0ICAgICAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucGFyYW1zID0gZnVuY3Rpb24gKHBhdGhuYW1lKSB7XG5cdCAgICAgICAgaWYgKHBhdGhuYW1lID09PSB2b2lkIDApIHsgcGF0aG5hbWUgPSBcInRvXCI7IH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fdHJlZUNoYW5nZXNbcGF0aG5hbWVdLm1hcChob2ZfMS5wcm9wKFwicGFyYW1WYWx1ZXNcIikpLnJlZHVjZShjb21tb25fMS5tZXJnZVIsIHt9KTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEdldCByZXNvbHZlZCBkYXRhXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMgYW4gb2JqZWN0IChrZXkvdmFsdWUgcGFpcnMpIHdoZXJlIGtleXMgYXJlIHJlc29sdmUgbmFtZXMgYW5kIHZhbHVlcyBhcmUgYW55IHNldHRsZWQgcmVzb2x2ZSBkYXRhLFxuXHQgICAgICogICAgb3IgYHVuZGVmaW5lZGAgZm9yIHBlbmRpbmcgcmVzb2x2ZSBkYXRhXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnJlc29sdmVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBjb21tb25fMS5tYXAoY29tbW9uXzEudGFpbCh0aGlzLl90cmVlQ2hhbmdlcy50bykucmVzb2x2ZUNvbnRleHQuZ2V0UmVzb2x2YWJsZXMoKSwgZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLmRhdGE7IH0pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQWRkcyBuZXcgcmVzb2x2ZXMgdG8gdGhpcyB0cmFuc2l0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSByZXNvbHZlcyBhbiBbW1Jlc29sdmVEZWNsYXJhdGlvbnNdXSBvYmplY3Qgd2hpY2ggZGVzY3JpYmVzIHRoZSBuZXcgcmVzb2x2ZXNcblx0ICAgICAqIEBwYXJhbSBzdGF0ZSB0aGUgc3RhdGUgaW4gdGhlIFwidG8gcGF0aFwiIHdoaWNoIHNob3VsZCByZWNlaXZlIHRoZSBuZXcgcmVzb2x2ZXMgKG90aGVyd2lzZSwgdGhlIHJvb3Qgc3RhdGUpXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmFkZFJlc29sdmVzID0gZnVuY3Rpb24gKHJlc29sdmVzLCBzdGF0ZSkge1xuXHQgICAgICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7IHN0YXRlID0gXCJcIjsgfVxuXHQgICAgICAgIHZhciBzdGF0ZU5hbWUgPSAodHlwZW9mIHN0YXRlID09PSBcInN0cmluZ1wiKSA/IHN0YXRlIDogc3RhdGUubmFtZTtcblx0ICAgICAgICB2YXIgdG9wYXRoID0gdGhpcy5fdHJlZUNoYW5nZXMudG87XG5cdCAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBjb21tb25fMS5maW5kKHRvcGF0aCwgZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuc3RhdGUubmFtZSA9PT0gc3RhdGVOYW1lOyB9KTtcblx0ICAgICAgICBjb21tb25fMS50YWlsKHRvcGF0aCkucmVzb2x2ZUNvbnRleHQuYWRkUmVzb2x2YWJsZXMobW9kdWxlXzQuUmVzb2x2YWJsZS5tYWtlUmVzb2x2YWJsZXMocmVzb2x2ZXMpLCB0YXJnZXROb2RlLnN0YXRlKTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIHByZXZpb3VzIHRyYW5zaXRpb24sIGZyb20gd2hpY2ggdGhpcyB0cmFuc2l0aW9uIHdhcyByZWRpcmVjdGVkLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIFRoZSBwcmV2aW91cyBUcmFuc2l0aW9uLCBvciBudWxsIGlmIHRoaXMgVHJhbnNpdGlvbiBpcyBub3QgdGhlIHJlc3VsdCBvZiBhIHJlZGlyZWN0aW9uXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLnByZXZpb3VzIHx8IG51bGw7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBHZXQgdGhlIHRyYW5zaXRpb24gb3B0aW9uc1xuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHRoZSBvcHRpb25zIGZvciB0aGlzIFRyYW5zaXRpb24uXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBzdGF0ZXMgYmVpbmcgZW50ZXJlZC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZXMgdGhhdCB3aWxsIGJlIGVudGVyZWQgZHVyaW5nIHRoaXMgdHJhbnNpdGlvbi5cblx0ICAgICAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZW50ZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcCh0aGlzLl90cmVlQ2hhbmdlcy5lbnRlcmluZywgaG9mXzEucHJvcCgnc3RhdGUnKSkubWFwKHN0YXRlU2VsZik7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBzdGF0ZXMgYmVpbmcgZXhpdGVkLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIGFuIGFycmF5IG9mIHN0YXRlcyB0aGF0IHdpbGwgYmUgZXhpdGVkIGR1cmluZyB0aGlzIHRyYW5zaXRpb24uXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmV4aXRpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcCh0aGlzLl90cmVlQ2hhbmdlcy5leGl0aW5nLCBob2ZfMS5wcm9wKCdzdGF0ZScpKS5tYXAoc3RhdGVTZWxmKS5yZXZlcnNlKCk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBzdGF0ZXMgYmVpbmcgcmV0YWluZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGVzIHRoYXQgYXJlIGFscmVhZHkgZW50ZXJlZCBmcm9tIGEgcHJldmlvdXMgVHJhbnNpdGlvbiwgdGhhdCB3aWxsIG5vdCBiZVxuXHQgICAgICogICAgZXhpdGVkIGR1cmluZyB0aGlzIFRyYW5zaXRpb25cblx0ICAgICAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucmV0YWluZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcCh0aGlzLl90cmVlQ2hhbmdlcy5yZXRhaW5lZCwgaG9mXzEucHJvcCgnc3RhdGUnKSkubWFwKHN0YXRlU2VsZik7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBHZXQgdGhlIFtbVmlld0NvbmZpZ11dcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBUcmFuc2l0aW9uXG5cdCAgICAgKlxuXHQgICAgICogRWFjaCBzdGF0ZSBjYW4gZGVmaW5lIG9uZSBvciBtb3JlIHZpZXdzICh0ZW1wbGF0ZS9jb250cm9sbGVyKSwgd2hpY2ggYXJlIGVuY2Fwc3VsYXRlZCBhcyBgVmlld0NvbmZpZ2Agb2JqZWN0cy5cblx0ICAgICAqIFRoaXMgbWV0aG9kIGZldGNoZXMgdGhlIGBWaWV3Q29uZmlnc2AgZm9yIGEgZ2l2ZW4gcGF0aCBpbiB0aGUgVHJhbnNpdGlvbiAoZS5nLiwgXCJ0b1wiIG9yIFwiZW50ZXJpbmdcIikuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHBhdGhuYW1lIHRoZSBuYW1lIG9mIHRoZSBwYXRoIHRvIGZldGNoIHZpZXdzIGZvcjpcblx0ICAgICAqICAgKGAndG8nYCwgYCdmcm9tJ2AsIGAnZW50ZXJpbmcnYCwgYCdleGl0aW5nJ2AsIGAncmV0YWluZWQnYClcblx0ICAgICAqIEBwYXJhbSBzdGF0ZSBJZiBwcm92aWRlZCwgb25seSByZXR1cm5zIHRoZSBgVmlld0NvbmZpZ2BzIGZvciBhIHNpbmdsZSBzdGF0ZSBpbiB0aGUgcGF0aFxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIGEgbGlzdCBvZiBWaWV3Q29uZmlnIG9iamVjdHMgZm9yIHRoZSBnaXZlbiBwYXRoLlxuXHQgICAgICovXG5cdCAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS52aWV3cyA9IGZ1bmN0aW9uIChwYXRobmFtZSwgc3RhdGUpIHtcblx0ICAgICAgICBpZiAocGF0aG5hbWUgPT09IHZvaWQgMCkgeyBwYXRobmFtZSA9IFwiZW50ZXJpbmdcIjsgfVxuXHQgICAgICAgIHZhciBwYXRoID0gdGhpcy5fdHJlZUNoYW5nZXNbcGF0aG5hbWVdO1xuXHQgICAgICAgIHBhdGggPSAhc3RhdGUgPyBwYXRoIDogcGF0aC5maWx0ZXIoaG9mXzEucHJvcEVxKCdzdGF0ZScsIHN0YXRlKSk7XG5cdCAgICAgICAgcmV0dXJuIHBhdGgubWFwKGhvZl8xLnByb3AoXCJ2aWV3c1wiKSkuZmlsdGVyKGNvbW1vbl8xLmlkZW50aXR5KS5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUudHlwZTpUcmFuc2l0aW9uI3JlZGlyZWN0XG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLnR5cGU6VHJhbnNpdGlvblxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogQ3JlYXRlcyBhIG5ldyB0cmFuc2l0aW9uIHRoYXQgaXMgYSByZWRpcmVjdGlvbiBvZiB0aGUgY3VycmVudCBvbmUuIFRoaXMgdHJhbnNpdGlvbiBjYW5cblx0ICAgICAqIGJlIHJldHVybmVkIGZyb20gYSBgJHRyYW5zaXRpb25zUHJvdmlkZXJgIGhvb2ssIGAkc3RhdGVgIGV2ZW50LCBvciBvdGhlciBtZXRob2QsIHRvXG5cdCAgICAgKiByZWRpcmVjdCBhIHRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUgYW5kL29yIHNldCBvZiBwYXJhbWV0ZXJzLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtUcmFuc2l0aW9ufSBSZXR1cm5zIGEgbmV3IGBUcmFuc2l0aW9uYCBpbnN0YW5jZS5cblx0ICAgICAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucmVkaXJlY3QgPSBmdW5jdGlvbiAodGFyZ2V0U3RhdGUpIHtcblx0ICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IGNvbW1vbl8xLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zKCksIHRhcmdldFN0YXRlLm9wdGlvbnMoKSwgeyBwcmV2aW91czogdGhpcyB9KTtcblx0ICAgICAgICB0YXJnZXRTdGF0ZSA9IG5ldyBtb2R1bGVfMi5UYXJnZXRTdGF0ZSh0YXJnZXRTdGF0ZS5pZGVudGlmaWVyKCksIHRhcmdldFN0YXRlLiRzdGF0ZSgpLCB0YXJnZXRTdGF0ZS5wYXJhbXMoKSwgbmV3T3B0aW9ucyk7XG5cdCAgICAgICAgdmFyIHJlZGlyZWN0VG8gPSBuZXcgVHJhbnNpdGlvbih0aGlzLl90cmVlQ2hhbmdlcy5mcm9tLCB0YXJnZXRTdGF0ZSwgdGhpcy5fdHJhbnNpdGlvblNlcnZpY2UpO1xuXHQgICAgICAgIHZhciByZWxvYWRTdGF0ZSA9IHRhcmdldFN0YXRlLm9wdGlvbnMoKS5yZWxvYWRTdGF0ZTtcblx0ICAgICAgICAvLyBJZiB0aGUgY3VycmVudCB0cmFuc2l0aW9uIGhhcyBhbHJlYWR5IHJlc29sdmVkIGFueSByZXNvbHZhYmxlcyB3aGljaCBhcmUgYWxzbyBpbiB0aGUgcmVkaXJlY3RlZCBcInRvIHBhdGhcIiwgdGhlblxuXHQgICAgICAgIC8vIGFkZCB0aG9zZSByZXNvbHZhYmxlcyB0byB0aGUgcmVkaXJlY3RlZCB0cmFuc2l0aW9uLiAgQWxsb3dzIHlvdSB0byBkZWZpbmUgYSByZXNvbHZlIGF0IGEgcGFyZW50IGxldmVsLCB3YWl0IGZvclxuXHQgICAgICAgIC8vIHRoZSByZXNvbHZlLCB0aGVuIHJlZGlyZWN0IHRvIGEgY2hpbGQgc3RhdGUgYmFzZWQgb24gdGhlIHJlc3VsdCwgYW5kIG5vdCBoYXZlIHRvIHJlLWZldGNoIHRoZSByZXNvbHZlLlxuXHQgICAgICAgIHZhciByZWRpcmVjdGVkUGF0aCA9IHRoaXMudHJlZUNoYW5nZXMoKS50bztcblx0ICAgICAgICB2YXIgY29weVJlc29sdmVzRm9yID0gbm9kZV8xLk5vZGUubWF0Y2hpbmcocmVkaXJlY3RUby50cmVlQ2hhbmdlcygpLnRvLCByZWRpcmVjdGVkUGF0aClcblx0ICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gIXJlbG9hZFN0YXRlIHx8ICFyZWxvYWRTdGF0ZS5pbmNsdWRlc1tub2RlLnN0YXRlLm5hbWVdOyB9KTtcblx0ICAgICAgICB2YXIgaW5jbHVkZVJlc29sdmUgPSBmdW5jdGlvbiAocmVzb2x2ZSwga2V5KSB7IHJldHVybiBbJyRzdGF0ZVBhcmFtcycsICckdHJhbnNpdGlvbiQnXS5pbmRleE9mKGtleSkgPT09IC0xOyB9O1xuXHQgICAgICAgIGNvcHlSZXNvbHZlc0Zvci5mb3JFYWNoKGZ1bmN0aW9uIChub2RlLCBpZHgpIHsgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChub2RlLnJlc29sdmVzLCBjb21tb25fMS5maWx0ZXIocmVkaXJlY3RlZFBhdGhbaWR4XS5yZXNvbHZlcywgaW5jbHVkZVJlc29sdmUpKTsgfSk7XG5cdCAgICAgICAgcmV0dXJuIHJlZGlyZWN0VG87XG5cdCAgICB9O1xuXHQgICAgLyoqIEBoaWRkZW4gSWYgYSB0cmFuc2l0aW9uIGRvZXNuJ3QgZXhpdC9lbnRlciBhbnkgc3RhdGVzLCByZXR1cm5zIGFueSBbW1BhcmFtXV0gd2hvc2UgdmFsdWUgY2hhbmdlZCAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuX2NoYW5nZWRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcy5fdHJlZUNoYW5nZXMsIHRvID0gX2EudG8sIGZyb20gPSBfYS5mcm9tO1xuXHQgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnJlbG9hZCB8fCBjb21tb25fMS50YWlsKHRvKS5zdGF0ZSAhPT0gY29tbW9uXzEudGFpbChmcm9tKS5zdGF0ZSlcblx0ICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgICAgICB2YXIgbm9kZVNjaGVtYXMgPSB0by5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUucGFyYW1TY2hlbWE7IH0pO1xuXHQgICAgICAgIHZhciBfYiA9IFt0bywgZnJvbV0ubWFwKGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5wYXJhbVZhbHVlczsgfSk7IH0pLCB0b1ZhbHVlcyA9IF9iWzBdLCBmcm9tVmFsdWVzID0gX2JbMV07XG5cdCAgICAgICAgdmFyIHR1cGxlcyA9IGNvbW1vbl8xLmFycmF5VHVwbGVzKG5vZGVTY2hlbWFzLCB0b1ZhbHVlcywgZnJvbVZhbHVlcyk7XG5cdCAgICAgICAgcmV0dXJuIHR1cGxlcy5tYXAoZnVuY3Rpb24gKF9hKSB7XG5cdCAgICAgICAgICAgIHZhciBzY2hlbWEgPSBfYVswXSwgdG9WYWxzID0gX2FbMV0sIGZyb21WYWxzID0gX2FbMl07XG5cdCAgICAgICAgICAgIHJldHVybiBtb2R1bGVfMy5QYXJhbS5jaGFuZ2VkKHNjaGVtYSwgdG9WYWxzLCBmcm9tVmFscyk7XG5cdCAgICAgICAgfSkucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHJhbnNpdGlvbiBpcyBkeW5hbWljLlxuXHQgICAgICpcblx0ICAgICAqIEEgdHJhbnNpdGlvbiBpcyBkeW5hbWljIGlmIG5vIHN0YXRlcyBhcmUgZW50ZXJlZCBub3IgZXhpdGVkLCBidXQgYXQgbGVhc3Qgb25lIGR5bmFtaWMgcGFyYW1ldGVyIGhhcyBjaGFuZ2VkLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgZHluYW1pY1xuXHQgICAgICovXG5cdCAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5keW5hbWljID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBjaGFuZ2VzID0gdGhpcy5fY2hhbmdlZFBhcmFtcygpO1xuXHQgICAgICAgIHJldHVybiAhY2hhbmdlcyA/IGZhbHNlIDogY2hhbmdlcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZHluYW1pYzsgfSkucmVkdWNlKGNvbW1vbl8xLmFueVRydWVSLCBmYWxzZSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRyYW5zaXRpb24gaXMgaWdub3JlZC5cblx0ICAgICAqXG5cdCAgICAgKiBBIHRyYW5zaXRpb24gaXMgaWdub3JlZCBpZiBubyBzdGF0ZXMgYXJlIGVudGVyZWQgbm9yIGV4aXRlZCwgYW5kIG5vIHBhcmFtZXRlciB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgaWdub3JlZC5cblx0ICAgICAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuaWdub3JlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuX2NoYW5nZWRQYXJhbXMoKTtcblx0ICAgICAgICByZXR1cm4gIWNoYW5nZXMgPyBmYWxzZSA6IGNoYW5nZXMubGVuZ3RoID09PSAwO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQGhpZGRlblxuXHQgICAgICovXG5cdCAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5ob29rQnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IG1vZHVsZV8xLkhvb2tCdWlsZGVyKHRoaXMuX3RyYW5zaXRpb25TZXJ2aWNlLCB0aGlzLCB7XG5cdCAgICAgICAgICAgIHRyYW5zaXRpb246IHRoaXMsXG5cdCAgICAgICAgICAgIGN1cnJlbnQ6IHRoaXMuX29wdGlvbnMuY3VycmVudFxuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogUnVucyB0aGUgdHJhbnNpdGlvblxuXHQgICAgICpcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGdlbmVyYWxseSBjYWxsZWQgZnJvbSB0aGUgW1tTdGF0ZVNlcnZpY2UudHJhbnNpdGlvblRvXV1cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIGEgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uLlxuXHQgICAgICovXG5cdCAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB2YXIgaG9va0J1aWxkZXIgPSB0aGlzLmhvb2tCdWlsZGVyKCk7XG5cdCAgICAgICAgdmFyIHJ1blN5bmNocm9ub3VzSG9va3MgPSBtb2R1bGVfMS5UcmFuc2l0aW9uSG9vay5ydW5TeW5jaHJvbm91c0hvb2tzO1xuXHQgICAgICAgIC8vIFRPRE86IG51a2UgdGhlc2UgaW4gZmF2b3Igb2YgY2hhaW5pbmcgb2ZmIHRoZSBwcm9taXNlLCBpLmUuLFxuXHQgICAgICAgIC8vICR0cmFuc2l0aW9ucy5vbkJlZm9yZSh7fSwgJHRyYW5zaXRpb24kID0+IHskdHJhbnNpdGlvbiQucHJvbWlzZS50aGVuKCl9XG5cdCAgICAgICAgdmFyIHJ1blN1Y2Nlc3NIb29rcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ1blN5bmNocm9ub3VzSG9va3MoaG9va0J1aWxkZXIuZ2V0T25TdWNjZXNzSG9va3MoKSwge30sIHRydWUpOyB9O1xuXHQgICAgICAgIHZhciBydW5FcnJvckhvb2tzID0gZnVuY3Rpb24gKCRlcnJvciQpIHsgcmV0dXJuIHJ1blN5bmNocm9ub3VzSG9va3MoaG9va0J1aWxkZXIuZ2V0T25FcnJvckhvb2tzKCksIHsgJGVycm9yJDogJGVycm9yJCB9LCB0cnVlKTsgfTtcblx0ICAgICAgICAvLyBSdW4gdGhlIHN1Y2Nlc3MvZXJyb3IgaG9va3MgKmFmdGVyKiB0aGUgVHJhbnNpdGlvbiBwcm9taXNlIGlzIHNldHRsZWQuXG5cdCAgICAgICAgdGhpcy5wcm9taXNlLnRoZW4ocnVuU3VjY2Vzc0hvb2tzLCBydW5FcnJvckhvb2tzKTtcblx0ICAgICAgICB2YXIgc3luY1Jlc3VsdCA9IHJ1blN5bmNocm9ub3VzSG9va3MoaG9va0J1aWxkZXIuZ2V0T25CZWZvcmVIb29rcygpKTtcblx0ICAgICAgICBpZiAobW9kdWxlXzEuVHJhbnNpdGlvbkhvb2suaXNSZWplY3Rpb24oc3luY1Jlc3VsdCkpIHtcblx0ICAgICAgICAgICAgdmFyIHJlamVjdFJlYXNvbiA9IHN5bmNSZXN1bHQucmVhc29uO1xuXHQgICAgICAgICAgICB0aGlzLl9kZWZlcnJlZC5yZWplY3QocmVqZWN0UmVhc29uKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLnZhbGlkKCkpIHtcblx0ICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKHRoaXMuZXJyb3IoKSk7XG5cdCAgICAgICAgICAgIHRoaXMuX2RlZmVycmVkLnJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzLmlnbm9yZWQoKSkge1xuXHQgICAgICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVHJhbnNpdGlvbklnbm9yZWQodGhpcyk7XG5cdCAgICAgICAgICAgIHZhciBpZ25vcmVkID0gUkVKRUNULmlnbm9yZWQoKTtcblx0ICAgICAgICAgICAgdGhpcy5fZGVmZXJyZWQucmVqZWN0KGlnbm9yZWQucmVhc29uKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gV2hlbiB0aGUgY2hhaW4gaXMgY29tcGxldGUsIHRoZW4gcmVzb2x2ZSBvciByZWplY3QgdGhlIGRlZmVycmVkXG5cdCAgICAgICAgdmFyIHJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSB0cnVlO1xuXHQgICAgICAgICAgICBfdGhpcy5fZGVmZXJyZWQucmVzb2x2ZShfdGhpcyk7XG5cdCAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VTdWNjZXNzKF90aGlzLiR0bygpLCBfdGhpcyk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIgcmVqZWN0ID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcblx0ICAgICAgICAgICAgX3RoaXMuX2RlZmVycmVkLnJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VFcnJvcihlcnJvciwgX3RoaXMpO1xuXHQgICAgICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KGVycm9yKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VUcmFuc2l0aW9uU3RhcnQodGhpcyk7XG5cdCAgICAgICAgdmFyIGNoYWluID0gaG9va0J1aWxkZXIuYXN5bmNIb29rcygpLnJlZHVjZShmdW5jdGlvbiAoX2NoYWluLCBzdGVwKSB7IHJldHVybiBfY2hhaW4udGhlbihzdGVwLmludm9rZVN0ZXApOyB9LCBzeW5jUmVzdWx0KTtcblx0ICAgICAgICBjaGFpbi50aGVuKHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiB0aGUgVHJhbnNpdGlvbiBpcyB2YWxpZFxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgdmFsaWRcblx0ICAgICAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuICF0aGlzLmVycm9yKCk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgcmVhc29uIHRoZSBUcmFuc2l0aW9uIGlzIGludmFsaWRcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyBhbiBlcnJvciBtZXNzYWdlIGV4cGxhaW5pbmcgd2h5IHRoZSB0cmFuc2l0aW9uIGlzIGludmFsaWRcblx0ICAgICAqL1xuXHQgICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy4kdG8oKTtcblx0ICAgICAgICBpZiAoc3RhdGUuc2VsZltjb21tb25fMS5hYnN0cmFjdEtleV0pXG5cdCAgICAgICAgICAgIHJldHVybiBcIkNhbm5vdCB0cmFuc2l0aW9uIHRvIGFic3RyYWN0IHN0YXRlICdcIiArIHN0YXRlLm5hbWUgKyBcIidcIjtcblx0ICAgICAgICBpZiAoIW1vZHVsZV8zLlBhcmFtLnZhbGlkYXRlcyhzdGF0ZS5wYXJhbWV0ZXJzKCksIHRoaXMucGFyYW1zKCkpKVxuXHQgICAgICAgICAgICByZXR1cm4gXCJQYXJhbSB2YWx1ZXMgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIgKyBzdGF0ZS5uYW1lICsgXCInXCI7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgVHJhbnNpdGlvblxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBUcmFuc2l0aW9uXG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBmcm9tU3RhdGVPck5hbWUgPSB0aGlzLmZyb20oKTtcblx0ICAgICAgICB2YXIgdG9TdGF0ZU9yTmFtZSA9IHRoaXMudG8oKTtcblx0ICAgICAgICB2YXIgYXZvaWRFbXB0eUhhc2ggPSBmdW5jdGlvbiAocGFyYW1zKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAocGFyYW1zW1wiI1wiXSAhPT0gbnVsbCAmJiBwYXJhbXNbXCIjXCJdICE9PSB1bmRlZmluZWQpID8gcGFyYW1zIDogY29tbW9uXzEub21pdChwYXJhbXMsIFwiI1wiKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIChYKSBtZWFucyB0aGUgdG8gc3RhdGUgaXMgaW52YWxpZC5cblx0ICAgICAgICB2YXIgaWQgPSB0aGlzLiRpZCwgZnJvbSA9IHByZWRpY2F0ZXNfMS5pc09iamVjdChmcm9tU3RhdGVPck5hbWUpID8gZnJvbVN0YXRlT3JOYW1lLm5hbWUgOiBmcm9tU3RhdGVPck5hbWUsIGZyb21QYXJhbXMgPSBjb21tb25fMS50b0pzb24oYXZvaWRFbXB0eUhhc2godGhpcy5fdHJlZUNoYW5nZXMuZnJvbS5tYXAoaG9mXzEucHJvcCgncGFyYW1WYWx1ZXMnKSkucmVkdWNlKGNvbW1vbl8xLm1lcmdlUiwge30pKSksIHRvVmFsaWQgPSB0aGlzLnZhbGlkKCkgPyBcIlwiIDogXCIoWCkgXCIsIHRvID0gcHJlZGljYXRlc18xLmlzT2JqZWN0KHRvU3RhdGVPck5hbWUpID8gdG9TdGF0ZU9yTmFtZS5uYW1lIDogdG9TdGF0ZU9yTmFtZSwgdG9QYXJhbXMgPSBjb21tb25fMS50b0pzb24oYXZvaWRFbXB0eUhhc2godGhpcy5wYXJhbXMoKSkpO1xuXHQgICAgICAgIHJldHVybiBcIlRyYW5zaXRpb24jXCIgKyBpZCArIFwiKCAnXCIgKyBmcm9tICsgXCInXCIgKyBmcm9tUGFyYW1zICsgXCIgLT4gXCIgKyB0b1ZhbGlkICsgXCInXCIgKyB0byArIFwiJ1wiICsgdG9QYXJhbXMgKyBcIiApXCI7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFRyYW5zaXRpb247XG5cdH0oKSk7XG5cdGV4cG9ydHMuVHJhbnNpdGlvbiA9IFRyYW5zaXRpb247XG5cblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqXG5cdCAqIFVJLVJvdXRlciBUcmFuc2l0aW9uIFRyYWNpbmdcblx0ICpcblx0ICogRW5hYmxlIHRyYW5zaXRpb24gdHJhY2luZyB0byBwcmludCB0cmFuc2l0aW9uIGluZm9ybWF0aW9uIHRvIHRoZSBjb25zb2xlLCBpbiBvcmRlciB0byBoZWxwIGRlYnVnIHlvdXIgYXBwbGljYXRpb24uXG5cdCAqIFRyYWNpbmcgbG9ncyBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCBlYWNoIFRyYW5zaXRpb24gdG8geW91ciBjb25zb2xlLlxuXHQgKlxuXHQgKiBUbyBlbmFibGUgdHJhY2luZywgaW1wb3J0IHRoZSBbW3RyYWNlXV0gc2luZ2xldG9uIGFuZCBlbmFibGUgb25lIG9yIG1vcmUgY2F0ZWdvcmllcy5cblx0ICpcblx0ICogRVM2XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBpbXBvcnQge3RyYWNlfSBmcm9tIFwidWktcm91dGVyLW5nMlwiOyAvLyBvciBcImFuZ3VsYXItdWktcm91dGVyXCJcblx0ICogdHJhY2UuZW5hYmxlKDEsIDUpOyAvLyBUUkFOU0lUSU9OIGFuZCBWSUVXQ09ORklHXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBDSlNcblx0ICogYGBgXG5cdCAqXG5cdCAqIGxldCB0cmFjZSA9IHJlcXVpcmUoXCJhbmd1bGFyLXVpLXJvdXRlclwiKS50cmFjZTsgLy8gb3IgXCJ1aS1yb3V0ZXItbmcyXCJcblx0ICogdHJhY2UuZW5hYmxlKFwiVFJBTlNJVElPTlwiLCBcIlZJRVdDT05GSUdcIik7XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBHbG9iYWxzXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBsZXQgdHJhY2UgPSB3aW5kb3dbXCJhbmd1bGFyLXVpLXJvdXRlclwiXS50cmFjZTsgLy8gb3IgXCJ1aS1yb3V0ZXItbmcyXCJcblx0ICogdHJhY2UuZW5hYmxlKCk7IC8vIFRyYWNlIGV2ZXJ5dGhpbmcgKHZlcnkgdmVyYm9zZSlcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBtb2R1bGUgdHJhY2Vcblx0ICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIHN0cmluZ3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdC8qKiBAaGlkZGVuICovXG5cdGZ1bmN0aW9uIHVpVmlld1N0cmluZyh2aWV3RGF0YSkge1xuXHQgICAgaWYgKCF2aWV3RGF0YSlcblx0ICAgICAgICByZXR1cm4gJ3VpLXZpZXcgKGRlZnVuY3QpJztcblx0ICAgIHJldHVybiBcInVpLXZpZXcgaWQjXCIgKyB2aWV3RGF0YS5pZCArIFwiLCBjb250ZXh0dWFsIG5hbWUgJ1wiICsgdmlld0RhdGEubmFtZSArIFwiQFwiICsgdmlld0RhdGEuY3JlYXRpb25Db250ZXh0ICsgXCInLCBmcW46ICdcIiArIHZpZXdEYXRhLmZxbiArIFwiJ1wiO1xuXHR9XG5cdC8qKiBAaGlkZGVuICovXG5cdHZhciB2aWV3Q29uZmlnU3RyaW5nID0gZnVuY3Rpb24gKHZpZXdDb25maWcpIHtcblx0ICAgIHJldHVybiAoXCJWaWV3Q29uZmlnIHRhcmdldGluZyB1aS12aWV3OiAnXCIgKyB2aWV3Q29uZmlnLnZpZXdEZWNsLiR1aVZpZXdOYW1lICsgXCJAXCIgKyB2aWV3Q29uZmlnLnZpZXdEZWNsLiR1aVZpZXdDb250ZXh0QW5jaG9yICsgXCInLCBjb250ZXh0OiAnXCIgKyB2aWV3Q29uZmlnLnZpZXdEZWNsLiRjb250ZXh0Lm5hbWUgKyBcIidcIik7XG5cdH07XG5cdC8qKiBAaGlkZGVuICovXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZWRDYXQoaW5wdXQpIHtcblx0ICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNOdW1iZXIoaW5wdXQpID8gQ2F0ZWdvcnlbaW5wdXRdIDogQ2F0ZWdvcnlbQ2F0ZWdvcnlbaW5wdXRdXTtcblx0fVxuXHQvKipcblx0ICogVHJhY2UgY2F0ZWdvcmllc1xuXHQgKlxuXHQgKiBbW1RyYWNlLmVuYWJsZV1dIG9yIFtbVHJhY2UuZGlzYWJsZV1dIGEgY2F0ZWdvcnlcblx0ICpcblx0ICogYHRyYWNlLmVuYWJsZShDYXRlZ29yeS5UUkFOU0lUSU9OKWBcblx0ICpcblx0ICogVGhlc2UgY2FuIGFsc28gYmUgcHJvdmlkZWQgdXNpbmcgYSBtYXRjaGluZyBzdHJpbmcsIG9yIHBvc2l0aW9uIG9yZGluYWxcblx0ICpcblx0ICogYHRyYWNlLmVuYWJsZShcIlRSQU5TSVRJT05cIilgXG5cdCAqXG5cdCAqIGB0cmFjZS5lbmFibGUoMSlgXG5cdCAqL1xuXHQoZnVuY3Rpb24gKENhdGVnb3J5KSB7XG5cdCAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlJFU09MVkVcIl0gPSAwXSA9IFwiUkVTT0xWRVwiO1xuXHQgICAgQ2F0ZWdvcnlbQ2F0ZWdvcnlbXCJUUkFOU0lUSU9OXCJdID0gMV0gPSBcIlRSQU5TSVRJT05cIjtcblx0ICAgIENhdGVnb3J5W0NhdGVnb3J5W1wiSE9PS1wiXSA9IDJdID0gXCJIT09LXCI7XG5cdCAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIklOVk9LRVwiXSA9IDNdID0gXCJJTlZPS0VcIjtcblx0ICAgIENhdGVnb3J5W0NhdGVnb3J5W1wiVUlWSUVXXCJdID0gNF0gPSBcIlVJVklFV1wiO1xuXHQgICAgQ2F0ZWdvcnlbQ2F0ZWdvcnlbXCJWSUVXQ09ORklHXCJdID0gNV0gPSBcIlZJRVdDT05GSUdcIjtcblx0fSkoZXhwb3J0cy5DYXRlZ29yeSB8fCAoZXhwb3J0cy5DYXRlZ29yeSA9IHt9KSk7XG5cdHZhciBDYXRlZ29yeSA9IGV4cG9ydHMuQ2F0ZWdvcnk7XG5cdC8qKlxuXHQgKiBQcmludHMgVUktUm91dGVyIFRyYW5zaXRpb24gdHJhY2UgaW5mb3JtYXRpb24gdG8gdGhlIGNvbnNvbGUuXG5cdCAqL1xuXHR2YXIgVHJhY2UgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gVHJhY2UoKSB7XG5cdCAgICAgICAgLyoqIEBoaWRkZW4gKi9cblx0ICAgICAgICB0aGlzLl9lbmFibGVkID0ge307XG5cdCAgICAgICAgdGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMgPSAwO1xuXHQgICAgfVxuXHQgICAgLyoqIEBoaWRkZW4gKi9cblx0ICAgIFRyYWNlLnByb3RvdHlwZS5fc2V0ID0gZnVuY3Rpb24gKGVuYWJsZWQsIGNhdGVnb3JpZXMpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIGlmICghY2F0ZWdvcmllcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgY2F0ZWdvcmllcyA9IE9iamVjdC5rZXlzKENhdGVnb3J5KVxuXHQgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaykgeyByZXR1cm4gaXNOYU4ocGFyc2VJbnQoaywgMTApKTsgfSlcblx0ICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gQ2F0ZWdvcnlba2V5XTsgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNhdGVnb3JpZXMubWFwKG5vcm1hbGl6ZWRDYXQpLmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5KSB7IHJldHVybiBfdGhpcy5fZW5hYmxlZFtjYXRlZ29yeV0gPSBlbmFibGVkOyB9KTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEVuYWJsZXMgYSB0cmFjZSBbW0NhdGVnb3J5XV1cblx0ICAgICAqXG5cdCAgICAgKiBgYGBcblx0ICAgICAqIHRyYWNlLmVuYWJsZShcIlRSQU5TSVRJT05cIik7XG5cdCAgICAgKiBgYGBcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gY2F0ZWdvcmllcyBjYXRlZ29yaWVzIHRvIGVuYWJsZS4gSWYgYGNhdGVnb3JpZXNgIGlzIG9taXR0ZWQsIGFsbCBjYXRlZ29yaWVzIGFyZSBlbmFibGVkLlxuXHQgICAgICogICAgICAgIEFsc28gdGFrZXMgc3RyaW5ncyAoY2F0ZWdvcnkgbmFtZSkgb3Igb3JkaW5hbCAoY2F0ZWdvcnkgcG9zaXRpb24pXG5cdCAgICAgKi9cblx0ICAgIFRyYWNlLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuXHQgICAgICAgICAgICBjYXRlZ29yaWVzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zZXQodHJ1ZSwgY2F0ZWdvcmllcyk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBEaXNhYmxlcyBhIHRyYWNlIFtbQ2F0ZWdvcnldXVxuXHQgICAgICpcblx0ICAgICAqIGBgYFxuXHQgICAgICogdHJhY2UuZGlzYWJsZShcIlZJRVdDT05GSUdcIik7XG5cdCAgICAgKiBgYGBcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gY2F0ZWdvcmllcyBjYXRlZ29yaWVzIHRvIGRpc2FibGUuIElmIGBjYXRlZ29yaWVzYCBpcyBvbWl0dGVkLCBhbGwgY2F0ZWdvcmllcyBhcmUgZGlzYWJsZWQuXG5cdCAgICAgKiAgICAgICAgQWxzbyB0YWtlcyBzdHJpbmdzIChjYXRlZ29yeSBuYW1lKSBvciBvcmRpbmFsIChjYXRlZ29yeSBwb3NpdGlvbilcblx0ICAgICAqL1xuXHQgICAgVHJhY2UucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuXHQgICAgICAgICAgICBjYXRlZ29yaWVzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zZXQoZmFsc2UsIGNhdGVnb3JpZXMpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogUmV0cmlldmVzIHRoZSBlbmFibGVkIHN0YXRldXMgb2YgYSBbW0NhdGVnb3J5XV1cblx0ICAgICAqXG5cdCAgICAgKiBgYGBcblx0ICAgICAqIHRyYWNlLmVuYWJsZWQoXCJWSUVXQ09ORklHXCIpOyAvLyB0cnVlIG9yIGZhbHNlXG5cdCAgICAgKiBgYGBcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyBib29sZWFuIHRydWUgaWYgdGhlIGNhdGVnb3J5IGlzIGVuYWJsZWRcblx0ICAgICAqL1xuXHQgICAgVHJhY2UucHJvdG90eXBlLmVuYWJsZWQgPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcblx0ICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkW25vcm1hbGl6ZWRDYXQoY2F0ZWdvcnkpXTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VUcmFuc2l0aW9uU3RhcnQgPSBmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuXHQgICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlRSQU5TSVRJT04pKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgdmFyIHRpZCA9IHRyYW5zaXRpb24uJGlkLCBkaWdlc3QgPSB0aGlzLmFwcHJveGltYXRlRGlnZXN0cywgdHJhbnNpdGlvblN0ciA9IHN0cmluZ3NfMS5zdHJpbmdpZnkodHJhbnNpdGlvbik7XG5cdCAgICAgICAgY29uc29sZS5sb2coXCJUcmFuc2l0aW9uICNcIiArIHRpZCArIFwiIERpZ2VzdCAjXCIgKyBkaWdlc3QgKyBcIjogU3RhcnRlZCAgLT4gXCIgKyB0cmFuc2l0aW9uU3RyKTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VUcmFuc2l0aW9uSWdub3JlZCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuVFJBTlNJVElPTikpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB2YXIgdGlkID0gdHJhbnNpdGlvbi4kaWQsIGRpZ2VzdCA9IHRoaXMuYXBwcm94aW1hdGVEaWdlc3RzLCB0cmFuc2l0aW9uU3RyID0gc3RyaW5nc18xLnN0cmluZ2lmeSh0cmFuc2l0aW9uKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiICsgdGlkICsgXCIgRGlnZXN0ICNcIiArIGRpZ2VzdCArIFwiOiBJZ25vcmVkICA8PiBcIiArIHRyYW5zaXRpb25TdHIpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cblx0ICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZUhvb2tJbnZvY2F0aW9uID0gZnVuY3Rpb24gKHN0ZXAsIG9wdGlvbnMpIHtcblx0ICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5IT09LKSlcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIHZhciB0aWQgPSBob2ZfMS5wYXJzZShcInRyYW5zaXRpb24uJGlkXCIpKG9wdGlvbnMpLCBkaWdlc3QgPSB0aGlzLmFwcHJveGltYXRlRGlnZXN0cywgZXZlbnQgPSBob2ZfMS5wYXJzZShcInRyYWNlRGF0YS5ob29rVHlwZVwiKShvcHRpb25zKSB8fCBcImludGVybmFsXCIsIGNvbnRleHQgPSBob2ZfMS5wYXJzZShcInRyYWNlRGF0YS5jb250ZXh0LnN0YXRlLm5hbWVcIikob3B0aW9ucykgfHwgaG9mXzEucGFyc2UoXCJ0cmFjZURhdGEuY29udGV4dFwiKShvcHRpb25zKSB8fCBcInVua25vd25cIiwgbmFtZSA9IHN0cmluZ3NfMS5mdW5jdGlvblRvU3RyaW5nKHN0ZXAuZm4pO1xuXHQgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhbnNpdGlvbiAjXCIgKyB0aWQgKyBcIiBEaWdlc3QgI1wiICsgZGlnZXN0ICsgXCI6ICAgSG9vayAtPiBcIiArIGV2ZW50ICsgXCIgY29udGV4dDogXCIgKyBjb250ZXh0ICsgXCIsIFwiICsgc3RyaW5nc18xLm1heExlbmd0aCgyMDAsIG5hbWUpKTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VIb29rUmVzdWx0ID0gZnVuY3Rpb24gKGhvb2tSZXN1bHQsIHRyYW5zaXRpb25SZXN1bHQsIHRyYW5zaXRpb25PcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuSE9PSykpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB2YXIgdGlkID0gaG9mXzEucGFyc2UoXCJ0cmFuc2l0aW9uLiRpZFwiKSh0cmFuc2l0aW9uT3B0aW9ucyksIGRpZ2VzdCA9IHRoaXMuYXBwcm94aW1hdGVEaWdlc3RzLCBob29rUmVzdWx0U3RyID0gc3RyaW5nc18xLnN0cmluZ2lmeShob29rUmVzdWx0KSwgdHJhbnNpdGlvblJlc3VsdFN0ciA9IHN0cmluZ3NfMS5zdHJpbmdpZnkodHJhbnNpdGlvblJlc3VsdCk7XG5cdCAgICAgICAgY29uc29sZS5sb2coXCJUcmFuc2l0aW9uICNcIiArIHRpZCArIFwiIERpZ2VzdCAjXCIgKyBkaWdlc3QgKyBcIjogICA8LSBIb29rIHJldHVybmVkOiBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCBob29rUmVzdWx0U3RyKSArIFwiLCB0cmFuc2l0aW9uIHJlc3VsdDogXCIgKyBzdHJpbmdzXzEubWF4TGVuZ3RoKDIwMCwgdHJhbnNpdGlvblJlc3VsdFN0cikpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cblx0ICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVJlc29sdmVQYXRoID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcblx0ICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5SRVNPTFZFKSlcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIHZhciB0aWQgPSBob2ZfMS5wYXJzZShcInRyYW5zaXRpb24uJGlkXCIpKG9wdGlvbnMpLCBkaWdlc3QgPSB0aGlzLmFwcHJveGltYXRlRGlnZXN0cywgcGF0aFN0ciA9IHBhdGggJiYgcGF0aC50b1N0cmluZygpLCBwb2xpY3lTdHIgPSBvcHRpb25zICYmIG9wdGlvbnMucmVzb2x2ZVBvbGljeTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiICsgdGlkICsgXCIgRGlnZXN0ICNcIiArIGRpZ2VzdCArIFwiOiAgICAgICAgIFJlc29sdmluZyBcIiArIHBhdGhTdHIgKyBcIiAoXCIgKyBwb2xpY3lTdHIgKyBcIilcIik7XG5cdCAgICB9O1xuXHQgICAgLyoqIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuXHQgICAgVHJhY2UucHJvdG90eXBlLnRyYWNlUmVzb2x2ZVBhdGhFbGVtZW50ID0gZnVuY3Rpb24gKHBhdGhFbGVtZW50LCByZXNvbHZhYmxlUHJvbWlzZXMsIG9wdGlvbnMpIHtcblx0ICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5SRVNPTFZFKSlcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIGlmICghcmVzb2x2YWJsZVByb21pc2VzLmxlbmd0aClcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIHZhciB0aWQgPSBob2ZfMS5wYXJzZShcInRyYW5zaXRpb24uJGlkXCIpKG9wdGlvbnMpLCBkaWdlc3QgPSB0aGlzLmFwcHJveGltYXRlRGlnZXN0cywgcmVzb2x2YWJsZVByb21pc2VzU3RyID0gT2JqZWN0LmtleXMocmVzb2x2YWJsZVByb21pc2VzKS5qb2luKFwiLCBcIiksIHBhdGhFbGVtZW50U3RyID0gcGF0aEVsZW1lbnQgJiYgcGF0aEVsZW1lbnQudG9TdHJpbmcoKSwgcG9saWN5U3RyID0gb3B0aW9ucyAmJiBvcHRpb25zLnJlc29sdmVQb2xpY3k7XG5cdCAgICAgICAgY29uc29sZS5sb2coXCJUcmFuc2l0aW9uICNcIiArIHRpZCArIFwiIERpZ2VzdCAjXCIgKyBkaWdlc3QgKyBcIjogICAgICAgICBSZXNvbHZlIFwiICsgcGF0aEVsZW1lbnRTdHIgKyBcIiByZXNvbHZhYmxlczogW1wiICsgcmVzb2x2YWJsZVByb21pc2VzU3RyICsgXCJdIChcIiArIHBvbGljeVN0ciArIFwiKVwiKTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VSZXNvbHZlUmVzb2x2YWJsZSA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlLCBvcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuUkVTT0xWRSkpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB2YXIgdGlkID0gaG9mXzEucGFyc2UoXCJ0cmFuc2l0aW9uLiRpZFwiKShvcHRpb25zKSwgZGlnZXN0ID0gdGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMsIHJlc29sdmFibGVTdHIgPSByZXNvbHZhYmxlICYmIHJlc29sdmFibGUudG9TdHJpbmcoKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiICsgdGlkICsgXCIgRGlnZXN0ICNcIiArIGRpZ2VzdCArIFwiOiAgICAgICAgICAgICAgIFJlc29sdmluZyAtPiBcIiArIHJlc29sdmFibGVTdHIpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cblx0ICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVJlc29sdmFibGVSZXNvbHZlZCA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlLCBvcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuUkVTT0xWRSkpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB2YXIgdGlkID0gaG9mXzEucGFyc2UoXCJ0cmFuc2l0aW9uLiRpZFwiKShvcHRpb25zKSwgZGlnZXN0ID0gdGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMsIHJlc29sdmFibGVTdHIgPSByZXNvbHZhYmxlICYmIHJlc29sdmFibGUudG9TdHJpbmcoKSwgcmVzdWx0ID0gc3RyaW5nc18xLnN0cmluZ2lmeShyZXNvbHZhYmxlLmRhdGEpO1xuXHQgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhbnNpdGlvbiAjXCIgKyB0aWQgKyBcIiBEaWdlc3QgI1wiICsgZGlnZXN0ICsgXCI6ICAgICAgICAgICAgICAgPC0gUmVzb2x2ZWQgIFwiICsgcmVzb2x2YWJsZVN0ciArIFwiIHRvOiBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCByZXN1bHQpKTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VQYXRoRWxlbWVudEludm9rZSA9IGZ1bmN0aW9uIChub2RlLCBmbiwgZGVwcywgb3B0aW9ucykge1xuXHQgICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LklOVk9LRSkpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB2YXIgdGlkID0gaG9mXzEucGFyc2UoXCJ0cmFuc2l0aW9uLiRpZFwiKShvcHRpb25zKSwgZGlnZXN0ID0gdGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMsIHN0YXRlTmFtZSA9IG5vZGUgJiYgbm9kZS5zdGF0ZSAmJiBub2RlLnN0YXRlLnRvU3RyaW5nKCksIGZuTmFtZSA9IHN0cmluZ3NfMS5mdW5jdGlvblRvU3RyaW5nKGZuKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiICsgdGlkICsgXCIgRGlnZXN0ICNcIiArIGRpZ2VzdCArIFwiOiAgICAgICAgIEludm9rZSBcIiArIG9wdGlvbnMud2hlbiArIFwiOiBjb250ZXh0OiBcIiArIHN0YXRlTmFtZSArIFwiIFwiICsgc3RyaW5nc18xLm1heExlbmd0aCgyMDAsIGZuTmFtZSkpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cblx0ICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCB0cmFuc2l0aW9uKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuVFJBTlNJVElPTikpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB2YXIgdGlkID0gdHJhbnNpdGlvbi4kaWQsIGRpZ2VzdCA9IHRoaXMuYXBwcm94aW1hdGVEaWdlc3RzLCB0cmFuc2l0aW9uU3RyID0gc3RyaW5nc18xLnN0cmluZ2lmeSh0cmFuc2l0aW9uKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiICsgdGlkICsgXCIgRGlnZXN0ICNcIiArIGRpZ2VzdCArIFwiOiA8LSBSZWplY3RlZCBcIiArIHRyYW5zaXRpb25TdHIgKyBcIiwgcmVhc29uOiBcIiArIGVycm9yKTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VTdWNjZXNzID0gZnVuY3Rpb24gKGZpbmFsU3RhdGUsIHRyYW5zaXRpb24pIHtcblx0ICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5UUkFOU0lUSU9OKSlcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIHZhciB0aWQgPSB0cmFuc2l0aW9uLiRpZCwgZGlnZXN0ID0gdGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMsIHN0YXRlID0gZmluYWxTdGF0ZS5uYW1lLCB0cmFuc2l0aW9uU3RyID0gc3RyaW5nc18xLnN0cmluZ2lmeSh0cmFuc2l0aW9uKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiICsgdGlkICsgXCIgRGlnZXN0ICNcIiArIGRpZ2VzdCArIFwiOiA8LSBTdWNjZXNzICBcIiArIHRyYW5zaXRpb25TdHIgKyBcIiwgZmluYWwgc3RhdGU6IFwiICsgc3RhdGUpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cblx0ICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVVpVmlld0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCB2aWV3RGF0YSwgZXh0cmEpIHtcblx0ICAgICAgICBpZiAoZXh0cmEgPT09IHZvaWQgMCkgeyBleHRyYSA9IFwiXCI7IH1cblx0ICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5VSVZJRVcpKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgY29uc29sZS5sb2coXCJ1aS12aWV3OiBcIiArIHN0cmluZ3NfMS5wYWRTdHJpbmcoMzAsIGV2ZW50KSArIFwiIFwiICsgdWlWaWV3U3RyaW5nKHZpZXdEYXRhKSArIGV4dHJhKTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VVaVZpZXdDb25maWdVcGRhdGVkID0gZnVuY3Rpb24gKHZpZXdEYXRhLCBjb250ZXh0KSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuVUlWSUVXKSlcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIHRoaXMudHJhY2VVaVZpZXdFdmVudChcIlVwZGF0aW5nXCIsIHZpZXdEYXRhLCBcIiB3aXRoIFZpZXdDb25maWcgZnJvbSBjb250ZXh0PSdcIiArIGNvbnRleHQgKyBcIidcIik7XG5cdCAgICB9O1xuXHQgICAgLyoqIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuXHQgICAgVHJhY2UucHJvdG90eXBlLnRyYWNlVWlWaWV3U2NvcGVDcmVhdGVkID0gZnVuY3Rpb24gKHZpZXdEYXRhLCBuZXdTY29wZSkge1xuXHQgICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlVJVklFVykpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB0aGlzLnRyYWNlVWlWaWV3RXZlbnQoXCJDcmVhdGVkIHNjb3BlIGZvclwiLCB2aWV3RGF0YSwgXCIsIHNjb3BlICNcIiArIG5ld1Njb3BlLiRpZCk7XG5cdCAgICB9O1xuXHQgICAgLyoqIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuXHQgICAgVHJhY2UucHJvdG90eXBlLnRyYWNlVWlWaWV3RmlsbCA9IGZ1bmN0aW9uICh2aWV3RGF0YSwgaHRtbCkge1xuXHQgICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlVJVklFVykpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB0aGlzLnRyYWNlVWlWaWV3RXZlbnQoXCJGaWxsXCIsIHZpZXdEYXRhLCBcIiB3aXRoOiBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCBodG1sKSk7XG5cdCAgICB9O1xuXHQgICAgLyoqIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuXHQgICAgVHJhY2UucHJvdG90eXBlLnRyYWNlVmlld1NlcnZpY2VFdmVudCA9IGZ1bmN0aW9uIChldmVudCwgdmlld0NvbmZpZykge1xuXHQgICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlZJRVdDT05GSUcpKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgY29uc29sZS5sb2coXCIkdmlldy5WaWV3Q29uZmlnOiBcIiArIGV2ZW50ICsgXCIgXCIgKyB2aWV3Q29uZmlnU3RyaW5nKHZpZXdDb25maWcpKTtcblx0ICAgIH07XG5cdCAgICAvKiogY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG5cdCAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VWaWV3U2VydmljZVVpVmlld0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCB2aWV3RGF0YSkge1xuXHQgICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlZJRVdDT05GSUcpKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgY29uc29sZS5sb2coXCIkdmlldy5WaWV3Q29uZmlnOiBcIiArIGV2ZW50ICsgXCIgXCIgKyB1aVZpZXdTdHJpbmcodmlld0RhdGEpKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gVHJhY2U7XG5cdH0oKSk7XG5cdGV4cG9ydHMuVHJhY2UgPSBUcmFjZTtcblx0LyoqXG5cdCAqIFRoZSBbW1RyYWNlXV0gc2luZ2xldG9uXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYGpzXG5cdCAqXG5cdCAqIGltcG9ydCB7dHJhY2V9IGZyb20gXCJhbmd1bGFyLXVpLXJvdXRlclwiO1xuXHQgKiB0cmFjZS5lbmFibGUoMSwgNSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0dmFyIHRyYWNlID0gbmV3IFRyYWNlKCk7XG5cdGV4cG9ydHMudHJhY2UgPSB0cmFjZTtcblxuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG5cdH1cblx0LyoqXG5cdCAqIFRoaXMgbW9kdWxlIGNvbnRhaW5zIEFQSXMgcmVsYXRlZCB0byBhIFRyYW5zaXRpb24uXG5cdCAqXG5cdCAqIFNlZSBbW1RyYW5zaXRpb25dXSwgW1skdHJhbnNpdGlvbnNdXVxuXHQgKlxuXHQgKiBAbW9kdWxlIHRyYW5zaXRpb25cblx0ICogQHByZWZlcnJlZFxuXHQgKi9cblx0LyoqIGZvciB0eXBlZG9jICovXG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMTQpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygxNSkpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMTEpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygxNikpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSk7XG5cblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiogQG1vZHVsZSB0cmFuc2l0aW9uICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHByZWRpY2F0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBtb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHQvKipcblx0ICogVGhpcyBjbGFzcyByZXR1cm5zIGFwcGxpY2FibGUgVHJhbnNpdGlvbkhvb2tzIGZvciBhIHNwZWNpZmljIFRyYW5zaXRpb24gaW5zdGFuY2UuXG5cdCAqXG5cdCAqIEhvb2tzIChJRXZlbnRIb29rKSBtYXkgYmUgcmVnaXN0ZXJlZCBnbG9iYWxseSwgZS5nLiwgJHRyYW5zaXRpb25zLm9uRW50ZXIoLi4uKSwgb3IgbG9jYWxseSwgZS5nLlxuXHQgKiBteVRyYW5zaXRpb24ub25FbnRlciguLi4pLiAgVGhlIEhvb2tCdWlsZGVyIGZpbmRzIG1hdGNoaW5nIElFdmVudEhvb2tzICh3aGVyZSB0aGUgbWF0Y2ggY3JpdGVyaWEgaXNcblx0ICogZGV0ZXJtaW5lZCBieSB0aGUgdHlwZSBvZiBob29rKVxuXHQgKlxuXHQgKiBUaGUgSG9va0J1aWxkZXIgYWxzbyBjb252ZXJ0cyBJRXZlbnRIb29rcyBvYmplY3RzIHRvIFRyYW5zaXRpb25Ib29rIG9iamVjdHMsIHdoaWNoIGFyZSB1c2VkIHRvIHJ1biBhIFRyYW5zaXRpb24uXG5cdCAqXG5cdCAqIFRoZSBIb29rQnVpbGRlciBjb25zdHJ1Y3RvciBpcyBnaXZlbiB0aGUgJHRyYW5zaXRpb25zIHNlcnZpY2UgYW5kIGEgVHJhbnNpdGlvbiBpbnN0YW5jZS4gIFRodXMsIGEgSG9va0J1aWxkZXJcblx0ICogaW5zdGFuY2UgbWF5IG9ubHkgYmUgdXNlZCBmb3Igb25lIHNwZWNpZmljIFRyYW5zaXRpb24gb2JqZWN0LiAoc2lkZSBub3RlOiB0aGUgX3RyZWVDaGFuZ2VzIGFjY2Vzc29yIGlzIHByaXZhdGVcblx0ICogaW4gdGhlIFRyYW5zaXRpb24gY2xhc3MsIHNvIHdlIG11c3QgYWxzbyBwcm92aWRlIHRoZSBUcmFuc2l0aW9uJ3MgX3RyZWVDaGFuZ2VzKVxuXHQgKlxuXHQgKi9cblx0dmFyIEhvb2tCdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEhvb2tCdWlsZGVyKCR0cmFuc2l0aW9ucywgdHJhbnNpdGlvbiwgYmFzZUhvb2tPcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB0aGlzLiR0cmFuc2l0aW9ucyA9ICR0cmFuc2l0aW9ucztcblx0ICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuXHQgICAgICAgIHRoaXMuYmFzZUhvb2tPcHRpb25zID0gYmFzZUhvb2tPcHRpb25zO1xuXHQgICAgICAgIC8vIFRPRE86IFRoZXNlIGdldCogbWV0aG9kcyBhcmUgcmV0dXJuaW5nIGRpZmZlcmVudCBjYXJkaW5hbGl0aWVzIG9mIGhvb2tzXG5cdCAgICAgICAgLy8gb25CZWZvcmUvb25TdGFydC9vbkZpbmlzaC9vblN1Y2Nlc3Mvb25FcnJvciByZXR1cm5zIGFuIGFycmF5IG9mIGhvb2tzXG5cdCAgICAgICAgLy8gb25FeGl0L29uUmV0YWluL29uRW50ZXIgcmV0dXJucyBhbiBhcnJheSBvZiBhcnJheXMgb2YgaG9va3Ncblx0ICAgICAgICB0aGlzLmdldE9uQmVmb3JlSG9va3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYnVpbGROb2RlSG9va3MoXCJvbkJlZm9yZVwiLCBcInRvXCIsIHR1cGxlU29ydCgpLCB1bmRlZmluZWQsIHsgYXN5bmM6IGZhbHNlIH0pOyB9O1xuXHQgICAgICAgIHRoaXMuZ2V0T25TdGFydEhvb2tzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2J1aWxkTm9kZUhvb2tzKFwib25TdGFydFwiLCBcInRvXCIsIHR1cGxlU29ydCgpKTsgfTtcblx0ICAgICAgICB0aGlzLmdldE9uRXhpdEhvb2tzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2J1aWxkTm9kZUhvb2tzKFwib25FeGl0XCIsIFwiZXhpdGluZ1wiLCB0dXBsZVNvcnQodHJ1ZSksIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiAoeyAkc3RhdGUkOiBub2RlLnN0YXRlIH0pOyB9KTsgfTtcblx0ICAgICAgICB0aGlzLmdldE9uUmV0YWluSG9va3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYnVpbGROb2RlSG9va3MoXCJvblJldGFpblwiLCBcInJldGFpbmVkXCIsIHR1cGxlU29ydCgpLCBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gKHsgJHN0YXRlJDogbm9kZS5zdGF0ZSB9KTsgfSk7IH07XG5cdCAgICAgICAgdGhpcy5nZXRPbkVudGVySG9va3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYnVpbGROb2RlSG9va3MoXCJvbkVudGVyXCIsIFwiZW50ZXJpbmdcIiwgdHVwbGVTb3J0KCksIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiAoeyAkc3RhdGUkOiBub2RlLnN0YXRlIH0pOyB9KTsgfTtcblx0ICAgICAgICB0aGlzLmdldE9uRmluaXNoSG9va3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYnVpbGROb2RlSG9va3MoXCJvbkZpbmlzaFwiLCBcInRvXCIsIHR1cGxlU29ydCgpLCBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gKHsgJHRyZWVDaGFuZ2VzJDogX3RoaXMudHJlZUNoYW5nZXMgfSk7IH0pOyB9O1xuXHQgICAgICAgIHRoaXMuZ2V0T25TdWNjZXNzSG9va3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYnVpbGROb2RlSG9va3MoXCJvblN1Y2Nlc3NcIiwgXCJ0b1wiLCB0dXBsZVNvcnQoKSwgdW5kZWZpbmVkLCB7IGFzeW5jOiBmYWxzZSwgcmVqZWN0SWZTdXBlcnNlZGVkOiBmYWxzZSB9KTsgfTtcblx0ICAgICAgICB0aGlzLmdldE9uRXJyb3JIb29rcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9idWlsZE5vZGVIb29rcyhcIm9uRXJyb3JcIiwgXCJ0b1wiLCB0dXBsZVNvcnQoKSwgdW5kZWZpbmVkLCB7IGFzeW5jOiBmYWxzZSwgcmVqZWN0SWZTdXBlcnNlZGVkOiBmYWxzZSB9KTsgfTtcblx0ICAgICAgICB0aGlzLnRyZWVDaGFuZ2VzID0gdHJhbnNpdGlvbi50cmVlQ2hhbmdlcygpO1xuXHQgICAgICAgIHRoaXMudG9TdGF0ZSA9IGNvbW1vbl8xLnRhaWwodGhpcy50cmVlQ2hhbmdlcy50bykuc3RhdGU7XG5cdCAgICAgICAgdGhpcy5mcm9tU3RhdGUgPSBjb21tb25fMS50YWlsKHRoaXMudHJlZUNoYW5nZXMuZnJvbSkuc3RhdGU7XG5cdCAgICAgICAgdGhpcy50cmFuc2l0aW9uT3B0aW9ucyA9IHRyYW5zaXRpb24ub3B0aW9ucygpO1xuXHQgICAgfVxuXHQgICAgSG9va0J1aWxkZXIucHJvdG90eXBlLmFzeW5jSG9va3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG9uU3RhcnRIb29rcyA9IHRoaXMuZ2V0T25TdGFydEhvb2tzKCk7XG5cdCAgICAgICAgdmFyIG9uRXhpdEhvb2tzID0gdGhpcy5nZXRPbkV4aXRIb29rcygpO1xuXHQgICAgICAgIHZhciBvblJldGFpbkhvb2tzID0gdGhpcy5nZXRPblJldGFpbkhvb2tzKCk7XG5cdCAgICAgICAgdmFyIG9uRW50ZXJIb29rcyA9IHRoaXMuZ2V0T25FbnRlckhvb2tzKCk7XG5cdCAgICAgICAgdmFyIG9uRmluaXNoSG9va3MgPSB0aGlzLmdldE9uRmluaXNoSG9va3MoKTtcblx0ICAgICAgICB2YXIgYXN5bmNIb29rcyA9IFtvblN0YXJ0SG9va3MsIG9uRXhpdEhvb2tzLCBvblJldGFpbkhvb2tzLCBvbkVudGVySG9va3MsIG9uRmluaXNoSG9va3NdO1xuXHQgICAgICAgIHJldHVybiBhc3luY0hvb2tzLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSkuZmlsdGVyKGNvbW1vbl8xLmlkZW50aXR5KTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbmV3bHkgYnVpbHQgVHJhbnNpdGlvbkhvb2sgb2JqZWN0cy5cblx0ICAgICAqXG5cdCAgICAgKiAtIEZpbmRzIGFsbCBJRXZlbnRIb29rcyByZWdpc3RlcmVkIGZvciB0aGUgZ2l2ZW4gYGhvb2tUeXBlYCB3aGljaCBtYXRjaGVkIHRoZSB0cmFuc2l0aW9uJ3MgW1tUcmVlQ2hhbmdlc11dLlxuXHQgICAgICogLSBGaW5kcyBbW05vZGVdXSAob3IgYE5vZGVbXWApIHRvIHVzZSBhcyB0aGUgVHJhbnNpdGlvbkhvb2sgY29udGV4dChzKVxuXHQgICAgICogLSBGb3IgZWFjaCBvZiB0aGUgW1tOb2RlXV1zLCBjcmVhdGVzIGEgVHJhbnNpdGlvbkhvb2tcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gaG9va1R5cGUgdGhlIG5hbWUgb2YgdGhlIGhvb2sgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uLCBlLmcuLCAnb25FbnRlcicsICdvbkZpbmlzaCcuXG5cdCAgICAgKiBAcGFyYW0gbWF0Y2hpbmdOb2Rlc1Byb3Agc2VsZWN0cyB3aGljaCBbW05vZGVdXXMgZnJvbSB0aGUgW1tJTWF0Y2hpbmdOb2Rlc11dIG9iamVjdCB0byBjcmVhdGUgaG9va3MgZm9yLlxuXHQgICAgICogQHBhcmFtIGdldExvY2FscyBhIGZ1bmN0aW9uIHdoaWNoIGFjY2VwdHMgYSBbW05vZGVdXSBhbmQgcmV0dXJucyBhZGRpdGlvbmFsIGxvY2FscyB0byBwcm92aWRlIHRvIHRoZSBob29rIGFzIGluamVjdGFibGVzXG5cdCAgICAgKiBAcGFyYW0gc29ydEhvb2tzRm4gYSBmdW5jdGlvbiB3aGljaCBjb21wYXJlcyB0d28gSG9va1R1cGxlIGFuZCByZXR1cm5zIDwxLCAwLCBvciA+MVxuXHQgICAgICogQHBhcmFtIG9wdGlvbnMgYW55IHNwZWNpZmljIFRyYW5zaXRpb24gSG9vayBPcHRpb25zXG5cdCAgICAgKi9cblx0ICAgIEhvb2tCdWlsZGVyLnByb3RvdHlwZS5fYnVpbGROb2RlSG9va3MgPSBmdW5jdGlvbiAoaG9va1R5cGUsIG1hdGNoaW5nTm9kZXNQcm9wLCBzb3J0SG9va3NGbiwgZ2V0TG9jYWxzLCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICBpZiAoZ2V0TG9jYWxzID09PSB2b2lkIDApIHsgZ2V0TG9jYWxzID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuICh7fSk7IH07IH1cblx0ICAgICAgICAvLyBGaW5kIGFsbCB0aGUgbWF0Y2hpbmcgcmVnaXN0ZXJlZCBob29rcyBmb3IgYSBnaXZlbiBob29rIHR5cGVcblx0ICAgICAgICB2YXIgbWF0Y2hpbmdIb29rcyA9IHRoaXMuX21hdGNoaW5nSG9va3MoaG9va1R5cGUsIHRoaXMudHJlZUNoYW5nZXMpO1xuXHQgICAgICAgIGlmICghbWF0Y2hpbmdIb29rcylcblx0ICAgICAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICAgIHZhciBtYWtlVHJhbnNpdGlvbkhvb2tzID0gZnVuY3Rpb24gKGhvb2spIHtcblx0ICAgICAgICAgICAgLy8gRmV0Y2ggdGhlIE5vZGVzIHRoYXQgY2F1c2VkIHRoaXMgaG9vayB0byBtYXRjaC5cblx0ICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBob29rLm1hdGNoZXMoX3RoaXMudHJlZUNoYW5nZXMpO1xuXHQgICAgICAgICAgICAvLyBTZWxlY3QgdGhlIE5vZGVbXSB0aGF0IHdpbGwgYmUgdXNlZCBhcyBUcmFuc2l0aW9uSG9vayBjb250ZXh0IG9iamVjdHNcblx0ICAgICAgICAgICAgdmFyIG5vZGVzID0gbWF0Y2hlc1ttYXRjaGluZ05vZGVzUHJvcF07XG5cdCAgICAgICAgICAgIC8vIFJldHVybiBhbiBhcnJheSBvZiBIb29rVHVwbGVzXG5cdCAgICAgICAgICAgIHJldHVybiBub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBfb3B0aW9ucyA9IGNvbW1vbl8xLmV4dGVuZCh7IGJpbmQ6IGhvb2suYmluZCwgdHJhY2VEYXRhOiB7IGhvb2tUeXBlOiBob29rVHlwZSwgY29udGV4dDogbm9kZSB9IH0sIF90aGlzLmJhc2VIb29rT3B0aW9ucywgb3B0aW9ucyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkhvb2sgPSBuZXcgbW9kdWxlXzEuVHJhbnNpdGlvbkhvb2soaG9vay5jYWxsYmFjaywgZ2V0TG9jYWxzKG5vZGUpLCBub2RlLnJlc29sdmVDb250ZXh0LCBfb3B0aW9ucyk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4geyBob29rOiBob29rLCBub2RlOiBub2RlLCB0cmFuc2l0aW9uSG9vazogdHJhbnNpdGlvbkhvb2sgfTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gbWF0Y2hpbmdIb29rcy5tYXAobWFrZVRyYW5zaXRpb25Ib29rcylcblx0ICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcblx0ICAgICAgICAgICAgLnNvcnQoc29ydEhvb2tzRm4pXG5cdCAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiB0dXBsZS50cmFuc2l0aW9uSG9vazsgfSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBGaW5kcyBhbGwgSUV2ZW50SG9va3MgZnJvbTpcblx0ICAgICAqIC0gVGhlIFRyYW5zaXRpb24gb2JqZWN0IGluc3RhbmNlIGhvb2sgcmVnaXN0cnlcblx0ICAgICAqIC0gVGhlIFRyYW5zaXRpb25TZXJ2aWNlICgkdHJhbnNpdGlvbnMpIGdsb2JhbCBob29rIHJlZ2lzdHJ5XG5cdCAgICAgKlxuXHQgICAgICogd2hpY2ggbWF0Y2hlZDpcblx0ICAgICAqIC0gdGhlIGV2ZW50VHlwZVxuXHQgICAgICogLSB0aGUgbWF0Y2hDcml0ZXJpYSAodG8sIGZyb20sIGV4aXRpbmcsIHJldGFpbmVkLCBlbnRlcmluZylcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBtYXRjaGVkIFtbSUV2ZW50SG9va11dc1xuXHQgICAgICovXG5cdCAgICBIb29rQnVpbGRlci5wcm90b3R5cGUuX21hdGNoaW5nSG9va3MgPSBmdW5jdGlvbiAoaG9va05hbWUsIHRyZWVDaGFuZ2VzKSB7XG5cdCAgICAgICAgcmV0dXJuIFt0aGlzLnRyYW5zaXRpb24sIHRoaXMuJHRyYW5zaXRpb25zXSAvLyBJbnN0YW5jZSBhbmQgR2xvYmFsIGhvb2sgcmVnaXN0cmllc1xuXHQgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChyZWcpIHsgcmV0dXJuIHJlZy5nZXRIb29rcyhob29rTmFtZSk7IH0pIC8vIEdldCBuYW1lZCBob29rcyBmcm9tIHJlZ2lzdHJpZXNcblx0ICAgICAgICAgICAgLmZpbHRlcihjb21tb25fMS5hc3NlcnRQcmVkaWNhdGUocHJlZGljYXRlc18xLmlzQXJyYXksIFwiYnJva2VuIGV2ZW50IG5hbWVkOiBcIiArIGhvb2tOYW1lKSkgLy8gU2FuaXR5IGNoZWNrXG5cdCAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pIC8vIFVuLW5lc3QgSUV2ZW50SG9va1tdW10gdG8gSUV2ZW50SG9va1tdIGFycmF5XG5cdCAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGhvb2spIHsgcmV0dXJuIGhvb2subWF0Y2hlcyh0cmVlQ2hhbmdlcyk7IH0pOyAvLyBPbmx5IHRob3NlIHNhdGlzZnlpbmcgbWF0Y2hDcml0ZXJpYVxuXHQgICAgfTtcblx0ICAgIHJldHVybiBIb29rQnVpbGRlcjtcblx0fSgpKTtcblx0ZXhwb3J0cy5Ib29rQnVpbGRlciA9IEhvb2tCdWlsZGVyO1xuXHQvKipcblx0ICogQSBmYWN0b3J5IGZvciBhIHNvcnQgZnVuY3Rpb24gZm9yIEhvb2tUdXBsZXMuXG5cdCAqXG5cdCAqIFRoZSBzb3J0IGZ1bmN0aW9uIGZpcnN0IGNvbXBhcmVzIHRoZSBOb2RlIGRlcHRoIChob3cgZGVlcCBpbiB0aGUgc3RhdGUgdHJlZSBhIG5vZGUgaXMpLCB0aGVuIGNvbXBhcmVzXG5cdCAqIHRoZSBFdmVudEhvb2sgcHJpb3JpdHkuXG5cdCAqXG5cdCAqIEBwYXJhbSByZXZlcnNlRGVwdGhTb3J0IGEgYm9vbGVhbiwgd2hlbiB0cnVlLCByZXZlcnNlcyB0aGUgc29ydCBvcmRlciBmb3IgdGhlIG5vZGUgZGVwdGhcblx0ICogQHJldHVybnMgYSB0dXBsZSBzb3J0IGZ1bmN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiB0dXBsZVNvcnQocmV2ZXJzZURlcHRoU29ydCkge1xuXHQgICAgaWYgKHJldmVyc2VEZXB0aFNvcnQgPT09IHZvaWQgMCkgeyByZXZlcnNlRGVwdGhTb3J0ID0gZmFsc2U7IH1cblx0ICAgIHJldHVybiBmdW5jdGlvbiBub2RlRGVwdGhUaGVuUHJpb3JpdHkobCwgcikge1xuXHQgICAgICAgIHZhciBmYWN0b3IgPSByZXZlcnNlRGVwdGhTb3J0ID8gLTEgOiAxO1xuXHQgICAgICAgIHZhciBkZXB0aERlbHRhID0gKGwubm9kZS5zdGF0ZS5wYXRoLmxlbmd0aCAtIHIubm9kZS5zdGF0ZS5wYXRoLmxlbmd0aCkgKiBmYWN0b3I7XG5cdCAgICAgICAgcmV0dXJuIGRlcHRoRGVsdGEgIT09IDAgPyBkZXB0aERlbHRhIDogci5ob29rLnByaW9yaXR5IC0gbC5ob29rLnByaW9yaXR5O1xuXHQgICAgfTtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHRyYW5zaXRpb24gKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgZ2xvYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHN0YXRlIG1hdGNoZXMgdGhlIG1hdGNoQ3JpdGVyaWFcblx0ICogQHBhcmFtIHN0YXRlIGEgU3RhdGUgT2JqZWN0IHRvIHRlc3QgYWdhaW5zdFxuXHQgKiBAcGFyYW0gY3JpdGVyaW9uXG5cdCAqIC0gSWYgYSBzdHJpbmcsIG1hdGNoU3RhdGUgdXNlcyB0aGUgc3RyaW5nIGFzIGEgZ2xvYi1tYXRjaGVyIGFnYWluc3QgdGhlIHN0YXRlIG5hbWVcblx0ICogLSBJZiBhbiBhcnJheSAob2Ygc3RyaW5ncyksIG1hdGNoU3RhdGUgdXNlcyBlYWNoIHN0cmluZyBpbiB0aGUgYXJyYXkgYXMgYSBnbG9iLW1hdGNoZXJzIGFnYWluc3QgdGhlIHN0YXRlIG5hbWVcblx0ICogICBhbmQgcmV0dXJucyBhIHBvc2l0aXZlIG1hdGNoIGlmIGFueSBvZiB0aGUgZ2xvYnMgbWF0Y2guXG5cdCAqIC0gSWYgYSBmdW5jdGlvbiwgbWF0Y2hTdGF0ZSBjYWxscyB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgc3RhdGUgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgZnVuY3Rpb24ncyByZXN1bHQgaXMgdHJ1dGh5LlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIG1hdGNoU3RhdGUoc3RhdGUsIGNyaXRlcmlvbikge1xuXHQgICAgdmFyIHRvTWF0Y2ggPSBwcmVkaWNhdGVzXzEuaXNTdHJpbmcoY3JpdGVyaW9uKSA/IFtjcml0ZXJpb25dIDogY3JpdGVyaW9uO1xuXHQgICAgZnVuY3Rpb24gbWF0Y2hHbG9icyhfc3RhdGUpIHtcblx0ICAgICAgICB2YXIgZ2xvYlN0cmluZ3MgPSB0b01hdGNoO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2xvYlN0cmluZ3MubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIGdsb2IgPSBnbG9iXzEuR2xvYi5mcm9tU3RyaW5nKGdsb2JTdHJpbmdzW2ldKTtcblx0ICAgICAgICAgICAgaWYgKChnbG9iICYmIGdsb2IubWF0Y2hlcyhfc3RhdGUubmFtZSkpIHx8ICghZ2xvYiAmJiBnbG9iU3RyaW5nc1tpXSA9PT0gX3N0YXRlLm5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgbWF0Y2hGbiA9IChwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbih0b01hdGNoKSA/IHRvTWF0Y2ggOiBtYXRjaEdsb2JzKTtcblx0ICAgIHJldHVybiAhIW1hdGNoRm4oc3RhdGUpO1xuXHR9XG5cdGV4cG9ydHMubWF0Y2hTdGF0ZSA9IG1hdGNoU3RhdGU7XG5cdHZhciBFdmVudEhvb2sgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gRXZlbnRIb29rKG1hdGNoQ3JpdGVyaWEsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cblx0ICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG5cdCAgICAgICAgdGhpcy5tYXRjaENyaXRlcmlhID0gY29tbW9uXzEuZXh0ZW5kKHsgdG86IHRydWUsIGZyb206IHRydWUsIGV4aXRpbmc6IHRydWUsIHJldGFpbmVkOiB0cnVlLCBlbnRlcmluZzogdHJ1ZSB9LCBtYXRjaENyaXRlcmlhKTtcblx0ICAgICAgICB0aGlzLnByaW9yaXR5ID0gb3B0aW9ucy5wcmlvcml0eSB8fCAwO1xuXHQgICAgICAgIHRoaXMuYmluZCA9IG9wdGlvbnMuYmluZCB8fCBudWxsO1xuXHQgICAgfVxuXHQgICAgRXZlbnRIb29rLl9tYXRjaGluZ05vZGVzID0gZnVuY3Rpb24gKG5vZGVzLCBjcml0ZXJpb24pIHtcblx0ICAgICAgICBpZiAoY3JpdGVyaW9uID09PSB0cnVlKVxuXHQgICAgICAgICAgICByZXR1cm4gbm9kZXM7XG5cdCAgICAgICAgdmFyIG1hdGNoaW5nID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBtYXRjaFN0YXRlKG5vZGUuc3RhdGUsIGNyaXRlcmlvbik7IH0pO1xuXHQgICAgICAgIHJldHVybiBtYXRjaGluZy5sZW5ndGggPyBtYXRjaGluZyA6IG51bGw7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBEZXRlcm1pbmVzIGlmIHRoaXMgaG9vaydzIFtbbWF0Y2hDcml0ZXJpYV1dIG1hdGNoIHRoZSBnaXZlbiBbW1RyZWVDaGFuZ2VzXV1cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyBhbiBJTWF0Y2hpbmdOb2RlcyBvYmplY3QsIG9yIG51bGwuIElmIGFuIElNYXRjaGluZ05vZGVzIG9iamVjdCBpcyByZXR1cm5lZCwgaXRzIHZhbHVlc1xuXHQgICAgICogYXJlIHRoZSBtYXRjaGluZyBbW05vZGVdXXMgZm9yIGVhY2ggW1tIb29rTWF0Y2hDcml0ZXJpb25dXSAodG8sIGZyb20sIGV4aXRpbmcsIHJldGFpbmVkLCBlbnRlcmluZylcblx0ICAgICAqL1xuXHQgICAgRXZlbnRIb29rLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gKHRyZWVDaGFuZ2VzKSB7XG5cdCAgICAgICAgdmFyIG1jID0gdGhpcy5tYXRjaENyaXRlcmlhLCBfbWF0Y2hpbmdOb2RlcyA9IEV2ZW50SG9vay5fbWF0Y2hpbmdOb2Rlcztcblx0ICAgICAgICB2YXIgbWF0Y2hlcyA9IHtcblx0ICAgICAgICAgICAgdG86IF9tYXRjaGluZ05vZGVzKFtjb21tb25fMS50YWlsKHRyZWVDaGFuZ2VzLnRvKV0sIG1jLnRvKSxcblx0ICAgICAgICAgICAgZnJvbTogX21hdGNoaW5nTm9kZXMoW2NvbW1vbl8xLnRhaWwodHJlZUNoYW5nZXMuZnJvbSldLCBtYy5mcm9tKSxcblx0ICAgICAgICAgICAgZXhpdGluZzogX21hdGNoaW5nTm9kZXModHJlZUNoYW5nZXMuZXhpdGluZywgbWMuZXhpdGluZyksXG5cdCAgICAgICAgICAgIHJldGFpbmVkOiBfbWF0Y2hpbmdOb2Rlcyh0cmVlQ2hhbmdlcy5yZXRhaW5lZCwgbWMucmV0YWluZWQpLFxuXHQgICAgICAgICAgICBlbnRlcmluZzogX21hdGNoaW5nTm9kZXModHJlZUNoYW5nZXMuZW50ZXJpbmcsIG1jLmVudGVyaW5nKSxcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIENoZWNrIGlmIGFsbCB0aGUgY3JpdGVyaWEgbWF0Y2hlZCB0aGUgVHJlZUNoYW5nZXMgb2JqZWN0XG5cdCAgICAgICAgdmFyIGFsbE1hdGNoZWQgPSBbXCJ0b1wiLCBcImZyb21cIiwgXCJleGl0aW5nXCIsIFwicmV0YWluZWRcIiwgXCJlbnRlcmluZ1wiXVxuXHQgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwcm9wKSB7IHJldHVybiBtYXRjaGVzW3Byb3BdOyB9KVxuXHQgICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLmFsbFRydWVSLCB0cnVlKTtcblx0ICAgICAgICByZXR1cm4gYWxsTWF0Y2hlZCA/IG1hdGNoZXMgOiBudWxsO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBFdmVudEhvb2s7XG5cdH0oKSk7XG5cdGV4cG9ydHMuRXZlbnRIb29rID0gRXZlbnRIb29rO1xuXHQvLyBSZXR1cm4gYSByZWdpc3RyYXRpb24gZnVuY3Rpb24gb2YgdGhlIHJlcXVlc3RlZCB0eXBlLlxuXHRmdW5jdGlvbiBtYWtlSG9va1JlZ2lzdHJhdGlvbkZuKGhvb2tzLCBuYW1lKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKG1hdGNoT2JqZWN0LCBjYWxsYmFjaywgb3B0aW9ucykge1xuXHQgICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG5cdCAgICAgICAgdmFyIGV2ZW50SG9vayA9IG5ldyBFdmVudEhvb2sobWF0Y2hPYmplY3QsIGNhbGxiYWNrLCBvcHRpb25zKTtcblx0ICAgICAgICBob29rc1tuYW1lXS5wdXNoKGV2ZW50SG9vayk7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJFdmVudEhvb2soKSB7XG5cdCAgICAgICAgICAgIGNvbW1vbl8xLnJlbW92ZUZyb20oaG9va3NbbmFtZV0pKGV2ZW50SG9vayk7XG5cdCAgICAgICAgfTtcblx0ICAgIH07XG5cdH1cblx0dmFyIEhvb2tSZWdpc3RyeSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBIb29rUmVnaXN0cnkoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB0aGlzLl90cmFuc2l0aW9uRXZlbnRzID0ge1xuXHQgICAgICAgICAgICBvbkJlZm9yZTogW10sIG9uU3RhcnQ6IFtdLCBvbkVudGVyOiBbXSwgb25SZXRhaW46IFtdLCBvbkV4aXQ6IFtdLCBvbkZpbmlzaDogW10sIG9uU3VjY2VzczogW10sIG9uRXJyb3I6IFtdXG5cdCAgICAgICAgfTtcblx0ICAgICAgICB0aGlzLmdldEhvb2tzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIF90aGlzLl90cmFuc2l0aW9uRXZlbnRzW25hbWVdOyB9O1xuXHQgICAgICAgIHRoaXMub25CZWZvcmUgPSBtYWtlSG9va1JlZ2lzdHJhdGlvbkZuKHRoaXMuX3RyYW5zaXRpb25FdmVudHMsIFwib25CZWZvcmVcIik7XG5cdCAgICAgICAgdGhpcy5vblN0YXJ0ID0gbWFrZUhvb2tSZWdpc3RyYXRpb25Gbih0aGlzLl90cmFuc2l0aW9uRXZlbnRzLCBcIm9uU3RhcnRcIik7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiR0cmFuc2l0aW9uc1Byb3ZpZGVyI29uRW50ZXJcblx0ICAgICAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiR0cmFuc2l0aW9uc1Byb3ZpZGVyXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZGVzY3JpcHRpb25cblx0ICAgICAgICAgKiBSZWdpc3RlcnMgYSBmdW5jdGlvbiB0byBiZSBpbmplY3RlZCBhbmQgaW52b2tlZCBkdXJpbmcgYSB0cmFuc2l0aW9uIGJldHdlZW4gdGhlIG1hdGNoZWQgJ3RvJyBhbmQgJ2Zyb20nIHN0YXRlcyxcblx0ICAgICAgICAgKiB3aGVuIHRoZSBtYXRjaGVkICd0bycgc3RhdGUgaXMgYmVpbmcgZW50ZXJlZC4gVGhpcyBmdW5jdGlvbiBpcyBpbmplY3RlZCB3aXRoIHRoZSBlbnRlcmluZyBzdGF0ZSdzIHJlc29sdmVzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgaW5qZWN0ZWQgd2l0aCB0d28gYWRkaXRpb25hbCBzcGVjaWFsIHZhbHVlOlxuXHQgICAgICAgICAqIC0gKipgJHRyYW5zaXRpb24kYCoqOiBUaGUgY3VycmVudCB0cmFuc2l0aW9uXG5cdCAgICAgICAgICogLSAqKmAkc3RhdGUkYCoqOiBUaGUgc3RhdGUgYmVpbmcgZW50ZXJlZFxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1hdGNoT2JqZWN0IFNlZSB0cmFuc2l0aW9uQ3JpdGVyaWEgaW4ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kdHJhbnNpdGlvbnNQcm92aWRlciNvbiAkdHJhbnNpdGlvbnNQcm92aWRlci5vbn0uXG5cdCAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgU2VlIGNhbGxiYWNrIGluIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXIjb24gJHRyYW5zaXRpb25zUHJvdmlkZXIub259LlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMub25FbnRlciA9IG1ha2VIb29rUmVnaXN0cmF0aW9uRm4odGhpcy5fdHJhbnNpdGlvbkV2ZW50cywgXCJvbkVudGVyXCIpO1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kdHJhbnNpdGlvbnNQcm92aWRlciNvblJldGFpblxuXHQgICAgICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXJcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICAgICAqIFJlZ2lzdGVycyBhIGZ1bmN0aW9uIHRvIGJlIGluamVjdGVkIGFuZCBpbnZva2VkIGR1cmluZyBhIHRyYW5zaXRpb24gYmV0d2VlbiB0aGUgbWF0Y2hlZCAndG8nIGFuZCAnZnJvbSBzdGF0ZXMsXG5cdCAgICAgICAgICogd2hlbiB0aGUgbWF0Y2hlZCAnZnJvbScgc3RhdGUgaXMgYWxyZWFkeSBhY3RpdmUgYW5kIGlzIG5vdCBiZWluZyBleGl0ZWQgbm9yIGVudGVyZWQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBpbmplY3RlZCB3aXRoIHR3byBhZGRpdGlvbmFsIHNwZWNpYWwgdmFsdWU6XG5cdCAgICAgICAgICogLSAqKmAkdHJhbnNpdGlvbiRgKio6IFRoZSBjdXJyZW50IHRyYW5zaXRpb25cblx0ICAgICAgICAgKiAtICoqYCRzdGF0ZSRgKio6IFRoZSBzdGF0ZSB0aGF0IGlzIHJldGFpbmVkXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWF0Y2hPYmplY3QgU2VlIHRyYW5zaXRpb25Dcml0ZXJpYSBpbiB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiR0cmFuc2l0aW9uc1Byb3ZpZGVyI29uICR0cmFuc2l0aW9uc1Byb3ZpZGVyLm9ufS5cblx0ICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBTZWUgY2FsbGJhY2sgaW4ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kdHJhbnNpdGlvbnNQcm92aWRlciNvbiAkdHJhbnNpdGlvbnNQcm92aWRlci5vbn0uXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5vblJldGFpbiA9IG1ha2VIb29rUmVnaXN0cmF0aW9uRm4odGhpcy5fdHJhbnNpdGlvbkV2ZW50cywgXCJvblJldGFpblwiKTtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXIjb25FeGl0XG5cdCAgICAgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kdHJhbnNpdGlvbnNQcm92aWRlclxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgICAgICogUmVnaXN0ZXJzIGEgZnVuY3Rpb24gdG8gYmUgaW5qZWN0ZWQgYW5kIGludm9rZWQgZHVyaW5nIGEgdHJhbnNpdGlvbiBiZXR3ZWVuIHRoZSBtYXRjaGVkICd0bycgYW5kICdmcm9tIHN0YXRlcyxcblx0ICAgICAgICAgKiB3aGVuIHRoZSBtYXRjaGVkICdmcm9tJyBzdGF0ZSBpcyBiZWluZyBleGl0ZWQuIFRoaXMgZnVuY3Rpb24gaXMgaW4gaW5qZWN0ZWQgd2l0aCB0aGUgZXhpdGluZyBzdGF0ZSdzIHJlc29sdmVzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgaW5qZWN0ZWQgd2l0aCB0d28gYWRkaXRpb25hbCBzcGVjaWFsIHZhbHVlOlxuXHQgICAgICAgICAqIC0gKipgJHRyYW5zaXRpb24kYCoqOiBUaGUgY3VycmVudCB0cmFuc2l0aW9uXG5cdCAgICAgICAgICogLSAqKmAkc3RhdGUkYCoqOiBUaGUgc3RhdGUgYmVpbmcgZW50ZXJlZFxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1hdGNoT2JqZWN0IFNlZSB0cmFuc2l0aW9uQ3JpdGVyaWEgaW4ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kdHJhbnNpdGlvbnNQcm92aWRlciNvbiAkdHJhbnNpdGlvbnNQcm92aWRlci5vbn0uXG5cdCAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgU2VlIGNhbGxiYWNrIGluIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXIjb24gJHRyYW5zaXRpb25zUHJvdmlkZXIub259LlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMub25FeGl0ID0gbWFrZUhvb2tSZWdpc3RyYXRpb25Gbih0aGlzLl90cmFuc2l0aW9uRXZlbnRzLCBcIm9uRXhpdFwiKTtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXIjb25GaW5pc2hcblx0ICAgICAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiR0cmFuc2l0aW9uc1Byb3ZpZGVyXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZGVzY3JpcHRpb25cblx0ICAgICAgICAgKiBSZWdpc3RlcnMgYSBmdW5jdGlvbiB0byBiZSBpbmplY3RlZCBhbmQgaW52b2tlZCB3aGVuIGEgdHJhbnNpdGlvbiBpcyBmaW5pc2hlZCBlbnRlcmluZy9leGl0aW5nIGFsbCBzdGF0ZXMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBpbmplY3RlZCB3aXRoOlxuXHQgICAgICAgICAqIC0gKipgJHRyYW5zaXRpb24kYCoqOiBUaGUgY3VycmVudCB0cmFuc2l0aW9uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWF0Y2hPYmplY3QgU2VlIHRyYW5zaXRpb25Dcml0ZXJpYSBpbiB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiR0cmFuc2l0aW9uc1Byb3ZpZGVyI29uICR0cmFuc2l0aW9uc1Byb3ZpZGVyLm9ufS5cblx0ICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBTZWUgY2FsbGJhY2sgaW4ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kdHJhbnNpdGlvbnNQcm92aWRlciNvbiAkdHJhbnNpdGlvbnNQcm92aWRlci5vbn0uXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5vbkZpbmlzaCA9IG1ha2VIb29rUmVnaXN0cmF0aW9uRm4odGhpcy5fdHJhbnNpdGlvbkV2ZW50cywgXCJvbkZpbmlzaFwiKTtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXIjb25TdWNjZXNzXG5cdCAgICAgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kdHJhbnNpdGlvbnNQcm92aWRlclxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgICAgICogUmVnaXN0ZXJzIGEgZnVuY3Rpb24gdG8gYmUgaW5qZWN0ZWQgYW5kIGludm9rZWQgd2hlbiBhIHRyYW5zaXRpb24gaGFzIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQgYmV0d2VlbiB0aGUgbWF0Y2hlZFxuXHQgICAgICAgICAqICd0bycgYW5kICdmcm9tJyBzdGF0ZSBpcyBiZWluZyBleGl0ZWQuXG5cdCAgICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBpbiBpbmplY3RlZCB3aXRoIHRoZSAndG8nIHN0YXRlJ3MgcmVzb2x2ZXMgKG5vdGU6IGBKSVRgIHJlc29sdmVzIGFyZSBub3QgaW5qZWN0ZWQpLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgaW5qZWN0ZWQgd2l0aCB0d28gYWRkaXRpb25hbCBzcGVjaWFsIHZhbHVlOlxuXHQgICAgICAgICAqIC0gKipgJHRyYW5zaXRpb24kYCoqOiBUaGUgY3VycmVudCB0cmFuc2l0aW9uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWF0Y2hPYmplY3QgU2VlIHRyYW5zaXRpb25Dcml0ZXJpYSBpbiB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiR0cmFuc2l0aW9uc1Byb3ZpZGVyI29uICR0cmFuc2l0aW9uc1Byb3ZpZGVyLm9ufS5cblx0ICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBpbmplY3RlZCBhbmQgaW52b2tlZCwgd2hlbiBhIG1hdGNoaW5nIHRyYW5zaXRpb24gaXMgc3RhcnRlZC5cblx0ICAgICAgICAgKiAgIFRoZSBmdW5jdGlvbidzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMub25TdWNjZXNzID0gbWFrZUhvb2tSZWdpc3RyYXRpb25Gbih0aGlzLl90cmFuc2l0aW9uRXZlbnRzLCBcIm9uU3VjY2Vzc1wiKTtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXIjb25FcnJvclxuXHQgICAgICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIuc3RhdGUuJHRyYW5zaXRpb25zUHJvdmlkZXJcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICAgICAqIFJlZ2lzdGVycyBhIGZ1bmN0aW9uIHRvIGJlIGluamVjdGVkIGFuZCBpbnZva2VkIHdoZW4gYSB0cmFuc2l0aW9uIGhhcyBmYWlsZWQgZm9yIGFueSByZWFzb24gYmV0d2VlbiB0aGUgbWF0Y2hlZFxuXHQgICAgICAgICAqICd0bycgYW5kICdmcm9tJyBzdGF0ZS4gVGhlIHRyYW5zaXRpb24gcmVqZWN0aW9uIHJlYXNvbiBpcyBpbmplY3RlZCBhcyBgJGVycm9yJGAuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWF0Y2hPYmplY3QgU2VlIHRyYW5zaXRpb25Dcml0ZXJpYSBpbiB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiR0cmFuc2l0aW9uc1Byb3ZpZGVyI29uICR0cmFuc2l0aW9uc1Byb3ZpZGVyLm9ufS5cblx0ICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBpbmplY3RlZCBhbmQgaW52b2tlZCwgd2hlbiBhIG1hdGNoaW5nIHRyYW5zaXRpb24gaXMgc3RhcnRlZC5cblx0ICAgICAgICAgKiAgIFRoZSBmdW5jdGlvbidzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMub25FcnJvciA9IG1ha2VIb29rUmVnaXN0cmF0aW9uRm4odGhpcy5fdHJhbnNpdGlvbkV2ZW50cywgXCJvbkVycm9yXCIpO1xuXHQgICAgfVxuXHQgICAgSG9va1JlZ2lzdHJ5Lm1peGluID0gZnVuY3Rpb24gKHNvdXJjZSwgdGFyZ2V0KSB7XG5cdCAgICAgICAgT2JqZWN0LmtleXMoc291cmNlLl90cmFuc2l0aW9uRXZlbnRzKS5jb25jYXQoW1wiZ2V0SG9va3NcIl0pLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIEhvb2tSZWdpc3RyeTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Ib29rUmVnaXN0cnkgPSBIb29rUmVnaXN0cnk7XG5cblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHN0cmluZ3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgdHJhY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgcmVqZWN0RmFjdG9yeV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdHZhciBtb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHR2YXIgUkVKRUNUID0gbmV3IHJlamVjdEZhY3RvcnlfMS5SZWplY3RGYWN0b3J5KCk7XG5cdHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0ICAgIGFzeW5jOiB0cnVlLFxuXHQgICAgcmVqZWN0SWZTdXBlcnNlZGVkOiB0cnVlLFxuXHQgICAgY3VycmVudDogY29tbW9uXzEubm9vcCxcblx0ICAgIHRyYW5zaXRpb246IG51bGwsXG5cdCAgICB0cmFjZURhdGE6IHt9LFxuXHQgICAgYmluZDogbnVsbFxuXHR9O1xuXHR2YXIgVHJhbnNpdGlvbkhvb2sgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gVHJhbnNpdGlvbkhvb2soZm4sIGxvY2FscywgcmVzb2x2ZUNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHRoaXMuZm4gPSBmbjtcblx0ICAgICAgICB0aGlzLmxvY2FscyA9IGxvY2Fscztcblx0ICAgICAgICB0aGlzLnJlc29sdmVDb250ZXh0ID0gcmVzb2x2ZUNvbnRleHQ7XG5cdCAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0ICAgICAgICB0aGlzLmlzU3VwZXJzZWRlZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9wdGlvbnMuY3VycmVudCgpICE9PSBfdGhpcy5vcHRpb25zLnRyYW5zaXRpb247IH07XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSGFuZGxlcyB0cmFuc2l0aW9uIGFib3J0IGFuZCB0cmFuc2l0aW9uIHJlZGlyZWN0LiBBbHNvIGFkZHMgYW55IHJldHVybmVkIHJlc29sdmFibGVzXG5cdCAgICAgICAgICogdG8gdGhlIHBhdGhDb250ZXh0IGZvciB0aGUgY3VycmVudCBwYXRoRWxlbWVudC4gIElmIHRoZSB0cmFuc2l0aW9uIGlzIHJlamVjdGVkLCB0aGVuIGEgcmVqZWN0ZWRcblx0ICAgICAgICAgKiBwcm9taXNlIGlzIHJldHVybmVkIGhlcmUsIG90aGVyd2lzZSB1bmRlZmluZWQgaXMgcmV0dXJuZWQuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5tYXBIb29rUmVzdWx0ID0gaG9mXzEucGF0dGVybihbXG5cdCAgICAgICAgICAgIC8vIFRyYW5zaXRpb24gaXMgbm8gbG9uZ2VyIGN1cnJlbnRcblx0ICAgICAgICAgICAgW3RoaXMuaXNTdXBlcnNlZGVkLCBmdW5jdGlvbiAoKSB7IHJldHVybiBSRUpFQ1Quc3VwZXJzZWRlZChfdGhpcy5vcHRpb25zLmN1cnJlbnQoKSk7IH1dLFxuXHQgICAgICAgICAgICAvLyBJZiB0aGUgaG9vayByZXR1cm5zIGZhbHNlLCBhYm9ydCB0aGUgY3VycmVudCBUcmFuc2l0aW9uXG5cdCAgICAgICAgICAgIFtob2ZfMS5lcShmYWxzZSksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJFSkVDVC5hYm9ydGVkKFwiSG9vayBhYm9ydGVkIHRyYW5zaXRpb25cIik7IH1dLFxuXHQgICAgICAgICAgICAvLyBJZiB0aGUgaG9vayByZXR1cm5zIGEgVHJhbnNpdGlvbiwgaGFsdCB0aGUgY3VycmVudCBUcmFuc2l0aW9uIGFuZCByZWRpcmVjdCB0byB0aGF0IFRyYW5zaXRpb24uXG5cdCAgICAgICAgICAgIFtob2ZfMS5pcyhtb2R1bGVfMS5UYXJnZXRTdGF0ZSksIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIFJFSkVDVC5yZWRpcmVjdGVkKHRhcmdldCk7IH1dLFxuXHQgICAgICAgICAgICAvLyBBIHByb21pc2Ugd2FzIHJldHVybmVkLCB3YWl0IGZvciB0aGUgcHJvbWlzZSBhbmQgdGhlbiBjaGFpbiBhbm90aGVyIGhvb2tIYW5kbGVyXG5cdCAgICAgICAgICAgIFtwcmVkaWNhdGVzXzEuaXNQcm9taXNlLCBmdW5jdGlvbiAocHJvbWlzZSkgeyByZXR1cm4gcHJvbWlzZS50aGVuKF90aGlzLmhhbmRsZUhvb2tSZXN1bHQuYmluZChfdGhpcykpOyB9XVxuXHQgICAgICAgIF0pO1xuXHQgICAgICAgIHRoaXMuaW52b2tlU3RlcCA9IGZ1bmN0aW9uIChtb3JlTG9jYWxzKSB7XG5cdCAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLCBvcHRpb25zID0gX2Eub3B0aW9ucywgZm4gPSBfYS5mbiwgcmVzb2x2ZUNvbnRleHQgPSBfYS5yZXNvbHZlQ29udGV4dDtcblx0ICAgICAgICAgICAgdmFyIGxvY2FscyA9IGNvbW1vbl8xLmV4dGVuZCh7fSwgX3RoaXMubG9jYWxzLCBtb3JlTG9jYWxzKTtcblx0ICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZUhvb2tJbnZvY2F0aW9uKF90aGlzLCBvcHRpb25zKTtcblx0ICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVqZWN0SWZTdXBlcnNlZGVkICYmIF90aGlzLmlzU3VwZXJzZWRlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gUkVKRUNULnN1cGVyc2VkZWQob3B0aW9ucy5jdXJyZW50KCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIFRPRE86IE5lZWQgYmV0dGVyIGludGVncmF0aW9uIG9mIHJldHVybmVkIHByb21pc2VzIGluIHN5bmNocm9ub3VzIGNvZGUuXG5cdCAgICAgICAgICAgIGlmICghb3B0aW9ucy5hc3luYykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGhvb2tSZXN1bHQgPSByZXNvbHZlQ29udGV4dC5pbnZva2VOb3coZm4sIGxvY2Fscywgb3B0aW9ucyk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlSG9va1Jlc3VsdChob29rUmVzdWx0KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUNvbnRleHQuaW52b2tlTGF0ZXIoZm4sIGxvY2Fscywgb3B0aW9ucykudGhlbihfdGhpcy5oYW5kbGVIb29rUmVzdWx0LmJpbmQoX3RoaXMpKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHRoaXMub3B0aW9ucyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKTtcblx0ICAgIH1cblx0ICAgIFRyYW5zaXRpb25Ib29rLnByb3RvdHlwZS5oYW5kbGVIb29rUmVzdWx0ID0gZnVuY3Rpb24gKGhvb2tSZXN1bHQpIHtcblx0ICAgICAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoaG9va1Jlc3VsdCkpXG5cdCAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZUhvb2tSZXN1bHQoaG9va1Jlc3VsdCwgdW5kZWZpbmVkLCB0aGlzLm9wdGlvbnMpO1xuXHQgICAgICAgIHZhciB0cmFuc2l0aW9uUmVzdWx0ID0gdGhpcy5tYXBIb29rUmVzdWx0KGhvb2tSZXN1bHQpO1xuXHQgICAgICAgIGlmICh0cmFuc2l0aW9uUmVzdWx0KVxuXHQgICAgICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlSG9va1Jlc3VsdChob29rUmVzdWx0LCB0cmFuc2l0aW9uUmVzdWx0LCB0aGlzLm9wdGlvbnMpO1xuXHQgICAgICAgIHJldHVybiB0cmFuc2l0aW9uUmVzdWx0O1xuXHQgICAgfTtcblx0ICAgIFRyYW5zaXRpb25Ib29rLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLCBvcHRpb25zID0gX2Eub3B0aW9ucywgZm4gPSBfYS5mbjtcblx0ICAgICAgICB2YXIgZXZlbnQgPSBob2ZfMS5wYXJzZShcInRyYWNlRGF0YS5ob29rVHlwZVwiKShvcHRpb25zKSB8fCBcImludGVybmFsXCIsIGNvbnRleHQgPSBob2ZfMS5wYXJzZShcInRyYWNlRGF0YS5jb250ZXh0LnN0YXRlLm5hbWVcIikob3B0aW9ucykgfHwgaG9mXzEucGFyc2UoXCJ0cmFjZURhdGEuY29udGV4dFwiKShvcHRpb25zKSB8fCBcInVua25vd25cIiwgbmFtZSA9IHN0cmluZ3NfMS5mblRvU3RyaW5nKGZuKTtcblx0ICAgICAgICByZXR1cm4gZXZlbnQgKyBcIiBjb250ZXh0OiBcIiArIGNvbnRleHQgKyBcIiwgXCIgKyBzdHJpbmdzXzEubWF4TGVuZ3RoKDIwMCwgbmFtZSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBHaXZlbiBhbiBhcnJheSBvZiBUcmFuc2l0aW9uSG9va3MsIHJ1bnMgZWFjaCBvbmUgc3luY2hyb25vdXNseSBhbmQgc2VxdWVudGlhbGx5LlxuXHQgICAgICpcblx0ICAgICAqIFJldHVybnMgYSBwcm9taXNlIGNoYWluIGNvbXBvc2VkIG9mIGFueSBwcm9taXNlcyByZXR1cm5lZCBmcm9tIGVhY2ggaG9vay5pbnZva2VTdGVwKCkgY2FsbFxuXHQgICAgICovXG5cdCAgICBUcmFuc2l0aW9uSG9vay5ydW5TeW5jaHJvbm91c0hvb2tzID0gZnVuY3Rpb24gKGhvb2tzLCBsb2NhbHMsIHN3YWxsb3dFeGNlcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKGxvY2FscyA9PT0gdm9pZCAwKSB7IGxvY2FscyA9IHt9OyB9XG5cdCAgICAgICAgaWYgKHN3YWxsb3dFeGNlcHRpb25zID09PSB2b2lkIDApIHsgc3dhbGxvd0V4Y2VwdGlvbnMgPSBmYWxzZTsgfVxuXHQgICAgICAgIHZhciByZXN1bHRzID0gW107XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGhvb2tzW2ldLmludm9rZVN0ZXAobG9jYWxzKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFzd2FsbG93RXhjZXB0aW9ucylcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gUkVKRUNULmFib3J0ZWQoZXhjZXB0aW9uKTtcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3dhbGxvd2VkIGV4Y2VwdGlvbiBkdXJpbmcgc3luY2hyb25vdXMgaG9vayBoYW5kbGVyOiBcIiArIGV4Y2VwdGlvbik7IC8vIFRPRE86IFdoYXQgdG8gZG8gaGVyZT9cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgcmVqZWN0aW9ucyA9IHJlc3VsdHMuZmlsdGVyKFRyYW5zaXRpb25Ib29rLmlzUmVqZWN0aW9uKTtcblx0ICAgICAgICBpZiAocmVqZWN0aW9ucy5sZW5ndGgpXG5cdCAgICAgICAgICAgIHJldHVybiByZWplY3Rpb25zWzBdO1xuXHQgICAgICAgIHJldHVybiByZXN1bHRzXG5cdCAgICAgICAgICAgIC5maWx0ZXIoaG9mXzEubm90KFRyYW5zaXRpb25Ib29rLmlzUmVqZWN0aW9uKSlcblx0ICAgICAgICAgICAgLmZpbHRlcihwcmVkaWNhdGVzXzEuaXNQcm9taXNlKVxuXHQgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChjaGFpbiwgcHJvbWlzZSkgeyByZXR1cm4gY2hhaW4udGhlbihob2ZfMS52YWwocHJvbWlzZSkpOyB9LCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS53aGVuKCkpO1xuXHQgICAgfTtcblx0ICAgIFRyYW5zaXRpb25Ib29rLmlzUmVqZWN0aW9uID0gZnVuY3Rpb24gKGhvb2tSZXN1bHQpIHtcblx0ICAgICAgICByZXR1cm4gaG9va1Jlc3VsdCAmJiBob29rUmVzdWx0LnJlYXNvbiBpbnN0YW5jZW9mIHJlamVjdEZhY3RvcnlfMS5UcmFuc2l0aW9uUmVqZWN0aW9uICYmIGhvb2tSZXN1bHQ7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFRyYW5zaXRpb25Ib29rO1xuXHR9KCkpO1xuXHRleHBvcnRzLlRyYW5zaXRpb25Ib29rID0gVHJhbnNpdGlvbkhvb2s7XG5cblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0ZnVuY3Rpb24gX19leHBvcnQobSkge1xuXHQgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuXHR9XG5cdC8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMTkpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygyNikpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMzQpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygzNSkpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMzcpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygyNykpO1xuXG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0LyoqXG5cdCAqIEBuZ2RvYyBvYmplY3Rcblx0ICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVByb3ZpZGVyXG5cdCAqXG5cdCAqIEByZXF1aXJlcyB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlclxuXHQgKiBAcmVxdWlyZXMgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcblx0ICpcblx0ICogQGRlc2NyaXB0aW9uXG5cdCAqIFRoZSBuZXcgYCRzdGF0ZVByb3ZpZGVyYCB3b3JrcyBzaW1pbGFyIHRvIEFuZ3VsYXIncyB2MSByb3V0ZXIsIGJ1dCBpdCBmb2N1c2VzIHB1cmVseVxuXHQgKiBvbiBzdGF0ZS5cblx0ICpcblx0ICogQSBzdGF0ZSBjb3JyZXNwb25kcyB0byBhIFwicGxhY2VcIiBpbiB0aGUgYXBwbGljYXRpb24gaW4gdGVybXMgb2YgdGhlIG92ZXJhbGwgVUkgYW5kXG5cdCAqIG5hdmlnYXRpb24uIEEgc3RhdGUgZGVzY3JpYmVzICh2aWEgdGhlIGNvbnRyb2xsZXIgLyB0ZW1wbGF0ZSAvIHZpZXcgcHJvcGVydGllcykgd2hhdFxuXHQgKiB0aGUgVUkgbG9va3MgbGlrZSBhbmQgZG9lcyBhdCB0aGF0IHBsYWNlLlxuXHQgKlxuXHQgKiBTdGF0ZXMgb2Z0ZW4gaGF2ZSB0aGluZ3MgaW4gY29tbW9uLCBhbmQgdGhlIHByaW1hcnkgd2F5IG9mIGZhY3RvcmluZyBvdXQgdGhlc2Vcblx0ICogY29tbW9uYWxpdGllcyBpbiB0aGlzIG1vZGVsIGlzIHZpYSB0aGUgc3RhdGUgaGllcmFyY2h5LCBpLmUuIHBhcmVudC9jaGlsZCBzdGF0ZXMgYWthXG5cdCAqIG5lc3RlZCBzdGF0ZXMuXG5cdCAqXG5cdCAqIFRoZSBgJHN0YXRlUHJvdmlkZXJgIHByb3ZpZGVzIGludGVyZmFjZXMgdG8gZGVjbGFyZSB0aGVzZSBzdGF0ZXMgZm9yIHlvdXIgYXBwLlxuXHQgKi9cblx0dmFyIFN0YXRlUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gU3RhdGVQcm92aWRlcihzdGF0ZVJlZ2lzdHJ5KSB7XG5cdCAgICAgICAgdGhpcy5zdGF0ZVJlZ2lzdHJ5ID0gc3RhdGVSZWdpc3RyeTtcblx0ICAgICAgICB0aGlzLmludmFsaWRDYWxsYmFja3MgPSBbXTtcblx0ICAgICAgICBjb21tb25fMS5iaW5kRnVuY3Rpb25zKFN0YXRlUHJvdmlkZXIucHJvdG90eXBlLCB0aGlzLCB0aGlzKTtcblx0ICAgIH1cblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlUHJvdmlkZXIjZGVjb3JhdG9yXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVByb3ZpZGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBBbGxvd3MgeW91IHRvIGV4dGVuZCAoY2FyZWZ1bGx5KSBvciBvdmVycmlkZSAoYXQgeW91ciBvd24gcGVyaWwpIHRoZVxuXHQgICAgICogYHN0YXRlQnVpbGRlcmAgb2JqZWN0IHVzZWQgaW50ZXJuYWxseSBieSBgJHN0YXRlUHJvdmlkZXJgLiBUaGlzIGNhbiBiZSB1c2VkXG5cdCAgICAgKiB0byBhZGQgY3VzdG9tIGZ1bmN0aW9uYWxpdHkgdG8gdWktcm91dGVyLCBmb3IgZXhhbXBsZSBpbmZlcnJpbmcgdGVtcGxhdGVVcmxcblx0ICAgICAqIGJhc2VkIG9uIHRoZSBzdGF0ZSBuYW1lLlxuXHQgICAgICpcblx0ICAgICAqIFdoZW4gcGFzc2luZyBvbmx5IGEgbmFtZSwgaXQgcmV0dXJucyB0aGUgY3VycmVudCAob3JpZ2luYWwgb3IgZGVjb3JhdGVkKSBidWlsZGVyXG5cdCAgICAgKiBmdW5jdGlvbiB0aGF0IG1hdGNoZXMgYG5hbWVgLlxuXHQgICAgICpcblx0ICAgICAqIFRoZSBidWlsZGVyIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBkZWNvcmF0ZWQgYXJlIGxpc3RlZCBiZWxvdy4gVGhvdWdoIG5vdCBhbGxcblx0ICAgICAqIG5lY2Vzc2FyaWx5IGhhdmUgYSBnb29kIHVzZSBjYXNlIGZvciBkZWNvcmF0aW9uLCB0aGF0IGlzIHVwIHRvIHlvdSB0byBkZWNpZGUuXG5cdCAgICAgKlxuXHQgICAgICogSW4gYWRkaXRpb24sIHVzZXJzIGNhbiBhdHRhY2ggY3VzdG9tIGRlY29yYXRvcnMsIHdoaWNoIHdpbGwgZ2VuZXJhdGUgbmV3XG5cdCAgICAgKiBwcm9wZXJ0aWVzIHdpdGhpbiB0aGUgc3RhdGUncyBpbnRlcm5hbCBkZWZpbml0aW9uLiBUaGVyZSBpcyBjdXJyZW50bHkgbm8gY2xlYXJcblx0ICAgICAqIHVzZS1jYXNlIGZvciB0aGlzIGJleW9uZCBhY2Nlc3NpbmcgaW50ZXJuYWwgc3RhdGVzIChpLmUuICRzdGF0ZS4kY3VycmVudCksXG5cdCAgICAgKiBob3dldmVyLCBleHBlY3QgdGhpcyB0byBiZWNvbWUgaW5jcmVhc2luZ2x5IHJlbGV2YW50IGFzIHdlIGludHJvZHVjZSBhZGRpdGlvbmFsXG5cdCAgICAgKiBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzLlxuXHQgICAgICpcblx0ICAgICAqICoqV2FybmluZyoqOiBEZWNvcmF0b3JzIHNob3VsZCBub3QgYmUgaW50ZXJkZXBlbmRlbnQgYmVjYXVzZSB0aGUgb3JkZXIgb2Zcblx0ICAgICAqIGV4ZWN1dGlvbiBvZiB0aGUgYnVpbGRlciBmdW5jdGlvbnMgaW4gbm9uLWRldGVybWluaXN0aWMuIEJ1aWxkZXIgZnVuY3Rpb25zXG5cdCAgICAgKiBzaG91bGQgb25seSBiZSBkZXBlbmRlbnQgb24gdGhlIHN0YXRlIGRlZmluaXRpb24gb2JqZWN0IGFuZCBzdXBlciBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKlxuXHQgICAgICogRXhpc3RpbmcgYnVpbGRlciBmdW5jdGlvbnMgYW5kIGN1cnJlbnQgcmV0dXJuIHZhbHVlczpcblx0ICAgICAqXG5cdCAgICAgKiAtICoqcGFyZW50KiogYHtvYmplY3R9YCAtIHJldHVybnMgdGhlIHBhcmVudCBzdGF0ZSBvYmplY3QuXG5cdCAgICAgKiAtICoqZGF0YSoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIHN0YXRlIGRhdGEsIGluY2x1ZGluZyBhbnkgaW5oZXJpdGVkIGRhdGEgdGhhdCBpcyBub3Rcblx0ICAgICAqICAgb3ZlcnJpZGRlbiBieSBvd24gdmFsdWVzIChpZiBhbnkpLlxuXHQgICAgICogLSAqKnVybCoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGEge0BsaW5rIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciBVcmxNYXRjaGVyfVxuXHQgICAgICogICBvciBgbnVsbGAuXG5cdCAgICAgKiAtICoqbmF2aWdhYmxlKiogYHtvYmplY3R9YCAtIHJldHVybnMgY2xvc2VzdCBhbmNlc3RvciBzdGF0ZSB0aGF0IGhhcyBhIFVSTCAoYWthIGlzXG5cdCAgICAgKiAgIG5hdmlnYWJsZSkuXG5cdCAgICAgKiAtICoqcGFyYW1zKiogYHtvYmplY3R9YCAtIHJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGUgcGFyYW1zIHRoYXQgYXJlIGVuc3VyZWQgdG9cblx0ICAgICAqICAgYmUgYSBzdXBlci1zZXQgb2YgcGFyZW50J3MgcGFyYW1zLlxuXHQgICAgICogLSAqKnZpZXdzKiogYHtvYmplY3R9YCAtIHJldHVybnMgYSB2aWV3cyBvYmplY3Qgd2hlcmUgZWFjaCBrZXkgaXMgYW4gYWJzb2x1dGUgdmlld1xuXHQgICAgICogICBuYW1lIChpLmUuIFwidmlld05hbWVAc3RhdGVOYW1lXCIpIGFuZCBlYWNoIHZhbHVlIGlzIHRoZSBjb25maWcgb2JqZWN0XG5cdCAgICAgKiAgICh0ZW1wbGF0ZSwgY29udHJvbGxlcikgZm9yIHRoZSB2aWV3LiBFdmVuIHdoZW4geW91IGRvbid0IHVzZSB0aGUgdmlld3Mgb2JqZWN0XG5cdCAgICAgKiAgIGV4cGxpY2l0bHkgb24gYSBzdGF0ZSBjb25maWcsIG9uZSBpcyBzdGlsbCBjcmVhdGVkIGZvciB5b3UgaW50ZXJuYWxseS5cblx0ICAgICAqICAgU28gYnkgZGVjb3JhdGluZyB0aGlzIGJ1aWxkZXIgZnVuY3Rpb24geW91IGhhdmUgYWNjZXNzIHRvIGRlY29yYXRpbmcgdGVtcGxhdGVcblx0ICAgICAqICAgYW5kIGNvbnRyb2xsZXIgcHJvcGVydGllcy5cblx0ICAgICAqIC0gKipvd25QYXJhbXMqKiBge29iamVjdH1gIC0gcmV0dXJucyBhbiBhcnJheSBvZiBwYXJhbXMgdGhhdCBiZWxvbmcgdG8gdGhlIHN0YXRlLFxuXHQgICAgICogICBub3QgaW5jbHVkaW5nIGFueSBwYXJhbXMgZGVmaW5lZCBieSBhbmNlc3RvciBzdGF0ZXMuXG5cdCAgICAgKiAtICoqcGF0aCoqIGB7c3RyaW5nfWAgLSByZXR1cm5zIHRoZSBmdWxsIHBhdGggZnJvbSB0aGUgcm9vdCBkb3duIHRvIHRoaXMgc3RhdGUuXG5cdCAgICAgKiAgIE5lZWRlZCBmb3Igc3RhdGUgYWN0aXZhdGlvbi5cblx0ICAgICAqIC0gKippbmNsdWRlcyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGluY2x1ZGVzIGV2ZXJ5IHN0YXRlIHRoYXRcblx0ICAgICAqICAgd291bGQgcGFzcyBhIGAkc3RhdGUuaW5jbHVkZXMoKWAgdGVzdC5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogPHByZT5cblx0ICAgICAqIC8vIE92ZXJyaWRlIHRoZSBpbnRlcm5hbCAndmlld3MnIGJ1aWxkZXIgd2l0aCBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHN0YXRlXG5cdCAgICAgKiAvLyBkZWZpbml0aW9uLCBhbmQgYSByZWZlcmVuY2UgdG8gdGhlIGludGVybmFsIGZ1bmN0aW9uIGJlaW5nIG92ZXJyaWRkZW46XG5cdCAgICAgKiAkc3RhdGVQcm92aWRlci5kZWNvcmF0b3IoJ3ZpZXdzJywgZnVuY3Rpb24gKHN0YXRlLCBwYXJlbnQpIHtcblx0ICAgICAqICAgbGV0IHJlc3VsdCA9IHt9LFxuXHQgICAgICogICAgICAgdmlld3MgPSBwYXJlbnQoc3RhdGUpO1xuXHQgICAgICpcblx0ICAgICAqICAgYW5ndWxhci5mb3JFYWNoKHZpZXdzLCBmdW5jdGlvbiAoY29uZmlnLCBuYW1lKSB7XG5cdCAgICAgKiAgICAgbGV0IGF1dG9OYW1lID0gKHN0YXRlLm5hbWUgKyAnLicgKyBuYW1lKS5yZXBsYWNlKCcuJywgJy8nKTtcblx0ICAgICAqICAgICBjb25maWcudGVtcGxhdGVVcmwgPSBjb25maWcudGVtcGxhdGVVcmwgfHwgJy9wYXJ0aWFscy8nICsgYXV0b05hbWUgKyAnLmh0bWwnO1xuXHQgICAgICogICAgIHJlc3VsdFtuYW1lXSA9IGNvbmZpZztcblx0ICAgICAqICAgfSk7XG5cdCAgICAgKiAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqXG5cdCAgICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaG9tZScsIHtcblx0ICAgICAqICAgdmlld3M6IHtcblx0ICAgICAqICAgICAnY29udGFjdC5saXN0JzogeyBjb250cm9sbGVyOiAnTGlzdENvbnRyb2xsZXInIH0sXG5cdCAgICAgKiAgICAgJ2NvbnRhY3QuaXRlbSc6IHsgY29udHJvbGxlcjogJ0l0ZW1Db250cm9sbGVyJyB9XG5cdCAgICAgKiAgIH1cblx0ICAgICAqIH0pO1xuXHQgICAgICpcblx0ICAgICAqIC8vIC4uLlxuXHQgICAgICpcblx0ICAgICAqICRzdGF0ZS5nbygnaG9tZScpO1xuXHQgICAgICogLy8gQXV0by1wb3B1bGF0ZXMgbGlzdCBhbmQgaXRlbSB2aWV3cyB3aXRoIC9wYXJ0aWFscy9ob21lL2NvbnRhY3QvbGlzdC5odG1sLFxuXHQgICAgICogLy8gYW5kIC9wYXJ0aWFscy9ob21lL2NvbnRhY3QvaXRlbS5odG1sLCByZXNwZWN0aXZlbHkuXG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgYnVpbGRlciBmdW5jdGlvbiB0byBkZWNvcmF0ZS5cblx0ICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmdW5jIEEgZnVuY3Rpb24gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgZGVjb3JhdGluZyB0aGUgb3JpZ2luYWxcblx0ICAgICAqIGJ1aWxkZXIgZnVuY3Rpb24uIFRoZSBmdW5jdGlvbiByZWNlaXZlcyB0d28gcGFyYW1ldGVyczpcblx0ICAgICAqXG5cdCAgICAgKiAgIC0gYHtvYmplY3R9YCAtIHN0YXRlIC0gVGhlIHN0YXRlIGNvbmZpZyBvYmplY3QuXG5cdCAgICAgKiAgIC0gYHtvYmplY3R9YCAtIHN1cGVyIC0gVGhlIG9yaWdpbmFsIGJ1aWxkZXIgZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7b2JqZWN0fSAkc3RhdGVQcm92aWRlciAtICRzdGF0ZVByb3ZpZGVyIGluc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlUHJvdmlkZXIucHJvdG90eXBlLmRlY29yYXRvciA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IobmFtZSwgZnVuYykgfHwgdGhpcztcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVByb3ZpZGVyI3N0YXRlXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVByb3ZpZGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBSZWdpc3RlcnMgYSBzdGF0ZSBjb25maWd1cmF0aW9uIHVuZGVyIGEgZ2l2ZW4gc3RhdGUgbmFtZS4gVGhlIHN0YXRlQ29uZmlnIG9iamVjdFxuXHQgICAgICogaGFzIHRoZSBmb2xsb3dpbmcgYWNjZXB0YWJsZSBwcm9wZXJ0aWVzLlxuXHQgICAgICpcblx0ICAgICAqIDxhIGlkPSd0ZW1wbGF0ZSc+PC9hPlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgdGVtcGxhdGVgKiogLSB7c3RyaW5nfGZ1bmN0aW9uPX0gLSBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG5cdCAgICAgKiAgIGFuIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgd2hpY2ggc2hvdWxkIGJlIHVzZWQgYnkgdGhlIHVpVmlldyBkaXJlY3RpdmVzLiBUaGlzIHByb3BlcnR5XG5cdCAgICAgKiAgIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0ZW1wbGF0ZVVybC5cblx0ICAgICAqXG5cdCAgICAgKiAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG5cdCAgICAgKlxuXHQgICAgICogICAtIHthcnJheS4mbHQ7b2JqZWN0Jmd0O30gLSBzdGF0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50ICRsb2NhdGlvbi5wYXRoKCkgYnlcblx0ICAgICAqICAgICBhcHBseWluZyB0aGUgY3VycmVudCBzdGF0ZVxuXHQgICAgICpcblx0ICAgICAqIDxhIGlkPSd0ZW1wbGF0ZVVybCc+PC9hPlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgdGVtcGxhdGVVcmxgKiogLSB7c3RyaW5nfGZ1bmN0aW9uPX0gLSBwYXRoIG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHBhdGggdG8gYW4gaHRtbFxuXHQgICAgICogICB0ZW1wbGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHVpVmlldy5cblx0ICAgICAqXG5cdCAgICAgKiAgIElmIGB0ZW1wbGF0ZVVybGAgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG5cdCAgICAgKlxuXHQgICAgICogICAtIHthcnJheS4mbHQ7b2JqZWN0Jmd0O30gLSBzdGF0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50ICRsb2NhdGlvbi5wYXRoKCkgYnlcblx0ICAgICAqICAgICBhcHBseWluZyB0aGUgY3VycmVudCBzdGF0ZVxuXHQgICAgICpcblx0ICAgICAqIDxhIGlkPSd0ZW1wbGF0ZVByb3ZpZGVyJz48L2E+XG5cdCAgICAgKlxuXHQgICAgICogLSAqKmB0ZW1wbGF0ZVByb3ZpZGVyYCoqIC0ge2Z1bmN0aW9uPX0gLSBQcm92aWRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgSFRNTCBjb250ZW50XG5cdCAgICAgKiAgIHN0cmluZy5cblx0ICAgICAqXG5cdCAgICAgKiA8YSBpZD0nY29udHJvbGxlcic+PC9hPlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgY29udHJvbGxlcmAqKiAtIHtzdHJpbmd8ZnVuY3Rpb249fSAtICBDb250cm9sbGVyIGZuIHRoYXQgc2hvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aCBuZXdseVxuXHQgICAgICogICByZWxhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEgcmVnaXN0ZXJlZCBjb250cm9sbGVyIGlmIHBhc3NlZCBhcyBhIHN0cmluZy5cblx0ICAgICAqXG5cdCAgICAgKiA8YSBpZD0nY29udHJvbGxlclByb3ZpZGVyJz48L2E+XG5cdCAgICAgKlxuXHQgICAgICogLSAqKmBjb250cm9sbGVyUHJvdmlkZXJgKiogLSB7ZnVuY3Rpb249fSAtIEluamVjdGFibGUgcHJvdmlkZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG5cdCAgICAgKiAgIHRoZSBhY3R1YWwgY29udHJvbGxlciBvciBzdHJpbmcuXG5cdCAgICAgKlxuXHQgICAgICogPGEgaWQ9J2NvbnRyb2xsZXJBcyc+PC9hPlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgY29udHJvbGxlckFzYCoqIOKAkyB7c3RyaW5nPX0g4oCTIEEgY29udHJvbGxlciBhbGlhcyBuYW1lLiBJZiBwcmVzZW50IHRoZSBjb250cm9sbGVyIHdpbGwgYmVcblx0ICAgICAqICAgcHVibGlzaGVkIHRvIHNjb3BlIHVuZGVyIHRoZSBjb250cm9sbGVyQXMgbmFtZS5cblx0ICAgICAqXG5cdCAgICAgKiA8YSBpZD0ncmVzb2x2ZSc+PC9hPlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgcmVzb2x2ZWAqKiAtIHtvYmplY3QuJmx0O3N0cmluZywgZnVuY3Rpb24mZ3Q7PX0gLSBBbiBvcHRpb25hbCBtYXAgb2YgZGVwZW5kZW5jaWVzIHdoaWNoXG5cdCAgICAgKiAgIHNob3VsZCBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLiBJZiBhbnkgb2YgdGhlc2UgZGVwZW5kZW5jaWVzIGFyZSBwcm9taXNlcyxcblx0ICAgICAqICAgdGhlIHJvdXRlciB3aWxsIHdhaXQgZm9yIHRoZW0gYWxsIHRvIGJlIHJlc29sdmVkIG9yIG9uZSB0byBiZSByZWplY3RlZCBiZWZvcmUgdGhlXG5cdCAgICAgKiAgIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkLiBJZiBhbGwgdGhlIHByb21pc2VzIGFyZSByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHRoZSB2YWx1ZXNcblx0ICAgICAqICAgb2YgdGhlIHJlc29sdmVkIHByb21pc2VzIGFyZSBpbmplY3RlZCBhbmQgJHN0YXRlQ2hhbmdlU3VjY2VzcyBldmVudCBpcyBmaXJlZC4gSWYgYW55XG5cdCAgICAgKiAgIG9mIHRoZSBwcm9taXNlcyBhcmUgcmVqZWN0ZWQgdGhlICRzdGF0ZUNoYW5nZUVycm9yIGV2ZW50IGlzIGZpcmVkLiBUaGUgbWFwIG9iamVjdCBpczpcblx0ICAgICAqXG5cdCAgICAgKiAgIC0ga2V5IC0ge3N0cmluZ306IG5hbWUgb2YgZGVwZW5kZW5jeSB0byBiZSBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXJcblx0ICAgICAqICAgLSBmYWN0b3J5IC0ge3N0cmluZ3xmdW5jdGlvbn06IElmIHN0cmluZyB0aGVuIGl0IGlzIGFsaWFzIGZvciBzZXJ2aWNlLiBPdGhlcndpc2UgaWYgZnVuY3Rpb24sXG5cdCAgICAgKiAgICAgaXQgaXMgaW5qZWN0ZWQgYW5kIHJldHVybiB2YWx1ZSBpdCB0cmVhdGVkIGFzIGRlcGVuZGVuY3kuIElmIHJlc3VsdCBpcyBhIHByb21pc2UsIGl0IGlzXG5cdCAgICAgKiAgICAgcmVzb2x2ZWQgYmVmb3JlIGl0cyB2YWx1ZSBpcyBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXIuXG5cdCAgICAgKlxuXHQgICAgICogPGEgaWQ9J3VybCc+PC9hPlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgdXJsYCoqIC0ge3N0cmluZz19IC0gQSB1cmwgd2l0aCBvcHRpb25hbCBwYXJhbWV0ZXJzLiBXaGVuIGEgc3RhdGUgaXMgbmF2aWdhdGVkIG9yXG5cdCAgICAgKiAgIHRyYW5zaXRpb25lZCB0bywgdGhlIGAkc3RhdGVQYXJhbXNgIHNlcnZpY2Ugd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCBhbnlcblx0ICAgICAqICAgcGFyYW1ldGVycyB0aGF0IHdlcmUgcGFzc2VkLlxuXHQgICAgICpcblx0ICAgICAqIDxhIGlkPSdwYXJhbXMnPjwvYT5cblx0ICAgICAqXG5cdCAgICAgKiAtICoqYHBhcmFtc2AqKiAtIHtvYmplY3Q9fSAtIEFuIGFycmF5IG9mIHBhcmFtZXRlciBuYW1lcyBvciByZWd1bGFyIGV4cHJlc3Npb25zLiBPbmx5XG5cdCAgICAgKiAgIHVzZSB0aGlzIHdpdGhpbiBhIHN0YXRlIGlmIHlvdSBhcmUgbm90IHVzaW5nIHVybC4gT3RoZXJ3aXNlIHlvdSBjYW4gc3BlY2lmeSB5b3VyXG5cdCAgICAgKiAgIHBhcmFtZXRlcnMgd2l0aGluIHRoZSB1cmwuIFdoZW4gYSBzdGF0ZSBpcyBuYXZpZ2F0ZWQgb3IgdHJhbnNpdGlvbmVkIHRvLCB0aGVcblx0ICAgICAqICAgJHN0YXRlUGFyYW1zIHNlcnZpY2Ugd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCBhbnkgcGFyYW1ldGVycyB0aGF0IHdlcmUgcGFzc2VkLlxuXHQgICAgICpcblx0ICAgICAqIDxhIGlkPSd2aWV3cyc+PC9hPlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgdmlld3NgKiogLSB7b2JqZWN0PX0gLSBVc2UgdGhlIHZpZXdzIHByb3BlcnR5IHRvIHNldCB1cCBtdWx0aXBsZSB2aWV3cyBvciB0byB0YXJnZXQgdmlld3Ncblx0ICAgICAqICAgbWFudWFsbHkvZXhwbGljaXRseS5cblx0ICAgICAqXG5cdCAgICAgKiA8YSBpZD0nYWJzdHJhY3QnPjwvYT5cblx0ICAgICAqXG5cdCAgICAgKiAtICoqYGFic3RyYWN0YCoqIC0ge2Jvb2xlYW49fSAtIEFuIGFic3RyYWN0IHN0YXRlIHdpbGwgbmV2ZXIgYmUgZGlyZWN0bHkgYWN0aXZhdGVkLFxuXHQgICAgICogICBidXQgY2FuIHByb3ZpZGUgaW5oZXJpdGVkIHByb3BlcnRpZXMgdG8gaXRzIGNvbW1vbiBjaGlsZHJlbiBzdGF0ZXMuXG5cdCAgICAgKlxuXHQgICAgICogPGEgaWQ9J29uRW50ZXInPjwvYT5cblx0ICAgICAqXG5cdCAgICAgKiAtICoqYG9uRW50ZXJgKiogLSB7b2JqZWN0PX0gLSBDYWxsYmFjayBmdW5jdGlvbiBmb3Igd2hlbiBhIHN0YXRlIGlzIGVudGVyZWQuIEdvb2Qgd2F5XG5cdCAgICAgKiAgIHRvIHRyaWdnZXIgYW4gYWN0aW9uIG9yIGRpc3BhdGNoIGFuIGV2ZW50LCBzdWNoIGFzIG9wZW5pbmcgYSBkaWFsb2cuXG5cdCAgICAgKiBJZiBtaW5pZnlpbmcgeW91ciBzY3JpcHRzLCBtYWtlIHN1cmUgdG8gdXNlIHRoZSBgWydpbmplY3Rpb24xJywgJ2luamVjdGlvbjInLCBmdW5jdGlvbihpbmplY3Rpb24xLCBpbmplY3Rpb24yKXt9XWAgc3ludGF4LlxuXHQgICAgICpcblx0ICAgICAqIDxhIGlkPSdvbkV4aXQnPjwvYT5cblx0ICAgICAqXG5cdCAgICAgKiAtICoqYG9uRXhpdGAqKiAtIHtvYmplY3Q9fSAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciB3aGVuIGEgc3RhdGUgaXMgZXhpdGVkLiBHb29kIHdheSB0b1xuXHQgICAgICogICB0cmlnZ2VyIGFuIGFjdGlvbiBvciBkaXNwYXRjaCBhbiBldmVudCwgc3VjaCBhcyBvcGVuaW5nIGEgZGlhbG9nLlxuXHQgICAgICogSWYgbWluaWZ5aW5nIHlvdXIgc2NyaXB0cywgbWFrZSBzdXJlIHRvIHVzZSB0aGUgYFsnaW5qZWN0aW9uMScsICdpbmplY3Rpb24yJywgZnVuY3Rpb24oaW5qZWN0aW9uMSwgaW5qZWN0aW9uMil7fV1gIHN5bnRheC5cblx0ICAgICAqXG5cdCAgICAgKiA8YSBpZD0ncmVsb2FkT25TZWFyY2gnPjwvYT5cblx0ICAgICAqXG5cdCAgICAgKiAtICoqYHJlbG9hZE9uU2VhcmNoID0gdHJ1ZWAqKiAtIHtib29sZWFuPX0gLSBJZiBgZmFsc2VgLCB3aWxsIG5vdCByZXRyaWdnZXIgdGhlIHNhbWUgc3RhdGVcblx0ICAgICAqICAganVzdCBiZWNhdXNlIGEgc2VhcmNoL3F1ZXJ5IHBhcmFtZXRlciBoYXMgY2hhbmdlZCAodmlhICRsb2NhdGlvbi5zZWFyY2goKSBvciAkbG9jYXRpb24uaGFzaCgpKS5cblx0ICAgICAqICAgVXNlZnVsIGZvciB3aGVuIHlvdSdkIGxpa2UgdG8gbW9kaWZ5ICRsb2NhdGlvbi5zZWFyY2goKSB3aXRob3V0IHRyaWdnZXJpbmcgYSByZWxvYWQuXG5cdCAgICAgKlxuXHQgICAgICogPGEgaWQ9J2RhdGEnPjwvYT5cblx0ICAgICAqXG5cdCAgICAgKiAtICoqYGRhdGFgKiogLSB7b2JqZWN0PX0gLSBBcmJpdHJhcnkgZGF0YSBvYmplY3QsIHVzZWZ1bCBmb3IgY3VzdG9tIGNvbmZpZ3VyYXRpb24uXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqIDxwcmU+XG5cdCAgICAgKiAvLyBTb21lIHN0YXRlIG5hbWUgZXhhbXBsZXNcblx0ICAgICAqXG5cdCAgICAgKiAvLyBzdGF0ZU5hbWUgY2FuIGJlIGEgc2luZ2xlIHRvcC1sZXZlbCBuYW1lIChtdXN0IGJlIHVuaXF1ZSkuXG5cdCAgICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge30pO1xuXHQgICAgICpcblx0ICAgICAqIC8vIE9yIGl0IGNhbiBiZSBhIG5lc3RlZCBzdGF0ZSBuYW1lLiBUaGlzIHN0YXRlIGlzIGEgY2hpbGQgb2YgdGhlXG5cdCAgICAgKiAvLyBhYm92ZSBcImhvbWVcIiBzdGF0ZS5cblx0ICAgICAqICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZS5uZXdlc3RcIiwge30pO1xuXHQgICAgICpcblx0ICAgICAqIC8vIE5lc3Qgc3RhdGVzIGFzIGRlZXBseSBhcyBuZWVkZWQuXG5cdCAgICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWUubmV3ZXN0LmFiYy54eXouaW5jZXB0aW9uXCIsIHt9KTtcblx0ICAgICAqXG5cdCAgICAgKiAvLyBzdGF0ZSgpIHJldHVybnMgJHN0YXRlUHJvdmlkZXIsIHNvIHlvdSBjYW4gY2hhaW4gc3RhdGUgZGVjbGFyYXRpb25zLlxuXHQgICAgICogJHN0YXRlUHJvdmlkZXJcblx0ICAgICAqICAgLnN0YXRlKFwiaG9tZVwiLCB7fSlcblx0ICAgICAqICAgLnN0YXRlKFwiYWJvdXRcIiwge30pXG5cdCAgICAgKiAgIC5zdGF0ZShcImNvbnRhY3RzXCIsIHt9KTtcblx0ICAgICAqIDwvcHJlPlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEEgdW5pcXVlIHN0YXRlIG5hbWUsIGUuZy4gXCJob21lXCIsIFwiYWJvdXRcIiwgXCJjb250YWN0c1wiLlxuXHQgICAgICogVG8gY3JlYXRlIGEgcGFyZW50L2NoaWxkIHN0YXRlIHVzZSBhIGRvdCwgZS5nLiBcImFib3V0LnNhbGVzXCIsIFwiaG9tZS5uZXdlc3RcIi5cblx0ICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkZWZpbml0aW9uIFN0YXRlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuXHQgICAgICovXG5cdCAgICBTdGF0ZVByb3ZpZGVyLnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uKSB7XG5cdCAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc09iamVjdChuYW1lKSkge1xuXHQgICAgICAgICAgICBkZWZpbml0aW9uID0gbmFtZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGRlZmluaXRpb24ubmFtZSA9IG5hbWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuc3RhdGVSZWdpc3RyeS5yZWdpc3RlcihkZWZpbml0aW9uKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVByb3ZpZGVyI29uSW52YWxpZFxuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVQcm92aWRlclxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogUmVnaXN0ZXJzIGEgZnVuY3Rpb24gdG8gYmUgaW5qZWN0ZWQgYW5kIGludm9rZWQgd2hlbiB0cmFuc2l0aW9uVG8gaGFzIGJlZW4gY2FsbGVkIHdpdGggYW4gaW52YWxpZFxuXHQgICAgICogc3RhdGUgcmVmZXJlbmNlIHBhcmFtZXRlclxuXHQgICAgICpcblx0ICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIGluamVjdGVkIHdpdGggb25lIHNvbWUgc3BlY2lhbCB2YWx1ZXM6XG5cdCAgICAgKiAtICoqYCR0byRgKio6IFRhcmdldFN0YXRlXG5cdCAgICAgKiAtICoqYCRmcm9tJGAqKjogVGFyZ2V0U3RhdGVcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuXHQgICAgICogICBUaGUgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBpbmplY3RlZCBhbmQgaW52b2tlZCwgd2hlbiBhIG1hdGNoaW5nIHRyYW5zaXRpb24gaXMgc3RhcnRlZC5cblx0ICAgICAqICAgVGhlIGZ1bmN0aW9uIG1heSBvcHRpb25hbGx5IHJldHVybiBhIHtUYXJnZXRTdGF0ZX0gb3IgYSBQcm9taXNlIGZvciBhIFRhcmdldFN0YXRlLiAgSWYgb25lXG5cdCAgICAgKiAgIGlzIHJldHVybmVkLCBpdCBpcyB0cmVhdGVkIGFzIGEgcmVkaXJlY3QuXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlUHJvdmlkZXIucHJvdG90eXBlLm9uSW52YWxpZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgICAgIHRoaXMuaW52YWxpZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gU3RhdGVQcm92aWRlcjtcblx0fSgpKTtcblx0ZXhwb3J0cy5TdGF0ZVByb3ZpZGVyID0gU3RhdGVQcm92aWRlcjtcblxuXG4vKioqLyB9LFxuLyogMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSBzdGF0ZSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHByZWRpY2F0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBob2ZfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciBtb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHR2YXIgcGFyc2VVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG5cdCAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc1N0cmluZyh1cmwpKVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIHZhciByb290ID0gdXJsLmNoYXJBdCgwKSA9PT0gJ14nO1xuXHQgICAgcmV0dXJuIHsgdmFsOiByb290ID8gdXJsLnN1YnN0cmluZygxKSA6IHVybCwgcm9vdDogcm9vdCB9O1xuXHR9O1xuXHQvKipcblx0ICogQGludGVybmFsYXBpIEEgaW50ZXJuYWwgZ2xvYmFsIHNlcnZpY2Vcblx0ICpcblx0ICogU3RhdGVCdWlsZGVyIGlzIGEgZmFjdG9yeSBmb3IgdGhlIGludGVybmFsIFtbU3RhdGVdXSBvYmplY3RzLlxuXHQgKlxuXHQgKiBXaGVuIHlvdSByZWdpc3RlciBhIHN0YXRlIHdpdGggdGhlIFtbU3RhdGVSZWdpc3RyeV1dLCB5b3UgcmVnaXN0ZXIgYSBwbGFpbiBvbGQgamF2YXNjcmlwdCBvYmplY3Qgd2hpY2hcblx0ICogY29uZm9ybXMgdG8gdGhlIFtbU3RhdGVEZWNsYXJhdGlvbl1dIGludGVyZmFjZS4gIFRoaXMgZmFjdG9yeSB0YWtlcyB0aGF0IG9iamVjdCBhbmQgYnVpbGRzIHRoZSBjb3JyZXNwb25kaW5nXG5cdCAqIFtbU3RhdGVdXSBvYmplY3QsIHdoaWNoIGhhcyBhbiBBUEkgYW5kIGlzIHVzZWQgaW50ZXJuYWxseS5cblx0ICpcblx0ICogQ3VzdG9tIHByb3BlcnRpZXMgb3IgQVBJIG1heSBiZSBhZGRlZCB0byB0aGUgaW50ZXJuYWwgW1tTdGF0ZV1dIG9iamVjdCBieSByZWdpc3RlcmluZyBhIGRlY29yYXRvciBmdW5jdGlvblxuXHQgKiB1c2luZyB0aGUgW1tidWlsZGVyXV0gbWV0aG9kLlxuXHQgKi9cblx0dmFyIFN0YXRlQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBTdGF0ZUJ1aWxkZXIobWF0Y2hlciwgJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIpIHtcblx0ICAgICAgICB0aGlzLm1hdGNoZXIgPSBtYXRjaGVyO1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgaXNSb290ID0gZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBzdGF0ZS5uYW1lID09PSBcIlwiOyB9O1xuXHQgICAgICAgIHZhciByb290ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF0Y2hlci5maW5kKFwiXCIpOyB9O1xuXHQgICAgICAgIHRoaXMuYnVpbGRlcnMgPSB7XG5cdCAgICAgICAgICAgIHNlbGY6IFtmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zZWxmLiQkc3RhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0ZTsgfTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuc2VsZjtcblx0ICAgICAgICAgICAgICAgIH1dLFxuXHQgICAgICAgICAgICBwYXJlbnQ6IFtmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaXNSb290KHN0YXRlKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXIuZmluZChzZWxmLnBhcmVudE5hbWUoc3RhdGUpKSB8fCByb290KCk7XG5cdCAgICAgICAgICAgICAgICB9XSxcblx0ICAgICAgICAgICAgZGF0YTogW2Z1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5wYXJlbnQgJiYgc3RhdGUucGFyZW50LmRhdGEpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGF0YSA9IHN0YXRlLnNlbGYuZGF0YSA9IGNvbW1vbl8xLmluaGVyaXQoc3RhdGUucGFyZW50LmRhdGEsIHN0YXRlLmRhdGEpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZGF0YTtcblx0ICAgICAgICAgICAgICAgIH1dLFxuXHQgICAgICAgICAgICAvLyBCdWlsZCBhIFVSTE1hdGNoZXIgaWYgbmVjZXNzYXJ5LCBlaXRoZXIgdmlhIGEgcmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMXG5cdCAgICAgICAgICAgIHVybDogW2Z1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZURlYyA9IHN0YXRlO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZVVybChzdGF0ZURlYy51cmwpLCBwYXJlbnQgPSBzdGF0ZS5wYXJlbnQ7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICFwYXJzZWQgPyBzdGF0ZURlYy51cmwgOiAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlci5jb21waWxlKHBhcnNlZC52YWwsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBzdGF0ZS5wYXJhbXMgfHwge30sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtTWFwOiBmdW5jdGlvbiAocGFyYW1Db25maWcsIGlzU2VhcmNoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVEZWMucmVsb2FkT25TZWFyY2ggPT09IGZhbHNlICYmIGlzU2VhcmNoKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtQ29uZmlnID0gY29tbW9uXzEuZXh0ZW5kKHBhcmFtQ29uZmlnIHx8IHt9LCB7IGR5bmFtaWM6IHRydWUgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1Db25maWc7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXVybClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlci5pc01hdGNoZXIodXJsKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1cmwgJ1wiICsgdXJsICsgXCInIGluIHN0YXRlICdcIiArIHN0YXRlICsgXCInXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAocGFyc2VkICYmIHBhcnNlZC5yb290KSA/IHVybCA6ICgocGFyZW50ICYmIHBhcmVudC5uYXZpZ2FibGUpIHx8IHJvb3QoKSkudXJsLmFwcGVuZCh1cmwpO1xuXHQgICAgICAgICAgICAgICAgfV0sXG5cdCAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIGNsb3Nlc3QgYW5jZXN0b3Igc3RhdGUgdGhhdCBoYXMgYSBVUkwgKGkuZS4gaXMgbmF2aWdhYmxlKVxuXHQgICAgICAgICAgICBuYXZpZ2FibGU6IFtmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWlzUm9vdChzdGF0ZSkgJiYgc3RhdGUudXJsID8gc3RhdGUgOiAoc3RhdGUucGFyZW50ID8gc3RhdGUucGFyZW50Lm5hdmlnYWJsZSA6IG51bGwpO1xuXHQgICAgICAgICAgICAgICAgfV0sXG5cdCAgICAgICAgICAgIHBhcmFtczogW2Z1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBtYWtlQ29uZmlnUGFyYW0gPSBmdW5jdGlvbiAoY29uZmlnLCBpZCkgeyByZXR1cm4gbW9kdWxlXzEuUGFyYW0uZnJvbUNvbmZpZyhpZCwgbnVsbCwgY29uZmlnKTsgfTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdXJsUGFyYW1zID0gKHN0YXRlLnVybCAmJiBzdGF0ZS51cmwucGFyYW1ldGVycyh7IGluaGVyaXQ6IGZhbHNlIH0pKSB8fCBbXTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbm9uVXJsUGFyYW1zID0gY29tbW9uXzEudmFsdWVzKGNvbW1vbl8xLm1hcChjb21tb25fMS5vbWl0KHN0YXRlLnBhcmFtcyB8fCB7fSwgdXJsUGFyYW1zLm1hcChob2ZfMS5wcm9wKCdpZCcpKSksIG1ha2VDb25maWdQYXJhbSkpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmxQYXJhbXMuY29uY2F0KG5vblVybFBhcmFtcykubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBbcC5pZCwgcF07IH0pLnJlZHVjZShjb21tb25fMS5hcHBseVBhaXJzLCB7fSk7XG5cdCAgICAgICAgICAgICAgICB9XSxcblx0ICAgICAgICAgICAgLy8gRWFjaCBmcmFtZXdvcmstc3BlY2lmaWMgdWktcm91dGVyIGltcGxlbWVudGF0aW9uIHNob3VsZCBkZWZpbmUgaXRzIG93biBgdmlld3NgIGJ1aWxkZXJcblx0ICAgICAgICAgICAgLy8gZS5nLiwgc3JjL25nMS92aWV3c0J1aWxkZXIudHNcblx0ICAgICAgICAgICAgdmlld3M6IFtdLFxuXHQgICAgICAgICAgICAvLyBLZWVwIGEgZnVsbCBwYXRoIGZyb20gdGhlIHJvb3QgZG93biB0byB0aGlzIHN0YXRlIGFzIHRoaXMgaXMgbmVlZGVkIGZvciBzdGF0ZSBhY3RpdmF0aW9uLlxuXHQgICAgICAgICAgICBwYXRoOiBbZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnBhcmVudCA/IHN0YXRlLnBhcmVudC5wYXRoLmNvbmNhdChzdGF0ZSkgOiBbc3RhdGVdO1xuXHQgICAgICAgICAgICAgICAgfV0sXG5cdCAgICAgICAgICAgIC8vIFNwZWVkIHVwICRzdGF0ZS5pbmNsdWRlcygpIGFzIGl0J3MgdXNlZCBhIGxvdFxuXHQgICAgICAgICAgICBpbmNsdWRlczogW2Z1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlcyA9IHN0YXRlLnBhcmVudCA/IGNvbW1vbl8xLmV4dGVuZCh7fSwgc3RhdGUucGFyZW50LmluY2x1ZGVzKSA6IHt9O1xuXHQgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzW3N0YXRlLm5hbWVdID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5jbHVkZXM7XG5cdCAgICAgICAgICAgICAgICB9XVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICAvKipcblx0ICAgICAqIFJlZ2lzdGVycyBhIFtbQnVpbGRlckZ1bmN0aW9uXV0gZm9yIGEgc3BlY2lmaWMgW1tTdGF0ZV1dIHByb3BlcnR5IChlLmcuLCBgcGFyZW50YCwgYHVybGAsIG9yIGBwYXRoYCkuXG5cdCAgICAgKiBNb3JlIHRoYW4gb25lIEJ1aWxkZXJGdW5jdGlvbiBjYW4gYmUgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBwcm9wZXJ0eS5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgQnVpbGRlckZ1bmN0aW9uKHMpIHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHByb3BlcnR5IG9uIGFueSBzdWJzZXF1ZW50bHkgYnVpbHQgW1tTdGF0ZV1dIG9iamVjdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIFN0YXRlIHByb3BlcnR5IGJlaW5nIHJlZ2lzdGVyZWQgZm9yLlxuXHQgICAgICogQHBhcmFtIGZuIFRoZSBCdWlsZGVyRnVuY3Rpb24gd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGJ1aWxkIHRoZSBTdGF0ZSBwcm9wZXJ0eVxuXHQgICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBkZXJlZ2lzdGVycyB0aGUgQnVpbGRlckZ1bmN0aW9uXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlQnVpbGRlci5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uIChuYW1lLCBmbikge1xuXHQgICAgICAgIHZhciBidWlsZGVycyA9IHRoaXMuYnVpbGRlcnM7XG5cdCAgICAgICAgdmFyIGFycmF5ID0gYnVpbGRlcnNbbmFtZV0gfHwgW107XG5cdCAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdDogaWYgb25seSBvbmUgYnVpbGRlciBleGlzdHMsIHJldHVybiBpdCwgZWxzZSByZXR1cm4gd2hvbGUgYXJhcnkuXG5cdCAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhuYW1lKSAmJiAhcHJlZGljYXRlc18xLmlzRGVmaW5lZChmbikpXG5cdCAgICAgICAgICAgIHJldHVybiBhcnJheS5sZW5ndGggPiAxID8gYXJyYXkgOiBhcnJheVswXTtcblx0ICAgICAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc1N0cmluZyhuYW1lKSB8fCAhcHJlZGljYXRlc18xLmlzRnVuY3Rpb24oZm4pKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgYnVpbGRlcnNbbmFtZV0gPSBhcnJheTtcblx0ICAgICAgICBidWlsZGVyc1tuYW1lXS5wdXNoKGZuKTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVpbGRlcnNbbmFtZV0uc3BsaWNlKGJ1aWxkZXJzW25hbWVdLmluZGV4T2YoZm4sIDEpKSAmJiBudWxsOyB9O1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQnVpbGRzIGFsbCBvZiB0aGUgcHJvcGVydGllcyBvbiBhbiBlc3NlbnRpYWxseSBibGFuayBTdGF0ZSBvYmplY3QsIHJldHVybmluZyBhIFN0YXRlIG9iamVjdCB3aGljaCBoYXMgYWxsIGl0c1xuXHQgICAgICogcHJvcGVydGllcyBhbmQgQVBJIGJ1aWx0LlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSBzdGF0ZSBhbiB1bmluaXRpYWxpemVkIFN0YXRlIG9iamVjdFxuXHQgICAgICogQHJldHVybnMgdGhlIGJ1aWx0IFN0YXRlIG9iamVjdFxuXHQgICAgICovXG5cdCAgICBTdGF0ZUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcywgbWF0Y2hlciA9IF9hLm1hdGNoZXIsIGJ1aWxkZXJzID0gX2EuYnVpbGRlcnM7XG5cdCAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50TmFtZShzdGF0ZSk7XG5cdCAgICAgICAgaWYgKHBhcmVudCAmJiAhbWF0Y2hlci5maW5kKHBhcmVudCkpXG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIGZvciAodmFyIGtleSBpbiBidWlsZGVycykge1xuXHQgICAgICAgICAgICBpZiAoIWJ1aWxkZXJzLmhhc093blByb3BlcnR5KGtleSkpXG5cdCAgICAgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICAgICAgdmFyIGNoYWluID0gYnVpbGRlcnNba2V5XS5yZWR1Y2UoZnVuY3Rpb24gKHBhcmVudEZuLCBzdGVwKSB7IHJldHVybiBmdW5jdGlvbiAoX3N0YXRlKSB7IHJldHVybiBzdGVwKF9zdGF0ZSwgcGFyZW50Rm4pOyB9OyB9LCBjb21tb25fMS5ub29wKTtcblx0ICAgICAgICAgICAgc3RhdGVba2V5XSA9IGNoYWluKHN0YXRlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfTtcblx0ICAgIFN0YXRlQnVpbGRlci5wcm90b3R5cGUucGFyZW50TmFtZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgIHZhciBuYW1lID0gc3RhdGUubmFtZSB8fCBcIlwiO1xuXHQgICAgICAgIGlmIChuYW1lLmluZGV4T2YoJy4nKSAhPT0gLTEpXG5cdCAgICAgICAgICAgIHJldHVybiBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxhc3RJbmRleE9mKCcuJykpO1xuXHQgICAgICAgIGlmICghc3RhdGUucGFyZW50KVxuXHQgICAgICAgICAgICByZXR1cm4gXCJcIjtcblx0ICAgICAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzU3RyaW5nKHN0YXRlLnBhcmVudCkgPyBzdGF0ZS5wYXJlbnQgOiBzdGF0ZS5wYXJlbnQubmFtZTtcblx0ICAgIH07XG5cdCAgICBTdGF0ZUJ1aWxkZXIucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICB2YXIgbmFtZSA9IHN0YXRlLm5hbWU7XG5cdCAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignLicpICE9PSAtMSB8fCAhc3RhdGUucGFyZW50KVxuXHQgICAgICAgICAgICByZXR1cm4gbmFtZTtcblx0ICAgICAgICB2YXIgcGFyZW50TmFtZSA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzdGF0ZS5wYXJlbnQpID8gc3RhdGUucGFyZW50IDogc3RhdGUucGFyZW50Lm5hbWU7XG5cdCAgICAgICAgcmV0dXJuIHBhcmVudE5hbWUgPyBwYXJlbnROYW1lICsgXCIuXCIgKyBuYW1lIDogbmFtZTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gU3RhdGVCdWlsZGVyO1xuXHR9KCkpO1xuXHRleHBvcnRzLlN0YXRlQnVpbGRlciA9IFN0YXRlQnVpbGRlcjtcblxuXG4vKioqLyB9LFxuLyogMjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG5cdH1cblx0LyoqXG5cdCAqIFRoaXMgbW9kdWxlIGNvbnRhaW5zIGNvZGUgZm9yIFN0YXRlIFBhcmFtZXRlcnMuXG5cdCAqXG5cdCAqIFNlZSBbW1BhcmFtRGVjbGFyYXRpb25dXVxuXHQgKiBAbW9kdWxlIHBhcmFtc1xuXHQgKiBAcHJlZmVycmVkIGRvY1xuXHQgKi9cblx0LyoqIGZvciB0eXBlZG9jICovXG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMjEpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMjMpKTtcblxuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSBwYXJhbXMgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBob2ZfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgdXJsTWF0Y2hlckNvbmZpZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdHZhciB0eXBlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0dmFyIHBhcmFtVHlwZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHR2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0dmFyIGlzU2hvcnRoYW5kID0gZnVuY3Rpb24gKGNmZykgeyByZXR1cm4gW1widmFsdWVcIiwgXCJ0eXBlXCIsIFwic3F1YXNoXCIsIFwiYXJyYXlcIiwgXCJkeW5hbWljXCJdLmZpbHRlcihoYXNPd24uYmluZChjZmcgfHwge30pKS5sZW5ndGggPT09IDA7IH07XG5cdChmdW5jdGlvbiAoRGVmVHlwZSkge1xuXHQgICAgRGVmVHlwZVtEZWZUeXBlW1wiUEFUSFwiXSA9IDBdID0gXCJQQVRIXCI7XG5cdCAgICBEZWZUeXBlW0RlZlR5cGVbXCJTRUFSQ0hcIl0gPSAxXSA9IFwiU0VBUkNIXCI7XG5cdCAgICBEZWZUeXBlW0RlZlR5cGVbXCJDT05GSUdcIl0gPSAyXSA9IFwiQ09ORklHXCI7XG5cdH0pKGV4cG9ydHMuRGVmVHlwZSB8fCAoZXhwb3J0cy5EZWZUeXBlID0ge30pKTtcblx0dmFyIERlZlR5cGUgPSBleHBvcnRzLkRlZlR5cGU7XG5cdGZ1bmN0aW9uIHVud3JhcFNob3J0aGFuZChjZmcpIHtcblx0ICAgIGNmZyA9IGlzU2hvcnRoYW5kKGNmZykgJiYgeyB2YWx1ZTogY2ZnIH0gfHwgY2ZnO1xuXHQgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChjZmcsIHtcblx0ICAgICAgICAkJGZuOiBwcmVkaWNhdGVzXzEuaXNJbmplY3RhYmxlKGNmZy52YWx1ZSkgPyBjZmcudmFsdWUgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBjZmcudmFsdWU7IH1cblx0ICAgIH0pO1xuXHR9XG5cdGZ1bmN0aW9uIGdldFR5cGUoY2ZnLCB1cmxUeXBlLCBsb2NhdGlvbiwgaWQpIHtcblx0ICAgIGlmIChjZmcudHlwZSAmJiB1cmxUeXBlICYmIHVybFR5cGUubmFtZSAhPT0gJ3N0cmluZycpXG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyYW0gJ1wiICsgaWQgKyBcIicgaGFzIHR3byB0eXBlIGNvbmZpZ3VyYXRpb25zLlwiKTtcblx0ICAgIGlmIChjZmcudHlwZSAmJiB1cmxUeXBlICYmIHVybFR5cGUubmFtZSA9PT0gJ3N0cmluZycgJiYgcGFyYW1UeXBlc18xLnBhcmFtVHlwZXMudHlwZShjZmcudHlwZSkpXG5cdCAgICAgICAgcmV0dXJuIHBhcmFtVHlwZXNfMS5wYXJhbVR5cGVzLnR5cGUoY2ZnLnR5cGUpO1xuXHQgICAgaWYgKHVybFR5cGUpXG5cdCAgICAgICAgcmV0dXJuIHVybFR5cGU7XG5cdCAgICBpZiAoIWNmZy50eXBlKVxuXHQgICAgICAgIHJldHVybiAobG9jYXRpb24gPT09IERlZlR5cGUuQ09ORklHID8gcGFyYW1UeXBlc18xLnBhcmFtVHlwZXMudHlwZShcImFueVwiKSA6IHBhcmFtVHlwZXNfMS5wYXJhbVR5cGVzLnR5cGUoXCJzdHJpbmdcIikpO1xuXHQgICAgcmV0dXJuIGNmZy50eXBlIGluc3RhbmNlb2YgdHlwZV8xLlR5cGUgPyBjZmcudHlwZSA6IHBhcmFtVHlwZXNfMS5wYXJhbVR5cGVzLnR5cGUoY2ZnLnR5cGUpO1xuXHR9XG5cdC8qKlxuXHQgKiByZXR1cm5zIGZhbHNlLCB0cnVlLCBvciB0aGUgc3F1YXNoIHZhbHVlIHRvIGluZGljYXRlIHRoZSBcImRlZmF1bHQgcGFyYW1ldGVyIHVybCBzcXVhc2ggcG9saWN5XCIuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsKSB7XG5cdCAgICB2YXIgc3F1YXNoID0gY29uZmlnLnNxdWFzaDtcblx0ICAgIGlmICghaXNPcHRpb25hbCB8fCBzcXVhc2ggPT09IGZhbHNlKVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIGlmICghcHJlZGljYXRlc18xLmlzRGVmaW5lZChzcXVhc2gpIHx8IHNxdWFzaCA9PSBudWxsKVxuXHQgICAgICAgIHJldHVybiB1cmxNYXRjaGVyQ29uZmlnXzEubWF0Y2hlckNvbmZpZy5kZWZhdWx0U3F1YXNoUG9saWN5KCk7XG5cdCAgICBpZiAoc3F1YXNoID09PSB0cnVlIHx8IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzcXVhc2gpKVxuXHQgICAgICAgIHJldHVybiBzcXVhc2g7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6ICdcIiArIHNxdWFzaCArIFwiJy4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBvciBhcmJpdHJhcnkgc3RyaW5nXCIpO1xuXHR9XG5cdGZ1bmN0aW9uIGdldFJlcGxhY2UoY29uZmlnLCBhcnJheU1vZGUsIGlzT3B0aW9uYWwsIHNxdWFzaCkge1xuXHQgICAgdmFyIHJlcGxhY2UsIGNvbmZpZ3VyZWRLZXlzLCBkZWZhdWx0UG9saWN5ID0gW1xuXHQgICAgICAgIHsgZnJvbTogXCJcIiwgdG86IChpc09wdGlvbmFsIHx8IGFycmF5TW9kZSA/IHVuZGVmaW5lZCA6IFwiXCIpIH0sXG5cdCAgICAgICAgeyBmcm9tOiBudWxsLCB0bzogKGlzT3B0aW9uYWwgfHwgYXJyYXlNb2RlID8gdW5kZWZpbmVkIDogXCJcIikgfVxuXHQgICAgXTtcblx0ICAgIHJlcGxhY2UgPSBwcmVkaWNhdGVzXzEuaXNBcnJheShjb25maWcucmVwbGFjZSkgPyBjb25maWcucmVwbGFjZSA6IFtdO1xuXHQgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzcXVhc2gpKVxuXHQgICAgICAgIHJlcGxhY2UucHVzaCh7IGZyb206IHNxdWFzaCwgdG86IHVuZGVmaW5lZCB9KTtcblx0ICAgIGNvbmZpZ3VyZWRLZXlzID0gY29tbW9uXzEubWFwKHJlcGxhY2UsIGhvZl8xLnByb3AoXCJmcm9tXCIpKTtcblx0ICAgIHJldHVybiBjb21tb25fMS5maWx0ZXIoZGVmYXVsdFBvbGljeSwgZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGNvbmZpZ3VyZWRLZXlzLmluZGV4T2YoaXRlbS5mcm9tKSA9PT0gLTE7IH0pLmNvbmNhdChyZXBsYWNlKTtcblx0fVxuXHR2YXIgUGFyYW0gPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gUGFyYW0oaWQsIHR5cGUsIGNvbmZpZywgbG9jYXRpb24pIHtcblx0ICAgICAgICBjb25maWcgPSB1bndyYXBTaG9ydGhhbmQoY29uZmlnKTtcblx0ICAgICAgICB0eXBlID0gZ2V0VHlwZShjb25maWcsIHR5cGUsIGxvY2F0aW9uLCBpZCk7XG5cdCAgICAgICAgdmFyIGFycmF5TW9kZSA9IGdldEFycmF5TW9kZSgpO1xuXHQgICAgICAgIHR5cGUgPSBhcnJheU1vZGUgPyB0eXBlLiRhc0FycmF5KGFycmF5TW9kZSwgbG9jYXRpb24gPT09IERlZlR5cGUuU0VBUkNIKSA6IHR5cGU7XG5cdCAgICAgICAgdmFyIGlzT3B0aW9uYWwgPSBjb25maWcudmFsdWUgIT09IHVuZGVmaW5lZDtcblx0ICAgICAgICB2YXIgZHluYW1pYyA9IGNvbmZpZy5keW5hbWljID09PSB0cnVlO1xuXHQgICAgICAgIHZhciBzcXVhc2ggPSBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsKTtcblx0ICAgICAgICB2YXIgcmVwbGFjZSA9IGdldFJlcGxhY2UoY29uZmlnLCBhcnJheU1vZGUsIGlzT3B0aW9uYWwsIHNxdWFzaCk7XG5cdCAgICAgICAgLy8gYXJyYXkgY29uZmlnOiBwYXJhbSBuYW1lIChwYXJhbVtdKSBvdmVycmlkZXMgZGVmYXVsdCBzZXR0aW5ncy4gIGV4cGxpY2l0IGNvbmZpZyBvdmVycmlkZXMgcGFyYW0gbmFtZS5cblx0ICAgICAgICBmdW5jdGlvbiBnZXRBcnJheU1vZGUoKSB7XG5cdCAgICAgICAgICAgIHZhciBhcnJheURlZmF1bHRzID0geyBhcnJheTogKGxvY2F0aW9uID09PSBEZWZUeXBlLlNFQVJDSCA/IFwiYXV0b1wiIDogZmFsc2UpIH07XG5cdCAgICAgICAgICAgIHZhciBhcnJheVBhcmFtTm9tZW5jbGF0dXJlID0gaWQubWF0Y2goL1xcW1xcXSQvKSA/IHsgYXJyYXk6IHRydWUgfSA6IHt9O1xuXHQgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKGFycmF5RGVmYXVsdHMsIGFycmF5UGFyYW1Ob21lbmNsYXR1cmUsIGNvbmZpZykuYXJyYXk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLCB7IGlkOiBpZCwgdHlwZTogdHlwZSwgbG9jYXRpb246IGxvY2F0aW9uLCBzcXVhc2g6IHNxdWFzaCwgcmVwbGFjZTogcmVwbGFjZSwgaXNPcHRpb25hbDogaXNPcHRpb25hbCwgZHluYW1pYzogZHluYW1pYywgY29uZmlnOiBjb25maWcsIGFycmF5OiBhcnJheU1vZGUgfSk7XG5cdCAgICB9XG5cdCAgICBQYXJhbS5wcm90b3R5cGUuaXNEZWZhdWx0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5pc09wdGlvbmFsICYmIHRoaXMudHlwZS5lcXVhbHModGhpcy52YWx1ZSgpLCB2YWx1ZSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBbSW50ZXJuYWxdIEdldHMgdGhlIGRlY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYSB2YWx1ZSBpZiB0aGUgdmFsdWUgaXMgZGVmaW5lZCwgb3RoZXJ3aXNlLCByZXR1cm5zIHRoZVxuXHQgICAgICogZGVmYXVsdCB2YWx1ZSwgd2hpY2ggbWF5IGJlIHRoZSByZXN1bHQgb2YgYW4gaW5qZWN0YWJsZSBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgUGFyYW0ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBbSW50ZXJuYWxdIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHBhcmFtZXRlciwgd2hpY2ggbWF5IGJlIGFuIGluamVjdGFibGUgZnVuY3Rpb24uXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdmFyICQkZ2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAoIWNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3Rvcilcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO1xuXHQgICAgICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yLmludm9rZShfdGhpcy5jb25maWcuJCRmbik7XG5cdCAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IG51bGwgJiYgZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIV90aGlzLnR5cGUuaXMoZGVmYXVsdFZhbHVlKSlcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlZmF1bHQgdmFsdWUgKFwiICsgZGVmYXVsdFZhbHVlICsgXCIpIGZvciBwYXJhbWV0ZXIgJ1wiICsgX3RoaXMuaWQgKyBcIicgaXMgbm90IGFuIGluc3RhbmNlIG9mIFR5cGUgKFwiICsgX3RoaXMudHlwZS5uYW1lICsgXCIpXCIpO1xuXHQgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyICRyZXBsYWNlID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSBjb21tb25fMS5tYXAoY29tbW9uXzEuZmlsdGVyKF90aGlzLnJlcGxhY2UsIGhvZl8xLnByb3BFcSgnZnJvbScsIHZhbCkpLCBob2ZfMS5wcm9wKFwidG9cIikpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQubGVuZ3RoID8gcmVwbGFjZW1lbnRbMF0gOiB2YWw7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YWx1ZSA9ICRyZXBsYWNlKHZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQodmFsdWUpID8gJCRnZXREZWZhdWx0VmFsdWUoKSA6IHRoaXMudHlwZS4kbm9ybWFsaXplKHZhbHVlKTtcblx0ICAgIH07XG5cdCAgICBQYXJhbS5wcm90b3R5cGUuaXNTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb24gPT09IERlZlR5cGUuU0VBUkNIO1xuXHQgICAgfTtcblx0ICAgIFBhcmFtLnByb3RvdHlwZS52YWxpZGF0ZXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAvLyBUaGVyZSB3YXMgbm8gcGFyYW1ldGVyIHZhbHVlLCBidXQgdGhlIHBhcmFtIGlzIG9wdGlvbmFsXG5cdCAgICAgICAgaWYgKCghcHJlZGljYXRlc18xLmlzRGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09IG51bGwpICYmIHRoaXMuaXNPcHRpb25hbClcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgLy8gVGhlIHZhbHVlIHdhcyBub3Qgb2YgdGhlIGNvcnJlY3QgVHlwZSwgYW5kIGNvdWxkIG5vdCBiZSBkZWNvZGVkIHRvIHRoZSBjb3JyZWN0IFR5cGVcblx0ICAgICAgICB2YXIgbm9ybWFsaXplZCA9IHRoaXMudHlwZS4kbm9ybWFsaXplKHZhbHVlKTtcblx0ICAgICAgICBpZiAoIXRoaXMudHlwZS5pcyhub3JtYWxpemVkKSlcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIC8vIFRoZSB2YWx1ZSB3YXMgb2YgdGhlIGNvcnJlY3QgdHlwZSwgYnV0IHdoZW4gZW5jb2RlZCwgZGlkIG5vdCBtYXRjaCB0aGUgVHlwZSdzIHJlZ2V4cFxuXHQgICAgICAgIHZhciBlbmNvZGVkID0gdGhpcy50eXBlLmVuY29kZShub3JtYWxpemVkKTtcblx0ICAgICAgICByZXR1cm4gIShwcmVkaWNhdGVzXzEuaXNTdHJpbmcoZW5jb2RlZCkgJiYgIXRoaXMudHlwZS5wYXR0ZXJuLmV4ZWMoZW5jb2RlZCkpO1xuXHQgICAgfTtcblx0ICAgIFBhcmFtLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gXCJ7UGFyYW06XCIgKyB0aGlzLmlkICsgXCIgXCIgKyB0aGlzLnR5cGUgKyBcIiBzcXVhc2g6ICdcIiArIHRoaXMuc3F1YXNoICsgXCInIG9wdGlvbmFsOiBcIiArIHRoaXMuaXNPcHRpb25hbCArIFwifVwiO1xuXHQgICAgfTtcblx0ICAgIC8qKiBDcmVhdGVzIGEgbmV3IFtbUGFyYW1dXSBmcm9tIGEgQ09ORklHIGJsb2NrICovXG5cdCAgICBQYXJhbS5mcm9tQ29uZmlnID0gZnVuY3Rpb24gKGlkLCB0eXBlLCBjb25maWcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFBhcmFtKGlkLCB0eXBlLCBjb25maWcsIERlZlR5cGUuQ09ORklHKTtcblx0ICAgIH07XG5cdCAgICAvKiogQ3JlYXRlcyBhIG5ldyBbW1BhcmFtXV0gZnJvbSBhIHVybCBQQVRIICovXG5cdCAgICBQYXJhbS5mcm9tUGF0aCA9IGZ1bmN0aW9uIChpZCwgdHlwZSwgY29uZmlnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQYXJhbShpZCwgdHlwZSwgY29uZmlnLCBEZWZUeXBlLlBBVEgpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBDcmVhdGVzIGEgbmV3IFtbUGFyYW1dXSBmcm9tIGEgdXJsIFNFQVJDSCAqL1xuXHQgICAgUGFyYW0uZnJvbVNlYXJjaCA9IGZ1bmN0aW9uIChpZCwgdHlwZSwgY29uZmlnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQYXJhbShpZCwgdHlwZSwgY29uZmlnLCBEZWZUeXBlLlNFQVJDSCk7XG5cdCAgICB9O1xuXHQgICAgUGFyYW0udmFsdWVzID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlcyA9PT0gdm9pZCAwKSB7IHZhbHVlcyA9IHt9OyB9XG5cdCAgICAgICAgcmV0dXJuIHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBbcGFyYW0uaWQsIHBhcmFtLnZhbHVlKHZhbHVlc1twYXJhbS5pZF0pXTsgfSkucmVkdWNlKGNvbW1vbl8xLmFwcGx5UGFpcnMsIHt9KTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEZpbmRzIFtbUGFyYW1dXSBvYmplY3RzIHdoaWNoIGhhdmUgZGlmZmVyZW50IHBhcmFtIHZhbHVlc1xuXHQgICAgICpcblx0ICAgICAqIEZpbHRlcnMgYSBsaXN0IG9mIFtbUGFyYW1dXSBvYmplY3RzIHRvIG9ubHkgdGhvc2Ugd2hvc2UgcGFyYW1ldGVyIHZhbHVlcyBkaWZmZXIgaW4gdHdvIHBhcmFtIHZhbHVlIG9iamVjdHNcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gcGFyYW1zOiBUaGUgbGlzdCBvZiBQYXJhbSBvYmplY3RzIHRvIGZpbHRlclxuXHQgICAgICogQHBhcmFtIHZhbHVlczE6IFRoZSBmaXJzdCBzZXQgb2YgcGFyYW1ldGVyIHZhbHVlc1xuXHQgICAgICogQHBhcmFtIHZhbHVlczI6IHRoZSBzZWNvbmQgc2V0IG9mIHBhcmFtZXRlciB2YWx1ZXNcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyBhbnkgUGFyYW0gb2JqZWN0cyB3aG9zZSB2YWx1ZXMgd2VyZSBkaWZmZXJlbnQgYmV0d2VlbiB2YWx1ZXMxIGFuZCB2YWx1ZXMyXG5cdCAgICAgKi9cblx0ICAgIFBhcmFtLmNoYW5nZWQgPSBmdW5jdGlvbiAocGFyYW1zLCB2YWx1ZXMxLCB2YWx1ZXMyKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlczEgPT09IHZvaWQgMCkgeyB2YWx1ZXMxID0ge307IH1cblx0ICAgICAgICBpZiAodmFsdWVzMiA9PT0gdm9pZCAwKSB7IHZhbHVlczIgPSB7fTsgfVxuXHQgICAgICAgIHJldHVybiBwYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gIXBhcmFtLnR5cGUuZXF1YWxzKHZhbHVlczFbcGFyYW0uaWRdLCB2YWx1ZXMyW3BhcmFtLmlkXSk7IH0pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIHR3byBwYXJhbSB2YWx1ZSBvYmplY3RzIGFyZSBlcXVhbCAoZm9yIGEgc2V0IG9mIFtbUGFyYW1dXSBvYmplY3RzKVxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSBwYXJhbXMgVGhlIGxpc3Qgb2YgW1tQYXJhbV1dIG9iamVjdHMgdG8gY2hlY2tcblx0ICAgICAqIEBwYXJhbSB2YWx1ZXMxIFRoZSBmaXJzdCBzZXQgb2YgcGFyYW0gdmFsdWVzXG5cdCAgICAgKiBAcGFyYW0gdmFsdWVzMiBUaGUgc2Vjb25kIHNldCBvZiBwYXJhbSB2YWx1ZXNcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBwYXJhbSB2YWx1ZXMgaW4gdmFsdWVzMSBhbmQgdmFsdWVzMiBhcmUgZXF1YWxcblx0ICAgICAqL1xuXHQgICAgUGFyYW0uZXF1YWxzID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzMSwgdmFsdWVzMikge1xuXHQgICAgICAgIGlmICh2YWx1ZXMxID09PSB2b2lkIDApIHsgdmFsdWVzMSA9IHt9OyB9XG5cdCAgICAgICAgaWYgKHZhbHVlczIgPT09IHZvaWQgMCkgeyB2YWx1ZXMyID0ge307IH1cblx0ICAgICAgICByZXR1cm4gUGFyYW0uY2hhbmdlZChwYXJhbXMsIHZhbHVlczEsIHZhbHVlczIpLmxlbmd0aCA9PT0gMDtcblx0ICAgIH07XG5cdCAgICAvKiogUmV0dXJucyB0cnVlIGlmIGEgdGhlIHBhcmFtZXRlciB2YWx1ZXMgYXJlIHZhbGlkLCBhY2NvcmRpbmcgdG8gdGhlIFBhcmFtIGRlZmluaXRpb25zICovXG5cdCAgICBQYXJhbS52YWxpZGF0ZXMgPSBmdW5jdGlvbiAocGFyYW1zLCB2YWx1ZXMpIHtcblx0ICAgICAgICBpZiAodmFsdWVzID09PSB2b2lkIDApIHsgdmFsdWVzID0ge307IH1cblx0ICAgICAgICByZXR1cm4gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIHBhcmFtLnZhbGlkYXRlcyh2YWx1ZXNbcGFyYW0uaWRdKTsgfSkucmVkdWNlKGNvbW1vbl8xLmFsbFRydWVSLCB0cnVlKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gUGFyYW07XG5cdH0oKSk7XG5cdGV4cG9ydHMuUGFyYW0gPSBQYXJhbTtcblxuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSB1cmwgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgTWF0Y2hlckNvbmZpZyA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBNYXRjaGVyQ29uZmlnKCkge1xuXHQgICAgICAgIHRoaXMuX2lzQ2FzZUluc2Vuc2l0aXZlID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy5faXNTdHJpY3RNb2RlID0gdHJ1ZTtcblx0ICAgICAgICB0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5ID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBNYXRjaGVyQ29uZmlnLnByb3RvdHlwZS5jYXNlSW5zZW5zaXRpdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5faXNDYXNlSW5zZW5zaXRpdmUgPSBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogdGhpcy5faXNDYXNlSW5zZW5zaXRpdmU7XG5cdCAgICB9O1xuXHQgICAgTWF0Y2hlckNvbmZpZy5wcm90b3R5cGUuc3RyaWN0TW9kZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9pc1N0cmljdE1vZGUgPSBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogdGhpcy5faXNTdHJpY3RNb2RlO1xuXHQgICAgfTtcblx0ICAgIE1hdGNoZXJDb25maWcucHJvdG90eXBlLmRlZmF1bHRTcXVhc2hQb2xpY3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzRGVmaW5lZCh2YWx1ZSkgJiYgdmFsdWUgIT09IHRydWUgJiYgdmFsdWUgIT09IGZhbHNlICYmICFwcmVkaWNhdGVzXzEuaXNTdHJpbmcodmFsdWUpKVxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiICsgdmFsdWUgKyBcIi4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBhcmJpdHJhcnktc3RyaW5nXCIpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5ID0gcHJlZGljYXRlc18xLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXMuX2RlZmF1bHRTcXVhc2hQb2xpY3k7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIE1hdGNoZXJDb25maWc7XG5cdH0oKSk7XG5cdGV4cG9ydHMuTWF0Y2hlckNvbmZpZyA9IE1hdGNoZXJDb25maWc7XG5cdC8vIFRPRE86IERvIG5vdCBleHBvcnQgZ2xvYmFsIGluc3RhbmNlOyBjcmVhdGUgb25lIGluIFVJUm91dGVyKCkgY29uc3RydWN0b3Jcblx0ZXhwb3J0cy5tYXRjaGVyQ29uZmlnID0gbmV3IE1hdGNoZXJDb25maWcoKTtcblxuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSBwYXJhbXMgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHQvKipcblx0ICogV3JhcHMgdXAgYSBgVHlwZWAgb2JqZWN0IHRvIGhhbmRsZSBhcnJheSB2YWx1ZXMuXG5cdCAqL1xuXHRmdW5jdGlvbiBBcnJheVR5cGUodHlwZSwgbW9kZSkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgIC8vIFdyYXAgbm9uLWFycmF5IHZhbHVlIGFzIGFycmF5XG5cdCAgICBmdW5jdGlvbiBhcnJheVdyYXAodmFsKSB7IHJldHVybiBwcmVkaWNhdGVzXzEuaXNBcnJheSh2YWwpID8gdmFsIDogKHByZWRpY2F0ZXNfMS5pc0RlZmluZWQodmFsKSA/IFt2YWxdIDogW10pOyB9XG5cdCAgICAvLyBVbndyYXAgYXJyYXkgdmFsdWUgZm9yIFwiYXV0b1wiIG1vZGUuIFJldHVybiB1bmRlZmluZWQgZm9yIGVtcHR5IGFycmF5LlxuXHQgICAgZnVuY3Rpb24gYXJyYXlVbndyYXAodmFsKSB7XG5cdCAgICAgICAgc3dpdGNoICh2YWwubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbW9kZSA9PT0gXCJhdXRvXCIgPyB2YWxbMF0gOiB2YWw7XG5cdCAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiB2YWw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgLy8gV3JhcHMgdHlwZSAoLmlzLy5lbmNvZGUvLmRlY29kZSkgZnVuY3Rpb25zIHRvIG9wZXJhdGUgb24gZWFjaCB2YWx1ZSBvZiBhbiBhcnJheVxuXHQgICAgZnVuY3Rpb24gYXJyYXlIYW5kbGVyKGNhbGxiYWNrLCBhbGxUcnV0aHlNb2RlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUFycmF5KHZhbCkge1xuXHQgICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoID09PSAwKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgICAgICAgICAgdmFyIGFyciA9IGFycmF5V3JhcCh2YWwpO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29tbW9uXzEubWFwKGFyciwgY2FsbGJhY2spO1xuXHQgICAgICAgICAgICByZXR1cm4gKGFsbFRydXRoeU1vZGUgPT09IHRydWUpID8gY29tbW9uXzEuZmlsdGVyKHJlc3VsdCwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4OyB9KS5sZW5ndGggPT09IDAgOiBhcnJheVVud3JhcChyZXN1bHQpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICAvLyBXcmFwcyB0eXBlICguZXF1YWxzKSBmdW5jdGlvbnMgdG8gb3BlcmF0ZSBvbiBlYWNoIHZhbHVlIG9mIGFuIGFycmF5XG5cdCAgICBmdW5jdGlvbiBhcnJheUVxdWFsc0hhbmRsZXIoY2FsbGJhY2spIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlQXJyYXkodmFsMSwgdmFsMikge1xuXHQgICAgICAgICAgICB2YXIgbGVmdCA9IGFycmF5V3JhcCh2YWwxKSwgcmlnaHQgPSBhcnJheVdyYXAodmFsMik7XG5cdCAgICAgICAgICAgIGlmIChsZWZ0Lmxlbmd0aCAhPT0gcmlnaHQubGVuZ3RoKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZnQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2sobGVmdFtpXSwgcmlnaHRbaV0pKVxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgWydlbmNvZGUnLCAnZGVjb2RlJywgJ2VxdWFscycsICckbm9ybWFsaXplJ10ubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICAgICAgX3RoaXNbbmFtZV0gPSAobmFtZSA9PT0gJ2VxdWFscycgPyBhcnJheUVxdWFsc0hhbmRsZXIgOiBhcnJheUhhbmRsZXIpKHR5cGVbbmFtZV0uYmluZCh0eXBlKSk7XG5cdCAgICB9KTtcblx0ICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLCB7XG5cdCAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuXHQgICAgICAgIHBhdHRlcm46IHR5cGUucGF0dGVybixcblx0ICAgICAgICBpczogYXJyYXlIYW5kbGVyKHR5cGUuaXMuYmluZCh0eXBlKSwgdHJ1ZSksXG5cdCAgICAgICAgJGFycmF5TW9kZTogbW9kZVxuXHQgICAgfSk7XG5cdH1cblx0LyoqXG5cdCAqIEltcGxlbWVudHMgYW4gaW50ZXJmYWNlIHRvIGRlZmluZSBjdXN0b20gcGFyYW1ldGVyIHR5cGVzIHRoYXQgY2FuIGJlIGRlY29kZWQgZnJvbSBhbmQgZW5jb2RlZCB0b1xuXHQgKiBzdHJpbmcgcGFyYW1ldGVycyBtYXRjaGVkIGluIGEgVVJMLiBVc2VkIGJ5IFtbVXJsTWF0Y2hlcl1dXG5cdCAqIG9iamVjdHMgd2hlbiBtYXRjaGluZyBvciBmb3JtYXR0aW5nIFVSTHMsIG9yIGNvbXBhcmluZyBvciB2YWxpZGF0aW5nIHBhcmFtZXRlciB2YWx1ZXMuXG5cdCAqXG5cdCAqIFNlZSBbW1VybE1hdGNoZXJGYWN0b3J5LnR5cGVdXSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiByZWdpc3RlcmluZyBjdXN0b20gdHlwZXMuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiB7XG5cdCAqICAgZGVjb2RlOiBmdW5jdGlvbih2YWwpIHsgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApOyB9LFxuXHQgKiAgIGVuY29kZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiB2YWwgJiYgdmFsLnRvU3RyaW5nKCk7IH0sXG5cdCAqICAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7IHJldHVybiB0aGlzLmlzKGEpICYmIGEgPT09IGI7IH0sXG5cdCAqICAgaXM6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gYW5ndWxhci5pc051bWJlcih2YWwpICYmIGlzRmluaXRlKHZhbCkgJiYgdmFsICUgMSA9PT0gMDsgfSxcblx0ICogICBwYXR0ZXJuOiAvXFxkKy9cblx0ICogfVxuXHQgKiBgYGBcblx0ICovXG5cdHZhciBUeXBlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIC8qKlxuXHQgICAgICogQHBhcmFtIGRlZiAgQSBjb25maWd1cmF0aW9uIG9iamVjdCB3aGljaCBjb250YWlucyB0aGUgY3VzdG9tIHR5cGUgZGVmaW5pdGlvbi4gIFRoZSBvYmplY3Qnc1xuXHQgICAgICogICAgICAgIHByb3BlcnRpZXMgd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBtZXRob2RzIGFuZC9vciBwYXR0ZXJuIGluIGBUeXBlYCdzIHB1YmxpYyBpbnRlcmZhY2UuXG5cdCAgICAgKiBAcmV0dXJucyBhIG5ldyBUeXBlIG9iamVjdFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBUeXBlKGRlZikge1xuXHQgICAgICAgIHRoaXMucGF0dGVybiA9IC8uKi87XG5cdCAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIGRlZik7XG5cdCAgICB9XG5cdCAgICAvLyBjb25zaWRlciB0aGVzZSBmb3VyIG1ldGhvZHMgdG8gYmUgXCJhYnN0cmFjdCBtZXRob2RzXCIgdGhhdCBzaG91bGQgYmUgb3ZlcnJpZGRlblxuXHQgICAgLyoqIEBpbmhlcml0ZG9jICovXG5cdCAgICBUeXBlLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uICh2YWwsIGtleSkgeyByZXR1cm4gdHJ1ZTsgfTtcblx0ICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuXHQgICAgVHlwZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHZhbCwga2V5KSB7IHJldHVybiB2YWw7IH07XG5cdCAgICAvKiogQGluaGVyaXRkb2MgKi9cblx0ICAgIFR5cGUucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uICh2YWwsIGtleSkgeyByZXR1cm4gdmFsOyB9O1xuXHQgICAgLyoqIEBpbmhlcml0ZG9jICovXG5cdCAgICBUeXBlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSA9PSBiOyB9O1xuXHQgICAgVHlwZS5wcm90b3R5cGUuJHN1YlBhdHRlcm4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIHN1YiA9IHRoaXMucGF0dGVybi50b1N0cmluZygpO1xuXHQgICAgICAgIHJldHVybiBzdWIuc3Vic3RyKDEsIHN1Yi5sZW5ndGggLSAyKTtcblx0ICAgIH07XG5cdCAgICBUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gXCJ7VHlwZTpcIiArIHRoaXMubmFtZSArIFwifVwiO1xuXHQgICAgfTtcblx0ICAgIC8qKiBHaXZlbiBhbiBlbmNvZGVkIHN0cmluZywgb3IgYSBkZWNvZGVkIG9iamVjdCwgcmV0dXJucyBhIGRlY29kZWQgb2JqZWN0ICovXG5cdCAgICBUeXBlLnByb3RvdHlwZS4kbm9ybWFsaXplID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmlzKHZhbCkgPyB2YWwgOiB0aGlzLmRlY29kZSh2YWwpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogV3JhcHMgYW4gZXhpc3RpbmcgY3VzdG9tIFR5cGUgYXMgYW4gYXJyYXkgb2YgVHlwZSwgZGVwZW5kaW5nIG9uICdtb2RlJy5cblx0ICAgICAqIGUuZy46XG5cdCAgICAgKiAtIHVybG1hdGNoZXIgcGF0dGVybiBcIi9wYXRoP3txdWVyeVBhcmFtW106aW50fVwiXG5cdCAgICAgKiAtIHVybDogXCIvcGF0aD9xdWVyeVBhcmFtPTEmcXVlcnlQYXJhbT0yXG5cdCAgICAgKiAtICRzdGF0ZVBhcmFtcy5xdWVyeVBhcmFtIHdpbGwgYmUgWzEsIDJdXG5cdCAgICAgKiBpZiBgbW9kZWAgaXMgXCJhdXRvXCIsIHRoZW5cblx0ICAgICAqIC0gdXJsOiBcIi9wYXRoP3F1ZXJ5UGFyYW09MSB3aWxsIGNyZWF0ZSAkc3RhdGVQYXJhbXMucXVlcnlQYXJhbTogMVxuXHQgICAgICogLSB1cmw6IFwiL3BhdGg/cXVlcnlQYXJhbT0xJnF1ZXJ5UGFyYW09MiB3aWxsIGNyZWF0ZSAkc3RhdGVQYXJhbXMucXVlcnlQYXJhbTogWzEsIDJdXG5cdCAgICAgKi9cblx0ICAgIFR5cGUucHJvdG90eXBlLiRhc0FycmF5ID0gZnVuY3Rpb24gKG1vZGUsIGlzU2VhcmNoKSB7XG5cdCAgICAgICAgaWYgKCFtb2RlKVxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICBpZiAobW9kZSA9PT0gXCJhdXRvXCIgJiYgIWlzU2VhcmNoKVxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInYXV0bycgYXJyYXkgbW9kZSBpcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvbmx5XCIpO1xuXHQgICAgICAgIHJldHVybiBuZXcgQXJyYXlUeXBlKHRoaXMsIG1vZGUpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBUeXBlO1xuXHR9KCkpO1xuXHRleHBvcnRzLlR5cGUgPSBUeXBlO1xuXG5cbi8qKiovIH0sXG4vKiAyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHBhcmFtcyAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHByZWRpY2F0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBob2ZfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciBjb3Jlc2VydmljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdHZhciB0eXBlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0Ly8gVXNlIHRpbGRlcyB0byBwcmUtZW5jb2RlIHNsYXNoZXMuXG5cdC8vIElmIHRoZSBzbGFzaGVzIGFyZSBzaW1wbHkgVVJMRW5jb2RlZCwgdGhlIGJyb3dzZXIgY2FuIGNob29zZSB0byBwcmUtZGVjb2RlIHRoZW0sXG5cdC8vIGFuZCBiaWRpcmVjdGlvbmFsIGVuY29kaW5nL2RlY29kaW5nIGZhaWxzLlxuXHQvLyBUaWxkZSB3YXMgY2hvc2VuIGJlY2F1c2UgaXQncyBub3QgYSBSRkMgMzk4NiBzZWN0aW9uIDIuMiBSZXNlcnZlZCBDaGFyYWN0ZXJcblx0ZnVuY3Rpb24gdmFsVG9TdHJpbmcodmFsKSB7IHJldHVybiB2YWwgIT0gbnVsbCA/IHZhbC50b1N0cmluZygpLnJlcGxhY2UoL34vZywgXCJ+flwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MkZcIikgOiB2YWw7IH1cblx0ZnVuY3Rpb24gdmFsRnJvbVN0cmluZyh2YWwpIHsgcmV0dXJuIHZhbCAhPSBudWxsID8gdmFsLnRvU3RyaW5nKCkucmVwbGFjZSgvfjJGL2csIFwiL1wiKS5yZXBsYWNlKC9+fi9nLCBcIn5cIikgOiB2YWw7IH1cblx0dmFyIFBhcmFtVHlwZXMgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gUGFyYW1UeXBlcygpIHtcblx0ICAgICAgICB0aGlzLmVucXVldWUgPSB0cnVlO1xuXHQgICAgICAgIHRoaXMudHlwZVF1ZXVlID0gW107XG5cdCAgICAgICAgdGhpcy5kZWZhdWx0VHlwZXMgPSB7XG5cdCAgICAgICAgICAgIFwiaGFzaFwiOiB7XG5cdCAgICAgICAgICAgICAgICBlbmNvZGU6IHZhbFRvU3RyaW5nLFxuXHQgICAgICAgICAgICAgICAgZGVjb2RlOiB2YWxGcm9tU3RyaW5nLFxuXHQgICAgICAgICAgICAgICAgaXM6IGhvZl8xLmlzKFN0cmluZyksXG5cdCAgICAgICAgICAgICAgICBwYXR0ZXJuOiAvLiovLFxuXHQgICAgICAgICAgICAgICAgZXF1YWxzOiBob2ZfMS52YWwodHJ1ZSlcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgXCJzdHJpbmdcIjoge1xuXHQgICAgICAgICAgICAgICAgZW5jb2RlOiB2YWxUb1N0cmluZyxcblx0ICAgICAgICAgICAgICAgIGRlY29kZTogdmFsRnJvbVN0cmluZyxcblx0ICAgICAgICAgICAgICAgIGlzOiBob2ZfMS5pcyhTdHJpbmcpLFxuXHQgICAgICAgICAgICAgICAgcGF0dGVybjogL1teL10qL1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBcImludFwiOiB7XG5cdCAgICAgICAgICAgICAgICBlbmNvZGU6IHZhbFRvU3RyaW5nLFxuXHQgICAgICAgICAgICAgICAgZGVjb2RlOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBwYXJzZUludCh2YWwsIDEwKTsgfSxcblx0ICAgICAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbCkgJiYgdGhpcy5kZWNvZGUodmFsLnRvU3RyaW5nKCkpID09PSB2YWw7IH0sXG5cdCAgICAgICAgICAgICAgICBwYXR0ZXJuOiAvLT9cXGQrL1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBcImJvb2xcIjoge1xuXHQgICAgICAgICAgICAgICAgZW5jb2RlOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiB2YWwgJiYgMSB8fCAwOyB9LFxuXHQgICAgICAgICAgICAgICAgZGVjb2RlOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBwYXJzZUludCh2YWwsIDEwKSAhPT0gMDsgfSxcblx0ICAgICAgICAgICAgICAgIGlzOiBob2ZfMS5pcyhCb29sZWFuKSxcblx0ICAgICAgICAgICAgICAgIHBhdHRlcm46IC8wfDEvXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIFwiZGF0ZVwiOiB7XG5cdCAgICAgICAgICAgICAgICBlbmNvZGU6IGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuaXModmFsKSA/IHVuZGVmaW5lZCA6IFtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsLmdldEZ1bGxZZWFyKCksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICgnMCcgKyAodmFsLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAoJzAnICsgdmFsLmdldERhdGUoKSkuc2xpY2UoLTIpXG5cdCAgICAgICAgICAgICAgICAgICAgXS5qb2luKFwiLVwiKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgICBkZWNvZGU6IGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pcyh2YWwpKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHRoaXMuY2FwdHVyZS5leGVjKHZhbCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gbmV3IERhdGUobWF0Y2hbMV0sIG1hdGNoWzJdIC0gMSwgbWF0Y2hbM10pIDogdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiB2YWwgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTih2YWwudmFsdWVPZigpKTsgfSxcblx0ICAgICAgICAgICAgICAgIGVxdWFsczogZnVuY3Rpb24gKGwsIHIpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gWydnZXRGdWxsWWVhcicsICdnZXRNb250aCcsICdnZXREYXRlJ11cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmbikgeyByZXR1cm4gYWNjICYmIGxbZm5dKCkgPT09IHJbZm5dKCk7IH0sIHRydWUpO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIHBhdHRlcm46IC9bMC05XXs0fS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pLyxcblx0ICAgICAgICAgICAgICAgIGNhcHR1cmU6IC8oWzAtOV17NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS9cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgXCJqc29uXCI6IHtcblx0ICAgICAgICAgICAgICAgIGVuY29kZTogY29tbW9uXzEudG9Kc29uLFxuXHQgICAgICAgICAgICAgICAgZGVjb2RlOiBjb21tb25fMS5mcm9tSnNvbixcblx0ICAgICAgICAgICAgICAgIGlzOiBob2ZfMS5pcyhPYmplY3QpLFxuXHQgICAgICAgICAgICAgICAgZXF1YWxzOiBjb21tb25fMS5lcXVhbHMsXG5cdCAgICAgICAgICAgICAgICBwYXR0ZXJuOiAvW14vXSovXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIFwiYW55XCI6IHtcblx0ICAgICAgICAgICAgICAgIGVuY29kZTogY29tbW9uXzEuaWRlbnRpdHksXG5cdCAgICAgICAgICAgICAgICBkZWNvZGU6IGNvbW1vbl8xLmlkZW50aXR5LFxuXHQgICAgICAgICAgICAgICAgZXF1YWxzOiBjb21tb25fMS5lcXVhbHMsXG5cdCAgICAgICAgICAgICAgICBwYXR0ZXJuOiAvLiovXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIFJlZ2lzdGVyIGRlZmF1bHQgdHlwZXMuIFN0b3JlIHRoZW0gaW4gdGhlIHByb3RvdHlwZSBvZiB0aGlzLnR5cGVzLlxuXHQgICAgICAgIHZhciBtYWtlVHlwZSA9IGZ1bmN0aW9uIChkZWZpbml0aW9uLCBuYW1lKSB7IHJldHVybiBuZXcgdHlwZV8xLlR5cGUoY29tbW9uXzEuZXh0ZW5kKHsgbmFtZTogbmFtZSB9LCBkZWZpbml0aW9uKSk7IH07XG5cdCAgICAgICAgdGhpcy50eXBlcyA9IGNvbW1vbl8xLmluaGVyaXQoY29tbW9uXzEubWFwKHRoaXMuZGVmYXVsdFR5cGVzLCBtYWtlVHlwZSksIHt9KTtcblx0ICAgIH1cblx0ICAgIFBhcmFtVHlwZXMucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbkZuKSB7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGRlZmluaXRpb24pKVxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlc1tuYW1lXTtcblx0ICAgICAgICBpZiAodGhpcy50eXBlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSlcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIiArIG5hbWUgKyBcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB0aGlzLnR5cGVzW25hbWVdID0gbmV3IHR5cGVfMS5UeXBlKGNvbW1vbl8xLmV4dGVuZCh7IG5hbWU6IG5hbWUgfSwgZGVmaW5pdGlvbikpO1xuXHQgICAgICAgIGlmIChkZWZpbml0aW9uRm4pIHtcblx0ICAgICAgICAgICAgdGhpcy50eXBlUXVldWUucHVzaCh7IG5hbWU6IG5hbWUsIGRlZjogZGVmaW5pdGlvbkZuIH0pO1xuXHQgICAgICAgICAgICBpZiAoIXRoaXMuZW5xdWV1ZSlcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2ZsdXNoVHlwZVF1ZXVlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0ICAgIFBhcmFtVHlwZXMucHJvdG90eXBlLl9mbHVzaFR5cGVRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB3aGlsZSAodGhpcy50eXBlUXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy50eXBlUXVldWUuc2hpZnQoKTtcblx0ICAgICAgICAgICAgaWYgKHR5cGUucGF0dGVybilcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3Qgb3ZlcnJpZGUgYSB0eXBlJ3MgLnBhdHRlcm4gYXQgcnVudGltZS5cIik7XG5cdCAgICAgICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLnR5cGVzW3R5cGUubmFtZV0sIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3Rvci5pbnZva2UodHlwZS5kZWYpKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFBhcmFtVHlwZXM7XG5cdH0oKSk7XG5cdGV4cG9ydHMuUGFyYW1UeXBlcyA9IFBhcmFtVHlwZXM7XG5cdGV4cG9ydHMucGFyYW1UeXBlcyA9IG5ldyBQYXJhbVR5cGVzKCk7XG5cblxuLyoqKi8gfSxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIEBtb2R1bGUgcGFyYW1zICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgU3RhdGVQYXJhbXMgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gU3RhdGVQYXJhbXMocGFyYW1zKSB7XG5cdCAgICAgICAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7IHBhcmFtcyA9IHt9OyB9XG5cdCAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIHBhcmFtcyk7XG5cdCAgICB9XG5cdCAgICAvKipcblx0ICAgICAqIE1lcmdlcyBhIHNldCBvZiBwYXJhbWV0ZXJzIHdpdGggYWxsIHBhcmFtZXRlcnMgaW5oZXJpdGVkIGJldHdlZW4gdGhlIGNvbW1vbiBwYXJlbnRzIG9mIHRoZVxuXHQgICAgICogY3VycmVudCBzdGF0ZSBhbmQgYSBnaXZlbiBkZXN0aW5hdGlvbiBzdGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gbmV3UGFyYW1zIFRoZSBzZXQgb2YgcGFyYW1ldGVycyB3aGljaCB3aWxsIGJlIGNvbXBvc2l0ZWQgd2l0aCBpbmhlcml0ZWQgcGFyYW1zLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9ICRjdXJyZW50IEludGVybmFsIGRlZmluaXRpb24gb2Ygb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSAkdG8gSW50ZXJuYWwgZGVmaW5pdGlvbiBvZiBvYmplY3QgcmVwcmVzZW50aW5nIHN0YXRlIHRvIHRyYW5zaXRpb24gdG8uXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlUGFyYW1zLnByb3RvdHlwZS4kaW5oZXJpdCA9IGZ1bmN0aW9uIChuZXdQYXJhbXMsICRjdXJyZW50LCAkdG8pIHtcblx0ICAgICAgICB2YXIgcGFyZW50cyA9IGNvbW1vbl8xLmFuY2VzdG9ycygkY3VycmVudCwgJHRvKSwgcGFyZW50UGFyYW1zLCBpbmhlcml0ZWQgPSB7fSwgaW5oZXJpdExpc3QgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBpIGluIHBhcmVudHMpIHtcblx0ICAgICAgICAgICAgaWYgKCFwYXJlbnRzW2ldIHx8ICFwYXJlbnRzW2ldLnBhcmFtcylcblx0ICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICBwYXJlbnRQYXJhbXMgPSBPYmplY3Qua2V5cyhwYXJlbnRzW2ldLnBhcmFtcyk7XG5cdCAgICAgICAgICAgIGlmICghcGFyZW50UGFyYW1zLmxlbmd0aClcblx0ICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqIGluIHBhcmVudFBhcmFtcykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGluaGVyaXRMaXN0LmluZGV4T2YocGFyZW50UGFyYW1zW2pdKSA+PSAwKVxuXHQgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICAgICAgaW5oZXJpdExpc3QucHVzaChwYXJlbnRQYXJhbXNbal0pO1xuXHQgICAgICAgICAgICAgICAgaW5oZXJpdGVkW3BhcmVudFBhcmFtc1tqXV0gPSB0aGlzW3BhcmVudFBhcmFtc1tqXV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZCh7fSwgaW5oZXJpdGVkLCBuZXdQYXJhbXMpO1xuXHQgICAgfTtcblx0ICAgIDtcblx0ICAgIHJldHVybiBTdGF0ZVBhcmFtcztcblx0fSgpKTtcblx0ZXhwb3J0cy5TdGF0ZVBhcmFtcyA9IFN0YXRlUGFyYW1zO1xuXG5cbi8qKiovIH0sXG4vKiAyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgcGFyYW1fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHR2YXIgcmVqZWN0RmFjdG9yeV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdHZhciB0YXJnZXRTdGF0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdHZhciB2aWV3SG9va3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHR2YXIgZW50ZXJFeGl0SG9va3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHR2YXIgcmVzb2x2ZUhvb2tzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0dmFyIGNvcmVzZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0LyoqXG5cdCAqIFRoaXMgY2xhc3M6XG5cdCAqXG5cdCAqICogVGFrZXMgYSBibGFuayB0cmFuc2l0aW9uIG9iamVjdCBhbmQgYWRkcyBhbGwgdGhlIGhvb2tzIG5lY2Vzc2FyeSBmb3IgaXQgdG8gYmVoYXZlIGxpa2UgYSBzdGF0ZSB0cmFuc2l0aW9uLlxuXHQgKlxuXHQgKiAqIFJ1bnMgdGhlIHRyYW5zaXRpb24sIHJldHVybmluZyBhIGNoYWluZWQgcHJvbWlzZSB3aGljaDpcblx0ICogICAqIHRyYW5zZm9ybXMgdGhlIHJlc29sdmVkIFRyYW5zaXRpb24ucHJvbWlzZSB0byB0aGUgZmluYWwgZGVzdGluYXRpb24gc3RhdGUuXG5cdCAqICAgKiBtYW5hZ2VzIHRoZSByZWplY3RlZCBUcmFuc2l0aW9uLnByb21pc2UsIGNoZWNraW5nIGZvciBEeW5hbWljIG9yIFJlZGlyZWN0ZWQgdHJhbnNpdGlvbnNcblx0ICpcblx0ICogKiBSZWdpc3RlcnMgYSBoYW5kbGVyIHRvIHVwZGF0ZSBnbG9iYWwgJHN0YXRlIGRhdGEgc3VjaCBhcyBcImFjdGl2ZSB0cmFuc2l0aW9uc1wiIGFuZCBcImN1cnJlbnQgc3RhdGUvcGFyYW1zXCJcblx0ICpcblx0ICogKiBSZWdpc3RlcnMgdmlldyBob29rcywgd2hpY2ggbWFpbnRhaW4gdGhlIGxpc3Qgb2YgYWN0aXZlIHZpZXcgY29uZmlncyBhbmQgc3luYyB3aXRoL3VwZGF0ZSB0aGUgdWktdmlld3Ncblx0ICpcblx0ICogKiBSZWdpc3RlcnMgb25FbnRlci9vblJldGFpbi9vbkV4aXQgaG9va3Mgd2hpY2ggZGVsZWdhdGUgdG8gdGhlIHN0YXRlJ3MgaG9va3Mgb2YgdGhlIHNhbWUgbmFtZSwgYXQgdGhlIGFwcHJvcHJpYXRlIHRpbWVcblx0ICpcblx0ICogKiBSZWdpc3RlcnMgZWFnZXIgYW5kIGxhenkgcmVzb2x2ZSBob29rc1xuXHQgKi9cblx0dmFyIFRyYW5zaXRpb25NYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFRyYW5zaXRpb25NYW5hZ2VyKHRyYW5zaXRpb24sICR0cmFuc2l0aW9ucywgJHVybFJvdXRlciwgJHZpZXcsIC8vIHNlcnZpY2Vcblx0ICAgICAgICAkc3RhdGUsIGdsb2JhbHMpIHtcblx0ICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuXHQgICAgICAgIHRoaXMuJHRyYW5zaXRpb25zID0gJHRyYW5zaXRpb25zO1xuXHQgICAgICAgIHRoaXMuJHVybFJvdXRlciA9ICR1cmxSb3V0ZXI7XG5cdCAgICAgICAgdGhpcy4kdmlldyA9ICR2aWV3O1xuXHQgICAgICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuXHQgICAgICAgIHRoaXMuZ2xvYmFscyA9IGdsb2JhbHM7XG5cdCAgICAgICAgdGhpcy4kcSA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxO1xuXHQgICAgICAgIHRoaXMudmlld0hvb2tzID0gbmV3IHZpZXdIb29rc18xLlZpZXdIb29rcyh0cmFuc2l0aW9uLCAkdmlldyk7XG5cdCAgICAgICAgdGhpcy5lbnRlckV4aXRIb29rcyA9IG5ldyBlbnRlckV4aXRIb29rc18xLkVudGVyRXhpdEhvb2tzKHRyYW5zaXRpb24pO1xuXHQgICAgICAgIHRoaXMucmVzb2x2ZUhvb2tzID0gbmV3IHJlc29sdmVIb29rc18xLlJlc29sdmVIb29rcyh0cmFuc2l0aW9uKTtcblx0ICAgICAgICB0aGlzLnRyZWVDaGFuZ2VzID0gdHJhbnNpdGlvbi50cmVlQ2hhbmdlcygpO1xuXHQgICAgICAgIHRoaXMucmVnaXN0ZXJVcGRhdGVHbG9iYWxTdGF0ZSgpO1xuXHQgICAgICAgIHRoaXMudmlld0hvb2tzLnJlZ2lzdGVySG9va3MoKTtcblx0ICAgICAgICB0aGlzLmVudGVyRXhpdEhvb2tzLnJlZ2lzdGVySG9va3MoKTtcblx0ICAgICAgICB0aGlzLnJlc29sdmVIb29rcy5yZWdpc3Rlckhvb2tzKCk7XG5cdCAgICB9XG5cdCAgICBUcmFuc2l0aW9uTWFuYWdlci5wcm90b3R5cGUucnVuVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHRoaXMuZ2xvYmFscy50cmFuc2l0aW9uSGlzdG9yeS5lbnF1ZXVlKHRoaXMudHJhbnNpdGlvbik7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvbi5ydW4oKVxuXHQgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIHRyYW5zLnRvKCk7IH0pIC8vIHJlc29sdmUgdG8gdGhlIGZpbmFsIHN0YXRlIChUT0RPOiBnb29kPyBiYWQ/KVxuXHQgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy50cmFuc1JlamVjdGVkKGVycm9yKTsgfSk7IC8vIGlmIHJlamVjdGVkLCBoYW5kbGUgZHluYW1pYyBhbmQgcmVkaXJlY3Rcblx0ICAgIH07XG5cdCAgICBUcmFuc2l0aW9uTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJVcGRhdGVHbG9iYWxTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAvLyBBZnRlciBnbG9iYWxzLmN1cnJlbnQgaXMgdXBkYXRlZCBhdCBwcmlvcml0eTogMTAwMDBcblx0ICAgICAgICB0aGlzLnRyYW5zaXRpb24ub25TdWNjZXNzKHt9LCB0aGlzLnVwZGF0ZVVybC5iaW5kKHRoaXMpLCB7IHByaW9yaXR5OiA5OTk5IH0pO1xuXHQgICAgfTtcblx0ICAgIFRyYW5zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS50cmFuc1JlamVjdGVkID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcywgdHJhbnNpdGlvbiA9IF9hLnRyYW5zaXRpb24sICRzdGF0ZSA9IF9hLiRzdGF0ZSwgJHEgPSBfYS4kcTtcblx0ICAgICAgICAvLyBIYW5kbGUgcmVkaXJlY3QgYW5kIGFib3J0XG5cdCAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgcmVqZWN0RmFjdG9yeV8xLlRyYW5zaXRpb25SZWplY3Rpb24pIHtcblx0ICAgICAgICAgICAgaWYgKGVycm9yLnR5cGUgPT09IHJlamVjdEZhY3RvcnlfMS5SZWplY3RUeXBlLklHTk9SRUQpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSAkc3RhdGVQYXJtYXMvJHN0YXRlLnBhcmFtcy8kbG9jYXRpb24udXJsIGlmIHRyYW5zaXRpb24gaWdub3JlZCwgYnV0IGR5bmFtaWMgcGFyYW1zIGhhdmUgY2hhbmdlZC5cblx0ICAgICAgICAgICAgICAgIHZhciBkeW5hbWljID0gJHN0YXRlLiRjdXJyZW50LnBhcmFtZXRlcnMoKS5maWx0ZXIoaG9mXzEucHJvcCgnZHluYW1pYycpKTtcblx0ICAgICAgICAgICAgICAgIGlmICghcGFyYW1fMS5QYXJhbS5lcXVhbHMoZHluYW1pYywgJHN0YXRlLnBhcmFtcywgdHJhbnNpdGlvbi5wYXJhbXMoKSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVybCgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS5jdXJyZW50O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChlcnJvci50eXBlID09PSByZWplY3RGYWN0b3J5XzEuUmVqZWN0VHlwZS5TVVBFUlNFREVEICYmIGVycm9yLnJlZGlyZWN0ZWQgJiYgZXJyb3IuZGV0YWlsIGluc3RhbmNlb2YgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlZGlyZWN0TWdyKHRyYW5zaXRpb24ucmVkaXJlY3QoZXJyb3IuZGV0YWlsKSkucnVuVHJhbnNpdGlvbigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChlcnJvci50eXBlID09PSByZWplY3RGYWN0b3J5XzEuUmVqZWN0VHlwZS5BQk9SVEVEKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLiR1cmxSb3V0ZXIudXBkYXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy4kdHJhbnNpdGlvbnMuZGVmYXVsdEVycm9ySGFuZGxlcigpKGVycm9yKTtcblx0ICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycm9yKTtcblx0ICAgIH07XG5cdCAgICBUcmFuc2l0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlVXJsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciB0cmFuc2l0aW9uID0gdGhpcy50cmFuc2l0aW9uO1xuXHQgICAgICAgIHZhciBfYSA9IHRoaXMsICR1cmxSb3V0ZXIgPSBfYS4kdXJsUm91dGVyLCAkc3RhdGUgPSBfYS4kc3RhdGU7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0cmFuc2l0aW9uLm9wdGlvbnMoKTtcblx0ICAgICAgICB2YXIgdG9TdGF0ZSA9IHRyYW5zaXRpb24uJHRvKCk7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMubG9jYXRpb24gJiYgJHN0YXRlLiRjdXJyZW50Lm5hdmlnYWJsZSkge1xuXHQgICAgICAgICAgICAkdXJsUm91dGVyLnB1c2goJHN0YXRlLiRjdXJyZW50Lm5hdmlnYWJsZS51cmwsICRzdGF0ZS5wYXJhbXMsIHsgcmVwbGFjZTogb3B0aW9ucy5sb2NhdGlvbiA9PT0gJ3JlcGxhY2UnIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAkdXJsUm91dGVyLnVwZGF0ZSh0cnVlKTtcblx0ICAgIH07XG5cdCAgICBUcmFuc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuX3JlZGlyZWN0TWdyID0gZnVuY3Rpb24gKHJlZGlyZWN0KSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcywgJHRyYW5zaXRpb25zID0gX2EuJHRyYW5zaXRpb25zLCAkdXJsUm91dGVyID0gX2EuJHVybFJvdXRlciwgJHZpZXcgPSBfYS4kdmlldywgJHN0YXRlID0gX2EuJHN0YXRlLCBnbG9iYWxzID0gX2EuZ2xvYmFscztcblx0ICAgICAgICByZXR1cm4gbmV3IFRyYW5zaXRpb25NYW5hZ2VyKHJlZGlyZWN0LCAkdHJhbnNpdGlvbnMsICR1cmxSb3V0ZXIsICR2aWV3LCAkc3RhdGUsIGdsb2JhbHMpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBUcmFuc2l0aW9uTWFuYWdlcjtcblx0fSgpKTtcblx0ZXhwb3J0cy5UcmFuc2l0aW9uTWFuYWdlciA9IFRyYW5zaXRpb25NYW5hZ2VyO1xuXG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqIEBtb2R1bGUgc3RhdGUgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKipcblx0ICogQG5nZG9jIG9iamVjdFxuXHQgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUudHlwZTpUYXJnZXRTdGF0ZVxuXHQgKlxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogRW5jYXBzdWxhdGUgdGhlIGRlc2lyZWQgdGFyZ2V0IG9mIGEgdHJhbnNpdGlvbi5cblx0ICogV3JhcHMgYW4gaWRlbnRpZmllciBmb3IgYSBzdGF0ZSwgYSBzZXQgb2YgcGFyYW1ldGVycywgYW5kIHRyYW5zaXRpb24gb3B0aW9ucyB3aXRoIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBzdGF0ZS5cblx0ICpcblx0ICogQHBhcmFtIHtTdGF0ZU9yTmFtZX0gX2lkZW50aWZpZXIgIEFuIGlkZW50aWZpZXIgZm9yIGEgc3RhdGUuIEVpdGhlciBhIGZ1bGx5LXF1YWxpZmllZCBwYXRoLCBvciB0aGUgb2JqZWN0XG5cdCAqICAgICAgICAgICAgdXNlZCB0byBkZWZpbmUgdGhlIHN0YXRlLlxuXHQgKiBAcGFyYW0ge0lTdGF0ZX0gX2RlZmluaXRpb24gVGhlIGBTdGF0ZWAgb2JqZWN0IGRlZmluaXRpb24uXG5cdCAqIEBwYXJhbSB7UGFyYW1zT3JBcnJheX0gX3BhcmFtcyBQYXJhbWV0ZXJzIGZvciB0aGUgdGFyZ2V0IHN0YXRlXG5cdCAqIEBwYXJhbSB7VHJhbnNpdGlvbk9wdGlvbnN9IF9vcHRpb25zIFRyYW5zaXRpb24gb3B0aW9ucy5cblx0ICovXG5cdHZhciBUYXJnZXRTdGF0ZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBUYXJnZXRTdGF0ZShfaWRlbnRpZmllciwgX2RlZmluaXRpb24sIF9wYXJhbXMsIF9vcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKF9wYXJhbXMgPT09IHZvaWQgMCkgeyBfcGFyYW1zID0ge307IH1cblx0ICAgICAgICBpZiAoX29wdGlvbnMgPT09IHZvaWQgMCkgeyBfb3B0aW9ucyA9IHt9OyB9XG5cdCAgICAgICAgdGhpcy5faWRlbnRpZmllciA9IF9pZGVudGlmaWVyO1xuXHQgICAgICAgIHRoaXMuX2RlZmluaXRpb24gPSBfZGVmaW5pdGlvbjtcblx0ICAgICAgICB0aGlzLl9vcHRpb25zID0gX29wdGlvbnM7XG5cdCAgICAgICAgdGhpcy5fcGFyYW1zID0gX3BhcmFtcyB8fCB7fTtcblx0ICAgIH1cblx0ICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kZWZpbml0aW9uICYmIHRoaXMuX2RlZmluaXRpb24ubmFtZSB8fCB0aGlzLl9pZGVudGlmaWVyO1xuXHQgICAgfTtcblx0ICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5pZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmaWVyO1xuXHQgICAgfTtcblx0ICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5wYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtcztcblx0ICAgIH07XG5cdCAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUuJHN0YXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kZWZpbml0aW9uO1xuXHQgICAgfTtcblx0ICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZGVmaW5pdGlvbiAmJiB0aGlzLl9kZWZpbml0aW9uLnNlbGY7XG5cdCAgICB9O1xuXHQgICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLm9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG5cdCAgICB9O1xuXHQgICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLmV4aXN0cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gISEodGhpcy5fZGVmaW5pdGlvbiAmJiB0aGlzLl9kZWZpbml0aW9uLnNlbGYpO1xuXHQgICAgfTtcblx0ICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gIXRoaXMuZXJyb3IoKTtcblx0ICAgIH07XG5cdCAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIGJhc2UgPSB0aGlzLm9wdGlvbnMoKS5yZWxhdGl2ZTtcblx0ICAgICAgICBpZiAoIXRoaXMuX2RlZmluaXRpb24gJiYgISFiYXNlKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGF0ZU5hbWUgPSBiYXNlLm5hbWUgPyBiYXNlLm5hbWUgOiBiYXNlO1xuXHQgICAgICAgICAgICByZXR1cm4gXCJDb3VsZCBub3QgcmVzb2x2ZSAnXCIgKyB0aGlzLm5hbWUoKSArIFwiJyBmcm9tIHN0YXRlICdcIiArIHN0YXRlTmFtZSArIFwiJ1wiO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuX2RlZmluaXRpb24pXG5cdCAgICAgICAgICAgIHJldHVybiBcIk5vIHN1Y2ggc3RhdGUgJ1wiICsgdGhpcy5uYW1lKCkgKyBcIidcIjtcblx0ICAgICAgICBpZiAoIXRoaXMuX2RlZmluaXRpb24uc2VsZilcblx0ICAgICAgICAgICAgcmV0dXJuIFwiU3RhdGUgJ1wiICsgdGhpcy5uYW1lKCkgKyBcIicgaGFzIGFuIGludmFsaWQgZGVmaW5pdGlvblwiO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBUYXJnZXRTdGF0ZTtcblx0fSgpKTtcblx0ZXhwb3J0cy5UYXJnZXRTdGF0ZSA9IFRhcmdldFN0YXRlO1xuXG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgVmlld0hvb2tzID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFZpZXdIb29rcyh0cmFuc2l0aW9uLCAkdmlldykge1xuXHQgICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG5cdCAgICAgICAgdGhpcy4kdmlldyA9ICR2aWV3O1xuXHQgICAgICAgIHRoaXMudHJlZUNoYW5nZXMgPSB0cmFuc2l0aW9uLnRyZWVDaGFuZ2VzKCk7XG5cdCAgICAgICAgdGhpcy5lbnRlcmluZ1ZpZXdzID0gdHJhbnNpdGlvbi52aWV3cyhcImVudGVyaW5nXCIpO1xuXHQgICAgICAgIHRoaXMuZXhpdGluZ1ZpZXdzID0gdHJhbnNpdGlvbi52aWV3cyhcImV4aXRpbmdcIik7XG5cdCAgICB9XG5cdCAgICBWaWV3SG9va3MucHJvdG90eXBlLmxvYWRBbGxFbnRlcmluZ1ZpZXdzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5hbGwodGhpcy5lbnRlcmluZ1ZpZXdzLm1hcChmdW5jdGlvbiAodmlldykgeyByZXR1cm4gdmlldy5sb2FkKCk7IH0pKS50aGVuKGNvbW1vbl8xLm5vb3ApO1xuXHQgICAgfTtcblx0ICAgIFZpZXdIb29rcy5wcm90b3R5cGUudXBkYXRlVmlld3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyICR2aWV3ID0gdGhpcy4kdmlldztcblx0ICAgICAgICB0aGlzLmV4aXRpbmdWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3Q29uZmlnKSB7IHJldHVybiAkdmlldy5kZWFjdGl2YXRlVmlld0NvbmZpZyh2aWV3Q29uZmlnKTsgfSk7XG5cdCAgICAgICAgdGhpcy5lbnRlcmluZ1ZpZXdzLmZvckVhY2goZnVuY3Rpb24gKHZpZXdDb25maWcpIHsgcmV0dXJuICR2aWV3LmFjdGl2YXRlVmlld0NvbmZpZyh2aWV3Q29uZmlnKTsgfSk7XG5cdCAgICAgICAgJHZpZXcuc3luYygpO1xuXHQgICAgfTtcblx0ICAgIFZpZXdIb29rcy5wcm90b3R5cGUucmVnaXN0ZXJIb29rcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAodGhpcy5lbnRlcmluZ1ZpZXdzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb24ub25TdGFydCh7fSwgdGhpcy5sb2FkQWxsRW50ZXJpbmdWaWV3cy5iaW5kKHRoaXMpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRoaXMuZXhpdGluZ1ZpZXdzLmxlbmd0aCB8fCB0aGlzLmVudGVyaW5nVmlld3MubGVuZ3RoKVxuXHQgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb24ub25TdWNjZXNzKHt9LCB0aGlzLnVwZGF0ZVZpZXdzLmJpbmQodGhpcykpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBWaWV3SG9va3M7XG5cdH0oKSk7XG5cdGV4cG9ydHMuVmlld0hvb2tzID0gVmlld0hvb2tzO1xuXG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBFbnRlckV4aXRIb29rcyA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBFbnRlckV4aXRIb29rcyh0cmFuc2l0aW9uKSB7XG5cdCAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcblx0ICAgIH1cblx0ICAgIEVudGVyRXhpdEhvb2tzLnByb3RvdHlwZS5yZWdpc3Rlckhvb2tzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHRoaXMucmVnaXN0ZXJPbkVudGVySG9va3MoKTtcblx0ICAgICAgICB0aGlzLnJlZ2lzdGVyT25SZXRhaW5Ib29rcygpO1xuXHQgICAgICAgIHRoaXMucmVnaXN0ZXJPbkV4aXRIb29rcygpO1xuXHQgICAgfTtcblx0ICAgIEVudGVyRXhpdEhvb2tzLnByb3RvdHlwZS5yZWdpc3Rlck9uRW50ZXJIb29rcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHRoaXMudHJhbnNpdGlvbi5lbnRlcmluZygpLmZpbHRlcihmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuICEhc3RhdGUub25FbnRlcjsgfSlcblx0ICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBfdGhpcy50cmFuc2l0aW9uLm9uRW50ZXIoeyBlbnRlcmluZzogc3RhdGUubmFtZSB9LCBzdGF0ZS5vbkVudGVyKTsgfSk7XG5cdCAgICB9O1xuXHQgICAgRW50ZXJFeGl0SG9va3MucHJvdG90eXBlLnJlZ2lzdGVyT25SZXRhaW5Ib29rcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHRoaXMudHJhbnNpdGlvbi5yZXRhaW5lZCgpLmZpbHRlcihmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuICEhc3RhdGUub25SZXRhaW47IH0pXG5cdCAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gX3RoaXMudHJhbnNpdGlvbi5vblJldGFpbih7IHJldGFpbmVkOiBzdGF0ZS5uYW1lIH0sIHN0YXRlLm9uUmV0YWluKTsgfSk7XG5cdCAgICB9O1xuXHQgICAgRW50ZXJFeGl0SG9va3MucHJvdG90eXBlLnJlZ2lzdGVyT25FeGl0SG9va3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB0aGlzLnRyYW5zaXRpb24uZXhpdGluZygpLmZpbHRlcihmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuICEhc3RhdGUub25FeGl0OyB9KVxuXHQgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIF90aGlzLnRyYW5zaXRpb24ub25FeGl0KHsgZXhpdGluZzogc3RhdGUubmFtZSB9LCBzdGF0ZS5vbkV4aXQpOyB9KTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gRW50ZXJFeGl0SG9va3M7XG5cdH0oKSk7XG5cdGV4cG9ydHMuRW50ZXJFeGl0SG9va3MgPSBFbnRlckV4aXRIb29rcztcblxuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSBzdGF0ZSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIGhvZl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0dmFyIGludGVyZmFjZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdHZhciBob2ZfMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciByZXNvbHZhYmxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0dmFyIExBWlkgPSBpbnRlcmZhY2VfMS5SZXNvbHZlUG9saWN5W2ludGVyZmFjZV8xLlJlc29sdmVQb2xpY3kuTEFaWV07XG5cdHZhciBFQUdFUiA9IGludGVyZmFjZV8xLlJlc29sdmVQb2xpY3lbaW50ZXJmYWNlXzEuUmVzb2x2ZVBvbGljeS5FQUdFUl07XG5cdC8qKlxuXHQgKiBSZWdpc3RlcnMgRWFnZXIgYW5kIExhenkgKGZvciBlbnRlcmluZyBzdGF0ZXMpIHJlc29sdmUgaG9va3Ncblx0ICpcblx0ICogKiByZWdpc3RlcnMgYSBob29rIHRoYXQgcmVzb2x2ZXMgRUFHRVIgcmVzb2x2ZXMsIGZvciB0aGUgVG8gUGF0aCwgb25TdGFydCBvZiB0aGUgdHJhbnNpdGlvblxuXHQgKiAqIHJlZ2lzdGVycyBhIGhvb2sgdGhhdCByZXNvbHZlcyBMQVpZIHJlc29sdmVzLCBmb3IgZWFjaCBzdGF0ZSwgYmVmb3JlIGl0IGlzIGVudGVyZWRcblx0ICovXG5cdHZhciBSZXNvbHZlSG9va3MgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gUmVzb2x2ZUhvb2tzKHRyYW5zaXRpb24pIHtcblx0ICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuXHQgICAgfVxuXHQgICAgUmVzb2x2ZUhvb2tzLnByb3RvdHlwZS5yZWdpc3Rlckhvb2tzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciB0cmVlQ2hhbmdlcyA9IHRoaXMudHJhbnNpdGlvbi50cmVlQ2hhbmdlcygpO1xuXHQgICAgICAgIC8qKiBhIGZ1bmN0aW9uIHdoaWNoIHJlc29sdmVzIGFueSBFQUdFUiBSZXNvbHZhYmxlcyBmb3IgYSBQYXRoICovXG5cdCAgICAgICAgJGVhZ2VyUmVzb2x2ZVBhdGguJGluamVjdCA9IFsnJHRyYW5zaXRpb24kJ107XG5cdCAgICAgICAgZnVuY3Rpb24gJGVhZ2VyUmVzb2x2ZVBhdGgoJHRyYW5zaXRpb24kKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjb21tb25fMS50YWlsKHRyZWVDaGFuZ2VzLnRvKS5yZXNvbHZlQ29udGV4dC5yZXNvbHZlUGF0aChjb21tb25fMS5leHRlbmQoeyB0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbiQgfSwgeyByZXNvbHZlUG9saWN5OiBFQUdFUiB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8qKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggcHJlLXJlc29sdmVzIGFueSBMQVpZIFJlc29sdmFibGVzIGZvciBhIE5vZGUgaW4gYSBQYXRoICovXG5cdCAgICAgICAgJGxhenlSZXNvbHZlRW50ZXJpbmdTdGF0ZS4kaW5qZWN0ID0gWyckc3RhdGUkJywgJyR0cmFuc2l0aW9uJCddO1xuXHQgICAgICAgIGZ1bmN0aW9uICRsYXp5UmVzb2x2ZUVudGVyaW5nU3RhdGUoJHN0YXRlJCwgJHRyYW5zaXRpb24kKSB7XG5cdCAgICAgICAgICAgIHZhciBub2RlID0gY29tbW9uXzEuZmluZCh0cmVlQ2hhbmdlcy5lbnRlcmluZywgaG9mXzEucHJvcEVxKCdzdGF0ZScsICRzdGF0ZSQpKTtcblx0ICAgICAgICAgICAgLy8gQSBuZXcgUmVzb2x2YWJsZSBjb250YWlucyBhbGwgdGhlIHJlc29sdmVkIGRhdGEgaW4gdGhpcyBjb250ZXh0IGFzIGEgc2luZ2xlIG9iamVjdCwgZm9yIGluamVjdGlvbiBhcyBgJHJlc29sdmUkYFxuXHQgICAgICAgICAgICB2YXIgY29udGV4dCA9IG5vZGUucmVzb2x2ZUNvbnRleHQ7XG5cdCAgICAgICAgICAgIHZhciAkcmVzb2x2ZSQgPSBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUoXCIkcmVzb2x2ZSRcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tbW9uXzEubWFwKGNvbnRleHQuZ2V0UmVzb2x2YWJsZXMoKSwgZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7IH0pO1xuXHQgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGNvbW1vbl8xLmV4dGVuZCh7IHRyYW5zaXRpb246ICR0cmFuc2l0aW9uJCB9LCB7IHJlc29sdmVQb2xpY3k6IExBWlkgfSk7XG5cdCAgICAgICAgICAgIC8vIFJlc29sdmUgYWxsIHRoZSBMQVpZIHJlc29sdmVzLCB0aGVuIHJlc29sdmUgdGhlIGAkcmVzb2x2ZSRgIG9iamVjdCwgdGhlbiBhZGQgYCRyZXNvbHZlJGAgdG8gdGhlIGNvbnRleHRcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQucmVzb2x2ZVBhdGhFbGVtZW50KG5vZGUuc3RhdGUsIG9wdGlvbnMpXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiAkcmVzb2x2ZSQucmVzb2x2ZVJlc29sdmFibGUoY29udGV4dCk7IH0pXG5cdCAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBjb250ZXh0LmFkZFJlc29sdmFibGVzKHsgJHJlc29sdmUkOiAkcmVzb2x2ZSQgfSwgbm9kZS5zdGF0ZSk7IH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBSZXNvbHZlIGVhZ2VyIHJlc29sdmFibGVzIGJlZm9yZSB3aGVuIHRoZSB0cmFuc2l0aW9uIHN0YXJ0c1xuXHQgICAgICAgIHRoaXMudHJhbnNpdGlvbi5vblN0YXJ0KHt9LCAkZWFnZXJSZXNvbHZlUGF0aCwgeyBwcmlvcml0eTogMTAwMCB9KTtcblx0ICAgICAgICAvLyBSZXNvbHZlIGxhenkgcmVzb2x2YWJsZXMgYmVmb3JlIGVhY2ggc3RhdGUgaXMgZW50ZXJlZFxuXHQgICAgICAgIHRoaXMudHJhbnNpdGlvbi5vbkVudGVyKHsgZW50ZXJpbmc6IGhvZl8yLnZhbCh0cnVlKSB9LCAkbGF6eVJlc29sdmVFbnRlcmluZ1N0YXRlLCB7IHByaW9yaXR5OiAxMDAwIH0pO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBSZXNvbHZlSG9va3M7XG5cdH0oKSk7XG5cdGV4cG9ydHMuUmVzb2x2ZUhvb2tzID0gUmVzb2x2ZUhvb2tzO1xuXG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8vIERlZmluZXMgdGhlIGF2YWlsYWJsZSBwb2xpY2llcyBhbmQgdGhlaXIgb3JkaW5hbHMuXG5cdChmdW5jdGlvbiAoUmVzb2x2ZVBvbGljeSkge1xuXHQgICAgUmVzb2x2ZVBvbGljeVtSZXNvbHZlUG9saWN5W1wiSklUXCJdID0gMF0gPSBcIkpJVFwiO1xuXHQgICAgUmVzb2x2ZVBvbGljeVtSZXNvbHZlUG9saWN5W1wiTEFaWVwiXSA9IDFdID0gXCJMQVpZXCI7XG5cdCAgICBSZXNvbHZlUG9saWN5W1Jlc29sdmVQb2xpY3lbXCJFQUdFUlwiXSA9IDJdID0gXCJFQUdFUlwiOyAvLyBFYWdlciByZXNvbHZlcyBhcmUgcmVzb2x2ZWQgYmVmb3JlIHRoZSB0cmFuc2l0aW9uIHN0YXJ0cy5cblx0fSkoZXhwb3J0cy5SZXNvbHZlUG9saWN5IHx8IChleHBvcnRzLlJlc29sdmVQb2xpY3kgPSB7fSkpO1xuXHR2YXIgUmVzb2x2ZVBvbGljeSA9IGV4cG9ydHMuUmVzb2x2ZVBvbGljeTtcblxuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSByZXNvbHZlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIGNvcmVzZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIHRyYWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0LyoqXG5cdCAqIFRoZSBiYXNpYyBidWlsZGluZyBibG9jayBmb3IgdGhlIHJlc29sdmUgc3lzdGVtLlxuXHQgKlxuXHQgKiBSZXNvbHZhYmxlcyBlbmNhcHN1bGF0ZSBhIHN0YXRlJ3MgcmVzb2x2ZSdzIHJlc29sdmVGbiwgdGhlIHJlc29sdmVGbidzIGRlY2xhcmVkIGRlcGVuZGVuY2llcywgdGhlIHdyYXBwZWQgKC5wcm9taXNlKSxcblx0ICogYW5kIHRoZSB1bndyYXBwZWQtd2hlbi1jb21wbGV0ZSAoLmRhdGEpIHJlc3VsdCBvZiB0aGUgcmVzb2x2ZUZuLlxuXHQgKlxuXHQgKiBSZXNvbHZhYmxlLmdldCgpIGVpdGhlciByZXRyaWV2ZXMgdGhlIFJlc29sdmFibGUncyBleGlzdGluZyBwcm9taXNlLCBvciBlbHNlIGludm9rZXMgcmVzb2x2ZSgpICh3aGljaCBpbnZva2VzIHRoZVxuXHQgKiByZXNvbHZlRm4pIGFuZCByZXR1cm5zIHRoZSByZXN1bHRpbmcgcHJvbWlzZS5cblx0ICpcblx0ICogUmVzb2x2YWJsZS5nZXQoKSBhbmQgUmVzb2x2YWJsZS5yZXNvbHZlKCkgYm90aCBleGVjdXRlIHdpdGhpbiBhIGNvbnRleHQgcGF0aCwgd2hpY2ggaXMgcGFzc2VkIGFzIHRoZSBmaXJzdFxuXHQgKiBwYXJhbWV0ZXIgdG8gdGhvc2UgZm5zLlxuXHQgKi9cblx0dmFyIFJlc29sdmFibGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gUmVzb2x2YWJsZShuYW1lLCByZXNvbHZlRm4sIHByZVJlc29sdmVkRGF0YSkge1xuXHQgICAgICAgIHRoaXMucHJvbWlzZSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICBjb21tb25fMS5leHRlbmQodGhpcywge1xuXHQgICAgICAgICAgICBuYW1lOiBuYW1lLFxuXHQgICAgICAgICAgICByZXNvbHZlRm46IHJlc29sdmVGbixcblx0ICAgICAgICAgICAgZGVwczogY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yLmFubm90YXRlKHJlc29sdmVGbiwgY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yLnN0cmljdERpKSxcblx0ICAgICAgICAgICAgZGF0YTogcHJlUmVzb2x2ZWREYXRhXG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICAvLyBzeW5jaHJvbm91cyBwYXJ0OlxuXHQgICAgLy8gLSBzZXRzIHVwIHRoZSBSZXNvbHZhYmxlJ3MgcHJvbWlzZVxuXHQgICAgLy8gLSByZXRyaWV2ZXMgZGVwZW5kZW5jaWVzJyBwcm9taXNlc1xuXHQgICAgLy8gLSByZXR1cm5zIHByb21pc2UgZm9yIGFzeW5jIHBhcnRcblx0ICAgIC8vIGFzeW5jaHJvbm91cyBwYXJ0OlxuXHQgICAgLy8gLSB3YWl0IGZvciBkZXBlbmRlbmNpZXMgcHJvbWlzZXMgdG8gcmVzb2x2ZVxuXHQgICAgLy8gLSBpbnZva2UgdGhlIHJlc29sdmVGblxuXHQgICAgLy8gLSB3YWl0IGZvciByZXNvbHZlRm4gcHJvbWlzZSB0byByZXNvbHZlXG5cdCAgICAvLyAtIHN0b3JlIHVud3JhcHBlZCBkYXRhXG5cdCAgICAvLyAtIHJlc29sdmUgdGhlIFJlc29sdmFibGUncyBwcm9taXNlXG5cdCAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5yZXNvbHZlUmVzb2x2YWJsZSA9IGZ1bmN0aW9uIChyZXNvbHZlQ29udGV4dCwgb3B0aW9ucykge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLCBuYW1lID0gX2EubmFtZSwgZGVwcyA9IF9hLmRlcHMsIHJlc29sdmVGbiA9IF9hLnJlc29sdmVGbjtcblx0ICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlUmVzb2x2ZVJlc29sdmFibGUodGhpcywgb3B0aW9ucyk7XG5cdCAgICAgICAgLy8gRmlyc3QsIHNldCB1cCBhbiBvdmVyYWxsIGRlZmVycmVkL3Byb21pc2UgZm9yIHRoaXMgUmVzb2x2YWJsZVxuXHQgICAgICAgIHZhciBkZWZlcnJlZCA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLmRlZmVyKCk7XG5cdCAgICAgICAgdGhpcy5wcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgICAgICAvLyBMb2FkIGEgbWFwIG9mIGFsbCByZXNvbHZhYmxlcyBmb3IgdGhpcyBzdGF0ZSBmcm9tIHRoZSBjb250ZXh0IHBhdGhcblx0ICAgICAgICAvLyBPbWl0IHRoZSBjdXJyZW50IFJlc29sdmFibGUgZnJvbSB0aGUgcmVzdWx0LCBzbyB3ZSBkb24ndCB0cnkgdG8gaW5qZWN0IHRoaXMgaW50byB0aGlzXG5cdCAgICAgICAgdmFyIGFuY2VzdG9yc0J5TmFtZSA9IHJlc29sdmVDb250ZXh0LmdldFJlc29sdmFibGVzKG51bGwsIHsgb21pdE93bkxvY2FsczogW25hbWVdIH0pO1xuXHQgICAgICAgIC8vIExpbWl0IHRoZSBhbmNlc3RvcnMgUmVzb2x2YWJsZXMgbWFwIHRvIG9ubHkgdGhvc2UgdGhhdCB0aGUgY3VycmVudCBSZXNvbHZhYmxlIGZuJ3MgYW5ub3RhdGlvbnMgZGVwZW5kcyBvblxuXHQgICAgICAgIHZhciBkZXBSZXNvbHZhYmxlcyA9IGNvbW1vbl8xLnBpY2soYW5jZXN0b3JzQnlOYW1lLCBkZXBzKTtcblx0ICAgICAgICAvLyBHZXQgcHJvbWlzZXMgKG9yIHN5bmNocm9ub3VzbHkgaW52b2tlIHJlc29sdmVGbikgZm9yIGRlcHNcblx0ICAgICAgICB2YXIgZGVwUHJvbWlzZXMgPSBjb21tb25fMS5tYXAoZGVwUmVzb2x2YWJsZXMsIGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7IHJldHVybiByZXNvbHZhYmxlLmdldChyZXNvbHZlQ29udGV4dCwgb3B0aW9ucyk7IH0pO1xuXHQgICAgICAgIC8vIFJldHVybiBhIHByb21pc2UgY2hhaW4gdGhhdCB3YWl0cyBmb3IgYWxsIHRoZSBkZXBzIHRvIHJlc29sdmUsIHRoZW4gaW52b2tlcyB0aGUgcmVzb2x2ZUZuIHBhc3NpbmcgaW4gdGhlXG5cdCAgICAgICAgLy8gZGVwZW5kZW5jaWVzIGFzIGxvY2FscywgdGhlbiB1bndyYXBzIHRoZSByZXN1bHRpbmcgcHJvbWlzZSdzIGRhdGEuXG5cdCAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLmFsbChkZXBQcm9taXNlcykudGhlbihmdW5jdGlvbiAobG9jYWxzKSB7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yLmludm9rZShyZXNvbHZlRm4sIG51bGwsIGxvY2Fscyk7XG5cdCAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9taXNlO1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgX3RoaXMuZGF0YSA9IGRhdGE7XG5cdCAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQoX3RoaXMsIG9wdGlvbnMpO1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvbWlzZTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocmVzb2x2ZUNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlIHx8IHRoaXMucmVzb2x2ZVJlc29sdmFibGUocmVzb2x2ZUNvbnRleHQsIG9wdGlvbnMpO1xuXHQgICAgfTtcblx0ICAgIFJlc29sdmFibGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBcIlJlc29sdmFibGUobmFtZTogXCIgKyB0aGlzLm5hbWUgKyBcIiwgcmVxdWlyZXM6IFtcIiArIHRoaXMuZGVwcyArIFwiXSlcIjtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIFZhbGlkYXRlcyB0aGUgcmVzdWx0IG1hcCBhcyBhIFwicmVzb2x2ZTpcIiBzdHlsZSBvYmplY3QsIHRoZW4gdHJhbnNmb3JtcyB0aGUgcmVzb2x2ZXMgaW50byBSZXNvbHZhYmxlc1xuXHQgICAgICovXG5cdCAgICBSZXNvbHZhYmxlLm1ha2VSZXNvbHZhYmxlcyA9IGZ1bmN0aW9uIChyZXNvbHZlcykge1xuXHQgICAgICAgIC8vIElmIGEgaG9vayByZXN1bHQgaXMgYW4gb2JqZWN0LCBpdCBzaG91bGQgYmUgYSBtYXAgb2Ygc3RyaW5ncyB0byBmdW5jdGlvbnMuXG5cdCAgICAgICAgdmFyIGludmFsaWQgPSBjb21tb25fMS5maWx0ZXIocmVzb2x2ZXMsIGhvZl8xLm5vdChwcmVkaWNhdGVzXzEuaXNJbmplY3RhYmxlKSksIGtleXMgPSBPYmplY3Qua2V5cyhpbnZhbGlkKTtcblx0ICAgICAgICBpZiAoa2V5cy5sZW5ndGgpXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVzb2x2ZSBrZXkvdmFsdWU6IFwiICsga2V5c1swXSArIFwiL1wiICsgaW52YWxpZFtrZXlzWzBdXSk7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcChyZXNvbHZlcywgZnVuY3Rpb24gKGZuLCBuYW1lKSB7IHJldHVybiBuZXcgUmVzb2x2YWJsZShuYW1lLCBmbik7IH0pO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBSZXNvbHZhYmxlO1xuXHR9KCkpO1xuXHRleHBvcnRzLlJlc29sdmFibGUgPSBSZXNvbHZhYmxlO1xuXG5cbi8qKiovIH0sXG4vKiAzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqIEBtb2R1bGUgc3RhdGUgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHQvKipcblx0ICogQG5nZG9jIG9iamVjdFxuXHQgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUudHlwZTpTdGF0ZVxuXHQgKlxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogRGVmaW5pdGlvbiBvYmplY3QgZm9yIHN0YXRlcy4gSW5jbHVkZXMgbWV0aG9kcyBmb3IgbWFuaXB1bGF0aW5nIHRoZSBzdGF0ZSBoZWlyYXJjaHkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgIEEgY29uZmlndXJhdGlvbiBvYmplY3QgaGFzaCB0aGF0IGluY2x1ZGVzIHRoZSByZXN1bHRzIG9mIHVzZXItc3VwcGxpZWRcblx0ICogICAgICAgIHZhbHVlcywgYXMgd2VsbCBhcyB2YWx1ZXMgZnJvbSBgU3RhdGVCdWlsZGVyYC5cblx0ICpcblx0ICogQHJldHVybnMge09iamVjdH0gIFJldHVybnMgYSBuZXcgYFN0YXRlYCBvYmplY3QuXG5cdCAqL1xuXHR2YXIgU3RhdGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gU3RhdGUoY29uZmlnKSB7XG5cdCAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIGNvbmZpZyk7XG5cdCAgICAgICAgLy8gT2JqZWN0LmZyZWV6ZSh0aGlzKTtcblx0ICAgIH1cblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUudHlwZTpTdGF0ZSNpc1xuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS50eXBlOlN0YXRlXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBDb21wYXJlcyB0aGUgaWRlbnRpdHkgb2YgdGhlIHN0YXRlIGFnYWluc3QgdGhlIHBhc3NlZCB2YWx1ZSwgd2hpY2ggaXMgZWl0aGVyIGFuIG9iamVjdFxuXHQgICAgICogcmVmZXJlbmNlIHRvIHRoZSBhY3R1YWwgYFN0YXRlYCBpbnN0YW5jZSwgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24gb2JqZWN0IHBhc3NlZCB0b1xuXHQgICAgICogYCRzdGF0ZVByb3ZpZGVyLnN0YXRlKClgLCBvciB0aGUgZnVsbHktcXVhbGlmaWVkIG5hbWUuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHJlZiBDYW4gYmUgb25lIG9mIChhKSBhIGBTdGF0ZWAgaW5zdGFuY2UsIChiKSBhbiBvYmplY3QgdGhhdCB3YXMgcGFzc2VkXG5cdCAgICAgKiAgICAgICAgaW50byBgJHN0YXRlUHJvdmlkZXIuc3RhdGUoKWAsIChjKSB0aGUgZnVsbHktcXVhbGlmaWVkIG5hbWUgb2YgYSBzdGF0ZSBhcyBhIHN0cmluZy5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcmVmYCBtYXRjaGVzIHRoZSBjdXJyZW50IGBTdGF0ZWAgaW5zdGFuY2UuXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uIChyZWYpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcyA9PT0gcmVmIHx8IHRoaXMuc2VsZiA9PT0gcmVmIHx8IHRoaXMuZnFuKCkgPT09IHJlZjtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLnR5cGU6U3RhdGUjZnFuXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLnR5cGU6U3RhdGVcblx0ICAgICAqXG5cdCAgICAgKiBAZGVzY3JpcHRpb25cblx0ICAgICAqIFJldHVybnMgdGhlIGZ1bGx5LXF1YWxpZmllZCBuYW1lIG9mIHRoZSBzdGF0ZSwgYmFzZWQgb24gaXRzIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIHRyZWUuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIGRvdC1zZXBhcmF0ZWQgbmFtZSBvZiB0aGUgc3RhdGUuXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlLnByb3RvdHlwZS5mcW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fCAhKHRoaXMucGFyZW50IGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvcikpXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG5cdCAgICAgICAgdmFyIG5hbWUgPSB0aGlzLnBhcmVudC5mcW4oKTtcblx0ICAgICAgICByZXR1cm4gbmFtZSA/IG5hbWUgKyBcIi5cIiArIHRoaXMubmFtZSA6IHRoaXMubmFtZTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLnR5cGU6U3RhdGUjcm9vdFxuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS50eXBlOlN0YXRlXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBSZXR1cm5zIHRoZSByb290IG5vZGUgb2YgdGhpcyBzdGF0ZSdzIHRyZWUuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge1N0YXRlfSBUaGUgcm9vdCBvZiB0aGlzIHN0YXRlJ3MgdHJlZS5cblx0ICAgICAqL1xuXHQgICAgU3RhdGUucHJvdG90eXBlLnJvb3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnJvb3QoKSB8fCB0aGlzO1xuXHQgICAgfTtcblx0ICAgIFN0YXRlLnByb3RvdHlwZS5wYXJhbWV0ZXJzID0gZnVuY3Rpb24gKG9wdHMpIHtcblx0ICAgICAgICBvcHRzID0gY29tbW9uXzEuZGVmYXVsdHMob3B0cywgeyBpbmhlcml0OiB0cnVlIH0pO1xuXHQgICAgICAgIHZhciBpbmhlcml0ZWQgPSBvcHRzLmluaGVyaXQgJiYgdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucGFyYW1ldGVycygpIHx8IFtdO1xuXHQgICAgICAgIHJldHVybiBpbmhlcml0ZWQuY29uY2F0KGNvbW1vbl8xLnZhbHVlcyh0aGlzLnBhcmFtcykpO1xuXHQgICAgfTtcblx0ICAgIFN0YXRlLnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAoaWQsIG9wdHMpIHtcblx0ICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuXHQgICAgICAgIHJldHVybiAodGhpcy51cmwgJiYgdGhpcy51cmwucGFyYW1ldGVyKGlkLCBvcHRzKSB8fFxuXHQgICAgICAgICAgICBjb21tb25fMS5maW5kKGNvbW1vbl8xLnZhbHVlcyh0aGlzLnBhcmFtcyksIGhvZl8xLnByb3BFcSgnaWQnLCBpZCkpIHx8XG5cdCAgICAgICAgICAgIG9wdHMuaW5oZXJpdCAmJiB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5wYXJhbWV0ZXIoaWQpKTtcblx0ICAgIH07XG5cdCAgICBTdGF0ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZnFuKCk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFN0YXRlO1xuXHR9KCkpO1xuXHRleHBvcnRzLlN0YXRlID0gU3RhdGU7XG5cblxuLyoqKi8gfSxcbi8qIDM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIEBtb2R1bGUgc3RhdGUgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgU3RhdGVNYXRjaGVyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFN0YXRlTWF0Y2hlcihfc3RhdGVzKSB7XG5cdCAgICAgICAgdGhpcy5fc3RhdGVzID0gX3N0YXRlcztcblx0ICAgIH1cblx0ICAgIFN0YXRlTWF0Y2hlci5wcm90b3R5cGUuaXNSZWxhdGl2ZSA9IGZ1bmN0aW9uIChzdGF0ZU5hbWUpIHtcblx0ICAgICAgICBzdGF0ZU5hbWUgPSBzdGF0ZU5hbWUgfHwgXCJcIjtcblx0ICAgICAgICByZXR1cm4gc3RhdGVOYW1lLmluZGV4T2YoXCIuXCIpID09PSAwIHx8IHN0YXRlTmFtZS5pbmRleE9mKFwiXlwiKSA9PT0gMDtcblx0ICAgIH07XG5cdCAgICBTdGF0ZU1hdGNoZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGJhc2UpIHtcblx0ICAgICAgICBpZiAoIXN0YXRlT3JOYW1lICYmIHN0YXRlT3JOYW1lICE9PSBcIlwiKVxuXHQgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgICAgIHZhciBpc1N0ciA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzdGF0ZU9yTmFtZSk7XG5cdCAgICAgICAgdmFyIG5hbWUgPSBpc1N0ciA/IHN0YXRlT3JOYW1lIDogc3RhdGVPck5hbWUubmFtZTtcblx0ICAgICAgICBpZiAodGhpcy5pc1JlbGF0aXZlKG5hbWUpKVxuXHQgICAgICAgICAgICBuYW1lID0gdGhpcy5yZXNvbHZlUGF0aChuYW1lLCBiYXNlKTtcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLl9zdGF0ZXNbbmFtZV07XG5cdCAgICAgICAgaWYgKHN0YXRlICYmIChpc1N0ciB8fCAoIWlzU3RyICYmIChzdGF0ZSA9PT0gc3RhdGVPck5hbWUgfHwgc3RhdGUuc2VsZiA9PT0gc3RhdGVPck5hbWUpKSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgfTtcblx0ICAgIFN0YXRlTWF0Y2hlci5wcm90b3R5cGUucmVzb2x2ZVBhdGggPSBmdW5jdGlvbiAobmFtZSwgYmFzZSkge1xuXHQgICAgICAgIGlmICghYmFzZSlcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmZXJlbmNlIHBvaW50IGdpdmVuIGZvciBwYXRoICdcIiArIG5hbWUgKyBcIidcIik7XG5cdCAgICAgICAgdmFyIGJhc2VTdGF0ZSA9IHRoaXMuZmluZChiYXNlKTtcblx0ICAgICAgICB2YXIgc3BsaXROYW1lID0gbmFtZS5zcGxpdChcIi5cIiksIGkgPSAwLCBwYXRoTGVuZ3RoID0gc3BsaXROYW1lLmxlbmd0aCwgY3VycmVudCA9IGJhc2VTdGF0ZTtcblx0ICAgICAgICBmb3IgKDsgaSA8IHBhdGhMZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAoc3BsaXROYW1lW2ldID09PSBcIlwiICYmIGkgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBiYXNlU3RhdGU7XG5cdCAgICAgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoc3BsaXROYW1lW2ldID09PSBcIl5cIikge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50LnBhcmVudClcblx0ICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoICdcIiArIG5hbWUgKyBcIicgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIgKyBiYXNlU3RhdGUubmFtZSArIFwiJ1wiKTtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcblx0ICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgcmVsTmFtZSA9IHNwbGl0TmFtZS5zbGljZShpKS5qb2luKFwiLlwiKTtcblx0ICAgICAgICByZXR1cm4gY3VycmVudC5uYW1lICsgKGN1cnJlbnQubmFtZSAmJiByZWxOYW1lID8gXCIuXCIgOiBcIlwiKSArIHJlbE5hbWU7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFN0YXRlTWF0Y2hlcjtcblx0fSgpKTtcblx0ZXhwb3J0cy5TdGF0ZU1hdGNoZXIgPSBTdGF0ZU1hdGNoZXI7XG5cblxuLyoqKi8gfSxcbi8qIDM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIEBtb2R1bGUgc3RhdGUgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dmFyIFN0YXRlUXVldWVNYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFN0YXRlUXVldWVNYW5hZ2VyKHN0YXRlcywgYnVpbGRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cdCAgICAgICAgdGhpcy5zdGF0ZXMgPSBzdGF0ZXM7XG5cdCAgICAgICAgdGhpcy5idWlsZGVyID0gYnVpbGRlcjtcblx0ICAgICAgICB0aGlzLiR1cmxSb3V0ZXJQcm92aWRlciA9ICR1cmxSb3V0ZXJQcm92aWRlcjtcblx0ICAgICAgICB0aGlzLnF1ZXVlID0gW107XG5cdCAgICB9XG5cdCAgICBTdGF0ZVF1ZXVlTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcywgc3RhdGVzID0gX2Euc3RhdGVzLCBxdWV1ZSA9IF9hLnF1ZXVlLCAkc3RhdGUgPSBfYS4kc3RhdGU7XG5cdCAgICAgICAgLy8gV3JhcCBhIG5ldyBvYmplY3QgYXJvdW5kIHRoZSBzdGF0ZSBzbyB3ZSBjYW4gc3RvcmUgb3VyIHByaXZhdGUgZGV0YWlscyBlYXNpbHkuXG5cdCAgICAgICAgLy8gQFRPRE86IHN0YXRlID0gbmV3IFN0YXRlKGV4dGVuZCh7fSwgY29uZmlnLCB7IC4uLiB9KSlcblx0ICAgICAgICB2YXIgc3RhdGUgPSBjb21tb25fMS5pbmhlcml0KG5ldyBtb2R1bGVfMS5TdGF0ZSgpLCBjb21tb25fMS5leHRlbmQoe30sIGNvbmZpZywge1xuXHQgICAgICAgICAgICBzZWxmOiBjb25maWcsXG5cdCAgICAgICAgICAgIHJlc29sdmU6IGNvbmZpZy5yZXNvbHZlIHx8IHt9LFxuXHQgICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnLm5hbWU7IH1cblx0ICAgICAgICB9KSk7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNTdHJpbmcoc3RhdGUubmFtZSkpXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlIG11c3QgaGF2ZSBhIHZhbGlkIG5hbWVcIik7XG5cdCAgICAgICAgaWYgKHN0YXRlcy5oYXNPd25Qcm9wZXJ0eShzdGF0ZS5uYW1lKSB8fCBjb21tb25fMS5wbHVjayhxdWV1ZSwgJ25hbWUnKS5pbmRleE9mKHN0YXRlLm5hbWUpICE9PSAtMSlcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiICsgc3RhdGUubmFtZSArIFwiJyBpcyBhbHJlYWR5IGRlZmluZWRcIik7XG5cdCAgICAgICAgcXVldWUucHVzaChzdGF0ZSk7XG5cdCAgICAgICAgaWYgKHRoaXMuJHN0YXRlKSB7XG5cdCAgICAgICAgICAgIHRoaXMuZmx1c2goJHN0YXRlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfTtcblx0ICAgIFN0YXRlUXVldWVNYW5hZ2VyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgkc3RhdGUpIHtcblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLCBxdWV1ZSA9IF9hLnF1ZXVlLCBzdGF0ZXMgPSBfYS5zdGF0ZXMsIGJ1aWxkZXIgPSBfYS5idWlsZGVyO1xuXHQgICAgICAgIHZhciByZXN1bHQsIHN0YXRlLCBvcnBoYW5zID0gW10sIG9ycGhhbklkeCwgcHJldmlvdXNRdWV1ZUxlbmd0aCA9IHt9O1xuXHQgICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHN0YXRlID0gcXVldWUuc2hpZnQoKTtcblx0ICAgICAgICAgICAgcmVzdWx0ID0gYnVpbGRlci5idWlsZChzdGF0ZSk7XG5cdCAgICAgICAgICAgIG9ycGhhbklkeCA9IG9ycGhhbnMuaW5kZXhPZihzdGF0ZSk7XG5cdCAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChzdGF0ZXMuaGFzT3duUHJvcGVydHkoc3RhdGUubmFtZSkpXG5cdCAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiICsgbmFtZSArIFwiJyBpcyBhbHJlYWR5IGRlZmluZWRcIik7XG5cdCAgICAgICAgICAgICAgICBzdGF0ZXNbc3RhdGUubmFtZV0gPSBzdGF0ZTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoUm91dGUoJHN0YXRlLCBzdGF0ZSk7XG5cdCAgICAgICAgICAgICAgICBpZiAob3JwaGFuSWR4ID49IDApXG5cdCAgICAgICAgICAgICAgICAgICAgb3JwaGFucy5zcGxpY2Uob3JwaGFuSWR4LCAxKTtcblx0ICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBwcmV2ID0gcHJldmlvdXNRdWV1ZUxlbmd0aFtzdGF0ZS5uYW1lXTtcblx0ICAgICAgICAgICAgcHJldmlvdXNRdWV1ZUxlbmd0aFtzdGF0ZS5uYW1lXSA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgICAgICAgICAgaWYgKG9ycGhhbklkeCA+PSAwICYmIHByZXYgPT09IHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCB0d28gY29uc2VjdXRpdmUgaXRlcmF0aW9ucyB3aGVyZSBubyBhZGRpdGlvbmFsIHN0YXRlcyB3ZXJlIGRlcXVldWVkIHN1Y2Nlc3NmdWxseS5cblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWdpc3RlciBvcnBoYW5lZCBzdGF0ZSAnXCIgKyBzdGF0ZS5uYW1lICsgXCInXCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2UgaWYgKG9ycGhhbklkeCA8IDApIHtcblx0ICAgICAgICAgICAgICAgIG9ycGhhbnMucHVzaChzdGF0ZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcXVldWUucHVzaChzdGF0ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBzdGF0ZXM7XG5cdCAgICB9O1xuXHQgICAgU3RhdGVRdWV1ZU1hbmFnZXIucHJvdG90eXBlLmF1dG9GbHVzaCA9IGZ1bmN0aW9uICgkc3RhdGUpIHtcblx0ICAgICAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgICAgICB0aGlzLmZsdXNoKCRzdGF0ZSk7XG5cdCAgICB9O1xuXHQgICAgU3RhdGVRdWV1ZU1hbmFnZXIucHJvdG90eXBlLmF0dGFjaFJvdXRlID0gZnVuY3Rpb24gKCRzdGF0ZSwgc3RhdGUpIHtcblx0ICAgICAgICB2YXIgJHVybFJvdXRlclByb3ZpZGVyID0gdGhpcy4kdXJsUm91dGVyUHJvdmlkZXI7XG5cdCAgICAgICAgaWYgKHN0YXRlW2NvbW1vbl8xLmFic3RyYWN0S2V5XSB8fCAhc3RhdGUudXJsKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLndoZW4oc3RhdGUudXJsLCBbJyRtYXRjaCcsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAoJG1hdGNoLCAkc3RhdGVQYXJhbXMpIHtcblx0ICAgICAgICAgICAgICAgIGlmICgkc3RhdGUuJGN1cnJlbnQubmF2aWdhYmxlICE9PSBzdGF0ZSB8fCAhY29tbW9uXzEuZXF1YWxGb3JLZXlzKCRtYXRjaCwgJHN0YXRlUGFyYW1zKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oc3RhdGUsICRtYXRjaCwgeyBpbmhlcml0OiB0cnVlIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XSk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFN0YXRlUXVldWVNYW5hZ2VyO1xuXHR9KCkpO1xuXHRleHBvcnRzLlN0YXRlUXVldWVNYW5hZ2VyID0gU3RhdGVRdWV1ZU1hbmFnZXI7XG5cblxuLyoqKi8gfSxcbi8qIDM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiogQG1vZHVsZSBzdGF0ZSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBzdGF0ZU1hdGNoZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xuXHR2YXIgc3RhdGVCdWlsZGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0dmFyIHN0YXRlUXVldWVNYW5hZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0dmFyIFN0YXRlUmVnaXN0cnkgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gU3RhdGVSZWdpc3RyeSh1cmxNYXRjaGVyRmFjdG9yeSwgdXJsUm91dGVyUHJvdmlkZXIpIHtcblx0ICAgICAgICB0aGlzLnN0YXRlcyA9IHt9O1xuXHQgICAgICAgIHRoaXMubWF0Y2hlciA9IG5ldyBzdGF0ZU1hdGNoZXJfMS5TdGF0ZU1hdGNoZXIodGhpcy5zdGF0ZXMpO1xuXHQgICAgICAgIHRoaXMuYnVpbGRlciA9IG5ldyBzdGF0ZUJ1aWxkZXJfMS5TdGF0ZUJ1aWxkZXIodGhpcy5tYXRjaGVyLCB1cmxNYXRjaGVyRmFjdG9yeSk7XG5cdCAgICAgICAgdGhpcy5zdGF0ZVF1ZXVlID0gbmV3IHN0YXRlUXVldWVNYW5hZ2VyXzEuU3RhdGVRdWV1ZU1hbmFnZXIodGhpcy5zdGF0ZXMsIHRoaXMuYnVpbGRlciwgdXJsUm91dGVyUHJvdmlkZXIpO1xuXHQgICAgICAgIHZhciByb290U3RhdGVEZWYgPSB7XG5cdCAgICAgICAgICAgIG5hbWU6ICcnLFxuXHQgICAgICAgICAgICB1cmw6ICdeJyxcblx0ICAgICAgICAgICAgdmlld3M6IG51bGwsXG5cdCAgICAgICAgICAgIHBhcmFtczoge1xuXHQgICAgICAgICAgICAgICAgJyMnOiB7IHZhbHVlOiBudWxsLCB0eXBlOiAnaGFzaCcgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIF9yb290ID0gdGhpcy5fcm9vdCA9IHRoaXMuc3RhdGVRdWV1ZS5yZWdpc3Rlcihyb290U3RhdGVEZWYpO1xuXHQgICAgICAgIF9yb290Lm5hdmlnYWJsZSA9IG51bGw7XG5cdCAgICB9XG5cdCAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9yb290O1xuXHQgICAgfTtcblx0ICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHN0YXRlRGVmaW5pdGlvbikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnN0YXRlUXVldWUucmVnaXN0ZXIoc3RhdGVEZWZpbml0aW9uKTtcblx0ICAgIH07XG5cdCAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGJhc2UpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGF0ZXMpLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gX3RoaXMuc3RhdGVzW25hbWVdLnNlbGY7IH0pO1xuXHQgICAgICAgIHZhciBmb3VuZCA9IHRoaXMubWF0Y2hlci5maW5kKHN0YXRlT3JOYW1lLCBiYXNlKTtcblx0ICAgICAgICByZXR1cm4gZm91bmQgJiYgZm91bmQuc2VsZiB8fCBudWxsO1xuXHQgICAgfTtcblx0ICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLmRlY29yYXRvciA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRlci5idWlsZGVyKG5hbWUsIGZ1bmMpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBTdGF0ZVJlZ2lzdHJ5O1xuXHR9KCkpO1xuXHRleHBvcnRzLlN0YXRlUmVnaXN0cnkgPSBTdGF0ZVJlZ2lzdHJ5O1xuXG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIHF1ZXVlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgcGF0aEZhY3RvcnlfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHR2YXIgbm9kZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdHZhciB0cmFuc2l0aW9uU2VydmljZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdHZhciByZWplY3RGYWN0b3J5XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIHRhcmdldFN0YXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0dmFyIHRyYW5zaXRpb25NYW5hZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0dmFyIHBhcmFtXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0dmFyIGdsb2JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBjb21tb25fMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBjb21tb25fMyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBTdGF0ZVNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gU3RhdGVTZXJ2aWNlKCR2aWV3LCAkdXJsUm91dGVyLCAkdHJhbnNpdGlvbnMsIHN0YXRlUmVnaXN0cnksIHN0YXRlUHJvdmlkZXIsIGdsb2JhbHMpIHtcblx0ICAgICAgICB0aGlzLiR2aWV3ID0gJHZpZXc7XG5cdCAgICAgICAgdGhpcy4kdXJsUm91dGVyID0gJHVybFJvdXRlcjtcblx0ICAgICAgICB0aGlzLiR0cmFuc2l0aW9ucyA9ICR0cmFuc2l0aW9ucztcblx0ICAgICAgICB0aGlzLnN0YXRlUmVnaXN0cnkgPSBzdGF0ZVJlZ2lzdHJ5O1xuXHQgICAgICAgIHRoaXMuc3RhdGVQcm92aWRlciA9IHN0YXRlUHJvdmlkZXI7XG5cdCAgICAgICAgdGhpcy5nbG9iYWxzID0gZ2xvYmFscztcblx0ICAgICAgICB0aGlzLnJlamVjdEZhY3RvcnkgPSBuZXcgcmVqZWN0RmFjdG9yeV8xLlJlamVjdEZhY3RvcnkoKTtcblx0ICAgICAgICB2YXIgZ2V0dGVycyA9IFsnY3VycmVudCcsICckY3VycmVudCcsICdwYXJhbXMnLCAndHJhbnNpdGlvbiddO1xuXHQgICAgICAgIHZhciBib3VuZEZucyA9IE9iamVjdC5rZXlzKFN0YXRlU2VydmljZS5wcm90b3R5cGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBnZXR0ZXJzLmluZGV4T2Yoa2V5KSA9PT0gLTE7IH0pO1xuXHQgICAgICAgIGNvbW1vbl8zLmJpbmRGdW5jdGlvbnMoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSwgdGhpcywgdGhpcywgYm91bmRGbnMpO1xuXHQgICAgfVxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlU2VydmljZS5wcm90b3R5cGUsIFwidHJhbnNpdGlvblwiLCB7XG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdsb2JhbHMudHJhbnNpdGlvbjsgfSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJwYXJhbXNcIiwge1xuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5nbG9iYWxzLnBhcmFtczsgfSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJjdXJyZW50XCIsIHtcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2xvYmFscy5jdXJyZW50OyB9LFxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZVNlcnZpY2UucHJvdG90eXBlLCBcIiRjdXJyZW50XCIsIHtcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2xvYmFscy4kY3VycmVudDsgfSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICAvKipcblx0ICAgICAqIEludm9rZXMgdGhlIG9uSW52YWxpZCBjYWxsYmFja3MsIGluIG5hdHVyYWwgb3JkZXIuICBFYWNoIGNhbGxiYWNrJ3MgcmV0dXJuIHZhbHVlIGlzIGNoZWNrZWQgaW4gc2VxdWVuY2Vcblx0ICAgICAqIHVudGlsIG9uZSBvZiB0aGVtIHJldHVybnMgYW4gaW5zdGFuY2Ugb2YgVGFyZ2V0U3RhdGUuICAgVGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrcyBhcmUgd3JhcHBlZFxuXHQgICAgICogaW4gJHEud2hlbigpLCBzbyB0aGUgY2FsbGJhY2tzIG1heSByZXR1cm4gcHJvbWlzZXMuXG5cdCAgICAgKlxuXHQgICAgICogSWYgYSBjYWxsYmFjayByZXR1cm5zIGFuIFRhcmdldFN0YXRlLCB0aGVuIGl0IGlzIHVzZWQgYXMgYXJndW1lbnRzIHRvICRzdGF0ZS50cmFuc2l0aW9uVG8oKSBhbmRcblx0ICAgICAqIHRoZSByZXN1bHQgcmV0dXJuZWQuXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUuX2hhbmRsZUludmFsaWRUYXJnZXRTdGF0ZSA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgJHRvJCkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgdmFyIGxhdGVzdFRoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZ2xvYmFscy50cmFuc2l0aW9uSGlzdG9yeS5wZWVrVGFpbCgpOyB9O1xuXHQgICAgICAgIHZhciBsYXRlc3QgPSBsYXRlc3RUaGluZygpO1xuXHQgICAgICAgIHZhciAkZnJvbSQgPSBwYXRoRmFjdG9yeV8xLlBhdGhGYWN0b3J5Lm1ha2VUYXJnZXRTdGF0ZShmcm9tUGF0aCk7XG5cdCAgICAgICAgdmFyIGNhbGxiYWNrUXVldWUgPSBuZXcgcXVldWVfMS5RdWV1ZShbXS5jb25jYXQodGhpcy5zdGF0ZVByb3ZpZGVyLmludmFsaWRDYWxsYmFja3MpKTtcblx0ICAgICAgICB2YXIgcmVqZWN0RmFjdG9yeSA9IHRoaXMucmVqZWN0RmFjdG9yeTtcblx0ICAgICAgICB2YXIgJHEgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcSwgJGluamVjdG9yID0gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yO1xuXHQgICAgICAgIHZhciBpbnZva2VDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gJHEud2hlbigkaW5qZWN0b3IuaW52b2tlKGNhbGxiYWNrLCBudWxsLCB7ICR0byQ6ICR0byQsICRmcm9tJDogJGZyb20kIH0pKTsgfTtcblx0ICAgICAgICB2YXIgY2hlY2tGb3JSZWRpcmVjdCA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgaWYgKCEocmVzdWx0IGluc3RhbmNlb2YgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gcmVzdWx0O1xuXHQgICAgICAgICAgICAvLyBSZWNyZWF0ZSB0aGUgVGFyZ2V0U3RhdGUsIGluIGNhc2UgdGhlIHN0YXRlIGlzIG5vdyBkZWZpbmVkLlxuXHQgICAgICAgICAgICB0YXJnZXQgPSBfdGhpcy50YXJnZXQodGFyZ2V0LmlkZW50aWZpZXIoKSwgdGFyZ2V0LnBhcmFtcygpLCB0YXJnZXQub3B0aW9ucygpKTtcblx0ICAgICAgICAgICAgaWYgKCF0YXJnZXQudmFsaWQoKSlcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5LmludmFsaWQodGFyZ2V0LmVycm9yKCkpO1xuXHQgICAgICAgICAgICBpZiAobGF0ZXN0VGhpbmcoKSAhPT0gbGF0ZXN0KVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZhY3Rvcnkuc3VwZXJzZWRlZCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMudHJhbnNpdGlvblRvKHRhcmdldC5pZGVudGlmaWVyKCksIHRhcmdldC5wYXJhbXMoKSwgdGFyZ2V0Lm9wdGlvbnMoKSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBmdW5jdGlvbiBpbnZva2VOZXh0Q2FsbGJhY2soKSB7XG5cdCAgICAgICAgICAgIHZhciBuZXh0Q2FsbGJhY2sgPSBjYWxsYmFja1F1ZXVlLmRlcXVldWUoKTtcblx0ICAgICAgICAgICAgaWYgKG5leHRDYWxsYmFjayA9PT0gdW5kZWZpbmVkKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZhY3RvcnkuaW52YWxpZCgkdG8kLmVycm9yKCkpO1xuXHQgICAgICAgICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2sobmV4dENhbGxiYWNrKS50aGVuKGNoZWNrRm9yUmVkaXJlY3QpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0IHx8IGludm9rZU5leHRDYWxsYmFjaygpOyB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGludm9rZU5leHRDYWxsYmFjaygpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI3JlbG9hZFxuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcblx0ICAgICAqXG5cdCAgICAgKiBAZGVzY3JpcHRpb25cblx0ICAgICAqIEEgbWV0aG9kIHRoYXQgZm9yY2UgcmVsb2FkcyB0aGUgY3VycmVudCBzdGF0ZSwgb3IgYSBwYXJ0aWFsIHN0YXRlIGhpZXJhcmNoeS4gQWxsIHJlc29sdmVzIGFyZSByZS1yZXNvbHZlZCxcblx0ICAgICAqIGNvbnRyb2xsZXJzIHJlaW5zdGFudGlhdGVkLCBhbmQgZXZlbnRzIHJlLWZpcmVkLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogbGV0IGFwcCBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG5cdCAgICAgKlxuXHQgICAgICogYXBwLmNvbnRyb2xsZXIoJ2N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcblx0ICAgICAqICAgJHNjb3BlLnJlbG9hZCA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgKiAgICAgJHN0YXRlLnJlbG9hZCgpO1xuXHQgICAgICogICB9XG5cdCAgICAgKiB9KTtcblx0ICAgICAqIDwvcHJlPlxuXHQgICAgICpcblx0ICAgICAqIGByZWxvYWQoKWAgaXMganVzdCBhbiBhbGlhcyBmb3I6XG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgJHN0YXRlUGFyYW1zLCB7XG5cdCAgICAgKiAgIHJlbG9hZDogdHJ1ZSwgaW5oZXJpdDogZmFsc2UsIG5vdGlmeTogdHJ1ZVxuXHQgICAgICogfSk7XG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZz18b2JqZWN0PX0gcmVsb2FkU3RhdGUgLSBBIHN0YXRlIG5hbWUgb3IgYSBzdGF0ZSBvYmplY3QsIHdoaWNoIGlzIHRoZSByb290IG9mIHRoZSByZXNvbHZlcyB0byBiZSByZS1yZXNvbHZlZC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogLy9hc3N1bWluZyBhcHAgYXBwbGljYXRpb24gY29uc2lzdHMgb2YgMyBzdGF0ZXM6ICdjb250YWN0cycsICdjb250YWN0cy5kZXRhaWwnLCAnY29udGFjdHMuZGV0YWlsLml0ZW0nXG5cdCAgICAgKiAvL2FuZCBjdXJyZW50IHN0YXRlIGlzICdjb250YWN0cy5kZXRhaWwuaXRlbSdcblx0ICAgICAqIGxldCBhcHAgYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuXHQgICAgICpcblx0ICAgICAqIGFwcC5jb250cm9sbGVyKCdjdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlKSB7XG5cdCAgICAgKiAgICRzY29wZS5yZWxvYWQgPSBmdW5jdGlvbigpe1xuXHQgICAgICogICAgIC8vd2lsbCByZWxvYWQgJ2NvbnRhY3QuZGV0YWlsJyBhbmQgbmVzdGVkICdjb250YWN0LmRldGFpbC5pdGVtJyBzdGF0ZXNcblx0ICAgICAqICAgICAkc3RhdGUucmVsb2FkKCdjb250YWN0LmRldGFpbCcpO1xuXHQgICAgICogICB9XG5cdCAgICAgKiB9KTtcblx0ICAgICAqIDwvcHJlPlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IHRyYW5zaXRpb24uIFNlZVxuXHQgICAgICoge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjbWV0aG9kc19nbyAkc3RhdGUuZ299LlxuXHQgICAgICovXG5cdCAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLnJlbG9hZCA9IGZ1bmN0aW9uIChyZWxvYWRTdGF0ZSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25Ubyh0aGlzLmN1cnJlbnQsIHRoaXMucGFyYW1zLCB7XG5cdCAgICAgICAgICAgIHJlbG9hZDogcHJlZGljYXRlc18xLmlzRGVmaW5lZChyZWxvYWRTdGF0ZSkgPyByZWxvYWRTdGF0ZSA6IHRydWUsXG5cdCAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxuXHQgICAgICAgICAgICBub3RpZnk6IGZhbHNlXG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjZ29cblx0ICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHRyYW5zaXRpb25pbmcgdG8gYSBuZXcgc3RhdGUuIGAkc3RhdGUuZ29gIGNhbGxzXG5cdCAgICAgKiBgJHN0YXRlLnRyYW5zaXRpb25Ub2AgaW50ZXJuYWxseSBidXQgYXV0b21hdGljYWxseSBzZXRzIG9wdGlvbnMgdG9cblx0ICAgICAqIGB7IGxvY2F0aW9uOiB0cnVlLCBpbmhlcml0OiB0cnVlLCByZWxhdGl2ZTogJHN0YXRlLiRjdXJyZW50LCBub3RpZnk6IHRydWUgfWAuXG5cdCAgICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gZWFzaWx5IHVzZSBhbiBhYnNvbHV0ZSBvciByZWxhdGl2ZSB0byBwYXRoIGFuZCBzcGVjaWZ5XG5cdCAgICAgKiBvbmx5IHRoZSBwYXJhbWV0ZXJzIHlvdSdkIGxpa2UgdG8gdXBkYXRlICh3aGlsZSBsZXR0aW5nIHVuc3BlY2lmaWVkIHBhcmFtZXRlcnNcblx0ICAgICAqIGluaGVyaXQgZnJvbSB0aGUgY3VycmVudGx5IGFjdGl2ZSBhbmNlc3RvciBzdGF0ZXMpLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogbGV0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlciddKTtcblx0ICAgICAqXG5cdCAgICAgKiBhcHAuY29udHJvbGxlcignY3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSkge1xuXHQgICAgICogICAkc2NvcGUuY2hhbmdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgKiAgICAgJHN0YXRlLmdvKCdjb250YWN0LmRldGFpbCcpO1xuXHQgICAgICogICB9O1xuXHQgICAgICogfSk7XG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqIDxpbWcgc3JjPScuLi9uZ2RvY19hc3NldHMvU3RhdGVHb0V4YW1wbGVzLnBuZycvPlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0byBBYnNvbHV0ZSBzdGF0ZSBuYW1lIG9yIHJlbGF0aXZlIHN0YXRlIHBhdGguIFNvbWUgZXhhbXBsZXM6XG5cdCAgICAgKlxuXHQgICAgICogLSBgJHN0YXRlLmdvKCdjb250YWN0LmRldGFpbCcpYCAtIHdpbGwgZ28gdG8gdGhlIGBjb250YWN0LmRldGFpbGAgc3RhdGVcblx0ICAgICAqIC0gYCRzdGF0ZS5nbygnXicpYCAtIHdpbGwgZ28gdG8gYSBwYXJlbnQgc3RhdGVcblx0ICAgICAqIC0gYCRzdGF0ZS5nbygnXi5zaWJsaW5nJylgIC0gd2lsbCBnbyB0byBhIHNpYmxpbmcgc3RhdGVcblx0ICAgICAqIC0gYCRzdGF0ZS5nbygnLmNoaWxkLmdyYW5kY2hpbGQnKWAgLSB3aWxsIGdvIHRvIGdyYW5kY2hpbGQgc3RhdGVcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge29iamVjdD19IHBhcmFtcyBBIG1hcCBvZiB0aGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgc3RhdGUsXG5cdCAgICAgKiB3aWxsIHBvcHVsYXRlICRzdGF0ZVBhcmFtcy4gQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IHNwZWNpZmllZCB3aWxsIGJlIGluaGVyaXRlZCBmcm9tIGN1cnJlbnRseVxuXHQgICAgICogZGVmaW5lZCBwYXJhbWV0ZXJzLiBUaGlzIGFsbG93cywgZm9yIGV4YW1wbGUsIGdvaW5nIHRvIGEgc2libGluZyBzdGF0ZSB0aGF0IHNoYXJlcyBwYXJhbWV0ZXJzXG5cdCAgICAgKiBzcGVjaWZpZWQgaW4gYSBwYXJlbnQgc3RhdGUuIFBhcmFtZXRlciBpbmhlcml0YW5jZSBvbmx5IHdvcmtzIGJldHdlZW4gY29tbW9uIGFuY2VzdG9yIHN0YXRlcywgSS5lLlxuXHQgICAgICogdHJhbnNpdGlvbmluZyB0byBhIHNpYmxpbmcgd2lsbCBnZXQgeW91IHRoZSBwYXJhbWV0ZXJzIGZvciBhbGwgcGFyZW50cywgdHJhbnNpdGlvbmluZyB0byBhIGNoaWxkXG5cdCAgICAgKiB3aWxsIGdldCB5b3UgYWxsIGN1cnJlbnQgcGFyYW1ldGVycywgZXRjLlxuXHQgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LiBUaGUgb3B0aW9ucyBhcmU6XG5cdCAgICAgKlxuXHQgICAgICogLSAqKmBsb2NhdGlvbmAqKiAtIHtib29sZWFuPXRydWV8c3RyaW5nPX0gLSBJZiBgdHJ1ZWAgd2lsbCB1cGRhdGUgdGhlIHVybCBpbiB0aGUgbG9jYXRpb24gYmFyLCBpZiBgZmFsc2VgXG5cdCAgICAgKiAgICB3aWxsIG5vdC4gSWYgc3RyaW5nLCBtdXN0IGJlIGBcInJlcGxhY2VcImAsIHdoaWNoIHdpbGwgdXBkYXRlIHVybCBhbmQgYWxzbyByZXBsYWNlIGxhc3QgaGlzdG9yeSByZWNvcmQuXG5cdCAgICAgKiAtICoqYGluaGVyaXRgKiogLSB7Ym9vbGVhbj10cnVlfSwgSWYgYHRydWVgIHdpbGwgaW5oZXJpdCB1cmwgcGFyYW1ldGVycyBmcm9tIGN1cnJlbnQgdXJsLlxuXHQgICAgICogLSAqKmByZWxhdGl2ZWAqKiAtIHtvYmplY3Q9JHN0YXRlLiRjdXJyZW50fSwgV2hlbiB0cmFuc2l0aW9uaW5nIHdpdGggcmVsYXRpdmUgcGF0aCAoZS5nICdeJyksXG5cdCAgICAgKiAgICBkZWZpbmVzIHdoaWNoIHN0YXRlIHRvIGJlIHJlbGF0aXZlIGZyb20uXG5cdCAgICAgKiAtICoqYG5vdGlmeWAqKiAtIHtib29sZWFuPXRydWV9LCBJZiBgdHJ1ZWAgd2lsbCBicm9hZGNhc3QgJHN0YXRlQ2hhbmdlU3RhcnQgYW5kICRzdGF0ZUNoYW5nZVN1Y2Nlc3MgZXZlbnRzLlxuXHQgICAgICogLSAqKmByZWxvYWRgKiogKHYwLjIuNSkgLSB7Ym9vbGVhbj1mYWxzZX0sIElmIGB0cnVlYCB3aWxsIGZvcmNlIHRyYW5zaXRpb24gZXZlbiBpZiB0aGUgc3RhdGUgb3IgcGFyYW1zXG5cdCAgICAgKiAgICBoYXZlIG5vdCBjaGFuZ2VkLCBha2EgYSByZWxvYWQgb2YgdGhlIHNhbWUgc3RhdGUuIEl0IGRpZmZlcnMgZnJvbSByZWxvYWRPblNlYXJjaCBiZWNhdXNlIHlvdSdkXG5cdCAgICAgKiAgICB1c2UgdGhpcyB3aGVuIHlvdSB3YW50IHRvIGZvcmNlIGEgcmVsb2FkIHdoZW4gKmV2ZXJ5dGhpbmcqIGlzIHRoZSBzYW1lLCBpbmNsdWRpbmcgc2VhcmNoIHBhcmFtcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHJlcHJlc2VudGluZyB0aGUgc3RhdGUgb2YgdGhlIG5ldyB0cmFuc2l0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIFBvc3NpYmxlIHN1Y2Nlc3MgdmFsdWVzOlxuXHQgICAgICpcblx0ICAgICAqIC0gJHN0YXRlLmN1cnJlbnRcblx0ICAgICAqXG5cdCAgICAgKiA8YnIvPlBvc3NpYmxlIHJlamVjdGlvbiB2YWx1ZXM6XG5cdCAgICAgKlxuXHQgICAgICogLSAndHJhbnNpdGlvbiBzdXBlcnNlZGVkJyAtIHdoZW4gYSBuZXdlciB0cmFuc2l0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQgYWZ0ZXIgdGhpcyBvbmVcblx0ICAgICAqIC0gJ3RyYW5zaXRpb24gcHJldmVudGVkJyAtIHdoZW4gYGV2ZW50LnByZXZlbnREZWZhdWx0KClgIGhhcyBiZWVuIGNhbGxlZCBpbiBhIGAkc3RhdGVDaGFuZ2VTdGFydGAgbGlzdGVuZXJcblx0ICAgICAqIC0gJ3RyYW5zaXRpb24gYWJvcnRlZCcgLSB3aGVuIGBldmVudC5wcmV2ZW50RGVmYXVsdCgpYCBoYXMgYmVlbiBjYWxsZWQgaW4gYSBgJHN0YXRlTm90Rm91bmRgIGxpc3RlbmVyIG9yXG5cdCAgICAgKiAgIHdoZW4gYSBgJHN0YXRlTm90Rm91bmRgIGBldmVudC5yZXRyeWAgcHJvbWlzZSBlcnJvcnMuXG5cdCAgICAgKiAtICd0cmFuc2l0aW9uIGZhaWxlZCcgLSB3aGVuIGEgc3RhdGUgaGFzIGJlZW4gdW5zdWNjZXNzZnVsbHkgZm91bmQgYWZ0ZXIgMiB0cmllcy5cblx0ICAgICAqIC0gKnJlc29sdmUgZXJyb3IqIC0gd2hlbiBhbiBlcnJvciBoYXMgb2NjdXJyZWQgd2l0aCBhIGByZXNvbHZlYFxuXHQgICAgICpcblx0ICAgICAqL1xuXHQgICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5nbyA9IGZ1bmN0aW9uICh0bywgcGFyYW1zLCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIGRlZmF1dEdvT3B0cyA9IHsgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQsIGluaGVyaXQ6IHRydWUgfTtcblx0ICAgICAgICB2YXIgdHJhbnNPcHRzID0gY29tbW9uXzEuZGVmYXVsdHMob3B0aW9ucywgZGVmYXV0R29PcHRzLCB0cmFuc2l0aW9uU2VydmljZV8xLmRlZmF1bHRUcmFuc09wdHMpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25Ubyh0bywgcGFyYW1zLCB0cmFuc09wdHMpO1xuXHQgICAgfTtcblx0ICAgIDtcblx0ICAgIC8qKiBGYWN0b3J5IG1ldGhvZCBmb3IgY3JlYXRpbmcgYSBUYXJnZXRTdGF0ZSAqL1xuXHQgICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS50YXJnZXQgPSBmdW5jdGlvbiAoaWRlbnRpZmllciwgcGFyYW1zLCBvcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cblx0ICAgICAgICAvLyBJZiB3ZSdyZSByZWxvYWRpbmcsIGZpbmQgdGhlIHN0YXRlIG9iamVjdCB0byByZWxvYWQgZnJvbVxuXHQgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNPYmplY3Qob3B0aW9ucy5yZWxvYWQpICYmICFvcHRpb25zLnJlbG9hZC5uYW1lKVxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVsb2FkIHN0YXRlIG9iamVjdCcpO1xuXHQgICAgICAgIG9wdGlvbnMucmVsb2FkU3RhdGUgPSBvcHRpb25zLnJlbG9hZCA9PT0gdHJ1ZSA/IHRoaXMuc3RhdGVSZWdpc3RyeS5yb290KCkgOiB0aGlzLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKG9wdGlvbnMucmVsb2FkLCBvcHRpb25zLnJlbGF0aXZlKTtcblx0ICAgICAgICBpZiAob3B0aW9ucy5yZWxvYWQgJiYgIW9wdGlvbnMucmVsb2FkU3RhdGUpXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHN1Y2ggcmVsb2FkIHN0YXRlICdcIiArIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcob3B0aW9ucy5yZWxvYWQpID8gb3B0aW9ucy5yZWxvYWQgOiBvcHRpb25zLnJlbG9hZC5uYW1lKSArIFwiJ1wiKTtcblx0ICAgICAgICB2YXIgc3RhdGVEZWZpbml0aW9uID0gdGhpcy5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZChpZGVudGlmaWVyLCBvcHRpb25zLnJlbGF0aXZlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IHRhcmdldFN0YXRlXzEuVGFyZ2V0U3RhdGUoaWRlbnRpZmllciwgc3RhdGVEZWZpbml0aW9uLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHQgICAgfTtcblx0ICAgIDtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI3RyYW5zaXRpb25Ub1xuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcblx0ICAgICAqXG5cdCAgICAgKiBAZGVzY3JpcHRpb25cblx0ICAgICAqIExvdy1sZXZlbCBtZXRob2QgZm9yIHRyYW5zaXRpb25pbmcgdG8gYSBuZXcgc3RhdGUuIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI21ldGhvZHNfZ28gJHN0YXRlLmdvfVxuXHQgICAgICogdXNlcyBgdHJhbnNpdGlvblRvYCBpbnRlcm5hbGx5LiBgJHN0YXRlLmdvYCBpcyByZWNvbW1lbmRlZCBpbiBtb3N0IHNpdHVhdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqIDxwcmU+XG5cdCAgICAgKiBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuXHQgICAgICpcblx0ICAgICAqIGFwcC5jb250cm9sbGVyKCdjdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlKSB7XG5cdCAgICAgKiAgICRzY29wZS5jaGFuZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAqICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCdjb250YWN0LmRldGFpbCcpO1xuXHQgICAgICogICB9O1xuXHQgICAgICogfSk7XG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gdG8gU3RhdGUgbmFtZS5cblx0ICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gdG9QYXJhbXMgQSBtYXAgb2YgdGhlIHBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIHNlbnQgdG8gdGhlIHN0YXRlLFxuXHQgICAgICogd2lsbCBwb3B1bGF0ZSAkc3RhdGVQYXJhbXMuXG5cdCAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuIFRoZSBvcHRpb25zIGFyZTpcblx0ICAgICAqXG5cdCAgICAgKiAtICoqYGxvY2F0aW9uYCoqIC0ge2Jvb2xlYW49dHJ1ZXxzdHJpbmc9fSAtIElmIGB0cnVlYCB3aWxsIHVwZGF0ZSB0aGUgdXJsIGluIHRoZSBsb2NhdGlvbiBiYXIsIGlmIGBmYWxzZWBcblx0ICAgICAqICAgIHdpbGwgbm90LiBJZiBzdHJpbmcsIG11c3QgYmUgYFwicmVwbGFjZVwiYCwgd2hpY2ggd2lsbCB1cGRhdGUgdXJsIGFuZCBhbHNvIHJlcGxhY2UgbGFzdCBoaXN0b3J5IHJlY29yZC5cblx0ICAgICAqIC0gKipgaW5oZXJpdGAqKiAtIHtib29sZWFuPWZhbHNlfSwgSWYgYHRydWVgIHdpbGwgaW5oZXJpdCB1cmwgcGFyYW1ldGVycyBmcm9tIGN1cnJlbnQgdXJsLlxuXHQgICAgICogLSAqKmByZWxhdGl2ZWAqKiAtIHtvYmplY3Q9fSwgV2hlbiB0cmFuc2l0aW9uaW5nIHdpdGggcmVsYXRpdmUgcGF0aCAoZS5nICdeJyksXG5cdCAgICAgKiAgICBkZWZpbmVzIHdoaWNoIHN0YXRlIHRvIGJlIHJlbGF0aXZlIGZyb20uXG5cdCAgICAgKiAtICoqYG5vdGlmeWAqKiAtIHtib29sZWFuPXRydWV9LCBJZiBgdHJ1ZWAgd2lsbCBicm9hZGNhc3QgJHN0YXRlQ2hhbmdlU3RhcnQgYW5kICRzdGF0ZUNoYW5nZVN1Y2Nlc3MgZXZlbnRzLlxuXHQgICAgICogLSAqKmByZWxvYWRgKiogKHYwLjIuNSkgLSB7Ym9vbGVhbj1mYWxzZX0sIElmIGB0cnVlYCB3aWxsIGZvcmNlIHRyYW5zaXRpb24gZXZlbiBpZiB0aGUgc3RhdGUgb3IgcGFyYW1zXG5cdCAgICAgKiAgICBoYXZlIG5vdCBjaGFuZ2VkLCBha2EgYSByZWxvYWQgb2YgdGhlIHNhbWUgc3RhdGUuIEl0IGRpZmZlcnMgZnJvbSByZWxvYWRPblNlYXJjaCBiZWNhdXNlIHlvdSdkXG5cdCAgICAgKiAgICB1c2UgdGhpcyB3aGVuIHlvdSB3YW50IHRvIGZvcmNlIGEgcmVsb2FkIHdoZW4gKmV2ZXJ5dGhpbmcqIGlzIHRoZSBzYW1lLCBpbmNsdWRpbmcgc2VhcmNoIHBhcmFtcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHJlcHJlc2VudGluZyB0aGUgc3RhdGUgb2YgdGhlIG5ldyB0cmFuc2l0aW9uLiBTZWVcblx0ICAgICAqIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI21ldGhvZHNfZ28gJHN0YXRlLmdvfS5cblx0ICAgICAqL1xuXHQgICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS50cmFuc2l0aW9uVG8gPSBmdW5jdGlvbiAodG8sIHRvUGFyYW1zLCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICBpZiAodG9QYXJhbXMgPT09IHZvaWQgMCkgeyB0b1BhcmFtcyA9IHt9OyB9XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cblx0ICAgICAgICB2YXIgdHJhbnNIaXN0b3J5ID0gdGhpcy5nbG9iYWxzLnRyYW5zaXRpb25IaXN0b3J5O1xuXHQgICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5kZWZhdWx0cyhvcHRpb25zLCB0cmFuc2l0aW9uU2VydmljZV8xLmRlZmF1bHRUcmFuc09wdHMpO1xuXHQgICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5leHRlbmQob3B0aW9ucywgeyBjdXJyZW50OiB0cmFuc0hpc3RvcnkucGVla1RhaWwuYmluZCh0cmFuc0hpc3RvcnkpIH0pO1xuXHQgICAgICAgIHZhciByZWYgPSB0aGlzLnRhcmdldCh0bywgdG9QYXJhbXMsIG9wdGlvbnMpO1xuXHQgICAgICAgIHZhciBsYXRlc3RTdWNjZXNzID0gdGhpcy5nbG9iYWxzLnN1Y2Nlc3NmdWxUcmFuc2l0aW9ucy5wZWVrVGFpbCgpO1xuXHQgICAgICAgIHZhciByb290UGF0aCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhdGhGYWN0b3J5XzEuUGF0aEZhY3RvcnkuYmluZFRyYW5zTm9kZXNUb1BhdGgoW25ldyBub2RlXzEuTm9kZShfdGhpcy5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKSldKTsgfTtcblx0ICAgICAgICB2YXIgY3VycmVudFBhdGggPSBsYXRlc3RTdWNjZXNzID8gbGF0ZXN0U3VjY2Vzcy50cmVlQ2hhbmdlcygpLnRvIDogcm9vdFBhdGgoKTtcblx0ICAgICAgICBpZiAoIXJlZi5leGlzdHMoKSlcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUludmFsaWRUYXJnZXRTdGF0ZShjdXJyZW50UGF0aCwgcmVmKTtcblx0ICAgICAgICBpZiAoIXJlZi52YWxpZCgpKVxuXHQgICAgICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KHJlZi5lcnJvcigpKTtcblx0ICAgICAgICB2YXIgdHJhbnNpdGlvbiA9IHRoaXMuJHRyYW5zaXRpb25zLmNyZWF0ZShjdXJyZW50UGF0aCwgcmVmKTtcblx0ICAgICAgICB2YXIgdE1nciA9IG5ldyB0cmFuc2l0aW9uTWFuYWdlcl8xLlRyYW5zaXRpb25NYW5hZ2VyKHRyYW5zaXRpb24sIHRoaXMuJHRyYW5zaXRpb25zLCB0aGlzLiR1cmxSb3V0ZXIsIHRoaXMuJHZpZXcsIHRoaXMsIHRoaXMuZ2xvYmFscyk7XG5cdCAgICAgICAgdmFyIHRyYW5zaXRpb25Qcm9taXNlID0gdE1nci5ydW5UcmFuc2l0aW9uKCk7XG5cdCAgICAgICAgLy8gUmV0dXJuIGEgcHJvbWlzZSBmb3IgdGhlIHRyYW5zaXRpb24sIHdoaWNoIGFsc28gaGFzIHRoZSB0cmFuc2l0aW9uIG9iamVjdCBvbiBpdC5cblx0ICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKHRyYW5zaXRpb25Qcm9taXNlLCB7IHRyYW5zaXRpb246IHRyYW5zaXRpb24gfSk7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjaXNcblx0ICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBTaW1pbGFyIHRvIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI21ldGhvZHNfaW5jbHVkZXMgJHN0YXRlLmluY2x1ZGVzfSxcblx0ICAgICAqIGJ1dCBvbmx5IGNoZWNrcyBmb3IgdGhlIGZ1bGwgc3RhdGUgbmFtZS4gSWYgcGFyYW1zIGlzIHN1cHBsaWVkIHRoZW4gaXQgd2lsbCBiZVxuXHQgICAgICogdGVzdGVkIGZvciBzdHJpY3QgZXF1YWxpdHkgYWdhaW5zdCB0aGUgY3VycmVudCBhY3RpdmUgcGFyYW1zIG9iamVjdCwgc28gYWxsIHBhcmFtc1xuXHQgICAgICogbXVzdCBtYXRjaCB3aXRoIG5vbmUgbWlzc2luZyBhbmQgbm8gZXh0cmFzLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogJHN0YXRlLiRjdXJyZW50Lm5hbWUgPSAnY29udGFjdHMuZGV0YWlscy5pdGVtJztcblx0ICAgICAqXG5cdCAgICAgKiAvLyBhYnNvbHV0ZSBuYW1lXG5cdCAgICAgKiAkc3RhdGUuaXMoJ2NvbnRhY3QuZGV0YWlscy5pdGVtJyk7IC8vIHJldHVybnMgdHJ1ZVxuXHQgICAgICogJHN0YXRlLmlzKGNvbnRhY3REZXRhaWxJdGVtU3RhdGVPYmplY3QpOyAvLyByZXR1cm5zIHRydWVcblx0ICAgICAqXG5cdCAgICAgKiAvLyByZWxhdGl2ZSBuYW1lICguIGFuZCBeKSwgdHlwaWNhbGx5IGZyb20gYSB0ZW1wbGF0ZVxuXHQgICAgICogLy8gRS5nLiBmcm9tIHRoZSAnY29udGFjdHMuZGV0YWlscycgdGVtcGxhdGVcblx0ICAgICAqIDxkaXYgbmctY2xhc3M9XCJ7aGlnaGxpZ2h0ZWQ6ICRzdGF0ZS5pcygnLml0ZW0nKX1cIj5JdGVtPC9kaXY+XG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHN0YXRlT3JOYW1lIFRoZSBzdGF0ZSBuYW1lIChhYnNvbHV0ZSBvciByZWxhdGl2ZSkgb3Igc3RhdGUgb2JqZWN0IHlvdSdkIGxpa2UgdG8gY2hlY2suXG5cdCAgICAgKiBAcGFyYW0ge29iamVjdD19IHBhcmFtcyBBIHBhcmFtIG9iamVjdCwgZS5nLiBge3NlY3Rpb25JZDogc2VjdGlvbi5pZH1gLCB0aGF0IHlvdSdkIGxpa2Vcblx0ICAgICAqIHRvIHRlc3QgYWdhaW5zdCB0aGUgY3VycmVudCBhY3RpdmUgc3RhdGUuXG5cdCAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgQW4gb3B0aW9ucyBvYmplY3QuICBUaGUgb3B0aW9ucyBhcmU6XG5cdCAgICAgKlxuXHQgICAgICogLSAqKmByZWxhdGl2ZWAqKiAtIHtzdHJpbmd8b2JqZWN0fSAtICBJZiBgc3RhdGVPck5hbWVgIGlzIGEgcmVsYXRpdmUgc3RhdGUgbmFtZSBhbmQgYG9wdGlvbnMucmVsYXRpdmVgIGlzIHNldCwgLmlzIHdpbGxcblx0ICAgICAqIHRlc3QgcmVsYXRpdmUgdG8gYG9wdGlvbnMucmVsYXRpdmVgIHN0YXRlIChvciBuYW1lKS5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGl0IGlzIHRoZSBzdGF0ZS5cblx0ICAgICAqL1xuXHQgICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgcGFyYW1zLCBvcHRpb25zKSB7XG5cdCAgICAgICAgb3B0aW9ucyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIHsgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQgfSk7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZChzdGF0ZU9yTmFtZSwgb3B0aW9ucy5yZWxhdGl2ZSk7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHN0YXRlKSlcblx0ICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgICAgICBpZiAodGhpcy4kY3VycmVudCAhPT0gc3RhdGUpXG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzRGVmaW5lZChwYXJhbXMpICYmIHBhcmFtcyAhPT0gbnVsbCA/IHBhcmFtXzEuUGFyYW0uZXF1YWxzKHN0YXRlLnBhcmFtZXRlcnMoKSwgdGhpcy5wYXJhbXMsIHBhcmFtcykgOiB0cnVlO1xuXHQgICAgfTtcblx0ICAgIDtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI2luY2x1ZGVzXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogQSBtZXRob2QgdG8gZGV0ZXJtaW5lIGlmIHRoZSBjdXJyZW50IGFjdGl2ZSBzdGF0ZSBpcyBlcXVhbCB0byBvciBpcyB0aGUgY2hpbGQgb2YgdGhlXG5cdCAgICAgKiBzdGF0ZSBzdGF0ZU5hbWUuIElmIGFueSBwYXJhbXMgYXJlIHBhc3NlZCB0aGVuIHRoZXkgd2lsbCBiZSB0ZXN0ZWQgZm9yIGEgbWF0Y2ggYXMgd2VsbC5cblx0ICAgICAqIE5vdCBhbGwgdGhlIHBhcmFtZXRlcnMgbmVlZCB0byBiZSBwYXNzZWQsIGp1c3QgdGhlIG9uZXMgeW91J2QgbGlrZSB0byB0ZXN0IGZvciBlcXVhbGl0eS5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogUGFydGlhbCBhbmQgcmVsYXRpdmUgbmFtZXNcblx0ICAgICAqIDxwcmU+XG5cdCAgICAgKiAkc3RhdGUuJGN1cnJlbnQubmFtZSA9ICdjb250YWN0cy5kZXRhaWxzLml0ZW0nO1xuXHQgICAgICpcblx0ICAgICAqIC8vIFVzaW5nIHBhcnRpYWwgbmFtZXNcblx0ICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzXCIpOyAvLyByZXR1cm5zIHRydWVcblx0ICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmRldGFpbHNcIik7IC8vIHJldHVybnMgdHJ1ZVxuXHQgICAgICogJHN0YXRlLmluY2x1ZGVzKFwiY29udGFjdHMuZGV0YWlscy5pdGVtXCIpOyAvLyByZXR1cm5zIHRydWVcblx0ICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmxpc3RcIik7IC8vIHJldHVybnMgZmFsc2Vcblx0ICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImFib3V0XCIpOyAvLyByZXR1cm5zIGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogLy8gVXNpbmcgcmVsYXRpdmUgbmFtZXMgKC4gYW5kIF4pLCB0eXBpY2FsbHkgZnJvbSBhIHRlbXBsYXRlXG5cdCAgICAgKiAvLyBFLmcuIGZyb20gdGhlICdjb250YWN0cy5kZXRhaWxzJyB0ZW1wbGF0ZVxuXHQgICAgICogPGRpdiBuZy1jbGFzcz1cIntoaWdobGlnaHRlZDogJHN0YXRlLmluY2x1ZGVzKCcuaXRlbScpfVwiPkl0ZW08L2Rpdj5cblx0ICAgICAqIDwvcHJlPlxuXHQgICAgICpcblx0ICAgICAqIEJhc2ljIGdsb2JiaW5nIHBhdHRlcm5zXG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogJHN0YXRlLiRjdXJyZW50Lm5hbWUgPSAnY29udGFjdHMuZGV0YWlscy5pdGVtLnVybCc7XG5cdCAgICAgKlxuXHQgICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKi5kZXRhaWxzLiouKlwiKTsgLy8gcmV0dXJucyB0cnVlXG5cdCAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKipcIik7IC8vIHJldHVybnMgdHJ1ZVxuXHQgICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKiouaXRlbS4qKlwiKTsgLy8gcmV0dXJucyB0cnVlXG5cdCAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuaXRlbS51cmxcIik7IC8vIHJldHVybnMgdHJ1ZVxuXHQgICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKi5kZXRhaWxzLioudXJsXCIpOyAvLyByZXR1cm5zIHRydWVcblx0ICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIiouZGV0YWlscy4qXCIpOyAvLyByZXR1cm5zIGZhbHNlXG5cdCAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCJpdGVtLioqXCIpOyAvLyByZXR1cm5zIGZhbHNlXG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGVPck5hbWUgQSBwYXJ0aWFsIG5hbWUsIHJlbGF0aXZlIG5hbWUsIG9yIGdsb2IgcGF0dGVyblxuXHQgICAgICogdG8gYmUgc2VhcmNoZWQgZm9yIHdpdGhpbiB0aGUgY3VycmVudCBzdGF0ZSBuYW1lLlxuXHQgICAgICogQHBhcmFtIHtvYmplY3Q9fSBwYXJhbXMgQSBwYXJhbSBvYmplY3QsIGUuZy4gYHtzZWN0aW9uSWQ6IHNlY3Rpb24uaWR9YCxcblx0ICAgICAqIHRoYXQgeW91J2QgbGlrZSB0byB0ZXN0IGFnYWluc3QgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlLlxuXHQgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LiAgVGhlIG9wdGlvbnMgYXJlOlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgcmVsYXRpdmVgKiogLSB7c3RyaW5nfG9iamVjdD19IC0gIElmIGBzdGF0ZU9yTmFtZWAgaXMgYSByZWxhdGl2ZSBzdGF0ZSByZWZlcmVuY2UgYW5kIGBvcHRpb25zLnJlbGF0aXZlYCBpcyBzZXQsXG5cdCAgICAgKiAuaW5jbHVkZXMgd2lsbCB0ZXN0IHJlbGF0aXZlIHRvIGBvcHRpb25zLnJlbGF0aXZlYCBzdGF0ZSAob3IgbmFtZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBpdCBkb2VzIGluY2x1ZGUgdGhlIHN0YXRlXG5cdCAgICAgKi9cblx0ICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIHBhcmFtcywgb3B0aW9ucykge1xuXHQgICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5kZWZhdWx0cyhvcHRpb25zLCB7IHJlbGF0aXZlOiB0aGlzLiRjdXJyZW50IH0pO1xuXHQgICAgICAgIHZhciBnbG9iID0gcHJlZGljYXRlc18xLmlzU3RyaW5nKHN0YXRlT3JOYW1lKSAmJiBnbG9iXzEuR2xvYi5mcm9tU3RyaW5nKHN0YXRlT3JOYW1lKTtcblx0ICAgICAgICBpZiAoZ2xvYikge1xuXHQgICAgICAgICAgICBpZiAoIWdsb2IubWF0Y2hlcyh0aGlzLiRjdXJyZW50Lm5hbWUpKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICBzdGF0ZU9yTmFtZSA9IHRoaXMuJGN1cnJlbnQubmFtZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZChzdGF0ZU9yTmFtZSwgb3B0aW9ucy5yZWxhdGl2ZSksIGluY2x1ZGUgPSB0aGlzLiRjdXJyZW50LmluY2x1ZGVzO1xuXHQgICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzRGVmaW5lZChzdGF0ZSkpXG5cdCAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGluY2x1ZGVbc3RhdGUubmFtZV0pKVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgLy8gQFRPRE8gUmVwbGFjZSB3aXRoIFBhcmFtLmVxdWFscygpID9cblx0ICAgICAgICByZXR1cm4gcGFyYW1zID8gY29tbW9uXzIuZXF1YWxGb3JLZXlzKHBhcmFtXzEuUGFyYW0udmFsdWVzKHN0YXRlLnBhcmFtZXRlcnMoKSwgcGFyYW1zKSwgdGhpcy5wYXJhbXMsIE9iamVjdC5rZXlzKHBhcmFtcykpIDogdHJ1ZTtcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSNocmVmXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogQSB1cmwgZ2VuZXJhdGlvbiBtZXRob2QgdGhhdCByZXR1cm5zIHRoZSBjb21waWxlZCB1cmwgZm9yIHRoZSBnaXZlbiBzdGF0ZSBwb3B1bGF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1zLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogZXhwZWN0KCRzdGF0ZS5ocmVmKFwiYWJvdXQucGVyc29uXCIsIHsgcGVyc29uOiBcImJvYlwiIH0pKS50b0VxdWFsKFwiL2Fib3V0L2JvYlwiKTtcblx0ICAgICAqIDwvcHJlPlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gc3RhdGVPck5hbWUgVGhlIHN0YXRlIG5hbWUgb3Igc3RhdGUgb2JqZWN0IHlvdSdkIGxpa2UgdG8gZ2VuZXJhdGUgYSB1cmwgZnJvbS5cblx0ICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gcGFyYW1zIEFuIG9iamVjdCBvZiBwYXJhbWV0ZXIgdmFsdWVzIHRvIGZpbGwgdGhlIHN0YXRlJ3MgcmVxdWlyZWQgcGFyYW1ldGVycy5cblx0ICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuXHQgICAgICpcblx0ICAgICAqIC0gKipgbG9zc3lgKiogLSB7Ym9vbGVhbj10cnVlfSAtICBJZiB0cnVlLCBhbmQgaWYgdGhlcmUgaXMgbm8gdXJsIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3RhdGUgcHJvdmlkZWQgaW4gdGhlXG5cdCAgICAgKiAgICBmaXJzdCBwYXJhbWV0ZXIsIHRoZW4gdGhlIGNvbnN0cnVjdGVkIGhyZWYgdXJsIHdpbGwgYmUgYnVpbHQgZnJvbSB0aGUgZmlyc3QgbmF2aWdhYmxlIGFuY2VzdG9yIChha2Fcblx0ICAgICAqICAgIGFuY2VzdG9yIHdpdGggYSB2YWxpZCB1cmwpLlxuXHQgICAgICogLSAqKmBpbmhlcml0YCoqIC0ge2Jvb2xlYW49dHJ1ZX0sIElmIGB0cnVlYCB3aWxsIGluaGVyaXQgdXJsIHBhcmFtZXRlcnMgZnJvbSBjdXJyZW50IHVybC5cblx0ICAgICAqIC0gKipgcmVsYXRpdmVgKiogLSB7b2JqZWN0PSRzdGF0ZS4kY3VycmVudH0sIFdoZW4gdHJhbnNpdGlvbmluZyB3aXRoIHJlbGF0aXZlIHBhdGggKGUuZyAnXicpLFxuXHQgICAgICogICAgZGVmaW5lcyB3aGljaCBzdGF0ZSB0byBiZSByZWxhdGl2ZSBmcm9tLlxuXHQgICAgICogLSAqKmBhYnNvbHV0ZWAqKiAtIHtib29sZWFuPWZhbHNlfSwgIElmIHRydWUgd2lsbCBnZW5lcmF0ZSBhbiBhYnNvbHV0ZSB1cmwsIGUuZy4gXCJodHRwOi8vd3d3LmV4YW1wbGUuY29tL2Z1bGx1cmxcIi5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjb21waWxlZCBzdGF0ZSB1cmxcblx0ICAgICAqL1xuXHQgICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5ocmVmID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBwYXJhbXMsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgZGVmYXVsdEhyZWZPcHRzID0ge1xuXHQgICAgICAgICAgICBsb3NzeTogdHJ1ZSxcblx0ICAgICAgICAgICAgaW5oZXJpdDogdHJ1ZSxcblx0ICAgICAgICAgICAgYWJzb2x1dGU6IGZhbHNlLFxuXHQgICAgICAgICAgICByZWxhdGl2ZTogdGhpcy4kY3VycmVudFxuXHQgICAgICAgIH07XG5cdCAgICAgICAgb3B0aW9ucyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIGRlZmF1bHRIcmVmT3B0cyk7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZChzdGF0ZU9yTmFtZSwgb3B0aW9ucy5yZWxhdGl2ZSk7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHN0YXRlKSlcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMuaW5oZXJpdClcblx0ICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5wYXJhbXMuJGluaGVyaXQocGFyYW1zIHx8IHt9LCB0aGlzLiRjdXJyZW50LCBzdGF0ZSk7XG5cdCAgICAgICAgdmFyIG5hdiA9IChzdGF0ZSAmJiBvcHRpb25zLmxvc3N5KSA/IHN0YXRlLm5hdmlnYWJsZSA6IHN0YXRlO1xuXHQgICAgICAgIGlmICghbmF2IHx8IG5hdi51cmwgPT09IHVuZGVmaW5lZCB8fCBuYXYudXJsID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy4kdXJsUm91dGVyLmhyZWYobmF2LnVybCwgcGFyYW1fMS5QYXJhbS52YWx1ZXMoc3RhdGUucGFyYW1ldGVycygpLCBwYXJhbXMpLCB7XG5cdCAgICAgICAgICAgIGFic29sdXRlOiBvcHRpb25zLmFic29sdXRlXG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGJhc2UpIHtcblx0ICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVSZWdpc3RyeS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVJlZ2lzdHJ5LmdldChzdGF0ZU9yTmFtZSwgYmFzZSB8fCB0aGlzLiRjdXJyZW50KTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gU3RhdGVTZXJ2aWNlO1xuXHR9KCkpO1xuXHRleHBvcnRzLlN0YXRlU2VydmljZSA9IFN0YXRlU2VydmljZTtcblxuXG4vKioqLyB9LFxuLyogMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKiBAbW9kdWxlIHBhdGggKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dmFyIG5vZGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHR2YXIgbW9kdWxlXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0LyoqXG5cdCAqIFRoaXMgY2xhc3MgY29udGFpbnMgZnVuY3Rpb25zIHdoaWNoIGNvbnZlcnQgVGFyZ2V0U3RhdGVzLCBOb2RlcyBhbmQgcGF0aHMgZnJvbSBvbmUgdHlwZSB0byBhbm90aGVyLlxuXHQgKi9cblx0dmFyIFBhdGhGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFBhdGhGYWN0b3J5KCkge1xuXHQgICAgfVxuXHQgICAgLyoqIEdpdmVuIGEgTm9kZVtdLCBjcmVhdGUgYW4gVGFyZ2V0U3RhdGUgKi9cblx0ICAgIFBhdGhGYWN0b3J5Lm1ha2VUYXJnZXRTdGF0ZSA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gY29tbW9uXzEudGFpbChwYXRoKS5zdGF0ZTtcblx0ICAgICAgICByZXR1cm4gbmV3IG1vZHVsZV8xLlRhcmdldFN0YXRlKHN0YXRlLCBzdGF0ZSwgcGF0aC5tYXAoaG9mXzEucHJvcChcInBhcmFtVmFsdWVzXCIpKS5yZWR1Y2UoY29tbW9uXzEubWVyZ2VSLCB7fSkpO1xuXHQgICAgfTtcblx0ICAgIFBhdGhGYWN0b3J5LmJ1aWxkUGF0aCA9IGZ1bmN0aW9uICh0YXJnZXRTdGF0ZSkge1xuXHQgICAgICAgIHZhciB0b1BhcmFtcyA9IHRhcmdldFN0YXRlLnBhcmFtcygpO1xuXHQgICAgICAgIHJldHVybiB0YXJnZXRTdGF0ZS4kc3RhdGUoKS5wYXRoLm1hcChmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIG5ldyBub2RlXzEuTm9kZShzdGF0ZSkuYXBwbHlSYXdQYXJhbXModG9QYXJhbXMpOyB9KTtcblx0ICAgIH07XG5cdCAgICAvKiogR2l2ZW4gYSBmcm9tUGF0aDogTm9kZVtdIGFuZCBhIFRhcmdldFN0YXRlLCBidWlsZHMgYSB0b1BhdGg6IE5vZGVbXSAqL1xuXHQgICAgUGF0aEZhY3RvcnkuYnVpbGRUb1BhdGggPSBmdW5jdGlvbiAoZnJvbVBhdGgsIHRhcmdldFN0YXRlKSB7XG5cdCAgICAgICAgdmFyIHRvUGF0aCA9IFBhdGhGYWN0b3J5LmJ1aWxkUGF0aCh0YXJnZXRTdGF0ZSk7XG5cdCAgICAgICAgaWYgKHRhcmdldFN0YXRlLm9wdGlvbnMoKS5pbmhlcml0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBQYXRoRmFjdG9yeS5pbmhlcml0UGFyYW1zKGZyb21QYXRoLCB0b1BhdGgsIE9iamVjdC5rZXlzKHRhcmdldFN0YXRlLnBhcmFtcygpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0b1BhdGg7XG5cdCAgICB9O1xuXHQgICAgUGF0aEZhY3RvcnkuYXBwbHlWaWV3Q29uZmlncyA9IGZ1bmN0aW9uICgkdmlldywgcGF0aCkge1xuXHQgICAgICAgIHJldHVybiBwYXRoLm1hcChmdW5jdGlvbiAobm9kZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKG5vZGUsIHsgdmlld3M6IGNvbW1vbl8xLnZhbHVlcyhub2RlLnN0YXRlLnZpZXdzIHx8IHt9KS5tYXAoZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuICR2aWV3LmNyZWF0ZVZpZXdDb25maWcobm9kZSwgdmlldyk7IH0pIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogR2l2ZW4gYSBmcm9tUGF0aCBhbmQgYSB0b1BhdGgsIHJldHVybnMgYSBuZXcgdG8gcGF0aCB3aGljaCBpbmhlcml0cyBwYXJhbWV0ZXJzIGZyb20gdGhlIGZyb21QYXRoXG5cdCAgICAgKlxuXHQgICAgICogRm9yIGEgcGFyYW1ldGVyIGluIGEgbm9kZSB0byBiZSBpbmhlcml0ZWQgZnJvbSB0aGUgZnJvbSBwYXRoOlxuXHQgICAgICogLSBUaGUgdG9QYXRoJ3Mgbm9kZSBtdXN0IGhhdmUgYSBtYXRjaGluZyBub2RlIGluIHRoZSBmcm9tUGF0aCAoYnkgc3RhdGUpLlxuXHQgICAgICogLSBUaGUgcGFyYW1ldGVyIG5hbWUgbXVzdCBub3QgYmUgZm91bmQgaW4gdGhlIHRvS2V5cyBwYXJhbWV0ZXIgYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogTm90ZTogdGhlIGtleXMgcHJvdmlkZWQgaW4gdG9LZXlzIGFyZSBpbnRlbmRlZCB0byBiZSB0aG9zZSBwYXJhbSBrZXlzIGV4cGxpY2l0bHkgc3BlY2lmaWVkIGJ5IHNvbWVcblx0ICAgICAqIGNhbGxlciwgZm9yIGluc3RhbmNlLCAkc3RhdGUudHJhbnNpdGlvblRvKC4uLiwgdG9QYXJhbXMpLiAgSWYgYSBrZXkgd2FzIGZvdW5kIGluIHRvUGFyYW1zLFxuXHQgICAgICogaXQgaXMgbm90IGluaGVyaXRlZCBmcm9tIHRoZSBmcm9tUGF0aC5cblx0ICAgICAqL1xuXHQgICAgUGF0aEZhY3RvcnkuaW5oZXJpdFBhcmFtcyA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgdG9QYXRoLCB0b0tleXMpIHtcblx0ICAgICAgICBpZiAodG9LZXlzID09PSB2b2lkIDApIHsgdG9LZXlzID0gW107IH1cblx0ICAgICAgICBmdW5jdGlvbiBub2RlUGFyYW1WYWxzKHBhdGgsIHN0YXRlKSB7XG5cdCAgICAgICAgICAgIHZhciBub2RlID0gY29tbW9uXzEuZmluZChwYXRoLCBob2ZfMS5wcm9wRXEoJ3N0YXRlJywgc3RhdGUpKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZCh7fSwgbm9kZSAmJiBub2RlLnBhcmFtVmFsdWVzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogR2l2ZW4gYW4gTm9kZSBcInRvTm9kZVwiLCByZXR1cm4gYSBuZXcgTm9kZSB3aXRoIHBhcmFtIHZhbHVlcyBpbmhlcml0ZWQgZnJvbSB0aGVcblx0ICAgICAgICAgKiBtYXRjaGluZyBub2RlIGluIGZyb21QYXRoLiAgT25seSBpbmhlcml0IGtleXMgdGhhdCBhcmVuJ3QgZm91bmQgaW4gXCJ0b0tleXNcIiBmcm9tIHRoZSBub2RlIGluIFwiZnJvbVBhdGhcIlwiXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdmFyIG1ha2VJbmhlcml0ZWRQYXJhbXNOb2RlID0gaG9mXzEuY3VycnkoZnVuY3Rpb24gKF9mcm9tUGF0aCwgX3RvS2V5cywgdG9Ob2RlKSB7XG5cdCAgICAgICAgICAgIC8vIEFsbCBwYXJhbSB2YWx1ZXMgZm9yIHRoZSBub2RlIChtYXkgaW5jbHVkZSBkZWZhdWx0IGtleS92YWxzLCB3aGVuIGtleSB3YXMgbm90IGZvdW5kIGluIHRvUGFyYW1zKVxuXHQgICAgICAgICAgICB2YXIgdG9QYXJhbVZhbHMgPSBjb21tb25fMS5leHRlbmQoe30sIHRvTm9kZSAmJiB0b05vZGUucGFyYW1WYWx1ZXMpO1xuXHQgICAgICAgICAgICAvLyBsaW1pdGVkIHRvIG9ubHkgdGhvc2Uga2V5cyBmb3VuZCBpbiB0b1BhcmFtc1xuXHQgICAgICAgICAgICB2YXIgaW5jb21pbmdQYXJhbVZhbHMgPSBjb21tb25fMS5waWNrKHRvUGFyYW1WYWxzLCBfdG9LZXlzKTtcblx0ICAgICAgICAgICAgdG9QYXJhbVZhbHMgPSBjb21tb25fMS5vbWl0KHRvUGFyYW1WYWxzLCBfdG9LZXlzKTtcblx0ICAgICAgICAgICAgdmFyIGZyb21QYXJhbVZhbHMgPSBub2RlUGFyYW1WYWxzKF9mcm9tUGF0aCwgdG9Ob2RlLnN0YXRlKSB8fCB7fTtcblx0ICAgICAgICAgICAgLy8gZXh0ZW5kIHRvUGFyYW1WYWxzIHdpdGggYW55IGZyb21QYXJhbVZhbHMsIHRoZW4gb3ZlcnJpZGUgYW55IG9mIHRob3NlIHRob3NlIHdpdGggaW5jb21pbmdQYXJhbVZhbHNcblx0ICAgICAgICAgICAgdmFyIG93blBhcmFtVmFscyA9IGNvbW1vbl8xLmV4dGVuZCh0b1BhcmFtVmFscywgZnJvbVBhcmFtVmFscywgaW5jb21pbmdQYXJhbVZhbHMpO1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IG5vZGVfMS5Ob2RlKHRvTm9kZS5zdGF0ZSkuYXBwbHlSYXdQYXJhbXMob3duUGFyYW1WYWxzKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICAvLyBUaGUgcGFyYW0ga2V5cyBzcGVjaWZpZWQgYnkgdGhlIGluY29taW5nIHRvUGFyYW1zXG5cdCAgICAgICAgcmV0dXJuIHRvUGF0aC5tYXAobWFrZUluaGVyaXRlZFBhcmFtc05vZGUoZnJvbVBhdGgsIHRvS2V5cykpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogR2l2ZW4gYSBwYXRoLCB1cGdyYWRlcyB0aGUgcGF0aCB0byBhIE5vZGVbXS4gIEVhY2ggbm9kZSBpcyBhc3NpZ25lZCBhIFJlc29sdmVDb250ZXh0XG5cdCAgICAgKiBhbmQgUGFyYW1WYWx1ZXMgb2JqZWN0IHdoaWNoIGlzIGJvdW5kIHRvIHRoZSB3aG9sZSBwYXRoLCBidXQgY2xvc2VzIG92ZXIgdGhlIHN1YnBhdGggZnJvbSByb290IHRvIHRoZSBub2RlLlxuXHQgICAgICogVGhlIHZpZXdzIGFyZSBhbHNvIGFkZGVkIHRvIHRoZSBub2RlLlxuXHQgICAgICovXG5cdCAgICBQYXRoRmFjdG9yeS5iaW5kVHJhbnNOb2Rlc1RvUGF0aCA9IGZ1bmN0aW9uIChyZXNvbHZlUGF0aCkge1xuXHQgICAgICAgIHZhciByZXNvbHZlQ29udGV4dCA9IG5ldyBtb2R1bGVfMi5SZXNvbHZlQ29udGV4dChyZXNvbHZlUGF0aCk7XG5cdCAgICAgICAgLy8gbGV0IHBhcmFtVmFsdWVzID0gbmV3IFBhcmFtVmFsdWVzKHJlc29sdmVQYXRoKTtcblx0ICAgICAgICAvLyBBdHRhY2ggYm91bmQgcmVzb2x2ZUNvbnRleHQgYW5kIHBhcmFtVmFsdWVzIHRvIGVhY2ggbm9kZVxuXHQgICAgICAgIC8vIEF0dGFjaCB2aWV3cyB0byBlYWNoIG5vZGVcblx0ICAgICAgICByZXNvbHZlUGF0aC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG5cdCAgICAgICAgICAgIG5vZGUucmVzb2x2ZUNvbnRleHQgPSByZXNvbHZlQ29udGV4dC5pc29sYXRlUm9vdFRvKG5vZGUuc3RhdGUpO1xuXHQgICAgICAgICAgICBub2RlLnJlc29sdmVJbmplY3RvciA9IG5ldyBtb2R1bGVfMi5SZXNvbHZlSW5qZWN0b3Iobm9kZS5yZXNvbHZlQ29udGV4dCwgbm9kZS5zdGF0ZSk7XG5cdCAgICAgICAgICAgIG5vZGUucmVzb2x2ZXNbJyRzdGF0ZVBhcmFtcyddID0gbmV3IG1vZHVsZV8yLlJlc29sdmFibGUoXCIkc3RhdGVQYXJhbXNcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbm9kZS5wYXJhbVZhbHVlczsgfSwgbm9kZS5wYXJhbVZhbHVlcyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIHJlc29sdmVQYXRoO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQ29tcHV0ZXMgdGhlIHRyZWUgY2hhbmdlcyAoZW50ZXJpbmcsIGV4aXRpbmcpIGJldHdlZW4gYSBmcm9tUGF0aCBhbmQgdG9QYXRoLlxuXHQgICAgICovXG5cdCAgICBQYXRoRmFjdG9yeS50cmVlQ2hhbmdlcyA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgdG9QYXRoLCByZWxvYWRTdGF0ZSkge1xuXHQgICAgICAgIHZhciBrZWVwID0gMCwgbWF4ID0gTWF0aC5taW4oZnJvbVBhdGgubGVuZ3RoLCB0b1BhdGgubGVuZ3RoKTtcblx0ICAgICAgICB2YXIgc3RhdGljUGFyYW1zID0gZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBzdGF0ZS5wYXJhbWV0ZXJzKHsgaW5oZXJpdDogZmFsc2UgfSkuZmlsdGVyKGhvZl8xLm5vdChob2ZfMS5wcm9wKCdkeW5hbWljJykpKS5tYXAoaG9mXzEucHJvcCgnaWQnKSk7IH07XG5cdCAgICAgICAgdmFyIG5vZGVzTWF0Y2ggPSBmdW5jdGlvbiAobm9kZTEsIG5vZGUyKSB7IHJldHVybiBub2RlMS5lcXVhbHMobm9kZTIsIHN0YXRpY1BhcmFtcyhub2RlMS5zdGF0ZSkpOyB9O1xuXHQgICAgICAgIHdoaWxlIChrZWVwIDwgbWF4ICYmIGZyb21QYXRoW2tlZXBdLnN0YXRlICE9PSByZWxvYWRTdGF0ZSAmJiBub2Rlc01hdGNoKGZyb21QYXRoW2tlZXBdLCB0b1BhdGhba2VlcF0pKSB7XG5cdCAgICAgICAgICAgIGtlZXArKztcblx0ICAgICAgICB9XG5cdCAgICAgICAgLyoqIEdpdmVuIGEgcmV0YWluZWQgbm9kZSwgcmV0dXJuIGEgbmV3IG5vZGUgd2hpY2ggdXNlcyB0aGUgdG8gbm9kZSdzIHBhcmFtIHZhbHVlcyAqL1xuXHQgICAgICAgIGZ1bmN0aW9uIGFwcGx5VG9QYXJhbXMocmV0YWluZWROb2RlLCBpZHgpIHtcblx0ICAgICAgICAgICAgdmFyIGNsb25lZCA9IG5vZGVfMS5Ob2RlLmNsb25lKHJldGFpbmVkTm9kZSk7XG5cdCAgICAgICAgICAgIGNsb25lZC5wYXJhbVZhbHVlcyA9IHRvUGF0aFtpZHhdLnBhcmFtVmFsdWVzO1xuXHQgICAgICAgICAgICByZXR1cm4gY2xvbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZnJvbSwgcmV0YWluZWQsIGV4aXRpbmcsIGVudGVyaW5nLCB0bztcblx0ICAgICAgICAvLyBpbnRlcm1lZGlhdGUgdmFyc1xuXHQgICAgICAgIHZhciByZXRhaW5lZFdpdGhUb1BhcmFtcywgZW50ZXJpbmdSZXNvbHZlUGF0aCwgdG9SZXNvbHZlUGF0aDtcblx0ICAgICAgICBmcm9tID0gZnJvbVBhdGg7XG5cdCAgICAgICAgcmV0YWluZWQgPSBmcm9tLnNsaWNlKDAsIGtlZXApO1xuXHQgICAgICAgIGV4aXRpbmcgPSBmcm9tLnNsaWNlKGtlZXApO1xuXHQgICAgICAgIC8vIENyZWF0ZSBhIG5ldyByZXRhaW5lZCBwYXRoICh3aXRoIHNoYWxsb3cgY29waWVzIG9mIG5vZGVzKSB3aGljaCBoYXZlIHRoZSBwYXJhbXMgb2YgdGhlIHRvUGF0aCBtYXBwZWRcblx0ICAgICAgICByZXRhaW5lZFdpdGhUb1BhcmFtcyA9IHJldGFpbmVkLm1hcChhcHBseVRvUGFyYW1zKTtcblx0ICAgICAgICBlbnRlcmluZ1Jlc29sdmVQYXRoID0gdG9QYXRoLnNsaWNlKGtlZXApO1xuXHQgICAgICAgIC8vIFwidG9SZXNvbHZlUGF0aFwiIGlzIFwicmV0YWluZWRXaXRoVG9QYXJhbXNcIiBjb25jYXQgXCJlbnRlcmluZ1Jlc29sdmVQYXRoXCIuXG5cdCAgICAgICAgdG9SZXNvbHZlUGF0aCA9IChyZXRhaW5lZFdpdGhUb1BhcmFtcykuY29uY2F0KGVudGVyaW5nUmVzb2x2ZVBhdGgpO1xuXHQgICAgICAgIC8vIFwidG86IGlzIFwidG9SZXNvbHZlUGF0aFwiIHdpdGggUGFyYW1WYWx1ZXMvUmVzb2x2ZUNvbnRleHQgYWRkZWQgdG8gZWFjaCBub2RlIGFuZCBib3VuZCB0byB0aGUgcGF0aCBjb250ZXh0XG5cdCAgICAgICAgdG8gPSBQYXRoRmFjdG9yeS5iaW5kVHJhbnNOb2Rlc1RvUGF0aCh0b1Jlc29sdmVQYXRoKTtcblx0ICAgICAgICAvLyBcImVudGVyaW5nXCIgaXMgdGhlIHRhaWwgb2YgXCJ0b1wiXG5cdCAgICAgICAgZW50ZXJpbmcgPSB0by5zbGljZShrZWVwKTtcblx0ICAgICAgICByZXR1cm4geyBmcm9tOiBmcm9tLCB0bzogdG8sIHJldGFpbmVkOiByZXRhaW5lZCwgZXhpdGluZzogZXhpdGluZywgZW50ZXJpbmc6IGVudGVyaW5nIH07XG5cdCAgICB9O1xuXHQgICAgUGF0aEZhY3RvcnkuYmluZFRyYW5zaXRpb25SZXNvbHZlID0gZnVuY3Rpb24gKHRyZWVDaGFuZ2VzLCB0cmFuc2l0aW9uKSB7XG5cdCAgICAgICAgdmFyIHJvb3ROb2RlID0gdHJlZUNoYW5nZXMudG9bMF07XG5cdCAgICAgICAgcm9vdE5vZGUucmVzb2x2ZXNbJyR0cmFuc2l0aW9uJCddID0gbmV3IG1vZHVsZV8yLlJlc29sdmFibGUoJyR0cmFuc2l0aW9uJCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zaXRpb247IH0sIHRyYW5zaXRpb24pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogRmluZCBhIHN1YnBhdGggb2YgYSBwYXRoIHRoYXQgc3RvcHMgYXQgdGhlIG5vZGUgZm9yIGEgZ2l2ZW4gc3RhdGVcblx0ICAgICAqXG5cdCAgICAgKiBHaXZlbiBhbiBhcnJheSBvZiBub2RlcywgcmV0dXJucyBhIHN1YnNldCBvZiB0aGUgYXJyYXkgc3RhcnRpbmcgZnJvbSB0aGUgZmlyc3Qgbm9kZSwgdXAgdG8gdGhlXG5cdCAgICAgKiBub2RlIHdob3NlIHN0YXRlIG1hdGNoZXMgYHN0YXRlTmFtZWBcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gcGF0aCBhIHBhdGggb2YgW1tOb2RlXV1zXG5cdCAgICAgKiBAcGFyYW0gc3RhdGUgdGhlIFtbU3RhdGVdXSB0byBzdG9wIGF0XG5cdCAgICAgKi9cblx0ICAgIFBhdGhGYWN0b3J5LnN1YlBhdGggPSBmdW5jdGlvbiAocGF0aCwgc3RhdGUpIHtcblx0ICAgICAgICB2YXIgbm9kZSA9IGNvbW1vbl8xLmZpbmQocGF0aCwgZnVuY3Rpb24gKF9ub2RlKSB7IHJldHVybiBfbm9kZS5zdGF0ZSA9PT0gc3RhdGU7IH0pO1xuXHQgICAgICAgIHZhciBlbGVtZW50SWR4ID0gcGF0aC5pbmRleE9mKG5vZGUpO1xuXHQgICAgICAgIGlmIChlbGVtZW50SWR4ID09PSAtMSlcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHBhdGggZG9lcyBub3QgY29udGFpbiB0aGUgc3RhdGU6IFwiICsgc3RhdGUpO1xuXHQgICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVsZW1lbnRJZHggKyAxKTtcblx0ICAgIH07XG5cdCAgICAvKiogR2V0cyB0aGUgcmF3IHBhcmFtZXRlciB2YWx1ZXMgZnJvbSBhIHBhdGggKi9cblx0ICAgIFBhdGhGYWN0b3J5LnBhcmFtVmFsdWVzID0gZnVuY3Rpb24gKHBhdGgpIHsgcmV0dXJuIHBhdGgucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5vZGUpIHsgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChhY2MsIG5vZGUucGFyYW1WYWx1ZXMpOyB9LCB7fSk7IH07XG5cdCAgICByZXR1cm4gUGF0aEZhY3Rvcnk7XG5cdH0oKSk7XG5cdGV4cG9ydHMuUGF0aEZhY3RvcnkgPSBQYXRoRmFjdG9yeTtcblxuXG4vKioqLyB9LFxuLyogMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSBwYXRoICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0dmFyIE5vZGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gTm9kZShzdGF0ZSkge1xuXHQgICAgICAgIGlmIChzdGF0ZSBpbnN0YW5jZW9mIE5vZGUpIHtcblx0ICAgICAgICAgICAgdmFyIG5vZGUgPSBzdGF0ZTtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5vZGUuc3RhdGU7XG5cdCAgICAgICAgICAgIHRoaXMucGFyYW1TY2hlbWEgPSBub2RlLnBhcmFtU2NoZW1hLnNsaWNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMucGFyYW1WYWx1ZXMgPSBjb21tb25fMS5leHRlbmQoe30sIG5vZGUucGFyYW1WYWx1ZXMpO1xuXHQgICAgICAgICAgICB0aGlzLnJlc29sdmVzID0gY29tbW9uXzEuZXh0ZW5kKHt9LCBub2RlLnJlc29sdmVzKTtcblx0ICAgICAgICAgICAgdGhpcy52aWV3cyA9IG5vZGUudmlld3MgJiYgbm9kZS52aWV3cy5zbGljZSgpO1xuXHQgICAgICAgICAgICB0aGlzLnJlc29sdmVDb250ZXh0ID0gbm9kZS5yZXNvbHZlQ29udGV4dDtcblx0ICAgICAgICAgICAgdGhpcy5yZXNvbHZlSW5qZWN0b3IgPSBub2RlLnJlc29sdmVJbmplY3Rvcjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcblx0ICAgICAgICAgICAgdGhpcy5wYXJhbVNjaGVtYSA9IHN0YXRlLnBhcmFtZXRlcnMoeyBpbmhlcml0OiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgdGhpcy5wYXJhbVZhbHVlcyA9IHt9O1xuXHQgICAgICAgICAgICB0aGlzLnJlc29sdmVzID0gY29tbW9uXzEubWFwT2JqKHN0YXRlLnJlc29sdmUsIGZ1bmN0aW9uIChmbiwgbmFtZSkgeyByZXR1cm4gbmV3IG1vZHVsZV8xLlJlc29sdmFibGUobmFtZSwgZm4pOyB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBOb2RlLnByb3RvdHlwZS5hcHBseVJhd1BhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcblx0ICAgICAgICB2YXIgZ2V0UGFyYW1WYWwgPSBmdW5jdGlvbiAocGFyYW1EZWYpIHsgcmV0dXJuIFtwYXJhbURlZi5pZCwgcGFyYW1EZWYudmFsdWUocGFyYW1zW3BhcmFtRGVmLmlkXSldOyB9O1xuXHQgICAgICAgIHRoaXMucGFyYW1WYWx1ZXMgPSB0aGlzLnBhcmFtU2NoZW1hLnJlZHVjZShmdW5jdGlvbiAobWVtbywgcERlZikgeyByZXR1cm4gY29tbW9uXzEuYXBwbHlQYWlycyhtZW1vLCBnZXRQYXJhbVZhbChwRGVmKSk7IH0sIHt9KTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdCAgICBOb2RlLnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgICAgIHJldHVybiBjb21tb25fMS5maW5kKHRoaXMucGFyYW1TY2hlbWEsIGhvZl8xLnByb3BFcShcImlkXCIsIG5hbWUpKTtcblx0ICAgIH07XG5cdCAgICBOb2RlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobm9kZSwga2V5cykge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgaWYgKGtleXMgPT09IHZvaWQgMCkgeyBrZXlzID0gdGhpcy5wYXJhbVNjaGVtYS5tYXAoaG9mXzEucHJvcCgnaWQnKSk7IH1cblx0ICAgICAgICB2YXIgcGFyYW1WYWxzRXEgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBfdGhpcy5wYXJhbWV0ZXIoa2V5KS50eXBlLmVxdWFscyhfdGhpcy5wYXJhbVZhbHVlc1trZXldLCBub2RlLnBhcmFtVmFsdWVzW2tleV0pOyB9O1xuXHQgICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBub2RlLnN0YXRlICYmIGtleXMubWFwKHBhcmFtVmFsc0VxKS5yZWR1Y2UoY29tbW9uXzEuYWxsVHJ1ZVIsIHRydWUpO1xuXHQgICAgfTtcblx0ICAgIE5vZGUuY2xvbmUgPSBmdW5jdGlvbiAobm9kZSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgTm9kZShub2RlKTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgYSBuZXcgcGF0aCB3aGljaCBpcyBhIHN1YnBhdGggb2YgdGhlIGZpcnN0IHBhdGguIFRoZSBuZXcgcGF0aCBzdGFydHMgZnJvbSByb290IGFuZCBjb250YWlucyBhbnkgbm9kZXNcblx0ICAgICAqIHRoYXQgbWF0Y2ggdGhlIG5vZGVzIGluIHRoZSBzZWNvbmQgcGF0aC4gTm9kZXMgYXJlIGNvbXBhcmVkIHVzaW5nIHRoZWlyIHN0YXRlIHByb3BlcnR5LlxuXHQgICAgICogQHBhcmFtIGZpcnN0IHtOb2RlW119XG5cdCAgICAgKiBAcGFyYW0gc2Vjb25kIHtOb2RlW119XG5cdCAgICAgKiBAcmV0dXJucyB7Tm9kZVtdfVxuXHQgICAgICovXG5cdCAgICBOb2RlLm1hdGNoaW5nID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcblx0ICAgICAgICB2YXIgbWF0Y2hlZENvdW50ID0gZmlyc3QucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBub2RlLCBpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwcmV2ID09PSBpICYmIGkgPCBzZWNvbmQubGVuZ3RoICYmIG5vZGUuc3RhdGUgPT09IHNlY29uZFtpXS5zdGF0ZSA/IGkgKyAxIDogcHJldjtcblx0ICAgICAgICB9LCAwKTtcblx0ICAgICAgICByZXR1cm4gZmlyc3Quc2xpY2UoMCwgbWF0Y2hlZENvdW50KTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gTm9kZTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Ob2RlID0gTm9kZTtcblxuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG5cdH1cblx0LyoqIEBtb2R1bGUgcmVzb2x2ZSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygzMSkpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNDEpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MikpO1xuXG5cbi8qKiovIH0sXG4vKiA0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHJlc29sdmUgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBob2ZfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgdHJhY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgaW50ZXJmYWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0dmFyIGNvbW1vbl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHBhdGhGYWN0b3J5XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0Ly8gVE9ETzogbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZVxuXHR2YXIgZGVmYXVsdFJlc29sdmVQb2xpY3kgPSBpbnRlcmZhY2VfMS5SZXNvbHZlUG9saWN5W2ludGVyZmFjZV8xLlJlc29sdmVQb2xpY3kuTEFaWV07XG5cdHZhciBSZXNvbHZlQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBSZXNvbHZlQ29udGV4dChfcGF0aCkge1xuXHQgICAgICAgIHRoaXMuX3BhdGggPSBfcGF0aDtcblx0ICAgICAgICBjb21tb25fMS5leHRlbmQodGhpcywge1xuXHQgICAgICAgICAgICBfbm9kZUZvcjogZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuZmluZCh0aGlzLl9wYXRoLCBob2ZfMS5wcm9wRXEoJ3N0YXRlJywgc3RhdGUpKTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgX3BhdGhUbzogZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcGF0aEZhY3RvcnlfMS5QYXRoRmFjdG9yeS5zdWJQYXRoKHRoaXMuX3BhdGgsIHN0YXRlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBhdmFpbGFibGUgUmVzb2x2YWJsZXMgZm9yIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhpcyBwYXRoLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSBzdGF0ZSB0aGUgU3RhdGUgKHdpdGhpbiB0aGUgUmVzb2x2ZUNvbnRleHQncyBQYXRoKSBmb3Igd2hpY2ggdG8gZ2V0IHJlc29sdmFibGVzXG5cdCAgICAgKiBAcGFyYW0gb3B0aW9uc1xuXHQgICAgICpcblx0ICAgICAqIG9wdGlvbnMub21pdE93bkxvY2FsczogYXJyYXkgb2YgcHJvcGVydHkgbmFtZXNcblx0ICAgICAqICAgT21pdHMgdGhvc2UgUmVzb2x2YWJsZXMgd2hpY2ggYXJlIGZvdW5kIG9uIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIHBhdGguXG5cdCAgICAgKlxuXHQgICAgICogICBUaGlzIHdpbGwgaGlkZSBhIGRlZXBlc3QtbGV2ZWwgcmVzb2x2YWJsZSAoYnkgbmFtZSksIHBvdGVudGlhbGx5IGV4cG9zaW5nIGEgcGFyZW50IHJlc29sdmFibGUgb2Zcblx0ICAgICAqICAgdGhlIHNhbWUgbmFtZSBmdXJ0aGVyIHVwIHRoZSBzdGF0ZSB0cmVlLlxuXHQgICAgICpcblx0ICAgICAqICAgVGhpcyBpcyB1c2VkIGJ5IFJlc29sdmFibGUucmVzb2x2ZSgpIGluIG9yZGVyIHRvIHByb3ZpZGUgdGhlIFJlc29sdmFibGUgYWNjZXNzIHRvIGFsbCB0aGUgb3RoZXJcblx0ICAgICAqICAgUmVzb2x2YWJsZXMgYXQgaXRzIG93biBQYXRoRWxlbWVudCBsZXZlbCwgeWV0IGRpc2FsbG93IHRoYXQgUmVzb2x2YWJsZSBhY2Nlc3MgdG8gaXRzIG93biBpbmplY3RhYmxlIFJlc29sdmFibGUuXG5cdCAgICAgKlxuXHQgICAgICogICBUaGlzIGlzIGFsc28gdXNlZCB0byBhbGxvdyBhIHN0YXRlIHRvIG92ZXJyaWRlIGEgcGFyZW50IHN0YXRlJ3MgcmVzb2x2ZSB3aGlsZSBhbHNvIGluamVjdGluZ1xuXHQgICAgICogICB0aGF0IHBhcmVudCBzdGF0ZSdzIHJlc29sdmU6XG5cdCAgICAgKlxuXHQgICAgICogICBzdGF0ZSh7IG5hbWU6ICdHJywgcmVzb2x2ZTogeyBfRzogZnVuY3Rpb24oKSB7IHJldHVybiBcIkdcIjsgfSB9IH0pO1xuXHQgICAgICogICBzdGF0ZSh7IG5hbWU6ICdHLkcyJywgcmVzb2x2ZTogeyBfRzogZnVuY3Rpb24oX0cpIHsgcmV0dXJuIF9HICsgXCJHMlwiOyB9IH0gfSk7XG5cdCAgICAgKiAgIHdoZXJlIGluamVjdGluZyBfRyBpbnRvIGEgY29udHJvbGxlciB3aWxsIHlpZWxkIFwiR0cyXCJcblx0ICAgICAqL1xuXHQgICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmdldFJlc29sdmFibGVzID0gZnVuY3Rpb24gKHN0YXRlLCBvcHRpb25zKSB7XG5cdCAgICAgICAgb3B0aW9ucyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIHsgb21pdE93bkxvY2FsczogW10gfSk7XG5cdCAgICAgICAgdmFyIHBhdGggPSAoc3RhdGUgPyB0aGlzLl9wYXRoVG8oc3RhdGUpIDogdGhpcy5fcGF0aCk7XG5cdCAgICAgICAgdmFyIGxhc3QgPSBjb21tb25fMS50YWlsKHBhdGgpO1xuXHQgICAgICAgIHJldHVybiBwYXRoLnJlZHVjZShmdW5jdGlvbiAobWVtbywgbm9kZSkge1xuXHQgICAgICAgICAgICB2YXIgb21pdFByb3BzID0gKG5vZGUgPT09IGxhc3QpID8gb3B0aW9ucy5vbWl0T3duTG9jYWxzIDogW107XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJlZFJlc29sdmFibGVzID0gY29tbW9uXzEub21pdChub2RlLnJlc29sdmVzLCBvbWl0UHJvcHMpO1xuXHQgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKG1lbW8sIGZpbHRlcmVkUmVzb2x2YWJsZXMpO1xuXHQgICAgICAgIH0sIHt9KTtcblx0ICAgIH07XG5cdCAgICAvKiogSW5zcGVjdHMgYSBmdW5jdGlvbiBgZm5gIGZvciBpdHMgZGVwZW5kZW5jaWVzLiAgUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBhbnkgbWF0Y2hpbmcgUmVzb2x2YWJsZXMgKi9cblx0ICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5nZXRSZXNvbHZhYmxlc0ZvckZuID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICAgICAgdmFyIGRlcHMgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUoZm4sIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3Rvci5zdHJpY3REaSk7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnBpY2sodGhpcy5nZXRSZXNvbHZhYmxlcygpLCBkZXBzKTtcblx0ICAgIH07XG5cdCAgICBSZXNvbHZlQ29udGV4dC5wcm90b3R5cGUuaXNvbGF0ZVJvb3RUbyA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZUNvbnRleHQodGhpcy5fcGF0aFRvKHN0YXRlKSk7XG5cdCAgICB9O1xuXHQgICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmFkZFJlc29sdmFibGVzID0gZnVuY3Rpb24gKHJlc29sdmFibGVzLCBzdGF0ZSkge1xuXHQgICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLl9ub2RlRm9yKHN0YXRlKS5yZXNvbHZlcywgcmVzb2x2YWJsZXMpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBHZXRzIHRoZSByZXNvbHZhYmxlcyBkZWNsYXJlZCBvbiBhIHBhcnRpY3VsYXIgc3RhdGUgKi9cblx0ICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5nZXRPd25SZXNvbHZhYmxlcyA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoe30sIHRoaXMuX25vZGVGb3Ioc3RhdGUpLnJlc29sdmVzKTtcblx0ICAgIH07XG5cdCAgICAvLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgcmVzb2x2ZWQgcGF0aCBFbGVtZW50IHByb21pc2VzXG5cdCAgICBSZXNvbHZlQ29udGV4dC5wcm90b3R5cGUucmVzb2x2ZVBhdGggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cblx0ICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlUmVzb2x2ZVBhdGgodGhpcy5fcGF0aCwgb3B0aW9ucyk7XG5cdCAgICAgICAgdmFyIHByb21pc2VGb3JOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIF90aGlzLnJlc29sdmVQYXRoRWxlbWVudChub2RlLnN0YXRlLCBvcHRpb25zKTsgfTtcblx0ICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEuYWxsKGNvbW1vbl8xLm1hcCh0aGlzLl9wYXRoLCBwcm9taXNlRm9yTm9kZSkpLnRoZW4oZnVuY3Rpb24gKGFsbCkgeyByZXR1cm4gYWxsLnJlZHVjZShjb21tb25fMi5tZXJnZVIsIHt9KTsgfSk7XG5cdCAgICB9O1xuXHQgICAgLy8gcmV0dXJucyBhIHByb21pc2UgZm9yIGFsbCB0aGUgcmVzb2x2YWJsZXMgb24gdGhpcyBQYXRoRWxlbWVudFxuXHQgICAgLy8gb3B0aW9ucy5yZXNvbHZlUG9saWN5OiBvbmx5IHJldHVybiBwcm9taXNlcyBmb3IgdGhvc2UgUmVzb2x2YWJsZXMgd2hpY2ggYXJlIGF0IFxuXHQgICAgLy8gdGhlIHNwZWNpZmllZCBwb2xpY3ksIG9yIGFib3ZlLiAgaS5lLiwgb3B0aW9ucy5yZXNvbHZlUG9saWN5ID09PSAnbGF6eScgd2lsbFxuXHQgICAgLy8gcmVzb2x2ZSBib3RoICdsYXp5JyBhbmQgJ2VhZ2VyJyByZXNvbHZlcy5cblx0ICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5yZXNvbHZlUGF0aEVsZW1lbnQgPSBmdW5jdGlvbiAoc3RhdGUsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG5cdCAgICAgICAgLy8gVGhlIGNhbGxlciBjYW4gcmVxdWVzdCB0aGUgcGF0aCBiZSByZXNvbHZlZCBmb3IgYSBnaXZlbiBwb2xpY3kgYW5kIFwiYmVsb3dcIiBcblx0ICAgICAgICB2YXIgcG9saWN5ID0gb3B0aW9ucyAmJiBvcHRpb25zLnJlc29sdmVQb2xpY3k7XG5cdCAgICAgICAgdmFyIHBvbGljeU9yZGluYWwgPSBpbnRlcmZhY2VfMS5SZXNvbHZlUG9saWN5W3BvbGljeSB8fCBkZWZhdWx0UmVzb2x2ZVBvbGljeV07XG5cdCAgICAgICAgLy8gR2V0IHBhdGggUmVzb2x2YWJsZXMgYXZhaWxhYmxlIHRvIHRoaXMgZWxlbWVudFxuXHQgICAgICAgIHZhciByZXNvbHZhYmxlcyA9IHRoaXMuZ2V0T3duUmVzb2x2YWJsZXMoc3RhdGUpO1xuXHQgICAgICAgIHZhciBtYXRjaGVzUmVxdWVzdGVkUG9saWN5ID0gZnVuY3Rpb24gKHJlc29sdmFibGUpIHsgcmV0dXJuIGdldFBvbGljeShzdGF0ZS5yZXNvbHZlUG9saWN5LCByZXNvbHZhYmxlKSA+PSBwb2xpY3lPcmRpbmFsOyB9O1xuXHQgICAgICAgIHZhciBtYXRjaGluZ1Jlc29sdmVzID0gY29tbW9uXzEuZmlsdGVyKHJlc29sdmFibGVzLCBtYXRjaGVzUmVxdWVzdGVkUG9saWN5KTtcblx0ICAgICAgICB2YXIgZ2V0UmVzb2x2ZVByb21pc2UgPSBmdW5jdGlvbiAocmVzb2x2YWJsZSkgeyByZXR1cm4gcmVzb2x2YWJsZS5nZXQoX3RoaXMuaXNvbGF0ZVJvb3RUbyhzdGF0ZSksIG9wdGlvbnMpOyB9O1xuXHQgICAgICAgIHZhciByZXNvbHZhYmxlUHJvbWlzZXMgPSBjb21tb25fMS5tYXAobWF0Y2hpbmdSZXNvbHZlcywgZ2V0UmVzb2x2ZVByb21pc2UpO1xuXHQgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VSZXNvbHZlUGF0aEVsZW1lbnQodGhpcywgbWF0Y2hpbmdSZXNvbHZlcywgb3B0aW9ucyk7XG5cdCAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLmFsbChyZXNvbHZhYmxlUHJvbWlzZXMpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogSW5qZWN0cyBhIGZ1bmN0aW9uIGdpdmVuIHRoZSBSZXNvbHZhYmxlcyBhdmFpbGFibGUgaW4gdGhlIHBhdGgsIGZyb20gdGhlIGZpcnN0IG5vZGVcblx0ICAgICAqIHVwIHRvIHRoZSBub2RlIGZvciB0aGUgZ2l2ZW4gc3RhdGUuXG5cdCAgICAgKlxuXHQgICAgICogRmlyc3QgaXQgcmVzb2x2ZXMgYWxsIHRoZSByZXNvbHZhYmxlIGRlcGVuY2llcy4gIFdoZW4gdGhleSBhcmUgZG9uZSByZXNvbHZpbmcsIGl0IGludm9rZXNcblx0ICAgICAqIHRoZSBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIGZuOiB0aGUgZnVuY3Rpb24gdG8gaW5qZWN0IChpLmUuLCBvbkVudGVyLCBvbkV4aXQsIGNvbnRyb2xsZXIpXG5cdCAgICAgKiBAcGFyYW0gbG9jYWxzOiBhcmUgdGhlIGFuZ3VsYXIgJGluamVjdG9yLXN0eWxlIGxvY2FscyB0byBpbmplY3Rcblx0ICAgICAqIEBwYXJhbSBvcHRpb25zOiBvcHRpb25zIChUT0RPOiBkb2N1bWVudClcblx0ICAgICAqL1xuXHQgICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmludm9rZUxhdGVyID0gZnVuY3Rpb24gKGZuLCBsb2NhbHMsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIGlmIChsb2NhbHMgPT09IHZvaWQgMCkgeyBsb2NhbHMgPSB7fTsgfVxuXHQgICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG5cdCAgICAgICAgdmFyIHJlc29sdmFibGVzID0gdGhpcy5nZXRSZXNvbHZhYmxlc0ZvckZuKGZuKTtcblx0ICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlUGF0aEVsZW1lbnRJbnZva2UoY29tbW9uXzEudGFpbCh0aGlzLl9wYXRoKSwgZm4sIE9iamVjdC5rZXlzKHJlc29sdmFibGVzKSwgY29tbW9uXzEuZXh0ZW5kKHsgd2hlbjogXCJMYXRlclwiIH0sIG9wdGlvbnMpKTtcblx0ICAgICAgICB2YXIgZ2V0UHJvbWlzZSA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7IHJldHVybiByZXNvbHZhYmxlLmdldChfdGhpcywgb3B0aW9ucyk7IH07XG5cdCAgICAgICAgdmFyIHByb21pc2VzID0gY29tbW9uXzEubWFwKHJlc29sdmFibGVzLCBnZXRQcm9taXNlKTtcblx0ICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbnZva2VOb3coZm4sIGxvY2Fscywgb3B0aW9ucyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogSW1tZWRpYXRlbHkgaW5qZWN0cyBhIGZ1bmN0aW9uIHdpdGggdGhlIGRlcGVuZGVudCBSZXNvbHZhYmxlcyBhdmFpbGFibGUgaW4gdGhlIHBhdGgsIGZyb21cblx0ICAgICAqIHRoZSBmaXJzdCBub2RlIHVwIHRvIHRoZSBub2RlIGZvciB0aGUgZ2l2ZW4gc3RhdGUuXG5cdCAgICAgKlxuXHQgICAgICogSWYgYSBSZXNvbHZhYmxlIGlzIG5vdCB5ZXQgcmVzb2x2ZWQsIHRoZW4gbnVsbCBpcyBpbmplY3RlZCBpbiBwbGFjZSBvZiB0aGUgcmVzb2x2YWJsZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSBmbjogdGhlIGZ1bmN0aW9uIHRvIGluamVjdCAoaS5lLiwgb25FbnRlciwgb25FeGl0LCBjb250cm9sbGVyKVxuXHQgICAgICogQHBhcmFtIGxvY2FsczogYXJlIHRoZSBhbmd1bGFyICRpbmplY3Rvci1zdHlsZSBsb2NhbHMgdG8gaW5qZWN0XG5cdCAgICAgKiBAcGFyYW0gb3B0aW9uczogb3B0aW9ucyAoVE9ETzogZG9jdW1lbnQpXG5cdCAgICAgKi9cblx0ICAgIC8vIEluamVjdHMgYSBmdW5jdGlvbiBhdCB0aGlzIFBhdGhFbGVtZW50IGxldmVsIHdpdGggYXZhaWxhYmxlIFJlc29sdmFibGVzXG5cdCAgICAvLyBEb2VzIG5vdCB3YWl0IHVudGlsIGFsbCBSZXNvbHZhYmxlcyBoYXZlIGJlZW4gcmVzb2x2ZWQ7IHlvdSBtdXN0IGNhbGwgUGF0aEVsZW1lbnQucmVzb2x2ZSgpIChvciBtYW51YWxseSByZXNvbHZlIGVhY2ggZGVwKSBmaXJzdFxuXHQgICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmludm9rZU5vdyA9IGZ1bmN0aW9uIChmbiwgbG9jYWxzLCBvcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cblx0ICAgICAgICB2YXIgcmVzb2x2YWJsZXMgPSB0aGlzLmdldFJlc29sdmFibGVzRm9yRm4oZm4pO1xuXHQgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VQYXRoRWxlbWVudEludm9rZShjb21tb25fMS50YWlsKHRoaXMuX3BhdGgpLCBmbiwgT2JqZWN0LmtleXMocmVzb2x2YWJsZXMpLCBjb21tb25fMS5leHRlbmQoeyB3aGVuOiBcIk5vdyAgXCIgfSwgb3B0aW9ucykpO1xuXHQgICAgICAgIHZhciByZXNvbHZlZExvY2FscyA9IGNvbW1vbl8xLm1hcChyZXNvbHZhYmxlcywgaG9mXzEucHJvcChcImRhdGFcIikpO1xuXHQgICAgICAgIHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKGZuLCBvcHRpb25zLmJpbmQgfHwgbnVsbCwgY29tbW9uXzEuZXh0ZW5kKHt9LCBsb2NhbHMsIHJlc29sdmVkTG9jYWxzKSk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFJlc29sdmVDb250ZXh0O1xuXHR9KCkpO1xuXHRleHBvcnRzLlJlc29sdmVDb250ZXh0ID0gUmVzb2x2ZUNvbnRleHQ7XG5cdC8qKlxuXHQgKiBHaXZlbiBhIHN0YXRlJ3MgcmVzb2x2ZVBvbGljeSBhdHRyaWJ1dGUgYW5kIGEgcmVzb2x2YWJsZSBmcm9tIHRoYXQgc3RhdGUsIHJldHVybnMgdGhlIHBvbGljeSBvcmRpbmFsIGZvciB0aGUgUmVzb2x2YWJsZVxuXHQgKiBVc2UgdGhlIHBvbGljeSBkZWNsYXJlZCBmb3IgdGhlIFJlc29sdmUuIElmIHVuZGVmaW5lZCwgdXNlIHRoZSBwb2xpY3kgZGVjbGFyZWQgZm9yIHRoZSBTdGF0ZS4gIElmXG5cdCAqIHVuZGVmaW5lZCwgdXNlIHRoZSBzeXN0ZW0gZGVmYXVsdFJlc29sdmVQb2xpY3kuXG5cdCAqXG5cdCAqIEBwYXJhbSBzdGF0ZVJlc29sdmVQb2xpY3lDb25mIFRoZSByYXcgcmVzb2x2ZVBvbGljeSBkZWNsYXJhdGlvbiBvbiB0aGUgc3RhdGUgb2JqZWN0OyBtYXkgYmUgYSBTdHJpbmcgb3IgT2JqZWN0XG5cdCAqIEBwYXJhbSByZXNvbHZhYmxlIFRoZSByZXNvbHZhYmxlIHRvIGNvbXB1dGUgdGhlIHBvbGljeSBmb3Jcblx0ICovXG5cdGZ1bmN0aW9uIGdldFBvbGljeShzdGF0ZVJlc29sdmVQb2xpY3lDb25mLCByZXNvbHZhYmxlKSB7XG5cdCAgICAvLyBOb3JtYWxpemUgdGhlIGNvbmZpZ3VyYXRpb24gb24gdGhlIHN0YXRlIHRvIGVpdGhlciBzdGF0ZS1sZXZlbCAoYSBzdHJpbmcpIG9yIHJlc29sdmUtbGV2ZWwgKGEgTWFwIG9mIHN0cmluZzpzdHJpbmcpXG5cdCAgICB2YXIgc3RhdGVMZXZlbFBvbGljeSA9IChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoc3RhdGVSZXNvbHZlUG9saWN5Q29uZikgPyBzdGF0ZVJlc29sdmVQb2xpY3lDb25mIDogbnVsbCk7XG5cdCAgICB2YXIgcmVzb2x2ZUxldmVsUG9saWNpZXMgPSAocHJlZGljYXRlc18xLmlzT2JqZWN0KHN0YXRlUmVzb2x2ZVBvbGljeUNvbmYpID8gc3RhdGVSZXNvbHZlUG9saWN5Q29uZiA6IHt9KTtcblx0ICAgIHZhciBwb2xpY3lOYW1lID0gcmVzb2x2ZUxldmVsUG9saWNpZXNbcmVzb2x2YWJsZS5uYW1lXSB8fCBzdGF0ZUxldmVsUG9saWN5IHx8IGRlZmF1bHRSZXNvbHZlUG9saWN5O1xuXHQgICAgcmV0dXJuIGludGVyZmFjZV8xLlJlc29sdmVQb2xpY3lbcG9saWN5TmFtZV07XG5cdH1cblxuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSByZXNvbHZlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgUmVzb2x2ZUluamVjdG9yID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFJlc29sdmVJbmplY3RvcihfcmVzb2x2ZUNvbnRleHQsIF9zdGF0ZSkge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmVDb250ZXh0ID0gX3Jlc29sdmVDb250ZXh0O1xuXHQgICAgICAgIHRoaXMuX3N0YXRlID0gX3N0YXRlO1xuXHQgICAgfVxuXHQgICAgLyoqIFJldHVybnMgYSBwcm9taXNlIHRvIGludm9rZSBhbiBhbm5vdGF0ZWQgZnVuY3Rpb24gaW4gdGhlIHJlc29sdmUgY29udGV4dCAqL1xuXHQgICAgUmVzb2x2ZUluamVjdG9yLnByb3RvdHlwZS5pbnZva2VMYXRlciA9IGZ1bmN0aW9uIChpbmplY3RlZEZuLCBsb2NhbHMpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZUNvbnRleHQuaW52b2tlTGF0ZXIoaW5qZWN0ZWRGbiwgbG9jYWxzKTtcblx0ICAgIH07XG5cdCAgICAvKiogSW52b2tlcyBhbiBhbm5vdGF0ZWQgZnVuY3Rpb24gaW4gdGhlIHJlc29sdmUgY29udGV4dCAqL1xuXHQgICAgUmVzb2x2ZUluamVjdG9yLnByb3RvdHlwZS5pbnZva2VOb3cgPSBmdW5jdGlvbiAoaW5qZWN0ZWRGbiwgbG9jYWxzKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVDb250ZXh0Lmludm9rZU5vdyhudWxsLCBpbmplY3RlZEZuLCBsb2NhbHMpO1xuXHQgICAgfTtcblx0ICAgIC8qKiBSZXR1cm5zIHRoZSBhIHByb21pc2UgZm9yIGxvY2FscyAocmVhbGl6ZWQgUmVzb2x2YWJsZXMpIHRoYXQgYSBmdW5jdGlvbiB3YW50cyAqL1xuXHQgICAgUmVzb2x2ZUluamVjdG9yLnByb3RvdHlwZS5nZXRMb2NhbHMgPSBmdW5jdGlvbiAoaW5qZWN0ZWRGbikge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHJlc29sdmUgPSBmdW5jdGlvbiAocikgeyByZXR1cm4gci5nZXQoX3RoaXMuX3Jlc29sdmVDb250ZXh0KTsgfTtcblx0ICAgICAgICByZXR1cm4gY29tbW9uXzEubWFwKHRoaXMuX3Jlc29sdmVDb250ZXh0LmdldFJlc29sdmFibGVzRm9yRm4oaW5qZWN0ZWRGbiksIHJlc29sdmUpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBSZXNvbHZlSW5qZWN0b3I7XG5cdH0oKSk7XG5cdGV4cG9ydHMuUmVzb2x2ZUluamVjdG9yID0gUmVzb2x2ZUluamVjdG9yO1xuXG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciB0cmFuc2l0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIGhvb2tSZWdpc3RyeV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdC8qKlxuXHQgKiBUaGUgZGVmYXVsdCB0cmFuc2l0aW9uIG9wdGlvbnMuXG5cdCAqIEluY2x1ZGUgdGhpcyBvYmplY3Qgd2hlbiBhcHBseWluZyBjdXN0b20gZGVmYXVsdHM6XG5cdCAqIGxldCByZWxvYWRPcHRzID0geyByZWxvYWQ6IHRydWUsIG5vdGlmeTogdHJ1ZSB9XG5cdCAqIGxldCBvcHRpb25zID0gZGVmYXVsdHModGhlaXJPcHRzLCBjdXN0b21EZWZhdWx0cywgZGVmYXVsdE9wdGlvbnMpO1xuXHQgKi9cblx0ZXhwb3J0cy5kZWZhdWx0VHJhbnNPcHRzID0ge1xuXHQgICAgbG9jYXRpb246IHRydWUsXG5cdCAgICByZWxhdGl2ZTogbnVsbCxcblx0ICAgIGluaGVyaXQ6IGZhbHNlLFxuXHQgICAgbm90aWZ5OiB0cnVlLFxuXHQgICAgcmVsb2FkOiBmYWxzZSxcblx0ICAgIGN1c3RvbToge30sXG5cdCAgICBjdXJyZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9XG5cdH07XG5cdC8qKlxuXHQgKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHNlcnZpY2VzIHJlbGF0ZWQgdG8gVHJhbnNpdGlvbnMuXG5cdCAqXG5cdCAqIE1vc3QgaW1wb3J0YW50bHksIGl0IGFsbG93cyBnbG9iYWwgVHJhbnNpdGlvbiBIb29rcyB0byBiZSByZWdpc3RlcmVkLCBhbmQgaGFzIGEgZmFjdG9yeSBmdW5jdGlvblxuXHQgKiBmb3IgY3JlYXRpbmcgbmV3IFRyYW5zaXRpb25zLlxuXHQgKi9cblx0dmFyIFRyYW5zaXRpb25TZXJ2aWNlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFRyYW5zaXRpb25TZXJ2aWNlKCR2aWV3KSB7XG5cdCAgICAgICAgdGhpcy4kdmlldyA9ICR2aWV3O1xuXHQgICAgICAgIHRoaXMuX2RlZmF1bHRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAkZGVmYXVsdEVycm9ySGFuZGxlcigkZXJyb3IkKSB7XG5cdCAgICAgICAgICAgIGlmICgkZXJyb3IkIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJGVycm9yJCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIGhvb2tSZWdpc3RyeV8xLkhvb2tSZWdpc3RyeS5taXhpbihuZXcgaG9va1JlZ2lzdHJ5XzEuSG9va1JlZ2lzdHJ5KCksIHRoaXMpO1xuXHQgICAgfVxuXHQgICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLmRlZmF1bHRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0RXJyb3JIYW5kbGVyID0gaGFuZGxlciB8fCB0aGlzLl9kZWZhdWx0RXJyb3JIYW5kbGVyO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIG5ldyBbW1RyYW5zaXRpb25dXSBvYmplY3Rcblx0ICAgICAqXG5cdCAgICAgKiBUaGlzIGlzIGEgZmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IFRyYW5zaXRpb24gb2JqZWN0cy5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gZnJvbVBhdGhcblx0ICAgICAqIEBwYXJhbSB0YXJnZXRTdGF0ZVxuXHQgICAgICogQHJldHVybnMge1RyYW5zaXRpb259XG5cdCAgICAgKi9cblx0ICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZnJvbVBhdGgsIHRhcmdldFN0YXRlKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyB0cmFuc2l0aW9uXzEuVHJhbnNpdGlvbihmcm9tUGF0aCwgdGFyZ2V0U3RhdGUsIHRoaXMpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBUcmFuc2l0aW9uU2VydmljZTtcblx0fSgpKTtcblx0ZXhwb3J0cy5UcmFuc2l0aW9uU2VydmljZSA9IFRyYW5zaXRpb25TZXJ2aWNlO1xuXG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcblx0ICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcblx0fVxuXHQvKiogQG1vZHVsZSBwYXRoICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMzgpKTtcblxuXG4vKioqLyB9LFxuLyogNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG5cdH1cblx0LyoqIEBtb2R1bGUgdXJsICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSk7XG5cdF9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMjIpKTtcblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NykpO1xuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KSk7XG5cblxuLyoqKi8gfSxcbi8qIDQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIEBtb2R1bGUgdXJsICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIG1vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdHZhciBwcmVkaWNhdGVzXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgcGFyYW1fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHR2YXIgY29tbW9uXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgY29tbW9uXzMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRmdW5jdGlvbiBxdW90ZVJlZ0V4cChzdHJpbmcsIHBhcmFtKSB7XG5cdCAgICB2YXIgc3Vycm91bmRQYXR0ZXJuID0gWycnLCAnJ10sIHJlc3VsdCA9IHN0cmluZy5yZXBsYWNlKC9bXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dL2csIFwiXFxcXCQmXCIpO1xuXHQgICAgaWYgKCFwYXJhbSlcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgc3dpdGNoIChwYXJhbS5zcXVhc2gpIHtcblx0ICAgICAgICBjYXNlIGZhbHNlOlxuXHQgICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJygnLCAnKScgKyAocGFyYW0uaXNPcHRpb25hbCA/ICc/JyA6ICcnKV07XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgdHJ1ZTpcblx0ICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG5cdCAgICAgICAgICAgIHN1cnJvdW5kUGF0dGVybiA9IFsnKD86XFwvKCcsICcpfFxcLyk/J107XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIHN1cnJvdW5kUGF0dGVybiA9IFsoXCIoXCIgKyBwYXJhbS5zcXVhc2ggKyBcInxcIiksICcpPyddO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQgKyBzdXJyb3VuZFBhdHRlcm5bMF0gKyBwYXJhbS50eXBlLnBhdHRlcm4uc291cmNlICsgc3Vycm91bmRQYXR0ZXJuWzFdO1xuXHR9XG5cdHZhciBtZW1vaXplVG8gPSBmdW5jdGlvbiAob2JqLCBwcm9wLCBmbikgeyByZXR1cm4gb2JqW3Byb3BdID0gb2JqW3Byb3BdIHx8IGZuKCk7IH07XG5cdC8qKlxuXHQgKiBAbmdkb2Mgb2JqZWN0XG5cdCAqIEBuYW1lIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlclxuXHQgKlxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogTWF0Y2hlcyBVUkxzIGFnYWluc3QgcGF0dGVybnMgYW5kIGV4dHJhY3RzIG5hbWVkIHBhcmFtZXRlcnMgZnJvbSB0aGUgcGF0aCBvciB0aGUgc2VhcmNoXG5cdCAqIHBhcnQgb2YgdGhlIFVSTC4gQSBVUkwgcGF0dGVybiBjb25zaXN0cyBvZiBhIHBhdGggcGF0dGVybiwgb3B0aW9uYWxseSBmb2xsb3dlZCBieSAnPycgYW5kIGEgbGlzdFxuXHQgKiBvZiBzZWFyY2ggcGFyYW1ldGVycy4gTXVsdGlwbGUgc2VhcmNoIHBhcmFtZXRlciBuYW1lcyBhcmUgc2VwYXJhdGVkIGJ5ICcmJy4gU2VhcmNoIHBhcmFtZXRlcnNcblx0ICogZG8gbm90IGluZmx1ZW5jZSB3aGV0aGVyIG9yIG5vdCBhIFVSTCBpcyBtYXRjaGVkLCBidXQgdGhlaXIgdmFsdWVzIGFyZSBwYXNzZWQgdGhyb3VnaCBpbnRvXG5cdCAqIHRoZSBtYXRjaGVkIHBhcmFtZXRlcnMgcmV0dXJuZWQgYnkge0BsaW5rIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciNtZXRob2RzX2V4ZWMgZXhlY30uXG5cdCAqXG5cdCAqIFBhdGggcGFyYW1ldGVyIHBsYWNlaG9sZGVycyBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIHNpbXBsZSBjb2xvbi9jYXRjaC1hbGwgc3ludGF4IG9yIGN1cmx5IGJyYWNlXG5cdCAqIHN5bnRheCwgd2hpY2ggb3B0aW9uYWxseSBhbGxvd3MgYSByZWd1bGFyIGV4cHJlc3Npb24gZm9yIHRoZSBwYXJhbWV0ZXIgdG8gYmUgc3BlY2lmaWVkOlxuXHQgKlxuXHQgKiAqIGAnOidgIG5hbWUgLSBjb2xvbiBwbGFjZWhvbGRlclxuXHQgKiAqIGAnKidgIG5hbWUgLSBjYXRjaC1hbGwgcGxhY2Vob2xkZXJcblx0ICogKiBgJ3snIG5hbWUgJ30nYCAtIGN1cmx5IHBsYWNlaG9sZGVyXG5cdCAqICogYCd7JyBuYW1lICc6JyByZWdleHB8dHlwZSAnfSdgIC0gY3VybHkgcGxhY2Vob2xkZXIgd2l0aCByZWdleHAgb3IgdHlwZSBuYW1lLiBTaG91bGQgdGhlXG5cdCAqICAgcmVnZXhwIGl0c2VsZiBjb250YWluIGN1cmx5IGJyYWNlcywgdGhleSBtdXN0IGJlIGluIG1hdGNoZWQgcGFpcnMgb3IgZXNjYXBlZCB3aXRoIGEgYmFja3NsYXNoLlxuXHQgKlxuXHQgKiBQYXJhbWV0ZXIgbmFtZXMgbWF5IGNvbnRhaW4gb25seSB3b3JkIGNoYXJhY3RlcnMgKGxhdGluIGxldHRlcnMsIGRpZ2l0cywgYW5kIHVuZGVyc2NvcmUpIGFuZFxuXHQgKiBtdXN0IGJlIHVuaXF1ZSB3aXRoaW4gdGhlIHBhdHRlcm4gKGFjcm9zcyBib3RoIHBhdGggYW5kIHNlYXJjaCBwYXJhbWV0ZXJzKS4gRm9yIGNvbG9uXG5cdCAqIHBsYWNlaG9sZGVycyBvciBjdXJseSBwbGFjZWhvbGRlcnMgd2l0aG91dCBhbiBleHBsaWNpdCByZWdleHAsIGEgcGF0aCBwYXJhbWV0ZXIgbWF0Y2hlcyBhbnlcblx0ICogbnVtYmVyIG9mIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiAnLycuIEZvciBjYXRjaC1hbGwgcGxhY2Vob2xkZXJzIHRoZSBwYXRoIHBhcmFtZXRlciBtYXRjaGVzXG5cdCAqIGFueSBudW1iZXIgb2YgY2hhcmFjdGVycy5cblx0ICpcblx0ICogRXhhbXBsZXM6XG5cdCAqXG5cdCAqICogYCcvaGVsbG8vJ2AgLSBNYXRjaGVzIG9ubHkgaWYgdGhlIHBhdGggaXMgZXhhY3RseSAnL2hlbGxvLycuIFRoZXJlIGlzIG5vIHNwZWNpYWwgdHJlYXRtZW50IGZvclxuXHQgKiAgIHRyYWlsaW5nIHNsYXNoZXMsIGFuZCBwYXR0ZXJucyBoYXZlIHRvIG1hdGNoIHRoZSBlbnRpcmUgcGF0aCwgbm90IGp1c3QgYSBwcmVmaXguXG5cdCAqICogYCcvdXNlci86aWQnYCAtIE1hdGNoZXMgJy91c2VyL2JvYicgb3IgJy91c2VyLzEyMzQhISEnIG9yIGV2ZW4gJy91c2VyLycgYnV0IG5vdCAnL3VzZXInIG9yXG5cdCAqICAgJy91c2VyL2JvYi9kZXRhaWxzJy4gVGhlIHNlY29uZCBwYXRoIHNlZ21lbnQgd2lsbCBiZSBjYXB0dXJlZCBhcyB0aGUgcGFyYW1ldGVyICdpZCcuXG5cdCAqICogYCcvdXNlci97aWR9J2AgLSBTYW1lIGFzIHRoZSBwcmV2aW91cyBleGFtcGxlLCBidXQgdXNpbmcgY3VybHkgYnJhY2Ugc3ludGF4LlxuXHQgKiAqIGAnL3VzZXIve2lkOlteL10qfSdgIC0gU2FtZSBhcyB0aGUgcHJldmlvdXMgZXhhbXBsZS5cblx0ICogKiBgJy91c2VyL3tpZDpbMC05YS1mQS1GXXsxLDh9fSdgIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgZXhhbXBsZSwgYnV0IG9ubHkgbWF0Y2hlcyBpZiB0aGUgaWRcblx0ICogICBwYXJhbWV0ZXIgY29uc2lzdHMgb2YgMSB0byA4IGhleCBkaWdpdHMuXG5cdCAqICogYCcvZmlsZXMve3BhdGg6Lip9J2AgLSBNYXRjaGVzIGFueSBVUkwgc3RhcnRpbmcgd2l0aCAnL2ZpbGVzLycgYW5kIGNhcHR1cmVzIHRoZSByZXN0IG9mIHRoZVxuXHQgKiAgIHBhdGggaW50byB0aGUgcGFyYW1ldGVyICdwYXRoJy5cblx0ICogKiBgJy9maWxlcy8qcGF0aCdgIC0gZGl0dG8uXG5cdCAqICogYCcvY2FsZW5kYXIve3N0YXJ0OmRhdGV9J2AgLSBNYXRjaGVzIFwiL2NhbGVuZGFyLzIwMTQtMTEtMTJcIiAoYmVjYXVzZSB0aGUgcGF0dGVybiBkZWZpbmVkXG5cdCAqICAgaW4gdGhlIGJ1aWx0LWluICBgZGF0ZWAgVHlwZSBtYXRjaGVzIGAyMDE0LTExLTEyYCkgYW5kIHByb3ZpZGVzIGEgRGF0ZSBvYmplY3QgaW4gJHN0YXRlUGFyYW1zLnN0YXJ0XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuICBUaGUgcGF0dGVybiB0byBjb21waWxlIGludG8gYSBtYXRjaGVyLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnICBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGhhc2hcblx0ICogKiBgY2FzZUluc2Vuc2l0aXZlYCAtIGB0cnVlYCBpZiBVUkwgbWF0Y2hpbmcgc2hvdWxkIGJlIGNhc2UgaW5zZW5zaXRpdmUsIG90aGVyd2lzZSBgZmFsc2VgLCB0aGUgZGVmYXVsdCB2YWx1ZSAoZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpIGlzIGBmYWxzZWAuXG5cdCAqICogYHN0cmljdGAgLSBgZmFsc2VgIGlmIG1hdGNoaW5nIGFnYWluc3QgYSBVUkwgd2l0aCBhIHRyYWlsaW5nIHNsYXNoIHNob3VsZCBiZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgdG8gYSBVUkwgd2l0aG91dCBhIHRyYWlsaW5nIHNsYXNoLCB0aGUgZGVmYXVsdCB2YWx1ZSBpcyBgdHJ1ZWAuXG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwcmVmaXggIEEgc3RhdGljIHByZWZpeCBvZiB0aGlzIHBhdHRlcm4uIFRoZSBtYXRjaGVyIGd1YXJhbnRlZXMgdGhhdCBhbnlcblx0ICogICBVUkwgbWF0Y2hpbmcgdGhpcyBtYXRjaGVyIChpLmUuIGFueSBzdHJpbmcgZm9yIHdoaWNoIHtAbGluayB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjbWV0aG9kc19leGVjIGV4ZWMoKX0gcmV0dXJuc1xuXHQgKiAgIG5vbi1udWxsKSB3aWxsIHN0YXJ0IHdpdGggdGhpcyBwcmVmaXguXG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwYXR0ZXJuICBUaGUgcGF0dGVybiB0aGF0IHdhcyBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3Jcblx0ICpcblx0ICogQHJldHVybnMge09iamVjdH0gIE5ldyBgVXJsTWF0Y2hlcmAgb2JqZWN0XG5cdCAqL1xuXHR2YXIgVXJsTWF0Y2hlciA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBVcmxNYXRjaGVyKHBhdHRlcm4sIGNvbmZpZykge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybjtcblx0ICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblx0ICAgICAgICB0aGlzLl9jYWNoZSA9IHsgcGF0aDogW10sIHBhdHRlcm46IG51bGwgfTtcblx0ICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3BhcmFtcyA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3NlZ21lbnRzID0gW107XG5cdCAgICAgICAgdGhpcy5fY29tcGlsZWQgPSBbXTtcblx0ICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbW1vbl8xLmRlZmF1bHRzKHRoaXMuY29uZmlnLCB7XG5cdCAgICAgICAgICAgIHBhcmFtczoge30sXG5cdCAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcblx0ICAgICAgICAgICAgY2FzZUluc2Vuc2l0aXZlOiBmYWxzZSxcblx0ICAgICAgICAgICAgcGFyYW1NYXA6IGNvbW1vbl8xLmlkZW50aXR5XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgLy8gRmluZCBhbGwgcGxhY2Vob2xkZXJzIGFuZCBjcmVhdGUgYSBjb21waWxlZCBwYXR0ZXJuLCB1c2luZyBlaXRoZXIgY2xhc3NpYyBvciBjdXJseSBzeW50YXg6XG5cdCAgICAgICAgLy8gICAnKicgbmFtZVxuXHQgICAgICAgIC8vICAgJzonIG5hbWVcblx0ICAgICAgICAvLyAgICd7JyBuYW1lICd9J1xuXHQgICAgICAgIC8vICAgJ3snIG5hbWUgJzonIHJlZ2V4cCAnfSdcblx0ICAgICAgICAvLyBUaGUgcmVndWxhciBleHByZXNzaW9uIGlzIHNvbWV3aGF0IGNvbXBsaWNhdGVkIGR1ZSB0byB0aGUgbmVlZCB0byBhbGxvdyBjdXJseSBicmFjZXNcblx0ICAgICAgICAvLyBpbnNpZGUgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi4gVGhlIHBsYWNlaG9sZGVyIHJlZ2V4cCBicmVha3MgZG93biBhcyBmb2xsb3dzOlxuXHQgICAgICAgIC8vICAgIChbOipdKShbXFx3XFxbXFxdXSspICAgICAgICAgICAgICAtIGNsYXNzaWMgcGxhY2Vob2xkZXIgKCQxIC8gJDIpIChzZWFyY2ggdmVyc2lvbiBoYXMgLSBmb3Igc25ha2UtY2FzZSlcblx0ICAgICAgICAvLyAgICBcXHsoW1xcd1xcW1xcXV0rKSg/OlxcOlxccyooIC4uLiApKT9cXH0gIC0gY3VybHkgYnJhY2UgcGxhY2Vob2xkZXIgKCQzKSB3aXRoIG9wdGlvbmFsIHJlZ2V4cC90eXBlIC4uLiAoJDQpIChzZWFyY2ggdmVyc2lvbiBoYXMgLSBmb3Igc25ha2UtY2FzZVxuXHQgICAgICAgIC8vICAgICg/OiAuLi4gfCAuLi4gfCAuLi4gKSsgICAgICAgICAtIHRoZSByZWdleHAgY29uc2lzdHMgb2YgYW55IG51bWJlciBvZiBhdG9tcywgYW4gYXRvbSBiZWluZyBlaXRoZXJcblx0ICAgICAgICAvLyAgICBbXnt9XFxcXF0rICAgICAgICAgICAgICAgICAgICAgICAtIGFueXRoaW5nIG90aGVyIHRoYW4gY3VybHkgYnJhY2VzIG9yIGJhY2tzbGFzaFxuXHQgICAgICAgIC8vICAgIFxcXFwuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gYSBiYWNrc2xhc2ggZXNjYXBlXG5cdCAgICAgICAgLy8gICAgXFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9ICAgICAgICAgIC0gYSBtYXRjaGVkIHNldCBvZiBjdXJseSBicmFjZXMgY29udGFpbmluZyBvdGhlciBhdG9tc1xuXHQgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IC8oWzoqXSkoW1xcd1xcW1xcXV0rKXxcXHsoW1xcd1xcW1xcXV0rKSg/OlxcOlxccyooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nLCBzZWFyY2hQbGFjZWhvbGRlciA9IC8oWzpdPykoW1xcd1xcW1xcXS4tXSspfFxceyhbXFx3XFxbXFxdLi1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZywgbGFzdCA9IDAsIG0sIHBhdHRlcm5zID0gW107XG5cdCAgICAgICAgdmFyIGNoZWNrUGFyYW1FcnJvcnMgPSBmdW5jdGlvbiAoaWQpIHtcblx0ICAgICAgICAgICAgaWYgKCFVcmxNYXRjaGVyLm5hbWVWYWxpZGF0b3IudGVzdChpZCkpXG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICdcIiArIGlkICsgXCInIGluIHBhdHRlcm4gJ1wiICsgcGF0dGVybiArIFwiJ1wiKTtcblx0ICAgICAgICAgICAgaWYgKGNvbW1vbl8xLmZpbmQoX3RoaXMuX3BhcmFtcywgaG9mXzEucHJvcEVxKCdpZCcsIGlkKSkpXG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUgcGFyYW1ldGVyIG5hbWUgJ1wiICsgaWQgKyBcIicgaW4gcGF0dGVybiAnXCIgKyBwYXR0ZXJuICsgXCInXCIpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gU3BsaXQgaW50byBzdGF0aWMgc2VnbWVudHMgc2VwYXJhdGVkIGJ5IHBhdGggcGFyYW1ldGVyIHBsYWNlaG9sZGVycy5cblx0ICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGlzIGFsd2F5cyAxIG1vcmUgdGhhbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXG5cdCAgICAgICAgdmFyIG1hdGNoRGV0YWlscyA9IGZ1bmN0aW9uIChtLCBpc1NlYXJjaCkge1xuXHQgICAgICAgICAgICAvLyBJRVs3OF0gcmV0dXJucyAnJyBmb3IgdW5tYXRjaGVkIGdyb3VwcyBpbnN0ZWFkIG9mIG51bGxcblx0ICAgICAgICAgICAgdmFyIGlkID0gbVsyXSB8fCBtWzNdLCByZWdleHAgPSBpc1NlYXJjaCA/IG1bNF0gOiBtWzRdIHx8IChtWzFdID09PSAnKicgPyAnLionIDogbnVsbCk7XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBpZDogaWQsXG5cdCAgICAgICAgICAgICAgICByZWdleHA6IHJlZ2V4cCxcblx0ICAgICAgICAgICAgICAgIGNmZzogX3RoaXMuY29uZmlnLnBhcmFtc1tpZF0sXG5cdCAgICAgICAgICAgICAgICBzZWdtZW50OiBwYXR0ZXJuLnN1YnN0cmluZyhsYXN0LCBtLmluZGV4KSxcblx0ICAgICAgICAgICAgICAgIHR5cGU6ICFyZWdleHAgPyBudWxsIDogbW9kdWxlXzEucGFyYW1UeXBlcy50eXBlKHJlZ2V4cCB8fCBcInN0cmluZ1wiKSB8fCBjb21tb25fMS5pbmhlcml0KG1vZHVsZV8xLnBhcmFtVHlwZXMudHlwZShcInN0cmluZ1wiKSwge1xuXHQgICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IG5ldyBSZWdFeHAocmVnZXhwLCBfdGhpcy5jb25maWcuY2FzZUluc2Vuc2l0aXZlID8gJ2knIDogdW5kZWZpbmVkKVxuXHQgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHZhciBwLCBzZWdtZW50O1xuXHQgICAgICAgIHdoaWxlICgobSA9IHBsYWNlaG9sZGVyLmV4ZWMocGF0dGVybikpKSB7XG5cdCAgICAgICAgICAgIHAgPSBtYXRjaERldGFpbHMobSwgZmFsc2UpO1xuXHQgICAgICAgICAgICBpZiAocC5zZWdtZW50LmluZGV4T2YoJz8nKSA+PSAwKVxuXHQgICAgICAgICAgICAgICAgYnJlYWs7IC8vIHdlJ3JlIGludG8gdGhlIHNlYXJjaCBwYXJ0XG5cdCAgICAgICAgICAgIGNoZWNrUGFyYW1FcnJvcnMocC5pZCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3BhcmFtcy5wdXNoKG1vZHVsZV8xLlBhcmFtLmZyb21QYXRoKHAuaWQsIHAudHlwZSwgdGhpcy5jb25maWcucGFyYW1NYXAocC5jZmcsIGZhbHNlKSkpO1xuXHQgICAgICAgICAgICB0aGlzLl9zZWdtZW50cy5wdXNoKHAuc2VnbWVudCk7XG5cdCAgICAgICAgICAgIHBhdHRlcm5zLnB1c2goW3Auc2VnbWVudCwgY29tbW9uXzEudGFpbCh0aGlzLl9wYXJhbXMpXSk7XG5cdCAgICAgICAgICAgIGxhc3QgPSBwbGFjZWhvbGRlci5sYXN0SW5kZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHNlZ21lbnQgPSBwYXR0ZXJuLnN1YnN0cmluZyhsYXN0KTtcblx0ICAgICAgICAvLyBGaW5kIGFueSBzZWFyY2ggcGFyYW1ldGVyIG5hbWVzIGFuZCByZW1vdmUgdGhlbSBmcm9tIHRoZSBsYXN0IHNlZ21lbnRcblx0ICAgICAgICB2YXIgaSA9IHNlZ21lbnQuaW5kZXhPZignPycpO1xuXHQgICAgICAgIGlmIChpID49IDApIHtcblx0ICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHNlZ21lbnQuc3Vic3RyaW5nKGkpO1xuXHQgICAgICAgICAgICBzZWdtZW50ID0gc2VnbWVudC5zdWJzdHJpbmcoMCwgaSk7XG5cdCAgICAgICAgICAgIGlmIChzZWFyY2gubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgbGFzdCA9IDA7XG5cdCAgICAgICAgICAgICAgICB3aGlsZSAoKG0gPSBzZWFyY2hQbGFjZWhvbGRlci5leGVjKHNlYXJjaCkpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcCA9IG1hdGNoRGV0YWlscyhtLCB0cnVlKTtcblx0ICAgICAgICAgICAgICAgICAgICBjaGVja1BhcmFtRXJyb3JzKHAuaWQpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcmFtcy5wdXNoKG1vZHVsZV8xLlBhcmFtLmZyb21TZWFyY2gocC5pZCwgcC50eXBlLCB0aGlzLmNvbmZpZy5wYXJhbU1hcChwLmNmZywgdHJ1ZSkpKTtcblx0ICAgICAgICAgICAgICAgICAgICBsYXN0ID0gcGxhY2Vob2xkZXIubGFzdEluZGV4O1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2goc2VnbWVudCk7XG5cdCAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIHtcblx0ICAgICAgICAgICAgX2NvbXBpbGVkOiBwYXR0ZXJucy5tYXAoZnVuY3Rpb24gKHBhdHRlcm4pIHsgcmV0dXJuIHF1b3RlUmVnRXhwLmFwcGx5KG51bGwsIHBhdHRlcm4pOyB9KS5jb25jYXQocXVvdGVSZWdFeHAoc2VnbWVudCkpLFxuXHQgICAgICAgICAgICBwcmVmaXg6IHRoaXMuX3NlZ21lbnRzWzBdXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcblx0ICAgIH1cblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjYXBwZW5kXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBAVE9ET1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiBAVE9ET1xuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7VXJsTWF0Y2hlcn0gdXJsIEEgYFVybE1hdGNoZXJgIGluc3RhbmNlIHRvIGFwcGVuZCBhcyBhIGNoaWxkIG9mIHRoZSBjdXJyZW50IGBVcmxNYXRjaGVyYC5cblx0ICAgICAqL1xuXHQgICAgVXJsTWF0Y2hlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHVybCkge1xuXHQgICAgICAgIHRoaXMuX2NoaWxkcmVuLnB1c2godXJsKTtcblx0ICAgICAgICBjb21tb25fMS5mb3JFYWNoKHVybC5fY2FjaGUsIGZ1bmN0aW9uICh2YWwsIGtleSkgeyByZXR1cm4gdXJsLl9jYWNoZVtrZXldID0gcHJlZGljYXRlc18xLmlzQXJyYXkodmFsKSA/IFtdIDogbnVsbDsgfSk7XG5cdCAgICAgICAgdXJsLl9jYWNoZS5wYXRoID0gdGhpcy5fY2FjaGUucGF0aC5jb25jYXQodGhpcyk7XG5cdCAgICAgICAgcmV0dXJuIHVybDtcblx0ICAgIH07XG5cdCAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS5pc1Jvb3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLnBhdGgubGVuZ3RoID09PSAwO1xuXHQgICAgfTtcblx0ICAgIFVybE1hdGNoZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm47XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAqIEBuYW1lIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciNleGVjXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBUZXN0cyB0aGUgc3BlY2lmaWVkIHBhdGggYWdhaW5zdCB0aGlzIG1hdGNoZXIsIGFuZCByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBjYXB0dXJlZFxuXHQgICAgICogcGFyYW1ldGVyIHZhbHVlcywgb3IgbnVsbCBpZiB0aGUgcGF0aCBkb2VzIG5vdCBtYXRjaC4gVGhlIHJldHVybmVkIG9iamVjdCBjb250YWlucyB0aGUgdmFsdWVzXG5cdCAgICAgKiBvZiBhbnkgc2VhcmNoIHBhcmFtZXRlcnMgdGhhdCBhcmUgbWVudGlvbmVkIGluIHRoZSBwYXR0ZXJuLCBidXQgdGhlaXIgdmFsdWUgbWF5IGJlIG51bGwgaWZcblx0ICAgICAqIHRoZXkgYXJlIG5vdCBwcmVzZW50IGluIGBzZWFyY2hgLiBUaGlzIG1lYW5zIHRoYXQgc2VhcmNoIHBhcmFtZXRlcnMgYXJlIGFsd2F5cyB0cmVhdGVkXG5cdCAgICAgKiBhcyBvcHRpb25hbC5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogPHByZT5cblx0ICAgICAqIG5ldyBVcmxNYXRjaGVyKCcvdXNlci97aWR9P3EmcicpLmV4ZWMoJy91c2VyL2JvYicsIHtcblx0ICAgICAqICAgeDogJzEnLCBxOiAnaGVsbG8nXG5cdCAgICAgKiB9KTtcblx0ICAgICAqIC8vIHJldHVybnMgeyBpZDogJ2JvYicsIHE6ICdoZWxsbycsIHI6IG51bGwgfVxuXHQgICAgICogPC9wcmU+XG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggIFRoZSBVUkwgcGF0aCB0byBtYXRjaCwgZS5nLiBgJGxvY2F0aW9uLnBhdGgoKWAuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VhcmNoICBVUkwgc2VhcmNoIHBhcmFtZXRlcnMsIGUuZy4gYCRsb2NhdGlvbi5zZWFyY2goKWAuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaGFzaCAgVVJMIGhhc2ggZS5nLiBgJGxvY2F0aW9uLmhhc2goKWAuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgICAgICogQHJldHVybnMge09iamVjdH0gIFRoZSBjYXB0dXJlZCBwYXJhbWV0ZXIgdmFsdWVzLlxuXHQgICAgICovXG5cdCAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKHBhdGgsIHNlYXJjaCwgaGFzaCwgb3B0aW9ucykge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgaWYgKHNlYXJjaCA9PT0gdm9pZCAwKSB7IHNlYXJjaCA9IHt9OyB9XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cblx0ICAgICAgICB2YXIgbWF0Y2ggPSBtZW1vaXplVG8odGhpcy5fY2FjaGUsICdwYXR0ZXJuJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChbXG5cdCAgICAgICAgICAgICAgICAnXicsXG5cdCAgICAgICAgICAgICAgICBjb21tb25fMS51bm5lc3QoX3RoaXMuX2NhY2hlLnBhdGguY29uY2F0KF90aGlzKS5tYXAoaG9mXzEucHJvcCgnX2NvbXBpbGVkJykpKS5qb2luKCcnKSxcblx0ICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZy5zdHJpY3QgPT09IGZhbHNlID8gJ1xcLz8nIDogJycsXG5cdCAgICAgICAgICAgICAgICAnJCdcblx0ICAgICAgICAgICAgXS5qb2luKCcnKSwgX3RoaXMuY29uZmlnLmNhc2VJbnNlbnNpdGl2ZSA/ICdpJyA6IHVuZGVmaW5lZCk7XG5cdCAgICAgICAgfSkuZXhlYyhwYXRoKTtcblx0ICAgICAgICBpZiAoIW1hdGNoKVxuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAvL29wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7IGlzb2xhdGU6IGZhbHNlIH0pO1xuXHQgICAgICAgIHZhciBhbGxQYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnMoKSwgcGF0aFBhcmFtcyA9IGFsbFBhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhcGFyYW0uaXNTZWFyY2goKTsgfSksIHNlYXJjaFBhcmFtcyA9IGFsbFBhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBwYXJhbS5pc1NlYXJjaCgpOyB9KSwgblBhdGhTZWdtZW50cyA9IHRoaXMuX2NhY2hlLnBhdGguY29uY2F0KHRoaXMpLm1hcChmdW5jdGlvbiAodXJsbSkgeyByZXR1cm4gdXJsbS5fc2VnbWVudHMubGVuZ3RoIC0gMTsgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCB4KSB7IHJldHVybiBhICsgeDsgfSksIHZhbHVlcyA9IHt9O1xuXHQgICAgICAgIGlmIChuUGF0aFNlZ21lbnRzICE9PSBtYXRjaC5sZW5ndGggLSAxKVxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmJhbGFuY2VkIGNhcHR1cmUgZ3JvdXAgaW4gcm91dGUgJ1wiICsgdGhpcy5wYXR0ZXJuICsgXCInXCIpO1xuXHQgICAgICAgIGZ1bmN0aW9uIGRlY29kZVBhdGhBcnJheShzdHJpbmcpIHtcblx0ICAgICAgICAgICAgdmFyIHJldmVyc2VTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHIuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik7IH07XG5cdCAgICAgICAgICAgIHZhciB1bnF1b3RlRGFzaGVzID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFwtL2csIFwiLVwiKTsgfTtcblx0ICAgICAgICAgICAgdmFyIHNwbGl0ID0gcmV2ZXJzZVN0cmluZyhzdHJpbmcpLnNwbGl0KC8tKD8hXFxcXCkvKTtcblx0ICAgICAgICAgICAgdmFyIGFsbFJldmVyc2VkID0gY29tbW9uXzEubWFwKHNwbGl0LCByZXZlcnNlU3RyaW5nKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcChhbGxSZXZlcnNlZCwgdW5xdW90ZURhc2hlcykucmV2ZXJzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5QYXRoU2VnbWVudHM7IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgcGFyYW0gPSBwYXRoUGFyYW1zW2ldO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaFtpICsgMV07XG5cdCAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJhbSB2YWx1ZSBtYXRjaGVzIGEgcHJlLXJlcGxhY2UgcGFpciwgcmVwbGFjZSB0aGUgdmFsdWUgYmVmb3JlIGRlY29kaW5nLlxuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcmFtLnJlcGxhY2UubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChwYXJhbS5yZXBsYWNlW2pdLmZyb20gPT09IHZhbHVlKVxuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0ucmVwbGFjZVtqXS50bztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodmFsdWUgJiYgcGFyYW0uYXJyYXkgPT09IHRydWUpXG5cdCAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlY29kZVBhdGhBcnJheSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzIuaXNEZWZpbmVkKHZhbHVlKSlcblx0ICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0udHlwZS5kZWNvZGUodmFsdWUpO1xuXHQgICAgICAgICAgICB2YWx1ZXNbcGFyYW0uaWRdID0gcGFyYW0udmFsdWUodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjb21tb25fMS5mb3JFYWNoKHNlYXJjaFBhcmFtcywgZnVuY3Rpb24gKHBhcmFtKSB7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNlYXJjaFtwYXJhbS5pZF07XG5cdCAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFyYW0ucmVwbGFjZS5sZW5ndGg7IGorKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKHBhcmFtLnJlcGxhY2Vbal0uZnJvbSA9PT0gdmFsdWUpXG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJhbS5yZXBsYWNlW2pdLnRvO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzIuaXNEZWZpbmVkKHZhbHVlKSlcblx0ICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0udHlwZS5kZWNvZGUodmFsdWUpO1xuXHQgICAgICAgICAgICB2YWx1ZXNbcGFyYW0uaWRdID0gcGFyYW0udmFsdWUodmFsdWUpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGlmIChoYXNoKVxuXHQgICAgICAgICAgICB2YWx1ZXNbXCIjXCJdID0gaGFzaDtcblx0ICAgICAgICByZXR1cm4gdmFsdWVzO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjcGFyYW1ldGVyc1xuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlclxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogUmV0dXJucyB0aGUgbmFtZXMgb2YgYWxsIHBhdGggYW5kIHNlYXJjaCBwYXJhbWV0ZXJzIG9mIHRoaXMgcGF0dGVybiBpbiBvcmRlciBvZiBhcHBlYXJhbmNlLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtBcnJheS48UGFyYW0+fSAgQW4gYXJyYXkgb2YgW1tQYXJhbV1dIG9iamVjdHMuIE11c3QgYmUgdHJlYXRlZCBhcyByZWFkLW9ubHkuIElmIHRoZVxuXHQgICAgICogICAgcGF0dGVybiBoYXMgbm8gcGFyYW1ldGVycywgYW4gZW1wdHkgYXJyYXkgaXMgcmV0dXJuZWQuXG5cdCAgICAgKi9cblx0ICAgIFVybE1hdGNoZXIucHJvdG90eXBlLnBhcmFtZXRlcnMgPSBmdW5jdGlvbiAob3B0cykge1xuXHQgICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG5cdCAgICAgICAgaWYgKG9wdHMuaW5oZXJpdCA9PT0gZmFsc2UpXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnVubmVzdCh0aGlzLl9jYWNoZS5wYXRoLmNvbmNhdCh0aGlzKS5tYXAoaG9mXzEucHJvcCgnX3BhcmFtcycpKSk7XG5cdCAgICB9O1xuXHQgICAgVXJsTWF0Y2hlci5wcm90b3R5cGUucGFyYW1ldGVyID0gZnVuY3Rpb24gKGlkLCBvcHRzKSB7XG5cdCAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cblx0ICAgICAgICB2YXIgcGFyZW50ID0gY29tbW9uXzEudGFpbCh0aGlzLl9jYWNoZS5wYXRoKTtcblx0ICAgICAgICByZXR1cm4gKGNvbW1vbl8xLmZpbmQodGhpcy5fcGFyYW1zLCBob2ZfMS5wcm9wRXEoJ2lkJywgaWQpKSB8fFxuXHQgICAgICAgICAgICAob3B0cy5pbmhlcml0ICE9PSBmYWxzZSAmJiBwYXJlbnQgJiYgcGFyZW50LnBhcmFtZXRlcihpZCkpIHx8XG5cdCAgICAgICAgICAgIG51bGwpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjdmFsaWRhdGVzXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBDaGVja3MgYW4gb2JqZWN0IGhhc2ggb2YgcGFyYW1ldGVycyB0byB2YWxpZGF0ZSB0aGVpciBjb3JyZWN0bmVzcyBhY2NvcmRpbmcgdG8gdGhlIHBhcmFtZXRlclxuXHQgICAgICogdHlwZXMgb2YgdGhpcyBgVXJsTWF0Y2hlcmAuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBUaGUgb2JqZWN0IGhhc2ggb2YgcGFyYW1ldGVycyB0byB2YWxpZGF0ZS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGFyYW1zYCB2YWxpZGF0ZXMsIG90aGVyd2lzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS52YWxpZGF0ZXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB2YXIgdmFsaWRQYXJhbVZhbCA9IGZ1bmN0aW9uIChwYXJhbSwgdmFsKSB7IHJldHVybiAhcGFyYW0gfHwgcGFyYW0udmFsaWRhdGVzKHZhbCk7IH07XG5cdCAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnBhaXJzKHBhcmFtcyB8fCB7fSkubWFwKGZ1bmN0aW9uIChfYSkge1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gX2FbMF0sIHZhbCA9IF9hWzFdO1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsaWRQYXJhbVZhbChfdGhpcy5wYXJhbWV0ZXIoa2V5KSwgdmFsKTtcblx0ICAgICAgICB9KS5yZWR1Y2UoY29tbW9uXzEuYWxsVHJ1ZVIsIHRydWUpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjZm9ybWF0XG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBDcmVhdGVzIGEgVVJMIHRoYXQgbWF0Y2hlcyB0aGlzIHBhdHRlcm4gYnkgc3Vic3RpdHV0aW5nIHRoZSBzcGVjaWZpZWQgdmFsdWVzXG5cdCAgICAgKiBmb3IgdGhlIHBhdGggYW5kIHNlYXJjaCBwYXJhbWV0ZXJzLiBOdWxsIHZhbHVlcyBmb3IgcGF0aCBwYXJhbWV0ZXJzIGFyZVxuXHQgICAgICogdHJlYXRlZCBhcyBlbXB0eSBzdHJpbmdzLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiA8cHJlPlxuXHQgICAgICogbmV3IFVybE1hdGNoZXIoJy91c2VyL3tpZH0/cScpLmZvcm1hdCh7IGlkOidib2InLCBxOid5ZXMnIH0pO1xuXHQgICAgICogLy8gcmV0dXJucyAnL3VzZXIvYm9iP3E9eWVzJ1xuXHQgICAgICogPC9wcmU+XG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlcyAgdGhlIHZhbHVlcyB0byBzdWJzdGl0dXRlIGZvciB0aGUgcGFyYW1ldGVycyBpbiB0aGlzIHBhdHRlcm4uXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAgdGhlIGZvcm1hdHRlZCBVUkwgKHBhdGggYW5kIG9wdGlvbmFsbHkgc2VhcmNoIHBhcnQpLlxuXHQgICAgICovXG5cdCAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlcyA9PT0gdm9pZCAwKSB7IHZhbHVlcyA9IHt9OyB9XG5cdCAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlcyh2YWx1ZXMpKVxuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAvLyBCdWlsZCB0aGUgZnVsbCBwYXRoIG9mIFVybE1hdGNoZXJzIChpbmNsdWRpbmcgYWxsIHBhcmVudCBVcmxNYXRjaGVycylcblx0ICAgICAgICB2YXIgdXJsTWF0Y2hlcnMgPSB0aGlzLl9jYWNoZS5wYXRoLnNsaWNlKCkuY29uY2F0KHRoaXMpO1xuXHQgICAgICAgIC8vIEV4dHJhY3QgYWxsIHRoZSBzdGF0aWMgc2VnbWVudHMgYW5kIFBhcmFtcyBpbnRvIGFuIG9yZGVyZWQgYXJyYXlcblx0ICAgICAgICB2YXIgcGF0aFNlZ21lbnRzQW5kUGFyYW1zID0gdXJsTWF0Y2hlcnMubWFwKFVybE1hdGNoZXIucGF0aFNlZ21lbnRzQW5kUGFyYW1zKS5yZWR1Y2UoY29tbW9uXzIudW5uZXN0UiwgW10pO1xuXHQgICAgICAgIC8vIEV4dHJhY3QgdGhlIHF1ZXJ5IHBhcmFtcyBpbnRvIGEgc2VwYXJhdGUgYXJyYXlcblx0ICAgICAgICB2YXIgcXVlcnlQYXJhbXMgPSB1cmxNYXRjaGVycy5tYXAoVXJsTWF0Y2hlci5xdWVyeVBhcmFtcykucmVkdWNlKGNvbW1vbl8yLnVubmVzdFIsIFtdKTtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBHaXZlbiBhIFBhcmFtLFxuXHQgICAgICAgICAqIEFwcGxpZXMgdGhlIHBhcmFtZXRlciB2YWx1ZSwgdGhlbiByZXR1cm5zIGRldGFpbHMgYWJvdXQgaXRcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBmdW5jdGlvbiBnZXREZXRhaWxzKHBhcmFtKSB7XG5cdCAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSB0byB0eXBlZCB2YWx1ZVxuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJhbS52YWx1ZSh2YWx1ZXNbcGFyYW0uaWRdKTtcblx0ICAgICAgICAgICAgdmFyIGlzRGVmYXVsdFZhbHVlID0gcGFyYW0uaXNEZWZhdWx0VmFsdWUodmFsdWUpO1xuXHQgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBpbiBzcXVhc2ggbW9kZSBmb3IgdGhlIHBhcmFtZXRlclxuXHQgICAgICAgICAgICB2YXIgc3F1YXNoID0gaXNEZWZhdWx0VmFsdWUgPyBwYXJhbS5zcXVhc2ggOiBmYWxzZTtcblx0ICAgICAgICAgICAgLy8gQWxsb3cgdGhlIFBhcmFtZXRlcidzIFR5cGUgdG8gZW5jb2RlIHRoZSB2YWx1ZVxuXHQgICAgICAgICAgICB2YXIgZW5jb2RlZCA9IHBhcmFtLnR5cGUuZW5jb2RlKHZhbHVlKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHsgcGFyYW06IHBhcmFtLCB2YWx1ZTogdmFsdWUsIGlzRGVmYXVsdFZhbHVlOiBpc0RlZmF1bHRWYWx1ZSwgc3F1YXNoOiBzcXVhc2gsIGVuY29kZWQ6IGVuY29kZWQgfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gQnVpbGQgdXAgdGhlIHBhdGgtcG9ydGlvbiBmcm9tIHRoZSBsaXN0IG9mIHN0YXRpYyBzZWdtZW50cyBhbmQgcGFyYW1ldGVyc1xuXHQgICAgICAgIHZhciBwYXRoU3RyaW5nID0gcGF0aFNlZ21lbnRzQW5kUGFyYW1zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB4KSB7XG5cdCAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGlzIGEgc3RhdGljIHNlZ21lbnQgKGEgcmF3IHN0cmluZyk7IGp1c3QgYXBwZW5kIGl0XG5cdCAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoeCkpXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gYWNjICsgeDtcblx0ICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpdCdzIGEgUGFyYW0uICBGZXRjaCBkZXRhaWxzIGFib3V0IHRoZSBwYXJhbWV0ZXIgdmFsdWVcblx0ICAgICAgICAgICAgdmFyIF9hID0gZ2V0RGV0YWlscyh4KSwgc3F1YXNoID0gX2Euc3F1YXNoLCBlbmNvZGVkID0gX2EuZW5jb2RlZCwgcGFyYW0gPSBfYS5wYXJhbTtcblx0ICAgICAgICAgICAgLy8gSWYgc3F1YXNoIGlzID09PSB0cnVlLCB0cnkgdG8gcmVtb3ZlIGEgc2xhc2ggZnJvbSB0aGUgcGF0aFxuXHQgICAgICAgICAgICBpZiAoc3F1YXNoID09PSB0cnVlKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIChhY2MubWF0Y2goL1xcLyQvKSkgPyBhY2Muc2xpY2UoMCwgLTEpIDogYWNjO1xuXHQgICAgICAgICAgICAvLyBJZiBzcXVhc2ggaXMgYSBzdHJpbmcsIHVzZSB0aGUgc3RyaW5nIGZvciB0aGUgcGFyYW0gdmFsdWVcblx0ICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzcXVhc2gpKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHNxdWFzaDtcblx0ICAgICAgICAgICAgaWYgKHNxdWFzaCAhPT0gZmFsc2UpXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gYWNjOyAvLyA/XG5cdCAgICAgICAgICAgIGlmIChlbmNvZGVkID09IG51bGwpXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuXHQgICAgICAgICAgICAvLyBJZiB0aGlzIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBhcnJheSwgZW5jb2RlIHRoZSB2YWx1ZSB1c2luZyBlbmNvZGVEYXNoZXNcblx0ICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0FycmF5KGVuY29kZWQpKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIGNvbW1vbl8xLm1hcChlbmNvZGVkLCBVcmxNYXRjaGVyLmVuY29kZURhc2hlcykuam9pbihcIi1cIik7XG5cdCAgICAgICAgICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgdHlwZSBpcyBcInJhd1wiLCB0aGVuIGRvIG5vdCBlbmNvZGVVUklDb21wb25lbnRcblx0ICAgICAgICAgICAgaWYgKHBhcmFtLnR5cGUucmF3KVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIGVuY29kZWQ7XG5cdCAgICAgICAgICAgIC8vIEVuY29kZSB0aGUgdmFsdWVcblx0ICAgICAgICAgICAgcmV0dXJuIGFjYyArIGVuY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcblx0ICAgICAgICB9LCBcIlwiKTtcblx0ICAgICAgICAvLyBCdWlsZCB0aGUgcXVlcnkgc3RyaW5nIGJ5IGFwcGx5aW5nIHBhcmFtZXRlciB2YWx1ZXMgKGFycmF5IG9yIHJlZ3VsYXIpXG5cdCAgICAgICAgLy8gdGhlbiBtYXBwaW5nIHRvIGtleT12YWx1ZSwgdGhlbiBmbGF0dGVuaW5nIGFuZCBqb2luaW5nIHVzaW5nIFwiJlwiXG5cdCAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcXVlcnlQYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuXHQgICAgICAgICAgICB2YXIgX2EgPSBnZXREZXRhaWxzKHBhcmFtKSwgc3F1YXNoID0gX2Euc3F1YXNoLCBlbmNvZGVkID0gX2EuZW5jb2RlZCwgaXNEZWZhdWx0VmFsdWUgPSBfYS5pc0RlZmF1bHRWYWx1ZTtcblx0ICAgICAgICAgICAgaWYgKGVuY29kZWQgPT0gbnVsbCB8fCAoaXNEZWZhdWx0VmFsdWUgJiYgc3F1YXNoICE9PSBmYWxzZSkpXG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzQXJyYXkoZW5jb2RlZCkpXG5cdCAgICAgICAgICAgICAgICBlbmNvZGVkID0gW2VuY29kZWRdO1xuXHQgICAgICAgICAgICBpZiAoZW5jb2RlZC5sZW5ndGggPT09IDApXG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIGlmICghcGFyYW0udHlwZS5yYXcpXG5cdCAgICAgICAgICAgICAgICBlbmNvZGVkID0gY29tbW9uXzEubWFwKGVuY29kZWQsIGVuY29kZVVSSUNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiBlbmNvZGVkLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiAocGFyYW0uaWQgKyBcIj1cIiArIHZhbCk7IH0pO1xuXHQgICAgICAgIH0pLmZpbHRlcihjb21tb25fMS5pZGVudGl0eSkucmVkdWNlKGNvbW1vbl8yLnVubmVzdFIsIFtdKS5qb2luKFwiJlwiKTtcblx0ICAgICAgICAvLyBDb25jYXQgdGhlIHBhdGhzdHJpbmcgd2l0aCB0aGUgcXVlcnlTdHJpbmcgKGlmIGV4aXN0cykgYW5kIHRoZSBoYXNoU3RyaW5nIChpZiBleGlzdHMpXG5cdCAgICAgICAgcmV0dXJuIHBhdGhTdHJpbmcgKyAocXVlcnlTdHJpbmcgPyBcIj9cIiArIHF1ZXJ5U3RyaW5nIDogXCJcIikgKyAodmFsdWVzW1wiI1wiXSA/IFwiI1wiICsgdmFsdWVzW1wiI1wiXSA6IFwiXCIpO1xuXHQgICAgfTtcblx0ICAgIFVybE1hdGNoZXIuZW5jb2RlRGFzaGVzID0gZnVuY3Rpb24gKHN0cikge1xuXHQgICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC8tL2csIGZ1bmN0aW9uIChjKSB7IHJldHVybiAoXCIlNUMlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpOyB9KTtcblx0ICAgIH07XG5cdCAgICAvKiogR2l2ZW4gYSBtYXRjaGVyLCByZXR1cm4gYW4gYXJyYXkgd2l0aCB0aGUgbWF0Y2hlcidzIHBhdGggc2VnbWVudHMgYW5kIHBhdGggcGFyYW1zLCBpbiBvcmRlciAqL1xuXHQgICAgVXJsTWF0Y2hlci5wYXRoU2VnbWVudHNBbmRQYXJhbXMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuXHQgICAgICAgIHZhciBzdGF0aWNTZWdtZW50cyA9IG1hdGNoZXIuX3NlZ21lbnRzO1xuXHQgICAgICAgIHZhciBwYXRoUGFyYW1zID0gbWF0Y2hlci5fcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5sb2NhdGlvbiA9PT0gcGFyYW1fMS5EZWZUeXBlLlBBVEg7IH0pO1xuXHQgICAgICAgIHJldHVybiBjb21tb25fMy5hcnJheVR1cGxlcyhzdGF0aWNTZWdtZW50cywgcGF0aFBhcmFtcy5jb25jYXQodW5kZWZpbmVkKSkucmVkdWNlKGNvbW1vbl8yLnVubmVzdFIsIFtdKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09IFwiXCIgJiYgcHJlZGljYXRlc18yLmlzRGVmaW5lZCh4KTsgfSk7XG5cdCAgICB9O1xuXHQgICAgLyoqIEdpdmVuIGEgbWF0Y2hlciwgcmV0dXJuIGFuIGFycmF5IHdpdGggdGhlIG1hdGNoZXIncyBxdWVyeSBwYXJhbXMgKi9cblx0ICAgIFVybE1hdGNoZXIucXVlcnlQYXJhbXMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuXHQgICAgICAgIHJldHVybiBtYXRjaGVyLl9wYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLmxvY2F0aW9uID09PSBwYXJhbV8xLkRlZlR5cGUuU0VBUkNIOyB9KTtcblx0ICAgIH07XG5cdCAgICBVcmxNYXRjaGVyLm5hbWVWYWxpZGF0b3IgPSAvXlxcdysoWy0uXStcXHcrKSooPzpcXFtcXF0pPyQvO1xuXHQgICAgcmV0dXJuIFVybE1hdGNoZXI7XG5cdH0oKSk7XG5cdGV4cG9ydHMuVXJsTWF0Y2hlciA9IFVybE1hdGNoZXI7XG5cblxuLyoqKi8gfSxcbi8qIDQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIEBtb2R1bGUgdXJsICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIG1vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cdHZhciBtb2R1bGVfMiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRmdW5jdGlvbiBnZXREZWZhdWx0Q29uZmlnKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBzdHJpY3Q6IG1vZHVsZV8xLm1hdGNoZXJDb25maWcuc3RyaWN0TW9kZSgpLFxuXHQgICAgICAgIGNhc2VJbnNlbnNpdGl2ZTogbW9kdWxlXzEubWF0Y2hlckNvbmZpZy5jYXNlSW5zZW5zaXRpdmUoKVxuXHQgICAgfTtcblx0fVxuXHQvKipcblx0ICogRmFjdG9yeSBmb3IgW1tVcmxNYXRjaGVyXV0gaW5zdGFuY2VzLlxuXHQgKlxuXHQgKiBUaGUgZmFjdG9yeSBpcyBhdmFpbGFibGUgdG8gbmcxIHNlcnZpY2VzIGFzXG5cdCAqIGAkdXJsTWF0Y2hlckZhY3RvcmAgb3IgbmcxIHByb3ZpZGVycyBhcyBgJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJgLlxuXHQgKi9cblx0dmFyIFVybE1hdGNoZXJGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFVybE1hdGNoZXJGYWN0b3J5KCkge1xuXHQgICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLCB7IFVybE1hdGNoZXI6IG1vZHVsZV8xLlVybE1hdGNoZXIsIFBhcmFtOiBtb2R1bGVfMi5QYXJhbSB9KTtcblx0ICAgIH1cblx0ICAgIC8qKlxuXHQgICAgICogRGVmaW5lcyB3aGV0aGVyIFVSTCBtYXRjaGluZyBzaG91bGQgYmUgY2FzZSBzZW5zaXRpdmUgKHRoZSBkZWZhdWx0IGJlaGF2aW9yKSwgb3Igbm90LlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB2YWx1ZSBgZmFsc2VgIHRvIG1hdGNoIFVSTCBpbiBhIGNhc2Ugc2Vuc2l0aXZlIG1hbm5lcjsgb3RoZXJ3aXNlIGB0cnVlYDtcblx0ICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIGNhc2VJbnNlbnNpdGl2ZVxuXHQgICAgICovXG5cdCAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuY2FzZUluc2Vuc2l0aXZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIG1vZHVsZV8xLm1hdGNoZXJDb25maWcuY2FzZUluc2Vuc2l0aXZlKHZhbHVlKTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIERlZmluZXMgd2hldGhlciBVUkxzIHNob3VsZCBtYXRjaCB0cmFpbGluZyBzbGFzaGVzLCBvciBub3QgKHRoZSBkZWZhdWx0IGJlaGF2aW9yKS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gdmFsdWUgYGZhbHNlYCB0byBtYXRjaCB0cmFpbGluZyBzbGFzaGVzIGluIFVSTHMsIG90aGVyd2lzZSBgdHJ1ZWAuXG5cdCAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiBzdHJpY3RNb2RlXG5cdCAgICAgKi9cblx0ICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5zdHJpY3RNb2RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIG1vZHVsZV8xLm1hdGNoZXJDb25maWcuc3RyaWN0TW9kZSh2YWx1ZSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIHdoZW4gZ2VuZXJhdGluZyBvciBtYXRjaGluZyBVUkxzIHdpdGggZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB2YWx1ZSBBIHN0cmluZyB0aGF0IGRlZmluZXMgdGhlIGRlZmF1bHQgcGFyYW1ldGVyIFVSTCBzcXVhc2hpbmcgYmVoYXZpb3IuXG5cdCAgICAgKiAgICAtIGBub3NxdWFzaGA6IFdoZW4gZ2VuZXJhdGluZyBhbiBocmVmIHdpdGggYSBkZWZhdWx0IHBhcmFtZXRlciB2YWx1ZSwgZG8gbm90IHNxdWFzaCB0aGUgcGFyYW1ldGVyIHZhbHVlIGZyb20gdGhlIFVSTFxuXHQgICAgICogICAgLSBgc2xhc2hgOiBXaGVuIGdlbmVyYXRpbmcgYW4gaHJlZiB3aXRoIGEgZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWUsIHNxdWFzaCAocmVtb3ZlKSB0aGUgcGFyYW1ldGVyIHZhbHVlLCBhbmQsIGlmIHRoZVxuXHQgICAgICogICAgICAgICAgICAgcGFyYW1ldGVyIGlzIHN1cnJvdW5kZWQgYnkgc2xhc2hlcywgc3F1YXNoIChyZW1vdmUpIG9uZSBzbGFzaCBmcm9tIHRoZSBVUkxcblx0ICAgICAqICAgIC0gYW55IG90aGVyIHN0cmluZywgZS5nLiBcIn5cIjogV2hlbiBnZW5lcmF0aW5nIGFuIGhyZWYgd2l0aCBhIGRlZmF1bHQgcGFyYW1ldGVyIHZhbHVlLCBzcXVhc2ggKHJlbW92ZSlcblx0ICAgICAqICAgICAgICAgICAgIHRoZSBwYXJhbWV0ZXIgdmFsdWUgZnJvbSB0aGUgVVJMIGFuZCByZXBsYWNlIGl0IHdpdGggdGhpcyBzdHJpbmcuXG5cdCAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiBkZWZhdWx0U3F1YXNoUG9saWN5XG5cdCAgICAgKi9cblx0ICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5kZWZhdWx0U3F1YXNoUG9saWN5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIG1vZHVsZV8xLm1hdGNoZXJDb25maWcuZGVmYXVsdFNxdWFzaFBvbGljeSh2YWx1ZSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgW1tVcmxNYXRjaGVyXV0gZm9yIHRoZSBzcGVjaWZpZWQgcGF0dGVybi5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gcGF0dGVybiAgVGhlIFVSTCBwYXR0ZXJuLlxuXHQgICAgICogQHBhcmFtIGNvbmZpZyAgVGhlIGNvbmZpZyBvYmplY3QgaGFzaC5cblx0ICAgICAqIEByZXR1cm5zIFRoZSBVcmxNYXRjaGVyLlxuXHQgICAgICovXG5cdCAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBjb25maWcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IG1vZHVsZV8xLlVybE1hdGNoZXIocGF0dGVybiwgY29tbW9uXzEuZXh0ZW5kKGdldERlZmF1bHRDb25maWcoKSwgY29uZmlnKSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgaXMgYSBbW1VybE1hdGNoZXJdXSwgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSBvYmplY3QgIFRoZSBvYmplY3QgdG8gcGVyZm9ybSB0aGUgdHlwZSBjaGVjayBhZ2FpbnN0LlxuXHQgICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3QgbWF0Y2hlcyB0aGUgYFVybE1hdGNoZXJgIGludGVyZmFjZSwgYnlcblx0ICAgICAqICAgICAgICAgIGltcGxlbWVudGluZyBhbGwgdGhlIHNhbWUgbWV0aG9kcy5cblx0ICAgICAqL1xuXHQgICAgVXJsTWF0Y2hlckZhY3RvcnkucHJvdG90eXBlLmlzTWF0Y2hlciA9IGZ1bmN0aW9uIChvYmplY3QpIHtcblx0ICAgICAgICAvLyBUT0RPOiB0eXBlb2Y/XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNPYmplY3Qob2JqZWN0KSlcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuXHQgICAgICAgIGNvbW1vbl8xLmZvckVhY2gobW9kdWxlXzEuVXJsTWF0Y2hlci5wcm90b3R5cGUsIGZ1bmN0aW9uICh2YWwsIG5hbWUpIHtcblx0ICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKHZhbCkpXG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgJiYgKHByZWRpY2F0ZXNfMS5pc0RlZmluZWQob2JqZWN0W25hbWVdKSAmJiBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihvYmplY3RbbmFtZV0pKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfTtcblx0ICAgIDtcblx0ICAgIC8qKlxuXHQgICAgICogUmVnaXN0ZXJzIGEgY3VzdG9tIFtbVHlwZV1dIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIFVSTHMgd2l0aCB0eXBlZCBwYXJhbWV0ZXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSBuYW1lICBUaGUgdHlwZSBuYW1lLlxuXHQgICAgICogQHBhcmFtIGRlZmluaXRpb24gVGhlIHR5cGUgZGVmaW5pdGlvbi4gU2VlIFtbVHlwZV1dIGZvciBpbmZvcm1hdGlvbiBvbiB0aGUgdmFsdWVzIGFjY2VwdGVkLlxuXHQgICAgICogQHBhcmFtIGRlZmluaXRpb25GbiBBIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYmVmb3JlIHRoZSBhcHBcblx0ICAgICAqICAgICAgICBydW50aW1lIHN0YXJ0cy4gIFRoZSByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiBpcyBtZXJnZWQgaW50byB0aGUgZXhpc3RpbmcgYGRlZmluaXRpb25gLlxuXHQgICAgICogICAgICAgIFNlZSBbW1R5cGVdXSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIHZhbHVlcyBhY2NlcHRlZC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyAtIGlmIGEgdHlwZSB3YXMgcmVnaXN0ZXJlZDogdGhlIFtbVXJsTWF0Y2hlckZhY3RvcnldXVxuXHQgICAgICogICAtIGlmIG9ubHkgdGhlIGBuYW1lYCBwYXJhbWV0ZXIgd2FzIHNwZWNpZmllZDogdGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIFtbVHlwZV1dIG9iamVjdCwgb3IgdW5kZWZpbmVkXG5cdCAgICAgKlxuXHQgICAgICogLS0tXG5cdCAgICAgKlxuXHQgICAgICogVGhpcyBpcyBhIHNpbXBsZSBleGFtcGxlIG9mIGEgY3VzdG9tIHR5cGUgdGhhdCBlbmNvZGVzIGFuZCBkZWNvZGVzIGl0ZW1zIGZyb20gYW5cblx0ICAgICAqIGFycmF5LCB1c2luZyB0aGUgYXJyYXkgaW5kZXggYXMgdGhlIFVSTC1lbmNvZGVkIHZhbHVlOlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiBgYGBcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgbGlzdCA9IFsnSm9obicsICdQYXVsJywgJ0dlb3JnZScsICdSaW5nbyddO1xuXHQgICAgICpcblx0ICAgICAqICR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyLnR5cGUoJ2xpc3RJdGVtJywge1xuXHQgICAgICogICBlbmNvZGU6IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgICAqICAgICAvLyBSZXByZXNlbnQgdGhlIGxpc3QgaXRlbSBpbiB0aGUgVVJMIHVzaW5nIGl0cyBjb3JyZXNwb25kaW5nIGluZGV4XG5cdCAgICAgKiAgICAgcmV0dXJuIGxpc3QuaW5kZXhPZihpdGVtKTtcblx0ICAgICAqICAgfSxcblx0ICAgICAqICAgZGVjb2RlOiBmdW5jdGlvbihpdGVtKSB7XG5cdCAgICAgKiAgICAgLy8gTG9vayB1cCB0aGUgbGlzdCBpdGVtIGJ5IGluZGV4XG5cdCAgICAgKiAgICAgcmV0dXJuIGxpc3RbcGFyc2VJbnQoaXRlbSwgMTApXTtcblx0ICAgICAqICAgfSxcblx0ICAgICAqICAgaXM6IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgICAqICAgICAvLyBFbnN1cmUgdGhlIGl0ZW0gaXMgdmFsaWQgYnkgY2hlY2tpbmcgdG8gc2VlIHRoYXQgaXQgYXBwZWFyc1xuXHQgICAgICogICAgIC8vIGluIHRoZSBsaXN0XG5cdCAgICAgKiAgICAgcmV0dXJuIGxpc3QuaW5kZXhPZihpdGVtKSA+IC0xO1xuXHQgICAgICogICB9XG5cdCAgICAgKiB9KTtcblx0ICAgICAqXG5cdCAgICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZSgnbGlzdCcsIHtcblx0ICAgICAqICAgdXJsOiBcIi9saXN0L3tpdGVtOmxpc3RJdGVtfVwiLFxuXHQgICAgICogICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xuXHQgICAgICogICAgIGNvbnNvbGUubG9nKCRzdGF0ZVBhcmFtcy5pdGVtKTtcblx0ICAgICAqICAgfVxuXHQgICAgICogfSk7XG5cdCAgICAgKlxuXHQgICAgICogLy8gLi4uXG5cdCAgICAgKlxuXHQgICAgICogLy8gQ2hhbmdlcyBVUkwgdG8gJy9saXN0LzMnLCBsb2dzIFwiUmluZ29cIiB0byB0aGUgY29uc29sZVxuXHQgICAgICogJHN0YXRlLmdvKCdsaXN0JywgeyBpdGVtOiBcIlJpbmdvXCIgfSk7XG5cdCAgICAgKiBgYGBcblx0ICAgICAqL1xuXHQgICAgVXJsTWF0Y2hlckZhY3RvcnkucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbkZuKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBtb2R1bGVfMi5wYXJhbVR5cGVzLnR5cGUobmFtZSwgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbkZuKTtcblx0ICAgICAgICByZXR1cm4gIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoZGVmaW5pdGlvbikgPyB0eXBlIDogdGhpcztcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICAvKiogQGhpZGRlbiAqL1xuXHQgICAgVXJsTWF0Y2hlckZhY3RvcnkucHJvdG90eXBlLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgbW9kdWxlXzIucGFyYW1UeXBlcy5lbnF1ZXVlID0gZmFsc2U7XG5cdCAgICAgICAgbW9kdWxlXzIucGFyYW1UeXBlcy5fZmx1c2hUeXBlUXVldWUoKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICByZXR1cm4gVXJsTWF0Y2hlckZhY3Rvcnk7XG5cdH0oKSk7XG5cdGV4cG9ydHMuVXJsTWF0Y2hlckZhY3RvcnkgPSBVcmxNYXRjaGVyRmFjdG9yeTtcblxuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSB1cmwgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgJGxvY2F0aW9uID0gY29yZXNlcnZpY2VzXzEuc2VydmljZXMubG9jYXRpb247XG5cdC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBhIHByZWZpeCBvZiBhbGwgc3RyaW5ncyBtYXRjaGluZyB0aGUgUmVnRXhwXG5cdGZ1bmN0aW9uIHJlZ0V4cFByZWZpeChyZSkge1xuXHQgICAgdmFyIHByZWZpeCA9IC9eXFxeKCg/OlxcXFxbXmEtekEtWjAtOV18W15cXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0rKSopLy5leGVjKHJlLnNvdXJjZSk7XG5cdCAgICByZXR1cm4gKHByZWZpeCAhPSBudWxsKSA/IHByZWZpeFsxXS5yZXBsYWNlKC9cXFxcKC4pL2csIFwiJDFcIikgOiAnJztcblx0fVxuXHQvLyBJbnRlcnBvbGF0ZXMgbWF0Y2hlZCB2YWx1ZXMgaW50byBhIFN0cmluZy5yZXBsYWNlKCktc3R5bGUgcGF0dGVyblxuXHRmdW5jdGlvbiBpbnRlcnBvbGF0ZShwYXR0ZXJuLCBtYXRjaCkge1xuXHQgICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvXFwkKFxcJHxcXGR7MSwyfSkvLCBmdW5jdGlvbiAobSwgd2hhdCkge1xuXHQgICAgICAgIHJldHVybiBtYXRjaFt3aGF0ID09PSAnJCcgPyAwIDogTnVtYmVyKHdoYXQpXTtcblx0ICAgIH0pO1xuXHR9XG5cdGZ1bmN0aW9uIGhhbmRsZUlmTWF0Y2goJGluamVjdG9yLCAkc3RhdGVQYXJhbXMsIGhhbmRsZXIsIG1hdGNoKSB7XG5cdCAgICBpZiAoIW1hdGNoKVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIHZhciByZXN1bHQgPSAkaW5qZWN0b3IuaW52b2tlKGhhbmRsZXIsIGhhbmRsZXIsIHsgJG1hdGNoOiBtYXRjaCwgJHN0YXRlUGFyYW1zOiAkc3RhdGVQYXJhbXMgfSk7XG5cdCAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzRGVmaW5lZChyZXN1bHQpID8gcmVzdWx0IDogdHJ1ZTtcblx0fVxuXHRmdW5jdGlvbiBhcHBlbmRCYXNlUGF0aCh1cmwsIGlzSHRtbDUsIGFic29sdXRlKSB7XG5cdCAgICB2YXIgYmFzZUhyZWYgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy5sb2NhdGlvbkNvbmZpZy5iYXNlSHJlZigpO1xuXHQgICAgaWYgKGJhc2VIcmVmID09PSAnLycpXG5cdCAgICAgICAgcmV0dXJuIHVybDtcblx0ICAgIGlmIChpc0h0bWw1KVxuXHQgICAgICAgIHJldHVybiBiYXNlSHJlZi5zbGljZSgwLCAtMSkgKyB1cmw7XG5cdCAgICBpZiAoYWJzb2x1dGUpXG5cdCAgICAgICAgcmV0dXJuIGJhc2VIcmVmLnNsaWNlKDEpICsgdXJsO1xuXHQgICAgcmV0dXJuIHVybDtcblx0fVxuXHQvLyBUT0RPOiBPcHRpbWl6ZSBncm91cHMgb2YgcnVsZXMgd2l0aCBub24tZW1wdHkgcHJlZml4IGludG8gc29tZSBzb3J0IG9mIGRlY2lzaW9uIHRyZWVcblx0ZnVuY3Rpb24gdXBkYXRlKHJ1bGVzLCBvdGhlcndpc2VGbiwgZXZ0KSB7XG5cdCAgICBpZiAoZXZ0ICYmIGV2dC5kZWZhdWx0UHJldmVudGVkKVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgIGZ1bmN0aW9uIGNoZWNrKHJ1bGUpIHtcblx0ICAgICAgICB2YXIgaGFuZGxlZCA9IHJ1bGUoY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yLCAkbG9jYXRpb24pO1xuXHQgICAgICAgIGlmICghaGFuZGxlZClcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoaGFuZGxlZCkpIHtcblx0ICAgICAgICAgICAgJGxvY2F0aW9uLnJlcGxhY2UoKTtcblx0ICAgICAgICAgICAgJGxvY2F0aW9uLnVybChoYW5kbGVkKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICB2YXIgbiA9IHJ1bGVzLmxlbmd0aCwgaTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcblx0ICAgICAgICBpZiAoY2hlY2socnVsZXNbaV0pKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICAvLyBhbHdheXMgY2hlY2sgb3RoZXJ3aXNlIGxhc3QgdG8gYWxsb3cgZHluYW1pYyB1cGRhdGVzIHRvIHRoZSBzZXQgb2YgcnVsZXNcblx0ICAgIGlmIChvdGhlcndpc2VGbilcblx0ICAgICAgICBjaGVjayhvdGhlcndpc2VGbik7XG5cdH1cblx0LyoqXG5cdCAqIEBuZ2RvYyBvYmplY3Rcblx0ICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyUHJvdmlkZXJcblx0ICpcblx0ICogQHJlcXVpcmVzIHVpLnJvdXRlci51dGlsLiR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyXG5cdCAqIEByZXF1aXJlcyAkbG9jYXRpb25Qcm92aWRlclxuXHQgKlxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogYCR1cmxSb3V0ZXJQcm92aWRlcmAgaGFzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB3YXRjaGluZyBgJGxvY2F0aW9uYC5cblx0ICogV2hlbiBgJGxvY2F0aW9uYCBjaGFuZ2VzIGl0IHJ1bnMgdGhyb3VnaCBhIGxpc3Qgb2YgcnVsZXMgb25lIGJ5IG9uZSB1bnRpbCBhXG5cdCAqIG1hdGNoIGlzIGZvdW5kLiBgJHVybFJvdXRlclByb3ZpZGVyYCBpcyB1c2VkIGJlaGluZCB0aGUgc2NlbmVzIGFueXRpbWUgeW91IHNwZWNpZnlcblx0ICogYSB1cmwgaW4gYSBzdGF0ZSBjb25maWd1cmF0aW9uLiBBbGwgdXJscyBhcmUgY29tcGlsZWQgaW50byBhIFVybE1hdGNoZXIgb2JqZWN0LlxuXHQgKlxuXHQgKiBUaGVyZSBhcmUgc2V2ZXJhbCBtZXRob2RzIG9uIGAkdXJsUm91dGVyUHJvdmlkZXJgIHRoYXQgbWFrZSBpdCB1c2VmdWwgdG8gdXNlIGRpcmVjdGx5XG5cdCAqIGluIHlvdXIgbW9kdWxlIGNvbmZpZy5cblx0ICovXG5cdHZhciBVcmxSb3V0ZXJQcm92aWRlciA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBVcmxSb3V0ZXJQcm92aWRlcigkdXJsTWF0Y2hlckZhY3RvcnksICRzdGF0ZVBhcmFtcykge1xuXHQgICAgICAgIHRoaXMuJHVybE1hdGNoZXJGYWN0b3J5ID0gJHVybE1hdGNoZXJGYWN0b3J5O1xuXHQgICAgICAgIHRoaXMuJHN0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXHQgICAgICAgIC8qKiBAaGlkZGVuICovXG5cdCAgICAgICAgdGhpcy5ydWxlcyA9IFtdO1xuXHQgICAgICAgIC8qKiBAaGlkZGVuICovXG5cdCAgICAgICAgdGhpcy5vdGhlcndpc2VGbiA9IG51bGw7XG5cdCAgICAgICAgLyoqIEBoaWRkZW4gKi9cblx0ICAgICAgICB0aGlzLmludGVyY2VwdERlZmVycmVkID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyUHJvdmlkZXIjcnVsZVxuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlclByb3ZpZGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBEZWZpbmVzIHJ1bGVzIHRoYXQgYXJlIHVzZWQgYnkgYCR1cmxSb3V0ZXJQcm92aWRlcmAgdG8gZmluZCBtYXRjaGVzIGZvclxuXHQgICAgICogc3BlY2lmaWMgVVJMcy5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogPHByZT5cblx0ICAgICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXIucm91dGVyJ10pO1xuXHQgICAgICpcblx0ICAgICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuXHQgICAgICogICAvLyBIZXJlJ3MgYW4gZXhhbXBsZSBvZiBob3cgeW91IG1pZ2h0IGFsbG93IGNhc2UgaW5zZW5zaXRpdmUgdXJsc1xuXHQgICAgICogICAkdXJsUm91dGVyUHJvdmlkZXIucnVsZShmdW5jdGlvbiAoJGluamVjdG9yLCAkbG9jYXRpb24pIHtcblx0ICAgICAqICAgICB2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCksXG5cdCAgICAgKiAgICAgICAgIG5vcm1hbGl6ZWQgPSBwYXRoLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgKlxuXHQgICAgICogICAgIGlmIChwYXRoICE9PSBub3JtYWxpemVkKSB7XG5cdCAgICAgKiAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcblx0ICAgICAqICAgICB9XG5cdCAgICAgKiAgIH0pO1xuXHQgICAgICogfSk7XG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBydWxlIEhhbmRsZXIgZnVuY3Rpb24gdGhhdCB0YWtlcyBgJGluamVjdG9yYCBhbmQgYCRsb2NhdGlvbmBcblx0ICAgICAqIHNlcnZpY2VzIGFzIGFyZ3VtZW50cy4gWW91IGNhbiB1c2UgdGhlbSB0byByZXR1cm4gYSB2YWxpZCBwYXRoIGFzIGEgc3RyaW5nLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge29iamVjdH0gYCR1cmxSb3V0ZXJQcm92aWRlcmAgLSBgJHVybFJvdXRlclByb3ZpZGVyYCBpbnN0YW5jZVxuXHQgICAgICovXG5cdCAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUucnVsZSA9IGZ1bmN0aW9uIChydWxlKSB7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihydWxlKSlcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ3J1bGUnIG11c3QgYmUgYSBmdW5jdGlvblwiKTtcblx0ICAgICAgICB0aGlzLnJ1bGVzLnB1c2gocnVsZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmdkb2Mgb2JqZWN0XG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlciNvdGhlcndpc2Vcblx0ICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlclxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogRGVmaW5lcyBhIHBhdGggdGhhdCBpcyB1c2VkIHdoZW4gYW4gaW52YWxpZCByb3V0ZSBpcyByZXF1ZXN0ZWQuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqIDxwcmU+XG5cdCAgICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyLnJvdXRlciddKTtcblx0ICAgICAqXG5cdCAgICAgKiBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdXJsUm91dGVyUHJvdmlkZXIpIHtcblx0ICAgICAqICAgLy8gaWYgdGhlIHBhdGggZG9lc24ndCBtYXRjaCBhbnkgb2YgdGhlIHVybHMgeW91IGNvbmZpZ3VyZWRcblx0ICAgICAqICAgLy8gb3RoZXJ3aXNlIHdpbGwgdGFrZSBjYXJlIG9mIHJvdXRpbmcgdGhlIHVzZXIgdG8gdGhlXG5cdCAgICAgKiAgIC8vIHNwZWNpZmllZCB1cmxcblx0ICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2luZGV4Jyk7XG5cdCAgICAgKlxuXHQgICAgICogICAvLyBFeGFtcGxlIG9mIHVzaW5nIGZ1bmN0aW9uIHJ1bGUgYXMgcGFyYW1cblx0ICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShmdW5jdGlvbiAoJGluamVjdG9yLCAkbG9jYXRpb24pIHtcblx0ICAgICAqICAgICByZXR1cm4gJy9hL3ZhbGlkL3VybCc7XG5cdCAgICAgKiAgIH0pO1xuXHQgICAgICogfSk7XG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gcnVsZSBUaGUgdXJsIHBhdGggeW91IHdhbnQgdG8gcmVkaXJlY3QgdG8gb3IgYSBmdW5jdGlvblxuXHQgICAgICogcnVsZSB0aGF0IHJldHVybnMgdGhlIHVybCBwYXRoLiBUaGUgZnVuY3Rpb24gdmVyc2lvbiBpcyBwYXNzZWQgdHdvIHBhcmFtczpcblx0ICAgICAqIGAkaW5qZWN0b3JgIGFuZCBgJGxvY2F0aW9uYCBzZXJ2aWNlcywgYW5kIG11c3QgcmV0dXJuIGEgdXJsIHN0cmluZy5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtvYmplY3R9IGAkdXJsUm91dGVyUHJvdmlkZXJgIC0gYCR1cmxSb3V0ZXJQcm92aWRlcmAgaW5zdGFuY2Vcblx0ICAgICAqL1xuXHQgICAgVXJsUm91dGVyUHJvdmlkZXIucHJvdG90eXBlLm90aGVyd2lzZSA9IGZ1bmN0aW9uIChydWxlKSB7XG5cdCAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihydWxlKSAmJiAhcHJlZGljYXRlc18xLmlzU3RyaW5nKHJ1bGUpKVxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIHN0cmluZyBvciBmdW5jdGlvblwiKTtcblx0ICAgICAgICB0aGlzLm90aGVyd2lzZUZuID0gcHJlZGljYXRlc18xLmlzU3RyaW5nKHJ1bGUpID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gcnVsZTsgfSA6IHJ1bGU7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAqIEBuYW1lIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlclByb3ZpZGVyI3doZW5cblx0ICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlclxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogUmVnaXN0ZXJzIGEgaGFuZGxlciBmb3IgYSBnaXZlbiB1cmwgbWF0Y2hpbmcuXG5cdCAgICAgKlxuXHQgICAgICogSWYgdGhlIGhhbmRsZXIgaXMgYSBzdHJpbmcsIGl0IGlzXG5cdCAgICAgKiB0cmVhdGVkIGFzIGEgcmVkaXJlY3QsIGFuZCBpcyBpbnRlcnBvbGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzeW50YXggb2YgbWF0Y2hcblx0ICAgICAqIChpLmUuIGxpa2UgYFN0cmluZy5yZXBsYWNlKClgIGZvciBgUmVnRXhwYCwgb3IgbGlrZSBhIGBVcmxNYXRjaGVyYCBwYXR0ZXJuIG90aGVyd2lzZSkuXG5cdCAgICAgKlxuXHQgICAgICogSWYgdGhlIGhhbmRsZXIgaXMgYSBmdW5jdGlvbiwgaXQgaXMgaW5qZWN0YWJsZS4gSXQgZ2V0cyBpbnZva2VkIGlmIGAkbG9jYXRpb25gXG5cdCAgICAgKiBtYXRjaGVzLiBZb3UgaGF2ZSB0aGUgb3B0aW9uIG9mIGluamVjdCB0aGUgbWF0Y2ggb2JqZWN0IGFzIGAkbWF0Y2hgLlxuXHQgICAgICpcblx0ICAgICAqIFRoZSBoYW5kbGVyIGNhbiByZXR1cm5cblx0ICAgICAqXG5cdCAgICAgKiAtICoqZmFsc3kqKiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBydWxlIGRpZG4ndCBtYXRjaCBhZnRlciBhbGwsIHRoZW4gYCR1cmxSb3V0ZXJgXG5cdCAgICAgKiAgIHdpbGwgY29udGludWUgdHJ5aW5nIHRvIGZpbmQgYW5vdGhlciBvbmUgdGhhdCBtYXRjaGVzLlxuXHQgICAgICogLSAqKnN0cmluZyoqIHdoaWNoIGlzIHRyZWF0ZWQgYXMgYSByZWRpcmVjdCBhbmQgcGFzc2VkIHRvIGAkbG9jYXRpb24udXJsKClgXG5cdCAgICAgKiAtICoqdm9pZCoqIG9yIGFueSAqKnRydXRoeSoqIHZhbHVlIHRlbGxzIGAkdXJsUm91dGVyYCB0aGF0IHRoZSB1cmwgd2FzIGhhbmRsZWQuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqIDxwcmU+XG5cdCAgICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyLnJvdXRlciddKTtcblx0ICAgICAqXG5cdCAgICAgKiBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdXJsUm91dGVyUHJvdmlkZXIpIHtcblx0ICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLndoZW4oJHN0YXRlLnVybCwgZnVuY3Rpb24gKCRtYXRjaCwgJHN0YXRlUGFyYW1zKSB7XG5cdCAgICAgKiAgICAgaWYgKCRzdGF0ZS4kY3VycmVudC5uYXZpZ2FibGUgIT09IHN0YXRlIHx8XG5cdCAgICAgKiAgICAgICAgICFlcXVhbEZvcktleXMoJG1hdGNoLCAkc3RhdGVQYXJhbXMpIHtcblx0ICAgICAqICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbyhzdGF0ZSwgJG1hdGNoLCBmYWxzZSk7XG5cdCAgICAgKiAgICAgfVxuXHQgICAgICogICB9KTtcblx0ICAgICAqIH0pO1xuXHQgICAgICogPC9wcmU+XG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSB3aGF0IFRoZSBpbmNvbWluZyBwYXRoIHRoYXQgeW91IHdhbnQgdG8gcmVkaXJlY3QuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gaGFuZGxlciBUaGUgcGF0aCB5b3Ugd2FudCB0byByZWRpcmVjdCB5b3VyIHVzZXIgdG8uXG5cdCAgICAgKi9cblx0ICAgIFVybFJvdXRlclByb3ZpZGVyLnByb3RvdHlwZS53aGVuID0gZnVuY3Rpb24gKHdoYXQsIGhhbmRsZXIpIHtcblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLCAkdXJsTWF0Y2hlckZhY3RvcnkgPSBfYS4kdXJsTWF0Y2hlckZhY3RvcnksICRzdGF0ZVBhcmFtcyA9IF9hLiRzdGF0ZVBhcmFtcztcblx0ICAgICAgICB2YXIgcmVkaXJlY3QsIGhhbmRsZXJJc1N0cmluZyA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhoYW5kbGVyKTtcblx0ICAgICAgICAvLyBAdG9kbyBRdWV1ZSB0aGlzXG5cdCAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyh3aGF0KSlcblx0ICAgICAgICAgICAgd2hhdCA9ICR1cmxNYXRjaGVyRmFjdG9yeS5jb21waWxlKHdoYXQpO1xuXHQgICAgICAgIGlmICghaGFuZGxlcklzU3RyaW5nICYmICFwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihoYW5kbGVyKSAmJiAhcHJlZGljYXRlc18xLmlzQXJyYXkoaGFuZGxlcikpXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ2hhbmRsZXInIGluIHdoZW4oKVwiKTtcblx0ICAgICAgICB2YXIgc3RyYXRlZ2llcyA9IHtcblx0ICAgICAgICAgICAgbWF0Y2hlcjogZnVuY3Rpb24gKF93aGF0LCBfaGFuZGxlcikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXJJc1N0cmluZykge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0ID0gJHVybE1hdGNoZXJGYWN0b3J5LmNvbXBpbGUoX2hhbmRsZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgIF9oYW5kbGVyID0gWyckbWF0Y2gnLCByZWRpcmVjdC5mb3JtYXQuYmluZChyZWRpcmVjdCldO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUlmTWF0Y2goY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yLCAkc3RhdGVQYXJhbXMsIF9oYW5kbGVyLCBfd2hhdC5leGVjKCRsb2NhdGlvbi5wYXRoKCksICRsb2NhdGlvbi5zZWFyY2goKSwgJGxvY2F0aW9uLmhhc2goKSkpO1xuXHQgICAgICAgICAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAgICAgIHByZWZpeDogcHJlZGljYXRlc18xLmlzU3RyaW5nKF93aGF0LnByZWZpeCkgPyBfd2hhdC5wcmVmaXggOiAnJ1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHJlZ2V4OiBmdW5jdGlvbiAoX3doYXQsIF9oYW5kbGVyKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoX3doYXQuZ2xvYmFsIHx8IF93aGF0LnN0aWNreSlcblx0ICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ3aGVuKCkgUmVnRXhwIG11c3Qgbm90IGJlIGdsb2JhbCBvciBzdGlja3lcIik7XG5cdCAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcklzU3RyaW5nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3QgPSBfaGFuZGxlcjtcblx0ICAgICAgICAgICAgICAgICAgICBfaGFuZGxlciA9IFsnJG1hdGNoJywgZnVuY3Rpb24gKCRtYXRjaCkgeyByZXR1cm4gaW50ZXJwb2xhdGUocmVkaXJlY3QsICRtYXRjaCk7IH1dO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUlmTWF0Y2goY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yLCAkc3RhdGVQYXJhbXMsIF9oYW5kbGVyLCBfd2hhdC5leGVjKCRsb2NhdGlvbi5wYXRoKCkpKTtcblx0ICAgICAgICAgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgICAgICBwcmVmaXg6IHJlZ0V4cFByZWZpeChfd2hhdClcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIgY2hlY2sgPSB7XG5cdCAgICAgICAgICAgIG1hdGNoZXI6ICR1cmxNYXRjaGVyRmFjdG9yeS5pc01hdGNoZXIod2hhdCksXG5cdCAgICAgICAgICAgIHJlZ2V4OiB3aGF0IGluc3RhbmNlb2YgUmVnRXhwXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBmb3IgKHZhciBuIGluIGNoZWNrKSB7XG5cdCAgICAgICAgICAgIGlmIChjaGVja1tuXSlcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJ1bGUoc3RyYXRlZ2llc1tuXSh3aGF0LCBoYW5kbGVyKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKTtcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyUHJvdmlkZXIjZGVmZXJJbnRlcmNlcHRcblx0ICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlclxuXHQgICAgICpcblx0ICAgICAqIEBkZXNjcmlwdGlvblxuXHQgICAgICogRGlzYWJsZXMgKG9yIGVuYWJsZXMpIGRlZmVycmluZyBsb2NhdGlvbiBjaGFuZ2UgaW50ZXJjZXB0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSB0aGUgYmVoYXZpb3Igb2Ygc3luY2luZyB0aGUgVVJMIChmb3IgZXhhbXBsZSwgaWYgeW91IHdpc2ggdG9cblx0ICAgICAqIGRlZmVyIGEgdHJhbnNpdGlvbiBidXQgbWFpbnRhaW4gdGhlIGN1cnJlbnQgVVJMKSwgY2FsbCB0aGlzIG1ldGhvZCBhdCBjb25maWd1cmF0aW9uIHRpbWUuXG5cdCAgICAgKiBUaGVuLCBhdCBydW4gdGltZSwgY2FsbCBgJHVybFJvdXRlci5saXN0ZW4oKWAgYWZ0ZXIgeW91IGhhdmUgY29uZmlndXJlZCB5b3VyIG93blxuXHQgICAgICogYCRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NgIGV2ZW50IGhhbmRsZXIuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqIDxwcmU+XG5cdCAgICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyLnJvdXRlciddKTtcblx0ICAgICAqXG5cdCAgICAgKiBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdXJsUm91dGVyUHJvdmlkZXIpIHtcblx0ICAgICAqXG5cdCAgICAgKiAgIC8vIFByZXZlbnQgJHVybFJvdXRlciBmcm9tIGF1dG9tYXRpY2FsbHkgaW50ZXJjZXB0aW5nIFVSTCBjaGFuZ2VzO1xuXHQgICAgICogICAvLyB0aGlzIGFsbG93cyB5b3UgdG8gY29uZmlndXJlIGN1c3RvbSBiZWhhdmlvciBpbiBiZXR3ZWVuXG5cdCAgICAgKiAgIC8vIGxvY2F0aW9uIGNoYW5nZXMgYW5kIHJvdXRlIHN5bmNocm9uaXphdGlvbjpcblx0ICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLmRlZmVySW50ZXJjZXB0KCk7XG5cdCAgICAgKlxuXHQgICAgICogfSkucnVuKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkdXJsUm91dGVyLCBVc2VyU2VydmljZSkge1xuXHQgICAgICpcblx0ICAgICAqICAgJHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgKiAgICAgLy8gVXNlclNlcnZpY2UgaXMgYW4gZXhhbXBsZSBzZXJ2aWNlIGZvciBtYW5hZ2luZyB1c2VyIHN0YXRlXG5cdCAgICAgKiAgICAgaWYgKFVzZXJTZXJ2aWNlLmlzTG9nZ2VkSW4oKSkgcmV0dXJuO1xuXHQgICAgICpcblx0ICAgICAqICAgICAvLyBQcmV2ZW50ICR1cmxSb3V0ZXIncyBkZWZhdWx0IGhhbmRsZXIgZnJvbSBmaXJpbmdcblx0ICAgICAqICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgKlxuXHQgICAgICogICAgIFVzZXJTZXJ2aWNlLmhhbmRsZUxvZ2luKCkudGhlbihmdW5jdGlvbigpIHtcblx0ICAgICAqICAgICAgIC8vIE9uY2UgdGhlIHVzZXIgaGFzIGxvZ2dlZCBpbiwgc3luYyB0aGUgY3VycmVudCBVUkxcblx0ICAgICAqICAgICAgIC8vIHRvIHRoZSByb3V0ZXI6XG5cdCAgICAgKiAgICAgICAkdXJsUm91dGVyLnN5bmMoKTtcblx0ICAgICAqICAgICB9KTtcblx0ICAgICAqICAgfSk7XG5cdCAgICAgKlxuXHQgICAgICogICAvLyBDb25maWd1cmVzICR1cmxSb3V0ZXIncyBsaXN0ZW5lciAqYWZ0ZXIqIHlvdXIgY3VzdG9tIGxpc3RlbmVyXG5cdCAgICAgKiAgICR1cmxSb3V0ZXIubGlzdGVuKCk7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqIDwvcHJlPlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVmZXIgSW5kaWNhdGVzIHdoZXRoZXIgdG8gZGVmZXIgbG9jYXRpb24gY2hhbmdlIGludGVyY2VwdGlvbi4gUGFzc2luZ1xuXHQgICAgICogICAgICAgIG5vIHBhcmFtZXRlciBpcyBlcXVpdmFsZW50IHRvIGB0cnVlYC5cblx0ICAgICAqL1xuXHQgICAgVXJsUm91dGVyUHJvdmlkZXIucHJvdG90eXBlLmRlZmVySW50ZXJjZXB0ID0gZnVuY3Rpb24gKGRlZmVyKSB7XG5cdCAgICAgICAgaWYgKGRlZmVyID09PSB1bmRlZmluZWQpXG5cdCAgICAgICAgICAgIGRlZmVyID0gdHJ1ZTtcblx0ICAgICAgICB0aGlzLmludGVyY2VwdERlZmVycmVkID0gZGVmZXI7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgcmV0dXJuIFVybFJvdXRlclByb3ZpZGVyO1xuXHR9KCkpO1xuXHRleHBvcnRzLlVybFJvdXRlclByb3ZpZGVyID0gVXJsUm91dGVyUHJvdmlkZXI7XG5cdHZhciBVcmxSb3V0ZXIgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gVXJsUm91dGVyKHVybFJvdXRlclByb3ZpZGVyKSB7XG5cdCAgICAgICAgdGhpcy51cmxSb3V0ZXJQcm92aWRlciA9IHVybFJvdXRlclByb3ZpZGVyO1xuXHQgICAgICAgIGNvbW1vbl8xLmJpbmRGdW5jdGlvbnMoVXJsUm91dGVyLnByb3RvdHlwZSwgdGhpcywgdGhpcyk7XG5cdCAgICB9XG5cdCAgICAvKipcblx0ICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyI3N5bmNcblx0ICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJcblx0ICAgICAqXG5cdCAgICAgKiBAZGVzY3JpcHRpb25cblx0ICAgICAqIFRyaWdnZXJzIGFuIHVwZGF0ZTsgdGhlIHNhbWUgdXBkYXRlIHRoYXQgaGFwcGVucyB3aGVuIHRoZSBhZGRyZXNzIGJhciB1cmwgY2hhbmdlcywgYWthIGAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzYC5cblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCB3aGVuIHlvdSBuZWVkIHRvIHVzZSBgcHJldmVudERlZmF1bHQoKWAgb24gdGhlIGAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzYCBldmVudCxcblx0ICAgICAqIHBlcmZvcm0gc29tZSBjdXN0b20gbG9naWMgKHJvdXRlIHByb3RlY3Rpb24sIGF1dGgsIGNvbmZpZywgcmVkaXJlY3Rpb24sIGV0YykgYW5kIHRoZW4gZmluYWxseSBwcm9jZWVkXG5cdCAgICAgKiB3aXRoIHRoZSB0cmFuc2l0aW9uIGJ5IGNhbGxpbmcgYCR1cmxSb3V0ZXIuc3luYygpYC5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogPHByZT5cblx0ICAgICAqIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlciddKVxuXHQgICAgICogICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsICR1cmxSb3V0ZXIpIHtcblx0ICAgICAqICAgICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2dCkge1xuXHQgICAgICogICAgICAgLy8gSGFsdCBzdGF0ZSBjaGFuZ2UgZnJvbSBldmVuIHN0YXJ0aW5nXG5cdCAgICAgKiAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAqICAgICAgIC8vIFBlcmZvcm0gY3VzdG9tIGxvZ2ljXG5cdCAgICAgKiAgICAgICB2YXIgbWVldHNSZXF1aXJlbWVudCA9IC4uLlxuXHQgICAgICogICAgICAgLy8gQ29udGludWUgd2l0aCB0aGUgdXBkYXRlIGFuZCBzdGF0ZSB0cmFuc2l0aW9uIGlmIGxvZ2ljIGFsbG93c1xuXHQgICAgICogICAgICAgaWYgKG1lZXRzUmVxdWlyZW1lbnQpICR1cmxSb3V0ZXIuc3luYygpO1xuXHQgICAgICogICAgIH0pO1xuXHQgICAgICogfSk7XG5cdCAgICAgKiA8L3ByZT5cblx0ICAgICAqL1xuXHQgICAgVXJsUm91dGVyLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHVwZGF0ZSh0aGlzLnVybFJvdXRlclByb3ZpZGVyLnJ1bGVzLCB0aGlzLnVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZUZuKTtcblx0ICAgIH07XG5cdCAgICBVcmxSb3V0ZXIucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyID0gdGhpcy5saXN0ZW5lciB8fCAkbG9jYXRpb24ub25DaGFuZ2UoZnVuY3Rpb24gKGV2dCkgeyByZXR1cm4gdXBkYXRlKF90aGlzLnVybFJvdXRlclByb3ZpZGVyLnJ1bGVzLCBfdGhpcy51cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2VGbiwgZXZ0KTsgfSk7XG5cdCAgICB9O1xuXHQgICAgVXJsUm91dGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAocmVhZCkge1xuXHQgICAgICAgIGlmIChyZWFkKSB7XG5cdCAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSAkbG9jYXRpb24udXJsKCk7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCRsb2NhdGlvbi51cmwoKSA9PT0gdGhpcy5sb2NhdGlvbilcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICRsb2NhdGlvbi51cmwodGhpcy5sb2NhdGlvbik7XG5cdCAgICAgICAgJGxvY2F0aW9uLnJlcGxhY2UoKTtcblx0ICAgIH07XG5cdCAgICBVcmxSb3V0ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodXJsTWF0Y2hlciwgcGFyYW1zLCBvcHRpb25zKSB7XG5cdCAgICAgICAgJGxvY2F0aW9uLnVybCh1cmxNYXRjaGVyLmZvcm1hdChwYXJhbXMgfHwge30pKTtcblx0ICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlcGxhY2UpXG5cdCAgICAgICAgICAgICRsb2NhdGlvbi5yZXBsYWNlKCk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmdkb2MgZnVuY3Rpb25cblx0ICAgICAqIEBuYW1lIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlciNocmVmXG5cdCAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyXG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBBIFVSTCBnZW5lcmF0aW9uIG1ldGhvZCB0aGF0IHJldHVybnMgdGhlIGNvbXBpbGVkIFVSTCBmb3IgYSBnaXZlblxuXHQgICAgICoge0BsaW5rIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciBgVXJsTWF0Y2hlcmB9LCBwb3B1bGF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycy5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogPHByZT5cblx0ICAgICAqICRib2IgPSAkdXJsUm91dGVyLmhyZWYobmV3IFVybE1hdGNoZXIoXCIvYWJvdXQvOnBlcnNvblwiKSwge1xuXHQgICAgICogICBwZXJzb246IFwiYm9iXCJcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gJGJvYiA9PSBcIi9hYm91dC9ib2JcIjtcblx0ICAgICAqIDwvcHJlPlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7VXJsTWF0Y2hlcn0gdXJsTWF0Y2hlciBUaGUgYFVybE1hdGNoZXJgIG9iamVjdCB3aGljaCBpcyB1c2VkIGFzIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgVVJMIHRvIGdlbmVyYXRlLlxuXHQgICAgICogQHBhcmFtIHtvYmplY3Q9fSBwYXJhbXMgQW4gb2JqZWN0IG9mIHBhcmFtZXRlciB2YWx1ZXMgdG8gZmlsbCB0aGUgbWF0Y2hlcidzIHJlcXVpcmVkIHBhcmFtZXRlcnMuXG5cdCAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuIFRoZSBvcHRpb25zIGFyZTpcblx0ICAgICAqXG5cdCAgICAgKiAtICoqYGFic29sdXRlYCoqIC0ge2Jvb2xlYW49ZmFsc2V9LCAgSWYgdHJ1ZSB3aWxsIGdlbmVyYXRlIGFuIGFic29sdXRlIHVybCwgZS5nLiBcImh0dHA6Ly93d3cuZXhhbXBsZS5jb20vZnVsbHVybFwiLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bGx5IGNvbXBpbGVkIFVSTCwgb3IgYG51bGxgIGlmIGBwYXJhbXNgIGZhaWwgdmFsaWRhdGlvbiBhZ2FpbnN0IGB1cmxNYXRjaGVyYFxuXHQgICAgICovXG5cdCAgICBVcmxSb3V0ZXIucHJvdG90eXBlLmhyZWYgPSBmdW5jdGlvbiAodXJsTWF0Y2hlciwgcGFyYW1zLCBvcHRpb25zKSB7XG5cdCAgICAgICAgaWYgKCF1cmxNYXRjaGVyLnZhbGlkYXRlcyhwYXJhbXMpKVxuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB2YXIgdXJsID0gdXJsTWF0Y2hlci5mb3JtYXQocGFyYW1zKTtcblx0ICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICAgICAgICB2YXIgY2ZnID0gY29yZXNlcnZpY2VzXzEuc2VydmljZXMubG9jYXRpb25Db25maWc7XG5cdCAgICAgICAgdmFyIGlzSHRtbDUgPSBjZmcuaHRtbDVNb2RlKCk7XG5cdCAgICAgICAgaWYgKCFpc0h0bWw1ICYmIHVybCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICB1cmwgPSBcIiNcIiArIGNmZy5oYXNoUHJlZml4KCkgKyB1cmw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHVybCA9IGFwcGVuZEJhc2VQYXRoKHVybCwgaXNIdG1sNSwgb3B0aW9ucy5hYnNvbHV0ZSk7XG5cdCAgICAgICAgaWYgKCFvcHRpb25zLmFic29sdXRlIHx8ICF1cmwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHVybDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHNsYXNoID0gKCFpc0h0bWw1ICYmIHVybCA/ICcvJyA6ICcnKSwgcG9ydCA9IGNmZy5wb3J0KCk7XG5cdCAgICAgICAgcG9ydCA9IChwb3J0ID09PSA4MCB8fCBwb3J0ID09PSA0NDMgPyAnJyA6ICc6JyArIHBvcnQpO1xuXHQgICAgICAgIHJldHVybiBbY2ZnLnByb3RvY29sKCksICc6Ly8nLCBjZmcuaG9zdCgpLCBwb3J0LCBzbGFzaCwgdXJsXS5qb2luKCcnKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gVXJsUm91dGVyO1xuXHR9KCkpO1xuXHRleHBvcnRzLlVybFJvdXRlciA9IFVybFJvdXRlcjtcblxuXG4vKioqLyB9LFxuLyogNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG5cdH1cblx0LyoqIEBtb2R1bGUgdmlldyAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0X19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MCkpO1xuXG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKiBAbW9kdWxlIHZpZXcgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBob2ZfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgbWF0Y2ggPSBmdW5jdGlvbiAob2JqMSkge1xuXHQgICAgdmFyIGtleXMgPSBbXTtcblx0ICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG5cdCAgICAgICAga2V5c1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmdW5jdGlvbiAob2JqMikgeyByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGtleSkgeyByZXR1cm4gbWVtbyAmJiBvYmoxW2tleV0gPT09IG9iajJba2V5XTsgfSwgdHJ1ZSk7IH07XG5cdH07XG5cdC8qKlxuXHQgKiBUaGUgVmlldyBzZXJ2aWNlXG5cdCAqL1xuXHR2YXIgVmlld1NlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gVmlld1NlcnZpY2UoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB0aGlzLnVpVmlld3MgPSBbXTtcblx0ICAgICAgICB0aGlzLnZpZXdDb25maWdzID0gW107XG5cdCAgICAgICAgdGhpcy5fdmlld0NvbmZpZ0ZhY3RvcmllcyA9IHt9O1xuXHQgICAgICAgIHRoaXMuc3luYyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHVpVmlld3NCeUZxbiA9IF90aGlzLnVpVmlld3MubWFwKGZ1bmN0aW9uICh1aXYpIHsgcmV0dXJuIFt1aXYuZnFuLCB1aXZdOyB9KS5yZWR1Y2UoY29tbW9uXzEuYXBwbHlQYWlycywge30pO1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogR2l2ZW4gYSB1aS12aWV3IGFuZCBhIFZpZXdDb25maWcsIGRldGVybWluZXMgaWYgdGhleSBcIm1hdGNoXCIuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEEgdWktdmlldyBoYXMgYSBmdWxseSBxdWFsaWZpZWQgbmFtZSAoZnFuKSBhbmQgYSBjb250ZXh0IG9iamVjdC4gIFRoZSBmcW4gaXMgYnVpbHQgZnJvbSBpdHMgb3ZlcmFsbCBsb2NhdGlvbiBpblxuXHQgICAgICAgICAgICAgKiB0aGUgRE9NLCBkZXNjcmliaW5nIGl0cyBuZXN0aW5nIHJlbGF0aW9uc2hpcCB0byBhbnkgcGFyZW50IHVpLXZpZXcgdGFncyBpdCBpcyBuZXN0ZWQgaW5zaWRlIG9mLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBBIFZpZXdDb25maWcgaGFzIGEgdGFyZ2V0IHVpLXZpZXcgbmFtZSBhbmQgYSBjb250ZXh0IGFuY2hvci4gIFRoZSB1aS12aWV3IG5hbWUgY2FuIGJlIGEgc2ltcGxlIG5hbWUsIG9yXG5cdCAgICAgICAgICAgICAqIGNhbiBiZSBhIHNlZ21lbnRlZCB1aS12aWV3IHBhdGgsIGRlc2NyaWJpbmcgYSBwb3J0aW9uIG9mIGEgdWktdmlldyBmcW4uXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIElmIHRoZSBWaWV3Q29uZmlnJ3MgdGFyZ2V0IHVpLXZpZXcgbmFtZSBpcyBhIHNpbXBsZSBuYW1lIChubyBkb3RzKSwgdGhlbiBhIHVpLXZpZXcgbWF0Y2hlcyBpZjpcblx0ICAgICAgICAgICAgICogLSB0aGUgdWktdmlldydzIG5hbWUgbWF0Y2hlcyB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lXG5cdCAgICAgICAgICAgICAqIC0gdGhlIHVpLXZpZXcncyBjb250ZXh0IG1hdGNoZXMgdGhlIFZpZXdDb25maWcncyBhbmNob3Jcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogSWYgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgdWktdmlldyBuYW1lIGlzIGEgc2VnbWVudGVkIG5hbWUgKHdpdGggZG90cyksIHRoZW4gYSB1aS12aWV3IG1hdGNoZXMgaWY6XG5cdCAgICAgICAgICAgICAqIC0gVGhlcmUgZXhpc3RzIGEgcGFyZW50IHVpLXZpZXcgd2hlcmU6XG5cdCAgICAgICAgICAgICAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgbmFtZSBtYXRjaGVzIHRoZSBmaXJzdCBzZWdtZW50IChpbmRleCAwKSBvZiB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lXG5cdCAgICAgICAgICAgICAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgY29udGV4dCBtYXRjaGVzIHRoZSBWaWV3Q29uZmlnJ3MgYW5jaG9yXG5cdCAgICAgICAgICAgICAqIC0gQW5kIHRoZSByZW1haW5pbmcgc2VnbWVudHMgKGluZGV4IDEuLm4pIG9mIHRoZSBWaWV3Q29uZmlnJ3MgdGFyZ2V0IG5hbWUgbWF0Y2ggdGhlIHRhaWwgb2YgdGhlIHVpLXZpZXcncyBmcW5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogRXhhbXBsZTpcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogRE9NOlxuXHQgICAgICAgICAgICAgKiA8ZGl2IHVpLXZpZXc+ICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBjcmVhdGVkIGluIHRoZSByb290IGNvbnRleHQgKG5hbWU6IFwiXCIpIC0tPlxuXHQgICAgICAgICAgICAgKiAgIDxkaXYgdWktdmlldz1cImZvb1wiPiAgICAgICAgICAgICAgICA8IS0tIGNyZWF0ZWQgaW4gdGhlIGNvbnRleHQgbmFtZWQ6IFwiQVwiICAgICAgLS0+XG5cdCAgICAgICAgICAgICAqICAgICA8ZGl2IHVpLXZpZXc+ICAgICAgICAgICAgICAgICAgICA8IS0tIGNyZWF0ZWQgaW4gdGhlIGNvbnRleHQgbmFtZWQ6IFwiQS5CXCIgICAgLS0+XG5cdCAgICAgICAgICAgICAqICAgICAgIDxkaXYgdWktdmlldz1cImJhclwiPiAgICAgICAgICAgIDwhLS0gY3JlYXRlZCBpbiB0aGUgY29udGV4dCBuYW1lZDogXCJBLkIuQ1wiICAtLT5cblx0ICAgICAgICAgICAgICogICAgICAgPC9kaXY+XG5cdCAgICAgICAgICAgICAqICAgICA8L2Rpdj5cblx0ICAgICAgICAgICAgICogICA8L2Rpdj5cblx0ICAgICAgICAgICAgICogPC9kaXY+XG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIHVpVmlld3M6IFtcblx0ICAgICAgICAgICAgICogIHsgZnFuOiBcIiRkZWZhdWx0XCIsICAgICAgICAgICAgICAgICAgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiXCIgfSB9LFxuXHQgICAgICAgICAgICAgKiAgeyBmcW46IFwiJGRlZmF1bHQuZm9vXCIsICAgICAgICAgICAgICBjcmVhdGlvbkNvbnRleHQ6IHsgbmFtZTogXCJBXCIgfSB9LFxuXHQgICAgICAgICAgICAgKiAgeyBmcW46IFwiJGRlZmF1bHQuZm9vLiRkZWZhdWx0XCIsICAgICBjcmVhdGlvbkNvbnRleHQ6IHsgbmFtZTogXCJBLkJcIiB9IH1cblx0ICAgICAgICAgICAgICogIHsgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIiwgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiQS5CLkNcIiB9IH1cblx0ICAgICAgICAgICAgICogXVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBUaGVzZSBmb3VyIHZpZXcgY29uZmlncyBhbGwgbWF0Y2ggdGhlIHVpLXZpZXcgd2l0aCB0aGUgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIjpcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogLSBWaWV3Q29uZmlnMTogeyB1aVZpZXdOYW1lOiBcImJhclwiLCAgICAgICAgICAgICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvcjogXCJBLkIuQ1wiIH1cblx0ICAgICAgICAgICAgICogLSBWaWV3Q29uZmlnMjogeyB1aVZpZXdOYW1lOiBcIiRkZWZhdWx0LmJhclwiLCAgICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvcjogXCJBLkJcIiB9XG5cdCAgICAgICAgICAgICAqIC0gVmlld0NvbmZpZzM6IHsgdWlWaWV3TmFtZTogXCJmb28uJGRlZmF1bHQuYmFyXCIsICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3I6IFwiQVwiIH1cblx0ICAgICAgICAgICAgICogLSBWaWV3Q29uZmlnNDogeyB1aVZpZXdOYW1lOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIiwgdWlWaWV3Q29udGV4dEFuY2hvcjogXCJcIiB9XG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIFVzaW5nIFZpZXdDb25maWczIGFzIGFuIGV4YW1wbGUsIGl0IG1hdGNoZXMgdGhlIHVpLXZpZXcgd2l0aCBmcW4gXCIkZGVmYXVsdC5mb28uJGRlZmF1bHQuYmFyXCIgYmVjYXVzZTpcblx0ICAgICAgICAgICAgICogLSBUaGUgVmlld0NvbmZpZydzIHNlZ21lbnRlZCB0YXJnZXQgbmFtZSBpczogWyBcImZvb1wiLCBcIiRkZWZhdWx0XCIsIFwiYmFyXCIgXVxuXHQgICAgICAgICAgICAgKiAtIFRoZXJlIGV4aXN0cyBhIHBhcmVudCB1aS12aWV3ICh3aGljaCBoYXMgZnFuOiBcIiRkZWZhdWx0LmZvb1wiKSB3aGVyZTpcblx0ICAgICAgICAgICAgICogICAgLSB0aGUgcGFyZW50IHVpLXZpZXcncyBuYW1lIFwiZm9vXCIgbWF0Y2hlcyB0aGUgZmlyc3Qgc2VnbWVudCBcImZvb1wiIG9mIHRoZSBWaWV3Q29uZmlnJ3MgdGFyZ2V0IG5hbWVcblx0ICAgICAgICAgICAgICogICAgLSB0aGUgcGFyZW50IHVpLXZpZXcncyBjb250ZXh0IFwiQVwiIG1hdGNoZXMgdGhlIFZpZXdDb25maWcncyBhbmNob3IgY29udGV4dCBcIkFcIlxuXHQgICAgICAgICAgICAgKiAtIEFuZCB0aGUgcmVtYWluaW5nIHNlZ21lbnRzIFsgXCIkZGVmYXVsdFwiLCBcImJhclwiIF0uam9pbihcIi5cIl8gb2YgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZSBtYXRjaFxuXHQgICAgICAgICAgICAgKiAgIHRoZSB0YWlsIG9mIHRoZSB1aS12aWV3J3MgZnFuIFwiZGVmYXVsdC5iYXJcIlxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBmdW5jdGlvbiAodWlWaWV3KSB7IHJldHVybiBmdW5jdGlvbiAodmlld0NvbmZpZykge1xuXHQgICAgICAgICAgICAgICAgLy8gU3BsaXQgbmFtZXMgYXBhcnQgZnJvbSBib3RoIHZpZXdDb25maWcgYW5kIHVpVmlldyBpbnRvIHNlZ21lbnRzXG5cdCAgICAgICAgICAgICAgICB2YXIgdmMgPSB2aWV3Q29uZmlnLnZpZXdEZWNsO1xuXHQgICAgICAgICAgICAgICAgdmFyIHZjU2VnbWVudHMgPSB2Yy4kdWlWaWV3TmFtZS5zcGxpdChcIi5cIik7XG5cdCAgICAgICAgICAgICAgICB2YXIgdWl2U2VnbWVudHMgPSB1aVZpZXcuZnFuLnNwbGl0KFwiLlwiKTtcblx0ICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YWlscyBvZiB0aGUgc2VnbWVudCBhcnJheXMgbWF0Y2guIGV4LCB0aGVzZSBhcnJheXMnIHRhaWxzIG1hdGNoOlxuXHQgICAgICAgICAgICAgICAgLy8gdmM6IFtcImZvb1wiLCBcImJhclwiXSwgdWl2IGZxbjogW1wiJGRlZmF1bHRcIiwgXCJmb29cIiwgXCJiYXJcIl1cblx0ICAgICAgICAgICAgICAgIGlmICghY29tbW9uXzEuZXF1YWxzKHZjU2VnbWVudHMsIHVpdlNlZ21lbnRzLnNsaWNlKDAgLSB2Y1NlZ21lbnRzLmxlbmd0aCkpKVxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIC8vIE5vdyBjaGVjayBpZiB0aGUgZnFuIGVuZGluZyBhdCB0aGUgZmlyc3Qgc2VnbWVudCBvZiB0aGUgdmlld0NvbmZpZyBtYXRjaGVzIHRoZSBjb250ZXh0OlxuXHQgICAgICAgICAgICAgICAgLy8gW1wiJGRlZmF1bHRcIiwgXCJmb29cIl0uam9pbihcIi5cIikgPT0gXCIkZGVmYXVsdC5mb29cIiwgZG9lcyB0aGUgdWktdmlldyAkZGVmYXVsdC5mb28gY29udGV4dCBtYXRjaD9cblx0ICAgICAgICAgICAgICAgIHZhciBuZWdPZmZzZXQgPSAoMSAtIHZjU2VnbWVudHMubGVuZ3RoKSB8fCB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgZnFuVG9GaXJzdFNlZ21lbnQgPSB1aXZTZWdtZW50cy5zbGljZSgwLCBuZWdPZmZzZXQpLmpvaW4oXCIuXCIpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHVpVmlld0NvbnRleHQgPSB1aVZpZXdzQnlGcW5bZnFuVG9GaXJzdFNlZ21lbnRdLmNyZWF0aW9uQ29udGV4dDtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2Yy4kdWlWaWV3Q29udGV4dEFuY2hvciA9PT0gKHVpVmlld0NvbnRleHQgJiYgdWlWaWV3Q29udGV4dC5uYW1lKTtcblx0ICAgICAgICAgICAgfTsgfTtcblx0ICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZG90cyBpbiB0aGUgZnVsbHkgcXVhbGlmaWVkIG5hbWVcblx0ICAgICAgICAgICAgZnVuY3Rpb24gdWlWaWV3RGVwdGgodWlWaWV3KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdWlWaWV3LmZxbi5zcGxpdChcIi5cIikubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIFJldHVybiB0aGUgVmlld0NvbmZpZydzIGNvbnRleHQncyBkZXB0aCBpbiB0aGUgY29udGV4dCB0cmVlLlxuXHQgICAgICAgICAgICBmdW5jdGlvbiB2aWV3Q29uZmlnRGVwdGgoY29uZmlnKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGNvbmZpZy52aWV3RGVjbC4kY29udGV4dCwgY291bnQgPSAwO1xuXHQgICAgICAgICAgICAgICAgd2hpbGUgKCsrY291bnQgJiYgY29udGV4dC5wYXJlbnQpXG5cdCAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQucGFyZW50O1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIEdpdmVuIGEgZGVwdGggZnVuY3Rpb24sIHJldHVybnMgYSBjb21wYXJlIGZ1bmN0aW9uIHdoaWNoIGNhbiByZXR1cm4gZWl0aGVyIGFzY2VuZGluZyBvciBkZXNjZW5kaW5nIG9yZGVyXG5cdCAgICAgICAgICAgIHZhciBkZXB0aENvbXBhcmUgPSBob2ZfMS5jdXJyeShmdW5jdGlvbiAoZGVwdGhGbiwgcG9zTmVnLCBsZWZ0LCByaWdodCkgeyByZXR1cm4gcG9zTmVnICogKGRlcHRoRm4obGVmdCkgLSBkZXB0aEZuKHJpZ2h0KSk7IH0pO1xuXHQgICAgICAgICAgICB2YXIgbWF0Y2hpbmdDb25maWdQYWlyID0gZnVuY3Rpb24gKHVpVmlldykge1xuXHQgICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nQ29uZmlncyA9IF90aGlzLnZpZXdDb25maWdzLmZpbHRlcihtYXRjaGVzKHVpVmlldykpO1xuXHQgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nQ29uZmlncy5sZW5ndGggPiAxKVxuXHQgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nQ29uZmlncy5zb3J0KGRlcHRoQ29tcGFyZSh2aWV3Q29uZmlnRGVwdGgsIC0xKSk7IC8vIGRlc2NlbmRpbmdcblx0ICAgICAgICAgICAgICAgIHJldHVybiBbdWlWaWV3LCBtYXRjaGluZ0NvbmZpZ3NbMF1dO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB2YXIgY29uZmlndXJlVWlWaWV3ID0gZnVuY3Rpb24gKF9hKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdWlWaWV3ID0gX2FbMF0sIHZpZXdDb25maWcgPSBfYVsxXTtcblx0ICAgICAgICAgICAgICAgIC8vIElmIGEgcGFyZW50IHVpLXZpZXcgaXMgcmVjb25maWd1cmVkLCBpdCBjb3VsZCBkZXN0cm95IGNoaWxkIHVpLXZpZXdzLlxuXHQgICAgICAgICAgICAgICAgLy8gQmVmb3JlIGNvbmZpZ3VyaW5nIGEgY2hpbGQgdWktdmlldywgbWFrZSBzdXJlIGl0J3Mgc3RpbGwgaW4gdGhlIGFjdGl2ZSB1aVZpZXdzIGFycmF5LlxuXHQgICAgICAgICAgICAgICAgaWYgKF90aGlzLnVpVmlld3MuaW5kZXhPZih1aVZpZXcpICE9PSAtMSlcblx0ICAgICAgICAgICAgICAgICAgICB1aVZpZXcuY29uZmlnVXBkYXRlZCh2aWV3Q29uZmlnKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgX3RoaXMudWlWaWV3cy5zb3J0KGRlcHRoQ29tcGFyZSh1aVZpZXdEZXB0aCwgMSkpLm1hcChtYXRjaGluZ0NvbmZpZ1BhaXIpLmZvckVhY2goY29uZmlndXJlVWlWaWV3KTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgVmlld1NlcnZpY2UucHJvdG90eXBlLnJvb3RDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fcm9vdENvbnRleHQgPSBjb250ZXh0IHx8IHRoaXMuX3Jvb3RDb250ZXh0O1xuXHQgICAgfTtcblx0ICAgIDtcblx0ICAgIFZpZXdTZXJ2aWNlLnByb3RvdHlwZS52aWV3Q29uZmlnRmFjdG9yeSA9IGZ1bmN0aW9uICh2aWV3VHlwZSwgZmFjdG9yeSkge1xuXHQgICAgICAgIHRoaXMuX3ZpZXdDb25maWdGYWN0b3JpZXNbdmlld1R5cGVdID0gZmFjdG9yeTtcblx0ICAgIH07XG5cdCAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuY3JlYXRlVmlld0NvbmZpZyA9IGZ1bmN0aW9uIChub2RlLCBkZWNsKSB7XG5cdCAgICAgICAgdmFyIGNmZ0ZhY3RvcnkgPSB0aGlzLl92aWV3Q29uZmlnRmFjdG9yaWVzW2RlY2wuJHR5cGVdO1xuXHQgICAgICAgIGlmICghY2ZnRmFjdG9yeSlcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmlld1NlcnZpY2U6IE5vIHZpZXcgY29uZmlnIGZhY3RvcnkgcmVnaXN0ZXJlZCBmb3IgdHlwZSBcIiArIGRlY2wuJHR5cGUpO1xuXHQgICAgICAgIHJldHVybiBjZmdGYWN0b3J5KG5vZGUsIGRlY2wpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogRGUtcmVnaXN0ZXJzIGEgVmlld0NvbmZpZy5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gdmlld0NvbmZpZyBUaGUgVmlld0NvbmZpZyB2aWV3IHRvIGRlcmVnaXN0ZXIuXG5cdCAgICAgKi9cblx0ICAgIFZpZXdTZXJ2aWNlLnByb3RvdHlwZS5kZWFjdGl2YXRlVmlld0NvbmZpZyA9IGZ1bmN0aW9uICh2aWV3Q29uZmlnKSB7XG5cdCAgICAgICAgbW9kdWxlXzEudHJhY2UudHJhY2VWaWV3U2VydmljZUV2ZW50KFwiPC0gUmVtb3ZpbmdcIiwgdmlld0NvbmZpZyk7XG5cdCAgICAgICAgY29tbW9uXzEucmVtb3ZlRnJvbSh0aGlzLnZpZXdDb25maWdzLCB2aWV3Q29uZmlnKTtcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuYWN0aXZhdGVWaWV3Q29uZmlnID0gZnVuY3Rpb24gKHZpZXdDb25maWcpIHtcblx0ICAgICAgICBtb2R1bGVfMS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQoXCItPiBSZWdpc3RlcmluZ1wiLCB2aWV3Q29uZmlnKTtcblx0ICAgICAgICB0aGlzLnZpZXdDb25maWdzLnB1c2godmlld0NvbmZpZyk7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgLyoqXG5cdCAgICAgKiBBbGxvd3MgYSBgdWktdmlld2AgZWxlbWVudCB0byByZWdpc3RlciBpdHMgY2Fub25pY2FsIG5hbWUgd2l0aCBhIGNhbGxiYWNrIHRoYXQgYWxsb3dzIGl0IHRvXG5cdCAgICAgKiBiZSB1cGRhdGVkIHdpdGggYSB0ZW1wbGF0ZSwgY29udHJvbGxlciwgYW5kIGxvY2FsIHZhcmlhYmxlcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgZnVsbHktcXVhbGlmaWVkIG5hbWUgb2YgdGhlIGB1aS12aWV3YCBvYmplY3QgYmVpbmcgcmVnaXN0ZXJlZC5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZ1VwZGF0ZWRDYWxsYmFjayBBIGNhbGxiYWNrIHRoYXQgcmVjZWl2ZXMgdXBkYXRlcyB0byB0aGUgY29udGVudCAmIGNvbmZpZ3VyYXRpb25cblx0ICAgICAqICAgICAgICAgICAgICAgICAgIG9mIHRoZSB2aWV3LlxuXHQgICAgICogQHJldHVybiB7RnVuY3Rpb259IFJldHVybnMgYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gdXNlZCB3aGVuIHRoZSB2aWV3IGlzIGRlc3Ryb3llZC5cblx0ICAgICAqL1xuXHQgICAgVmlld1NlcnZpY2UucHJvdG90eXBlLnJlZ2lzdGVyVWlWaWV3ID0gZnVuY3Rpb24gKHVpVmlldykge1xuXHQgICAgICAgIG1vZHVsZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VVaVZpZXdFdmVudChcIi0+IFJlZ2lzdGVyaW5nXCIsIHVpVmlldyk7XG5cdCAgICAgICAgdmFyIHVpVmlld3MgPSB0aGlzLnVpVmlld3M7XG5cdCAgICAgICAgdmFyIGZxbk1hdGNoZXMgPSBmdW5jdGlvbiAodWl2KSB7IHJldHVybiB1aXYuZnFuID09PSB1aVZpZXcuZnFuOyB9O1xuXHQgICAgICAgIGlmICh1aVZpZXdzLmZpbHRlcihmcW5NYXRjaGVzKS5sZW5ndGgpXG5cdCAgICAgICAgICAgIG1vZHVsZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VVaVZpZXdFdmVudChcIiEhISEgZHVwbGljYXRlIHVpVmlldyBuYW1lZDpcIiwgdWlWaWV3KTtcblx0ICAgICAgICB1aVZpZXdzLnB1c2godWlWaWV3KTtcblx0ICAgICAgICB0aGlzLnN5bmMoKTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgaWR4ID0gdWlWaWV3cy5pbmRleE9mKHVpVmlldyk7XG5cdCAgICAgICAgICAgIGlmIChpZHggPD0gMCkge1xuXHQgICAgICAgICAgICAgICAgbW9kdWxlXzEudHJhY2UudHJhY2VWaWV3U2VydmljZVVpVmlld0V2ZW50KFwiVHJpZWQgcmVtb3Zpbmcgbm9uLXJlZ2lzdGVyZWQgdWlWaWV3XCIsIHVpVmlldyk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgbW9kdWxlXzEudHJhY2UudHJhY2VWaWV3U2VydmljZVVpVmlld0V2ZW50KFwiPC0gRGVyZWdpc3RlcmluZ1wiLCB1aVZpZXcpO1xuXHQgICAgICAgICAgICBjb21tb25fMS5yZW1vdmVGcm9tKHVpVmlld3MpKHVpVmlldyk7XG5cdCAgICAgICAgfTtcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2Ygdmlld3MgY3VycmVudGx5IGF2YWlsYWJsZSBvbiB0aGUgcGFnZSwgYnkgZnVsbHktcXVhbGlmaWVkIG5hbWUuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgZnVsbHktcXVhbGlmaWVkIHZpZXcgbmFtZXMuXG5cdCAgICAgKi9cblx0ICAgIFZpZXdTZXJ2aWNlLnByb3RvdHlwZS5hdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudWlWaWV3cy5tYXAoaG9mXzEucHJvcChcImZxblwiKSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHZpZXdzIG9uIHRoZSBwYWdlIGNvbnRhaW5pbmcgbG9hZGVkIGNvbnRlbnQuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgZnVsbHktcXVhbGlmaWVkIHZpZXcgbmFtZXMuXG5cdCAgICAgKi9cblx0ICAgIFZpZXdTZXJ2aWNlLnByb3RvdHlwZS5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudWlWaWV3cy5maWx0ZXIoaG9mXzEucHJvcChcIiRjb25maWdcIikpLm1hcChob2ZfMS5wcm9wKFwibmFtZVwiKSk7XG5cdCAgICB9O1xuXHQgICAgLyoqXG5cdCAgICAgKiBOb3JtYWxpemVzIGEgdmlldydzIG5hbWUgZnJvbSBhIHN0YXRlLnZpZXdzIGNvbmZpZ3VyYXRpb24gYmxvY2suXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIGNvbnRleHQgdGhlIGNvbnRleHQgb2JqZWN0IChzdGF0ZSBkZWNsYXJhdGlvbikgdGhhdCB0aGUgdmlldyBiZWxvbmdzIHRvXG5cdCAgICAgKiBAcGFyYW0gcmF3Vmlld05hbWUgdGhlIG5hbWUgb2YgdGhlIHZpZXcsIGFzIGRlY2xhcmVkIGluIHRoZSBbW1N0YXRlRGVjbGFyYXRpb24udmlld3NdXVxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHVpVmlld05hbWUgYW5kIHVpVmlld0NvbnRleHRBbmNob3IgdGhhdCB0aGUgdmlldyB0YXJnZXRzXG5cdCAgICAgKi9cblx0ICAgIFZpZXdTZXJ2aWNlLm5vcm1hbGl6ZVVpVmlld1RhcmdldCA9IGZ1bmN0aW9uIChjb250ZXh0LCByYXdWaWV3TmFtZSkge1xuXHQgICAgICAgIGlmIChyYXdWaWV3TmFtZSA9PT0gdm9pZCAwKSB7IHJhd1ZpZXdOYW1lID0gXCJcIjsgfVxuXHQgICAgICAgIC8vIFRPRE86IFZhbGlkYXRlIGluY29taW5nIHZpZXcgbmFtZSB3aXRoIGEgcmVnZXhwIHRvIGFsbG93OlxuXHQgICAgICAgIC8vIGV4OiBcInZpZXcubmFtZUBmb28uYmFyXCIgLCBcIl4uXi52aWV3Lm5hbWVcIiAsIFwidmlldy5uYW1lQF4uXlwiICwgXCJcIiAsXG5cdCAgICAgICAgLy8gXCJAXCIgLCBcIiRkZWZhdWx0QF5cIiAsIFwiISRkZWZhdWx0LiRkZWZhdWx0XCIgLCBcIiFmb28uYmFyXCJcblx0ICAgICAgICB2YXIgdmlld0F0Q29udGV4dCA9IHJhd1ZpZXdOYW1lLnNwbGl0KFwiQFwiKTtcblx0ICAgICAgICB2YXIgdWlWaWV3TmFtZSA9IHZpZXdBdENvbnRleHRbMF0gfHwgXCIkZGVmYXVsdFwiOyAvLyBkZWZhdWx0IHRvIHVubmFtZWQgdmlld1xuXHQgICAgICAgIHZhciB1aVZpZXdDb250ZXh0QW5jaG9yID0gcHJlZGljYXRlc18xLmlzU3RyaW5nKHZpZXdBdENvbnRleHRbMV0pID8gdmlld0F0Q29udGV4dFsxXSA6IFwiXlwiOyAvLyBkZWZhdWx0IHRvIHBhcmVudCBjb250ZXh0XG5cdCAgICAgICAgLy8gSGFuZGxlIHJlbGF0aXZlIHZpZXctbmFtZSBzdWdhciBzeW50YXguXG5cdCAgICAgICAgLy8gTWF0Y2hlcyByYXdWaWV3TmFtZSBcIl4uXi5eLmZvby5iYXJcIiBpbnRvIGFycmF5OiBbXCJeLl4uXi5mb28uYmFyXCIsIFwiXi5eLl5cIiwgXCJmb28uYmFyXCJdLFxuXHQgICAgICAgIHZhciByZWxhdGl2ZVZpZXdOYW1lU3VnYXIgPSAvXihcXF4oPzpcXC5cXF4pKilcXC4oLiokKS8uZXhlYyh1aVZpZXdOYW1lKTtcblx0ICAgICAgICBpZiAocmVsYXRpdmVWaWV3TmFtZVN1Z2FyKSB7XG5cdCAgICAgICAgICAgIC8vIENsb2JiZXJzIGV4aXN0aW5nIGNvbnRleHRBbmNob3IgKHJhd1ZpZXdOYW1lIHZhbGlkYXRpb24gd2lsbCBmaXggdGhpcylcblx0ICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvciA9IHJlbGF0aXZlVmlld05hbWVTdWdhclsxXTsgLy8gc2V0IGFuY2hvciB0byBcIl4uXi5eXCJcblx0ICAgICAgICAgICAgdWlWaWV3TmFtZSA9IHJlbGF0aXZlVmlld05hbWVTdWdhclsyXTsgLy8gc2V0IHZpZXctbmFtZSB0byBcImZvby5iYXJcIlxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodWlWaWV3TmFtZS5jaGFyQXQoMCkgPT09ICchJykge1xuXHQgICAgICAgICAgICB1aVZpZXdOYW1lID0gdWlWaWV3TmFtZS5zdWJzdHIoMSk7XG5cdCAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3IgPSBcIlwiOyAvLyB0YXJnZXQgYWJzb2x1dGVseSBmcm9tIHJvb3Rcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gaGFuZGxlIHBhcmVudCByZWxhdGl2ZSB0YXJnZXRpbmcgXCJeLl4uXlwiXG5cdCAgICAgICAgdmFyIHJlbGF0aXZlTWF0Y2ggPSAvXihcXF4oPzpcXC5cXF4pKikkLztcblx0ICAgICAgICBpZiAocmVsYXRpdmVNYXRjaC5leGVjKHVpVmlld0NvbnRleHRBbmNob3IpKSB7XG5cdCAgICAgICAgICAgIHZhciBhbmNob3IgPSB1aVZpZXdDb250ZXh0QW5jaG9yLnNwbGl0KFwiLlwiKS5yZWR1Y2UoKGZ1bmN0aW9uIChhbmNob3IsIHgpIHsgcmV0dXJuIGFuY2hvci5wYXJlbnQ7IH0pLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvciA9IGFuY2hvci5uYW1lO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4geyB1aVZpZXdOYW1lOiB1aVZpZXdOYW1lLCB1aVZpZXdDb250ZXh0QW5jaG9yOiB1aVZpZXdDb250ZXh0QW5jaG9yIH07XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFZpZXdTZXJ2aWNlO1xuXHR9KCkpO1xuXHRleHBvcnRzLlZpZXdTZXJ2aWNlID0gVmlld1NlcnZpY2U7XG5cblxuLyoqKi8gfSxcbi8qIDUxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIEBtb2R1bGUgY29yZSAqLyAvKiogKi9cblx0dmFyIHN0YXRlUGFyYW1zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0dmFyIHF1ZXVlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHQvKipcblx0ICogR2xvYmFsIG11dGFibGUgc3RhdGVcblx0ICpcblx0ICogVGhpcyBpcyB3aGVyZSB3ZSBob2xkIHRoZSBnbG9iYWwgbXV0YWJsZSBzdGF0ZSBzdWNoIGFzIGN1cnJlbnQgc3RhdGUsIGN1cnJlbnRcblx0ICogcGFyYW1zLCBjdXJyZW50IHRyYW5zaXRpb24sIGxhc3Qgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uLCBsYXN0IGF0dGVtcHRlZCB0cmFuc2l0aW9uLCBldGMuXG5cdCAqL1xuXHR2YXIgVUlSb3V0ZXJHbG9iYWxzID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFVJUm91dGVyR2xvYmFscyh0cmFuc2l0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3VycmVudCBwYXJhbWV0ZXIgdmFsdWVzXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBUaGUgcGFyYW1ldGVyIHZhbHVlcyBmcm9tIHRoZSBsYXRlc3Qgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5wYXJhbXMgPSBuZXcgc3RhdGVQYXJhbXNfMS5TdGF0ZVBhcmFtcygpO1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFRoZSB0cmFuc2l0aW9uIGhpc3Rvcnlcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIFRoaXMgcXVldWUncyBzaXplIGlzIGxpbWl0ZWQgdG8gYSBtYXhpbXVtIG51bWJlciAoZGVmYXVsdDogMSlcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLnRyYW5zaXRpb25IaXN0b3J5ID0gbmV3IHF1ZXVlXzEuUXVldWUoW10sIDEpO1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFRoZSBoaXN0b3J5IG9mIHN1Y2Nlc3NmdWwgdHJhbnNpdGlvbnNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIFRoaXMgcXVldWUncyBzaXplIGlzIGxpbWl0ZWQgdG8gYSBtYXhpbXVtIG51bWJlciAoZGVmYXVsdDogMSlcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLnN1Y2Nlc3NmdWxUcmFuc2l0aW9ucyA9IG5ldyBxdWV1ZV8xLlF1ZXVlKFtdLCAxKTtcblx0ICAgICAgICB2YXIgYmVmb3JlTmV3VHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgkdHJhbnNpdGlvbiQpIHtcblx0ICAgICAgICAgICAgX3RoaXMudHJhbnNpdGlvbiA9ICR0cmFuc2l0aW9uJDtcblx0ICAgICAgICAgICAgX3RoaXMudHJhbnNpdGlvbkhpc3RvcnkuZW5xdWV1ZSgkdHJhbnNpdGlvbiQpO1xuXHQgICAgICAgICAgICB2YXIgdXBkYXRlR2xvYmFsU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zdWNjZXNzZnVsVHJhbnNpdGlvbnMuZW5xdWV1ZSgkdHJhbnNpdGlvbiQpO1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuJGN1cnJlbnQgPSAkdHJhbnNpdGlvbiQuJHRvKCk7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50ID0gX3RoaXMuJGN1cnJlbnQuc2VsZjtcblx0ICAgICAgICAgICAgICAgIGNvbW1vbl8xLmNvcHkoJHRyYW5zaXRpb24kLnBhcmFtcygpLCBfdGhpcy5wYXJhbXMpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAkdHJhbnNpdGlvbiQub25TdWNjZXNzKHt9LCB1cGRhdGVHbG9iYWxTdGF0ZSwgeyBwcmlvcml0eTogMTAwMDAgfSk7XG5cdCAgICAgICAgICAgIHZhciBjbGVhckN1cnJlbnRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkgeyBpZiAoX3RoaXMudHJhbnNpdGlvbiA9PT0gJHRyYW5zaXRpb24kKVxuXHQgICAgICAgICAgICAgICAgX3RoaXMudHJhbnNpdGlvbiA9IG51bGw7IH07XG5cdCAgICAgICAgICAgICR0cmFuc2l0aW9uJC5wcm9taXNlLnRoZW4oY2xlYXJDdXJyZW50VHJhbnNpdGlvbiwgY2xlYXJDdXJyZW50VHJhbnNpdGlvbik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB0cmFuc2l0aW9uU2VydmljZS5vbkJlZm9yZSh7fSwgWyckdHJhbnNpdGlvbiQnLCBiZWZvcmVOZXdUcmFuc2l0aW9uXSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gVUlSb3V0ZXJHbG9iYWxzO1xuXHR9KCkpO1xuXHRleHBvcnRzLlVJUm91dGVyR2xvYmFscyA9IFVJUm91dGVyR2xvYmFscztcblxuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKiogQG1vZHVsZSBjb3JlICovIC8qKiAqL1xuXHR2YXIgdXJsTWF0Y2hlckZhY3RvcnlfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHR2YXIgdXJsUm91dGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0dmFyIHN0YXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0dmFyIHVybFJvdXRlcl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdHZhciB0cmFuc2l0aW9uU2VydmljZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdHZhciB2aWV3XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0dmFyIHN0YXRlUmVnaXN0cnlfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xuXHR2YXIgc3RhdGVTZXJ2aWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0dmFyIGdsb2JhbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHQvKipcblx0ICogVGhlIG1hc3RlciBjbGFzcyB1c2VkIHRvIGluc3RhbnRpYXRlIGFuIGluc3RhbmNlIG9mIFVJLVJvdXRlci5cblx0ICpcblx0ICogVGhpcyBjbGFzcyBpbnN0YW50aWF0ZXMgYW5kIHdpcmVzIHRoZSBnbG9iYWwgVUktUm91dGVyIHNlcnZpY2VzLlxuXHQgKlxuXHQgKiBBZnRlciBpbnN0YW50aWF0aW5nIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBSb3V0ZXIgY2xhc3MsIGNvbmZpZ3VyZSBpdCBmb3IgeW91ciBhcHAuICBGb3IgaW5zdGFuY2UsIHJlZ2lzdGVyXG5cdCAqIHlvdXIgYXBwIHN0YXRlcyB3aXRoIHRoZSBbW3N0YXRlUmVnaXN0cnldXSAoYW5kIHNldCB1cmwgb3B0aW9ucyB1c2luZyAuLi4pLiAgVGhlbiwgdGVsbCBVSS1Sb3V0ZXIgdG8gbW9uaXRvclxuXHQgKiB0aGUgVVJMIGJ5IGNhbGxpbmcgYHVybFJvdXRlci5saXN0ZW4oKWAgKFtbVVJMUm91dGVyLmxpc3Rlbl1dKVxuXHQgKi9cblx0dmFyIFVJUm91dGVyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFVJUm91dGVyKCkge1xuXHQgICAgICAgIHRoaXMudmlld1NlcnZpY2UgPSBuZXcgdmlld18xLlZpZXdTZXJ2aWNlKCk7XG5cdCAgICAgICAgdGhpcy50cmFuc2l0aW9uU2VydmljZSA9IG5ldyB0cmFuc2l0aW9uU2VydmljZV8xLlRyYW5zaXRpb25TZXJ2aWNlKHRoaXMudmlld1NlcnZpY2UpO1xuXHQgICAgICAgIHRoaXMuZ2xvYmFscyA9IG5ldyBnbG9iYWxzXzEuVUlSb3V0ZXJHbG9iYWxzKHRoaXMudHJhbnNpdGlvblNlcnZpY2UpO1xuXHQgICAgICAgIHRoaXMudXJsTWF0Y2hlckZhY3RvcnkgPSBuZXcgdXJsTWF0Y2hlckZhY3RvcnlfMS5VcmxNYXRjaGVyRmFjdG9yeSgpO1xuXHQgICAgICAgIHRoaXMudXJsUm91dGVyUHJvdmlkZXIgPSBuZXcgdXJsUm91dGVyXzEuVXJsUm91dGVyUHJvdmlkZXIodGhpcy51cmxNYXRjaGVyRmFjdG9yeSwgdGhpcy5nbG9iYWxzLnBhcmFtcyk7XG5cdCAgICAgICAgdGhpcy51cmxSb3V0ZXIgPSBuZXcgdXJsUm91dGVyXzIuVXJsUm91dGVyKHRoaXMudXJsUm91dGVyUHJvdmlkZXIpO1xuXHQgICAgICAgIHRoaXMuc3RhdGVSZWdpc3RyeSA9IG5ldyBzdGF0ZVJlZ2lzdHJ5XzEuU3RhdGVSZWdpc3RyeSh0aGlzLnVybE1hdGNoZXJGYWN0b3J5LCB0aGlzLnVybFJvdXRlclByb3ZpZGVyKTtcblx0ICAgICAgICAvKiogQGhpZGRlbiBUT0RPOiBtb3ZlIHRoaXMgdG8gbmcxLnRzICovXG5cdCAgICAgICAgdGhpcy5zdGF0ZVByb3ZpZGVyID0gbmV3IHN0YXRlXzEuU3RhdGVQcm92aWRlcih0aGlzLnN0YXRlUmVnaXN0cnkpO1xuXHQgICAgICAgIHRoaXMuc3RhdGVTZXJ2aWNlID0gbmV3IHN0YXRlU2VydmljZV8xLlN0YXRlU2VydmljZSh0aGlzLnZpZXdTZXJ2aWNlLCB0aGlzLnVybFJvdXRlciwgdGhpcy50cmFuc2l0aW9uU2VydmljZSwgdGhpcy5zdGF0ZVJlZ2lzdHJ5LCB0aGlzLnN0YXRlUHJvdmlkZXIsIHRoaXMuZ2xvYmFscyk7XG5cdCAgICAgICAgdGhpcy52aWV3U2VydmljZS5yb290Q29udGV4dCh0aGlzLnN0YXRlUmVnaXN0cnkucm9vdCgpKTtcblx0ICAgICAgICB0aGlzLmdsb2JhbHMuJGN1cnJlbnQgPSB0aGlzLnN0YXRlUmVnaXN0cnkucm9vdCgpO1xuXHQgICAgICAgIHRoaXMuZ2xvYmFscy5jdXJyZW50ID0gdGhpcy5nbG9iYWxzLiRjdXJyZW50LnNlbGY7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gVUlSb3V0ZXI7XG5cdH0oKSk7XG5cdGV4cG9ydHMuVUlSb3V0ZXIgPSBVSVJvdXRlcjtcblxuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiAjIFVJLVJvdXRlciBmb3IgQW5ndWxhciAxXG5cdCAqXG5cdCAqIC0gUHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBbW0NvcmVTZXJ2aWNlc11dIEFQSSwgYmFzZWQgb24gYW5ndWxhciAxIHNlcnZpY2VzLlxuXHQgKiAtIEFsc28gcmVnaXN0ZXJzIHNvbWUgc2VydmljZXMgd2l0aCB0aGUgYW5ndWxhciAxIGluamVjdG9yLlxuXHQgKiAtIENyZWF0ZXMgYW5kIGJvb3RzdHJhcHMgYSBuZXcgW1tVSVJvdXRlcl1dIG9iamVjdC4gIFRpZXMgaXQgdG8gdGhlIHRoZSBhbmd1bGFyIDEgbGlmZWN5Y2xlLlxuXHQgKlxuXHQgKiBAbW9kdWxlIG5nMVxuXHQgKiBAcHJlZmVycmVkXG5cdCAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIGZvciB0eXBlZG9jICovXG5cdHZhciByb3V0ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgaG9mXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIG1vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdHZhciBtb2R1bGVfMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHR2YXIgbW9kdWxlXzMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dmFyIHRyYWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0dmFyIHZpZXdzQnVpbGRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG5cdHZhciB0ZW1wbGF0ZUZhY3RvcnlfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXHQvKiogQGhpZGRlbiAqL1xuXHR2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJ1aS5yb3V0ZXIuYW5ndWxhcjFcIiwgW10pO1xuXHQvKipcblx0ICogQG5nZG9jIG92ZXJ2aWV3XG5cdCAqIEBuYW1lIHVpLnJvdXRlci51dGlsXG5cdCAqXG5cdCAqIEBkZXNjcmlwdGlvblxuXHQgKiAjIHVpLnJvdXRlci51dGlsIHN1Yi1tb2R1bGVcblx0ICpcblx0ICogVGhpcyBtb2R1bGUgaXMgYSBkZXBlbmRlbmN5IG9mIG90aGVyIHN1Yi1tb2R1bGVzLiBEbyBub3QgaW5jbHVkZSB0aGlzIG1vZHVsZSBhcyBhIGRlcGVuZGVuY3lcblx0ICogaW4geW91ciBhbmd1bGFyIGFwcCAodXNlIHtAbGluayB1aS5yb3V0ZXJ9IG1vZHVsZSBpbnN0ZWFkKS5cblx0ICpcblx0ICovXG5cdGFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIudXRpbCcsIFsnbmcnLCAndWkucm91dGVyLmluaXQnXSk7XG5cdC8qKlxuXHQgKiBAbmdkb2Mgb3ZlcnZpZXdcblx0ICogQG5hbWUgdWkucm91dGVyLnJvdXRlclxuXHQgKlxuXHQgKiBAcmVxdWlyZXMgdWkucm91dGVyLnV0aWxcblx0ICpcblx0ICogQGRlc2NyaXB0aW9uXG5cdCAqICMgdWkucm91dGVyLnJvdXRlciBzdWItbW9kdWxlXG5cdCAqXG5cdCAqIFRoaXMgbW9kdWxlIGlzIGEgZGVwZW5kZW5jeSBvZiBvdGhlciBzdWItbW9kdWxlcy4gRG8gbm90IGluY2x1ZGUgdGhpcyBtb2R1bGUgYXMgYSBkZXBlbmRlbmN5XG5cdCAqIGluIHlvdXIgYW5ndWxhciBhcHAgKHVzZSB7QGxpbmsgdWkucm91dGVyfSBtb2R1bGUgaW5zdGVhZCkuXG5cdCAqL1xuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnJvdXRlcicsIFsndWkucm91dGVyLnV0aWwnXSk7XG5cdC8qKlxuXHQgKiBAbmdkb2Mgb3ZlcnZpZXdcblx0ICogQG5hbWUgdWkucm91dGVyLnN0YXRlXG5cdCAqXG5cdCAqIEByZXF1aXJlcyB1aS5yb3V0ZXIucm91dGVyXG5cdCAqIEByZXF1aXJlcyB1aS5yb3V0ZXIudXRpbFxuXHQgKlxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogIyB1aS5yb3V0ZXIuc3RhdGUgc3ViLW1vZHVsZVxuXHQgKlxuXHQgKiBUaGlzIG1vZHVsZSBpcyBhIGRlcGVuZGVuY3kgb2YgdGhlIG1haW4gdWkucm91dGVyIG1vZHVsZS4gRG8gbm90IGluY2x1ZGUgdGhpcyBtb2R1bGUgYXMgYSBkZXBlbmRlbmN5XG5cdCAqIGluIHlvdXIgYW5ndWxhciBhcHAgKHVzZSB7QGxpbmsgdWkucm91dGVyfSBtb2R1bGUgaW5zdGVhZCkuXG5cdCAqXG5cdCAqL1xuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJywgWyd1aS5yb3V0ZXIucm91dGVyJywgJ3VpLnJvdXRlci51dGlsJywgJ3VpLnJvdXRlci5hbmd1bGFyMSddKTtcblx0LyoqXG5cdCAqIEBuZ2RvYyBvdmVydmlld1xuXHQgKiBAbmFtZSB1aS5yb3V0ZXJcblx0ICpcblx0ICogQHJlcXVpcmVzIHVpLnJvdXRlci5zdGF0ZVxuXHQgKlxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogIyB1aS5yb3V0ZXJcblx0ICpcblx0ICogIyMgVGhlIG1haW4gbW9kdWxlIGZvciB1aS5yb3V0ZXJcblx0ICogVGhlcmUgYXJlIHNldmVyYWwgc3ViLW1vZHVsZXMgaW5jbHVkZWQgd2l0aCB0aGUgdWkucm91dGVyIG1vZHVsZSwgaG93ZXZlciBvbmx5IHRoaXMgbW9kdWxlIGlzIG5lZWRlZFxuXHQgKiBhcyBhIGRlcGVuZGVuY3kgd2l0aGluIHlvdXIgYW5ndWxhciBhcHAuIFRoZSBvdGhlciBtb2R1bGVzIGFyZSBmb3Igb3JnYW5pemF0aW9uIHB1cnBvc2VzLlxuXHQgKlxuXHQgKiBUaGUgbW9kdWxlcyBhcmU6XG5cdCAqICogdWkucm91dGVyIC0gdGhlIG1haW4gXCJ1bWJyZWxsYVwiIG1vZHVsZVxuXHQgKiAqIHVpLnJvdXRlci5yb3V0ZXIgLVxuXHQgKlxuXHQgKiAqWW91J2xsIG5lZWQgdG8gaW5jbHVkZSAqKm9ubHkqKiB0aGlzIG1vZHVsZSBhcyB0aGUgZGVwZW5kZW5jeSB3aXRoaW4geW91ciBhbmd1bGFyIGFwcC4qXG5cdCAqXG5cdCAqIDxwcmU+XG5cdCAqIDwhZG9jdHlwZSBodG1sPlxuXHQgKiA8aHRtbCBuZy1hcHA9XCJteUFwcFwiPlxuXHQgKiA8aGVhZD5cblx0ICogICA8c2NyaXB0IHNyYz1cImpzL2FuZ3VsYXIuanNcIj48L3NjcmlwdD5cblx0ICogICA8IS0tIEluY2x1ZGUgdGhlIHVpLXJvdXRlciBzY3JpcHQgLS0+XG5cdCAqICAgPHNjcmlwdCBzcmM9XCJqcy9hbmd1bGFyLXVpLXJvdXRlci5taW4uanNcIj48L3NjcmlwdD5cblx0ICogICA8c2NyaXB0PlxuXHQgKiAgICAgLy8gLi4uYW5kIGFkZCAndWkucm91dGVyJyBhcyBhIGRlcGVuZGVuY3lcblx0ICogICAgIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsndWkucm91dGVyJ10pO1xuXHQgKiAgIDwvc2NyaXB0PlxuXHQgKiA8L2hlYWQ+XG5cdCAqIDxib2R5PlxuXHQgKiA8L2JvZHk+XG5cdCAqIDwvaHRtbD5cblx0ICogPC9wcmU+XG5cdCAqL1xuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyJywgWyd1aS5yb3V0ZXIuaW5pdCcsICd1aS5yb3V0ZXIuc3RhdGUnLCAndWkucm91dGVyLmFuZ3VsYXIxJ10pO1xuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLmNvbXBhdCcsIFsndWkucm91dGVyJ10pO1xuXHQvKipcblx0ICogQW5ub3RhdGVzIGEgY29udHJvbGxlciBleHByZXNzaW9uIChtYXkgYmUgYSBjb250cm9sbGVyIGZ1bmN0aW9uKCksIGEgXCJjb250cm9sbGVybmFtZVwiLFxuXHQgKiBvciBcImNvbnRyb2xsZXJuYW1lIGFzIG5hbWVcIilcblx0ICpcblx0ICogLSBUZW1wb3JhcmlseSBkZWNvcmF0ZXMgJGluamVjdG9yLmluc3RhbnRpYXRlLlxuXHQgKiAtIEludm9rZXMgJGNvbnRyb2xsZXIoKSBzZXJ2aWNlXG5cdCAqICAgLSBDYWxscyAkaW5qZWN0b3IuaW5zdGFudGlhdGUgd2l0aCBjb250cm9sbGVyIGNvbnN0cnVjdG9yXG5cdCAqIC0gQW5ub3RhdGUgY29uc3RydWN0b3Jcblx0ICogLSBVbmRlY29yYXRlICRpbmplY3RvclxuXHQgKlxuXHQgKiByZXR1cm5zIGFuIGFycmF5IG9mIHN0cmluZ3MsIHdoaWNoIGFyZSB0aGUgYXJndW1lbnRzIG9mIHRoZSBjb250cm9sbGVyIGV4cHJlc3Npb25cblx0ICovXG5cdGZ1bmN0aW9uIGFubm90YXRlQ29udHJvbGxlcihjb250cm9sbGVyRXhwcmVzc2lvbikge1xuXHQgICAgdmFyICRpbmplY3RvciA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3Rvcjtcblx0ICAgIHZhciAkY29udHJvbGxlciA9ICRpbmplY3Rvci5nZXQoXCIkY29udHJvbGxlclwiKTtcblx0ICAgIHZhciBvbGRJbnN0YW50aWF0ZSA9ICRpbmplY3Rvci5pbnN0YW50aWF0ZTtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgdmFyIGRlcHNfMTtcblx0ICAgICAgICAkaW5qZWN0b3IuaW5zdGFudGlhdGUgPSBmdW5jdGlvbiBmYWtlSW5zdGFudGlhdGUoY29uc3RydWN0b3JGdW5jdGlvbikge1xuXHQgICAgICAgICAgICAkaW5qZWN0b3IuaW5zdGFudGlhdGUgPSBvbGRJbnN0YW50aWF0ZTsgLy8gVW4tZGVjb3JhdGUgQVNBUFxuXHQgICAgICAgICAgICBkZXBzXzEgPSAkaW5qZWN0b3IuYW5ub3RhdGUoY29uc3RydWN0b3JGdW5jdGlvbik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAkY29udHJvbGxlcihjb250cm9sbGVyRXhwcmVzc2lvbiwgeyAkc2NvcGU6IHt9IH0pO1xuXHQgICAgICAgIHJldHVybiBkZXBzXzE7XG5cdCAgICB9XG5cdCAgICBmaW5hbGx5IHtcblx0ICAgICAgICAkaW5qZWN0b3IuaW5zdGFudGlhdGUgPSBvbGRJbnN0YW50aWF0ZTtcblx0ICAgIH1cblx0fVxuXHRleHBvcnRzLmFubm90YXRlQ29udHJvbGxlciA9IGFubm90YXRlQ29udHJvbGxlcjtcblx0cnVuQmxvY2suJGluamVjdCA9IFsnJGluamVjdG9yJywgJyRxJ107XG5cdGZ1bmN0aW9uIHJ1bkJsb2NrKCRpbmplY3RvciwgJHEpIHtcblx0ICAgIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3RvciA9ICRpbmplY3Rvcjtcblx0ICAgIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxID0gJHE7XG5cdH1cblx0YXBwLnJ1bihydW5CbG9jayk7XG5cdHZhciByb3V0ZXIgPSBudWxsO1xuXHRuZzFVSVJvdXRlci4kaW5qZWN0ID0gWyckbG9jYXRpb25Qcm92aWRlciddO1xuXHQvKiogVGhpcyBhbmd1bGFyIDEgcHJvdmlkZXIgaW5zdGFudGlhdGVzIGEgUm91dGVyIGFuZCBleHBvc2VzIGl0cyBzZXJ2aWNlcyB2aWEgdGhlIGFuZ3VsYXIgaW5qZWN0b3IgKi9cblx0ZnVuY3Rpb24gbmcxVUlSb3V0ZXIoJGxvY2F0aW9uUHJvdmlkZXIpIHtcblx0ICAgIC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgUm91dGVyIHdoZW4gdGhlIG5nMVVJUm91dGVyUHJvdmlkZXIgaXMgaW5pdGlhbGl6ZWRcblx0ICAgIHJvdXRlciA9IG5ldyByb3V0ZXJfMS5VSVJvdXRlcigpO1xuXHQgICAgLy8gQXBwbHkgbmcxIGB2aWV3c2AgYnVpbGRlciB0byB0aGUgU3RhdGVCdWlsZGVyXG5cdCAgICByb3V0ZXIuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IoXCJ2aWV3c1wiLCB2aWV3c0J1aWxkZXJfMS5uZzFWaWV3c0J1aWxkZXIpO1xuXHQgICAgcm91dGVyLnZpZXdTZXJ2aWNlLnZpZXdDb25maWdGYWN0b3J5KCduZzEnLCB2aWV3c0J1aWxkZXJfMS5uZzFWaWV3Q29uZmlnRmFjdG9yeSk7XG5cdCAgICAvLyBCaW5kIExvY2F0aW9uQ29uZmlnLmhhc2hQcmVmaXggdG8gJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeFxuXHQgICAgY29tbW9uXzEuYmluZEZ1bmN0aW9ucygkbG9jYXRpb25Qcm92aWRlciwgY29yZXNlcnZpY2VzXzEuc2VydmljZXMubG9jYXRpb25Db25maWcsICRsb2NhdGlvblByb3ZpZGVyLCBbJ2hhc2hQcmVmaXgnXSk7XG5cdCAgICAvLyBDcmVhdGUgYSBMb2NhdGlvblNlcnZpY2Uub25DaGFuZ2UgcmVnaXN0cnlcblx0ICAgIHZhciB1cmxMaXN0ZW5lcnMgPSBbXTtcblx0ICAgIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLmxvY2F0aW9uLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdXJsTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21tb25fMS5yZW1vdmVGcm9tKHVybExpc3RlbmVycykoY2FsbGJhY2spOyB9O1xuXHQgICAgfTtcblx0ICAgIHRoaXMuJGdldCA9ICRnZXQ7XG5cdCAgICAkZ2V0LiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckYnJvd3NlcicsICckc25pZmZlcicsICckcm9vdFNjb3BlJywgJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJ107XG5cdCAgICBmdW5jdGlvbiAkZ2V0KCRsb2NhdGlvbiwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdFNjb3BlLCAkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcblx0ICAgICAgICAvLyBCaW5kICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MgdG8gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGluIExvY2F0aW9uU2VydmljZS5vbkNoYW5nZVxuXHQgICAgICAgICRyb290U2NvcGUuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLCBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiB1cmxMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKGV2dCk7IH0pOyB9KTtcblx0ICAgICAgICAvLyBCaW5kIExvY2F0aW9uQ29uZmlnLmh0bWw1TW9kZSB0byAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUgYW5kICRzbmlmZmVyLmhpc3Rvcnlcblx0ICAgICAgICBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy5sb2NhdGlvbkNvbmZpZy5odG1sNU1vZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBodG1sNU1vZGUgPSAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoKTtcblx0ICAgICAgICAgICAgaHRtbDVNb2RlID0gcHJlZGljYXRlc18xLmlzT2JqZWN0KGh0bWw1TW9kZSkgPyBodG1sNU1vZGUuZW5hYmxlZCA6IGh0bWw1TW9kZTtcblx0ICAgICAgICAgICAgcmV0dXJuIGh0bWw1TW9kZSAmJiAkc25pZmZlci5oaXN0b3J5O1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgY29yZXNlcnZpY2VzXzEuc2VydmljZXMudGVtcGxhdGUuZ2V0ID0gZnVuY3Rpb24gKHVybCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCwgeyBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsIGhlYWRlcnM6IHsgQWNjZXB0OiAndGV4dC9odG1sJyB9IH0pLnRoZW4oaG9mXzEucHJvcChcImRhdGFcIikpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gQmluZCB0aGVzZSBMb2NhdGlvblNlcnZpY2UgZnVuY3Rpb25zIHRvICRsb2NhdGlvblxuXHQgICAgICAgIGNvbW1vbl8xLmJpbmRGdW5jdGlvbnMoJGxvY2F0aW9uLCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy5sb2NhdGlvbiwgJGxvY2F0aW9uLCBbXCJyZXBsYWNlXCIsIFwidXJsXCIsIFwicGF0aFwiLCBcInNlYXJjaFwiLCBcImhhc2hcIl0pO1xuXHQgICAgICAgIC8vIEJpbmQgdGhlc2UgTG9jYXRpb25Db25maWcgZnVuY3Rpb25zIHRvICRsb2NhdGlvblxuXHQgICAgICAgIGNvbW1vbl8xLmJpbmRGdW5jdGlvbnMoJGxvY2F0aW9uLCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy5sb2NhdGlvbkNvbmZpZywgJGxvY2F0aW9uLCBbJ3BvcnQnLCAncHJvdG9jb2wnLCAnaG9zdCddKTtcblx0ICAgICAgICAvLyBCaW5kIHRoZXNlIExvY2F0aW9uQ29uZmlnIGZ1bmN0aW9ucyB0byAkYnJvd3NlclxuXHQgICAgICAgIGNvbW1vbl8xLmJpbmRGdW5jdGlvbnMoJGJyb3dzZXIsIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLmxvY2F0aW9uQ29uZmlnLCAkYnJvd3NlciwgWydiYXNlSHJlZiddKTtcblx0ICAgICAgICByZXR1cm4gcm91dGVyO1xuXHQgICAgfVxuXHR9XG5cdHZhciByZXNvbHZlRmFjdG9yeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgZW11bGF0ZXMgbW9zdCBvZiB0aGUgYmVoYXZpb3Igb2YgdGhlIHVpLXJvdXRlciAwLjIueCAkcmVzb2x2ZS5yZXNvbHZlKCkgc2VydmljZSBBUEkuXG5cdCAgICAgKiBAcGFyYW0gaW52b2NhYmxlcyBhbiBvYmplY3QsIHdpdGgga2V5cyBhcyByZXNvbHZlIG5hbWVzIGFuZCB2YWx1ZXMgYXMgaW5qZWN0YWJsZSBmdW5jdGlvbnNcblx0ICAgICAqIEBwYXJhbSBsb2NhbHMga2V5L3ZhbHVlIHByZS1yZXNvbHZlZCBkYXRhIChsb2NhbHMpXG5cdCAgICAgKiBAcGFyYW0gcGFyZW50IGEgcHJvbWlzZSBmb3IgYSBcInBhcmVudCByZXNvbHZlXCJcblx0ICAgICAqL1xuXHQgICAgcmVzb2x2ZTogZnVuY3Rpb24gKGludm9jYWJsZXMsIGxvY2FscywgcGFyZW50KSB7XG5cdCAgICAgICAgaWYgKGxvY2FscyA9PT0gdm9pZCAwKSB7IGxvY2FscyA9IHt9OyB9XG5cdCAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBuZXcgbW9kdWxlXzEuTm9kZShuZXcgbW9kdWxlXzMuU3RhdGUoeyBwYXJhbXM6IHt9IH0pKTtcblx0ICAgICAgICB2YXIgbm9kZSA9IG5ldyBtb2R1bGVfMS5Ob2RlKG5ldyBtb2R1bGVfMy5TdGF0ZSh7IHBhcmFtczoge30gfSkpO1xuXHQgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IG1vZHVsZV8yLlJlc29sdmVDb250ZXh0KFtwYXJlbnROb2RlLCBub2RlXSk7XG5cdCAgICAgICAgY29udGV4dC5hZGRSZXNvbHZhYmxlcyhtb2R1bGVfMi5SZXNvbHZhYmxlLm1ha2VSZXNvbHZhYmxlcyhpbnZvY2FibGVzKSwgbm9kZS5zdGF0ZSk7XG5cdCAgICAgICAgdmFyIHJlc29sdmVEYXRhID0gZnVuY3Rpb24gKHBhcmVudExvY2Fscykge1xuXHQgICAgICAgICAgICB2YXIgcmV3cmFwID0gZnVuY3Rpb24gKF9sb2NhbHMpIHsgcmV0dXJuIG1vZHVsZV8yLlJlc29sdmFibGUubWFrZVJlc29sdmFibGVzKGNvbW1vbl8xLm1hcChfbG9jYWxzLCBmdW5jdGlvbiAobG9jYWwpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvY2FsOyB9OyB9KSk7IH07XG5cdCAgICAgICAgICAgIGNvbnRleHQuYWRkUmVzb2x2YWJsZXMocmV3cmFwKHBhcmVudExvY2FscyksIHBhcmVudE5vZGUuc3RhdGUpO1xuXHQgICAgICAgICAgICBjb250ZXh0LmFkZFJlc29sdmFibGVzKHJld3JhcChsb2NhbHMpLCBub2RlLnN0YXRlKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQucmVzb2x2ZVBhdGgoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBwYXJlbnQgPyBwYXJlbnQudGhlbihyZXNvbHZlRGF0YSkgOiByZXNvbHZlRGF0YSh7fSk7XG5cdCAgICB9XG5cdH0pOyB9O1xuXHRmdW5jdGlvbiAkc3RhdGVQYXJhbXNGYWN0b3J5KG5nMVVJUm91dGVyKSB7XG5cdCAgICByZXR1cm4gbmcxVUlSb3V0ZXIuZ2xvYmFscy5wYXJhbXM7XG5cdH1cblx0Ly8gVGhlICd1aS5yb3V0ZXInIG5nMSBtb2R1bGUgZGVwZW5kcyBvbiAndWkucm91dGVyLmluaXQnIG1vZHVsZS5cblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5pbml0JywgW10pLnByb3ZpZGVyKFwibmcxVUlSb3V0ZXJcIiwgbmcxVUlSb3V0ZXIpO1xuXHQvLyBUaGlzIGVmZmVjdGl2ZWx5IGNhbGxzICRnZXQoKSB0byBpbml0IHdoZW4gd2UgZW50ZXIgcnVudGltZVxuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLmluaXQnKS5ydW4oWyduZzFVSVJvdXRlcicsIGZ1bmN0aW9uIChuZzFVSVJvdXRlcikgeyB9XSk7XG5cdC8vICR1cmxNYXRjaGVyRmFjdG9yeSBzZXJ2aWNlIGFuZCAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlclxuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnV0aWwnKS5wcm92aWRlcignJHVybE1hdGNoZXJGYWN0b3J5JywgWyduZzFVSVJvdXRlclByb3ZpZGVyJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcm91dGVyLnVybE1hdGNoZXJGYWN0b3J5OyB9XSk7XG5cdGFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIudXRpbCcpLnJ1bihbJyR1cmxNYXRjaGVyRmFjdG9yeScsIGZ1bmN0aW9uICgkdXJsTWF0Y2hlckZhY3RvcnkpIHsgfV0pO1xuXHQvLyAkdXJsUm91dGVyIHNlcnZpY2UgYW5kICR1cmxSb3V0ZXJQcm92aWRlclxuXHRmdW5jdGlvbiBnZXRVcmxSb3V0ZXJQcm92aWRlcigpIHtcblx0ICAgIHJvdXRlci51cmxSb3V0ZXJQcm92aWRlcltcIiRnZXRcIl0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcm91dGVyLnVybFJvdXRlci51cGRhdGUodHJ1ZSk7XG5cdCAgICAgICAgaWYgKCF0aGlzLmludGVyY2VwdERlZmVycmVkKVxuXHQgICAgICAgICAgICByb3V0ZXIudXJsUm91dGVyLmxpc3RlbigpO1xuXHQgICAgICAgIHJldHVybiByb3V0ZXIudXJsUm91dGVyO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiByb3V0ZXIudXJsUm91dGVyUHJvdmlkZXI7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5yb3V0ZXInKS5wcm92aWRlcignJHVybFJvdXRlcicsIFsnbmcxVUlSb3V0ZXJQcm92aWRlcicsIGdldFVybFJvdXRlclByb3ZpZGVyXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIucm91dGVyJykucnVuKFsnJHVybFJvdXRlcicsIGZ1bmN0aW9uICgkdXJsUm91dGVyKSB7IH1dKTtcblx0Ly8gJHN0YXRlIHNlcnZpY2UgYW5kICRzdGF0ZVByb3ZpZGVyXG5cdC8vICR1cmxSb3V0ZXIgc2VydmljZSBhbmQgJHVybFJvdXRlclByb3ZpZGVyXG5cdGZ1bmN0aW9uIGdldFN0YXRlUHJvdmlkZXIoKSB7XG5cdCAgICByb3V0ZXIuc3RhdGVQcm92aWRlcltcIiRnZXRcIl0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgLy8gQXV0b2ZsdXNoIG9uY2Ugd2UgYXJlIGluIHJ1bnRpbWVcblx0ICAgICAgICByb3V0ZXIuc3RhdGVSZWdpc3RyeS5zdGF0ZVF1ZXVlLmF1dG9GbHVzaChyb3V0ZXIuc3RhdGVTZXJ2aWNlKTtcblx0ICAgICAgICByZXR1cm4gcm91dGVyLnN0YXRlU2VydmljZTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gcm91dGVyLnN0YXRlUHJvdmlkZXI7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpLnByb3ZpZGVyKCckc3RhdGUnLCBbJ25nMVVJUm91dGVyUHJvdmlkZXInLCBnZXRTdGF0ZVByb3ZpZGVyXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKS5ydW4oWyckc3RhdGUnLCBmdW5jdGlvbiAoJHN0YXRlKSB7IH1dKTtcblx0Ly8gJHN0YXRlUGFyYW1zIHNlcnZpY2Vcblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpLmZhY3RvcnkoJyRzdGF0ZVBhcmFtcycsIFsnbmcxVUlSb3V0ZXInLCBmdW5jdGlvbiAobmcxVUlSb3V0ZXIpIHtcblx0ICAgICAgICByZXR1cm4gbmcxVUlSb3V0ZXIuZ2xvYmFscy5wYXJhbXM7XG5cdCAgICB9XSk7XG5cdC8vICR0cmFuc2l0aW9ucyBzZXJ2aWNlIGFuZCAkdHJhbnNpdGlvbnNQcm92aWRlclxuXHRmdW5jdGlvbiBnZXRUcmFuc2l0aW9uc1Byb3ZpZGVyKCkge1xuXHQgICAgbG9hZEFsbENvbnRyb2xsZXJMb2NhbHMuJGluamVjdCA9IFsnJHRyYW5zaXRpb24kJ107XG5cdCAgICBmdW5jdGlvbiBsb2FkQWxsQ29udHJvbGxlckxvY2FscygkdHJhbnNpdGlvbiQpIHtcblx0ICAgICAgICB2YXIgbG9hZExvY2FscyA9IGZ1bmN0aW9uICh2Yykge1xuXHQgICAgICAgICAgICB2YXIgbm9kZSA9IGNvbW1vbl8xLmZpbmQoJHRyYW5zaXRpb24kLnRyZWVDaGFuZ2VzKCkudG8sIGhvZl8xLnByb3BFcSgnc3RhdGUnLCB2Yy52aWV3RGVjbC4kY29udGV4dCkpO1xuXHQgICAgICAgICAgICAvLyBUZW1wb3JhcnkgZml4OyBUaGlzIHdob2xlIGNhbGxiYWNrIHNob3VsZCBiZSBudWtlZCB3aGVuIGZpeGluZyAjMjY2MlxuXHQgICAgICAgICAgICBpZiAoIW5vZGUpXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEud2hlbigpO1xuXHQgICAgICAgICAgICB2YXIgcmVzb2x2ZUN0eCA9IG5vZGUucmVzb2x2ZUNvbnRleHQ7XG5cdCAgICAgICAgICAgIHZhciBjb250cm9sbGVyRGVwcyA9IGFubm90YXRlQ29udHJvbGxlcih2Yy5jb250cm9sbGVyKTtcblx0ICAgICAgICAgICAgdmFyIHJlc29sdmFibGVzID0gcmVzb2x2ZUN0eC5nZXRSZXNvbHZhYmxlcygpO1xuXHQgICAgICAgICAgICBmdW5jdGlvbiAkbG9hZENvbnRyb2xsZXJMb2NhbHMoKSB7IH1cblx0ICAgICAgICAgICAgJGxvYWRDb250cm9sbGVyTG9jYWxzLiRpbmplY3QgPSBjb250cm9sbGVyRGVwcy5maWx0ZXIoZnVuY3Rpb24gKGRlcCkgeyByZXR1cm4gcmVzb2x2YWJsZXMuaGFzT3duUHJvcGVydHkoZGVwKTsgfSk7XG5cdCAgICAgICAgICAgIC8vIExvYWQgYW55IGNvbnRyb2xsZXIgcmVzb2x2ZXMgdGhhdCBhcmVuJ3QgYWxyZWFkeSBsb2FkZWRcblx0ICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVDdHguaW52b2tlTGF0ZXIoJGxvYWRDb250cm9sbGVyTG9jYWxzKVxuXHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdmMubG9jYWxzID0gY29tbW9uXzEubWFwKHJlc29sdmFibGVzLCBmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMuZGF0YTsgfSk7IH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIGxvYWRBbGxMb2NhbHMgPSAkdHJhbnNpdGlvbiQudmlld3MoXCJlbnRlcmluZ1wiKS5maWx0ZXIoZnVuY3Rpb24gKHZjKSB7IHJldHVybiAhIXZjLmNvbnRyb2xsZXI7IH0pLm1hcChsb2FkTG9jYWxzKTtcblx0ICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEuYWxsKGxvYWRBbGxMb2NhbHMpLnRoZW4oY29tbW9uXzEubm9vcCk7XG5cdCAgICB9XG5cdCAgICByb3V0ZXIudHJhbnNpdGlvblNlcnZpY2Uub25GaW5pc2goe30sIGxvYWRBbGxDb250cm9sbGVyTG9jYWxzKTtcblx0ICAgIHJvdXRlci50cmFuc2l0aW9uU2VydmljZVtcIiRnZXRcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiByb3V0ZXIudHJhbnNpdGlvblNlcnZpY2U7IH07XG5cdCAgICByZXR1cm4gcm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlO1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKS5wcm92aWRlcignJHRyYW5zaXRpb25zJywgWyduZzFVSVJvdXRlclByb3ZpZGVyJywgZ2V0VHJhbnNpdGlvbnNQcm92aWRlcl0pO1xuXHQvLyAkdGVtcGxhdGVGYWN0b3J5IHNlcnZpY2Vcblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci51dGlsJykuZmFjdG9yeSgnJHRlbXBsYXRlRmFjdG9yeScsIFsnbmcxVUlSb3V0ZXInLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgdGVtcGxhdGVGYWN0b3J5XzEuVGVtcGxhdGVGYWN0b3J5KCk7IH1dKTtcblx0Ly8gVGhlICR2aWV3IHNlcnZpY2Vcblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlcicpLmZhY3RvcnkoJyR2aWV3JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcm91dGVyLnZpZXdTZXJ2aWNlOyB9KTtcblx0Ly8gVGhlIG9sZCAkcmVzb2x2ZSBzZXJ2aWNlXG5cdGFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXInKS5mYWN0b3J5KCckcmVzb2x2ZScsIHJlc29sdmVGYWN0b3J5KTtcblx0Ly8gJHRyYWNlIHNlcnZpY2Vcblx0YW5ndWxhci5tb2R1bGUoXCJ1aS5yb3V0ZXJcIikuc2VydmljZShcIiR0cmFjZVwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFjZV8xLnRyYWNlOyB9KTtcblx0d2F0Y2hEaWdlc3RzLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcblx0ZnVuY3Rpb24gd2F0Y2hEaWdlc3RzKCRyb290U2NvcGUpIHtcblx0ICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgdHJhY2VfMS50cmFjZS5hcHByb3hpbWF0ZURpZ2VzdHMrKzsgfSk7XG5cdH1cblx0ZXhwb3J0cy53YXRjaERpZ2VzdHMgPSB3YXRjaERpZ2VzdHM7XG5cdGFuZ3VsYXIubW9kdWxlKFwidWkucm91dGVyXCIpLnJ1bih3YXRjaERpZ2VzdHMpO1xuXG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBzdHJpbmdzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgdmlld18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG5cdHZhciBwcmVkaWNhdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgY29yZXNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgdHJhY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHR2YXIgdGVtcGxhdGVGYWN0b3J5XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0ZXhwb3J0cy5uZzFWaWV3Q29uZmlnRmFjdG9yeSA9IGZ1bmN0aW9uIChub2RlLCB2aWV3KSB7IHJldHVybiBuZXcgTmcxVmlld0NvbmZpZyhub2RlLCB2aWV3KTsgfTtcblx0LyoqXG5cdCAqIFRoaXMgaXMgYSBbW1N0YXRlQnVpbGRlci5idWlsZGVyXV0gZnVuY3Rpb24gZm9yIGFuZ3VsYXIxIGB2aWV3c2AuXG5cdCAqXG5cdCAqIFdoZW4gdGhlIFtbU3RhdGVCdWlsZGVyXV0gYnVpbGRzIGEgW1tTdGF0ZV1dIG9iamVjdCBmcm9tIGEgcmF3IFtbU3RhdGVEZWNsYXJhdGlvbl1dLCB0aGlzIGJ1aWxkZXJcblx0ICogaGFuZGxlcyB0aGUgYHZpZXdzYCBwcm9wZXJ0eSB3aXRoIGxvZ2ljIHNwZWNpZmljIHRvIGFuZ3VsYXItdWktcm91dGVyIChuZzEpLlxuXHQgKlxuXHQgKiBJZiBubyBgdmlld3M6IHt9YCBwcm9wZXJ0eSBleGlzdHMgb24gdGhlIFtbU3RhdGVEZWNsYXJhdGlvbl1dLCB0aGVuIGl0IGNyZWF0ZXMgdGhlIGB2aWV3c2Agb2JqZWN0XG5cdCAqIGFuZCBhcHBsaWVzIHRoZSBzdGF0ZS1sZXZlbCBjb25maWd1cmF0aW9uIHRvIGEgdmlldyBuYW1lZCBgJGRlZmF1bHRgLlxuXHQgKi9cblx0ZnVuY3Rpb24gbmcxVmlld3NCdWlsZGVyKHN0YXRlKSB7XG5cdCAgICB2YXIgdHBsS2V5cyA9IFsndGVtcGxhdGVQcm92aWRlcicsICd0ZW1wbGF0ZVVybCcsICd0ZW1wbGF0ZScsICdub3RpZnknLCAnYXN5bmMnXSwgY3RybEtleXMgPSBbJ2NvbnRyb2xsZXInLCAnY29udHJvbGxlclByb3ZpZGVyJywgJ2NvbnRyb2xsZXJBcycsICdyZXNvbHZlQXMnXSwgY29tcEtleXMgPSBbJ2NvbXBvbmVudCcsICdiaW5kaW5ncyddLCBub25Db21wS2V5cyA9IHRwbEtleXMuY29uY2F0KGN0cmxLZXlzKSwgYWxsS2V5cyA9IGNvbXBLZXlzLmNvbmNhdChub25Db21wS2V5cyk7XG5cdCAgICB2YXIgdmlld3MgPSB7fSwgdmlld3NPYmplY3QgPSBzdGF0ZS52aWV3cyB8fCB7IFwiJGRlZmF1bHRcIjogY29tbW9uXzEucGljayhzdGF0ZSwgYWxsS2V5cykgfTtcblx0ICAgIGNvbW1vbl8xLmZvckVhY2godmlld3NPYmplY3QsIGZ1bmN0aW9uIChjb25maWcsIG5hbWUpIHtcblx0ICAgICAgICAvLyBBY2NvdW50IGZvciB2aWV3czogeyBcIlwiOiB7IHRlbXBsYXRlLi4uIH0gfVxuXHQgICAgICAgIG5hbWUgPSBuYW1lIHx8IFwiJGRlZmF1bHRcIjtcblx0ICAgICAgICAvLyBBY2NvdW50IGZvciB2aWV3czogeyBoZWFkZXI6IFwiaGVhZGVyQ29tcG9uZW50XCIgfVxuXHQgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoY29uZmlnKSlcblx0ICAgICAgICAgICAgY29uZmlnID0geyBjb21wb25lbnQ6IGNvbmZpZyB9O1xuXHQgICAgICAgIGlmICghT2JqZWN0LmtleXMoY29uZmlnKS5sZW5ndGgpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAvLyBDb25maWd1cmUgdGhpcyB2aWV3IGZvciByb3V0aW5nIHRvIGFuIGFuZ3VsYXIgMS41KyBzdHlsZSAuY29tcG9uZW50IChvciBhbnkgZGlyZWN0aXZlLCByZWFsbHkpXG5cdCAgICAgICAgaWYgKGNvbmZpZy5jb21wb25lbnQpIHtcblx0ICAgICAgICAgICAgaWYgKG5vbkNvbXBLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGNvbmZpZ1trZXldKTsgfSkucmVkdWNlKGNvbW1vbl8xLmFueVRydWVSLCBmYWxzZSkpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb21iaW5lOiBcIiArIGNvbXBLZXlzLmpvaW4oXCJ8XCIpICsgXCIgd2l0aDogXCIgKyBub25Db21wS2V5cy5qb2luKFwifFwiKSArIFwiIGluIHN0YXRldmlldzogJ25hbWVAXCIgKyBzdGF0ZS5uYW1lICsgXCInXCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIER5bmFtaWNhbGx5IGJ1aWxkIGEgdGVtcGxhdGUgbGlrZSBcIjxjb21wb25lbnQtbmFtZSBpbnB1dDE9JyRyZXNvbHZlLmZvbyc+PC9jb21wb25lbnQtbmFtZT5cIlxuXHQgICAgICAgICAgICBjb25maWcudGVtcGxhdGVQcm92aWRlciA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24gKCRpbmplY3Rvcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHZlRm9yID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29uZmlnLmJpbmRpbmdzICYmIGNvbmZpZy5iaW5kaW5nc1trZXldIHx8IGtleTsgfTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gYW5ndWxhci52ZXJzaW9uLm1pbm9yID49IDMgPyBcIjo6XCIgOiBcIlwiO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBhdHRycyA9IGdldENvbXBvbmVudElucHV0cygkaW5qZWN0b3IsIGNvbmZpZy5jb21wb25lbnQpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHN0cmluZ3NfMS5rZWJvYlN0cmluZyhrZXkpICsgXCI9J1wiICsgcHJlZml4ICsgXCIkcmVzb2x2ZS5cIiArIHJlc29sdmVGb3Ioa2V5KSArIFwiJ1wiKTsgfSkuam9pbihcIiBcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGtlYm9iTmFtZSA9IHN0cmluZ3NfMS5rZWJvYlN0cmluZyhjb25maWcuY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCI8XCIgKyBrZWJvYk5hbWUgKyBcIiBcIiArIGF0dHJzICsgXCI+PC9cIiArIGtlYm9iTmFtZSArIFwiPlwiO1xuXHQgICAgICAgICAgICAgICAgfV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbmZpZy5yZXNvbHZlQXMgPSBjb25maWcucmVzb2x2ZUFzIHx8ICckcmVzb2x2ZSc7XG5cdCAgICAgICAgY29uZmlnLiR0eXBlID0gXCJuZzFcIjtcblx0ICAgICAgICBjb25maWcuJGNvbnRleHQgPSBzdGF0ZTtcblx0ICAgICAgICBjb25maWcuJG5hbWUgPSBuYW1lO1xuXHQgICAgICAgIHZhciBub3JtYWxpemVkID0gdmlld18xLlZpZXdTZXJ2aWNlLm5vcm1hbGl6ZVVpVmlld1RhcmdldChjb25maWcuJGNvbnRleHQsIGNvbmZpZy4kbmFtZSk7XG5cdCAgICAgICAgY29uZmlnLiR1aVZpZXdOYW1lID0gbm9ybWFsaXplZC51aVZpZXdOYW1lO1xuXHQgICAgICAgIGNvbmZpZy4kdWlWaWV3Q29udGV4dEFuY2hvciA9IG5vcm1hbGl6ZWQudWlWaWV3Q29udGV4dEFuY2hvcjtcblx0ICAgICAgICB2aWV3c1tuYW1lXSA9IGNvbmZpZztcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHZpZXdzO1xuXHR9XG5cdGV4cG9ydHMubmcxVmlld3NCdWlsZGVyID0gbmcxVmlld3NCdWlsZGVyO1xuXHQvLyBmb3IgbmcgMS4yIHN0eWxlLCBwcm9jZXNzIHRoZSBzY29wZTogeyBpbnB1dDogXCI9Zm9vXCIgfSBvYmplY3Rcblx0dmFyIHNjb3BlQmluZGluZ3MgPSBmdW5jdGlvbiAoYmluZGluZ3NPYmopIHsgcmV0dXJuIE9iamVjdC5rZXlzKGJpbmRpbmdzT2JqIHx8IHt9KVxuXHQgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBba2V5LCAvXls9PF0oLiopLy5leGVjKGJpbmRpbmdzT2JqW2tleV0pXTsgfSlcblx0ICAgIC5maWx0ZXIoZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHR1cGxlWzFdKTsgfSlcblx0ICAgIC5tYXAoZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiB0dXBsZVsxXVsxXSB8fCB0dXBsZVswXTsgfSk7IH07XG5cdC8vIGZvciBuZyAxLjMrIGJpbmRUb0NvbnRyb2xsZXIgb3IgMS41IGNvbXBvbmVudCBzdHlsZSwgcHJvY2VzcyBhICQkYmluZGluZ3Mgb2JqZWN0XG5cdHZhciBiaW5kVG9DdHJsQmluZGluZ3MgPSBmdW5jdGlvbiAoYmluZGluZ3NPYmopIHsgcmV0dXJuIE9iamVjdC5rZXlzKGJpbmRpbmdzT2JqIHx8IHt9KVxuXHQgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAhIS9bPTxdLy5leGVjKGJpbmRpbmdzT2JqW2tleV0ubW9kZSk7IH0pXG5cdCAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGJpbmRpbmdzT2JqW2tleV0uYXR0ck5hbWU7IH0pOyB9O1xuXHQvLyBHaXZlbiBhIGRpcmVjdGl2ZSBkZWZpbml0aW9uLCBmaW5kIGl0cyBvYmplY3QgaW5wdXQgYXR0cmlidXRlc1xuXHQvLyBVc2UgZGlmZmVyZW50IHByb3BlcnRpZXMsIGRlcGVuZGluZyBvbiB0aGUgdHlwZSBvZiBkaXJlY3RpdmUgKGNvbXBvbmVudCwgYmluZFRvQ29udHJvbGxlciwgbm9ybWFsKVxuXHR2YXIgZ2V0QmluZGluZ3MgPSBmdW5jdGlvbiAoZGVmKSB7XG5cdCAgICBpZiAocHJlZGljYXRlc18xLmlzT2JqZWN0KGRlZi5iaW5kVG9Db250cm9sbGVyKSlcblx0ICAgICAgICByZXR1cm4gc2NvcGVCaW5kaW5ncyhkZWYuYmluZFRvQ29udHJvbGxlcik7XG5cdCAgICBpZiAoZGVmLiQkYmluZGluZ3MgJiYgZGVmLiQkYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcilcblx0ICAgICAgICByZXR1cm4gYmluZFRvQ3RybEJpbmRpbmdzKGRlZi4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIpO1xuXHQgICAgaWYgKGRlZi4kJGlzb2xhdGVCaW5kaW5ncylcblx0ICAgICAgICByZXR1cm4gYmluZFRvQ3RybEJpbmRpbmdzKGRlZi4kJGlzb2xhdGVCaW5kaW5ncyk7XG5cdCAgICByZXR1cm4gc2NvcGVCaW5kaW5ncyhkZWYuc2NvcGUpO1xuXHR9O1xuXHQvLyBHZXRzIGFsbCB0aGUgZGlyZWN0aXZlKHMpJyBpbnB1dHMgKCc9JyBhbmQgJzwnKVxuXHRmdW5jdGlvbiBnZXRDb21wb25lbnRJbnB1dHMoJGluamVjdG9yLCBuYW1lKSB7XG5cdCAgICB2YXIgY21wRGVmcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFwiRGlyZWN0aXZlXCIpOyAvLyBjb3VsZCBiZSBtdWx0aXBsZVxuXHQgICAgaWYgKCFjbXBEZWZzIHx8ICFjbXBEZWZzLmxlbmd0aClcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBjb21wb25lbnQgbmFtZWQgJ1wiICsgbmFtZSArIFwiJ1wiKTtcblx0ICAgIHJldHVybiBjbXBEZWZzLm1hcChnZXRCaW5kaW5ncykucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKTtcblx0fVxuXHR2YXIgTmcxVmlld0NvbmZpZyA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBOZzFWaWV3Q29uZmlnKG5vZGUsIHZpZXdEZWNsKSB7XG5cdCAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcblx0ICAgICAgICB0aGlzLnZpZXdEZWNsID0gdmlld0RlY2w7XG5cdCAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcblx0ICAgIH1cblx0ICAgIE5nMVZpZXdDb25maWcucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB2YXIgJHEgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcTtcblx0ICAgICAgICBpZiAoIXRoaXMuaGFzVGVtcGxhdGUoKSlcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdGVtcGxhdGUgY29uZmlndXJhdGlvbiBzcGVjaWZpZWQgZm9yICdcIiArIHRoaXMudmlld0RlY2wuJHVpVmlld05hbWUgKyBcIkBcIiArIHRoaXMudmlld0RlY2wuJHVpVmlld0NvbnRleHRBbmNob3IgKyBcIidcIik7XG5cdCAgICAgICAgdmFyIGluamVjdG9yID0gdGhpcy5ub2RlLnJlc29sdmVDb250ZXh0O1xuXHQgICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLm5vZGUucGFyYW1WYWx1ZXM7XG5cdCAgICAgICAgdmFyIHByb21pc2VzID0ge1xuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogJHEud2hlbih0aGlzLmdldFRlbXBsYXRlKHBhcmFtcywgbmV3IHRlbXBsYXRlRmFjdG9yeV8xLlRlbXBsYXRlRmFjdG9yeSgpLCBpbmplY3RvcikpLFxuXHQgICAgICAgICAgICBjb250cm9sbGVyOiAkcS53aGVuKHRoaXMuZ2V0Q29udHJvbGxlcihpbmplY3RvcikpXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG5cdCAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VWaWV3U2VydmljZUV2ZW50KFwiTG9hZGVkXCIsIF90aGlzKTtcblx0ICAgICAgICAgICAgX3RoaXMuY29udHJvbGxlciA9IHJlc3VsdHMuY29udHJvbGxlcjtcblx0ICAgICAgICAgICAgX3RoaXMudGVtcGxhdGUgPSByZXN1bHRzLnRlbXBsYXRlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGEgdmlldyBjb25maWd1cmF0aW9uIHRvIGVuc3VyZSB0aGF0IGl0IHNwZWNpZmllcyBhIHRlbXBsYXRlLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBjb25maWd1cmF0aW9uIGNvbnRhaW5zIGEgdmFsaWQgdGVtcGxhdGUsIG90aGVyd2lzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBOZzFWaWV3Q29uZmlnLnByb3RvdHlwZS5oYXNUZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gISEodGhpcy52aWV3RGVjbC50ZW1wbGF0ZSB8fCB0aGlzLnZpZXdEZWNsLnRlbXBsYXRlVXJsIHx8IHRoaXMudmlld0RlY2wudGVtcGxhdGVQcm92aWRlcik7XG5cdCAgICB9O1xuXHQgICAgTmcxVmlld0NvbmZpZy5wcm90b3R5cGUuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAocGFyYW1zLCAkZmFjdG9yeSwgaW5qZWN0b3IpIHtcblx0ICAgICAgICByZXR1cm4gJGZhY3RvcnkuZnJvbUNvbmZpZyh0aGlzLnZpZXdEZWNsLCBwYXJhbXMsIGluamVjdG9yLmludm9rZUxhdGVyLmJpbmQoaW5qZWN0b3IpKTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIGNvbnRyb2xsZXIgZm9yIGEgdmlldyBjb25maWd1cmF0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxQcm9taXNlLjxGdW5jdGlvbj59IFJldHVybnMgYSBjb250cm9sbGVyLCBvciBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGNvbnRyb2xsZXIuXG5cdCAgICAgKi9cblx0ICAgIE5nMVZpZXdDb25maWcucHJvdG90eXBlLmdldENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoaW5qZWN0b3IpIHtcblx0ICAgICAgICAvLyogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBBIGNvbnRleHQgb2JqZWN0IGZyb20gdHJhbnNpdGlvbi5jb250ZXh0KCkgdG8gaW52b2tlIGEgZnVuY3Rpb24gaW4gdGhlIGNvcnJlY3QgY29udGV4dFxuXHQgICAgICAgIHZhciBwcm92aWRlciA9IHRoaXMudmlld0RlY2wuY29udHJvbGxlclByb3ZpZGVyO1xuXHQgICAgICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNJbmplY3RhYmxlKHByb3ZpZGVyKSA/IGluamVjdG9yLmludm9rZUxhdGVyKHByb3ZpZGVyLCB7fSkgOiB0aGlzLnZpZXdEZWNsLmNvbnRyb2xsZXI7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIE5nMVZpZXdDb25maWc7XG5cdH0oKSk7XG5cdGV4cG9ydHMuTmcxVmlld0NvbmZpZyA9IE5nMVZpZXdDb25maWc7XG5cblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqIEBtb2R1bGUgdmlldyAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblx0dmFyIHByZWRpY2F0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBjb3Jlc2VydmljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdC8qKlxuXHQgKiBTZXJ2aWNlIHdoaWNoIG1hbmFnZXMgbG9hZGluZyBvZiB0ZW1wbGF0ZXMgZnJvbSBhIFZpZXdDb25maWcuXG5cdCAqL1xuXHR2YXIgVGVtcGxhdGVGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFRlbXBsYXRlRmFjdG9yeSgpIHtcblx0ICAgIH1cblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIHRlbXBsYXRlIGZyb20gYSBjb25maWd1cmF0aW9uIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gY29uZmlnIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB3aGljaCB0byBsb2FkIGEgdGVtcGxhdGUuXG5cdCAgICAgKiBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIHNlYXJjaCBpbiB0aGUgc3BlY2lmaWVkIG9yZGVyLCBhbmQgdGhlIGZpcnN0IG9uZVxuXHQgICAgICogdGhhdCBpcyBkZWZpbmVkIGlzIHVzZWQgdG8gY3JlYXRlIHRoZSB0ZW1wbGF0ZTpcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gcGFyYW1zICBQYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLlxuXHQgICAgICogQHBhcmFtIGluamVjdEZuIEZ1bmN0aW9uIHRvIHdoaWNoIGFuIGluamVjdGFibGUgZnVuY3Rpb24gbWF5IGJlIHBhc3NlZC5cblx0ICAgICAqICAgICAgICBJZiB0ZW1wbGF0ZVByb3ZpZGVyIGlzIGRlZmluZWQsIHRoaXMgaW5qZWN0Rm4gd2lsbCBiZSB1c2VkIHRvIGludm9rZSBpdC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fSAgVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZSBmb3Jcblx0ICAgICAqIHRoYXQgc3RyaW5nLG9yIGBudWxsYCBpZiBubyB0ZW1wbGF0ZSBpcyBjb25maWd1cmVkLlxuXHQgICAgICovXG5cdCAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLmZyb21Db25maWcgPSBmdW5jdGlvbiAoY29uZmlnLCBwYXJhbXMsIGluamVjdEZuKSB7XG5cdCAgICAgICAgcmV0dXJuIChwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGNvbmZpZy50ZW1wbGF0ZSkgPyB0aGlzLmZyb21TdHJpbmcoY29uZmlnLnRlbXBsYXRlLCBwYXJhbXMpIDpcblx0ICAgICAgICAgICAgcHJlZGljYXRlc18xLmlzRGVmaW5lZChjb25maWcudGVtcGxhdGVVcmwpID8gdGhpcy5mcm9tVXJsKGNvbmZpZy50ZW1wbGF0ZVVybCwgcGFyYW1zKSA6XG5cdCAgICAgICAgICAgICAgICBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGNvbmZpZy50ZW1wbGF0ZVByb3ZpZGVyKSA/IHRoaXMuZnJvbVByb3ZpZGVyKGNvbmZpZy50ZW1wbGF0ZVByb3ZpZGVyLCBwYXJhbXMsIGluamVjdEZuKSA6XG5cdCAgICAgICAgICAgICAgICAgICAgbnVsbCk7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgdGVtcGxhdGUgZnJvbSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHN0cmluZy5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gdGVtcGxhdGUgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZy5cblx0ICAgICAqIEBwYXJhbSBwYXJhbXMgUGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlIGZvciB0aGF0XG5cdCAgICAgKiBzdHJpbmcuXG5cdCAgICAgKi9cblx0ICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVN0cmluZyA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKHRlbXBsYXRlKSA/IHRlbXBsYXRlKHBhcmFtcykgOiB0ZW1wbGF0ZTtcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICAvKipcblx0ICAgICAqIExvYWRzIGEgdGVtcGxhdGUgZnJvbSB0aGUgYSBVUkwgdmlhIGAkaHR0cGAgYW5kIGAkdGVtcGxhdGVDYWNoZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb259IHVybCB1cmwgb2YgdGhlIHRlbXBsYXRlIHRvIGxvYWQsIG9yIGEgZnVuY3Rpb25cblx0ICAgICAqIHRoYXQgcmV0dXJucyBhIHVybC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgUGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSB1cmwgZnVuY3Rpb24uXG5cdCAgICAgKiBAcmV0dXJuIHtzdHJpbmd8UHJvbWlzZS48c3RyaW5nPn0gVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZVxuXHQgICAgICogZm9yIHRoYXQgc3RyaW5nLlxuXHQgICAgICovXG5cdCAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLmZyb21VcmwgPSBmdW5jdGlvbiAodXJsLCBwYXJhbXMpIHtcblx0ICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzRnVuY3Rpb24odXJsKSlcblx0ICAgICAgICAgICAgdXJsID0gdXJsKHBhcmFtcyk7XG5cdCAgICAgICAgaWYgKHVybCA9PSBudWxsKVxuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMudGVtcGxhdGUuZ2V0KHVybCk7XG5cdCAgICB9O1xuXHQgICAgO1xuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgdGVtcGxhdGUgYnkgaW52b2tpbmcgYW4gaW5qZWN0YWJsZSBwcm92aWRlciBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gcHJvdmlkZXIgRnVuY3Rpb24gdG8gaW52b2tlIHZpYSBgbG9jYWxzYFxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5qZWN0Rm4gYSBmdW5jdGlvbiB1c2VkIHRvIGludm9rZSB0aGUgdGVtcGxhdGUgcHJvdmlkZXJcblx0ICAgICAqIEByZXR1cm4ge3N0cmluZ3xQcm9taXNlLjxzdHJpbmc+fSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlXG5cdCAgICAgKiBmb3IgdGhhdCBzdHJpbmcuXG5cdCAgICAgKi9cblx0ICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyLCBwYXJhbXMsIGluamVjdEZuKSB7XG5cdCAgICAgICAgcmV0dXJuIGluamVjdEZuKHByb3ZpZGVyKTtcblx0ICAgIH07XG5cdCAgICA7XG5cdCAgICByZXR1cm4gVGVtcGxhdGVGYWN0b3J5O1xuXHR9KCkpO1xuXHRleHBvcnRzLlRlbXBsYXRlRmFjdG9yeSA9IFRlbXBsYXRlRmFjdG9yeTtcblxuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKipcblx0ICogVGhlc2UgYXJlIHRoZSBVSS1Sb3V0ZXIgYW5ndWxhciAxIGRpcmVjdGl2ZXMuXG5cdCAqXG5cdCAqIFRoZXNlIGRpcmVjdGl2ZXMgYXJlIHVzZWQgaW4gdGVtcGxhdGVzIHRvIGNyZWF0ZSB2aWV3cG9ydHMgYW5kIG5hdmlnYXRlIHRvIHN0YXRlc1xuXHQgKlxuXHQgKiBAcHJlZmVycmVkIEBtb2R1bGUgbmcxX2RpcmVjdGl2ZXNcblx0ICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgcHJlZGljYXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIGhvZl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0LyoqIEBoaWRkZW4gKi9cblx0ZnVuY3Rpb24gcGFyc2VTdGF0ZVJlZihyZWYsIGN1cnJlbnQpIHtcblx0ICAgIHZhciBwcmVwYXJzZWQgPSByZWYubWF0Y2goL15cXHMqKHtbXn1dKn0pXFxzKiQvKSwgcGFyc2VkO1xuXHQgICAgaWYgKHByZXBhcnNlZClcblx0ICAgICAgICByZWYgPSBjdXJyZW50ICsgJygnICsgcHJlcGFyc2VkWzFdICsgJyknO1xuXHQgICAgcGFyc2VkID0gcmVmLnJlcGxhY2UoL1xcbi9nLCBcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pO1xuXHQgICAgaWYgKCFwYXJzZWQgfHwgcGFyc2VkLmxlbmd0aCAhPT0gNClcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIgKyByZWYgKyBcIidcIik7XG5cdCAgICByZXR1cm4geyBzdGF0ZTogcGFyc2VkWzFdLCBwYXJhbUV4cHI6IHBhcnNlZFszXSB8fCBudWxsIH07XG5cdH1cblx0LyoqIEBoaWRkZW4gKi9cblx0ZnVuY3Rpb24gc3RhdGVDb250ZXh0KGVsKSB7XG5cdCAgICB2YXIgJHVpVmlldyA9IGVsLnBhcmVudCgpLmluaGVyaXRlZERhdGEoJyR1aVZpZXcnKTtcblx0ICAgIHZhciBjb250ZXh0ID0gaG9mXzEucGFyc2UoJyRjZmcubm9kZS5zdGF0ZScpKCR1aVZpZXcpO1xuXHQgICAgcmV0dXJuIGNvbnRleHQgJiYgY29udGV4dC5uYW1lID8gY29udGV4dCA6IHVuZGVmaW5lZDtcblx0fVxuXHQvKiogQGhpZGRlbiAqL1xuXHRmdW5jdGlvbiBnZXRUeXBlSW5mbyhlbCkge1xuXHQgICAgLy8gU1ZHQUVsZW1lbnQgZG9lcyBub3QgdXNlIHRoZSBocmVmIGF0dHJpYnV0ZSwgYnV0IHJhdGhlciB0aGUgJ3hsaW5rSHJlZicgYXR0cmlidXRlLlxuXHQgICAgdmFyIGlzU3ZnID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVsLnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSc7XG5cdCAgICB2YXIgaXNGb3JtID0gZWxbMF0ubm9kZU5hbWUgPT09IFwiRk9STVwiO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBhdHRyOiBpc0Zvcm0gPyBcImFjdGlvblwiIDogKGlzU3ZnID8gJ3hsaW5rOmhyZWYnIDogJ2hyZWYnKSxcblx0ICAgICAgICBpc0FuY2hvcjogZWwucHJvcChcInRhZ05hbWVcIikudG9VcHBlckNhc2UoKSA9PT0gXCJBXCIsXG5cdCAgICAgICAgY2xpY2thYmxlOiAhaXNGb3JtXG5cdCAgICB9O1xuXHR9XG5cdC8qKiBAaGlkZGVuICovXG5cdGZ1bmN0aW9uIGNsaWNrSG9vayhlbCwgJHN0YXRlLCAkdGltZW91dCwgdHlwZSwgY3VycmVudCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIGJ1dHRvbiA9IGUud2hpY2ggfHwgZS5idXR0b24sIHRhcmdldCA9IGN1cnJlbnQoKTtcblx0ICAgICAgICBpZiAoIShidXR0b24gPiAxIHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSB8fCBlbC5hdHRyKCd0YXJnZXQnKSkpIHtcblx0ICAgICAgICAgICAgLy8gSEFDSzogVGhpcyBpcyB0byBhbGxvdyBuZy1jbGlja3MgdG8gYmUgcHJvY2Vzc2VkIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyBpbml0aWF0ZWQ6XG5cdCAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgJHN0YXRlLmdvKHRhcmdldC5zdGF0ZSwgdGFyZ2V0LnBhcmFtcywgdGFyZ2V0Lm9wdGlvbnMpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGUgaGFzIG5vIFVSTCwgaWdub3JlIG9uZSBwcmV2ZW50RGVmYXVsdCBmcm9tIHRoZSA8YT4gZGlyZWN0aXZlLlxuXHQgICAgICAgICAgICB2YXIgaWdub3JlUHJldmVudERlZmF1bHRDb3VudCA9IHR5cGUuaXNBbmNob3IgJiYgIXRhcmdldC5ocmVmID8gMSA6IDA7XG5cdCAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaWdub3JlUHJldmVudERlZmF1bHRDb3VudC0tIDw9IDApXG5cdCAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb24pO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblx0LyoqIEBoaWRkZW4gKi9cblx0ZnVuY3Rpb24gZGVmYXVsdE9wdHMoZWwsICRzdGF0ZSkge1xuXHQgICAgcmV0dXJuIHsgcmVsYXRpdmU6IHN0YXRlQ29udGV4dChlbCkgfHwgJHN0YXRlLiRjdXJyZW50LCBpbmhlcml0OiB0cnVlIH07XG5cdH1cblx0LyoqXG5cdCAqIGB1aS1zcmVmYDogQSBkaXJlY3RpdmUgZm9yIGxpbmtpbmcgdG8gYSBzdGF0ZVxuXHQgKlxuXHQgKiBBIGRpcmVjdGl2ZSB0aGF0IGJpbmRzIGEgbGluayAoYDxhPmAgdGFnKSB0byBhIHN0YXRlLiBJZiB0aGUgc3RhdGUgaGFzIGFuIGFzc29jaWF0ZWRcblx0ICogVVJMLCB0aGUgZGlyZWN0aXZlIHdpbGwgYXV0b21hdGljYWxseSBnZW5lcmF0ZSAmIHVwZGF0ZSB0aGUgYGhyZWZgIGF0dHJpYnV0ZSB2aWFcblx0ICogdGhlIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI21ldGhvZHNfaHJlZiAkc3RhdGUuaHJlZigpfSBtZXRob2QuIENsaWNraW5nXG5cdCAqIHRoZSBsaW5rIHdpbGwgdHJpZ2dlciBhIHN0YXRlIHRyYW5zaXRpb24gd2l0aCBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuXHQgKlxuXHQgKiBBbHNvIG1pZGRsZS1jbGlja2luZywgcmlnaHQtY2xpY2tpbmcsIGFuZCBjdHJsLWNsaWNraW5nIG9uIHRoZSBsaW5rIHdpbGwgYmVcblx0ICogaGFuZGxlZCBuYXRpdmVseSBieSB0aGUgYnJvd3Nlci5cblx0ICpcblx0ICogWW91IGNhbiBhbHNvIHVzZSByZWxhdGl2ZSBzdGF0ZSBwYXRocyB3aXRoaW4gdWktc3JlZiwganVzdCBsaWtlIHRoZSByZWxhdGl2ZVxuXHQgKiBwYXRocyBwYXNzZWQgdG8gYCRzdGF0ZS5nbygpYC4gWW91IGp1c3QgbmVlZCB0byBiZSBhd2FyZSB0aGF0IHRoZSBwYXRoIGlzIHJlbGF0aXZlXG5cdCAqIHRvIHRoZSBzdGF0ZSB0aGF0IHRoZSBsaW5rIGxpdmVzIGluLCBpbiBvdGhlciB3b3JkcyB0aGUgc3RhdGUgdGhhdCBsb2FkZWQgdGhlXG5cdCAqIHRlbXBsYXRlIGNvbnRhaW5pbmcgdGhlIGxpbmsuXG5cdCAqXG5cdCAqIFlvdSBjYW4gc3BlY2lmeSBvcHRpb25zIHRvIHBhc3MgdG8ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjZ28gJHN0YXRlLmdvKCl9XG5cdCAqIHVzaW5nIHRoZSBgdWktc3JlZi1vcHRzYCBhdHRyaWJ1dGUuIE9wdGlvbnMgYXJlIHJlc3RyaWN0ZWQgdG8gYGxvY2F0aW9uYCwgYGluaGVyaXRgLFxuXHQgKiBhbmQgYHJlbG9hZGAuXG5cdCAqXG5cdCAqIEhlcmUncyBhbiBleGFtcGxlIG9mIGhvdyB5b3UnZCB1c2UgdWktc3JlZiBhbmQgaG93IGl0IHdvdWxkIGNvbXBpbGUuIElmIHlvdSBoYXZlIHRoZVxuXHQgKiBmb2xsb3dpbmcgdGVtcGxhdGU6XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYGh0bWxcblx0ICpcblx0ICogPHByZT5cblx0ICogPGEgdWktc3JlZj1cImhvbWVcIj5Ib21lPC9hPiB8IDxhIHVpLXNyZWY9XCJhYm91dFwiPkFib3V0PC9hPiB8IDxhIHVpLXNyZWY9XCJ7cGFnZTogMn1cIj5OZXh0IHBhZ2U8L2E+XG5cdCAqXG5cdCAqIDx1bD5cblx0ICogICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG5cdCAqICAgICAgICAgPGEgdWktc3JlZj1cImNvbnRhY3RzLmRldGFpbCh7IGlkOiBjb250YWN0LmlkIH0pXCI+e3sgY29udGFjdC5uYW1lIH19PC9hPlxuXHQgKiAgICAgPC9saT5cblx0ICogPC91bD5cblx0ICogPC9wcmU+XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBUaGVuIHRoZSBjb21waWxlZCBodG1sIHdvdWxkIGJlIChhc3N1bWluZyBIdG1sNU1vZGUgaXMgb2ZmIGFuZCBjdXJyZW50IHN0YXRlIGlzIGNvbnRhY3RzKTpcblx0ICpcblx0ICogYGBgaHRtbFxuXHQgKlxuXHQgKiA8cHJlPlxuXHQgKiA8YSBocmVmPVwiIy9ob21lXCIgdWktc3JlZj1cImhvbWVcIj5Ib21lPC9hPiB8IDxhIGhyZWY9XCIjL2Fib3V0XCIgdWktc3JlZj1cImFib3V0XCI+QWJvdXQ8L2E+IHwgPGEgaHJlZj1cIiMvY29udGFjdHM/cGFnZT0yXCIgdWktc3JlZj1cIntwYWdlOiAyfVwiPk5leHQgcGFnZTwvYT5cblx0ICpcblx0ICogPHVsPlxuXHQgKiAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cblx0ICogICAgICAgICA8YSBocmVmPVwiIy9jb250YWN0cy8xXCIgdWktc3JlZj1cImNvbnRhY3RzLmRldGFpbCh7IGlkOiBjb250YWN0LmlkIH0pXCI+Sm9lPC9hPlxuXHQgKiAgICAgPC9saT5cblx0ICogICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG5cdCAqICAgICAgICAgPGEgaHJlZj1cIiMvY29udGFjdHMvMlwiIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPkFsaWNlPC9hPlxuXHQgKiAgICAgPC9saT5cblx0ICogICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG5cdCAqICAgICAgICAgPGEgaHJlZj1cIiMvY29udGFjdHMvM1wiIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPkJvYjwvYT5cblx0ICogICAgIDwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqXG5cdCAqIDxhIHVpLXNyZWY9XCJob21lXCIgdWktc3JlZi1vcHRzPVwie3JlbG9hZDogdHJ1ZX1cIj5Ib21lPC9hPlxuXHQgKiA8L3ByZT5cblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1aS1zcmVmICdzdGF0ZU5hbWUnIGNhbiBiZSBhbnkgdmFsaWQgYWJzb2x1dGUgb3IgcmVsYXRpdmUgc3RhdGVcblx0ICogQHBhcmFtIHtPYmplY3R9IHVpLXNyZWYtb3B0cyBvcHRpb25zIHRvIHBhc3MgdG8gW1tTdGF0ZVNlcnZpY2UuZ29dXVxuXHQgKi9cblx0dmFyIHVpU3JlZk5nMSA9IFsnJHN0YXRlJywgJyR0aW1lb3V0Jyxcblx0ICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkRpcmVjdGl2ZSgkc3RhdGUsICR0aW1lb3V0KSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgICAgICAgICAgcmVxdWlyZTogWyc/XnVpU3JlZkFjdGl2ZScsICc/XnVpU3JlZkFjdGl2ZUVxJ10sXG5cdCAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIHVpU3JlZkFjdGl2ZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHJlZiA9IHBhcnNlU3RhdGVSZWYoYXR0cnMudWlTcmVmLCAkc3RhdGUuY3VycmVudC5uYW1lKTtcblx0ICAgICAgICAgICAgICAgIHZhciBkZWYgPSB7IHN0YXRlOiByZWYuc3RhdGUsIGhyZWY6IG51bGwsIHBhcmFtczogbnVsbCwgb3B0aW9uczogbnVsbCB9O1xuXHQgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlSW5mbyhlbGVtZW50KTtcblx0ICAgICAgICAgICAgICAgIHZhciBhY3RpdmUgPSB1aVNyZWZBY3RpdmVbMV0gfHwgdWlTcmVmQWN0aXZlWzBdO1xuXHQgICAgICAgICAgICAgICAgdmFyIHVubGlua0luZm9GbiA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICBkZWYub3B0aW9ucyA9IGNvbW1vbl8xLmV4dGVuZChkZWZhdWx0T3B0cyhlbGVtZW50LCAkc3RhdGUpLCBhdHRycy51aVNyZWZPcHRzID8gc2NvcGUuJGV2YWwoYXR0cnMudWlTcmVmT3B0cykgOiB7fSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh2YWwpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRlZi5wYXJhbXMgPSBhbmd1bGFyLmNvcHkodmFsKTtcblx0ICAgICAgICAgICAgICAgICAgICBkZWYuaHJlZiA9ICRzdGF0ZS5ocmVmKHJlZi5zdGF0ZSwgZGVmLnBhcmFtcywgZGVmLm9wdGlvbnMpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh1bmxpbmtJbmZvRm4pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHVubGlua0luZm9GbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHVubGlua0luZm9GbiA9IGFjdGl2ZS4kJGFkZFN0YXRlSW5mbyhyZWYuc3RhdGUsIGRlZi5wYXJhbXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChkZWYuaHJlZiAhPT0gbnVsbClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMuJHNldCh0eXBlLmF0dHIsIGRlZi5ocmVmKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICBpZiAocmVmLnBhcmFtRXhwcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChyZWYucGFyYW1FeHByLCBmdW5jdGlvbiAodmFsKSB7IGlmICh2YWwgIT09IGRlZi5wYXJhbXMpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSh2YWwpOyB9LCB0cnVlKTtcblx0ICAgICAgICAgICAgICAgICAgICBkZWYucGFyYW1zID0gYW5ndWxhci5jb3B5KHNjb3BlLiRldmFsKHJlZi5wYXJhbUV4cHIpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuXHQgICAgICAgICAgICAgICAgaWYgKCF0eXBlLmNsaWNrYWJsZSlcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJjbGlja1wiLCBjbGlja0hvb2soZWxlbWVudCwgJHN0YXRlLCAkdGltZW91dCwgdHlwZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVmOyB9KSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgfV07XG5cdC8qKlxuXHQgKiBgdWktc3RhdGVgOiBBIGR5bmFtaWMgdmVyc2lvbiBvZiBgdWktc3JlZmBcblx0ICpcblx0ICogTXVjaCBsaWtlIHVpLXNyZWYsIGJ1dCB3aWxsIGFjY2VwdCBuYW1lZCAkc2NvcGUgcHJvcGVydGllcyB0byBldmFsdWF0ZSBmb3IgYSBzdGF0ZSBkZWZpbml0aW9uLFxuXHQgKiBwYXJhbXMgYW5kIG92ZXJyaWRlIG9wdGlvbnMuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYGh0bWxcblx0ICpcblx0ICogPGxpIG5nLXJlcGVhdD1cIm5hdiBpbiBuYXZsaW5rc1wiPlxuXHQgKiAgIDxhIHVpLXN0YXRlPVwibmF2LnN0YXRlbmFtZVwiPnt7bmF2LmRlc2NyaXB0aW9ufX08L2E+XG5cdCAqIDwvbGk+XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1aS1zdGF0ZSAnc3RhdGVOYW1lJyBjYW4gYmUgYW55IHZhbGlkIGFic29sdXRlIG9yIHJlbGF0aXZlIHN0YXRlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB1aS1zdGF0ZS1wYXJhbXMgcGFyYW1zIHRvIHBhc3MgdG8gW1tTdGF0ZVNlcnZpY2UuaHJlZl1dXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB1aS1zdGF0ZS1vcHRzIG9wdGlvbnMgdG8gcGFzcyB0byBbW1N0YXRlU2VydmljZS5nb11dXG5cdCAqL1xuXHR2YXIgdWlTdGF0ZU5nMSA9IFsnJHN0YXRlJywgJyR0aW1lb3V0Jyxcblx0ICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkR5bmFtaWNEaXJlY3RpdmUoJHN0YXRlLCAkdGltZW91dCkge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG5cdCAgICAgICAgICAgIHJlcXVpcmU6IFsnP151aVNyZWZBY3RpdmUnLCAnP151aVNyZWZBY3RpdmVFcSddLFxuXHQgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCB1aVNyZWZBY3RpdmUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZ2V0VHlwZUluZm8oZWxlbWVudCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgYWN0aXZlID0gdWlTcmVmQWN0aXZlWzFdIHx8IHVpU3JlZkFjdGl2ZVswXTtcblx0ICAgICAgICAgICAgICAgIHZhciBncm91cCA9IFthdHRycy51aVN0YXRlLCBhdHRycy51aVN0YXRlUGFyYW1zIHx8IG51bGwsIGF0dHJzLnVpU3RhdGVPcHRzIHx8IG51bGxdO1xuXHQgICAgICAgICAgICAgICAgdmFyIHdhdGNoID0gJ1snICsgZ3JvdXAubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbCB8fCAnbnVsbCc7IH0pLmpvaW4oJywgJykgKyAnXSc7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGVmID0geyBzdGF0ZTogbnVsbCwgcGFyYW1zOiBudWxsLCBvcHRpb25zOiBudWxsLCBocmVmOiBudWxsIH07XG5cdCAgICAgICAgICAgICAgICB2YXIgdW5saW5rSW5mb0ZuID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJ1blN0YXRlUmVmTGluayhncm91cCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlZi5zdGF0ZSA9IGdyb3VwWzBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGRlZi5wYXJhbXMgPSBncm91cFsxXTtcblx0ICAgICAgICAgICAgICAgICAgICBkZWYub3B0aW9ucyA9IGdyb3VwWzJdO1xuXHQgICAgICAgICAgICAgICAgICAgIGRlZi5ocmVmID0gJHN0YXRlLmhyZWYoZGVmLnN0YXRlLCBkZWYucGFyYW1zLCBkZWYub3B0aW9ucyk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHVubGlua0luZm9Gbilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdW5saW5rSW5mb0ZuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdW5saW5rSW5mb0ZuID0gYWN0aXZlLiQkYWRkU3RhdGVJbmZvKGRlZi5zdGF0ZSwgZGVmLnBhcmFtcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5ocmVmKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBhdHRycy4kc2V0KHR5cGUuYXR0ciwgZGVmLmhyZWYpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoLCBydW5TdGF0ZVJlZkxpbmssIHRydWUpO1xuXHQgICAgICAgICAgICAgICAgcnVuU3RhdGVSZWZMaW5rKHNjb3BlLiRldmFsKHdhdGNoKSk7XG5cdCAgICAgICAgICAgICAgICBpZiAoIXR5cGUuY2xpY2thYmxlKVxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImNsaWNrXCIsIGNsaWNrSG9vayhlbGVtZW50LCAkc3RhdGUsICR0aW1lb3V0LCB0eXBlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWY7IH0pKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICB9XTtcblx0LyoqXG5cdCAqIGB1aS1zcmVmLWFjdGl2ZWAgYW5kIGB1aS1zcmVmLWFjdGl2ZS1lcWA6IEEgZGlyZWN0aXZlIHRoYXQgYWRkcyBhIENTUyBjbGFzcyB3aGVuIGEgYHVpLXNyZWZgIGlzIGFjdGl2ZVxuXHQgKlxuXHQgKiBBIGRpcmVjdGl2ZSB3b3JraW5nIGFsb25nc2lkZSB1aS1zcmVmIHRvIGFkZCBjbGFzc2VzIHRvIGFuIGVsZW1lbnQgd2hlbiB0aGVcblx0ICogcmVsYXRlZCB1aS1zcmVmIGRpcmVjdGl2ZSdzIHN0YXRlIGlzIGFjdGl2ZSwgYW5kIHJlbW92aW5nIHRoZW0gd2hlbiBpdCBpcyBpbmFjdGl2ZS5cblx0ICogVGhlIHByaW1hcnkgdXNlLWNhc2UgaXMgdG8gc2ltcGxpZnkgdGhlIHNwZWNpYWwgYXBwZWFyYW5jZSBvZiBuYXZpZ2F0aW9uIG1lbnVzXG5cdCAqIHJlbHlpbmcgb24gYHVpLXNyZWZgLCBieSBoYXZpbmcgdGhlIFwiYWN0aXZlXCIgc3RhdGUncyBtZW51IGJ1dHRvbiBhcHBlYXIgZGlmZmVyZW50LFxuXHQgKiBkaXN0aW5ndWlzaGluZyBpdCBmcm9tIHRoZSBpbmFjdGl2ZSBtZW51IGl0ZW1zLlxuXHQgKlxuXHQgKiB1aS1zcmVmLWFjdGl2ZSBjYW4gbGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIHVpLXNyZWYgb3Igb24gYSBwYXJlbnQgZWxlbWVudC4gVGhlIGZpcnN0XG5cdCAqIHVpLXNyZWYtYWN0aXZlIGZvdW5kIGF0IHRoZSBzYW1lIGxldmVsIG9yIGFib3ZlIHRoZSB1aS1zcmVmIHdpbGwgYmUgdXNlZC5cblx0ICpcblx0ICogV2lsbCBhY3RpdmF0ZSB3aGVuIHRoZSB1aS1zcmVmJ3MgdGFyZ2V0IHN0YXRlIG9yIGFueSBjaGlsZCBzdGF0ZSBpcyBhY3RpdmUuIElmIHlvdVxuXHQgKiBuZWVkIHRvIGFjdGl2YXRlIG9ubHkgd2hlbiB0aGUgdWktc3JlZiB0YXJnZXQgc3RhdGUgaXMgYWN0aXZlIGFuZCAqbm90KiBhbnkgb2Zcblx0ICogaXQncyBjaGlsZHJlbiwgdGhlbiB5b3Ugd2lsbCB1c2UgdWktc3JlZi1hY3RpdmUtZXFcblx0ICpcblx0ICogR2l2ZW4gdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgaHRtbFxuXHQgKlxuXHQgKiA8cHJlPlxuXHQgKiA8dWw+XG5cdCAqICAgPGxpIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCIgY2xhc3M9XCJpdGVtXCI+XG5cdCAqICAgICA8YSBocmVmIHVpLXNyZWY9XCJhcHAudXNlcih7dXNlcjogJ2JpbGJvYmFnZ2lucyd9KVwiPkBiaWxib2JhZ2dpbnM8L2E+XG5cdCAqICAgPC9saT5cblx0ICogPC91bD5cblx0ICogPC9wcmU+XG5cdCAqIGBgYFxuXHQgKlxuXHQgKlxuXHQgKiBXaGVuIHRoZSBhcHAgc3RhdGUgaXMgXCJhcHAudXNlclwiIChvciBhbnkgY2hpbGRyZW4gc3RhdGVzKSwgYW5kIGNvbnRhaW5zIHRoZSBzdGF0ZSBwYXJhbWV0ZXIgXCJ1c2VyXCIgd2l0aCB2YWx1ZSBcImJpbGJvYmFnZ2luc1wiLFxuXHQgKiB0aGUgcmVzdWx0aW5nIEhUTUwgd2lsbCBhcHBlYXIgYXMgKG5vdGUgdGhlICdhY3RpdmUnIGNsYXNzKTpcblx0ICpcblx0ICogYGBgaHRtbFxuXHQgKlxuXHQgKiA8cHJlPlxuXHQgKiA8dWw+XG5cdCAqICAgPGxpIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCIgY2xhc3M9XCJpdGVtIGFjdGl2ZVwiPlxuXHQgKiAgICAgPGEgdWktc3JlZj1cImFwcC51c2VyKHt1c2VyOiAnYmlsYm9iYWdnaW5zJ30pXCIgaHJlZj1cIi91c2Vycy9iaWxib2JhZ2dpbnNcIj5AYmlsYm9iYWdnaW5zPC9hPlxuXHQgKiAgIDwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqIDwvcHJlPlxuXHQgKiBgYGBcblx0ICpcblx0ICogVGhlIGNsYXNzIG5hbWUgaXMgaW50ZXJwb2xhdGVkICoqb25jZSoqIGR1cmluZyB0aGUgZGlyZWN0aXZlcyBsaW5rIHRpbWUgKGFueSBmdXJ0aGVyIGNoYW5nZXMgdG8gdGhlXG5cdCAqIGludGVycG9sYXRlZCB2YWx1ZSBhcmUgaWdub3JlZCkuXG5cdCAqXG5cdCAqIE11bHRpcGxlIGNsYXNzZXMgbWF5IGJlIHNwZWNpZmllZCBpbiBhIHNwYWNlLXNlcGFyYXRlZCBmb3JtYXQ6XG5cdCAqXG5cdCAqIGBgYGh0bWxcblx0ICogPHByZT5cblx0ICogPHVsPlxuXHQgKiAgIDxsaSB1aS1zcmVmLWFjdGl2ZT0nY2xhc3MxIGNsYXNzMiBjbGFzczMnPlxuXHQgKiAgICAgPGEgdWktc3JlZj1cImFwcC51c2VyXCI+bGluazwvYT5cblx0ICogICA8L2xpPlxuXHQgKiA8L3VsPlxuXHQgKiA8L3ByZT5cblx0ICogYGBgXG5cdCAqXG5cdCAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyB1aS1zcmVmLWFjdGl2ZSBhbiBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzXG5cdCAqIHRvIGFuIG9iamVjdCBoYXNoLCB3aG9zZSBrZXlzIHJlcHJlc2VudCBhY3RpdmUgY2xhc3MgbmFtZXMgYW5kIHdob3NlXG5cdCAqIHZhbHVlcyByZXByZXNlbnQgdGhlIHJlc3BlY3RpdmUgc3RhdGUgbmFtZXMvZ2xvYnMuXG5cdCAqIHVpLXNyZWYtYWN0aXZlIHdpbGwgbWF0Y2ggaWYgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlICoqaW5jbHVkZXMqKiBhbnkgb2Zcblx0ICogdGhlIHNwZWNpZmllZCBzdGF0ZSBuYW1lcy9nbG9icywgZXZlbiB0aGUgYWJzdHJhY3Qgb25lcy5cblx0ICpcblx0ICogR2l2ZW4gdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZSwgd2l0aCBcImFkbWluXCIgYmVpbmcgYW4gYWJzdHJhY3Qgc3RhdGU6XG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYGh0bWxcblx0ICpcblx0ICogPHByZT5cblx0ICogPGRpdiB1aS1zcmVmLWFjdGl2ZT1cInsnYWN0aXZlJzogJ2FkbWluLionfVwiPlxuXHQgKiAgIDxhIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCIgdWktc3JlZj1cImFkbWluLnJvbGVzXCI+Um9sZXM8L2E+XG5cdCAqIDwvZGl2PlxuXHQgKiA8L3ByZT5cblx0ICogYGBgXG5cdCAqXG5cdCAqIFdoZW4gdGhlIGN1cnJlbnQgc3RhdGUgaXMgXCJhZG1pbi5yb2xlc1wiIHRoZSBcImFjdGl2ZVwiIGNsYXNzIHdpbGwgYmUgYXBwbGllZFxuXHQgKiB0byBib3RoIHRoZSA8ZGl2PiBhbmQgPGE+IGVsZW1lbnRzLiBJdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IHRoZSBzdGF0ZVxuXHQgKiBuYW1lcy9nbG9icyBwYXNzZWQgdG8gdWktc3JlZi1hY3RpdmUgc2hhZG93IHRoZSBzdGF0ZSBwcm92aWRlZCBieSB1aS1zcmVmLlxuXHQgKi9cblx0dmFyIHVpU3JlZkFjdGl2ZU5nMSA9IFsnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcycsICckaW50ZXJwb2xhdGUnLCAnJHRyYW5zaXRpb25zJyxcblx0ICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkFjdGl2ZURpcmVjdGl2ZSgkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGludGVycG9sYXRlLCAkdHJhbnNpdGlvbnMpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICByZXN0cmljdDogXCJBXCIsXG5cdCAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyRhdHRycycsICckdGltZW91dCcsIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdLCBhY3RpdmVDbGFzc2VzID0ge30sIGFjdGl2ZUVxQ2xhc3MsIHVpU3JlZkFjdGl2ZTtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBwcm9iYWJseSBpc24ndCBtdWNoIHBvaW50IGluICRvYnNlcnZpbmcgdGhpc1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIHVpU3JlZkFjdGl2ZSBhbmQgdWlTcmVmQWN0aXZlRXEgc2hhcmUgdGhlIHNhbWUgZGlyZWN0aXZlIG9iamVjdCB3aXRoIHNvbWVcblx0ICAgICAgICAgICAgICAgICAgICAvLyBzbGlnaHQgZGlmZmVyZW5jZSBpbiBsb2dpYyByb3V0aW5nXG5cdCAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXFDbGFzcyA9ICRpbnRlcnBvbGF0ZSgkYXR0cnMudWlTcmVmQWN0aXZlRXEgfHwgJycsIGZhbHNlKSgkc2NvcGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHVpU3JlZkFjdGl2ZSA9ICRzY29wZS4kZXZhbCgkYXR0cnMudWlTcmVmQWN0aXZlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgdWlTcmVmQWN0aXZlID0gdWlTcmVmQWN0aXZlIHx8ICRpbnRlcnBvbGF0ZSgkYXR0cnMudWlTcmVmQWN0aXZlIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzT2JqZWN0KHVpU3JlZkFjdGl2ZSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uXzEuZm9yRWFjaCh1aVNyZWZBY3RpdmUsIGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgYWN0aXZlQ2xhc3MpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoc3RhdGVPck5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZiA9IHBhcnNlU3RhdGVSZWYoc3RhdGVPck5hbWUsICRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0YXRlKHJlZi5zdGF0ZSwgJHNjb3BlLiRldmFsKHJlZi5wYXJhbUV4cHIpLCBhY3RpdmVDbGFzcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyB1aVNyZWYgdG8gY29tbXVuaWNhdGUgd2l0aCB1aVNyZWZBY3RpdmVbRXF1YWxzXVxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCRhZGRTdGF0ZUluZm8gPSBmdW5jdGlvbiAobmV3U3RhdGUsIG5ld1BhcmFtcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGdvdCBhbiBleHBsaWNpdCBzdGF0ZSBwcm92aWRlZCBieSB1aS1zcmVmLWFjdGl2ZSwgc28gd2Vcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hhZG93IHRoZSBvbmUgdGhhdCBjb21lcyBmcm9tIHVpLXNyZWZcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc09iamVjdCh1aVNyZWZBY3RpdmUpICYmIHN0YXRlcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcmVnaXN0ZXIgPSBhZGRTdGF0ZShuZXdTdGF0ZSwgbmV3UGFyYW1zLCB1aVNyZWZBY3RpdmUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcmVnaXN0ZXI7XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlKTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlQWZ0ZXJUcmFuc2l0aW9uID0gWyckdHJhbnNpdGlvbiQnLCBmdW5jdGlvbiAoJHRyYW5zaXRpb24kKSB7ICR0cmFuc2l0aW9uJC5wcm9taXNlLnRoZW4odXBkYXRlKTsgfV07XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGRlcmVnaXN0ZXJGbiA9ICR0cmFuc2l0aW9ucy5vblN0YXJ0KHt9LCB1cGRhdGVBZnRlclRyYW5zaXRpb24pO1xuXHQgICAgICAgICAgICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZGVyZWdpc3RlckZuKTtcblx0ICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRTdGF0ZShzdGF0ZU5hbWUsIHN0YXRlUGFyYW1zLCBhY3RpdmVDbGFzcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAkc3RhdGUuZ2V0KHN0YXRlTmFtZSwgc3RhdGVDb250ZXh0KCRlbGVtZW50KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUhhc2ggPSBjcmVhdGVTdGF0ZUhhc2goc3RhdGVOYW1lLCBzdGF0ZVBhcmFtcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUluZm8gPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUgfHwgeyBuYW1lOiBzdGF0ZU5hbWUgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogc3RhdGVQYXJhbXMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiBzdGF0ZUhhc2hcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzLnB1c2goc3RhdGVJbmZvKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3Nlc1tzdGF0ZUhhc2hdID0gYWN0aXZlQ2xhc3M7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmVTdGF0ZSgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSBzdGF0ZXMuaW5kZXhPZihzdGF0ZUluZm8pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzLnNwbGljZShpZHgsIDEpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGVcblx0ICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IFtwYXJhbXNdXG5cdCAgICAgICAgICAgICAgICAgICAgICogQHJldHVybiB7c3RyaW5nfVxuXHQgICAgICAgICAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVN0YXRlSGFzaChzdGF0ZSwgcGFyYW1zKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzU3RyaW5nKHN0YXRlKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGF0ZSBzaG91bGQgYmUgYSBzdHJpbmcnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzT2JqZWN0KHBhcmFtcykpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSArIGNvbW1vbl8xLnRvSnNvbihwYXJhbXMpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9ICRzY29wZS4kZXZhbChwYXJhbXMpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzT2JqZWN0KHBhcmFtcykpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSArIGNvbW1vbl8xLnRvSnNvbihwYXJhbXMpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHJvdXRlIHN0YXRlXG5cdCAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFueU1hdGNoKHN0YXRlc1tpXS5zdGF0ZSwgc3RhdGVzW2ldLnBhcmFtcykpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcygkZWxlbWVudCwgYWN0aXZlQ2xhc3Nlc1tzdGF0ZXNbaV0uaGFzaF0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIGFjdGl2ZUNsYXNzZXNbc3RhdGVzW2ldLmhhc2hdKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGFjdE1hdGNoKHN0YXRlc1tpXS5zdGF0ZSwgc3RhdGVzW2ldLnBhcmFtcykpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcygkZWxlbWVudCwgYWN0aXZlRXFDbGFzcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcygkZWxlbWVudCwgYWN0aXZlRXFDbGFzcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkgeyAkdGltZW91dChmdW5jdGlvbiAoKSB7IGVsLmFkZENsYXNzKGNsYXNzTmFtZSk7IH0pOyB9XG5cdCAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkgeyBlbC5yZW1vdmVDbGFzcyhjbGFzc05hbWUpOyB9XG5cdCAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYW55TWF0Y2goc3RhdGUsIHBhcmFtcykgeyByZXR1cm4gJHN0YXRlLmluY2x1ZGVzKHN0YXRlLm5hbWUsIHBhcmFtcyk7IH1cblx0ICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBleGFjdE1hdGNoKHN0YXRlLCBwYXJhbXMpIHsgcmV0dXJuICRzdGF0ZS5pcyhzdGF0ZS5uYW1lLCBwYXJhbXMpOyB9XG5cdCAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG5cdCAgICAgICAgICAgICAgICB9XVxuXHQgICAgICAgIH07XG5cdCAgICB9XTtcblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG5cdCAgICAuZGlyZWN0aXZlKCd1aVNyZWYnLCB1aVNyZWZOZzEpXG5cdCAgICAuZGlyZWN0aXZlKCd1aVNyZWZBY3RpdmUnLCB1aVNyZWZBY3RpdmVOZzEpXG5cdCAgICAuZGlyZWN0aXZlKCd1aVNyZWZBY3RpdmVFcScsIHVpU3JlZkFjdGl2ZU5nMSlcblx0ICAgIC5kaXJlY3RpdmUoJ3VpU3RhdGUnLCB1aVN0YXRlTmcxKTtcblxuXG4vKioqLyB9LFxuLyogNTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0LyoqXG5cdCAqIEBuZ2RvYyBmaWx0ZXJcblx0ICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmZpbHRlcjppc1N0YXRlXG5cdCAqXG5cdCAqIEByZXF1aXJlcyB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlXG5cdCAqXG5cdCAqIEBkZXNjcmlwdGlvblxuXHQgKiBUcmFuc2xhdGVzIHRvIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI21ldGhvZHNfaXMgJHN0YXRlLmlzKFwic3RhdGVOYW1lXCIpfS5cblx0ICovXG5cdCRJc1N0YXRlRmlsdGVyLiRpbmplY3QgPSBbJyRzdGF0ZSddO1xuXHRmdW5jdGlvbiAkSXNTdGF0ZUZpbHRlcigkc3RhdGUpIHtcblx0ICAgIHZhciBpc0ZpbHRlciA9IGZ1bmN0aW9uIChzdGF0ZSwgcGFyYW1zLCBvcHRpb25zKSB7XG5cdCAgICAgICAgcmV0dXJuICRzdGF0ZS5pcyhzdGF0ZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0ICAgIH07XG5cdCAgICBpc0ZpbHRlci4kc3RhdGVmdWwgPSB0cnVlO1xuXHQgICAgcmV0dXJuIGlzRmlsdGVyO1xuXHR9XG5cdGV4cG9ydHMuJElzU3RhdGVGaWx0ZXIgPSAkSXNTdGF0ZUZpbHRlcjtcblx0LyoqXG5cdCAqIEBuZ2RvYyBmaWx0ZXJcblx0ICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmZpbHRlcjppbmNsdWRlZEJ5U3RhdGVcblx0ICpcblx0ICogQHJlcXVpcmVzIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcblx0ICpcblx0ICogQGRlc2NyaXB0aW9uXG5cdCAqIFRyYW5zbGF0ZXMgdG8ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjbWV0aG9kc19pbmNsdWRlcyAkc3RhdGUuaW5jbHVkZXMoJ2Z1bGxPclBhcnRpYWxTdGF0ZU5hbWUnKX0uXG5cdCAqL1xuXHQkSW5jbHVkZWRCeVN0YXRlRmlsdGVyLiRpbmplY3QgPSBbJyRzdGF0ZSddO1xuXHRmdW5jdGlvbiAkSW5jbHVkZWRCeVN0YXRlRmlsdGVyKCRzdGF0ZSkge1xuXHQgICAgdmFyIGluY2x1ZGVzRmlsdGVyID0gZnVuY3Rpb24gKHN0YXRlLCBwYXJhbXMsIG9wdGlvbnMpIHtcblx0ICAgICAgICByZXR1cm4gJHN0YXRlLmluY2x1ZGVzKHN0YXRlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHQgICAgfTtcblx0ICAgIGluY2x1ZGVzRmlsdGVyLiRzdGF0ZWZ1bCA9IHRydWU7XG5cdCAgICByZXR1cm4gaW5jbHVkZXNGaWx0ZXI7XG5cdH1cblx0ZXhwb3J0cy4kSW5jbHVkZWRCeVN0YXRlRmlsdGVyID0gJEluY2x1ZGVkQnlTdGF0ZUZpbHRlcjtcblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG5cdCAgICAuZmlsdGVyKCdpc1N0YXRlJywgJElzU3RhdGVGaWx0ZXIpXG5cdCAgICAuZmlsdGVyKCdpbmNsdWRlZEJ5U3RhdGUnLCAkSW5jbHVkZWRCeVN0YXRlRmlsdGVyKTtcblxuXG4vKioqLyB9LFxuLyogNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKiBAbW9kdWxlIG5nMV9kaXJlY3RpdmVzICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHByZWRpY2F0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciB0cmFjZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdHZhciByZWplY3RGYWN0b3J5XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIGhvZl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0dmFyIHN0cmluZ3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdC8qKlxuXHQgKiBgdWktdmlld2A6IEEgdmlld3BvcnQgZGlyZWN0aXZlIHdoaWNoIGlzIGZpbGxlZCBpbiBieSBhIHZpZXcgZnJvbSB0aGUgYWN0aXZlIHN0YXRlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgQSB2aWV3IG5hbWUuIFRoZSBuYW1lIHNob3VsZCBiZSB1bmlxdWUgYW1vbmdzdCB0aGUgb3RoZXIgdmlld3MgaW4gdGhlXG5cdCAqIHNhbWUgc3RhdGUuIFlvdSBjYW4gaGF2ZSB2aWV3cyBvZiB0aGUgc2FtZSBuYW1lIHRoYXQgbGl2ZSBpbiBkaWZmZXJlbnQgc3RhdGVzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgSXQgYWxsb3dzIHlvdSB0byBzZXQgdGhlIHNjcm9sbCBiZWhhdmlvciBvZiB0aGUgYnJvd3NlciB3aW5kb3dcblx0ICogd2hlbiBhIHZpZXcgaXMgcG9wdWxhdGVkLiBCeSBkZWZhdWx0LCAkYW5jaG9yU2Nyb2xsIGlzIG92ZXJyaWRkZW4gYnkgdWktcm91dGVyJ3MgY3VzdG9tIHNjcm9sbFxuXHQgKiBzZXJ2aWNlLCB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiR1aVZpZXdTY3JvbGx9LiBUaGlzIGN1c3RvbSBzZXJ2aWNlIGxldCdzIHlvdVxuXHQgKiBzY3JvbGwgdWktdmlldyBlbGVtZW50cyBpbnRvIHZpZXcgd2hlbiB0aGV5IGFyZSBwb3B1bGF0ZWQgZHVyaW5nIGEgc3RhdGUgYWN0aXZhdGlvbi5cblx0ICpcblx0ICogKk5vdGU6IFRvIHJldmVydCBiYWNrIHRvIG9sZCBbYCRhbmNob3JTY3JvbGxgXShodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kYW5jaG9yU2Nyb2xsKVxuXHQgKiBmdW5jdGlvbmFsaXR5LCBjYWxsIGAkdWlWaWV3U2Nyb2xsUHJvdmlkZXIudXNlQW5jaG9yU2Nyb2xsKClgLipcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvbmxvYWQgRXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuZXZlciB0aGUgdmlldyB1cGRhdGVzLlxuXHQgKlxuXHQgKiBBIHZpZXcgY2FuIGJlIHVubmFtZWQgb3IgbmFtZWQuXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYGh0bWxcblx0ICpcblx0ICogPCEtLSBVbm5hbWVkIC0tPlxuXHQgKiA8ZGl2IHVpLXZpZXc+PC9kaXY+XG5cdCAqXG5cdCAqIDwhLS0gTmFtZWQgLS0+XG5cdCAqIDxkaXYgdWktdmlldz1cInZpZXdOYW1lXCI+PC9kaXY+XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBZb3UgY2FuIG9ubHkgaGF2ZSBvbmUgdW5uYW1lZCB2aWV3IHdpdGhpbiBhbnkgdGVtcGxhdGUgKG9yIHJvb3QgaHRtbCkuIElmIHlvdSBhcmUgb25seSB1c2luZyBhXG5cdCAqIHNpbmdsZSB2aWV3IGFuZCBpdCBpcyB1bm5hbWVkIHRoZW4geW91IGNhbiBwb3B1bGF0ZSBpdCBsaWtlIHNvOlxuXHQgKiBgYGBcblx0ICpcblx0ICogPGRpdiB1aS12aWV3PjwvZGl2PlxuXHQgKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuXHQgKiAgIHRlbXBsYXRlOiBcIjxoMT5IRUxMTyE8L2gxPlwiXG5cdCAqIH0pXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBUaGUgYWJvdmUgaXMgYSBjb252ZW5pZW50IHNob3J0Y3V0IGVxdWl2YWxlbnQgdG8gc3BlY2lmeWluZyB5b3VyIHZpZXcgZXhwbGljaXRseSB3aXRoIHRoZSB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVByb3ZpZGVyI3ZpZXdzIGB2aWV3c2B9XG5cdCAqIGNvbmZpZyBwcm9wZXJ0eSwgYnkgbmFtZSwgaW4gdGhpcyBjYXNlIGFuIGVtcHR5IG5hbWU6XG5cdCAqIGBgYGpzXG5cdCAqXG5cdCAqICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZVwiLCB7XG5cdCAqICAgdmlld3M6IHtcblx0ICogICAgIFwiXCI6IHtcblx0ICogICAgICAgdGVtcGxhdGU6IFwiPGgxPkhFTExPITwvaDE+XCJcblx0ICogICAgIH1cblx0ICogICB9XG5cdCAqIH0pXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBCdXQgdHlwaWNhbGx5IHlvdSdsbCBvbmx5IHVzZSB0aGUgdmlld3MgcHJvcGVydHkgaWYgeW91IG5hbWUgeW91ciB2aWV3IG9yIGhhdmUgbW9yZSB0aGFuIG9uZSB2aWV3XG5cdCAqIGluIHRoZSBzYW1lIHRlbXBsYXRlLiBUaGVyZSdzIG5vdCByZWFsbHkgYSBjb21wZWxsaW5nIHJlYXNvbiB0byBuYW1lIGEgdmlldyBpZiBpdHMgdGhlIG9ubHkgb25lLFxuXHQgKiBidXQgeW91IGNvdWxkIGlmIHlvdSB3YW50ZWQsIGxpa2Ugc286XG5cdCAqXG5cdCAqIGBgYGh0bWxcblx0ICpcblx0ICogPGRpdiB1aS12aWV3PVwibWFpblwiPjwvZGl2PlxuXHQgKiBgYGBcblx0ICpcblx0ICogYGBganNcblx0ICpcblx0ICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcblx0ICogICB2aWV3czoge1xuXHQgKiAgICAgXCJtYWluXCI6IHtcblx0ICogICAgICAgdGVtcGxhdGU6IFwiPGgxPkhFTExPITwvaDE+XCJcblx0ICogICAgIH1cblx0ICogICB9XG5cdCAqIH0pXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBSZWFsbHkgdGhvdWdoLCB5b3UnbGwgdXNlIHZpZXdzIHRvIHNldCB1cCBtdWx0aXBsZSB2aWV3czpcblx0ICogYGBgaHRtbFxuXHQgKlxuXHQgKiA8ZGl2IHVpLXZpZXc+PC9kaXY+XG5cdCAqIDxkaXYgdWktdmlldz1cImNoYXJ0XCI+PC9kaXY+XG5cdCAqIDxkaXYgdWktdmlldz1cImRhdGFcIj48L2Rpdj5cblx0ICogYGBgXG5cdCAqXG5cdCAqIGBgYGpzXG5cdCAqICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZVwiLCB7XG5cdCAqICAgdmlld3M6IHtcblx0ICogICAgIFwiXCI6IHtcblx0ICogICAgICAgdGVtcGxhdGU6IFwiPGgxPkhFTExPITwvaDE+XCJcblx0ICogICAgIH0sXG5cdCAqICAgICBcImNoYXJ0XCI6IHtcblx0ICogICAgICAgdGVtcGxhdGU6IFwiPGNoYXJ0X3RoaW5nLz5cIlxuXHQgKiAgICAgfSxcblx0ICogICAgIFwiZGF0YVwiOiB7XG5cdCAqICAgICAgIHRlbXBsYXRlOiBcIjxkYXRhX3RoaW5nLz5cIlxuXHQgKiAgICAgfVxuXHQgKiAgIH1cblx0ICogfSlcblx0ICogYGBgXG5cdCAqXG5cdCAqIEV4YW1wbGVzIGZvciBgYXV0b3Njcm9sbGA6XG5cdCAqXG5cdCAqIGBgYGh0bWxcblx0ICpcblx0ICogPCEtLSBJZiBhdXRvc2Nyb2xsIHByZXNlbnQgd2l0aCBubyBleHByZXNzaW9uLFxuXHQgKiAgICAgIHRoZW4gc2Nyb2xsIHVpLXZpZXcgaW50byB2aWV3IC0tPlxuXHQgKiA8dWktdmlldyBhdXRvc2Nyb2xsLz5cblx0ICpcblx0ICogPCEtLSBJZiBhdXRvc2Nyb2xsIHByZXNlbnQgd2l0aCB2YWxpZCBleHByZXNzaW9uLFxuXHQgKiAgICAgIHRoZW4gc2Nyb2xsIHVpLXZpZXcgaW50byB2aWV3IGlmIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUgLS0+XG5cdCAqIDx1aS12aWV3IGF1dG9zY3JvbGw9J3RydWUnLz5cblx0ICogPHVpLXZpZXcgYXV0b3Njcm9sbD0nZmFsc2UnLz5cblx0ICogPHVpLXZpZXcgYXV0b3Njcm9sbD0nc2NvcGVWYXJpYWJsZScvPlxuXHQgKiBgYGBcblx0ICpcblx0ICogUmVzb2x2ZSBkYXRhOlxuXHQgKlxuXHQgKiBUaGUgcmVzb2x2ZWQgZGF0YSBmcm9tIHRoZSBzdGF0ZSdzIGByZXNvbHZlYCBibG9jayBpcyBwbGFjZWQgb24gdGhlIHNjb3BlIGFzIGAkcmVzb2x2ZWAgKHRoaXNcblx0ICogY2FuIGJlIGN1c3RvbWl6ZWQgdXNpbmcgW1tWaWV3RGVjbGFyYXRpb24ucmVzb2x2ZUFzXV0pLiAgVGhpcyBjYW4gYmUgdGhlbiBhY2Nlc3NlZCBmcm9tIHRoZSB0ZW1wbGF0ZS5cblx0ICpcblx0ICogTm90ZSB0aGF0IHdoZW4gYGNvbnRyb2xsZXJBc2AgaXMgYmVpbmcgdXNlZCwgYCRyZXNvbHZlYCBpcyBzZXQgb24gdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2UgKmFmdGVyKiB0aGVcblx0ICogY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQuICBUaGUgYCRvbkluaXQoKWAgaG9vayBjYW4gYmUgdXNlZCB0byBwZXJmb3JtIGluaXRpYWxpemF0aW9uIGNvZGUgd2hpY2hcblx0ICogZGVwZW5kcyBvbiBgJHJlc29sdmVgIGRhdGEuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYGpzXG5cdCAqXG5cdCAqICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJywge1xuXHQgKiAgIHRlbXBsYXRlOiAnPG15LWNvbXBvbmVudCB1c2VyPVwiJHJlc29sdmUudXNlclwiPjwvbXktY29tcG9uZW50PicsXG5cdCAqICAgcmVzb2x2ZToge1xuXHQgKiAgICAgdXNlcjogZnVuY3Rpb24oVXNlclNlcnZpY2UpIHsgcmV0dXJuIFVzZXJTZXJ2aWNlLmZldGNoVXNlcigpOyB9XG5cdCAqICAgfVxuXHQgKiB9KTtcblx0ICogYGBgXG5cdCAqL1xuXHR2YXIgdWlWaWV3TmcxID0gWyckdmlldycsICckYW5pbWF0ZScsICckdWlWaWV3U2Nyb2xsJywgJyRpbnRlcnBvbGF0ZScsICckcScsXG5cdCAgICBmdW5jdGlvbiAkVmlld0RpcmVjdGl2ZSgkdmlldywgJGFuaW1hdGUsICR1aVZpZXdTY3JvbGwsICRpbnRlcnBvbGF0ZSwgJHEpIHtcblx0ICAgICAgICBmdW5jdGlvbiBnZXRSZW5kZXJlcihhdHRycywgc2NvcGUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIGVudGVyOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFyZ2V0LCBjYikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLnZlcnNpb24ubWlub3IgPiAyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGVsZW1lbnQsIG51bGwsIHRhcmdldCkudGhlbihjYik7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBudWxsLCB0YXJnZXQsIGNiKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uIChlbGVtZW50LCBjYikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLnZlcnNpb24ubWlub3IgPiAyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnQpLnRoZW4oY2IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZWxlbWVudCwgY2IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZnVuY3Rpb24gY29uZmlnc0VxdWFsKGNvbmZpZzEsIGNvbmZpZzIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbmZpZzEgPT09IGNvbmZpZzI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciByb290RGF0YSA9IHtcblx0ICAgICAgICAgICAgJGNmZzogeyB2aWV3RGVjbDogeyAkY29udGV4dDogJHZpZXcucm9vdENvbnRleHQoKSB9IH0sXG5cdCAgICAgICAgICAgICR1aVZpZXc6IHt9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuXHQgICAgICAgICAgICBjb3VudDogMCxcblx0ICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxuXHQgICAgICAgICAgICB0ZXJtaW5hbDogdHJ1ZSxcblx0ICAgICAgICAgICAgcHJpb3JpdHk6IDQwMCxcblx0ICAgICAgICAgICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuXHQgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRycywgJHRyYW5zY2x1ZGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50LCBhdHRycykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c0VsLCBjdXJyZW50RWwsIGN1cnJlbnRTY29wZSwgdW5yZWdpc3Rlciwgb25sb2FkRXhwID0gYXR0cnMub25sb2FkIHx8ICcnLCBhdXRvU2Nyb2xsRXhwID0gYXR0cnMuYXV0b3Njcm9sbCwgcmVuZGVyZXIgPSBnZXRSZW5kZXJlcihhdHRycywgc2NvcGUpLCB2aWV3Q29uZmlnID0gdW5kZWZpbmVkLCBpbmhlcml0ZWQgPSAkZWxlbWVudC5pbmhlcml0ZWREYXRhKCckdWlWaWV3JykgfHwgcm9vdERhdGEsIG5hbWUgPSAkaW50ZXJwb2xhdGUoYXR0cnMudWlWaWV3IHx8IGF0dHJzLm5hbWUgfHwgJycpKHNjb3BlKSB8fCAnJGRlZmF1bHQnO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVVSVZpZXcgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkaXJlY3RpdmUuY291bnQrKyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZnFuOiBpbmhlcml0ZWQuJHVpVmlldy5mcW4gPyBpbmhlcml0ZWQuJHVpVmlldy5mcW4gKyBcIi5cIiArIG5hbWUgOiBuYW1lLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1VwZGF0ZWQ6IGNvbmZpZ1VwZGF0ZWRDYWxsYmFjayxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGNyZWF0aW9uQ29udGV4dCgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBob2ZfMS5wYXJzZSgnJGNmZy52aWV3RGVjbC4kY29udGV4dCcpKGluaGVyaXRlZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VVaVZpZXdFdmVudChcIkxpbmtpbmdcIiwgYWN0aXZlVUlWaWV3KTtcblx0ICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjb25maWdVcGRhdGVkQ2FsbGJhY2soY29uZmlnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWdzRXF1YWwodmlld0NvbmZpZywgY29uZmlnKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVVpVmlld0NvbmZpZ1VwZGF0ZWQoYWN0aXZlVUlWaWV3LCBjb25maWcgJiYgY29uZmlnLnZpZXdEZWNsICYmIGNvbmZpZy52aWV3RGVjbC4kY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdDb25maWcgPSBjb25maWc7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoY29uZmlnKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJHVpVmlldycsIHsgJHVpVmlldzogYWN0aXZlVUlWaWV3IH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoKTtcblx0ICAgICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyID0gJHZpZXcucmVnaXN0ZXJVaVZpZXcoYWN0aXZlVUlWaWV3KTtcblx0ICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oXCIkZGVzdHJveVwiLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VVaVZpZXdFdmVudChcIkRlc3Ryb3lpbmcvVW5yZWdpc3RlcmluZ1wiLCBhY3RpdmVVSVZpZXcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xlYW51cExhc3RWaWV3KCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNFbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVVpVmlld0V2ZW50KFwiUmVtb3ZpbmcgKHByZXZpb3VzKSBlbFwiLCBwcmV2aW91c0VsLmRhdGEoJyR1aVZpZXcnKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0VsLnJlbW92ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNFbCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVVpVmlld0V2ZW50KFwiRGVzdHJveWluZyBzY29wZVwiLCBhY3RpdmVVSVZpZXcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdmlld0RhdGFfMSA9IGN1cnJlbnRFbC5kYXRhKCckdWlWaWV3Jyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVWlWaWV3RXZlbnQoXCJBbmltYXRlIG91dFwiLCBfdmlld0RhdGFfMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5sZWF2ZShjdXJyZW50RWwsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmlld0RhdGFfMS4kJGFuaW1MZWF2ZS5yZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNFbCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzRWwgPSBjdXJyZW50RWw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWwgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVZpZXcoY29uZmlnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVVpVmlld1Njb3BlQ3JlYXRlZChhY3RpdmVVSVZpZXcsIG5ld1Njb3BlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1FbnRlciA9ICRxLmRlZmVyKCksIGFuaW1MZWF2ZSA9ICRxLmRlZmVyKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkdWlWaWV3RGF0YSA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjZmc6IGNvbmZpZyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aVZpZXc6IGFjdGl2ZVVJVmlldyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhbmltRW50ZXI6IGFuaW1FbnRlci5wcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1MZWF2ZTogYW5pbUxlYXZlLnByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJGFuaW1MZWF2ZTogYW5pbUxlYXZlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9uZWQgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24gKGNsb25lKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5lbnRlcihjbG9uZS5kYXRhKCckdWlWaWV3JywgJHVpVmlld0RhdGEpLCAkZWxlbWVudCwgZnVuY3Rpb24gb25VaVZpZXdFbnRlcigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltRW50ZXIucmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50QW5pbWF0aW9uRW5kZWQnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzRGVmaW5lZChhdXRvU2Nyb2xsRXhwKSAmJiAhYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWlWaWV3U2Nyb2xsKGNsb25lKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFudXBMYXN0VmlldygpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsID0gY2xvbmVkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBldmVudFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuZGlyZWN0aXZlOnVpLXZpZXcjJHZpZXdDb250ZW50TG9hZGVkXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAqIEBldmVudE9mIHVpLnJvdXRlci5zdGF0ZS5kaXJlY3RpdmU6dWktdmlld1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZXZlbnRUeXBlIGVtaXRzIG9uIHVpLXZpZXcgZGlyZWN0aXZlIHNjb3BlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgKiBGaXJlZCBvbmNlIHRoZSB2aWV3IGlzICoqbG9hZGVkKiosICphZnRlciogdGhlIERPTSBpcyByZW5kZXJlZC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IEV2ZW50IG9iamVjdC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50TG9hZGVkJywgY29uZmlnIHx8IHZpZXdDb25maWcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcGUuJGV2YWwob25sb2FkRXhwKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXHQgICAgfV07XG5cdCRWaWV3RGlyZWN0aXZlRmlsbC4kaW5qZWN0ID0gWyckY29tcGlsZScsICckY29udHJvbGxlcicsICckdHJhbnNpdGlvbnMnLCAnJHZpZXcnLCAnJHRpbWVvdXQnXTtcblx0LyoqIEBoaWRkZW4gKi9cblx0ZnVuY3Rpb24gJFZpZXdEaXJlY3RpdmVGaWxsKCRjb21waWxlLCAkY29udHJvbGxlciwgJHRyYW5zaXRpb25zLCAkdmlldywgJHRpbWVvdXQpIHtcblx0ICAgIHZhciBnZXRDb250cm9sbGVyQXMgPSBob2ZfMS5wYXJzZSgndmlld0RlY2wuY29udHJvbGxlckFzJyk7XG5cdCAgICB2YXIgZ2V0UmVzb2x2ZUFzID0gaG9mXzEucGFyc2UoJ3ZpZXdEZWNsLnJlc29sdmVBcycpO1xuXHQgICAgdmFyIGdldFJlc29sdmVDb250ZXh0ID0gaG9mXzEucGFyc2UoJ25vZGUucmVzb2x2ZUNvbnRleHQnKTtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxuXHQgICAgICAgIHByaW9yaXR5OiAtNDAwLFxuXHQgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCkge1xuXHQgICAgICAgICAgICB2YXIgaW5pdGlhbCA9IHRFbGVtZW50Lmh0bWwoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgJGVsZW1lbnQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YSgnJHVpVmlldycpO1xuXHQgICAgICAgICAgICAgICAgaWYgKCFkYXRhKVxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIHZhciBjZmcgPSBkYXRhLiRjZmcgfHwgeyB2aWV3RGVjbDoge30gfTtcblx0ICAgICAgICAgICAgICAgICRlbGVtZW50Lmh0bWwoY2ZnLnRlbXBsYXRlIHx8IGluaXRpYWwpO1xuXHQgICAgICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVVpVmlld0ZpbGwoZGF0YS4kdWlWaWV3LCAkZWxlbWVudC5odG1sKCkpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKTtcblx0ICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gY2ZnLmNvbnRyb2xsZXI7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29udHJvbGxlckFzID0gZ2V0Q29udHJvbGxlckFzKGNmZyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUFzID0gZ2V0UmVzb2x2ZUFzKGNmZyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUN0eCA9IGdldFJlc29sdmVDb250ZXh0KGNmZyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgbG9jYWxzID0gcmVzb2x2ZUN0eCAmJiBjb21tb25fMS5tYXAocmVzb2x2ZUN0eC5nZXRSZXNvbHZhYmxlcygpLCBmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcblx0ICAgICAgICAgICAgICAgIHNjb3BlW3Jlc29sdmVBc10gPSBsb2NhbHM7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVySW5zdGFuY2UgPSAkY29udHJvbGxlcihjb250cm9sbGVyLCBjb21tb25fMS5leHRlbmQoe30sIGxvY2FscywgeyAkc2NvcGU6IHNjb3BlLCAkZWxlbWVudDogJGVsZW1lbnQgfSkpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyQXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbY29udHJvbGxlckFzXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbY29udHJvbGxlckFzXVtyZXNvbHZlQXNdID0gbG9jYWxzO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBVc2UgJHZpZXcgc2VydmljZSBhcyBhIGNlbnRyYWwgcG9pbnQgZm9yIHJlZ2lzdGVyaW5nIGNvbXBvbmVudC1sZXZlbCBob29rc1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFRoZW4sIHdoZW4gYSBjb21wb25lbnQgaXMgY3JlYXRlZCwgdGVsbCB0aGUgJHZpZXcgc2VydmljZSwgc28gaXQgY2FuIGludm9rZSBob29rc1xuXHQgICAgICAgICAgICAgICAgICAgIC8vICR2aWV3LmNvbXBvbmVudExvYWRlZChjb250cm9sbGVySW5zdGFuY2UsIHsgJHNjb3BlOiBzY29wZSwgJGVsZW1lbnQ6ICRlbGVtZW50IH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiAkdmlldy5jb21wb25lbnRVbmxvYWRlZChjb250cm9sbGVySW5zdGFuY2UsIHsgJHNjb3BlOiBzY29wZSwgJGVsZW1lbnQ6ICRlbGVtZW50IH0pKTtcblx0ICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGNvbnRyb2xsZXJJbnN0YW5jZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY2hpbGRyZW4oKS5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGNvbnRyb2xsZXJJbnN0YW5jZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJDb250cm9sbGVyQ2FsbGJhY2tzKCR0cmFuc2l0aW9ucywgY29udHJvbGxlckluc3RhbmNlLCBzY29wZSwgY2ZnKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBjb21wb25lbnQgdG8gYXBwZWFyIGluIHRoZSBET01cblx0ICAgICAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoY2ZnLnZpZXdEZWNsLmNvbXBvbmVudCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY21wXzEgPSBjZmcudmlld0RlY2wuY29tcG9uZW50O1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBrZWJvYk5hbWVfMSA9IHN0cmluZ3NfMS5rZWJvYlN0cmluZyhjbXBfMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdldENvbXBvbmVudENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3RpdmVFbCA9IFtdLnNsaWNlLmNhbGwoJGVsZW1lbnRbMF0uY2hpbGRyZW4pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwgJiYgZWwudGFnTmFtZSAmJiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IGtlYm9iTmFtZV8xOyB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZUVsICYmIGFuZ3VsYXIuZWxlbWVudChkaXJlY3RpdmVFbCkuZGF0YShcIiRcIiArIGNtcF8xICsgXCJDb250cm9sbGVyXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaF8xID0gc2NvcGUuJHdhdGNoKGdldENvbXBvbmVudENvbnRyb2xsZXIsIGZ1bmN0aW9uIChjdHJsSW5zdGFuY2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHJsSW5zdGFuY2UpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ29udHJvbGxlckNhbGxiYWNrcygkdHJhbnNpdGlvbnMsIGN0cmxJbnN0YW5jZSwgc2NvcGUsIGNmZyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJXYXRjaF8xKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBsaW5rKHNjb3BlKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cdC8qKiBAaGlkZGVuICovXG5cdHZhciBoYXNDb21wb25lbnRJbXBsID0gdHlwZW9mIGFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXInKVsnY29tcG9uZW50J10gPT09ICdmdW5jdGlvbic7XG5cdC8qKiBAaGlkZGVuIFRPRE86IG1vdmUgdGhlc2UgY2FsbGJhY2tzIHRvICR2aWV3IGFuZC9vciBgL2hvb2tzL2NvbXBvbmVudHMudHNgIG9yIHNvbWV0aGluZyAqL1xuXHRmdW5jdGlvbiByZWdpc3RlckNvbnRyb2xsZXJDYWxsYmFja3MoJHRyYW5zaXRpb25zLCBjb250cm9sbGVySW5zdGFuY2UsICRzY29wZSwgY2ZnKSB7XG5cdCAgICAvLyBDYWxsICRvbkluaXQoKSBBU0FQXG5cdCAgICBpZiAocHJlZGljYXRlc18xLmlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQpICYmICEoY2ZnLnZpZXdEZWNsLmNvbXBvbmVudCAmJiBoYXNDb21wb25lbnRJbXBsKSlcblx0ICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCgpO1xuXHQgICAgdmFyIGhvb2tPcHRpb25zID0geyBiaW5kOiBjb250cm9sbGVySW5zdGFuY2UgfTtcblx0ICAgIC8vIEFkZCBjb21wb25lbnQtbGV2ZWwgaG9vayBmb3Igb25QYXJhbXNDaGFuZ2Vcblx0ICAgIGlmIChwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UudWlPblBhcmFtc0NoYW5nZWQpKSB7XG5cdCAgICAgICAgLy8gRmlyZSBjYWxsYmFjayBvbiBhbnkgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uXG5cdCAgICAgICAgdmFyIHBhcmFtc1VwZGF0ZWRfMSA9IGZ1bmN0aW9uICgkdHJhbnNpdGlvbiQpIHtcblx0ICAgICAgICAgICAgdmFyIGN0eCA9IGNmZy5ub2RlLnJlc29sdmVDb250ZXh0O1xuXHQgICAgICAgICAgICB2YXIgdmlld0NyZWF0aW9uVHJhbnMgPSBjdHguZ2V0UmVzb2x2YWJsZXMoKVsnJHRyYW5zaXRpb24kJ10uZGF0YTtcblx0ICAgICAgICAgICAgLy8gRXhpdCBlYXJseSBpZiB0aGUgJHRyYW5zaXRpb24kIGlzIHRoZSBzYW1lIGFzIHRoZSB2aWV3IHdhcyBjcmVhdGVkIHdpdGhpbi5cblx0ICAgICAgICAgICAgLy8gRXhpdCBlYXJseSBpZiB0aGUgJHRyYW5zaXRpb24kIHdpbGwgZXhpdCB0aGUgc3RhdGUgdGhlIHZpZXcgaXMgZm9yLlxuXHQgICAgICAgICAgICBpZiAoJHRyYW5zaXRpb24kID09PSB2aWV3Q3JlYXRpb25UcmFucyB8fCAkdHJhbnNpdGlvbiQuZXhpdGluZygpLmluZGV4T2YoY2ZnLm5vZGUuc3RhdGUuc2VsZikgIT09IC0xKVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB2YXIgdG9QYXJhbXMgPSAkdHJhbnNpdGlvbiQucGFyYW1zKFwidG9cIik7XG5cdCAgICAgICAgICAgIHZhciBmcm9tUGFyYW1zID0gJHRyYW5zaXRpb24kLnBhcmFtcyhcImZyb21cIik7XG5cdCAgICAgICAgICAgIHZhciB0b1NjaGVtYSA9ICR0cmFuc2l0aW9uJC50cmVlQ2hhbmdlcygpLnRvLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5wYXJhbVNjaGVtYTsgfSkucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKTtcblx0ICAgICAgICAgICAgdmFyIGZyb21TY2hlbWEgPSAkdHJhbnNpdGlvbiQudHJlZUNoYW5nZXMoKS5mcm9tLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5wYXJhbVNjaGVtYTsgfSkucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKTtcblx0ICAgICAgICAgICAgLy8gRmluZCB0aGUgdG8gcGFyYW1zIHRoYXQgaGF2ZSBkaWZmZXJlbnQgdmFsdWVzIHRoYW4gdGhlIGZyb20gcGFyYW1zXG5cdCAgICAgICAgICAgIHZhciBjaGFuZ2VkVG9QYXJhbXMgPSB0b1NjaGVtYS5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaWR4ID0gZnJvbVNjaGVtYS5pbmRleE9mKHBhcmFtKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpZHggPT09IC0xIHx8ICFmcm9tU2NoZW1hW2lkeF0udHlwZS5lcXVhbHModG9QYXJhbXNbcGFyYW0uaWRdLCBmcm9tUGFyYW1zW3BhcmFtLmlkXSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAvLyBPbmx5IHRyaWdnZXIgY2FsbGJhY2sgaWYgYSB0byBwYXJhbSBoYXMgY2hhbmdlZCBvciBpcyBuZXdcblx0ICAgICAgICAgICAgaWYgKGNoYW5nZWRUb1BhcmFtcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VkS2V5c18xID0gY2hhbmdlZFRvUGFyYW1zLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSk7XG5cdCAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgdGhlIHBhcmFtcyB0byBvbmx5IGNoYW5nZWQvbmV3IHRvIHBhcmFtcy4gIGAkdHJhbnNpdGlvbiQucGFyYW1zKClgIG1heSBiZSB1c2VkIHRvIGdldCBhbGwgcGFyYW1zLlxuXHQgICAgICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLnVpT25QYXJhbXNDaGFuZ2VkKGNvbW1vbl8xLmZpbHRlcih0b1BhcmFtcywgZnVuY3Rpb24gKHZhbCwga2V5KSB7IHJldHVybiBjaGFuZ2VkS2V5c18xLmluZGV4T2Yoa2V5KSAhPT0gLTE7IH0pLCAkdHJhbnNpdGlvbiQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsICR0cmFuc2l0aW9ucy5vblN1Y2Nlc3Moe30sIFsnJHRyYW5zaXRpb24kJywgcGFyYW1zVXBkYXRlZF8xXSksIGhvb2tPcHRpb25zKTtcblx0ICAgICAgICAvLyBGaXJlIGNhbGxiYWNrIG9uIGFueSBJR05PUkVEIHRyYW5zaXRpb25cblx0ICAgICAgICB2YXIgb25EeW5hbWljID0gZnVuY3Rpb24gKCRlcnJvciQsICR0cmFuc2l0aW9uJCkge1xuXHQgICAgICAgICAgICBpZiAoJGVycm9yJC50eXBlID09PSByZWplY3RGYWN0b3J5XzEuUmVqZWN0VHlwZS5JR05PUkVEKVxuXHQgICAgICAgICAgICAgICAgcGFyYW1zVXBkYXRlZF8xKCR0cmFuc2l0aW9uJCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsICR0cmFuc2l0aW9ucy5vbkVycm9yKHt9LCBbJyRlcnJvciQnLCAnJHRyYW5zaXRpb24kJywgb25EeW5hbWljXSksIGhvb2tPcHRpb25zKTtcblx0ICAgIH1cblx0ICAgIC8vIEFkZCBjb21wb25lbnQtbGV2ZWwgaG9vayBmb3IgdWlDYW5FeGl0XG5cdCAgICBpZiAocHJlZGljYXRlc18xLmlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLnVpQ2FuRXhpdCkpIHtcblx0ICAgICAgICB2YXIgY3JpdGVyaWEgPSB7IGV4aXRpbmc6IGNmZy5ub2RlLnN0YXRlLm5hbWUgfTtcblx0ICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsICR0cmFuc2l0aW9ucy5vbkJlZm9yZShjcml0ZXJpYSwgY29udHJvbGxlckluc3RhbmNlLnVpQ2FuRXhpdCwgaG9va09wdGlvbnMpKTtcblx0ICAgIH1cblx0fVxuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCB1aVZpZXdOZzEpO1xuXHRhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCAkVmlld0RpcmVjdGl2ZUZpbGwpO1xuXG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8qKlxuXHQgKiBAbmdkb2Mgb2JqZWN0XG5cdCAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kdWlWaWV3U2Nyb2xsUHJvdmlkZXJcblx0ICpcblx0ICogQGRlc2NyaXB0aW9uXG5cdCAqIFByb3ZpZGVyIHRoYXQgcmV0dXJucyB0aGUge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kdWlWaWV3U2Nyb2xsfSBzZXJ2aWNlIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gJFZpZXdTY3JvbGxQcm92aWRlcigpIHtcblx0ICAgIHZhciB1c2VBbmNob3JTY3JvbGwgPSBmYWxzZTtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIGZ1bmN0aW9uXG5cdCAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHVpVmlld1Njcm9sbFByb3ZpZGVyI3VzZUFuY2hvclNjcm9sbFxuXHQgICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kdWlWaWV3U2Nyb2xsUHJvdmlkZXJcblx0ICAgICAqXG5cdCAgICAgKiBAZGVzY3JpcHRpb25cblx0ICAgICAqIFJldmVydHMgYmFjayB0byB1c2luZyB0aGUgY29yZSBbYCRhbmNob3JTY3JvbGxgXShodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kYW5jaG9yU2Nyb2xsKSBzZXJ2aWNlIGZvclxuXHQgICAgICogc2Nyb2xsaW5nIGJhc2VkIG9uIHRoZSB1cmwgYW5jaG9yLlxuXHQgICAgICovXG5cdCAgICB0aGlzLnVzZUFuY2hvclNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB1c2VBbmNob3JTY3JvbGwgPSB0cnVlO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQG5nZG9jIG9iamVjdFxuXHQgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiR1aVZpZXdTY3JvbGxcblx0ICAgICAqXG5cdCAgICAgKiBAcmVxdWlyZXMgJGFuY2hvclNjcm9sbFxuXHQgICAgICogQHJlcXVpcmVzICR0aW1lb3V0XG5cdCAgICAgKlxuXHQgICAgICogQGRlc2NyaXB0aW9uXG5cdCAgICAgKiBXaGVuIGNhbGxlZCB3aXRoIGEganFMaXRlIGVsZW1lbnQsIGl0IHNjcm9sbHMgdGhlIGVsZW1lbnQgaW50byB2aWV3IChhZnRlciBhXG5cdCAgICAgKiBgJHRpbWVvdXRgIHNvIHRoZSBET00gaGFzIHRpbWUgdG8gcmVmcmVzaCkuXG5cdCAgICAgKlxuXHQgICAgICogSWYgeW91IHByZWZlciB0byByZWx5IG9uIGAkYW5jaG9yU2Nyb2xsYCB0byBzY3JvbGwgdGhlIHZpZXcgdG8gdGhlIGFuY2hvcixcblx0ICAgICAqIHRoaXMgY2FuIGJlIGVuYWJsZWQgYnkgY2FsbGluZyB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiR1aVZpZXdTY3JvbGxQcm92aWRlciNtZXRob2RzX3VzZUFuY2hvclNjcm9sbCBgJHVpVmlld1Njcm9sbFByb3ZpZGVyLnVzZUFuY2hvclNjcm9sbCgpYH0uXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuJGdldCA9IFsnJGFuY2hvclNjcm9sbCcsICckdGltZW91dCcsIGZ1bmN0aW9uICgkYW5jaG9yU2Nyb2xsLCAkdGltZW91dCkge1xuXHQgICAgICAgICAgICBpZiAodXNlQW5jaG9yU2Nyb2xsKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gJGFuY2hvclNjcm9sbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCRlbGVtZW50KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICRlbGVtZW50WzBdLnNjcm9sbEludG9WaWV3KCk7XG5cdCAgICAgICAgICAgICAgICB9LCAwLCBmYWxzZSk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfV07XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpLnByb3ZpZGVyKCckdWlWaWV3U2Nyb2xsJywgJFZpZXdTY3JvbGxQcm92aWRlcik7XG5cblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci11aS1yb3V0ZXIuanMubWFwIiwiLyohXG4gICAgbG9jYWxGb3JhZ2UgLS0gT2ZmbGluZSBTdG9yYWdlLCBJbXByb3ZlZFxuICAgIFZlcnNpb24gMS40LjJcbiAgICBodHRwczovL21vemlsbGEuZ2l0aHViLmlvL2xvY2FsRm9yYWdlXG4gICAgKGMpIDIwMTMtMjAxNSBNb3ppbGxhLCBBcGFjaGUgTGljZW5zZSAyLjBcbiovXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5sb2NhbGZvcmFnZSA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyAoZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLCBmKX12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcbnZhciBpbW1lZGlhdGUgPSBfZGVyZXFfKDIpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gSU5URVJOQUwoKSB7fVxuXG52YXIgaGFuZGxlcnMgPSB7fTtcblxudmFyIFJFSkVDVEVEID0gWydSRUpFQ1RFRCddO1xudmFyIEZVTEZJTExFRCA9IFsnRlVMRklMTEVEJ107XG52YXIgUEVORElORyA9IFsnUEVORElORyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQcm9taXNlO1xuXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuICB0aGlzLnN0YXRlID0gUEVORElORztcbiAgdGhpcy5xdWV1ZSA9IFtdO1xuICB0aGlzLm91dGNvbWUgPSB2b2lkIDA7XG4gIGlmIChyZXNvbHZlciAhPT0gSU5URVJOQUwpIHtcbiAgICBzYWZlbHlSZXNvbHZlVGhlbmFibGUodGhpcywgcmVzb2x2ZXIpO1xuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xufTtcblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgaWYgKHR5cGVvZiBvbkZ1bGZpbGxlZCAhPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLnN0YXRlID09PSBGVUxGSUxMRUQgfHxcbiAgICB0eXBlb2Ygb25SZWplY3RlZCAhPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLnN0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBwcm9taXNlID0gbmV3IHRoaXMuY29uc3RydWN0b3IoSU5URVJOQUwpO1xuICBpZiAodGhpcy5zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHZhciByZXNvbHZlciA9IHRoaXMuc3RhdGUgPT09IEZVTEZJTExFRCA/IG9uRnVsZmlsbGVkIDogb25SZWplY3RlZDtcbiAgICB1bndyYXAocHJvbWlzZSwgcmVzb2x2ZXIsIHRoaXMub3V0Y29tZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5xdWV1ZS5wdXNoKG5ldyBRdWV1ZUl0ZW0ocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcbmZ1bmN0aW9uIFF1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICBpZiAodHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5vbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkO1xuICAgIHRoaXMuY2FsbEZ1bGZpbGxlZCA9IHRoaXMub3RoZXJDYWxsRnVsZmlsbGVkO1xuICB9XG4gIGlmICh0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMub25SZWplY3RlZCA9IG9uUmVqZWN0ZWQ7XG4gICAgdGhpcy5jYWxsUmVqZWN0ZWQgPSB0aGlzLm90aGVyQ2FsbFJlamVjdGVkO1xuICB9XG59XG5RdWV1ZUl0ZW0ucHJvdG90eXBlLmNhbGxGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgaGFuZGxlcnMucmVzb2x2ZSh0aGlzLnByb21pc2UsIHZhbHVlKTtcbn07XG5RdWV1ZUl0ZW0ucHJvdG90eXBlLm90aGVyQ2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB1bndyYXAodGhpcy5wcm9taXNlLCB0aGlzLm9uRnVsZmlsbGVkLCB2YWx1ZSk7XG59O1xuUXVldWVJdGVtLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgaGFuZGxlcnMucmVqZWN0KHRoaXMucHJvbWlzZSwgdmFsdWUpO1xufTtcblF1ZXVlSXRlbS5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdW53cmFwKHRoaXMucHJvbWlzZSwgdGhpcy5vblJlamVjdGVkLCB2YWx1ZSk7XG59O1xuXG5mdW5jdGlvbiB1bndyYXAocHJvbWlzZSwgZnVuYywgdmFsdWUpIHtcbiAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVyblZhbHVlID0gZnVuYyh2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLCBlKTtcbiAgICB9XG4gICAgaWYgKHJldHVyblZhbHVlID09PSBwcm9taXNlKSB7XG4gICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgbmV3IFR5cGVFcnJvcignQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLCByZXR1cm5WYWx1ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuaGFuZGxlcnMucmVzb2x2ZSA9IGZ1bmN0aW9uIChzZWxmLCB2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2goZ2V0VGhlbiwgdmFsdWUpO1xuICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgIHJldHVybiBoYW5kbGVycy5yZWplY3Qoc2VsZiwgcmVzdWx0LnZhbHVlKTtcbiAgfVxuICB2YXIgdGhlbmFibGUgPSByZXN1bHQudmFsdWU7XG5cbiAgaWYgKHRoZW5hYmxlKSB7XG4gICAgc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsIHRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLnN0YXRlID0gRlVMRklMTEVEO1xuICAgIHNlbGYub3V0Y29tZSA9IHZhbHVlO1xuICAgIHZhciBpID0gLTE7XG4gICAgdmFyIGxlbiA9IHNlbGYucXVldWUubGVuZ3RoO1xuICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgIHNlbGYucXVldWVbaV0uY2FsbEZ1bGZpbGxlZCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZWxmO1xufTtcbmhhbmRsZXJzLnJlamVjdCA9IGZ1bmN0aW9uIChzZWxmLCBlcnJvcikge1xuICBzZWxmLnN0YXRlID0gUkVKRUNURUQ7XG4gIHNlbGYub3V0Y29tZSA9IGVycm9yO1xuICB2YXIgaSA9IC0xO1xuICB2YXIgbGVuID0gc2VsZi5xdWV1ZS5sZW5ndGg7XG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBzZWxmLnF1ZXVlW2ldLmNhbGxSZWplY3RlZChlcnJvcik7XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59O1xuXG5mdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuICAvLyBNYWtlIHN1cmUgd2Ugb25seSBhY2Nlc3MgdGhlIGFjY2Vzc29yIG9uY2UgYXMgcmVxdWlyZWQgYnkgdGhlIHNwZWNcbiAgdmFyIHRoZW4gPSBvYmogJiYgb2JqLnRoZW47XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYXBweVRoZW4oKSB7XG4gICAgICB0aGVuLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLCB0aGVuYWJsZSkge1xuICAvLyBFaXRoZXIgZnVsZmlsbCwgcmVqZWN0IG9yIHJlamVjdCB3aXRoIGVycm9yXG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25FcnJvcih2YWx1ZSkge1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICBoYW5kbGVycy5yZWplY3Qoc2VsZiwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TdWNjZXNzKHZhbHVlKSB7XG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGhhbmRsZXJzLnJlc29sdmUoc2VsZiwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5VG9VbndyYXAoKSB7XG4gICAgdGhlbmFibGUob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0cnlUb1Vud3JhcCk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgb25FcnJvcihyZXN1bHQudmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGZ1bmMsIHZhbHVlKSB7XG4gIHZhciBvdXQgPSB7fTtcbiAgdHJ5IHtcbiAgICBvdXQudmFsdWUgPSBmdW5jKHZhbHVlKTtcbiAgICBvdXQuc3RhdHVzID0gJ3N1Y2Nlc3MnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgb3V0LnN0YXR1cyA9ICdlcnJvcic7XG4gICAgb3V0LnZhbHVlID0gZTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnRzLnJlc29sdmUgPSByZXNvbHZlO1xuZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiB0aGlzKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBoYW5kbGVycy5yZXNvbHZlKG5ldyB0aGlzKElOVEVSTkFMKSwgdmFsdWUpO1xufVxuXG5leHBvcnRzLnJlamVjdCA9IHJlamVjdDtcbmZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgdmFyIHByb21pc2UgPSBuZXcgdGhpcyhJTlRFUk5BTCk7XG4gIHJldHVybiBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbn1cblxuZXhwb3J0cy5hbGwgPSBhbGw7XG5mdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgIHJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCdtdXN0IGJlIGFuIGFycmF5JykpO1xuICB9XG5cbiAgdmFyIGxlbiA9IGl0ZXJhYmxlLmxlbmd0aDtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICBpZiAoIWxlbikge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmUoW10pO1xuICB9XG5cbiAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICB2YXIgcmVzb2x2ZWQgPSAwO1xuICB2YXIgaSA9IC0xO1xuICB2YXIgcHJvbWlzZSA9IG5ldyB0aGlzKElOVEVSTkFMKTtcblxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgYWxsUmVzb2x2ZXIoaXRlcmFibGVbaV0sIGkpO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xuICBmdW5jdGlvbiBhbGxSZXNvbHZlcih2YWx1ZSwgaSkge1xuICAgIHNlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihyZXNvbHZlRnJvbUFsbCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHJlc29sdmVGcm9tQWxsKG91dFZhbHVlKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvdXRWYWx1ZTtcbiAgICAgIGlmICgrK3Jlc29sdmVkID09PSBsZW4gJiYgIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZXNvbHZlKHByb21pc2UsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydHMucmFjZSA9IHJhY2U7XG5mdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyYWJsZSkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICByZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcignbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgfVxuXG4gIHZhciBsZW4gPSBpdGVyYWJsZS5sZW5ndGg7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgaWYgKCFsZW4pIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtcbiAgfVxuXG4gIHZhciBpID0gLTE7XG4gIHZhciBwcm9taXNlID0gbmV3IHRoaXMoSU5URVJOQUwpO1xuXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICByZXNvbHZlcihpdGVyYWJsZVtpXSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG4gIGZ1bmN0aW9uIHJlc29sdmVyKHZhbHVlKSB7XG4gICAgc2VsZi5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgaGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLCByZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbn0se1wiMlwiOjJ9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcbnZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG52YXIgc2NoZWR1bGVEcmFpbjtcblxue1xuICBpZiAoTXV0YXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gMDtcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb24obmV4dFRpY2spO1xuICAgIHZhciBlbGVtZW50ID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgICB9KTtcbiAgICBzY2hlZHVsZURyYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgZWxlbWVudC5kYXRhID0gKGNhbGxlZCA9ICsrY2FsbGVkICUgMik7XG4gICAgfTtcbiAgfSBlbHNlIGlmICghZ2xvYmFsLnNldEltbWVkaWF0ZSAmJiB0eXBlb2YgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBjaGFubmVsID0gbmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCgpO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbmV4dFRpY2s7XG4gICAgc2NoZWR1bGVEcmFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgfTtcbiAgfSBlbHNlIGlmICgnZG9jdW1lbnQnIGluIGdsb2JhbCAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpIHtcbiAgICBzY2hlZHVsZURyYWluID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICB2YXIgc2NyaXB0RWwgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5leHRUaWNrKCk7XG5cbiAgICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgc2NyaXB0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRFbCk7XG4gICAgICAgIHNjcmlwdEVsID0gbnVsbDtcbiAgICAgIH07XG4gICAgICBnbG9iYWwuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdEVsKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHNjaGVkdWxlRHJhaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRUaW1lb3V0KG5leHRUaWNrLCAwKTtcbiAgICB9O1xuICB9XG59XG5cbnZhciBkcmFpbmluZztcbnZhciBxdWV1ZSA9IFtdO1xuLy9uYW1lZCBuZXh0VGljayBmb3IgbGVzcyBjb25mdXNpbmcgc3RhY2sgdHJhY2VzXG5mdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgZHJhaW5pbmcgPSB0cnVlO1xuICB2YXIgaSwgb2xkUXVldWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIHdoaWxlIChsZW4pIHtcbiAgICBvbGRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG4gICAgaSA9IC0xO1xuICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgIG9sZFF1ZXVlW2ldKCk7XG4gICAgfVxuICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgfVxuICBkcmFpbmluZyA9IGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltbWVkaWF0ZTtcbmZ1bmN0aW9uIGltbWVkaWF0ZSh0YXNrKSB7XG4gIGlmIChxdWV1ZS5wdXNoKHRhc2spID09PSAxICYmICFkcmFpbmluZykge1xuICAgIHNjaGVkdWxlRHJhaW4oKTtcbiAgfVxufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbn0se31dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuaWYgKHR5cGVvZiBnbG9iYWwuUHJvbWlzZSAhPT0gJ2Z1bmN0aW9uJykge1xuICBnbG9iYWwuUHJvbWlzZSA9IF9kZXJlcV8oMSk7XG59XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7XCIxXCI6MX1dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gZ2V0SURCKCkge1xuICAgIC8qIGdsb2JhbCBpbmRleGVkREIsd2Via2l0SW5kZXhlZERCLG1vekluZGV4ZWREQixPSW5kZXhlZERCLG1zSW5kZXhlZERCICovXG4gICAgaWYgKHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBpbmRleGVkREI7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2Via2l0SW5kZXhlZERCICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gd2Via2l0SW5kZXhlZERCO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG1vekluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG1vekluZGV4ZWREQjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBPSW5kZXhlZERCICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gT0luZGV4ZWREQjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBtc0luZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG1zSW5kZXhlZERCO1xuICAgIH1cbn1cblxudmFyIGlkYiA9IGdldElEQigpO1xuXG5mdW5jdGlvbiBpc0luZGV4ZWREQlZhbGlkKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgSW5kZXhlZERCOyBmYWxsIGJhY2sgdG8gdmVuZG9yLXByZWZpeGVkIHZlcnNpb25zXG4gICAgICAgIC8vIGlmIG5lZWRlZC5cbiAgICAgICAgaWYgKCFpZGIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBtaW1pYyBQb3VjaERCIGhlcmU7IGp1c3QgVUEgdGVzdCBmb3IgU2FmYXJpICh3aGljaCwgYXMgb2ZcbiAgICAgICAgLy8gaU9TIDgvWW9zZW1pdGUsIGRvZXNuJ3QgcHJvcGVybHkgc3VwcG9ydCBJbmRleGVkREIpLlxuICAgICAgICAvLyBJbmRleGVkREIgc3VwcG9ydCBpcyBicm9rZW4gYW5kIGRpZmZlcmVudCBmcm9tIEJsaW5rJ3MuXG4gICAgICAgIC8vIFRoaXMgaXMgZmFzdGVyIHRoYW4gdGhlIHRlc3QgY2FzZSAoYW5kIGl0J3Mgc3luYyksIHNvIHdlIGp1c3RcbiAgICAgICAgLy8gZG8gdGhpcy4gKlNJR0gqXG4gICAgICAgIC8vIGh0dHA6Ly9ibC5vY2tzLm9yZy9ub2xhbmxhd3Nvbi9yYXcvYzgzZTkwMzllZGYyMjc4MDQ3ZTkvXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIHRlc3QgZm9yIG9wZW5EYXRhYmFzZSBiZWNhdXNlIElFIE1vYmlsZSBpZGVudGlmaWVzIGl0c2VsZlxuICAgICAgICAvLyBhcyBTYWZhcmkuIE9oIHRoZSBsdWx6Li4uXG4gICAgICAgIGlmICh0eXBlb2Ygb3BlbkRhdGFiYXNlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIS9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZGIgJiYgdHlwZW9mIGlkYi5vcGVuID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIC8vIFNvbWUgU2Ftc3VuZy9IVEMgQW5kcm9pZCA0LjAtNC4zIGRldmljZXNcbiAgICAgICAgLy8gaGF2ZSBvbGRlciBJbmRleGVkREIgc3BlY3M7IGlmIHRoaXMgaXNuJ3QgYXZhaWxhYmxlXG4gICAgICAgIC8vIHRoZWlyIEluZGV4ZWREQiBpcyB0b28gb2xkIGZvciB1cyB0byB1c2UuXG4gICAgICAgIC8vIChSZXBsYWNlcyB0aGUgb251cGdyYWRlbmVlZGVkIHRlc3QuKVxuICAgICAgICB0eXBlb2YgSURCS2V5UmFuZ2UgIT09ICd1bmRlZmluZWQnO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNXZWJTUUxWYWxpZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wZW5EYXRhYmFzZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNMb2NhbFN0b3JhZ2VWYWxpZCgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3NldEl0ZW0nIGluIGxvY2FsU3RvcmFnZSAmJiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3Rvci4gKGkuZS5cbi8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgYXQgbGVhc3QpLlxuLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG4vLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yLiAoaS5lLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBhdCBsZWFzdCkuXG5mdW5jdGlvbiBjcmVhdGVCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgLyogZ2xvYmFsIEJsb2JCdWlsZGVyLE1TQmxvYkJ1aWxkZXIsTW96QmxvYkJ1aWxkZXIsV2ViS2l0QmxvYkJ1aWxkZXIgKi9cbiAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5uYW1lICE9PSAnVHlwZUVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgQnVpbGRlciA9IHR5cGVvZiBCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iQnVpbGRlciA6IHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOiB0eXBlb2YgTW96QmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTW96QmxvYkJ1aWxkZXIgOiBXZWJLaXRCbG9iQnVpbGRlcjtcbiAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgQnVpbGRlcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuICAgIH1cbn1cblxuLy8gVGhpcyBpcyBDb21tb25KUyBiZWNhdXNlIGxpZSBpcyBhbiBleHRlcm5hbCBkZXBlbmRlbmN5LCBzbyBSb2xsdXBcbi8vIGNhbiBqdXN0IGlnbm9yZSBpdC5cbmlmICh0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIF9kZXJlcV8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgX2RlcmVxXygzKTtcbn1cbnZhciBQcm9taXNlJDEgPSBQcm9taXNlO1xuXG5mdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIFNvbWUgY29kZSBvcmlnaW5hbGx5IGZyb20gYXN5bmNfc3RvcmFnZS5qcyBpblxuLy8gW0dhaWFdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhLWIyZy9nYWlhKS5cblxudmFyIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUgPSAnbG9jYWwtZm9yYWdlLWRldGVjdC1ibG9iLXN1cHBvcnQnO1xudmFyIHN1cHBvcnRzQmxvYnM7XG52YXIgZGJDb250ZXh0cztcblxuLy8gVHJhbnNmb3JtIGEgYmluYXJ5IHN0cmluZyB0byBhbiBhcnJheSBidWZmZXIsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4vLyB3ZWlyZCBzdHVmZiBoYXBwZW5zIHdoZW4geW91IHRyeSB0byB3b3JrIHdpdGggdGhlIGJpbmFyeSBzdHJpbmcgZGlyZWN0bHkuXG4vLyBJdCBpcyBrbm93bi5cbi8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNDk2NzY0Ny8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vLyBlbmNvZGUtZGVjb2RlLWltYWdlLXdpdGgtYmFzZTY0LWJyZWFrcy1pbWFnZSAoMjAxMy0wNC0yMSlcbmZ1bmN0aW9uIF9iaW5TdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuICAgIHZhciBsZW5ndGggPSBiaW4ubGVuZ3RoO1xuICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xufVxuXG4vL1xuLy8gQmxvYnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gYWxsIHZlcnNpb25zIG9mIEluZGV4ZWREQiwgbm90YWJseVxuLy8gQ2hyb21lIDwzNyBhbmQgQW5kcm9pZCA8NS4gSW4gdGhvc2UgdmVyc2lvbnMsIHN0b3JpbmcgYSBibG9iIHdpbGwgdGhyb3cuXG4vL1xuLy8gVmFyaW91cyBvdGhlciBibG9iIGJ1Z3MgZXhpc3QgaW4gQ2hyb21lIHYzNy00MiAoaW5jbHVzaXZlKS5cbi8vIERldGVjdGluZyB0aGVtIGlzIGV4cGVuc2l2ZSBhbmQgY29uZnVzaW5nIHRvIHVzZXJzLCBhbmQgQ2hyb21lIDM3LTQyXG4vLyBpcyBhdCB2ZXJ5IGxvdyB1c2FnZSB3b3JsZHdpZGUsIHNvIHdlIGRvIGEgaGFja3kgdXNlckFnZW50IGNoZWNrIGluc3RlYWQuXG4vL1xuLy8gY29udGVudC10eXBlIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQwODEyMFxuLy8gNDA0IGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzkxNlxuLy8gRmlsZVJlYWRlciBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc4MzZcbi8vXG4vLyBDb2RlIGJvcnJvd2VkIGZyb20gUG91Y2hEQi4gU2VlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9ibG9iLzljMjVhMjMvc3JjL2FkYXB0ZXJzL2lkYi9ibG9iU3VwcG9ydC5qc1xuLy9cbmZ1bmN0aW9uIF9jaGVja0Jsb2JTdXBwb3J0V2l0aG91dENhY2hpbmcodHhuKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgdmFyIGJsb2IgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgICAgICB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IsICdrZXknKTtcblxuICAgICAgICB0eG4ub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gYWJvcnRzIG5vdyBpdHMgZHVlIHRvIG5vdCBiZWluZyBhYmxlIHRvXG4gICAgICAgICAgICAvLyB3cml0ZSB0byB0aGUgZGF0YWJhc2UsIGxpa2VseSBkdWUgdG8gdGhlIGRpc2sgYmVpbmcgZnVsbFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZWRDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGVkRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8vKTtcbiAgICAgICAgICAgIC8vIE1TIEVkZ2UgcHJldGVuZHMgdG8gYmUgQ2hyb21lIDQyOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg2OTMwMSUyOHY9dnMuODUlMjkuYXNweFxuICAgICAgICAgICAgcmVzb2x2ZShtYXRjaGVkRWRnZSB8fCAhbWF0Y2hlZENocm9tZSB8fCBwYXJzZUludChtYXRjaGVkQ2hyb21lWzFdLCAxMCkgPj0gNDMpO1xuICAgICAgICB9O1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yLCBzbyBhc3N1bWUgdW5zdXBwb3J0ZWRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2NoZWNrQmxvYlN1cHBvcnQoaWRiKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0Jsb2JzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKHN1cHBvcnRzQmxvYnMpO1xuICAgIH1cbiAgICByZXR1cm4gX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyhpZGIpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHN1cHBvcnRzQmxvYnMgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzQmxvYnM7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIF9kZWZlclJlYWRpbmVzcyhkYkluZm8pIHtcbiAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV07XG5cbiAgICAvLyBDcmVhdGUgYSBkZWZlcnJlZCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGRhdGFiYXNlIG9wZXJhdGlvbi5cbiAgICB2YXIgZGVmZXJyZWRPcGVyYXRpb24gPSB7fTtcblxuICAgIGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIGRlZmVycmVkT3BlcmF0aW9uLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgLy8gRW5xdWV1ZSB0aGUgZGVmZXJyZWQgb3BlcmF0aW9uLlxuICAgIGRiQ29udGV4dC5kZWZlcnJlZE9wZXJhdGlvbnMucHVzaChkZWZlcnJlZE9wZXJhdGlvbik7XG5cbiAgICAvLyBDaGFpbiBpdHMgcHJvbWlzZSB0byB0aGUgZGF0YWJhc2UgcmVhZGluZXNzLlxuICAgIGlmICghZGJDb250ZXh0LmRiUmVhZHkpIHtcbiAgICAgICAgZGJDb250ZXh0LmRiUmVhZHkgPSBkZWZlcnJlZE9wZXJhdGlvbi5wcm9taXNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRiQ29udGV4dC5kYlJlYWR5ID0gZGJDb250ZXh0LmRiUmVhZHkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWRPcGVyYXRpb24ucHJvbWlzZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfYWR2YW5jZVJlYWRpbmVzcyhkYkluZm8pIHtcbiAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV07XG5cbiAgICAvLyBEZXF1ZXVlIGEgZGVmZXJyZWQgb3BlcmF0aW9uLlxuICAgIHZhciBkZWZlcnJlZE9wZXJhdGlvbiA9IGRiQ29udGV4dC5kZWZlcnJlZE9wZXJhdGlvbnMucG9wKCk7XG5cbiAgICAvLyBSZXNvbHZlIGl0cyBwcm9taXNlICh3aGljaCBpcyBwYXJ0IG9mIHRoZSBkYXRhYmFzZSByZWFkaW5lc3NcbiAgICAvLyBjaGFpbiBvZiBwcm9taXNlcykuXG4gICAgaWYgKGRlZmVycmVkT3BlcmF0aW9uKSB7XG4gICAgICAgIGRlZmVycmVkT3BlcmF0aW9uLnJlc29sdmUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9nZXRDb25uZWN0aW9uKGRiSW5mbywgdXBncmFkZU5lZWRlZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgICBpZiAoZGJJbmZvLmRiKSB7XG4gICAgICAgICAgICBpZiAodXBncmFkZU5lZWRlZCkge1xuICAgICAgICAgICAgICAgIF9kZWZlclJlYWRpbmVzcyhkYkluZm8pO1xuICAgICAgICAgICAgICAgIGRiSW5mby5kYi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShkYkluZm8uZGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRiQXJncyA9IFtkYkluZm8ubmFtZV07XG5cbiAgICAgICAgaWYgKHVwZ3JhZGVOZWVkZWQpIHtcbiAgICAgICAgICAgIGRiQXJncy5wdXNoKGRiSW5mby52ZXJzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvcGVucmVxID0gaWRiLm9wZW4uYXBwbHkoaWRiLCBkYkFyZ3MpO1xuXG4gICAgICAgIGlmICh1cGdyYWRlTmVlZGVkKSB7XG4gICAgICAgICAgICBvcGVucmVxLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRiID0gb3BlbnJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLm9sZFZlcnNpb24gPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkZWQgd2hlbiBzdXBwb3J0IGZvciBibG9iIHNoaW1zIHdhcyBhZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXgubmFtZSA9PT0gJ0NvbnN0cmFpbnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhlIGRhdGFiYXNlIFwiJyArIGRiSW5mby5uYW1lICsgJ1wiJyArICcgaGFzIGJlZW4gdXBncmFkZWQgZnJvbSB2ZXJzaW9uICcgKyBlLm9sZFZlcnNpb24gKyAnIHRvIHZlcnNpb24gJyArIGUubmV3VmVyc2lvbiArICcsIGJ1dCB0aGUgc3RvcmFnZSBcIicgKyBkYkluZm8uc3RvcmVOYW1lICsgJ1wiIGFscmVhZHkgZXhpc3RzLicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgb3BlbnJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVqZWN0KG9wZW5yZXEuZXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG9wZW5yZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb2x2ZShvcGVucmVxLnJlc3VsdCk7XG4gICAgICAgICAgICBfYWR2YW5jZVJlYWRpbmVzcyhkYkluZm8pO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKGRiSW5mbykge1xuICAgIHJldHVybiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pIHtcbiAgICByZXR1cm4gX2dldENvbm5lY3Rpb24oZGJJbmZvLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gX2lzVXBncmFkZU5lZWRlZChkYkluZm8sIGRlZmF1bHRWZXJzaW9uKSB7XG4gICAgaWYgKCFkYkluZm8uZGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGlzTmV3U3RvcmUgPSAhZGJJbmZvLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgdmFyIGlzRG93bmdyYWRlID0gZGJJbmZvLnZlcnNpb24gPCBkYkluZm8uZGIudmVyc2lvbjtcbiAgICB2YXIgaXNVcGdyYWRlID0gZGJJbmZvLnZlcnNpb24gPiBkYkluZm8uZGIudmVyc2lvbjtcblxuICAgIGlmIChpc0Rvd25ncmFkZSkge1xuICAgICAgICAvLyBJZiB0aGUgdmVyc2lvbiBpcyBub3QgdGhlIGRlZmF1bHQgb25lXG4gICAgICAgIC8vIHRoZW4gd2FybiBmb3IgaW1wb3NzaWJsZSBkb3duZ3JhZGUuXG4gICAgICAgIGlmIChkYkluZm8udmVyc2lvbiAhPT0gZGVmYXVsdFZlcnNpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhlIGRhdGFiYXNlIFwiJyArIGRiSW5mby5uYW1lICsgJ1wiJyArICcgY2FuXFwndCBiZSBkb3duZ3JhZGVkIGZyb20gdmVyc2lvbiAnICsgZGJJbmZvLmRiLnZlcnNpb24gKyAnIHRvIHZlcnNpb24gJyArIGRiSW5mby52ZXJzaW9uICsgJy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGlnbiB0aGUgdmVyc2lvbnMgdG8gcHJldmVudCBlcnJvcnMuXG4gICAgICAgIGRiSW5mby52ZXJzaW9uID0gZGJJbmZvLmRiLnZlcnNpb247XG4gICAgfVxuXG4gICAgaWYgKGlzVXBncmFkZSB8fCBpc05ld1N0b3JlKSB7XG4gICAgICAgIC8vIElmIHRoZSBzdG9yZSBpcyBuZXcgdGhlbiBpbmNyZW1lbnQgdGhlIHZlcnNpb24gKGlmIG5lZWRlZCkuXG4gICAgICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGFuIFwidXBncmFkZW5lZWRlZFwiIGV2ZW50IHdoaWNoIGlzIHJlcXVpcmVkXG4gICAgICAgIC8vIGZvciBjcmVhdGluZyBhIHN0b3JlLlxuICAgICAgICBpZiAoaXNOZXdTdG9yZSkge1xuICAgICAgICAgICAgdmFyIGluY1ZlcnNpb24gPSBkYkluZm8uZGIudmVyc2lvbiArIDE7XG4gICAgICAgICAgICBpZiAoaW5jVmVyc2lvbiA+IGRiSW5mby52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgZGJJbmZvLnZlcnNpb24gPSBpbmNWZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBlbmNvZGUgYSBibG9iIGZvciBpbmRleGVkZGIgZW5naW5lcyB0aGF0IGRvbid0IHN1cHBvcnQgYmxvYnNcbmZ1bmN0aW9uIF9lbmNvZGVCbG9iKGJsb2IpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYnRvYShlLnRhcmdldC5yZXN1bHQgfHwgJycpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgX19sb2NhbF9mb3JhZ2VfZW5jb2RlZF9ibG9iOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IpO1xuICAgIH0pO1xufVxuXG4vLyBkZWNvZGUgYW4gZW5jb2RlZCBibG9iXG5mdW5jdGlvbiBfZGVjb2RlQmxvYihlbmNvZGVkQmxvYikge1xuICAgIHZhciBhcnJheUJ1ZmYgPSBfYmluU3RyaW5nVG9BcnJheUJ1ZmZlcihhdG9iKGVuY29kZWRCbG9iLmRhdGEpKTtcbiAgICByZXR1cm4gY3JlYXRlQmxvYihbYXJyYXlCdWZmXSwgeyB0eXBlOiBlbmNvZGVkQmxvYi50eXBlIH0pO1xufVxuXG4vLyBpcyB0aGlzIG9uZSBvZiBvdXIgZmFuY3kgZW5jb2RlZCBibG9icz9cbmZ1bmN0aW9uIF9pc0VuY29kZWRCbG9iKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLl9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYjtcbn1cblxuLy8gU3BlY2lhbGl6ZSB0aGUgZGVmYXVsdCBgcmVhZHkoKWAgZnVuY3Rpb24gYnkgbWFraW5nIGl0IGRlcGVuZGVudFxuLy8gb24gdGhlIGN1cnJlbnQgZGF0YWJhc2Ugb3BlcmF0aW9ucy4gVGh1cywgdGhlIGRyaXZlciB3aWxsIGJlIGFjdHVhbGx5XG4vLyByZWFkeSB3aGVuIGl0J3MgYmVlbiBpbml0aWFsaXplZCAoZGVmYXVsdCkgKmFuZCogdGhlcmUgYXJlIG5vIHBlbmRpbmdcbi8vIG9wZXJhdGlvbnMgb24gdGhlIGRhdGFiYXNlIChpbml0aWF0ZWQgYnkgc29tZSBvdGhlciBpbnN0YW5jZXMpLlxuZnVuY3Rpb24gX2Z1bGx5UmVhZHkoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IHNlbGYuX2luaXRSZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tzZWxmLl9kYkluZm8ubmFtZV07XG5cbiAgICAgICAgaWYgKGRiQ29udGV4dCAmJiBkYkNvbnRleHQuZGJSZWFkeSkge1xuICAgICAgICAgICAgcmV0dXJuIGRiQ29udGV4dC5kYlJlYWR5O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gT3BlbiB0aGUgSW5kZXhlZERCIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcbi8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cbmZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkYkluZm8gPSB7XG4gICAgICAgIGRiOiBudWxsXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgYSBzaW5nbGV0b24gY29udGFpbmVyIGZvciBhbGwgcnVubmluZyBsb2NhbEZvcmFnZXMuXG4gICAgaWYgKCFkYkNvbnRleHRzKSB7XG4gICAgICAgIGRiQ29udGV4dHMgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29udGV4dCBvZiB0aGUgZGF0YWJhc2U7XG4gICAgdmFyIGRiQ29udGV4dCA9IGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdO1xuXG4gICAgLy8gLi4ub3IgY3JlYXRlIGEgbmV3IGNvbnRleHQuXG4gICAgaWYgKCFkYkNvbnRleHQpIHtcbiAgICAgICAgZGJDb250ZXh0ID0ge1xuICAgICAgICAgICAgLy8gUnVubmluZyBsb2NhbEZvcmFnZXMgc2hhcmluZyBhIGRhdGFiYXNlLlxuICAgICAgICAgICAgZm9yYWdlczogW10sXG4gICAgICAgICAgICAvLyBTaGFyZWQgZGF0YWJhc2UuXG4gICAgICAgICAgICBkYjogbnVsbCxcbiAgICAgICAgICAgIC8vIERhdGFiYXNlIHJlYWRpbmVzcyAocHJvbWlzZSkuXG4gICAgICAgICAgICBkYlJlYWR5OiBudWxsLFxuICAgICAgICAgICAgLy8gRGVmZXJyZWQgb3BlcmF0aW9ucyBvbiB0aGUgZGF0YWJhc2UuXG4gICAgICAgICAgICBkZWZlcnJlZE9wZXJhdGlvbnM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBuZXcgY29udGV4dCBpbiB0aGUgZ2xvYmFsIGNvbnRhaW5lci5cbiAgICAgICAgZGJDb250ZXh0c1tkYkluZm8ubmFtZV0gPSBkYkNvbnRleHQ7XG4gICAgfVxuXG4gICAgLy8gUmVnaXN0ZXIgaXRzZWxmIGFzIGEgcnVubmluZyBsb2NhbEZvcmFnZSBpbiB0aGUgY3VycmVudCBjb250ZXh0LlxuICAgIGRiQ29udGV4dC5mb3JhZ2VzLnB1c2goc2VsZik7XG5cbiAgICAvLyBSZXBsYWNlIHRoZSBkZWZhdWx0IGByZWFkeSgpYCBmdW5jdGlvbiB3aXRoIHRoZSBzcGVjaWFsaXplZCBvbmUuXG4gICAgaWYgKCFzZWxmLl9pbml0UmVhZHkpIHtcbiAgICAgICAgc2VsZi5faW5pdFJlYWR5ID0gc2VsZi5yZWFkeTtcbiAgICAgICAgc2VsZi5yZWFkeSA9IF9mdWxseVJlYWR5O1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbiBhcnJheSBvZiBpbml0aWFsaXphdGlvbiBzdGF0ZXMgb2YgdGhlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuICAgIHZhciBpbml0UHJvbWlzZXMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGlnbm9yZUVycm9ycygpIHtcbiAgICAgICAgLy8gRG9uJ3QgaGFuZGxlIGVycm9ycyBoZXJlLFxuICAgICAgICAvLyBqdXN0IG1ha2VzIHN1cmUgcmVsYXRlZCBsb2NhbEZvcmFnZXMgYXJlbid0IHBlbmRpbmcuXG4gICAgICAgIHJldHVybiBQcm9taXNlJDEucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGJDb250ZXh0LmZvcmFnZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIGZvcmFnZSA9IGRiQ29udGV4dC5mb3JhZ2VzW2pdO1xuICAgICAgICBpZiAoZm9yYWdlICE9PSBzZWxmKSB7XG4gICAgICAgICAgICAvLyBEb24ndCB3YWl0IGZvciBpdHNlbGYuLi5cbiAgICAgICAgICAgIGluaXRQcm9taXNlcy5wdXNoKGZvcmFnZS5faW5pdFJlYWR5KClbXCJjYXRjaFwiXShpZ25vcmVFcnJvcnMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRha2UgYSBzbmFwc2hvdCBvZiB0aGUgcmVsYXRlZCBsb2NhbEZvcmFnZXMuXG4gICAgdmFyIGZvcmFnZXMgPSBkYkNvbnRleHQuZm9yYWdlcy5zbGljZSgwKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIGNvbm5lY3Rpb24gcHJvY2VzcyBvbmx5IHdoZW5cbiAgICAvLyBhbGwgdGhlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzIGFyZW4ndCBwZW5kaW5nLlxuICAgIHJldHVybiBQcm9taXNlJDEuYWxsKGluaXRQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRiSW5mby5kYiA9IGRiQ29udGV4dC5kYjtcbiAgICAgICAgLy8gR2V0IHRoZSBjb25uZWN0aW9uIG9yIG9wZW4gYSBuZXcgb25lIHdpdGhvdXQgdXBncmFkZS5cbiAgICAgICAgcmV0dXJuIF9nZXRPcmlnaW5hbENvbm5lY3Rpb24oZGJJbmZvKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICBkYkluZm8uZGIgPSBkYjtcbiAgICAgICAgaWYgKF9pc1VwZ3JhZGVOZWVkZWQoZGJJbmZvLCBzZWxmLl9kZWZhdWx0Q29uZmlnLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAvLyBSZW9wZW4gdGhlIGRhdGFiYXNlIGZvciB1cGdyYWRpbmcuXG4gICAgICAgICAgICByZXR1cm4gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYjtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICBkYkluZm8uZGIgPSBkYkNvbnRleHQuZGIgPSBkYjtcbiAgICAgICAgc2VsZi5fZGJJbmZvID0gZGJJbmZvO1xuICAgICAgICAvLyBTaGFyZSB0aGUgZmluYWwgY29ubmVjdGlvbiBhbW9uZ3N0IHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGZvcmFnZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIHZhciBmb3JhZ2UgPSBmb3JhZ2VzW2tdO1xuICAgICAgICAgICAgaWYgKGZvcmFnZSAhPT0gc2VsZikge1xuICAgICAgICAgICAgICAgIC8vIFNlbGYgaXMgYWxyZWFkeSB1cC10by1kYXRlLlxuICAgICAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLmRiID0gZGJJbmZvLmRiO1xuICAgICAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLnZlcnNpb24gPSBkYkluZm8udmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRJdGVtKGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcbiAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5nZXQoa2V5KTtcblxuICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc0VuY29kZWRCbG9iKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9kZWNvZGVCbG9iKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIEl0ZXJhdGUgb3ZlciBhbGwgaXRlbXMgc3RvcmVkIGluIGRhdGFiYXNlLlxuZnVuY3Rpb24gaXRlcmF0ZShpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUub3BlbkN1cnNvcigpO1xuICAgICAgICAgICAgdmFyIGl0ZXJhdGlvbk51bWJlciA9IDE7XG5cbiAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcS5yZXN1bHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc0VuY29kZWRCbG9iKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfZGVjb2RlQmxvYih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yKHZhbHVlLCBjdXJzb3Iua2V5LCBpdGVyYXRpb25OdW1iZXIrKyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3JbXCJjb250aW51ZVwiXSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBkYkluZm87XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NoZWNrQmxvYlN1cHBvcnQoZGJJbmZvLmRiKS50aGVuKGZ1bmN0aW9uIChibG9iU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvYlN1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2VuY29kZUJsb2IodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkd3JpdGUnKTtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICAvLyBUaGUgcmVhc29uIHdlIGRvbid0IF9zYXZlXyBudWxsIGlzIGJlY2F1c2UgSUUgMTAgZG9lc1xuICAgICAgICAgICAgLy8gbm90IHN1cHBvcnQgc2F2aW5nIHRoZSBgbnVsbGAgdHlwZSBpbiBJbmRleGVkREIuIEhvd1xuICAgICAgICAgICAgLy8gaXJvbmljLCBnaXZlbiB0aGUgYnVnIGJlbG93IVxuICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTYxXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBDYXN0IHRvIHVuZGVmaW5lZCBzbyB0aGUgdmFsdWUgcGFzc2VkIHRvXG4gICAgICAgICAgICAgICAgLy8gY2FsbGJhY2svcHJvbWlzZSBpcyB0aGUgc2FtZSBhcyB3aGF0IG9uZSB3b3VsZCBnZXQgb3V0XG4gICAgICAgICAgICAgICAgLy8gb2YgYGdldEl0ZW0oKWAgbGF0ZXIuIFRoaXMgbGVhZHMgdG8gc29tZSB3ZWlyZG5lc3NcbiAgICAgICAgICAgICAgICAvLyAoc2V0SXRlbSgnZm9vJywgdW5kZWZpbmVkKSB3aWxsIHJldHVybiBgbnVsbGApLCBidXRcbiAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBteSBmYXVsdCBsb2NhbFN0b3JhZ2UgaXMgb3VyIGJhc2VsaW5lIGFuZCB0aGF0XG4gICAgICAgICAgICAgICAgLy8gaXQncyB3ZWlyZC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25hYm9ydCA9IHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcS5lcnJvciA/IHJlcS5lcnJvciA6IHJlcS50cmFuc2FjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5wdXQodmFsdWUsIGtleSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkd3JpdGUnKTtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICAvLyBXZSB1c2UgYSBHcnVudCB0YXNrIHRvIG1ha2UgdGhpcyBzYWZlIGZvciBJRSBhbmQgc29tZVxuICAgICAgICAgICAgLy8gdmVyc2lvbnMgb2YgQW5kcm9pZCAoaW5jbHVkaW5nIHRob3NlIHVzZWQgYnkgQ29yZG92YSkuXG4gICAgICAgICAgICAvLyBOb3JtYWxseSBJRSB3b24ndCBsaWtlIGAuZGVsZXRlKClgIGFuZCB3aWxsIGluc2lzdCBvblxuICAgICAgICAgICAgLy8gdXNpbmcgYFsnZGVsZXRlJ10oKWAsIGJ1dCB3ZSBoYXZlIGEgYnVpbGQgc3RlcCB0aGF0XG4gICAgICAgICAgICAvLyBmaXhlcyB0aGlzIGZvciB1cyBub3cuXG4gICAgICAgICAgICB2YXIgcmVxID0gc3RvcmVbXCJkZWxldGVcIl0oa2V5KTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdpbGwgYmUgYWxzbyBiZSBhYm9ydGVkIGlmIHdlJ3ZlIGV4Y2VlZGVkIG91ciBzdG9yYWdlXG4gICAgICAgICAgICAvLyBzcGFjZS5cbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcS5lcnJvciA/IHJlcS5lcnJvciA6IHJlcS50cmFuc2FjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5jbGVhcigpO1xuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBsZW5ndGgoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmNvdW50KCk7XG5cbiAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXEucmVzdWx0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5KG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKG4gPCAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICB2YXIgYWR2YW5jZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgdGhlcmUgd2VyZW4ndCBlbm91Z2gga2V5c1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRoZSBmaXJzdCBrZXksIHJldHVybiBpdCBpZiB0aGF0J3Mgd2hhdCB0aGV5XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhbnRlZC5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFkdmFuY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGFzayB0aGUgY3Vyc29yIHRvIHNraXAgYWhlYWQgblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVjb3Jkcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5hZHZhbmNlKG4pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB3ZSBnZXQgaGVyZSwgd2UndmUgZ290IHRoZSBudGgga2V5LlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShrZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGtleXMucHVzaChjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICBjdXJzb3JbXCJjb250aW51ZVwiXSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgYXN5bmNTdG9yYWdlID0ge1xuICAgIF9kcml2ZXI6ICdhc3luY1N0b3JhZ2UnLFxuICAgIF9pbml0U3RvcmFnZTogX2luaXRTdG9yYWdlLFxuICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG4gICAgZ2V0SXRlbTogZ2V0SXRlbSxcbiAgICBzZXRJdGVtOiBzZXRJdGVtLFxuICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0sXG4gICAgY2xlYXI6IGNsZWFyLFxuICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgIGtleToga2V5LFxuICAgIGtleXM6IGtleXNcbn07XG5cbi8vIFNhZGx5LCB0aGUgYmVzdCB3YXkgdG8gc2F2ZSBiaW5hcnkgZGF0YSBpbiBXZWJTUUwvbG9jYWxTdG9yYWdlIGlzIHNlcmlhbGl6aW5nXG4vLyBpdCB0byBCYXNlNjQsIHNvIHRoaXMgaXMgaG93IHdlIHN0b3JlIGl0IHRvIHByZXZlbnQgdmVyeSBzdHJhbmdlIGVycm9ycyB3aXRoIGxlc3Ncbi8vIHZlcmJvc2Ugd2F5cyBvZiBiaW5hcnkgPC0+IHN0cmluZyBkYXRhIHN0b3JhZ2UuXG52YXIgQkFTRV9DSEFSUyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcblxudmFyIEJMT0JfVFlQRV9QUkVGSVggPSAnfn5sb2NhbF9mb3JhZ2VfdHlwZX4nO1xudmFyIEJMT0JfVFlQRV9QUkVGSVhfUkVHRVggPSAvXn5+bG9jYWxfZm9yYWdlX3R5cGV+KFtefl0rKX4vO1xuXG52YXIgU0VSSUFMSVpFRF9NQVJLRVIgPSAnX19sZnNjX186JztcbnZhciBTRVJJQUxJWkVEX01BUktFUl9MRU5HVEggPSBTRVJJQUxJWkVEX01BUktFUi5sZW5ndGg7XG5cbi8vIE9NRyB0aGUgc2VyaWFsaXphdGlvbnMhXG52YXIgVFlQRV9BUlJBWUJVRkZFUiA9ICdhcmJmJztcbnZhciBUWVBFX0JMT0IgPSAnYmxvYic7XG52YXIgVFlQRV9JTlQ4QVJSQVkgPSAnc2kwOCc7XG52YXIgVFlQRV9VSU5UOEFSUkFZID0gJ3VpMDgnO1xudmFyIFRZUEVfVUlOVDhDTEFNUEVEQVJSQVkgPSAndWljOCc7XG52YXIgVFlQRV9JTlQxNkFSUkFZID0gJ3NpMTYnO1xudmFyIFRZUEVfSU5UMzJBUlJBWSA9ICdzaTMyJztcbnZhciBUWVBFX1VJTlQxNkFSUkFZID0gJ3VyMTYnO1xudmFyIFRZUEVfVUlOVDMyQVJSQVkgPSAndWkzMic7XG52YXIgVFlQRV9GTE9BVDMyQVJSQVkgPSAnZmwzMic7XG52YXIgVFlQRV9GTE9BVDY0QVJSQVkgPSAnZmw2NCc7XG52YXIgVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEggPSBTRVJJQUxJWkVEX01BUktFUl9MRU5HVEggKyBUWVBFX0FSUkFZQlVGRkVSLmxlbmd0aDtcblxuZnVuY3Rpb24gc3RyaW5nVG9CdWZmZXIoc2VyaWFsaXplZFN0cmluZykge1xuICAgIC8vIEZpbGwgdGhlIHN0cmluZyBpbnRvIGEgQXJyYXlCdWZmZXIuXG4gICAgdmFyIGJ1ZmZlckxlbmd0aCA9IHNlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoICogMC43NTtcbiAgICB2YXIgbGVuID0gc2VyaWFsaXplZFN0cmluZy5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgdmFyIHAgPSAwO1xuICAgIHZhciBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcblxuICAgIGlmIChzZXJpYWxpemVkU3RyaW5nW3NlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoIC0gMV0gPT09ICc9Jykge1xuICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgaWYgKHNlcmlhbGl6ZWRTdHJpbmdbc2VyaWFsaXplZFN0cmluZy5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKTtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGVuY29kZWQxID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaV0pO1xuICAgICAgICBlbmNvZGVkMiA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2kgKyAxXSk7XG4gICAgICAgIGVuY29kZWQzID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaSArIDJdKTtcbiAgICAgICAgZW5jb2RlZDQgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpICsgM10pO1xuXG4gICAgICAgIC8qanNsaW50IGJpdHdpc2U6IHRydWUgKi9cbiAgICAgICAgYnl0ZXNbcCsrXSA9IGVuY29kZWQxIDw8IDIgfCBlbmNvZGVkMiA+PiA0O1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQyICYgMTUpIDw8IDQgfCBlbmNvZGVkMyA+PiAyO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQzICYgMykgPDwgNiB8IGVuY29kZWQ0ICYgNjM7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG59XG5cbi8vIENvbnZlcnRzIGEgYnVmZmVyIHRvIGEgc3RyaW5nIHRvIHN0b3JlLCBzZXJpYWxpemVkLCBpbiB0aGUgYmFja2VuZFxuLy8gc3RvcmFnZSBsaWJyYXJ5LlxuZnVuY3Rpb24gYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSB7XG4gICAgLy8gYmFzZTY0LWFycmF5YnVmZmVyXG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICB2YXIgYmFzZTY0U3RyaW5nID0gJyc7XG4gICAgdmFyIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpXSA+PiAyXTtcbiAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2ldICYgMykgPDwgNCB8IGJ5dGVzW2kgKyAxXSA+PiA0XTtcbiAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyIHwgYnl0ZXNbaSArIDJdID4+IDZdO1xuICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgfVxuXG4gICAgaWYgKGJ5dGVzLmxlbmd0aCAlIDMgPT09IDIpIHtcbiAgICAgICAgYmFzZTY0U3RyaW5nID0gYmFzZTY0U3RyaW5nLnN1YnN0cmluZygwLCBiYXNlNjRTdHJpbmcubGVuZ3RoIC0gMSkgKyAnPSc7XG4gICAgfSBlbHNlIGlmIChieXRlcy5sZW5ndGggJSAzID09PSAxKSB7XG4gICAgICAgIGJhc2U2NFN0cmluZyA9IGJhc2U2NFN0cmluZy5zdWJzdHJpbmcoMCwgYmFzZTY0U3RyaW5nLmxlbmd0aCAtIDIpICsgJz09JztcbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZTY0U3RyaW5nO1xufVxuXG4vLyBTZXJpYWxpemUgYSB2YWx1ZSwgYWZ0ZXJ3YXJkcyBleGVjdXRpbmcgYSBjYWxsYmFjayAod2hpY2ggdXN1YWxseVxuLy8gaW5zdHJ1Y3RzIHRoZSBgc2V0SXRlbSgpYCBjYWxsYmFjay9wcm9taXNlIHRvIGJlIGV4ZWN1dGVkKS4gVGhpcyBpcyBob3dcbi8vIHdlIHN0b3JlIGJpbmFyeSBkYXRhIHdpdGggbG9jYWxTdG9yYWdlLlxuZnVuY3Rpb24gc2VyaWFsaXplKHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciB2YWx1ZVN0cmluZyA9ICcnO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZVN0cmluZyA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gQ2Fubm90IHVzZSBgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcmAgb3Igc3VjaCBoZXJlLCBhcyB0aGVzZVxuICAgIC8vIGNoZWNrcyBmYWlsIHdoZW4gcnVubmluZyB0aGUgdGVzdHMgdXNpbmcgY2FzcGVyLmpzLi4uXG4gICAgLy9cbiAgICAvLyBUT0RPOiBTZWUgd2h5IHRob3NlIHRlc3RzIGZhaWwgYW5kIHVzZSBhIGJldHRlciBzb2x1dGlvbi5cbiAgICBpZiAodmFsdWUgJiYgKHZhbHVlLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScgfHwgdmFsdWUuYnVmZmVyICYmIHZhbHVlLmJ1ZmZlci50b1N0cmluZygpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSkge1xuICAgICAgICAvLyBDb252ZXJ0IGJpbmFyeSBhcnJheXMgdG8gYSBzdHJpbmcgYW5kIHByZWZpeCB0aGUgc3RyaW5nIHdpdGhcbiAgICAgICAgLy8gYSBzcGVjaWFsIG1hcmtlci5cbiAgICAgICAgdmFyIGJ1ZmZlcjtcbiAgICAgICAgdmFyIG1hcmtlciA9IFNFUklBTElaRURfTUFSS0VSO1xuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBidWZmZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0FSUkFZQlVGRkVSO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnVmZmVyID0gdmFsdWUuYnVmZmVyO1xuXG4gICAgICAgICAgICBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEludDhBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfSU5UOEFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgVWludDhBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDhBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UOENMQU1QRURBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEludDE2QXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0lOVDE2QVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBVaW50MTZBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDE2QVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBJbnQzMkFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9JTlQzMkFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgVWludDMyQXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQzMkFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9GTE9BVDMyQVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBGbG9hdDY0QXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0ZMT0FUNjRBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IHR5cGUgZm9yIEJpbmFyeUFycmF5JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2sobWFya2VyICsgYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgQmxvYl0nKSB7XG4gICAgICAgIC8vIENvbnZlciB0aGUgYmxvYiB0byBhIGJpbmFyeUFycmF5IGFuZCB0aGVuIHRvIGEgc3RyaW5nLlxuICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBCYWNrd2FyZHMtY29tcGF0aWJsZSBwcmVmaXggZm9yIHRoZSBibG9iIHR5cGUuXG4gICAgICAgICAgICB2YXIgc3RyID0gQkxPQl9UWVBFX1BSRUZJWCArIHZhbHVlLnR5cGUgKyAnficgKyBidWZmZXJUb1N0cmluZyh0aGlzLnJlc3VsdCk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKFNFUklBTElaRURfTUFSS0VSICsgVFlQRV9CTE9CICsgc3RyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkbid0IGNvbnZlcnQgdmFsdWUgaW50byBhIEpTT04gc3RyaW5nOiBcIiwgdmFsdWUpO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gRGVzZXJpYWxpemUgZGF0YSB3ZSd2ZSBpbnNlcnRlZCBpbnRvIGEgdmFsdWUgY29sdW1uL2ZpZWxkLiBXZSBwbGFjZVxuLy8gc3BlY2lhbCBtYXJrZXJzIGludG8gb3VyIHN0cmluZ3MgdG8gbWFyayB0aGVtIGFzIGVuY29kZWQ7IHRoaXMgaXNuJ3Rcbi8vIGFzIG5pY2UgYXMgYSBtZXRhIGZpZWxkLCBidXQgaXQncyB0aGUgb25seSBzYW5lIHRoaW5nIHdlIGNhbiBkbyB3aGlsc3Rcbi8vIGtlZXBpbmcgbG9jYWxTdG9yYWdlIHN1cHBvcnQgaW50YWN0LlxuLy9cbi8vIE9mdGVudGltZXMgdGhpcyB3aWxsIGp1c3QgZGVzZXJpYWxpemUgSlNPTiBjb250ZW50LCBidXQgaWYgd2UgaGF2ZSBhXG4vLyBzcGVjaWFsIG1hcmtlciAoU0VSSUFMSVpFRF9NQVJLRVIsIGRlZmluZWQgYWJvdmUpLCB3ZSB3aWxsIGV4dHJhY3Rcbi8vIHNvbWUga2luZCBvZiBhcnJheWJ1ZmZlci9iaW5hcnkgZGF0YS90eXBlZCBhcnJheSBvdXQgb2YgdGhlIHN0cmluZy5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgLy8gSWYgd2UgaGF2ZW4ndCBtYXJrZWQgdGhpcyBzdHJpbmcgYXMgYmVpbmcgc3BlY2lhbGx5IHNlcmlhbGl6ZWQgKGkuZS5cbiAgICAvLyBzb21ldGhpbmcgb3RoZXIgdGhhbiBzZXJpYWxpemVkIEpTT04pLCB3ZSBjYW4ganVzdCByZXR1cm4gaXQgYW5kIGJlXG4gICAgLy8gZG9uZSB3aXRoIGl0LlxuICAgIGlmICh2YWx1ZS5zdWJzdHJpbmcoMCwgU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIKSAhPT0gU0VSSUFMSVpFRF9NQVJLRVIpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBkZWFscyB3aXRoIGRlc2VyaWFsaXppbmcgc29tZSBraW5kIG9mIEJsb2Igb3JcbiAgICAvLyBUeXBlZEFycmF5LiBGaXJzdCB3ZSBzZXBhcmF0ZSBvdXQgdGhlIHR5cGUgb2YgZGF0YSB3ZSdyZSBkZWFsaW5nXG4gICAgLy8gd2l0aCBmcm9tIHRoZSBkYXRhIGl0c2VsZi5cbiAgICB2YXIgc2VyaWFsaXplZFN0cmluZyA9IHZhbHVlLnN1YnN0cmluZyhUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCk7XG4gICAgdmFyIHR5cGUgPSB2YWx1ZS5zdWJzdHJpbmcoU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RILCBUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCk7XG5cbiAgICB2YXIgYmxvYlR5cGU7XG4gICAgLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgYmxvYiB0eXBlIHNlcmlhbGl6YXRpb24gc3RyYXRlZ3kuXG4gICAgLy8gREJzIGNyZWF0ZWQgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBsb2NhbEZvcmFnZSB3aWxsIHNpbXBseSBub3QgaGF2ZSB0aGUgYmxvYiB0eXBlLlxuICAgIGlmICh0eXBlID09PSBUWVBFX0JMT0IgJiYgQkxPQl9UWVBFX1BSRUZJWF9SRUdFWC50ZXN0KHNlcmlhbGl6ZWRTdHJpbmcpKSB7XG4gICAgICAgIHZhciBtYXRjaGVyID0gc2VyaWFsaXplZFN0cmluZy5tYXRjaChCTE9CX1RZUEVfUFJFRklYX1JFR0VYKTtcbiAgICAgICAgYmxvYlR5cGUgPSBtYXRjaGVyWzFdO1xuICAgICAgICBzZXJpYWxpemVkU3RyaW5nID0gc2VyaWFsaXplZFN0cmluZy5zdWJzdHJpbmcobWF0Y2hlclswXS5sZW5ndGgpO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gc3RyaW5nVG9CdWZmZXIoc2VyaWFsaXplZFN0cmluZyk7XG5cbiAgICAvLyBSZXR1cm4gdGhlIHJpZ2h0IHR5cGUgYmFzZWQgb24gdGhlIGNvZGUvdHlwZSBzZXQgZHVyaW5nXG4gICAgLy8gc2VyaWFsaXphdGlvbi5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBUWVBFX0FSUkFZQlVGRkVSOlxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgY2FzZSBUWVBFX0JMT0I6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQmxvYihbYnVmZmVyXSwgeyB0eXBlOiBibG9iVHlwZSB9KTtcbiAgICAgICAgY2FzZSBUWVBFX0lOVDhBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9VSU5UOEFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9VSU5UOENMQU1QRURBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX0lOVDE2QVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX1VJTlQxNkFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfSU5UMzJBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfVUlOVDMyQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9GTE9BVDMyQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfRkxPQVQ2NEFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDY0QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rb3duIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9XG59XG5cbnZhciBsb2NhbGZvcmFnZVNlcmlhbGl6ZXIgPSB7XG4gICAgc2VyaWFsaXplOiBzZXJpYWxpemUsXG4gICAgZGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICAgIHN0cmluZ1RvQnVmZmVyOiBzdHJpbmdUb0J1ZmZlcixcbiAgICBidWZmZXJUb1N0cmluZzogYnVmZmVyVG9TdHJpbmdcbn07XG5cbi8qXG4gKiBJbmNsdWRlcyBjb2RlIGZyb206XG4gKlxuICogYmFzZTY0LWFycmF5YnVmZmVyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvYmFzZTY0LWFycmF5YnVmZmVyXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEyIE5pa2xhcyB2b24gSGVydHplblxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG4vLyBPcGVuIHRoZSBXZWJTUUwgZGF0YWJhc2UgKGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBvbmUgaWYgb25lIGRpZG4ndFxuLy8gcHJldmlvdXNseSBleGlzdCksIHVzaW5nIGFueSBvcHRpb25zIHNldCBpbiB0aGUgY29uZmlnLlxuZnVuY3Rpb24gX2luaXRTdG9yYWdlJDEob3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZGJJbmZvID0ge1xuICAgICAgICBkYjogbnVsbFxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRiSW5mb1tpXSA9IHR5cGVvZiBvcHRpb25zW2ldICE9PSAnc3RyaW5nJyA/IG9wdGlvbnNbaV0udG9TdHJpbmcoKSA6IG9wdGlvbnNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGJJbmZvUHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvLyBPcGVuIHRoZSBkYXRhYmFzZTsgdGhlIG9wZW5EYXRhYmFzZSBBUEkgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICAgIC8vIGNyZWF0ZSBpdCBmb3IgdXMgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRiSW5mby5kYiA9IG9wZW5EYXRhYmFzZShkYkluZm8ubmFtZSwgU3RyaW5nKGRiSW5mby52ZXJzaW9uKSwgZGJJbmZvLmRlc2NyaXB0aW9uLCBkYkluZm8uc2l6ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgb3VyIGtleS92YWx1ZSB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIChpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLCBrZXkgdW5pcXVlLCB2YWx1ZSknLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGJJbmZvLnNlcmlhbGl6ZXIgPSBsb2NhbGZvcmFnZVNlcmlhbGl6ZXI7XG4gICAgcmV0dXJuIGRiSW5mb1Byb21pc2U7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZW0kMShrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCAqIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGtleSA9ID8gTElNSVQgMScsIFtrZXldLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLmxlbmd0aCA/IHJlc3VsdHMucm93cy5pdGVtKDApLnZhbHVlIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBpcyBzZXJpYWxpemVkIGNvbnRlbnQgd2UgbmVlZCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyB1bnBhY2suXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRiSW5mby5zZXJpYWxpemVyLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBpdGVyYXRlJDEoaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblxuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgKiBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd3MgPSByZXN1bHRzLnJvd3M7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSByb3dzLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHJvd3MuaXRlbShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVtLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBpcyBzZXJpYWxpemVkIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gdW5wYWNrLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRiSW5mby5zZXJpYWxpemVyLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHJlc3VsdCwgaXRlbS5rZXksIGkgKyAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdm9pZCgwKSBwcmV2ZW50cyBwcm9ibGVtcyB3aXRoIHJlZGVmaW5pdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2YgYHVuZGVmaW5lZGAuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHNldEl0ZW0kMShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBUaGUgbG9jYWxTdG9yYWdlIEFQSSBkb2Vzbid0IHJldHVybiB1bmRlZmluZWQgdmFsdWVzIGluIGFuXG4gICAgICAgICAgICAvLyBcImV4cGVjdGVkXCIgd2F5LCBzbyB1bmRlZmluZWQgaXMgYWx3YXlzIGNhc3QgdG8gbnVsbCBpbiBhbGxcbiAgICAgICAgICAgIC8vIGRyaXZlcnMuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvcHVsbC80MlxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIG9yaWdpbmFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdJTlNFUlQgT1IgUkVQTEFDRSBJTlRPICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyAoa2V5LCB2YWx1ZSkgVkFMVUVTICg/LCA/KScsIFtrZXksIHZhbHVlXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3JpZ2luYWxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzcWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHRyYW5zYWN0aW9uIGZhaWxlZDsgY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIHNlZSBpZiBpdCdzIGEgcXVvdGEgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsRXJyb3IuY29kZSA9PT0gc3FsRXJyb3IuUVVPVEFfRVJSKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgcmVqZWN0IHRoZSBjYWxsYmFjayBvdXRyaWdodCBmb3Igbm93LCBidXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHdvcnRoIHRyeWluZyB0byByZS1ydW4gdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV2ZW4gaWYgdGhlIHVzZXIgYWNjZXB0cyB0aGUgcHJvbXB0IHRvIHVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1vcmUgc3RvcmFnZSBvbiBTYWZhcmksIHRoaXMgZXJyb3Igd2lsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlIGNhbGxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRyeSB0byByZS1ydW4gdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChzcWxFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVJdGVtJDEoa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUga2V5ID0gPycsIFtrZXldLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIERlbGV0ZXMgZXZlcnkgaXRlbSBpbiB0aGUgdGFibGUuXG4vLyBUT0RPOiBGaW5kIG91dCBpZiB0aGlzIHJlc2V0cyB0aGUgQVVUT19JTkNSRU1FTlQgbnVtYmVyLlxuZnVuY3Rpb24gY2xlYXIkMShjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gRG9lcyBhIHNpbXBsZSBgQ09VTlQoa2V5KWAgdG8gZ2V0IHRoZSBudW1iZXIgb2YgaXRlbXMgc3RvcmVkIGluXG4vLyBsb2NhbEZvcmFnZS5cbmZ1bmN0aW9uIGxlbmd0aCQxKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIC8vIEFoaGgsIFNRTCBtYWtlcyB0aGlzIG9uZSBzb29vb29vIGVhc3kuXG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgQ09VTlQoa2V5KSBhcyBjIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLml0ZW0oMCkuYztcblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBSZXR1cm4gdGhlIGtleSBsb2NhdGVkIGF0IGtleSBpbmRleCBYOyBlc3NlbnRpYWxseSBnZXRzIHRoZSBrZXkgZnJvbSBhXG4vLyBgV0hFUkUgaWQgPSA/YC4gVGhpcyBpcyB0aGUgbW9zdCBlZmZpY2llbnQgd2F5IEkgY2FuIHRoaW5rIHRvIGltcGxlbWVudFxuLy8gdGhpcyByYXJlbHktdXNlZCAoaW4gbXkgZXhwZXJpZW5jZSkgcGFydCBvZiB0aGUgQVBJLCBidXQgaXQgY2FuIHNlZW1cbi8vIGluY29uc2lzdGVudCwgYmVjYXVzZSB3ZSBkbyBgSU5TRVJUIE9SIFJFUExBQ0UgSU5UT2Agb24gYHNldEl0ZW0oKWAsIHNvXG4vLyB0aGUgSUQgb2YgZWFjaCBrZXkgd2lsbCBjaGFuZ2UgZXZlcnkgdGltZSBpdCdzIHVwZGF0ZWQuIFBlcmhhcHMgYSBzdG9yZWRcbi8vIHByb2NlZHVyZSBmb3IgdGhlIGBzZXRJdGVtKClgIFNRTCB3b3VsZCBzb2x2ZSB0aGlzIHByb2JsZW0/XG4vLyBUT0RPOiBEb24ndCBjaGFuZ2UgSUQgb24gYHNldEl0ZW0oKWAuXG5mdW5jdGlvbiBrZXkkMShuLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCBrZXkgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUgaWQgPSA/IExJTUlUIDEnLCBbbiArIDFdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLmxlbmd0aCA/IHJlc3VsdHMucm93cy5pdGVtKDApLmtleSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBrZXlzJDEoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1Qga2V5IEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2gocmVzdWx0cy5yb3dzLml0ZW0oaSkua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoa2V5cyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgd2ViU1FMU3RvcmFnZSA9IHtcbiAgICBfZHJpdmVyOiAnd2ViU1FMU3RvcmFnZScsXG4gICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UkMSxcbiAgICBpdGVyYXRlOiBpdGVyYXRlJDEsXG4gICAgZ2V0SXRlbTogZ2V0SXRlbSQxLFxuICAgIHNldEl0ZW06IHNldEl0ZW0kMSxcbiAgICByZW1vdmVJdGVtOiByZW1vdmVJdGVtJDEsXG4gICAgY2xlYXI6IGNsZWFyJDEsXG4gICAgbGVuZ3RoOiBsZW5ndGgkMSxcbiAgICBrZXk6IGtleSQxLFxuICAgIGtleXM6IGtleXMkMVxufTtcblxuLy8gQ29uZmlnIHRoZSBsb2NhbFN0b3JhZ2UgYmFja2VuZCwgdXNpbmcgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cbmZ1bmN0aW9uIF9pbml0U3RvcmFnZSQyKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRiSW5mbyA9IHt9O1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRiSW5mby5rZXlQcmVmaXggPSBkYkluZm8ubmFtZSArICcvJztcblxuICAgIGlmIChkYkluZm8uc3RvcmVOYW1lICE9PSBzZWxmLl9kZWZhdWx0Q29uZmlnLnN0b3JlTmFtZSkge1xuICAgICAgICBkYkluZm8ua2V5UHJlZml4ICs9IGRiSW5mby5zdG9yZU5hbWUgKyAnLyc7XG4gICAgfVxuXG4gICAgc2VsZi5fZGJJbmZvID0gZGJJbmZvO1xuICAgIGRiSW5mby5zZXJpYWxpemVyID0gbG9jYWxmb3JhZ2VTZXJpYWxpemVyO1xuXG4gICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKCk7XG59XG5cbi8vIFJlbW92ZSBhbGwga2V5cyBmcm9tIHRoZSBkYXRhc3RvcmUsIGVmZmVjdGl2ZWx5IGRlc3Ryb3lpbmcgYWxsIGRhdGEgaW5cbi8vIHRoZSBhcHAncyBrZXkvdmFsdWUgc3RvcmUhXG5mdW5jdGlvbiBjbGVhciQyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5UHJlZml4ID0gc2VsZi5fZGJJbmZvLmtleVByZWZpeDtcblxuICAgICAgICBmb3IgKHZhciBpID0gbG9jYWxTdG9yYWdlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcblxuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBSZXRyaWV2ZSBhbiBpdGVtIGZyb20gdGhlIHN0b3JlLiBVbmxpa2UgdGhlIG9yaWdpbmFsIGFzeW5jX3N0b3JhZ2Vcbi8vIGxpYnJhcnkgaW4gR2FpYSwgd2UgZG9uJ3QgbW9kaWZ5IHJldHVybiB2YWx1ZXMgYXQgYWxsLiBJZiBhIGtleSdzIHZhbHVlXG4vLyBpcyBgdW5kZWZpbmVkYCwgd2UgcGFzcyB0aGF0IHZhbHVlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbmZ1bmN0aW9uIGdldEl0ZW0kMihrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZGJJbmZvLmtleVByZWZpeCArIGtleSk7XG5cbiAgICAgICAgLy8gSWYgYSByZXN1bHQgd2FzIGZvdW5kLCBwYXJzZSBpdCBmcm9tIHRoZSBzZXJpYWxpemVkXG4gICAgICAgIC8vIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0LiBJZiByZXN1bHQgaXNuJ3QgdHJ1dGh5LCB0aGUga2V5XG4gICAgICAgIC8vIGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHQgdG8gdGhlXG4gICAgICAgIC8vIGNhbGxiYWNrLlxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIEl0ZXJhdGUgb3ZlciBhbGwgaXRlbXMgaW4gdGhlIHN0b3JlLlxuZnVuY3Rpb24gaXRlcmF0ZSQyKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIga2V5UHJlZml4ID0gZGJJbmZvLmtleVByZWZpeDtcbiAgICAgICAgdmFyIGtleVByZWZpeExlbmd0aCA9IGtleVByZWZpeC5sZW5ndGg7XG4gICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuXG4gICAgICAgIC8vIFdlIHVzZSBhIGRlZGljYXRlZCBpdGVyYXRvciBpbnN0ZWFkIG9mIHRoZSBgaWAgdmFyaWFibGUgYmVsb3dcbiAgICAgICAgLy8gc28gb3RoZXIga2V5cyB3ZSBmZXRjaCBpbiBsb2NhbFN0b3JhZ2UgYXJlbid0IGNvdW50ZWQgaW5cbiAgICAgICAgLy8gdGhlIGBpdGVyYXRpb25OdW1iZXJgIGFyZ3VtZW50IHBhc3NlZCB0byB0aGUgYGl0ZXJhdGUoKWBcbiAgICAgICAgLy8gY2FsbGJhY2suXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNlZTogZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL3B1bGwvNDM1I2Rpc2N1c3Npb25fcjM4MDYxNTMwXG4gICAgICAgIHZhciBpdGVyYXRpb25OdW1iZXIgPSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cbiAgICAgICAgICAgIC8vIElmIGEgcmVzdWx0IHdhcyBmb3VuZCwgcGFyc2UgaXQgZnJvbSB0aGUgc2VyaWFsaXplZFxuICAgICAgICAgICAgLy8gc3RyaW5nIGludG8gYSBKUyBvYmplY3QuIElmIHJlc3VsdCBpc24ndCB0cnV0aHksIHRoZVxuICAgICAgICAgICAgLy8ga2V5IGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUodmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IGl0ZXJhdG9yKHZhbHVlLCBrZXkuc3Vic3RyaW5nKGtleVByZWZpeExlbmd0aCksIGl0ZXJhdGlvbk51bWJlcisrKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFNhbWUgYXMgbG9jYWxTdG9yYWdlJ3Mga2V5KCkgbWV0aG9kLCBleGNlcHQgdGFrZXMgYSBjYWxsYmFjay5cbmZ1bmN0aW9uIGtleSQyKG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmtleShuKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHByZWZpeCBmcm9tIHRoZSBrZXksIGlmIGEga2V5IGlzIGZvdW5kLlxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyaW5nKGRiSW5mby5rZXlQcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBrZXlzJDIoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2Uua2V5KGkpLmluZGV4T2YoZGJJbmZvLmtleVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2gobG9jYWxTdG9yYWdlLmtleShpKS5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gU3VwcGx5IHRoZSBudW1iZXIgb2Yga2V5cyBpbiB0aGUgZGF0YXN0b3JlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbmZ1bmN0aW9uIGxlbmd0aCQyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5rZXlzKCkudGhlbihmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4ga2V5cy5sZW5ndGg7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBSZW1vdmUgYW4gaXRlbSBmcm9tIHRoZSBzdG9yZSwgbmljZSBhbmQgc2ltcGxlLlxuZnVuY3Rpb24gcmVtb3ZlSXRlbSQyKGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcbiAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGRiSW5mby5rZXlQcmVmaXggKyBrZXkpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gU2V0IGEga2V5J3MgdmFsdWUgYW5kIHJ1biBhbiBvcHRpb25hbCBjYWxsYmFjayBvbmNlIHRoZSB2YWx1ZSBpcyBzZXQuXG4vLyBVbmxpa2UgR2FpYSdzIGltcGxlbWVudGF0aW9uLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSB2YWx1ZSxcbi8vIGluIGNhc2UgeW91IHdhbnQgdG8gb3BlcmF0ZSBvbiB0aGF0IHZhbHVlIG9ubHkgYWZ0ZXIgeW91J3JlIHN1cmUgaXRcbi8vIHNhdmVkLCBvciBzb21ldGhpbmcgbGlrZSB0aGF0LlxuZnVuY3Rpb24gc2V0SXRlbSQyKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBDb252ZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgdG8gbnVsbC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvcHVsbC80MlxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgb3JpZ2luYWwgdmFsdWUgdG8gcGFzcyB0byB0aGUgY2FsbGJhY2suXG4gICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkYkluZm8ua2V5UHJlZml4ICsga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9yaWdpbmFsVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2UgY2FwYWNpdHkgZXhjZWVkZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYSBzcGVjaWZpYyBlcnJvci9ldmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8IGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBsb2NhbFN0b3JhZ2VXcmFwcGVyID0ge1xuICAgIF9kcml2ZXI6ICdsb2NhbFN0b3JhZ2VXcmFwcGVyJyxcbiAgICBfaW5pdFN0b3JhZ2U6IF9pbml0U3RvcmFnZSQyLFxuICAgIC8vIERlZmF1bHQgQVBJLCBmcm9tIEdhaWEvbG9jYWxTdG9yYWdlLlxuICAgIGl0ZXJhdGU6IGl0ZXJhdGUkMixcbiAgICBnZXRJdGVtOiBnZXRJdGVtJDIsXG4gICAgc2V0SXRlbTogc2V0SXRlbSQyLFxuICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0kMixcbiAgICBjbGVhcjogY2xlYXIkMixcbiAgICBsZW5ndGg6IGxlbmd0aCQyLFxuICAgIGtleToga2V5JDIsXG4gICAga2V5czoga2V5cyQyXG59O1xuXG5mdW5jdGlvbiBleGVjdXRlVHdvQ2FsbGJhY2tzKHByb21pc2UsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm9taXNlLnRoZW4oY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXJyb3JDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm9taXNlW1wiY2F0Y2hcIl0oZXJyb3JDYWxsYmFjayk7XG4gICAgfVxufVxuXG4vLyBDdXN0b20gZHJpdmVycyBhcmUgc3RvcmVkIGhlcmUgd2hlbiBgZGVmaW5lRHJpdmVyKClgIGlzIGNhbGxlZC5cbi8vIFRoZXkgYXJlIHNoYXJlZCBhY3Jvc3MgYWxsIGluc3RhbmNlcyBvZiBsb2NhbEZvcmFnZS5cbnZhciBDdXN0b21Ecml2ZXJzID0ge307XG5cbnZhciBEcml2ZXJUeXBlID0ge1xuICAgIElOREVYRUREQjogJ2FzeW5jU3RvcmFnZScsXG4gICAgTE9DQUxTVE9SQUdFOiAnbG9jYWxTdG9yYWdlV3JhcHBlcicsXG4gICAgV0VCU1FMOiAnd2ViU1FMU3RvcmFnZSdcbn07XG5cbnZhciBEZWZhdWx0RHJpdmVyT3JkZXIgPSBbRHJpdmVyVHlwZS5JTkRFWEVEREIsIERyaXZlclR5cGUuV0VCU1FMLCBEcml2ZXJUeXBlLkxPQ0FMU1RPUkFHRV07XG5cbnZhciBMaWJyYXJ5TWV0aG9kcyA9IFsnY2xlYXInLCAnZ2V0SXRlbScsICdpdGVyYXRlJywgJ2tleScsICdrZXlzJywgJ2xlbmd0aCcsICdyZW1vdmVJdGVtJywgJ3NldEl0ZW0nXTtcblxudmFyIERlZmF1bHRDb25maWcgPSB7XG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGRyaXZlcjogRGVmYXVsdERyaXZlck9yZGVyLnNsaWNlKCksXG4gICAgbmFtZTogJ2xvY2FsZm9yYWdlJyxcbiAgICAvLyBEZWZhdWx0IERCIHNpemUgaXMgX0pVU1QgVU5ERVJfIDVNQiwgYXMgaXQncyB0aGUgaGlnaGVzdCBzaXplXG4gICAgLy8gd2UgY2FuIHVzZSB3aXRob3V0IGEgcHJvbXB0LlxuICAgIHNpemU6IDQ5ODA3MzYsXG4gICAgc3RvcmVOYW1lOiAna2V5dmFsdWVwYWlycycsXG4gICAgdmVyc2lvbjogMS4wXG59O1xuXG52YXIgZHJpdmVyU3VwcG9ydCA9IHt9O1xuLy8gQ2hlY2sgdG8gc2VlIGlmIEluZGV4ZWREQiBpcyBhdmFpbGFibGUgYW5kIGlmIGl0IGlzIHRoZSBsYXRlc3Rcbi8vIGltcGxlbWVudGF0aW9uOyBpdCdzIG91ciBwcmVmZXJyZWQgYmFja2VuZCBsaWJyYXJ5LiBXZSB1c2UgXCJfc3BlY190ZXN0XCJcbi8vIGFzIHRoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSBiZWNhdXNlIGl0J3Mgbm90IHRoZSBvbmUgd2UnbGwgb3BlcmF0ZSBvbixcbi8vIGJ1dCBpdCdzIHVzZWZ1bCB0byBtYWtlIHN1cmUgaXRzIHVzaW5nIHRoZSByaWdodCBzcGVjLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTI4XG5kcml2ZXJTdXBwb3J0W0RyaXZlclR5cGUuSU5ERVhFRERCXSA9IGlzSW5kZXhlZERCVmFsaWQoKTtcblxuZHJpdmVyU3VwcG9ydFtEcml2ZXJUeXBlLldFQlNRTF0gPSBpc1dlYlNRTFZhbGlkKCk7XG5cbmRyaXZlclN1cHBvcnRbRHJpdmVyVHlwZS5MT0NBTFNUT1JBR0VdID0gaXNMb2NhbFN0b3JhZ2VWYWxpZCgpO1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbmZ1bmN0aW9uIGNhbGxXaGVuUmVhZHkobG9jYWxGb3JhZ2VJbnN0YW5jZSwgbGlicmFyeU1ldGhvZCkge1xuICAgIGxvY2FsRm9yYWdlSW5zdGFuY2VbbGlicmFyeU1ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIGxvY2FsRm9yYWdlSW5zdGFuY2UucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbEZvcmFnZUluc3RhbmNlW2xpYnJhcnlNZXRob2RdLmFwcGx5KGxvY2FsRm9yYWdlSW5zdGFuY2UsIF9hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZykge1xuICAgICAgICAgICAgICAgIGlmIChhcmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmdba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV0uc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xufVxuXG5mdW5jdGlvbiBpc0xpYnJhcnlEcml2ZXIoZHJpdmVyTmFtZSkge1xuICAgIGZvciAodmFyIGRyaXZlciBpbiBEcml2ZXJUeXBlKSB7XG4gICAgICAgIGlmIChEcml2ZXJUeXBlLmhhc093blByb3BlcnR5KGRyaXZlcikgJiYgRHJpdmVyVHlwZVtkcml2ZXJdID09PSBkcml2ZXJOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIExvY2FsRm9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsRm9yYWdlKG9wdGlvbnMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsRm9yYWdlKTtcblxuICAgICAgICB0aGlzLklOREVYRUREQiA9IERyaXZlclR5cGUuSU5ERVhFRERCO1xuICAgICAgICB0aGlzLkxPQ0FMU1RPUkFHRSA9IERyaXZlclR5cGUuTE9DQUxTVE9SQUdFO1xuICAgICAgICB0aGlzLldFQlNRTCA9IERyaXZlclR5cGUuV0VCU1FMO1xuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRDb25maWcgPSBleHRlbmQoe30sIERlZmF1bHRDb25maWcpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBleHRlbmQoe30sIHRoaXMuX2RlZmF1bHRDb25maWcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9kcml2ZXJTZXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbml0RHJpdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGJJbmZvID0gbnVsbDtcblxuICAgICAgICB0aGlzLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcbiAgICAgICAgdGhpcy5zZXREcml2ZXIodGhpcy5fY29uZmlnLmRyaXZlcik7XG4gICAgfVxuXG4gICAgLy8gU2V0IGFueSBjb25maWcgdmFsdWVzIGZvciBsb2NhbEZvcmFnZTsgY2FuIGJlIGNhbGxlZCBhbnl0aW1lIGJlZm9yZVxuICAgIC8vIHRoZSBmaXJzdCBBUEkgY2FsbCAoZS5nLiBgZ2V0SXRlbWAsIGBzZXRJdGVtYCkuXG4gICAgLy8gV2UgbG9vcCB0aHJvdWdoIG9wdGlvbnMgc28gd2UgZG9uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGNvbmZpZ1xuICAgIC8vIHZhbHVlcy5cblxuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNvbmZpZyA9IGZ1bmN0aW9uIGNvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIC8vIElmIHRoZSBvcHRpb25zIGFyZ3VtZW50IGlzIGFuIG9iamVjdCwgd2UgdXNlIGl0IHRvIHNldCB2YWx1ZXMuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgcmV0dXJuIGVpdGhlciBhIHNwZWNpZmllZCBjb25maWcgdmFsdWUgb3IgYWxsXG4gICAgICAgIC8vIGNvbmZpZyB2YWx1ZXMuXG4gICAgICAgIGlmICgodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9wdGlvbnMpKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIElmIGxvY2FsZm9yYWdlIGlzIHJlYWR5IGFuZCBmdWxseSBpbml0aWFsaXplZCwgd2UgY2FuJ3Qgc2V0XG4gICAgICAgICAgICAvLyBhbnkgbmV3IGNvbmZpZ3VyYXRpb24gdmFsdWVzLiBJbnN0ZWFkLCB3ZSByZXR1cm4gYW4gZXJyb3IuXG4gICAgICAgICAgICBpZiAodGhpcy5fcmVhZHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiQ2FuJ3QgY2FsbCBjb25maWcoKSBhZnRlciBsb2NhbGZvcmFnZSBcIiArICdoYXMgYmVlbiB1c2VkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gJ3N0b3JlTmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IG9wdGlvbnNbaV0ucmVwbGFjZSgvXFxXL2csICdfJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWZ0ZXIgYWxsIGNvbmZpZyBvcHRpb25zIGFyZSBzZXQgYW5kXG4gICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG9wdGlvbiBpcyB1c2VkLCB0cnkgc2V0dGluZyBpdFxuICAgICAgICAgICAgaWYgKCdkcml2ZXInIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5kcml2ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERyaXZlcih0aGlzLl9jb25maWcuZHJpdmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnW29wdGlvbnNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBVc2VkIHRvIGRlZmluZSBhIGN1c3RvbSBkcml2ZXIsIHNoYXJlZCBhY3Jvc3MgYWxsIGluc3RhbmNlcyBvZlxuICAgIC8vIGxvY2FsRm9yYWdlLlxuXG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuZGVmaW5lRHJpdmVyID0gZnVuY3Rpb24gZGVmaW5lRHJpdmVyKGRyaXZlck9iamVjdCwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBkcml2ZXJPYmplY3QuX2RyaXZlcjtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGxpYW5jZUVycm9yID0gbmV3IEVycm9yKCdDdXN0b20gZHJpdmVyIG5vdCBjb21wbGlhbnQ7IHNlZSAnICsgJ2h0dHBzOi8vbW96aWxsYS5naXRodWIuaW8vbG9jYWxGb3JhZ2UvI2RlZmluZWRyaXZlcicpO1xuICAgICAgICAgICAgICAgIHZhciBuYW1pbmdFcnJvciA9IG5ldyBFcnJvcignQ3VzdG9tIGRyaXZlciBuYW1lIGFscmVhZHkgaW4gdXNlOiAnICsgZHJpdmVyT2JqZWN0Ll9kcml2ZXIpO1xuXG4gICAgICAgICAgICAgICAgLy8gQSBkcml2ZXIgbmFtZSBzaG91bGQgYmUgZGVmaW5lZCBhbmQgbm90IG92ZXJsYXAgd2l0aCB0aGVcbiAgICAgICAgICAgICAgICAvLyBsaWJyYXJ5LWRlZmluZWQsIGRlZmF1bHQgZHJpdmVycy5cbiAgICAgICAgICAgICAgICBpZiAoIWRyaXZlck9iamVjdC5fZHJpdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChjb21wbGlhbmNlRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0xpYnJhcnlEcml2ZXIoZHJpdmVyT2JqZWN0Ll9kcml2ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuYW1pbmdFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VzdG9tRHJpdmVyTWV0aG9kcyA9IExpYnJhcnlNZXRob2RzLmNvbmNhdCgnX2luaXRTdG9yYWdlJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXN0b21Ecml2ZXJNZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21Ecml2ZXJNZXRob2QgPSBjdXN0b21Ecml2ZXJNZXRob2RzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1c3RvbURyaXZlck1ldGhvZCB8fCAhZHJpdmVyT2JqZWN0W2N1c3RvbURyaXZlck1ldGhvZF0gfHwgdHlwZW9mIGRyaXZlck9iamVjdFtjdXN0b21Ecml2ZXJNZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoY29tcGxpYW5jZUVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzdXBwb3J0UHJvbWlzZSA9IFByb21pc2UkMS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICgnX3N1cHBvcnQnIGluIGRyaXZlck9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHJpdmVyT2JqZWN0Ll9zdXBwb3J0ICYmIHR5cGVvZiBkcml2ZXJPYmplY3QuX3N1cHBvcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRQcm9taXNlID0gZHJpdmVyT2JqZWN0Ll9zdXBwb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0UHJvbWlzZSA9IFByb21pc2UkMS5yZXNvbHZlKCEhZHJpdmVyT2JqZWN0Ll9zdXBwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN1cHBvcnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN1cHBvcnRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJpdmVyU3VwcG9ydFtkcml2ZXJOYW1lXSA9IHN1cHBvcnRSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIEN1c3RvbURyaXZlcnNbZHJpdmVyTmFtZV0gPSBkcml2ZXJPYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyhwcm9taXNlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuZHJpdmVyID0gZnVuY3Rpb24gZHJpdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJpdmVyIHx8IG51bGw7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXREcml2ZXIgPSBmdW5jdGlvbiBnZXREcml2ZXIoZHJpdmVyTmFtZSwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2V0RHJpdmVyUHJvbWlzZSA9IFByb21pc2UkMS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaXNMaWJyYXJ5RHJpdmVyKGRyaXZlck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkcml2ZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2Ugc2VsZi5JTkRFWEVEREI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXN5bmNTdG9yYWdlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIHNlbGYuTE9DQUxTVE9SQUdFOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZVdyYXBwZXI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2Ugc2VsZi5XRUJTUUw6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2ViU1FMU3RvcmFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEN1c3RvbURyaXZlcnNbZHJpdmVyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ3VzdG9tRHJpdmVyc1tkcml2ZXJOYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEcml2ZXIgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyhnZXREcml2ZXJQcm9taXNlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBnZXREcml2ZXJQcm9taXNlO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuZ2V0U2VyaWFsaXplciA9IGZ1bmN0aW9uIGdldFNlcmlhbGl6ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZXJQcm9taXNlID0gUHJvbWlzZSQxLnJlc29sdmUobG9jYWxmb3JhZ2VTZXJpYWxpemVyKTtcbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyhzZXJpYWxpemVyUHJvbWlzZSwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplclByb21pc2U7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5yZWFkeSA9IGZ1bmN0aW9uIHJlYWR5KGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYuX2RyaXZlclNldC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl9yZWFkeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX3JlYWR5ID0gc2VsZi5faW5pdERyaXZlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fcmVhZHk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4ZWN1dGVUd29DYWxsYmFja3MocHJvbWlzZSwgY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5zZXREcml2ZXIgPSBmdW5jdGlvbiBzZXREcml2ZXIoZHJpdmVycywgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmICghaXNBcnJheShkcml2ZXJzKSkge1xuICAgICAgICAgICAgZHJpdmVycyA9IFtkcml2ZXJzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdXBwb3J0ZWREcml2ZXJzID0gdGhpcy5fZ2V0U3VwcG9ydGVkRHJpdmVycyhkcml2ZXJzKTtcblxuICAgICAgICBmdW5jdGlvbiBzZXREcml2ZXJUb0NvbmZpZygpIHtcbiAgICAgICAgICAgIHNlbGYuX2NvbmZpZy5kcml2ZXIgPSBzZWxmLmRyaXZlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RHJpdmVySW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZHJpdmVyUHJvbWlzZUxvb3AoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50RHJpdmVySW5kZXggPCBzdXBwb3J0ZWREcml2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBzdXBwb3J0ZWREcml2ZXJzW2N1cnJlbnREcml2ZXJJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RHJpdmVySW5kZXgrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlYWR5ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0RHJpdmVyKGRyaXZlck5hbWUpLnRoZW4oZnVuY3Rpb24gKGRyaXZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2V4dGVuZChkcml2ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWFkeSA9IHNlbGYuX2luaXRTdG9yYWdlKHNlbGYuX2NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3JlYWR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShkcml2ZXJQcm9taXNlTG9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ05vIGF2YWlsYWJsZSBzdG9yYWdlIG1ldGhvZCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZHJpdmVyU2V0ID0gUHJvbWlzZSQxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9kcml2ZXJTZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyaXZlclByb21pc2VMb29wKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgYSBkcml2ZXIgaW5pdGlhbGl6YXRpb24gaW4gcHJvZ3Jlc3NcbiAgICAgICAgLy8gc28gd2FpdCBmb3IgaXQgdG8gZmluaXNoIGluIG9yZGVyIHRvIGF2b2lkIGEgcG9zc2libGVcbiAgICAgICAgLy8gcmFjZSBjb25kaXRpb24gdG8gc2V0IF9kYkluZm9cbiAgICAgICAgdmFyIG9sZERyaXZlclNldERvbmUgPSB0aGlzLl9kcml2ZXJTZXQgIT09IG51bGwgPyB0aGlzLl9kcml2ZXJTZXRbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZSQxLnJlc29sdmUoKTtcbiAgICAgICAgfSkgOiBQcm9taXNlJDEucmVzb2x2ZSgpO1xuXG4gICAgICAgIHRoaXMuX2RyaXZlclNldCA9IG9sZERyaXZlclNldERvbmUudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IHN1cHBvcnRlZERyaXZlcnNbMF07XG4gICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBudWxsO1xuICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBudWxsO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5nZXREcml2ZXIoZHJpdmVyTmFtZSkudGhlbihmdW5jdGlvbiAoZHJpdmVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZHJpdmVyID0gZHJpdmVyLl9kcml2ZXI7XG4gICAgICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9pbml0RHJpdmVyID0gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ05vIGF2YWlsYWJsZSBzdG9yYWdlIG1ldGhvZCBmb3VuZC4nKTtcbiAgICAgICAgICAgIHNlbGYuX2RyaXZlclNldCA9IFByb21pc2UkMS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2RyaXZlclNldDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyh0aGlzLl9kcml2ZXJTZXQsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RyaXZlclNldDtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gc3VwcG9ydHMoZHJpdmVyTmFtZSkge1xuICAgICAgICByZXR1cm4gISFkcml2ZXJTdXBwb3J0W2RyaXZlck5hbWVdO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuX2V4dGVuZCA9IGZ1bmN0aW9uIF9leHRlbmQobGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGV4dGVuZCh0aGlzLCBsaWJyYXJ5TWV0aG9kc0FuZFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuX2dldFN1cHBvcnRlZERyaXZlcnMgPSBmdW5jdGlvbiBfZ2V0U3VwcG9ydGVkRHJpdmVycyhkcml2ZXJzKSB7XG4gICAgICAgIHZhciBzdXBwb3J0ZWREcml2ZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkcml2ZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlcnNbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5zdXBwb3J0cyhkcml2ZXJOYW1lKSkge1xuICAgICAgICAgICAgICAgIHN1cHBvcnRlZERyaXZlcnMucHVzaChkcml2ZXJOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwcG9ydGVkRHJpdmVycztcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkgPSBmdW5jdGlvbiBfd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5KCkge1xuICAgICAgICAvLyBBZGQgYSBzdHViIGZvciBlYWNoIGRyaXZlciBBUEkgbWV0aG9kIHRoYXQgZGVsYXlzIHRoZSBjYWxsIHRvIHRoZVxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRyaXZlciBtZXRob2QgdW50aWwgbG9jYWxGb3JhZ2UgaXMgcmVhZHkuIFRoZXNlIHN0dWJzXG4gICAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGRyaXZlciBtZXRob2RzIGFzIHNvb24gYXMgdGhlIGRyaXZlciBpc1xuICAgICAgICAvLyBsb2FkZWQsIHNvIHRoZXJlIGlzIG5vIHBlcmZvcm1hbmNlIGltcGFjdC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMaWJyYXJ5TWV0aG9kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2FsbFdoZW5SZWFkeSh0aGlzLCBMaWJyYXJ5TWV0aG9kc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2Uob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IExvY2FsRm9yYWdlKG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTG9jYWxGb3JhZ2U7XG59KCk7XG5cbi8vIFRoZSBhY3R1YWwgbG9jYWxGb3JhZ2Ugb2JqZWN0IHRoYXQgd2UgZXhwb3NlIGFzIGEgbW9kdWxlIG9yIHZpYSBhXG4vLyBnbG9iYWwuIEl0J3MgZXh0ZW5kZWQgYnkgcHVsbGluZyBpbiBvbmUgb2Ygb3VyIG90aGVyIGxpYnJhcmllcy5cblxuXG52YXIgbG9jYWxmb3JhZ2VfanMgPSBuZXcgTG9jYWxGb3JhZ2UoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2NhbGZvcmFnZV9qcztcblxufSx7XCIzXCI6M31dfSx7fSxbNF0pKDQpXG59KTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbmctZmlsZS1tb2RlbCcsIFtdKVxuICAgIC5kaXJlY3RpdmUoXCJuZ0ZpbGVNb2RlbFwiLCBbZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBuZ0ZpbGVNb2RlbDogXCI9XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGxvYWRFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5uZ0ZpbGVNb2RlbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0ubGFzdE1vZGlmaWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWREYXRlOiBjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0ubGFzdE1vZGlmaWVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY2hhbmdlRXZlbnQudGFyZ2V0LmZpbGVzWzBdLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXS5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbG9hZEV2ZW50LnRhcmdldC5yZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoY2hhbmdlRXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcbiAgICBpZiggdHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgZXhwb3J0c1snZGVmYXVsdCddID0gYW5ndWxhci5tb2R1bGUoJ25nLWZpbGUtbW9kZWwnKTtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuICAgIH1cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
